[{"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3838", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3838/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3838/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3838/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3838", "id": 1688368382, "node_id": "I_kwDOE8kGxM5konT-", "number": 3838, "title": "Issues starting xpra on first try", "user": {"login": "iDmple", "id": 5065505, "node_id": "MDQ6VXNlcjUwNjU1MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5065505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iDmple", "html_url": "https://github.com/iDmple", "followers_url": "https://api.github.com/users/iDmple/followers", "following_url": "https://api.github.com/users/iDmple/following{/other_user}", "gists_url": "https://api.github.com/users/iDmple/gists{/gist_id}", "starred_url": "https://api.github.com/users/iDmple/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iDmple/subscriptions", "organizations_url": "https://api.github.com/users/iDmple/orgs", "repos_url": "https://api.github.com/users/iDmple/repos", "events_url": "https://api.github.com/users/iDmple/events{/privacy}", "received_events_url": "https://api.github.com/users/iDmple/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-28T11:10:00Z", "updated_at": "2023-04-28T13:45:36Z", "closed_at": "2023-04-28T13:45:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm on the latest commits of the master branch and built the .deb on Ubuntu-20.04.\r\n\r\nWhen I start xpra for the first time, I get this error:\r\n```\r\nroot@800720d85bbe:/home/xpra# su xpra                                                                                              \r\nxpra@800720d85bbe:~$ xpra start :80 --bind-tcp=0.0.0.0:8080 --html=on --no-daemon                                                  \r\n2023-04-28 11:03:42,754 Warning: cannot enable SSH socket upgrades                                                                 \r\n2023-04-28 11:03:42,755  No module named 'paramiko'                                                                                \r\n2023-04-28 11:03:42,755 created tcp socket '0.0.0.0:8080'                                                                          \r\nSocket path '/tmp/.X11-unix/X80' not found                                                                                         \r\n2023-04-28 11:03:42,758 no uinput module (not usually needed)                                                                      \r\nxpra main error:                                                                                                                   \r\nTraceback (most recent call last):                                                                                                 \r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 155, in main                                                    \r\n    return run_mode(script_file, cmdline, err, options, args, mode, defaults)                                                      \r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 463, in run_mode                                                \r\n    return do_run_mode(script_file, cmdline, error_cb, options, args, mode, defaults)                                              \r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 498, in do_run_mode                                             \r\n    return run_server(script_file, cmdline, error_cb, options, args, mode, defaults)                                               \r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 1884, in run_server                                             \r\n    return do_run_server(script_file, cmdline, error_cb, options, args, mode, display, defaults)                                   \r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/server.py\", line 714, in do_run_server                                         \r\n    return _do_run_server(script_file, cmdline,                                                                                    \r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/server.py\", line 1195, in _do_run_server                                       \r\n    xauth_add(xauthority, display_name, xauth_data, uid, gid)                                                                      \r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/vfb_util.py\", line 436, in xauth_add                                               \r\n    code = call(xauth_cmd, preexec_fn=preexec)                                                                                     \r\n  File \"/usr/lib/python3.8/subprocess.py\", line 340, in call                                                                       \r\n    with Popen(*popenargs, **kwargs) as p:                                                                                         \r\n  File \"/usr/lib/python3.8/subprocess.py\", line 858, in __init__                                                                   \r\n    self._execute_child(args, executable, preexec_fn, close_fds,                                                                   \r\n  File \"/usr/lib/python3.8/subprocess.py\", line 1639, in _execute_child                                                            \r\n    self.pid = _posixsubprocess.fork_exec(                                                                                         \r\nTypeError: expected str, bytes or os.PathLike object, not NoneType  \r\n```\r\n\r\nOn the second try, it goes as normal, however I get an issue with Gstreamer. I would appreciate a hint on how to fix this:\r\n```\r\nxpra@800720d85bbe:~$ xpra start :80 --bind-tcp=0.0.0.0:8080 --html=on --no-daemon                                                  \r\n2023-04-28 11:03:45,214 Warning: cannot enable SSH socket upgrades                                                                 \r\n2023-04-28 11:03:45,214  No module named 'paramiko'                                                                                \r\n2023-04-28 11:03:45,215 created tcp socket '0.0.0.0:8080'                                                                          \r\n(EE) Failed to open authorization file \"$XAUTHORITY\": No such file or directory                                                    \r\n2023-04-28 11:03:45,313 no uinput module (not usually needed)                                                                      \r\n2023-04-28 11:03:45,626 pointer device emulation using XTest                                                                       \r\n2023-04-28 11:03:45,697 serving html content from '/usr/share/xpra/www'                                                            \r\n2023-04-28 11:03:45,698 wrote pid 55 to '/run/user/1000/xpra/80/server.pid'                                                        \r\n2023-04-28 11:03:45,723 created unix domain socket '/run/user/1000/xpra/800720d85bbe-80'                                           \r\n2023-04-28 11:03:45,724 created unix domain socket '/run/user/1000/xpra/80/socket'                                                 \r\n2023-04-28 11:03:45,724 xvfb pid not found                                                                                         \r\n2023-04-28 11:03:45,752 pulseaudio server started with pid 64                                                                      \r\n2023-04-28 11:03:45,753  private server socket path:                                                                               \r\n2023-04-28 11:03:45,753  '/run/user/1000/xpra/80/pulse/pulse/native'                                                               \r\nW: [pulseaudio] authkey.c: Failed to open cookie file '/home/xpra/.config/pulse/cookie': No such file or directory                 \r\nW: [pulseaudio] authkey.c: Failed to load authentication key '/home/xpra/.config/pulse/cookie': No such file or directory          \r\nW: [pulseaudio] authkey.c: Failed to open cookie file '/home/xpra/.pulse-cookie': No such file or directory                        \r\nW: [pulseaudio] authkey.c: Failed to load authentication key '/home/xpra/.pulse-cookie': No such file or directory                 \r\n2023-04-28 11:03:45,864 watching for applications menu changes in:\r\n2023-04-28 11:03:45,864  '/usr/share/applications'\r\n2023-04-28 11:03:46,248 xpra is ready.\r\n2023-04-28 11:03:46,250 xpra X11 seamless server version 5.0-r1238M\r\n2023-04-28 11:03:46,252  uid=1000 (xpra), gid=121 (xpra)\r\n2023-04-28 11:03:46,252  running with pid 55 on Linux Ubuntu 20.04 focal\r\n2023-04-28 11:03:46,253  connected to X11 display :80 with 24 bit colors\r\n2023-04-28 11:03:46,255 some GStreamer elements are missing or unavailable on this system:\r\n2023-04-28 11:03:46,255  vaapih264enc, vaapih265enc, x264enc, av1enc\r\n2023-04-28 11:03:46,328 GStreamer version 1.16.3\r\n2023-04-28 11:03:46,391 Error setting up the pipeline:\r\n2023-04-28 11:03:46,391  gst_parse_error: no property \"leaky-type\" in element \"src\" (2)\r\n2023-04-28 11:03:46,391  GStreamer pipeline for:\r\n2023-04-28 11:03:46,391   appsrc name=src emit-signals=0 leaky-type=0 do-timestamp=1 block=0 is-live=1 stream-type=0 format=4 caps=\r\nvideo/x-raw,width=128,height=128,format=(string)I420,framerate=60/1,interlace=(string)progressive,colorimetry=(string)bt709 ! \\\r\n2023-04-28 11:03:46,392   vp8enc deadline=1 error-resilient=0 name=encoder ! \\\r\n2023-04-28 11:03:46,392   video/x-vp8,alignment=(string)au,stream-format=(string)byte-stream ! \\\r\n2023-04-28 11:03:46,392   appsink name=sink emit-signals=true max-buffers=10 drop=false sync=false async=false qos=true\r\n2023-04-28 11:03:46,392 Warning: gstreamer 'vp8enc' encoder failed\r\n2023-04-28 11:03:46,393  failed to setup gstreamer pipeline\r\n2023-04-28 11:03:46,393 Error setting up the pipeline:\r\n2023-04-28 11:03:46,394  gst_parse_error: no property \"leaky-type\" in element \"src\" (2)\r\n2023-04-28 11:03:46,394  GStreamer pipeline for:\r\n2023-04-28 11:03:46,394   appsrc name=src emit-signals=0 leaky-type=0 do-timestamp=1 block=0 is-live=1 stream-type=0 format=4 caps=\r\nvideo/x-raw,width=128,height=128,format=(string)Y444,framerate=60/1,interlace=(string)progressive,colorimetry=(string)bt709 ! \\\r\n2023-04-28 11:03:46,395   vp9enc deadline=1 error-resilient=0 lag-in-frames=0 cpu-used=16 name=encoder ! \\\r\n2023-04-28 11:03:46,395   video/x-vp9,alignment=(string)au,stream-format=(string)byte-stream ! \\\r\n2023-04-28 11:03:46,395   appsink name=sink emit-signals=true max-buffers=10 drop=false sync=false async=false qos=true\r\n2023-04-28 11:03:46,395 Warning: gstreamer 'vp9enc' encoder failed\r\n2023-04-28 11:03:46,395  failed to setup gstreamer pipeline\r\n2023-04-28 11:03:46,403 15.6GB of system memory\r\n2023-04-28 11:03:47,224 OpenGL is supported on display ':80'\r\n2023-04-28 11:03:47,224  using 'llvmpipe (LLVM 12.0.0, 256 bits)' renderer\r\n2023-04-28 11:03:47,237 started command `ibus-daemon` with pid 131\r\n2023-04-28 11:03:47,500 loaded 20 start menu entries from 4 sub-menus in 1.5 seconds\r\n```\r\n\r\nWhen I was previously building xpra from commit e8b97243e58ba0f6d03074e1d0bdc9c2d0fc9f9b I did not have these issues.\r\n\r\nThanks for your help on these two problems.\r\n\r\nEdit: for comparison log of the previously working version (this one has auth, I deactivated that above for clarity but I have the same issues with it on, and a pulseaudio server is also running):\r\n```\r\n2023-04-27 12:19:24,676 Warning: cannot enable SSH socket upgrades\r\n2023-04-27 12:19:24,676  No module named 'paramiko'\r\n2023-04-27 12:19:24,677 created tcp socket '0.0.0.0:8080'\r\n2023-04-27 12:19:24,682 no uinput module (not usually needed)\r\n2023-04-27 12:19:26,294 debug enabled for xpra.server.auth.auth_helper / ('auth',)\r\n2023-04-27 12:19:26,295 debug enabled for xpra.server.server_core / ('auth',)\r\n2023-04-27 12:19:26,315 debug enabled for xpra.server.server_base / ('auth',)\r\n2023-04-27 12:19:26,324 pointer device emulation using XTest\r\n2023-04-27 12:19:26,409 serving html content from '/usr/share/xpra/www'\r\n2023-04-27 12:19:26,409 get_auth_modules(tcp, [], ..)\r\n2023-04-27 12:19:26,409 get_auth_modules(ws, [], ..)\r\n2023-04-27 12:19:26,409 get_auth_modules(wss, [], ..)\r\n2023-04-27 12:19:26,409 get_auth_modules(ssl, [], ..)\r\n2023-04-27 12:19:26,409 get_auth_modules(ssh, [], ..)\r\n2023-04-27 12:19:26,409 get_auth_modules(rfb, [], ..)\r\n2023-04-27 12:19:26,409 get_auth_modules(vsock, [], ..)\r\n2023-04-27 12:19:26,409 get_auth_modules(socket, [], ..)\r\n2023-04-27 12:19:26,409 get_auth_modules(named-pipe, [], ..)\r\n2023-04-27 12:19:26,409 get_auth_modules(quic, [], ..)\r\n2023-04-27 12:19:26,410 init_auth(..) auth={'tcp': None, 'ws': None, 'wss': None, 'ssl': None, 'ssh': None, 'rfb': None, 'vsock': None, 'socket': None, 'named-pipe': None, 'quic': None}\r\n2023-04-27 12:19:26,410 wrote pid 29 to '/run/user/1000/xpra/80/server.pid'\r\n2023-04-27 12:19:26,437 created unix domain socket '/run/user/1000/xpra/1ac005b76a93-80'\r\n2023-04-27 12:19:26,438 created unix domain socket '/run/user/1000/xpra/80/socket'\r\n2023-04-27 12:19:26,438 xvfb pid=33\r\n2023-04-27 12:19:26,473 pulseaudio server started with pid 54\r\n2023-04-27 12:19:26,474  private server socket path:\r\n2023-04-27 12:19:26,474  '/run/user/1000/xpra/80/pulse/pulse/native'\r\n2023-04-27 12:19:26,932 waiting for initialization thread to complete\r\n2023-04-27 12:19:26,934 xpra is ready.\r\n2023-04-27 12:19:26,940 xpra X11 seamless server version 5.0-r2244\r\n2023-04-27 12:19:26,984 watching for applications menu changes in:\r\n2023-04-27 12:19:26,984  '/usr/share/applications'\r\n2023-04-27 12:19:26,990 started command `xhost +` with pid 71\r\n2023-04-27 12:19:26,991 62.8GB of system memory\r\naccess control disabled, clients can connect from any host\r\n2023-04-27 12:19:27,107  uid=1000 (xpra), gid=121 (xpra)\r\n2023-04-27 12:19:27,107  running with pid 29 on Linux Ubuntu 20.04 focal\r\n2023-04-27 12:19:27,108  connected to X11 display :80 with 24 bit colors\r\n2023-04-27 12:19:27,235 GStreamer version 1.16.3\r\n2023-04-27 12:19:28,005 OpenGL is supported on display ':80'\r\n2023-04-27 12:19:28,005  using 'llvmpipe (LLVM 12.0.0, 256 bits)' renderer\r\n2023-04-27 12:19:28,029 started command `ibus-daemon` with pid 115\r\n2023-04-27 12:19:28,374 loaded 20 start menu entries from 4 sub-menus in 1.4 seconds\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3838/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3838/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3834", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3834/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3834/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3834/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3834", "id": 1680143035, "node_id": "I_kwDOE8kGxM5kJPK7", "number": 3834, "title": "Xpra unstable and/or crashing from Windows10 to Centos 7 and 8", "user": {"login": "robertosussex", "id": 37402138, "node_id": "MDQ6VXNlcjM3NDAyMTM4", "avatar_url": "https://avatars.githubusercontent.com/u/37402138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robertosussex", "html_url": "https://github.com/robertosussex", "followers_url": "https://api.github.com/users/robertosussex/followers", "following_url": "https://api.github.com/users/robertosussex/following{/other_user}", "gists_url": "https://api.github.com/users/robertosussex/gists{/gist_id}", "starred_url": "https://api.github.com/users/robertosussex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robertosussex/subscriptions", "organizations_url": "https://api.github.com/users/robertosussex/orgs", "repos_url": "https://api.github.com/users/robertosussex/repos", "events_url": "https://api.github.com/users/robertosussex/events{/privacy}", "received_events_url": "https://api.github.com/users/robertosussex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2023-04-23T19:37:42Z", "updated_at": "2023-04-27T11:20:26Z", "closed_at": "2023-04-27T11:20:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using Xpra from Windows 10 VM to connect/attach to a server started on a Centos VM (both Azure Virtual Machines)\r\nthe forwarded Xsession is unstable for instance:\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `xpra start --opengl=no --start=xterm`   (on Centos 7,8 VM)\r\n2. Xpra connect using ssh \r\n3. using the created xterm for instance writing on it etc\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: [e.g. Centos 8.7 ]\r\n - Client OS: [e.g. Windows 10]\r\n - Xpra Server Version [e.g. 4.4.3]\r\n - Xpra Client Version [e.g. 4.4.4]\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3834/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3834/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3833", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3833/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3833/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3833/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3833", "id": 1678430416, "node_id": "I_kwDOE8kGxM5kCtDQ", "number": 3833, "title": "[Solved] Getting \"Xpra server is not installed\"", "user": {"login": "midiwidi", "id": 54610151, "node_id": "MDQ6VXNlcjU0NjEwMTUx", "avatar_url": "https://avatars.githubusercontent.com/u/54610151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midiwidi", "html_url": "https://github.com/midiwidi", "followers_url": "https://api.github.com/users/midiwidi/followers", "following_url": "https://api.github.com/users/midiwidi/following{/other_user}", "gists_url": "https://api.github.com/users/midiwidi/gists{/gist_id}", "starred_url": "https://api.github.com/users/midiwidi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midiwidi/subscriptions", "organizations_url": "https://api.github.com/users/midiwidi/orgs", "repos_url": "https://api.github.com/users/midiwidi/repos", "events_url": "https://api.github.com/users/midiwidi/events{/privacy}", "received_events_url": "https://api.github.com/users/midiwidi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709857, "node_id": "MDU6TGFiZWwyNjc4NzA5ODU3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-21T12:17:42Z", "updated_at": "2023-04-21T12:49:28Z", "closed_at": "2023-04-21T12:25:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nRunning `xpra start --start-child=xterm --bind-tcp=0.0.0.0:10000` results in\r\n```\r\nxpra initialization error:\r\n Xpra server is not installed\r\n```\r\n\r\n**To Reproduce**\r\n1. Install Xpra as described at the very bottom of the Download page in the Wiki [here](https://github.com/Xpra-org/xpra/wiki/Download)\r\n```\r\nDISTRO=focal\r\n#install https support for apt (which may be installed already):\r\nsudo apt update\r\nsudo apt install apt-transport-https software-properties-common\r\nsudo apt install ca-certificates\r\n# add xpra GPG key:\r\nsudo wget -O \"/usr/share/keyrings/xpra.asc\" https://xpra.org/gpg.asc\r\n# add the xpra repository:\r\nsudo wget -O \"/etc/apt/sources.list.d/xpra.sources\" https://xpra.org/repos/$DISTRO/xpra.sources\r\n# add the optional beta channel:\r\n# wget -O \"/etc/apt/sources.list.d/xpra-beta.sources\" https://xpra.org/repos/$DISTRO/xpra-beta.sources\r\n# install the xpra package:\r\nsudo apt update\r\nsudo apt install xpra\r\n```\r\nor build DEB packages from scratch as described [here](https://github.com/Xpra-org/xpra/blob/master/docs/Build/Debian.md)\r\n\r\n2. Run `xpra start --start-child=xterm --bind-tcp=0.0.0.0:10000`\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 20.04.6 LTS (focal) running in VirtualBox 7.0 on a Windows 10 Host \r\n - Client OS: N/A\r\n - Xpra Server Version: \r\n```\r\n   $ xpra --version\r\n      xpra v5.0-r33131 (gd1c801062) beta\r\n```\r\n - Xpra Client Version: N/A\r\n - Other Server Software Versions which might be relevant:\r\n```\r\n    $ python --version\r\n    Python 3.11.3\r\n    $ pip --version\r\n    pip 23.1 from /home/midiwidi/.local/lib/python3.11/site-packages/pip (python 3.11)\r\n```\r\n\r\n**Additional context**\r\nMy goal is to access a python tkinter application remotely from other computers via the web browser. \r\nI tried both, installing Xpra from pre-compiled packages and also compiled it myself, but the result was the same. When I run `xpra start ...` I get an error that the Xpra server is not installed. I also tried to specifically install the server component using `sudo apt --no-install-recommends install xpra-server`, but this package is unknown.\r\nI'm not sure if that is connected or a totally different problem, but if I run `xpra list` or `xpra showconfig` it throws the exception\r\n```\r\nxpra main error:\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.11/dist-packages/xpra/scripts/main.py\", line 153, in main\r\n    return run_mode(script_file, cmdline, err, options, args, mode, defaults)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/local/lib/python3.11/dist-packages/xpra/scripts/main.py\", line 453, in run_mode\r\n    set_name(\"Xpra\", \"Xpra %s\" % mode.strip(\"_\"))\r\n  File \"/usr/local/lib/python3.11/dist-packages/xpra/platform/__init__.py\", line 83, in set_name\r\n    set_prgname(prgname or _prgname)\r\n  File \"/usr/local/lib/python3.11/dist-packages/xpra/platform/__init__.py\", line 90, in set_prgname\r\n    from gi.repository import GLib  # @UnresolvedImport\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3/dist-packages/gi/__init__.py\", line 42, in <module>\r\n    from . import _gi\r\nImportError: cannot import name '_gi' from partially initialized module 'gi' (most likely due to a circular import) (/usr/lib/python3/dist-packages/gi/__init__.py)\r\n```\r\n\r\nHow can I get the server running?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3833/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3833/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3832", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3832/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3832/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3832/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3832", "id": 1678354558, "node_id": "I_kwDOE8kGxM5kCah-", "number": 3832, "title": "Packet encoding error when xdg-menu contains None values", "user": {"login": "jacklovell", "id": 4849151, "node_id": "MDQ6VXNlcjQ4NDkxNTE=", "avatar_url": "https://avatars.githubusercontent.com/u/4849151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacklovell", "html_url": "https://github.com/jacklovell", "followers_url": "https://api.github.com/users/jacklovell/followers", "following_url": "https://api.github.com/users/jacklovell/following{/other_user}", "gists_url": "https://api.github.com/users/jacklovell/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacklovell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacklovell/subscriptions", "organizations_url": "https://api.github.com/users/jacklovell/orgs", "repos_url": "https://api.github.com/users/jacklovell/repos", "events_url": "https://api.github.com/users/jacklovell/events{/privacy}", "received_events_url": "https://api.github.com/users/jacklovell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-21T11:18:18Z", "updated_at": "2023-04-21T14:30:54Z", "closed_at": "2023-04-21T14:30:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nConnecting from the HTML client to an Xpra server running on a system with `None` entires in `xdg-menu` results in `ValueError: found None value` in the log and and a blank screen in the client browser. The server log indicates the client disconnected, but the browser doesn't reflect this and I have to select the Disconnect item in the menu.\r\n\r\nConnecting via the command line does not cause the same problem, via SSL or SSH.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command: `xpra start :10002 --bind-tcp=127.0.0.1:10002 --ssl=off --html=on --start=xterm`\r\n2. client command: Connect to http://localhost:10002 from a web browser (Firefox in my case)\r\n3. Attempt to connect to server.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Scientific Linux 7 (CentOS 7)\r\n - Client OS: Firefox 112 on same system (also observed on Ubuntu client)\r\n - Xpra Server Version: xpra v3.1.4-r3M\r\n - Xpra Client Version: xpra-html5 3.0.13 (also observed with xpra-html5\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n\r\nRelevant log output:\r\n```\r\n2023-04-21 12:07:28,823  client root window size is 1920x921 with 1 display:\r\n2023-04-21 12:07:28,824   HTML (508x244 mm - DPI: 96x95)\r\n2023-04-21 12:07:28,824     Canvas\r\n2023-04-21 12:07:29,337 server virtual display now set to 1920x921\r\nTraceback (most recent call last):\r\n  File \"xpra/net/bencode/cython_bencode.pyx\", line 194, in xpra.net.bencode.cython_bencode.bencode\r\n  File \"xpra/net/bencode/cython_bencode.pyx\", line 179, in xpra.net.bencode.cython_bencode.encode\r\n  File \"xpra/net/bencode/cython_bencode.pyx\", line 154, in xpra.net.bencode.cython_bencode.encode_list\r\n  File \"xpra/net/bencode/cython_bencode.pyx\", line 183, in xpra.net.bencode.cython_bencode.encode\r\n  File \"xpra/net/bencode/cython_bencode.pyx\", line 163, in xpra.net.bencode.cython_bencode.encode_dict\r\n  File \"xpra/net/bencode/cython_bencode.pyx\", line 183, in xpra.net.bencode.cython_bencode.encode\r\n  File \"xpra/net/bencode/cython_bencode.pyx\", line 163, in xpra.net.bencode.cython_bencode.encode_dict\r\n  File \"xpra/net/bencode/cython_bencode.pyx\", line 183, in xpra.net.bencode.cython_bencode.encode\r\n  File \"xpra/net/bencode/cython_bencode.pyx\", line 163, in xpra.net.bencode.cython_bencode.encode_dict\r\n  File \"xpra/net/bencode/cython_bencode.pyx\", line 187, in xpra.net.bencode.cython_bencode.encode\r\nValueError: found None value!\r\n2023-04-21 12:07:29,602 Error: failed to encode packet: ['setting-change', 'xdg-menu', {u'Development': {'Comment': '', 'Name': u'Development', 'GenericName': '', 'Entries': {u'OpenJDK Policy Tool x86_64-2.6.22.2.\r\nTraceback (most recent call last):\r\n  File \"/home/jlovell/Software/xpra-install/usr/lib64/python2.7/site-packages/xpra/net/protocol.py\", line 614, in encode\r\n    main_packet, proto_flags = self._encoder(packet)\r\n  File \"/home/jlovell/Software/xpra-install/usr/lib64/python2.7/site-packages/xpra/net/packet_encoding.py\", line 122, in do_bencode\r\n    return bencode(data), FLAGS_BENCODE\r\n  File \"xpra/net/bencode/cython_bencode.pyx\", line 199, in xpra.net.bencode.cython_bencode.bencode\r\nValueError: cannot encode '['setting-change', 'xdg-menu', {u'Development': {'Comment': '', 'Name': u'Development', 'GenericName': '', 'Entries': {u'OpenJDK Policy Tool x86_64-2.6.22.2.el7_8': {'MimeTypes': [], 'Ic\r\n2023-04-21 12:07:29,799 DPI set to 96 x 96\r\n2023-04-21 12:07:29,875 None value in 'setting-change' packet->[2]->value for key='Other'->value for key='Entries'->value for key=''\r\n2023-04-21 12:07:29,927 Error: error in network packet write/format\r\n2023-04-21 12:07:29,928  cannot encode '['setting-change', 'xdg-menu', {u'Development': {'Comment': '', 'Name': u'Development', 'GenericName': '', 'Entries': {u'OpenJDK Policy Tool x86_64-2.6.22.2.el7_8': {'MimeTy\r\nTraceback (most recent call last):\r\n  File \"/home/jlovell/Software/xpra-install/usr/lib64/python2.7/site-packages/xpra/net/protocol.py\", line 378, in _write_format_thread_loop\r\n    self._add_packet_to_queue(*gpc())\r\n  File \"/home/jlovell/Software/xpra-install/usr/lib64/python2.7/site-packages/xpra/net/protocol.py\", line 393, in _add_packet_to_queue\r\n    chunks = self.encode(packet)\r\n  File \"/home/jlovell/Software/xpra-install/usr/lib64/python2.7/site-packages/xpra/net/protocol.py\", line 614, in encode\r\n    main_packet, proto_flags = self._encoder(packet)\r\n  File \"/home/jlovell/Software/xpra-install/usr/lib64/python2.7/site-packages/xpra/net/packet_encoding.py\", line 122, in do_bencode\r\n    return bencode(data), FLAGS_BENCODE\r\n  File \"xpra/net/bencode/cython_bencode.pyx\", line 199, in xpra.net.bencode.cython_bencode.bencode\r\nValueError: cannot encode '['setting-change', 'xdg-menu', {u'Development': {'Comment': '', 'Name': u'Development', 'GenericName': '', 'Entries': {u'OpenJDK Policy Tool x86_64-2.6.22.2.el7_8': {'MimeTypes': [], 'Ic\r\n2023-04-21 12:07:29,983 xpra client 1 disconnected.\r\n```\r\nThe log has very long lines which I've truncated (it's 13 MB in full), but the key part appears to be that one of the entries in the `xdg-menu` dict is this:\r\n```\r\nu'Other':  {'Comment': '', 'Name': u'Other', 'GenericName': '', 'Entries': {'': None, ...\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3832/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3832/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3826", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3826/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3826/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3826/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3826", "id": 1671596959, "node_id": "I_kwDOE8kGxM5joouf", "number": 3826, "title": "Setting image encoding to PNG 8bpp (colour) does not work.", "user": {"login": "nentibusarchitectura", "id": 6814626, "node_id": "MDQ6VXNlcjY4MTQ2MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/6814626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nentibusarchitectura", "html_url": "https://github.com/nentibusarchitectura", "followers_url": "https://api.github.com/users/nentibusarchitectura/followers", "following_url": "https://api.github.com/users/nentibusarchitectura/following{/other_user}", "gists_url": "https://api.github.com/users/nentibusarchitectura/gists{/gist_id}", "starred_url": "https://api.github.com/users/nentibusarchitectura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nentibusarchitectura/subscriptions", "organizations_url": "https://api.github.com/users/nentibusarchitectura/orgs", "repos_url": "https://api.github.com/users/nentibusarchitectura/repos", "events_url": "https://api.github.com/users/nentibusarchitectura/events{/privacy}", "received_events_url": "https://api.github.com/users/nentibusarchitectura/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2023-04-17T16:53:27Z", "updated_at": "2023-04-21T17:06:18Z", "closed_at": "2023-04-21T09:29:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nSetting image encoding to PNG 8bpp (colour) does not work, the images are still 24bit, in the past PNG 8bpp would show the characteristic 256 colour dithering when working and the display will run faster on a weak network link. Now the display (remote windows) remain in 24 bit colour. So PNG 8bpp has no effect other than making all images look like overtly compressed jpg images.\r\n\r\n**To Reproduce**\r\nOpen browser, google colourful images, set picture encoding to PNG 8bpp, image doesn't change to 8bit 256, it looks like jpg compression.\r\n```\r\nExecStart=/usr/bin/xpra start :100\r\n--start-after-connect=\"/usr/bin/xfce4-terminal\"\r\n--start-via-proxy=no\r\n--start-new-commands=yes\r\n--no-pulseaudio\r\n--no-microphone\r\n--no-speaker\r\n--no-daemon\r\n--webcam=no\r\n--opengl=no\r\n--systemd-run=no\r\n--env=XPRA_VAAPI=0\r\n```\r\nclient command:\r\n```\r\n\"xpra attach ssh:@:100 --border=orange,1\r\n--encoding=rgb\r\n--compress=9\r\n--no-microphone\r\n--no-speaker\r\n--no-cursors\r\n--ssh='ssh -p 2222'\r\n--desktop-scaling=off\r\n--opengl=no\r\n--headerbar=yes\r\n--env=XPRA_CLIPBOARD_IMAGE_STAMP=0\r\n```\r\n**System Information (please complete the following information):**\r\n\r\n-  Server OS: Ubuntu 20.04.6 LTS\r\n-  Client OS: Ubuntu 20.04.6 LTS\r\n-  Xpra Server Version: 4.4.4-r0-1\r\n-  Xpra Client Version: 4.4.4-r0-1\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3826/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3826/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3824", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3824/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3824/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3824/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3824", "id": 1671577200, "node_id": "I_kwDOE8kGxM5joj5w", "number": 3824, "title": "Clipboard issues with compression, compression throws an error in the log.", "user": {"login": "nentibusarchitectura", "id": 6814626, "node_id": "MDQ6VXNlcjY4MTQ2MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/6814626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nentibusarchitectura", "html_url": "https://github.com/nentibusarchitectura", "followers_url": "https://api.github.com/users/nentibusarchitectura/followers", "following_url": "https://api.github.com/users/nentibusarchitectura/following{/other_user}", "gists_url": "https://api.github.com/users/nentibusarchitectura/gists{/gist_id}", "starred_url": "https://api.github.com/users/nentibusarchitectura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nentibusarchitectura/subscriptions", "organizations_url": "https://api.github.com/users/nentibusarchitectura/orgs", "repos_url": "https://api.github.com/users/nentibusarchitectura/repos", "events_url": "https://api.github.com/users/nentibusarchitectura/events{/privacy}", "received_events_url": "https://api.github.com/users/nentibusarchitectura/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-04-17T16:40:09Z", "updated_at": "2023-04-20T16:20:04Z", "closed_at": "2023-04-19T18:18:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen I select a large amount of text, for example in a remote terminal in the server and try to copy the text to a local editor in the client machine nothing happens, no text is pasted.\r\n\r\nI can see these errors in the server log:\r\n\r\nServer error log:\r\n```\r\nApr 17 17:31:45 krang xpra[802]: Error during encoding:\r\nApr 17 17:31:45 krang xpra[802]: Traceback (most recent call last):\r\nApr 17 17:31:45 krang xpra[802]:   File \"/usr/lib/python3/dist-packages/xpra/server/source/client_connection.py\", line 300, in encode_loop\r\nApr 17 17:31:45 krang xpra[802]:   File \"/usr/lib/python3/dist-packages/xpra/server/source/clipboard_connection.py\", line 134, in compress_clipboard\r\nApr 17 17:31:45 krang xpra[802]:     packet[i] = compressed_wrapper(item.datatype, item.data, level=9, can_inline=False, brotli=True)\r\nApr 17 17:31:45 krang xpra[802]:   File \"/usr/lib/python3/dist-packages/xpra/net/compression.py\", line 189, in compressed_wrapper\r\nApr 17 17:31:45 krang xpra[802]:     cl, cdata = c.compress(data, level)\r\nApr 17 17:31:45 krang xpra[802]:   File \"/usr/lib/python3/dist-packages/xpra/net/compression.py\", line 53, in brotli_compress_shim\r\nApr 17 17:31:45 krang xpra[802]:     return level | BROTLI_FLAG, brotli_compress(packet, quality=level)\r\nApr 17 17:31:45 krang xpra[802]:   File \"xpra/net/brotli/compressor.pyx\", line 106, in xpra.net.brotli.compressor.compress\r\nApr 17 17:31:45 krang xpra[802]: ValueError: brotli compression failed: 0\r\nApr 17 17:31:47 krang xpra[802]: client  26 @57.943 Warning: remote clipboard request timed out\r\nApr 17 17:31:47 krang xpra[802]: client  26 @57.943  request id 12, selection=CLIPBOARD, target=STRING\r\n```\r\nClient messages:\r\n```\r\n2023-04-17 17:36:30,898 Warning: remote clipboard request timed out\r\n2023-04-17 17:36:30,898  request id 1, selection=CLIPBOARD, target=UTF8_STRING\r\n```\r\n**To Reproduce**\r\nSelect large amount of text from remote terminal, try to paste on the client, nothing happens.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 20.04.6 LTS\r\n - Client OS: Ubuntu 20.04.6 LTS\r\n - Xpra Server Version: 4.4.4-r0-1\r\n - Xpra Client Version: 4.4.4-r0-1", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3824/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3820", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3820/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3820/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3820/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3820", "id": 1660354346, "node_id": "I_kwDOE8kGxM5i9v8q", "number": 3820, "title": "When provided an invalid display name CLI argument, xpra throws `IndexError: string index out of range`", "user": {"login": "audibleptr", "id": 129372343, "node_id": "U_kgDOB7YQtw", "avatar_url": "https://avatars.githubusercontent.com/u/129372343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/audibleptr", "html_url": "https://github.com/audibleptr", "followers_url": "https://api.github.com/users/audibleptr/followers", "following_url": "https://api.github.com/users/audibleptr/following{/other_user}", "gists_url": "https://api.github.com/users/audibleptr/gists{/gist_id}", "starred_url": "https://api.github.com/users/audibleptr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/audibleptr/subscriptions", "organizations_url": "https://api.github.com/users/audibleptr/orgs", "repos_url": "https://api.github.com/users/audibleptr/repos", "events_url": "https://api.github.com/users/audibleptr/events{/privacy}", "received_events_url": "https://api.github.com/users/audibleptr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-10T07:08:53Z", "updated_at": "2023-04-13T14:58:25Z", "closed_at": "2023-04-10T07:50:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen provided an invalid display name CLI argument (which may happen accidentally), xpra throws `IndexError: string index out of range`.\r\n\r\nThis may not be strictly a bug, but it would be better if xpra provided a more easily understandable error message to the user.\r\n\r\n**To Reproduce**\r\n```shell\r\nxpra stop :\r\n```\r\n\r\n**System Information:**\r\n - Server OS:\r\n   ```\r\n   # uname -a\r\n   Linux kworkstation-10-20230406.localdomain 5.15.104-un-def-alt1 #1 SMP PREEMPT Tue Mar 28 17:27:40 UTC 2023 x86_64 GNU/Linux\r\n   ```\r\n - Client OS: n/a (not used)\r\n - Xpra Server Version:\r\n   ```\r\n   # rpm -qa | grep xpra\r\n   xpra-4.4.4-alt2.x86_64\r\n   ```\r\n - Xpra Client Version: n/a (not used)\r\n\r\n**Additional context**\r\n\r\nActual result:\r\n```\r\nxpra main error:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3/site-packages/xpra/scripts/main.py\", line 144, in main\r\n    return run_mode(script_file, cmdline, err, options, args, mode, defaults)\r\n  File \"/usr/lib64/python3/site-packages/xpra/scripts/main.py\", line 453, in run_mode\r\n    return do_run_mode(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n  File \"/usr/lib64/python3/site-packages/xpra/scripts/main.py\", line 500, in do_run_mode\r\n    return run_stopexit(mode, error_cb, options, args, cmdline)\r\n  File \"/usr/lib64/python3/site-packages/xpra/scripts/main.py\", line 2776, in run_stopexit\r\n    display_desc = pick_display(error_cb, opts, extra_args, cmdline)\r\n  File \"/usr/lib64/python3/site-packages/xpra/scripts/main.py\", line 816, in pick_display\r\n    return do_pick_display(dotxpra, error_cb, opts, extra_args, cmdline)\r\n  File \"/usr/lib64/python3/site-packages/xpra/scripts/main.py\", line 849, in do_pick_display\r\n    return parse_display_name(error_cb, opts, extra_args[0], cmdline, find_session_by_name=find_session_by_name)\r\n  File \"/usr/lib64/python3/site-packages/xpra/scripts/parsing.py\", line 420, in parse_display_name\r\n    while display_name[pos]==\"/\" and scount<2:\r\nIndexError: string index out of range\r\n```\r\n\r\nExpected result: An error that is more easily understandable to the user.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3820/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3820/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3819", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3819/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3819/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3819/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3819", "id": 1659790689, "node_id": "I_kwDOE8kGxM5i7mVh", "number": 3819, "title": "failed to test encoder with cuda_device_context && no valid NVENC devices found", "user": {"login": "youngerConvergence", "id": 34567055, "node_id": "MDQ6VXNlcjM0NTY3MDU1", "avatar_url": "https://avatars.githubusercontent.com/u/34567055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/youngerConvergence", "html_url": "https://github.com/youngerConvergence", "followers_url": "https://api.github.com/users/youngerConvergence/followers", "following_url": "https://api.github.com/users/youngerConvergence/following{/other_user}", "gists_url": "https://api.github.com/users/youngerConvergence/gists{/gist_id}", "starred_url": "https://api.github.com/users/youngerConvergence/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/youngerConvergence/subscriptions", "organizations_url": "https://api.github.com/users/youngerConvergence/orgs", "repos_url": "https://api.github.com/users/youngerConvergence/repos", "events_url": "https://api.github.com/users/youngerConvergence/events{/privacy}", "received_events_url": "https://api.github.com/users/youngerConvergence/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709857, "node_id": "MDU6TGFiZWwyNjc4NzA5ODU3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2023-04-09T08:05:37Z", "updated_at": "2023-04-15T08:41:51Z", "closed_at": "2023-04-14T16:32:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nfailed to test encoder with cuda_device_context && no valid NVENC devices found\r\n\r\n**To Reproduce**\r\nWhen I use xpra start -d nvenc to test NVENC, I get the following error message:\r\n```\r\n2023-04-09 15:42:28,484 GStreamer version 1.10.4^[[0m\r\n^[[32m2023-04-09 15:42:28,618 debug enabled for importlib._bootstrap / ('encoder', 'nvenc')^[[0m\r\n^[[32m2023-04-09 15:42:28,619 c_parseguid(CE788D20-AAA9-4318-92BB-AC7E858C8D36)={'Data1': 3464006944, 'Data2': 43689, 'Data3': 17176, 'Data4': b'\\x92\\xbb\\xac~\\x85\\x8c\\x8d6\\x88\\xed\\xbd\\x15\\x0e\\x7f'}^[[0m\r\n^[[32m2023-04-09 15:42:28,620 nvenc.init_module()^[[0m\r\n^[[32m2023-04-09 15:42:28,620 NVENC encoder API version 10.0^[[0m\r\n^[[32m2023-04-09 15:42:28,621 init_nvencode_library() will try to load libcuda.so^[[0m\r\n^[[32m2023-04-09 15:42:28,622 init_nvencode_library() <bound method LibraryLoader.LoadLibrary of <ctypes.LibraryLoader object at 0x7f0e357730b8>>(libcuda.so)=<CDLL 'libcuda.so', handle 7f0e0c35dca0 at 0x7f0e14c02470>^[[0m\r\n^[[32m2023-04-09 15:42:28,622 init_nvencode_library() libcuda.cuCtxGetCurrent=<_FuncPtr object at 0x7f0e16ccec00>^[[0m\r\n^[[32m2023-04-09 15:42:28,622 init_nvencode_library() will try to load libnvidia-encode.so.1^[[0m\r\n^[[32m2023-04-09 15:42:28,622 init_nvencode_library() <bound method LibraryLoader.LoadLibrary of <ctypes.LibraryLoader object at 0x7f0e357730b8>>(libnvidia-encode.so.1)=<CDLL 'libnvidia-encode.so.1', handle 7f0e0c00c0e0 at 0x7f0e1c03be48>^[[0m\r\n^[[32m2023-04-09 15:42:28,623 init_nvencode_library() NvEncodeAPICreateInstance=<_FuncPtr object at 0x7f0e16ccecc8>^[[0m\r\n2023-04-09 15:42:28,624 CUDA initialization (this may take a few seconds)^[[0m\r\n2023-04-09 15:42:30,085 CUDA 11.6.0 / PyCUDA 2022.1, found 2 devices:^[[0m\r\n2023-04-09 15:42:30,086   + Quadro RTX 6000 @ 0000:21:00.0 (memory: 99% free, compute: 7.5)^[[0m\r\n2023-04-09 15:42:30,204   + Quadro RTX 6000 @ 0000:71:00.0 (memory: 99% free, compute: 7.5)^[[0m\r\n2023-04-09 15:42:30,255 NVidia driver version 510.47.3^[[0m\r\n^[[32m2023-04-09 15:42:30,255 init_module() will try keys: [None]^[[0m\r\n^[[32m2023-04-09 15:42:30,257 testing encoder with device 0^[[0m\r\n^[[32m2023-04-09 15:42:30,319 init_cuda(<pycuda._driver.Context object at 0x7f0e144427c0>) pixel format=None^[[0m\r\n^[[32m2023-04-09 15:42:30,319 init_cuda(<pycuda._driver.Context object at 0x7f0e144427c0>)^[[0m\r\n^[[32m2023-04-09 15:42:30,320 init_cuda cuda info={'driver': {'version': (11, 6, 0), 'driver_version': 11060}}^[[0m\r\n^[[32m2023-04-09 15:42:30,320 failed to test encoder with cuda_device_context(0 - locked)\r\nTraceback (most recent call last):\r\n  File \"xpra/codecs/nvidia/nvenc/encoder.pyx\", line 3023, in xpra.codecs.nvidia.nvenc.encoder.init_module\r\n  File \"xpra/codecs/nvidia/nvenc/encoder.pyx\", line 1807, in xpra.codecs.nvidia.nvenc.encoder.Encoder.init_cuda\r\nAssertionError: failed to get current cuda context, cuCtxGetCurrent returned 34^[[0m\r\n^[[33m2023-04-09 15:42:30,321  device Quadro RTX 6000 is not supported: failed to get current cuda context, cuCtxGetCurrent returned 34^[[0m\r\n^[[32m2023-04-09 15:42:30,321 clean() cuda_context=None, encoder context=0x0^[[0m\r\n^[[32m2023-04-09 15:42:30,321 clean() done^[[0m\r\n^[[32m2023-04-09 15:42:30,321 testing encoder with device 1^[[0m\r\n^[[32m2023-04-09 15:42:30,387 init_cuda(<pycuda._driver.Context object at 0x7f0e14442fa8>) pixel format=None^[[0m\r\n^[[32m2023-04-09 15:42:30,387 init_cuda(<pycuda._driver.Context object at 0x7f0e14442fa8>)^[[0m\r\n^[[32m2023-04-09 15:42:30,387 init_cuda cuda info={'driver': {'version': (11, 6, 0), 'driver_version': 11060}}^[[0m\r\n^[[32m2023-04-09 15:42:30,387 failed to test encoder with cuda_device_context(1 - locked)\r\nTraceback (most recent call last):\r\n  File \"xpra/codecs/nvidia/nvenc/encoder.pyx\", line 3023, in xpra.codecs.nvidia.nvenc.encoder.init_module\r\n  File \"xpra/codecs/nvidia/nvenc/encoder.pyx\", line 1807, in xpra.codecs.nvidia.nvenc.encoder.Encoder.init_cuda\r\nAssertionError: failed to get current cuda context, cuCtxGetCurrent returned 34^[[0m\r\n^[[33m2023-04-09 15:42:30,387  device Quadro RTX 6000 is not supported: failed to get current cuda context, cuCtxGetCurrent returned 34^[[0m\r\n^[[32m2023-04-09 15:42:30,388 clean() cuda_context=None, encoder context=0x0^[[0m\r\n^[[32m2023-04-09 15:42:30,388 clean() done^[[0m\r\n^[[33m2023-04-09 15:42:30,388 no valid NVENC devices found^[[0m\r\n^[[32m2023-04-09 15:42:30,388 nvenc.cleanup_module()^[[0m\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - Quadro RTX 6000\r\n - NVidia driver version 510.47.3\r\n - CUDA  version 11.6.0\r\n - OS Centos 7.9\r\n - NVENC SDK version 10.0\r\n - Xpra Server Version 5.0\r\n - Xpra Client Version 4.4.4\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3819/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3819/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3815", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3815/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3815/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3815/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3815", "id": 1656054075, "node_id": "I_kwDOE8kGxM5itWE7", "number": 3815, "title": "Compile errors with gcc 12.2 and -Wall", "user": {"login": "taranu", "id": 10129954, "node_id": "MDQ6VXNlcjEwMTI5OTU0", "avatar_url": "https://avatars.githubusercontent.com/u/10129954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taranu", "html_url": "https://github.com/taranu", "followers_url": "https://api.github.com/users/taranu/followers", "following_url": "https://api.github.com/users/taranu/following{/other_user}", "gists_url": "https://api.github.com/users/taranu/gists{/gist_id}", "starred_url": "https://api.github.com/users/taranu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taranu/subscriptions", "organizations_url": "https://api.github.com/users/taranu/orgs", "repos_url": "https://api.github.com/users/taranu/repos", "events_url": "https://api.github.com/users/taranu/events{/privacy}", "received_events_url": "https://api.github.com/users/taranu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-05T17:57:16Z", "updated_at": "2023-04-06T08:43:58Z", "closed_at": "2023-04-06T08:43:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nxpra (master + older versions) won't compile on gcc with the -Wall flag.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Run python setup.py install\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Fedora Workstation 36, gcc 12.2.0-19\r\n - Xpra Server Version: current master; also happened on v4.4.4\r\n\r\n**Additional context**\r\nHere's the output of running `python setup.py install`:\r\n```\r\ngcc -pthread -B /home/taranu/.conda/envs/xpra/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -fwrapv -O2 -Wall -fPIC -O2 -isystem /home/taranu/.conda/envs/xpra/include -fPIC -O2 -isystem /home/taranu/.conda/envs/xpra/include -fPIC -I/home/taranu/.conda/envs/xpra/include -I/home/taranu/.conda/envs/xpra/include/python3.9 -c xpra/x11/bindings/randr_bindings.c -o build/temp.linux-x86_64-3.9/xpra/x11/bindings/randr_bindings.o -Wall -Werror -fPIC\r\nxpra/x11/bindings/randr_bindings.c: In function '__Pyx_Import':\r\nxpra/x11/bindings/randr_bindings.c:30522:21: error: the comparison will always evaluate as 'true' for the pointer operand in '(char *)\"xpra.x11.bindings.randr_bindings\" + 4' must not be NULL [-Werror=address]\r\n30522 |             if ((1) && (strchr(__Pyx_MODULE_NAME, '.'))) {\r\n      |                     ^~\r\ncc1: all warnings being treated as errors\r\nerror: command '/home/taranu/.conda/envs/xpra/bin/gcc' failed with exit code 1\r\n```\r\nA workaround is to downgrade this error back to a warning by e.g. running `CFLAGS=\"-Wno-error=address\" python setup.py install`.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3815/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3815/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3811", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3811/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3811/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3811/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3811", "id": 1646333464, "node_id": "I_kwDOE8kGxM5iIQ4Y", "number": 3811, "title": "start failure - \"only console users allowed\"", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-03-29T18:44:17Z", "updated_at": "2023-03-30T14:41:55Z", "closed_at": "2023-03-30T14:41:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Fedora 37. Just installed 5.0-10.r32985.\r\nStart locally with `xpra start :73 --attach=no --start-child=xterm`\r\nTerminal output:\r\n```\r\nusing systemd-run to wrap 'seamless' server command\r\nRunning scope as unit: run-rc94f0cea8ce24c83a0efd9e3d05f5b77.scope\r\nEntering daemon mode; any further errors will be reported to:\r\n  '/run/user/5271/xpra/73/server.log.new'\r\nvfb failed to start, exiting\r\n```\r\n\r\n/run/user/5271/xpra/73/server.log shows you're trying to start Xorg itself rather than, say, Xdummy:\r\n```\r\n2023-03-29 14:37:12,832 no uinput module (not usually needed)\r\n/usr/libexec/Xorg.wrap: Only console users are allowed to run the X server\r\n2023-03-29 14:37:12,850 \r\n2023-03-29 14:37:12,850 Xvfb command has terminated! xpra cannot continue\r\n2023-03-29 14:37:12,850  if the display is already running, try a different one,\r\n2023-03-29 14:37:12,850  or use the --use-display flag\r\n2023-03-29 14:37:12,850  full command: Xorg -noreset -novtswitch -nolisten tcp +extension GLX  +extension RANDR +extension RENDER -auth $XAUTHORITY  -logfile ${XPRA_SESSION_DIR}/Xorg.log  -configdir \"${XPRA_SESSION_DIR}/xorg.conf.d/$PID\"  -config \"${XORG_CONFIG_PREFIX}/etc/xpra/xorg.conf\"\r\n2023-03-29 14:37:12,850 \r\n```\r\nCompare vs what's running in another F37 machine's pre-upgrade environment:\r\n`/usr/libexec/Xorg -noreset -novtswitch -nolisten tcp +extension GLX +extension RANDR +extension RENDER -auth /home/karl/.Xauthority -logfile /run/user/5271/xpra/73/Xorg.log -configdir /run/user/5271/xpra/73/xorg.conf.d/246805 -config /etc/xpra/xorg.conf -depth 24 :73`\r\n\r\nShowstopper.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3811/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3809", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3809/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3809/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3809/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3809", "id": 1643539700, "node_id": "I_kwDOE8kGxM5h9mz0", "number": 3809, "title": "ModuleNotFoundError: No module named 'xpra.client.spinner'", "user": {"login": "allo-", "id": 1482341, "node_id": "MDQ6VXNlcjE0ODIzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1482341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allo-", "html_url": "https://github.com/allo-", "followers_url": "https://api.github.com/users/allo-/followers", "following_url": "https://api.github.com/users/allo-/following{/other_user}", "gists_url": "https://api.github.com/users/allo-/gists{/gist_id}", "starred_url": "https://api.github.com/users/allo-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allo-/subscriptions", "organizations_url": "https://api.github.com/users/allo-/orgs", "repos_url": "https://api.github.com/users/allo-/repos", "events_url": "https://api.github.com/users/allo-/events{/privacy}", "received_events_url": "https://api.github.com/users/allo-/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-28T09:20:27Z", "updated_at": "2023-03-28T09:58:06Z", "closed_at": "2023-03-28T09:58:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nException\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/client/gtk3/gtk3_client_window.py\", line 219, in draw_widget\r\n    self.paint_spinner(context)\r\n  File \"/usr/lib/python3/dist-packages/xpra/client/gtk_base/gtk_client_window_base.py\", line 1947, in paint_spinner\r\n    from xpra.client.spinner import cv\r\nModuleNotFoundError: No module named 'xpra.client.spinner'\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian stable\r\n - Client OS: Debian testing\r\n - Xpra Server Version: 4.4.4-r0-1\r\n - Xpra Client Version: xpra-client-gtk3=5.0-r32941-1\r\n\r\n**Additional context**\r\nProbably related to the split of xpra/xpra-client-gtk3", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3809/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3809/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3806", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3806/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3806/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3806/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3806", "id": 1640627851, "node_id": "I_kwDOE8kGxM5hyf6L", "number": 3806, "title": "some GStreamer elements are missing: vaapih264enc, vaapih264enc, x264enc, x264enc", "user": {"login": "fpoto", "id": 5763468, "node_id": "MDQ6VXNlcjU3NjM0Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/5763468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fpoto", "html_url": "https://github.com/fpoto", "followers_url": "https://api.github.com/users/fpoto/followers", "following_url": "https://api.github.com/users/fpoto/following{/other_user}", "gists_url": "https://api.github.com/users/fpoto/gists{/gist_id}", "starred_url": "https://api.github.com/users/fpoto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fpoto/subscriptions", "organizations_url": "https://api.github.com/users/fpoto/orgs", "repos_url": "https://api.github.com/users/fpoto/repos", "events_url": "https://api.github.com/users/fpoto/events{/privacy}", "received_events_url": "https://api.github.com/users/fpoto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709857, "node_id": "MDU6TGFiZWwyNjc4NzA5ODU3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-03-25T19:08:18Z", "updated_at": "2023-03-30T17:20:31Z", "closed_at": "2023-03-27T04:46:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "After a system and Xpra upgrade on Debian bookworm, the Xpra client refuses to start with error\r\n```\r\ngstreamer: av1 decoding failed: failed to decode test data for encoding 'av1' with colorspace 'YUV420P'\r\n```\r\nBefore the error, it displays the message in the subject. I cured the vaapih264enc problem by installing gstreamer1.0-vaapi, which probably means that Xpra should depend on it.\r\n\r\nHowever, now I am left with ```some GStreamer elements are missing: x264enc, x264enc``` and I could not manage to cure it...\r\n\r\nSome info on the environment  and the tests I tried:\r\n - I use a remote Xpra 4.4.3-r0-1 server (which I cannot upgrade for the moment being)\r\n - I use a local Xpra 5.0-r32928-1 client\r\n - as far as I can remember, everything worked with 5.0-r32760-1\r\n - and probably even with xpra-codecs:amd64 5.0-r32850-1\r\n - the problem surfaced with 5.0-r32928-1\r\n - I have  Christian Marillat's deb-multimedia repository activated\r\n - I have LIBVA_DRIVER_NAME=i965 so that my Intel NUC Iris Plus Graphics 655 works well\r\n - I have these deb packages installed:\r\n   * gstreamer1.0-alsa\r\n   * gstreamer1.0-clutter-3.0\r\n   * gstreamer1.0-gl\r\n   * gstreamer1.0-gtk3\r\n   * gstreamer1.0-libav\r\n   * gstreamer1.0-plugins-bad\r\n   * gstreamer1.0-plugins-base\r\n   * gstreamer1.0-plugins-good\r\n   * gstreamer1.0-plugins-ugly\r\n   * gstreamer1.0-pulseaudio\r\n   * gstreamer1.0-tools\r\n   * gstreamer1.0-vaapi\r\n   * gstreamer1.0-x\r\n   * gir1.2-gst-plugins-base-1.0\r\n - I tried to install these ones too, to no avail:\r\n   * gstreamer1.0-plugins-bad-apps\r\n   * gstreamer1.0-plugins-base-apps\r\n   * x264\r\n   * libx264-164\r\n   * gir1.2-gst-plugins-bad-1.0", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3806/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3806/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3803", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3803/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3803/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3803/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3803", "id": 1637004905, "node_id": "I_kwDOE8kGxM5hkrZp", "number": 3803, "title": "`pyxdg==0.26` and `xdg==5.1.1` clash", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-23T07:39:03Z", "updated_at": "2023-03-23T09:47:38Z", "closed_at": "2023-03-23T07:42:29Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n_It is really a shot in the dark_, but I am trying not to forget it \ud83d\ude05 \r\n\r\nDo you \"somehow install\" on the \"OS-namespace the `xdg==5.1.1` package?\r\n\r\nI understand that the `pyxdg==0.26` is probably tons old, however, it is so that that's coming via `apt-get install python3-xdg`, and clashes with `xdg==5.1.1` one.\r\n\r\nAt least in my case, the important stuff, is that it blocks Kazam https://launchpad.net/kazam from working (https://bugs.launchpad.net/kazam/+bug/1956472).\r\n\r\nHowever, even trying to remove it, gives me:\r\n\r\n```console\r\n$ sudo apt-get remove python3-xdg\r\nReading package lists... Done\r\nBuilding dependency tree       \r\nReading state information... Done\r\nThe following packages were automatically installed and are no longer required:\r\n  gir1.2-gudev-1.0 gir1.2-keybinder-3.0 libkeybinder-3.0-0 python3-brlapi python3-gst-1.0 python3-louis python3-pyatspi python3-xlib xbrlapi\r\nUse 'sudo apt autoremove' to remove them.\r\nThe following packages will be REMOVED:\r\n  kazam orca python3-speechd python3-xdg\r\n0 upgraded, 0 newly installed, 4 to remove and 1 not upgraded.\r\nAfter this operation, 6359 kB disk space will be freed.\r\n```\r\n\r\nand\r\n\r\n```console\r\n$  sudo pip uninstall pyxdg\r\nFound existing installation: pyxdg 0.26\r\nNot uninstalling pyxdg at /usr/lib/python3/dist-packages, outside environment /usr\r\nCan't uninstall 'pyxdg'. No files were found to uninstall.\r\n```\r\n\r\nWhich \"I don't know how sane it is\" \ud83d\ude13.\r\n\r\nJust an FYI; apologies if it's not you that's doing that.\r\n(but I have to purge `xdg==5.1.1` at least temporarily).\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\n2. client command\r\n3. specific action to trigger the bug\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: [e.g. RHEL 8.x]\r\n - Client OS: [e.g. Windows 10]\r\n - Xpra Server Version [e.g. 4.2.3]\r\n - Xpra Client Version [e.g. 4.3]\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3803/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3798", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3798/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3798/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3798/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3798", "id": 1630830879, "node_id": "I_kwDOE8kGxM5hNIEf", "number": 3798, "title": "invalid encodings specified", "user": {"login": "AGI-chandler", "id": 27978373, "node_id": "MDQ6VXNlcjI3OTc4Mzcz", "avatar_url": "https://avatars.githubusercontent.com/u/27978373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AGI-chandler", "html_url": "https://github.com/AGI-chandler", "followers_url": "https://api.github.com/users/AGI-chandler/followers", "following_url": "https://api.github.com/users/AGI-chandler/following{/other_user}", "gists_url": "https://api.github.com/users/AGI-chandler/gists{/gist_id}", "starred_url": "https://api.github.com/users/AGI-chandler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AGI-chandler/subscriptions", "organizations_url": "https://api.github.com/users/AGI-chandler/orgs", "repos_url": "https://api.github.com/users/AGI-chandler/repos", "events_url": "https://api.github.com/users/AGI-chandler/events{/privacy}", "received_events_url": "https://api.github.com/users/AGI-chandler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-03-19T08:23:55Z", "updated_at": "2023-03-22T00:40:49Z", "closed_at": "2023-03-22T00:40:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Suit yourself we can start a new report here.&nbsp; The problem isn't some russian repo though you are making a mountain of a molehill there I think, glossing over the real issues and other questions I'm asking trying to get this fixed.&nbsp; Like, which versions of `ffmpeg-xpra` goes with which versions of `xpra`? because only version `ffmpeg-xpra-6.0-1.el8` gets automatically installed even though the missing libraries are in `ffmpeg-xpra-5.1.2-1.el8`.&nbsp; It seems there might be dependency issues with your Centos packages then?&nbsp; so that's one problem to check out.&nbsp; Now I've removed `xpra` and all it's dependencies as well as the russian `compat-ffmpeg5-libs-5.1.2-1.el8`, so we have a clean slate now, where shall we begin?&nbsp; I suppose the latest beta.\r\n\r\nSo I installed `xpra-5.0-10.r32045.el8` with `ffmpeg-xpra-5.0-1.el8` and tested with a simple `xpra start ssh://localhost/ --start=xterm --encodings=rgb,h264` command that you recommended previously, which throws a red error:\r\n```\r\n Error importing dec_avcodec2 (avcodec2 decoder)\r\n  libx264.so.163: cannot open shared object file: No such file or directory\r\n```\r\n\r\nmore dependency problems.&nbsp; So I killed that and tried upgrading `ffmpeg-xpra` to version `5.1.2-1.el8`.&nbsp; Now I get this red error:\r\n```\r\n Error importing dec_avcodec2 (avcodec2 decoder)\r\n  /usr/lib64/xpra/libavcodec.so.59: undefined symbol: vaSyncBuffer\r\n```\r\nbut xpra is able to continue further and then I see:\r\n```\r\n  SSH: 'invalid encodings specified: h, 2, 6, 4, , r, g, b, 3'\r\n[...]\r\nError: failed to receive anything, not an xpra server?\r\n  could also be the wrong protocol, username, password or port\r\n  or the session was not found\r\nConnection failed\r\n```\r\n\r\nI try upgrading `ffmpeg-xpra` to version `6.0-1.el8` and now I get these red errors:\r\n```\r\nError importing csc_swscale (swscale colorspace conversion)\r\n libswscale.so.6: cannot open shared object file: No such file or directory\r\nError importing dec_avcodec2 (avcodec2 decoder)\r\n libavcodec.so.59: cannot open shared object file: No such file or directory\r\n```\r\n(These were the original errors I was seeing that cause me to find russian `compat-ffmpeg5-libs-5.1.2-1.el8`).\r\n\r\nSo I've removed all xpra and dependencies again and will move on to `xpra-4.4.3-10.el8` now, which installs `ffmpeg-xpra-6.0-1.el8` again and throws the same red errors as before with `xpra start`.&nbsp; I'll now downgrade `ffmpeg-xpra` to `4.4.1-3.el8` and try that, no luck, still same red errors about `libswscale` and `libavcodec`.&nbsp; Seems `ffmpeg-xpra-5.1.2-1.el8` is the version with those libraries. but still getting this error:\r\n```\r\nError importing dec_avcodec2 (avcodec2 decoder)\r\n /usr/lib64/xpra/libavcodec.so.59: undefined symbol: vaSyncBuffer\r\n```\r\n\r\nI guess next would be to try with `xpra-4.3.3-10.r31234.el8` but now it's time to sleep, will continue later.\r\n\r\nBest Regards", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3798/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3798/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3793", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3793/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3793/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3793/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3793", "id": 1627263215, "node_id": "I_kwDOE8kGxM5g_hDv", "number": 3793, "title": "Error parsing version of libx264 while building the debian package", "user": {"login": "iDmple", "id": 5065505, "node_id": "MDQ6VXNlcjUwNjU1MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5065505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iDmple", "html_url": "https://github.com/iDmple", "followers_url": "https://api.github.com/users/iDmple/followers", "following_url": "https://api.github.com/users/iDmple/following{/other_user}", "gists_url": "https://api.github.com/users/iDmple/gists{/gist_id}", "starred_url": "https://api.github.com/users/iDmple/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iDmple/subscriptions", "organizations_url": "https://api.github.com/users/iDmple/orgs", "repos_url": "https://api.github.com/users/iDmple/repos", "events_url": "https://api.github.com/users/iDmple/events{/privacy}", "received_events_url": "https://api.github.com/users/iDmple/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-16T11:20:45Z", "updated_at": "2023-03-16T22:28:47Z", "closed_at": "2023-03-16T13:25:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "While building the .deb package of xpra on Ubuntu 20.04 I get this error (master branch):\r\n\r\n```\r\npython3 setup.py clean\r\nsetup.py clean\r\nXpra version 5.0\r\nfound pkg-config version: 0.29.1\r\nARCH=x86_64\r\n\r\nusing INCLUDE_DIRS=['/usr/include', '/usr/local/include']\r\nCPP=cpp\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 226, in <module>\r\n    enc_x264_ENABLED        = DEFAULT and pkg_config_version(\"0.155\", \"x264\")\r\n  File \"setup.py\", line 137, in pkg_config_version\r\n    return parse(out)>=parse(req_version)\r\n  File \"/usr/local/lib/python3.8/dist-packages/packaging/version.py\", line 52, in parse\r\n    return Version(version)\r\n  File \"/usr/local/lib/python3.8/dist-packages/packaging/version.py\", line 197, in __init__\r\n    raise InvalidVersion(f\"Invalid version: '{version}'\")\r\npackaging.version.InvalidVersion: Invalid version: '0.155.2917 0a84d98'\r\nmake[1]: *** [debian/rules:15: override_dh_auto_clean] Error 1\r\nmake[1]: Leaving directory '/xpra'\r\nmake: *** [debian/rules:12: clean] Error 2\r\ndpkg-buildpackage: error: debian/rules clean subprocess returned exit status 2\r\ndebuild: fatal error at line 1182:\r\ndpkg-buildpackage -us -uc -ui -b failed\r\n````\r\n\r\nThere seems to already be a workaround in the code for libx264 but it looks like it doesn't work anymore?\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3793/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3793/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3789", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3789/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3789/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3789/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3789", "id": 1615651536, "node_id": "I_kwDOE8kGxM5gTOLQ", "number": 3789, "title": "xpra doesn't have a tray icon under Wayland with KWin", "user": {"login": "allo-", "id": 1482341, "node_id": "MDQ6VXNlcjE0ODIzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1482341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allo-", "html_url": "https://github.com/allo-", "followers_url": "https://api.github.com/users/allo-/followers", "following_url": "https://api.github.com/users/allo-/following{/other_user}", "gists_url": "https://api.github.com/users/allo-/gists{/gist_id}", "starred_url": "https://api.github.com/users/allo-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allo-/subscriptions", "organizations_url": "https://api.github.com/users/allo-/orgs", "repos_url": "https://api.github.com/users/allo-/repos", "events_url": "https://api.github.com/users/allo-/events{/privacy}", "received_events_url": "https://api.github.com/users/allo-/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2685218422, "node_id": "MDU6TGFiZWwyNjg1MjE4NDIy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/Wayland", "name": "Wayland", "color": "6E5166", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2023-03-08T17:33:32Z", "updated_at": "2023-03-26T09:24:27Z", "closed_at": "2023-03-17T10:42:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nxpra does not show its tray icon in a KDE Wayland session\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Run a KDE Wayland session\r\n2. Connect from a terminal to an xpra server\r\n\r\n**Expected**\r\nA tray icon with the functions that are provided when using X11 (Launch applications, enable/disable features like forwarding clipboard, sound, etc.)\r\n\r\n**Actual Behavior**\r\nNo tray icon is visible.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian stable\r\n - Client OS: Debian testing\r\n - Xpra Server Version: 4.4.3-r0-1\r\n - Xpra Client Version: 5.0-r32793-1\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3788", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3788/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3788/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3788/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3788", "id": 1612905892, "node_id": "I_kwDOE8kGxM5gIv2k", "number": 3788, "title": "apt repository at \"https://xpra.org\" triggers \"Failed to fetch ... File has unexpected size (X != Y) Mirror sync in progress? \"", "user": {"login": "nifr", "id": 851258, "node_id": "MDQ6VXNlcjg1MTI1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/851258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nifr", "html_url": "https://github.com/nifr", "followers_url": "https://api.github.com/users/nifr/followers", "following_url": "https://api.github.com/users/nifr/following{/other_user}", "gists_url": "https://api.github.com/users/nifr/gists{/gist_id}", "starred_url": "https://api.github.com/users/nifr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nifr/subscriptions", "organizations_url": "https://api.github.com/users/nifr/orgs", "repos_url": "https://api.github.com/users/nifr/repos", "events_url": "https://api.github.com/users/nifr/events{/privacy}", "received_events_url": "https://api.github.com/users/nifr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-07T07:45:34Z", "updated_at": "2023-03-07T10:15:46Z", "closed_at": "2023-03-07T10:15:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nSince yesterday the `xpra.org` apt repository seems to have an issue.\r\n\r\nAfter adding the repository any `apt` package list updates fails with:\r\n\r\n```\r\nE: Failed to fetch https://xpra.org/dists/bullseye/main/binary-amd64/Packages.gz  \r\nFile has unexpected size (60263 != 60153). \r\nMirror sync in progress? [IP: x.x.x.x 443]\r\n\r\n    Hashes of expected file:\r\n     - Filesize:60153 [weak]\r\n     - SHA512:f3712f5ca476ae86571c8790340730c1c4196db6dd195fa48611351debdfcf74d9747306e697bbfa111ca00ead095d635fb3d979e1c69f340b2954e017fcd193\r\n     - SHA256:11269a3dd52f9eada8a9995ea1a522c4e47e911de0e9ab91a8cd1e77ac454de1\r\n     - SHA1:89c8888bd7534cd1f09c2e266fb0ef8c810195e6 [weak]\r\n     - MD5Sum:f8a696b70cd0cdf15297176b314e9e63 [weak]\r\n    Release file created at: Tue, 27 Dec 2022 15:17:50 +0000\r\nE: Some index files failed to download. They have been ignored, or old ones used instead.\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\n1. Add the xpra apt repository\r\n      ```bash\r\n      curl -sLo- \"https://xpra.org/gpg.asc\" \\\r\n         | gpg --batch --yes --dearmor -o \"/etc/apt/keyrings/xpra.gpg\"\r\n     \r\n      echo \"deb [signed-by=/etc/apt/keyrings/xpra.gpg] https://xpra.org/ bullseye main\" \\\r\n         | tee \"/etc/apt/sources.list.d/xpra.list\" \r\n      ```\r\n    \r\n3. Run`apt-get update`\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian 11 (bullseye)\r\n - Xpra Server Version: any\r\n - Xpra Client Version any\r\n\r\n**Additional context**\r\n\r\nCould this be related to the `v3.1.4`  [tag](https://github.com/Xpra-org/xpra/tags) / release that was pushed yesterday?\r\n\r\nThe repository URL https://xpra.org/dists/bullseye/main/binary-amd64/ shows files `Packages.{gz,bz}` were both updated at `2023-03-05 18:58`.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3788/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3788/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3787", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3787/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3787/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3787/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3787", "id": 1612002479, "node_id": "I_kwDOE8kGxM5gFTSv", "number": 3787, "title": "/etc/xdg/menus/kde-debian-menu.menu is missing in bullseye", "user": {"login": "alexbodn", "id": 4792193, "node_id": "MDQ6VXNlcjQ3OTIxOTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4792193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexbodn", "html_url": "https://github.com/alexbodn", "followers_url": "https://api.github.com/users/alexbodn/followers", "following_url": "https://api.github.com/users/alexbodn/following{/other_user}", "gists_url": "https://api.github.com/users/alexbodn/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexbodn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexbodn/subscriptions", "organizations_url": "https://api.github.com/users/alexbodn/orgs", "repos_url": "https://api.github.com/users/alexbodn/repos", "events_url": "https://api.github.com/users/alexbodn/events{/privacy}", "received_events_url": "https://api.github.com/users/alexbodn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-06T18:33:48Z", "updated_at": "2023-03-07T08:07:02Z", "closed_at": "2023-03-07T08:07:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\ni don't know whether this is a bug in xpra.\r\ni'm talking of the version you provide for debian bullseye.\r\n/etc/xdg/menus/kde-debian-menu.menu is missing in debian bullseye.\r\ni hope my solution was good enough, linked the missing file to xfce-applications.menu.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3787/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3787/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3786", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3786/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3786/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3786/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3786", "id": 1611983630, "node_id": "I_kwDOE8kGxM5gFOsO", "number": 3786, "title": "a negative timestamp passed to X11Window.sendClientMessage", "user": {"login": "alexbodn", "id": 4792193, "node_id": "MDQ6VXNlcjQ3OTIxOTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4792193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexbodn", "html_url": "https://github.com/alexbodn", "followers_url": "https://api.github.com/users/alexbodn/followers", "following_url": "https://api.github.com/users/alexbodn/following{/other_user}", "gists_url": "https://api.github.com/users/alexbodn/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexbodn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexbodn/subscriptions", "organizations_url": "https://api.github.com/users/alexbodn/orgs", "repos_url": "https://api.github.com/users/alexbodn/repos", "events_url": "https://api.github.com/users/alexbodn/events{/privacy}", "received_events_url": "https://api.github.com/users/alexbodn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709842, "node_id": "MDU6TGFiZWwyNjc4NzA5ODQy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue or pull request already exists"}, {"id": 2685218208, "node_id": "MDU6TGFiZWwyNjg1MjE4MjA4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/X11", "name": "X11", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-06T18:19:56Z", "updated_at": "2023-03-07T02:41:00Z", "closed_at": "2023-03-07T02:41:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nin send_wm_take_focus, when the timestamp initial value is 2187152943,\r\nthere's a negative timestamp passed to X11Window.sendClientMessage.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3786/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3785", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3785/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3785/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3785/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3785", "id": 1611964942, "node_id": "I_kwDOE8kGxM5gFKIO", "number": 3785, "title": "crash of zeroconfig under bullseye", "user": {"login": "alexbodn", "id": 4792193, "node_id": "MDQ6VXNlcjQ3OTIxOTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4792193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexbodn", "html_url": "https://github.com/alexbodn", "followers_url": "https://api.github.com/users/alexbodn/followers", "following_url": "https://api.github.com/users/alexbodn/following{/other_user}", "gists_url": "https://api.github.com/users/alexbodn/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexbodn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexbodn/subscriptions", "organizations_url": "https://api.github.com/users/alexbodn/orgs", "repos_url": "https://api.github.com/users/alexbodn/repos", "events_url": "https://api.github.com/users/alexbodn/events{/privacy}", "received_events_url": "https://api.github.com/users/alexbodn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-03-06T18:10:43Z", "updated_at": "2023-03-07T11:06:15Z", "closed_at": "2023-03-07T11:06:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nthere is an unhandled exception in zeroconfig, the version already in debian bullseye.\r\nxpra is the version you provide for bullseye.\r\nto avoid this, i uninstalled the deb and pip installed the contemporary version.\r\nthe exception vanished.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3785/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3785/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3781", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3781/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3781/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3781/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3781", "id": 1607504223, "node_id": "I_kwDOE8kGxM5f0JFf", "number": 3781, "title": "LDAP authentication issue", "user": {"login": "walakee", "id": 92512049, "node_id": "U_kgDOBYOfMQ", "avatar_url": "https://avatars.githubusercontent.com/u/92512049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/walakee", "html_url": "https://github.com/walakee", "followers_url": "https://api.github.com/users/walakee/followers", "following_url": "https://api.github.com/users/walakee/following{/other_user}", "gists_url": "https://api.github.com/users/walakee/gists{/gist_id}", "starred_url": "https://api.github.com/users/walakee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/walakee/subscriptions", "organizations_url": "https://api.github.com/users/walakee/orgs", "repos_url": "https://api.github.com/users/walakee/repos", "events_url": "https://api.github.com/users/walakee/events{/privacy}", "received_events_url": "https://api.github.com/users/walakee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681235839, "node_id": "MDU6TGFiZWwyNjgxMjM1ODM5", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/authentication", "name": "authentication", "color": "0052cc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-03-02T21:13:23Z", "updated_at": "2023-03-14T15:55:54Z", "closed_at": "2023-03-14T15:55:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI can't seem to be able to get LDAP authentication working against the ForumSYS LDAP test server: https://www.forumsys.com/2022/05/10/online-ldap-test-server/\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\n\r\n```\r\n/usr/bin/xpra proxy :14500 --daemon=no \"--tcp-auth=ldap,host=ldap.forumsys.com,port=389,username_format=uid=%username,dc=example,dc=com\" --bind-tcp=0.0.0.0:14500 --bind=none --debug=auth\r\n```\r\n\r\n3. client command\r\n\r\nI'm using the HTML5 client to connect via http://192.168.56.116:14500/connect.html\r\n\r\n4. specific action to trigger the bug\r\n\r\nI'm entering the test credentials Username: riemann / Password: password\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: CentOS Linux release 7.9.2009 (Core)\r\n - Client OS: MacOS Catalina 10.15.7 / Brave [Version 1.48.171 Chromium: 110.0.5481.177 (Official Build) (x86_64)](https://brave.com/latest/)\r\n - Xpra Server Version: xpra v3.1.3-r0\r\n - Xpra Client Version: xpra-html5 v5.1-1.r12.el7\r\n\r\n**Additional context**\r\n\r\nTesting the access with ldapsearch works OK...\r\n\r\n```\r\n[root@iqlcen7vm ~]# ldapsearch -x -h ldap.forumsys.com -p 389 -D \"cn=read-only-admin,dc=example,dc=com\" -b \"dc=example,dc=com\" -s sub 'uid=riemann' -w \"password\"\r\n# extended LDIF\r\n#\r\n# LDAPv3\r\n# base <dc=example,dc=com> with scope subtree\r\n# filter: uid=riemann\r\n# requesting: ALL\r\n#\r\n\r\n# riemann, example.com\r\ndn: uid=riemann,dc=example,dc=com\r\nobjectClass: inetOrgPerson\r\nobjectClass: organizationalPerson\r\nobjectClass: person\r\nobjectClass: top\r\ncn: Bernhard Riemann\r\nsn: Riemann\r\nuid: riemann\r\nmail: riemann@ldap.forumsys.com\r\n\r\n# search result\r\nsearch: 2\r\nresult: 0 Success\r\n\r\n# numResponses: 2\r\n# numEntries: 1\r\n[root@iqlcen7vm ~]# \r\n```\r\n\r\nTesting the access from python works OK...\r\n\r\n```\r\n[root@iqlcen7vm ~]# python\r\nPython 2.7.5 (default, Jun 28 2022, 15:30:04) \r\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-44)] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import ldap\r\n>>> conn = ldap.initialize('ldap://ldap.forumsys.com')\r\n>>> conn.simple_bind_s('uid=riemann,dc=example,dc=com', 'password')\r\n(97, [], 1, [])\r\n>>> conn.unbind_s()\r\n>>> \r\n[root@iqlcen7vm ~]# \r\n```\r\n\r\nThe Xpra server logs are as follows...\r\n\r\n```\r\n[root@iqlcen7vm ~]# /usr/bin/xpra proxy :14500 --daemon=no \"--tcp-auth=ldap,host=ldap.forumsys.com,port=389,username_format=uid=%username,dc=example,dc=com\" --bind-tcp=0.0.0.0:14500 --bind=none --debug=auth\r\n2023-03-02 21:49:24,825 created tcp socket '0.0.0.0:14500'\r\n2023-03-02 21:49:24,849 Warning: missing sound module\r\n2023-03-02 21:49:24,885 serving html content from '/usr/share/xpra/www'\r\n2023-03-02 21:49:24,885 get_auth_modules(local-auth, [], {..})\r\n2023-03-02 21:49:24,885 get_auth_modules(tcp, ['ldap,host=ldap.forumsys.com,port=389,username_format=uid=%username,dc=example,dc=com'], {..})\r\n2023-03-02 21:49:24,885 get_auth_module(tcp, ldap,host=ldap.forumsys.com,port=389,username_format=uid=%username,dc=example,dc=com, {..})\r\n2023-03-02 21:49:24,885 auth module name for 'ldap': 'xpra.server.auth.ldap_auth'\r\n2023-03-02 21:49:24,886 auth module for 'ldap': <module 'xpra.server.auth.ldap_auth' from '/usr/lib64/python2.7/site-packages/xpra/server/auth/ldap_auth.pyc'>\r\n2023-03-02 21:49:24,886 get_auth_modules(ws, [], {..})\r\n2023-03-02 21:49:24,886 get_auth_modules(wss, [], {..})\r\n2023-03-02 21:49:24,887 get_auth_modules(ssl, [], {..})\r\n2023-03-02 21:49:24,887 get_auth_modules(ssh, [], {..})\r\n2023-03-02 21:49:24,887 get_auth_modules(rfb, [], {..})\r\n2023-03-02 21:49:24,887 get_auth_modules(vsock, [], {..})\r\n2023-03-02 21:49:24,887 get_auth_modules(udp, [], {..})\r\n2023-03-02 21:49:24,887 init_auth(..) auth={'udp': None, 'rfb': None, 'vsock': None, 'tcp': (('ldap', <class 'xpra.server.auth.ldap_auth.Authenticator'>, {'exec_cwd': '/root', 'username_format': 'uid=%username', 'host': 'ldap.forumsys.com', 'port': '389', 'dc': 'com'}),), 'ssl': None, 'wss': None, 'ws': None, 'ssh': None, 'unix-domain': None}\r\n2023-03-02 21:49:24,911 xpra is ready.\r\n2023-03-02 21:49:24,912 xpra proxy version 3.1.3-r0 64-bit\r\n2023-03-02 21:49:24,912  uid=0 (root), gid=0 (root)\r\n2023-03-02 21:49:24,912  running with pid 15850 on Linux CentOS Linux 7.9.2009 Core\r\n2023-03-02 21:49:32,876 Error sending '/usr/share/xpra/www/Sessions':\r\n2023-03-02 21:49:32,876  [Errno 2] No such file or directory\r\n2023-03-02 21:49:32,880 Error sending '/usr/share/xpra/www/Menu':\r\n2023-03-02 21:49:32,881  [Errno 2] No such file or directory\r\n2023-03-02 21:49:32,885 Error sending '/usr/share/xpra/www/DesktopMenu':\r\n2023-03-02 21:49:32,885  [Errno 2] No such file or directory\r\n2023-03-02 21:49:32,900 Error sending '/usr/share/xpra/www/Displays':\r\n2023-03-02 21:49:32,900  [Errno 2] No such file or directory\r\n2023-03-02 21:49:43,248 socktype=ws, encryption=, keyfile=\r\n2023-03-02 21:49:43,567 make_authenticators('tcp', 'riemann', ws socket: 192.168.56.116:14500 <- 192.168.56.1:63001)\r\n2023-03-02 21:49:43,568 creating authenticators ('ldap', <class 'xpra.server.auth.ldap_auth.Authenticator'>, {'exec_cwd': '/root', 'username_format': 'uid=%username', 'host': 'ldap.forumsys.com', 'port': '389', 'dc': 'com'}) for tcp, with username=riemann, connection=ws socket: 192.168.56.116:14500 <- 192.168.56.1:63001\r\n2023-03-02 21:49:43,568 Warning: unused keyword arguments for ldap authentication:\r\n2023-03-02 21:49:43,568  {'dc': 'com'}\r\n2023-03-02 21:49:43,568 ldap auth: host=ldap.forumsys.com, port=389, tls=False, username_format=uid=%username, cacert=None, encoding=utf-8\r\n2023-03-02 21:49:43,568 authenticator 0: ldap(riemann, {'connection': ws socket: 192.168.56.116:14500 <- 192.168.56.1:63001, 'dc': 'com', 'exec_cwd': '/root', 'host': 'ldap.forumsys.com', 'username_format': 'uid=%username', 'socket-dirs': ['/run/user/$UID/xpra', '/run/xpra', '~/.xpra'], 'port': '389'})=ldap\r\n2023-03-02 21:49:43,568 processing authentication with (ldap,), remaining=(ldap,), response=None, client_salt='', digest_modes=['hmac', 'hmac+md5', 'xor', 'keycloak', 'hmac+md5', 'hmac+sha256', 'hmac+sha1', 'hmac+sha512', 'hmac+sha384', 'hmac+sha512/256', 'hmac+sha512/224'], salt_digest_modes=['hmac', 'hmac+md5', 'xor', 'keycloak', 'hmac+md5', 'hmac+sha256', 'hmac+sha1', 'hmac+sha512', 'hmac+sha384', 'hmac+sha512/256', 'hmac+sha512/224']\r\n2023-03-02 21:49:43,568 authenticator[0]=ldap, requires-challenge=True, challenge-sent=False\r\n2023-03-02 21:49:43,568 get_challenge(['hmac', 'hmac+md5', 'xor', 'keycloak', 'hmac+md5', 'hmac+sha256', 'hmac+sha1', 'hmac+sha512', 'hmac+sha384', 'hmac+sha512/256', 'hmac+sha512/224'])= 6c571551bc82259e5ab82c15c3e3f8712da7c874ce725b145cb7f254216725e933ed1575fe7995d312ccefacf0c8d8b5601629aabc5de6b070315398e82be7b1, xor\r\n2023-03-02 21:49:43,568 Authentication required by ldap authenticator module 1\r\n2023-03-02 21:49:43,568  sending challenge for username 'riemann' using xor digest\r\n2023-03-02 21:49:43,575 processing authentication with (ldap,), remaining=(ldap,), response='I\\x04\\x11\\x11AZCU', client_salt='\\xd7\\xad\\xaa)[\\x1a\\xaa\\xc0\\t\\xcc\\xde\\xe7\\x11\\x05\\xaf\\x9e\\x12\\\\\\xf1e\\x19b\\xa5\\xc0q\\x15F\\xb8\\xa7\\x06h\\xb6', digest_modes=['hmac', 'hmac+md5', 'xor', 'keycloak', 'hmac+md5', 'hmac+sha256', 'hmac+sha1', 'hmac+sha512', 'hmac+sha384', 'hmac+sha512/256', 'hmac+sha512/224'], salt_digest_modes=['hmac', 'hmac+md5', 'xor', 'keycloak', 'hmac+md5', 'hmac+sha256', 'hmac+sha1', 'hmac+sha512', 'hmac+sha384', 'hmac+sha512/256', 'hmac+sha512/224']\r\n2023-03-02 21:49:43,575 authenticator[0]=ldap, requires-challenge=True, challenge-sent=True\r\n2023-03-02 21:49:43,575 combined salt(6c571551bc82259e5ab82c15c3e3f8712da7c874ce725b145cb7f254216725e933ed1575fe7995d312ccefacf0c8d8b5601629aabc5de6b070315398e82be7b1, d7adaa295b1aaac009ccdee71105af9e125cf1651962a5c0711546b8a70668b6)=3965626236353131653761666264316331303664643262393433353739353965643335326535316366363137356164363261376235623631373136386561373531643335386437396537373733323439333437663131663863343730383636303965363063356364343363613562623031636230326536356431356365346136\r\n2023-03-02 21:49:43,575 authenticate_check(*******************, '\\xd7\\xad\\xaa)[\\x1a\\xaa\\xc0\\t\\xcc\\xde\\xe7\\x11\\x05\\xaf\\x9e\\x12\\\\\\xf1e\\x19b\\xa5\\xc0q\\x15F\\xb8\\xa7\\x06h\\xb6') response salt='9ebb6511e7afbd1c106dd2b94357959ed352e51cf6175ad62a7b5b617168ea751d358d79e7773249347f11f8c47086609e60c5cd43ca5bb01cb02e65d15ce4a6'\r\n2023-03-02 21:49:43,575 check(********)\r\n*** <ldap.ldapobject.SimpleLDAPObject instance at 0x7fc2184ce1b8> ldap://ldap.forumsys.com:389 - SimpleLDAPObject.set_option\r\n((17, 3), {})\r\n*** <ldap.ldapobject.SimpleLDAPObject instance at 0x7fc2184ce1b8> ldap://ldap.forumsys.com:389 - SimpleLDAPObject.set_option\r\n((17, 3), {})\r\n*** <ldap.ldapobject.SimpleLDAPObject instance at 0x7fc2184ce1b8> ldap://ldap.forumsys.com:389 - SimpleLDAPObject.set_option\r\n((8, 0), {})\r\n2023-03-02 21:49:43,587 ldap.open(ldap://ldap.forumsys.com:389)=<ldap.ldapobject.SimpleLDAPObject instance at 0x7fc2184ce1b8>\r\n2023-03-02 21:49:43,587 user=uid=riemann\r\n2023-03-02 21:49:43,587 ldap encoded password as utf-8\r\n*** <ldap.ldapobject.SimpleLDAPObject instance at 0x7fc2184ce1b8> ldap://ldap.forumsys.com:389 - SimpleLDAPObject.simple_bind\r\n(('uid=riemann', 'password', None, None), {})\r\n*** <ldap.ldapobject.SimpleLDAPObject instance at 0x7fc2184ce1b8> ldap://ldap.forumsys.com:389 - SimpleLDAPObject.result4\r\n((1, 1, -1, 0, 0, 0), {})\r\n2023-03-02 21:49:43,825 check(..)\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python2.7/site-packages/xpra/server/auth/ldap_auth.py\", line 103, in check\r\n    v = conn.simple_bind_s(user, password)\r\n  File \"/usr/lib64/python2.7/site-packages/ldap/ldapobject.py\", line 208, in simple_bind_s\r\n    resp_type, resp_data, resp_msgid, resp_ctrls = self.result3(msgid,all=1,timeout=self.timeout)\r\n  File \"/usr/lib64/python2.7/site-packages/ldap/ldapobject.py\", line 469, in result3\r\n    resp_ctrl_classes=resp_ctrl_classes\r\n  File \"/usr/lib64/python2.7/site-packages/ldap/ldapobject.py\", line 476, in result4\r\n    ldap_result = self._ldap_call(self._l.result4,msgid,all,timeout,add_ctrls,add_intermediates,add_extop)\r\n  File \"/usr/lib64/python2.7/site-packages/ldap/ldapobject.py\", line 99, in _ldap_call\r\n    result = func(*args,**kwargs)\r\nINVALID_CREDENTIALS: {'desc': 'Invalid credentials'}\r\n2023-03-02 21:49:43,826 authenticate_check(..)=False\r\n2023-03-02 21:49:43,827 Warning: authentication failed\r\n2023-03-02 21:49:43,827  authentication failed\r\n2023-03-02 21:49:44,829 Disconnecting client ('192.168.56.1', 63001):\r\n2023-03-02 21:49:44,830  authentication failed\r\n2023-03-02 21:49:45,025 Error sending '/usr/share/xpra/www/Sessions':\r\n2023-03-02 21:49:45,025  [Errno 2] No such file or directory\r\n2023-03-02 21:49:45,029 Error sending '/usr/share/xpra/www/Menu':\r\n2023-03-02 21:49:45,029  [Errno 2] No such file or directory\r\n2023-03-02 21:49:45,034 Error sending '/usr/share/xpra/www/DesktopMenu':\r\n2023-03-02 21:49:45,035  [Errno 2] No such file or directory\r\n2023-03-02 21:49:45,040 Error sending '/usr/share/xpra/www/Displays':\r\n2023-03-02 21:49:45,040  [Errno 2] No such file or directory\r\n^C\r\n2023-03-02 21:50:01,504 got signal SIGINT\r\n2023-03-02 21:50:01,504 exiting\r\n2023-03-02 21:50:01,605 closing tcp socket '0.0.0.0:14500'\r\n[root@iqlcen7vm ~]#\r\n```\r\n\r\nI have tried to understand how to set up Xpra for LDAP authentication from https://xpra.org/trac/ticket/1791 , but I'm sure I am missing something.\r\n\r\nAny help would be greatly appreciated.\r\n\r\nMany thanks,\r\nWalakee\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3781/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3781/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3777", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3777/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3777/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3777/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3777", "id": 1604875842, "node_id": "I_kwDOE8kGxM5fqHZC", "number": 3777, "title": "latest MacOS breaks py2app packaging", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681232498, "node_id": "MDU6TGFiZWwyNjgxMjMyNDk4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/macos", "name": "macos", "color": "A6D7AE", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-01T12:24:46Z", "updated_at": "2023-03-01T12:40:27Z", "closed_at": "2023-03-01T12:40:26Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I can't wait to hear the excuse wrapped in marketing speak that they will have to come up with for explaining doing dumb stuff like this:\r\n```python\r\n$ from ctypes import cdll\r\n$ lib=cdll.LoadLibrary('/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation')\r\n$ print(lib)\r\n<CDLL '/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation', handle fff115f189f8 at 0x1053eec80>\r\n```\r\n```shell\r\n% ls /System/Library/Frameworks/CoreFoundation.framework/\r\nResources\r\nVersions\r\n% ls /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation\r\nls: /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation: No such file or directory\r\n```\r\n\r\nAs per [MacOS Big Sur - Python ctypes find_library does not find libraries (ssl, CoreFoundation, etc](https://stackoverflow.com/questions/62587131/): _This behaviour stopped working in macOS Big Sur due to dylibs being removed from disk when they are included in the dyld shared cache_\r\n\r\nMore hand waving in this thread: [Missing librairies in /usr/lib on Big Sur?](https://developer.apple.com/forums/thread/655588)\r\n\r\nSo the files exist, but `stat` or `ls` can't see them!\r\nWow.\r\n\r\nThis causes the `py2app` packaging scripts to fail when they try to `create_binaries`: `MachOGraphy.py` doesn't find the file in `run_file` and bails out..", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3777/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3777/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3774", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3774/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3774/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3774/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3774", "id": 1603888924, "node_id": "I_kwDOE8kGxM5fmWcc", "number": 3774, "title": "Error during startup", "user": {"login": "MarkoSchuetz", "id": 944309, "node_id": "MDQ6VXNlcjk0NDMwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/944309?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkoSchuetz", "html_url": "https://github.com/MarkoSchuetz", "followers_url": "https://api.github.com/users/MarkoSchuetz/followers", "following_url": "https://api.github.com/users/MarkoSchuetz/following{/other_user}", "gists_url": "https://api.github.com/users/MarkoSchuetz/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkoSchuetz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkoSchuetz/subscriptions", "organizations_url": "https://api.github.com/users/MarkoSchuetz/orgs", "repos_url": "https://api.github.com/users/MarkoSchuetz/repos", "events_url": "https://api.github.com/users/MarkoSchuetz/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkoSchuetz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2685218208, "node_id": "MDU6TGFiZWwyNjg1MjE4MjA4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/X11", "name": "X11", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-28T22:08:34Z", "updated_at": "2023-03-02T05:20:26Z", "closed_at": "2023-03-02T05:20:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI see the following in the log file:\r\n```\r\n2023-02-28 17:43:22,465 XError: <class 'TypeError'>, XTestPointerDevice.move_pointer() missing 1 required positional argument:\r\n 'props'\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.10/site-packages/xpra/x11/x11_server_base.py\", line 202, in verify_uinput_pointer_device\r\n    xtest.move_pointer(0, ox, oy)\r\nTypeError: XTestPointerDevice.move_pointer() missing 1 required positional argument: 'props'\r\nxpra main error:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.10/site-packages/xpra/scripts/main.py\", line 139, in main\r\n    return run_mode(script_file, cmdline, err, options, args, mode, defaults)\r\n  File \"/usr/lib/python3.10/site-packages/xpra/scripts/main.py\", line 440, in run_mode\r\n    return do_run_mode(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n  File \"/usr/lib/python3.10/site-packages/xpra/scripts/main.py\", line 475, in do_run_mode\r\n    return run_server(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n  File \"/usr/lib/python3.10/site-packages/xpra/scripts/main.py\", line 1854, in run_server\r\n    return do_run_server(script_file, cmdline, error_cb, options, args, mode, display, defaults)\r\n  File \"/usr/lib/python3.10/site-packages/xpra/scripts/server.py\", line 713, in do_run_server\r\n    return _do_run_server(script_file, cmdline,\r\n  File \"/usr/lib/python3.10/site-packages/xpra/scripts/server.py\", line 1413, in _do_run_server\r\n    app.init_virtual_devices(devices)\r\n  File \"/usr/lib/python3.10/site-packages/xpra/x11/x11_server_base.py\", line 185, in init_virtual_devices\r\n    self.verify_uinput_pointer_device()\r\n  File \"/usr/lib/python3.10/site-packages/xpra/x11/x11_server_base.py\", line 204, in verify_uinput_pointer_device\r\n    self.pointer_device.move_pointer(0, nx, ny)\r\nTypeError: UInputPointerDevice.move_pointer() missing 1 required positional argument: 'props'\r\n\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `xpra start --sharing=yes  --html=on --bind-tcp=192.168.xxx.xxx:14501 --start-via-proxy=no --start='zathura Some.pdf'`\r\n2. no client needed\r\n3. mo further action needed\r\n\r\n**System Information (please complete the following information):**\r\n - Linux 6.1.12-1-MANJARO\r\n - n/a\r\n - xpra v5.0-r32780 (g3f3a42c32) beta\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3774/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3774/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3773", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3773/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3773/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3773/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3773", "id": 1602428478, "node_id": "I_kwDOE8kGxM5fgx4-", "number": 3773, "title": "Xpra cannot find \"set_screen_size\" in start-desktop", "user": {"login": "hazeltoh", "id": 126546699, "node_id": "U_kgDOB4rzCw", "avatar_url": "https://avatars.githubusercontent.com/u/126546699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hazeltoh", "html_url": "https://github.com/hazeltoh", "followers_url": "https://api.github.com/users/hazeltoh/followers", "following_url": "https://api.github.com/users/hazeltoh/following{/other_user}", "gists_url": "https://api.github.com/users/hazeltoh/gists{/gist_id}", "starred_url": "https://api.github.com/users/hazeltoh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hazeltoh/subscriptions", "organizations_url": "https://api.github.com/users/hazeltoh/orgs", "repos_url": "https://api.github.com/users/hazeltoh/repos", "events_url": "https://api.github.com/users/hazeltoh/events{/privacy}", "received_events_url": "https://api.github.com/users/hazeltoh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681274986, "node_id": "MDU6TGFiZWwyNjgxMjc0OTg2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/geometry", "name": "geometry", "color": "c5def5", "default": false, "description": ""}, {"id": 2685218208, "node_id": "MDU6TGFiZWwyNjg1MjE4MjA4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/X11", "name": "X11", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-28T06:05:28Z", "updated_at": "2023-02-28T07:14:56Z", "closed_at": "2023-02-28T07:14:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nXpra server does not resize window upon client connection. It will only resize window on the first time the client connects. Upon doing `-d geometry`, we can see that it is unable to find the function `self.set_screen_size` in `ScreenDesktopModel`.  Tested the same thing in Xpra beta versions and it also has the same issue.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. xpra start-desktop :1 --bind-tcp=0.0.0.0:8080 -d geometry\r\n2. Accessing via localhost:8080 using Chrome (110.0.5481.100)\r\n3. Resize chrome window\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 22.04\r\n - Client OS: MacOS Ventura\r\n - Xpra Server Version: v4.4.3-r0\r\n - Xpra Client Version: latest\r\n\r\n**Additional context**\r\n<img width=\"1594\" alt=\"Screenshot 2022-12-28 at 3 57 19 PM\" src=\"https://user-images.githubusercontent.com/126546699/221767327-34bb0dbd-c091-4033-babc-c07550d657df.png\">\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3773/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3772", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3772/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3772/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3772/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3772", "id": 1599694855, "node_id": "I_kwDOE8kGxM5fWWgH", "number": 3772, "title": "3.1.x branch compatibility issue with html5 v5.x", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-25T12:32:40Z", "updated_at": "2023-03-03T14:39:27Z", "closed_at": "2023-03-03T14:38:31Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "When running against a v3.1.x server, there is only `rencode` and `bencode` packet encoders available and so the server chooses `bencode`.\r\n\r\n`info-response` packets trigger a network parsing error because the network parsing code in the html5 client has been re-worked to prefer `rencodeplus` (#3229) and not use `rencode` (too many unfixable problems).\r\n\r\nThis is not easily fixable - especially in an EOL branch. Potential solutions:\r\n* don't send `info-response` packets with `bencode` (+ `html5` client?)\r\n* add `rencodeplus` to the v3.1.x branch", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3772/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3772/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3771", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3771/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3771/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3771/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3771", "id": 1593643939, "node_id": "I_kwDOE8kGxM5e_ROj", "number": 3771, "title": "MacOS segfault in `get_default_conf_dirs`", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681232498, "node_id": "MDU6TGFiZWwyNjgxMjMyNDk4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/macos", "name": "macos", "color": "A6D7AE", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-21T15:06:47Z", "updated_at": "2023-02-23T16:00:32Z", "closed_at": "2023-02-23T16:00:31Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Could well be related to #3770.\r\n\r\nWhen running from the bundled application, it segfaults.\r\nWhen running from a `jhbuild` shell:\r\n```shell\r\n$ python3 -c \"from xpra.platform.paths import get_default_conf_dirs;print(get_default_conf_dirs())\"\r\n\r\n** (process:53532): WARNING **: 21:53:03.180: Failed to load shared library 'libpango-1.0.0.dylib' referenced by the typelib: dlopen(libpango-1.0.0.dylib, 9): image not found\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/site-packages/xpra/platform/paths.py\", line 83, in get_default_conf_dirs\r\n    return envaslist_or_delegate(\"XPRA_DEFAULT_CONF_DIRS\", do_get_default_conf_dirs)\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/site-packages/xpra/platform/paths.py\", line 29, in envaslist_or_delegate\r\n    return impl(*args)\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/site-packages/xpra/platform/darwin/paths.py\", line 75, in do_get_default_conf_dirs\r\n    return [os.path.join(get_resources_dir(), \"etc\", \"xpra\")]\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/site-packages/xpra/platform/paths.py\", line 199, in get_resources_dir\r\n    return env_or_delegate(\"XPRA_RESOURCES_DIR\", do_get_resources_dir)\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/site-packages/xpra/platform/paths.py\", line 34, in env_or_delegate\r\n    return impl(*args)\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/site-packages/xpra/platform/darwin/paths.py\", line 27, in do_get_resources_dir\r\n    macapp = get_OSXApplication()\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/site-packages/xpra/platform/darwin/__init__.py\", line 39, in get_OSXApplication\r\n    from gi.repository import GtkosxApplication #@UnresolvedImport\r\n  File \"<frozen importlib._bootstrap>\", line 1027, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 672, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 632, in _load_backward_compatible\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/site-packages/gi/importer.py\", line 144, in load_module\r\n    importlib.import_module('gi.repository.' + dep.split(\"-\")[0])\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1050, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1027, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 672, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 632, in _load_backward_compatible\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/site-packages/gi/importer.py\", line 144, in load_module\r\n    importlib.import_module('gi.repository.' + dep.split(\"-\")[0])\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1050, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1027, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 672, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 632, in _load_backward_compatible\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/site-packages/gi/importer.py\", line 144, in load_module\r\n    importlib.import_module('gi.repository.' + dep.split(\"-\")[0])\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1050, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1027, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 672, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 632, in _load_backward_compatible\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/site-packages/gi/importer.py\", line 145, in load_module\r\n    dynamic_module = load_overrides(introspection_module)\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/site-packages/gi/overrides/__init__.py\", line 118, in load_overrides\r\n    override_mod = importlib.import_module(override_package_name)\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/site-packages/gi/overrides/Pango.py\", line 41, in <module>\r\n    FontDescription = override(FontDescription)\r\n  File \"/Users/macos/gtk/inst/lib/python3.10/site-packages/gi/overrides/__init__.py\", line 195, in override\r\n    assert g_type != TYPE_NONE\r\nAssertionError\r\n```\r\n\r\n`assert g_type != TYPE_NONE`, we meet again: https://github.com/Xpra-org/gtk-osx-build/issues/21", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3771/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3771/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3770", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3770/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3770/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3770/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3770", "id": 1592072328, "node_id": "I_kwDOE8kGxM5e5RiI", "number": 3770, "title": "MacOS `setDelegate_` event listener causes segfault", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681232498, "node_id": "MDU6TGFiZWwyNjgxMjMyNDk4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/macos", "name": "macos", "color": "A6D7AE", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-20T15:31:52Z", "updated_at": "2023-02-28T16:45:34Z", "closed_at": "2023-02-28T16:45:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`setDelegate_` is causing crashes, was disabled in cc58a0dca04bb56a414731baa8d15f81d5078682, the update to `pyobjc` 9.0.1 (https://github.com/Xpra-org/gtk-osx-build/commit/95c8a02894d7fac2915239433a9f196a7f15cf4e) looked like it had fixed things (at least the example was running OK - and even xpra was on the build VM?) so 9ce4e21b7fdba5fb1db7a364aed7c0e5809954ba had re-enabled it... but it is still crashing on other systems... so e0ba9f83929d4a51bdaff5c375e00420928c6f75 disables it again!", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3770/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3770/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3769", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3769/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3769/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3769/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3769", "id": 1591838402, "node_id": "I_kwDOE8kGxM5e4YbC", "number": 3769, "title": "MacOS builds OpenGL backend does not paint the window", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681232498, "node_id": "MDU6TGFiZWwyNjgxMjMyNDk4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/macos", "name": "macos", "color": "A6D7AE", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2023-02-20T13:04:02Z", "updated_at": "2023-03-09T15:15:33Z", "closed_at": "2023-03-09T15:15:32Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Not sure when it broke, perhaps one of the numerous updates in https://github.com/Xpra-org/gtk-osx-build/issues/25.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3769/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3768", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3768/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3768/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3768/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3768", "id": 1590685688, "node_id": "I_kwDOE8kGxM5ez-_4", "number": 3768, "title": "Remove python <<3.11 dependency?", "user": {"login": "SkyperTHC", "id": 5938498, "node_id": "MDQ6VXNlcjU5Mzg0OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5938498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SkyperTHC", "html_url": "https://github.com/SkyperTHC", "followers_url": "https://api.github.com/users/SkyperTHC/followers", "following_url": "https://api.github.com/users/SkyperTHC/following{/other_user}", "gists_url": "https://api.github.com/users/SkyperTHC/gists{/gist_id}", "starred_url": "https://api.github.com/users/SkyperTHC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SkyperTHC/subscriptions", "organizations_url": "https://api.github.com/users/SkyperTHC/orgs", "repos_url": "https://api.github.com/users/SkyperTHC/repos", "events_url": "https://api.github.com/users/SkyperTHC/events{/privacy}", "received_events_url": "https://api.github.com/users/SkyperTHC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709857, "node_id": "MDU6TGFiZWwyNjc4NzA5ODU3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-19T13:20:11Z", "updated_at": "2023-02-19T13:28:28Z", "closed_at": "2023-02-19T13:28:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nThe latest .deb at https://xpra.org/dists/sid/main/binary-amd64/ has a python <<3.11 dependency.\r\n\r\nThis causes a problem now that python 3.11.1 is widely deployed:\r\n```\r\n(Reading database ... 47492 files and directories currently installed.)\r\nPreparing to unpack xpra_4.4.3-r0-1_amd64.deb ...\r\nUnpacking xpra (4.4.3-r0-1) over (4.4.3-r0-1) ...\r\ndpkg: xpra: dependency problems, but configuring anyway as you requested:\r\n xpra depends on python3 (<< 3.11); however:\r\n  Version of python3 on system is 3.11.1-3.\r\n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3768/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3768/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3763", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3763/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3763/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3763/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3763", "id": 1583914762, "node_id": "I_kwDOE8kGxM5eaJ8K", "number": 3763, "title": "Another \"Error creating launcher form\" \"Unknown OpenSSL error\"", "user": {"login": "rrama", "id": 2266832, "node_id": "MDQ6VXNlcjIyNjY4MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/2266832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rrama", "html_url": "https://github.com/rrama", "followers_url": "https://api.github.com/users/rrama/followers", "following_url": "https://api.github.com/users/rrama/following{/other_user}", "gists_url": "https://api.github.com/users/rrama/gists{/gist_id}", "starred_url": "https://api.github.com/users/rrama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rrama/subscriptions", "organizations_url": "https://api.github.com/users/rrama/orgs", "repos_url": "https://api.github.com/users/rrama/repos", "events_url": "https://api.github.com/users/rrama/events{/privacy}", "received_events_url": "https://api.github.com/users/rrama/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709842, "node_id": "MDU6TGFiZWwyNjc4NzA5ODQy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue or pull request already exists"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-14T10:38:57Z", "updated_at": "2023-02-14T13:56:55Z", "closed_at": "2023-02-14T13:56:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nXpra crashes when opening the connection window (launcher form) with an \"Unknown OpenSSL error\" (Traceback in screenshot below).\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1.  Launch the Xpra client on Mac.\r\n1.  Press the \"Connect\" button.\r\n\r\n**System Information (please complete the following information):**\r\n -  Server OS: N/A\r\n -  Client OS: MacBook Pro with Apple M1 Max running macOS 13.1\r\n -  Xpra Server Version: N/A\r\n -  Xpra Client Version: 4.4.3\r\n\r\n**Additional context**\r\nI have tried running both:\r\n`xpra --ssh=ssh --ssh-upgrade=no gui` and `xpra --ssh=ssh --ssh-upgrade=no launcher` as suggested in #3701\r\nI have also tried directly opening a `.xpra` file with the following lines at the bottom:\r\n```\r\nssh=ssh\r\nssh-upgrade=no\r\n```\r\n\r\nI have screenshotted the error, since I don't seem to be able to copy & paste it.\r\n<img width=\"599\" alt=\"Screenshot 2023-02-14 at 10 31 33\" src=\"https://user-images.githubusercontent.com/2266832/218709977-307b97ac-b9fb-4e7d-be4c-3fdd0f909355.png\">\r\nThe trace looks different, hence why I am opening a new issue, but if it is the same then feel free to mark it as a duplicate and I'll post there.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3763/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3763/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3762", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3762/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3762/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3762/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3762", "id": 1581930035, "node_id": "I_kwDOE8kGxM5eSlYz", "number": 3762, "title": "[beta] focal repository \"is no longer signed\"", "user": {"login": "zatricky", "id": 3970906, "node_id": "MDQ6VXNlcjM5NzA5MDY=", "avatar_url": "https://avatars.githubusercontent.com/u/3970906?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zatricky", "html_url": "https://github.com/zatricky", "followers_url": "https://api.github.com/users/zatricky/followers", "following_url": "https://api.github.com/users/zatricky/following{/other_user}", "gists_url": "https://api.github.com/users/zatricky/gists{/gist_id}", "starred_url": "https://api.github.com/users/zatricky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zatricky/subscriptions", "organizations_url": "https://api.github.com/users/zatricky/orgs", "repos_url": "https://api.github.com/users/zatricky/repos", "events_url": "https://api.github.com/users/zatricky/events{/privacy}", "received_events_url": "https://api.github.com/users/zatricky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-02-13T09:03:22Z", "updated_at": "2023-04-28T13:08:43Z", "closed_at": "2023-04-28T13:08:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n    $ sudo apt update\r\n    [... snip ...]\r\n    Reading package lists... Done   \r\n    E: The repository 'https://xpra.org/beta focal Release' is no longer signed.\r\n    N: Updating from such a repository can't be done securely, and is therefore disabled by default.\r\n    N: See apt-secure(8) manpage for repository creation and user configuration details.\r\n\r\n**To Reproduce**\r\n\r\nNormal update:\r\n\r\n    $ sudo apt update\r\n\r\n**System Information (please complete the following information):**\r\n\r\n - Server OS: Ubuntu 20.04 (focal)\r\n - Client OS: n/a\r\n - Xpra Server Version: n/a\r\n - Xpra Client Version: n/a\r\n\r\n**Additional context**\r\n\r\nSee #2208 ; maybe the same problem?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3762/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3758", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3758/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3758/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3758/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3758", "id": 1577398144, "node_id": "I_kwDOE8kGxM5eBS-A", "number": 3758, "title": "OverflowError: can't convert negative value to unsigned long", "user": {"login": "mad-ady", "id": 4255530, "node_id": "MDQ6VXNlcjQyNTU1MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/4255530?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mad-ady", "html_url": "https://github.com/mad-ady", "followers_url": "https://api.github.com/users/mad-ady/followers", "following_url": "https://api.github.com/users/mad-ady/following{/other_user}", "gists_url": "https://api.github.com/users/mad-ady/gists{/gist_id}", "starred_url": "https://api.github.com/users/mad-ady/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mad-ady/subscriptions", "organizations_url": "https://api.github.com/users/mad-ady/orgs", "repos_url": "https://api.github.com/users/mad-ady/repos", "events_url": "https://api.github.com/users/mad-ady/events{/privacy}", "received_events_url": "https://api.github.com/users/mad-ady/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}, {"id": 2685218208, "node_id": "MDU6TGFiZWwyNjg1MjE4MjA4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/X11", "name": "X11", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2023-02-09T07:42:05Z", "updated_at": "2023-02-16T12:38:39Z", "closed_at": "2023-02-16T10:22:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nSometimes, having multiple remote windows visible causes them to quickly toggle focus between them (like ALT+TAB) several times. The following log messages is written in the xpra server log (and repeated for each focus switch):\r\n```\r\nFeb 09 09:21:14 frost xpra[3984207]: OverflowError: can't convert negative value to unsigned long\r\nFeb 09 09:21:14 frost xpra[3984207]: Exception ignored in: 'xpra.x11.bindings.core_bindings.X11CoreBindingsInstance.xatom'\r\nFeb 09 09:21:14 frost xpra[3984207]: Traceback (most recent call last):\r\nFeb 09 09:21:14 frost xpra[3984207]:   File \"/usr/lib/python3/dist-packages/xpra/x11/gtk_x11/send_wm.py\", line 33, in send_wm_take_focus\r\nFeb 09 09:21:14 frost xpra[3984207]:     X11Window.sendClientMessage(xid, xid, False, 0,\r\nFeb 09 09:21:14 frost xpra[3984207]: OverflowError: can't convert negative value to unsigned long\r\n\r\n```\r\nNote that these messages are also written to log from time to time even if I don't notice a focus switch...\r\n\r\n\r\n**To Reproduce**\r\nNote - it doesn't always happen. For me, it started happening from November 2022 intermittently. Before that (I have been using the same setup for a few years), it hasn't happened.\r\nSteps to reproduce the behavior:\r\n1. server command:\r\n```\r\n$  cat /etc/systemd/system/xpra.service\r\n[Unit]\r\nDescription=xpra server for :100\r\nAfter=network.target auditd.service\r\n\r\n[Service]\r\nUser=adrianp\r\nGroup=adrianp\r\nEnvironment=XPRA_ACK_TOLERANCE=1000\r\nExecStart=/usr/bin/xpra start :100 --systemd-run=no --daemon=no --start-via-proxy=no\r\nExecStop=/usr/bin/xpra stop :100\r\nExecReload=/bin/kill -HUP $MAINPID\r\nKillMode=process\r\nRestart=on-failure\r\nType=simple\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n\r\n```\r\n2. client command\r\n```\r\n/usr/bin/xpra_launcher\r\n```\r\n3. specific action to trigger the bug\r\nSometimes having two windows that overlap (e.g. one instance of thunderbird and one of firefox, or a thunderbird with a email open as a new window) causes the issue. Other windows that are managed by the same window manager don't cause the issue. Focus switching happens only between windows managed by xpra. To workaround the issue I need to move one window to a different display, or minimize it and leave only one visible.\r\n\r\nHere is a video recording of the bug, together with a `tail -f` on the xpra server log: https://imgur.com/a/XRWbryy\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 22.04.1 LTS\r\n - Client OS: Ubuntu 22.04.1 LTS\r\n - Xpra Server Version v4.4.3-r0\r\n - Xpra Client Version v4.4.3-r0\r\n\r\n**Additional context**\r\nMy desktop environment is XFCE 4.16 with xfwm4 window manager.\r\nI'm available to run further tests and try to reproduce the issue/produce better logging if you can give me instructions.\r\nI'm running xpra installed via apt from this repository: `deb https://xpra.org/ jammy main`\r\nWhen connecting from Windows to the same server I don't experience the same issue (though I connect very rarely, so I might have not caught it)\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3758/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3755", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3755/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3755/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3755/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3755", "id": 1568128054, "node_id": "I_kwDOE8kGxM5dd7w2", "number": 3755, "title": "Xpra 4.4.3-r0-1 on Debian prevents Python upgrade to 3.11", "user": {"login": "fpoto", "id": 5763468, "node_id": "MDQ6VXNlcjU3NjM0Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/5763468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fpoto", "html_url": "https://github.com/fpoto", "followers_url": "https://api.github.com/users/fpoto/followers", "following_url": "https://api.github.com/users/fpoto/following{/other_user}", "gists_url": "https://api.github.com/users/fpoto/gists{/gist_id}", "starred_url": "https://api.github.com/users/fpoto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fpoto/subscriptions", "organizations_url": "https://api.github.com/users/fpoto/orgs", "repos_url": "https://api.github.com/users/fpoto/repos", "events_url": "https://api.github.com/users/fpoto/events{/privacy}", "received_events_url": "https://api.github.com/users/fpoto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2023-02-02T14:08:55Z", "updated_at": "2023-03-30T15:18:25Z", "closed_at": "2023-02-02T14:22:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "xpra : Depends: python3 (< 3.11) but 3.11.1-2 is to be installed", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3755/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3755/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3753", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3753/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3753/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3753/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3753", "id": 1565704065, "node_id": "I_kwDOE8kGxM5dUr-B", "number": 3753, "title": "Xpra Start menu not responding (with html)", "user": {"login": "SkyperTHC", "id": 5938498, "node_id": "MDQ6VXNlcjU5Mzg0OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5938498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SkyperTHC", "html_url": "https://github.com/SkyperTHC", "followers_url": "https://api.github.com/users/SkyperTHC/followers", "following_url": "https://api.github.com/users/SkyperTHC/following{/other_user}", "gists_url": "https://api.github.com/users/SkyperTHC/gists{/gist_id}", "starred_url": "https://api.github.com/users/SkyperTHC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SkyperTHC/subscriptions", "organizations_url": "https://api.github.com/users/SkyperTHC/orgs", "repos_url": "https://api.github.com/users/SkyperTHC/repos", "events_url": "https://api.github.com/users/SkyperTHC/events{/privacy}", "received_events_url": "https://api.github.com/users/SkyperTHC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-01T08:59:41Z", "updated_at": "2023-02-02T13:13:31Z", "closed_at": "2023-02-01T10:07:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nDefault Kali Linux install (ubuntu). \r\n\r\n```\r\nxpra start --resize-display=1280x1024 --bind-tcp=127.0.0.1:2000,auth=allow -html=on --start=xterm --daemon=no\r\n```\r\n\r\nI can see my xterm (http://127.0.0.1:2000) and the XPRA/HTML background. There is s menu on the top left corner that shows \"Start\", \"Server\", \"Information\", ...\r\n\r\nAll the menu items work but not \"Start\". Hovering over \"Start\" with the mouse cursor or clicking on it and nothing happens (no menu opens).\r\n\r\nxpra X11 seamless version 4.4.3-r0 64-bit\r\nrunning with pid 1240 on Linux Kali 2022.4 kali-rolling\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3753/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3752", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3752/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3752/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3752/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3752", "id": 1563635887, "node_id": "I_kwDOE8kGxM5dMzCv", "number": 3752, "title": "Xpra beta/stable has unmet dependencies on Debian testing/bookworm", "user": {"login": "markmandel", "id": 298370, "node_id": "MDQ6VXNlcjI5ODM3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/298370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markmandel", "html_url": "https://github.com/markmandel", "followers_url": "https://api.github.com/users/markmandel/followers", "following_url": "https://api.github.com/users/markmandel/following{/other_user}", "gists_url": "https://api.github.com/users/markmandel/gists{/gist_id}", "starred_url": "https://api.github.com/users/markmandel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markmandel/subscriptions", "organizations_url": "https://api.github.com/users/markmandel/orgs", "repos_url": "https://api.github.com/users/markmandel/repos", "events_url": "https://api.github.com/users/markmandel/events{/privacy}", "received_events_url": "https://api.github.com/users/markmandel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-01-31T04:30:39Z", "updated_at": "2023-01-31T19:46:55Z", "closed_at": "2023-01-31T19:46:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nCan't install Xpra on Debian testing currently. Updates will force xpra to uninstall.\r\n\r\n```shell\r\n\u276f cat /etc/apt/sources.list.d/xpra_org.list\r\ndeb [arch=amd64,arm64 signed-by=/usr/share/keyrings/xpra-2022.gpg] https://xpra.org/ testing main\r\ndeb [arch=amd64,arm64 signed-by=/usr/share/keyrings/xpra-2022.gpg] https://xpra.org/beta/ testing main\r\n```\r\n\r\n**To Reproduce**\r\n\r\n```shell\r\n\u276f sudo apt install xpra\r\nReading package lists... Done\r\nBuilding dependency tree... Done\r\nReading state information... Done\r\nSome packages could not be installed. This may mean that you have\r\nrequested an impossible situation or if you are using the unstable\r\ndistribution that some required packages have not yet been created\r\nor been moved out of Incoming.\r\nThe following information may help to resolve the situation:\r\n\r\nThe following packages have unmet dependencies:\r\n xpra : Depends: python3 (< 3.11) but 3.11.1-2 is to be installed\r\n        Recommends: xpra-codecs but it is not going to be installed\r\n        Recommends: xpra-html5 but it is not going to be installed\r\n        Recommends: libsystemd but it is not installable\r\n        Recommends: ibus but it is not going to be installed\r\n        Recommends: python3-rencode but it is not going to be installed\r\n        Recommends: python3-zeroconf but it is not going to be installed\r\n        Recommends: python3-netifaces but it is not going to be installed\r\n        Recommends: gir1.2-appindicator3-0.1 but it is not installable or\r\n                    gir1.2-ayatanaappindicator3 but it is not installable\r\n        Recommends: gir1.2-rsvg-2.0 but it is not going to be installed\r\nE: Unable to correct problems, you have held broken packages.\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n\r\n```shell\r\n\u276f lsb_release --all\r\nNo LSB modules are available.\r\nDistributor ID: Debian\r\nDescription:    Debian GNU/Linux bookworm/sid\r\nRelease:        n/a\r\nCodename:       bookworm\r\n```\r\n\r\n**Additional context**\r\n\r\nLast time this happened there was a build in the pipeline, but figured I'd file a bug just in case it slipped through the cracks.\r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3752/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3752/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3747", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3747/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3747/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3747/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3747", "id": 1554501198, "node_id": "I_kwDOE8kGxM5cp85O", "number": 3747, "title": "OpenGL probe error when /usr/local/bin/xpra run, but not when run from build directory", "user": {"login": "gitbxf4", "id": 83480358, "node_id": "MDQ6VXNlcjgzNDgwMzU4", "avatar_url": "https://avatars.githubusercontent.com/u/83480358?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gitbxf4", "html_url": "https://github.com/gitbxf4", "followers_url": "https://api.github.com/users/gitbxf4/followers", "following_url": "https://api.github.com/users/gitbxf4/following{/other_user}", "gists_url": "https://api.github.com/users/gitbxf4/gists{/gist_id}", "starred_url": "https://api.github.com/users/gitbxf4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gitbxf4/subscriptions", "organizations_url": "https://api.github.com/users/gitbxf4/orgs", "repos_url": "https://api.github.com/users/gitbxf4/repos", "events_url": "https://api.github.com/users/gitbxf4/events{/privacy}", "received_events_url": "https://api.github.com/users/gitbxf4/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-01-24T08:06:58Z", "updated_at": "2023-03-16T13:38:40Z", "closed_at": "2023-03-16T13:38:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nHappens with both 4.4.3 and current git version. When I run xpra that is built on my machine and installed into /usr/local, I get the following error message:\r\n\r\n    `Xpra OpenGL Acceleration Failure`\r\n    `probe error: stat: path should be string, bytes, os.PathLike or integer, not NoneType`\r\n\r\nWhen I run the xpra executable in `~/src/xpra-4.4.3/fs/bin/` (after building via `python3 ./setup.py build`). it shows OpenGL working:\r\n\r\n    `Validating OpenGL: success (Mesa Intel(R) HD Graphics 4400 (HSW GT2)`\r\n\r\nI'm doing this from the client. The server has a new built version of 4.4.3 on it too.\r\n\r\n**To Reproduce**\r\nI've done it several times both ways and it happens as described each time.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian unstable (up to date)\r\n - Client OS: Debian unstable (up to date)\r\n - Xpra Server Version 4.4.3\r\n - Xpra Client Version 4.4.3\r\n\r\n**Additional context**\r\n`python3-opengl` package is installed from Debian repository, as are all the other packages listed on the platform specific instructions for building from source, except opencv, kerberos, and gssapi.\r\n\r\nI also looked at `setup.py --help` to see if there was some OpenGL flag, but didn't see anything that looked right.\r\n\r\nThank you!", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3747/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3747/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3746", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3746/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3746/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3746/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3746", "id": 1553352995, "node_id": "I_kwDOE8kGxM5clkkj", "number": 3746, "title": "compile error of v4.4.3 on raspberry pi", "user": {"login": "PeterPablo", "id": 4340267, "node_id": "MDQ6VXNlcjQzNDAyNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/4340267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PeterPablo", "html_url": "https://github.com/PeterPablo", "followers_url": "https://api.github.com/users/PeterPablo/followers", "following_url": "https://api.github.com/users/PeterPablo/following{/other_user}", "gists_url": "https://api.github.com/users/PeterPablo/gists{/gist_id}", "starred_url": "https://api.github.com/users/PeterPablo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PeterPablo/subscriptions", "organizations_url": "https://api.github.com/users/PeterPablo/orgs", "repos_url": "https://api.github.com/users/PeterPablo/repos", "events_url": "https://api.github.com/users/PeterPablo/events{/privacy}", "received_events_url": "https://api.github.com/users/PeterPablo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-23T16:02:10Z", "updated_at": "2023-01-24T08:03:47Z", "closed_at": "2023-01-24T05:28:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/Xpra-org/xpra/blob/67446ab399dd35510a3778bfa91fde9c76a9e83f/setup.py#L2216\r\nwill fail, if if nvidia_ENABLED in some lines above evaluates to false, as the variable `CUDA_BIN` is then not initialized\r\n```\r\nTraceback (most recent call last):                                                                                             \r\n  File \"./setup.py\", line 2216, in <module>                                                                                    \r\n    add_data_files(CUDA_BIN, [\"fs/share/xpra/cuda/README.md\"])                                                                 \r\nNameError: name 'CUDA_BIN' is not defined                                                                                      \r\n```\r\n\r\nSimply commenting this line 2216 makes the compilation process start. It is too early to tell, if it will finish successfully.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3746/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3746/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3744", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3744/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3744/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3744/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3744", "id": 1549380551, "node_id": "I_kwDOE8kGxM5cWavH", "number": 3744, "title": "No H264 video in desktop mode with Gstreamer", "user": {"login": "TijZwa", "id": 19667394, "node_id": "MDQ6VXNlcjE5NjY3Mzk0", "avatar_url": "https://avatars.githubusercontent.com/u/19667394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TijZwa", "html_url": "https://github.com/TijZwa", "followers_url": "https://api.github.com/users/TijZwa/followers", "following_url": "https://api.github.com/users/TijZwa/following{/other_user}", "gists_url": "https://api.github.com/users/TijZwa/gists{/gist_id}", "starred_url": "https://api.github.com/users/TijZwa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TijZwa/subscriptions", "organizations_url": "https://api.github.com/users/TijZwa/orgs", "repos_url": "https://api.github.com/users/TijZwa/repos", "events_url": "https://api.github.com/users/TijZwa/events{/privacy}", "received_events_url": "https://api.github.com/users/TijZwa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2023-01-19T15:21:44Z", "updated_at": "2023-04-14T16:34:56Z", "closed_at": "2023-02-17T08:28:47Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nI do not receive H.264 frames with monitors mode, however Gstreamer is enabled.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `XPRA_GSTREAMER_ENCODER_PLUGIN=vaapih264enc xpra monitor :10 --bind-ws=0.0.0.0:10000 --bind-tcp=0.0.0.0:10001 --video-encoders=gstreamer --resize-display=1600x1200 -d video,score`\r\n2. Connect with the Xpra 5.x client on windows.\r\n3. Never receive a H.264 frame\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Fedora 37\r\n - Client OS:  Windows 11\r\n - Xpra Server Version 5.0-10.r32480.fc37\r\n - Xpra Client Version 5.0 revision 32459\r\n\r\n**Log**\r\nGstreamer seems to be unknown:\r\n```\r\n2023-01-19 16:19:49,313 set_modules(['gstreamer'], ['csc_swscale', 'csc_libyuv'], ())\r\n2023-01-19 16:19:49,313 Warning: ignoring unknown video encoders: gstreamer\r\n2023-01-19 16:19:49,313 VideoHelper.set_modules('gstreamer', 'csc_swscale, csc_libyuv', '') video encoders=gstreamer, csc=csc_swscale, csc_libyuv, video decoders=\r\n```\r\n\r\nBut later:\r\n```\r\n2023-01-19 16:19:50,111 VideoHelper.init()\r\n2023-01-19 16:19:50,111 VideoHelper.init() initialized=False\r\n2023-01-19 16:19:50,111 init_video_encoders_options()\r\n2023-01-19 16:19:50,111  will try video encoders: gstreamer\r\n2023-01-19 16:19:50,154 xpra is ready.\r\n2023-01-19 16:19:50,226 unhandled bus message type <flags GST_MESSAGE_HAVE_CONTEXT of type Gst.MessageType>: <Gst.Message object at 0x7fabc77abb90 (GstMessage at 0x7fabd84474c0)>\r\n2023-01-19 16:19:50,307  encoder for gstreamer: enc_gstreamer\r\n2023-01-19 16:19:50,307 init_video_encoder_option(enc_gstreamer)\r\n2023-01-19 16:19:50,307  module=<module 'xpra.codecs.gstreamer.encoder' from '/usr/lib64/python3.11/site-packages/xpra/codecs/gstreamer/encoder.py'>\r\n2023-01-19 16:19:50,307     gstreamer encodings=h264, av1\r\n2023-01-19 16:19:50,307  gstreamer  input colorspaces for  h264: YUV420P\r\n2023-01-19 16:19:50,307  gstreamer  input colorspaces for   av1: YUV420P\r\n2023-01-19 16:19:50,307 video encoder options: {'h264': {'YUV420P': [gstreamer(YUV420P to h264)]}, 'av1': {'YUV420P': [gstreamer(YUV420P to av1)]}}\r\n2023-01-19 16:19:50,307 found 2 video encoders: h264, av1\r\n2023-01-19 16:19:50,307 init_csc_options()\r\n2023-01-19 16:19:50,307  will try csc modules: csc_swscale, csc_libyuv\r\n2023-01-19 16:19:50,324 init_csc_option(csc_swscale)\r\n2023-01-19 16:19:50,324  module=<module 'xpra.codecs.ffmpeg.colorspace_converter' from '/usr/lib64/python3.11/site-packages/xpra/codecs/ffmpeg/colorspace_converter.cpython-311-x86_64-linux-gnu.so'>\r\n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3744/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3744/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3743", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3743/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3743/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3743/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3743", "id": 1549082227, "node_id": "I_kwDOE8kGxM5cVR5z", "number": 3743, "title": "Error when using Xrandr in monitor-mode", "user": {"login": "TijZwa", "id": 19667394, "node_id": "MDQ6VXNlcjE5NjY3Mzk0", "avatar_url": "https://avatars.githubusercontent.com/u/19667394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TijZwa", "html_url": "https://github.com/TijZwa", "followers_url": "https://api.github.com/users/TijZwa/followers", "following_url": "https://api.github.com/users/TijZwa/following{/other_user}", "gists_url": "https://api.github.com/users/TijZwa/gists{/gist_id}", "starred_url": "https://api.github.com/users/TijZwa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TijZwa/subscriptions", "organizations_url": "https://api.github.com/users/TijZwa/orgs", "repos_url": "https://api.github.com/users/TijZwa/repos", "events_url": "https://api.github.com/users/TijZwa/events{/privacy}", "received_events_url": "https://api.github.com/users/TijZwa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-01-19T12:44:11Z", "updated_at": "2023-03-16T13:39:40Z", "closed_at": "2023-03-16T13:39:40Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I'm using Xpra 5.x (Beta) in monitor-mode.\r\nThis works fine, but when I resize the screen using Xrandr (e.g. `DISPLAY=:10 xrandr --output DUMMY0 --mode 800x600`) the event below is logged.\r\n\r\nThe screen resizes fine.\r\n```\r\n2023-01-19 13:37:59,349 XError: <class 'KeyError'>, 'geometry'\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.11/site-packages/xpra/x11/desktop/monitor_server.py\", line 151, in do_reconfigure\r\n    self.reconfigure_monitors()\r\n  File \"/usr/lib64/python3.11/site-packages/xpra/x11/desktop/monitor_server.py\", line 214, in reconfigure_monitors\r\n    self.apply_monitor_config(defs)\r\n  File \"/usr/lib64/python3.11/site-packages/xpra/x11/desktop/monitor_server.py\", line 266, in apply_monitor_config\r\n    RandR.set_crtc_config(monitor_defs)\r\n  File \"xpra/x11/bindings/randr_bindings.pyx\", line 1001, in xpra.x11.bindings.randr_bindings.RandRBindingsInstance.set_crtc_config\r\nKeyError: 'geometry'\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3743/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3743/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3742", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3742/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3742/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3742/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3742", "id": 1538284003, "node_id": "I_kwDOE8kGxM5bsFnj", "number": 3742, "title": "Win key is not passed", "user": {"login": "dukzcry", "id": 333093, "node_id": "MDQ6VXNlcjMzMzA5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/333093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dukzcry", "html_url": "https://github.com/dukzcry", "followers_url": "https://api.github.com/users/dukzcry/followers", "following_url": "https://api.github.com/users/dukzcry/following{/other_user}", "gists_url": "https://api.github.com/users/dukzcry/gists{/gist_id}", "starred_url": "https://api.github.com/users/dukzcry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dukzcry/subscriptions", "organizations_url": "https://api.github.com/users/dukzcry/orgs", "repos_url": "https://api.github.com/users/dukzcry/repos", "events_url": "https://api.github.com/users/dukzcry/events{/privacy}", "received_events_url": "https://api.github.com/users/dukzcry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222920, "node_id": "MDU6TGFiZWwyNjgxMjIyOTIw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/shadow", "name": "shadow", "color": "850885", "default": false, "description": ""}, {"id": 2681223172, "node_id": "MDU6TGFiZWwyNjgxMjIzMTcy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/keyboard", "name": "keyboard", "color": "F53A0A", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-01-18T16:12:26Z", "updated_at": "2023-03-02T14:30:10Z", "closed_at": "2023-03-02T14:30:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWin key (Super_L) hotkeys are not passed correctly, while Alt or Ctrl hotkeys work fine\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command `xpra shadow :0 --bind-tcp=0.0.0.0:14500 --daemon=no -d keyboard`\r\n```\r\n/nix/store/wpb7bkiq8ckd873dz97v4nyjl514g33h-xmodmap-1.0.10/bin/xmodmap:  up to 4 keys per modifier, (keycodes in parentheses):\r\n\r\nshift       Shift_L (0x32),  Shift_R (0x3e)\r\nlock        Caps_Lock (0x42)\r\ncontrol     Control_L (0x25),  Control_R (0x69)\r\nmod1        Alt_L (0x40),  Alt_R (0x6c),  Meta_L (0xcd)\r\nmod2        Num_Lock (0x4d)\r\nmod3      \r\nmod4        Super_L (0x85),  Super_R (0x86),  Super_L (0xce),  Hyper_L (0xcf)\r\nmod5        ISO_Level3_Shift (0x5c),  Mode_switch (0xcb)\r\n```\r\n3. client command `xpra attach tcp://powerhorse:14500 --desktop-fulscreen=true --microphone=on`\r\n```\r\n/nix/store/wpb7bkiq8ckd873dz97v4nyjl514g33h-xmodmap-1.0.10/bin/xmodmap:  up to 4 keys per modifier, (keycodes in parentheses):\r\n\r\nshift       Shift_L (0x32),  Shift_R (0x3e)\r\nlock        Caps_Lock (0x42)\r\ncontrol     Control_L (0x25),  Control_R (0x69)\r\nmod1        Alt_L (0x40),  Alt_R (0x6c),  Meta_L (0xcd)\r\nmod2        Num_Lock (0x4d)\r\nmod3      \r\nmod4        Super_L (0x85),  Super_R (0x86),  Super_L (0xce),  Hyper_L (0xcf)\r\nmod5        ISO_Level3_Shift (0x5c),  Mode_switch (0xcb)\r\n```\r\n5. Send key combo with Win modifier\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: NixOS 22.11.20221130.596a8e8 (Raccoon)\r\n - Client OS: NixOS 22.11.20221130.596a8e8 (Raccoon)\r\n - Xpra Server Version 4.3.3-r0\r\n - Xpra Client Version 4.3.3-r0\r\n\r\n**Additional context**\r\n```\r\n2023-01-18 19:09:18,169 client   1 @57.015 parse_key_event(<Gdk.EventKey object at 0x7fb9001417b0 (void at 0x1fad6f0)>, True)=<xpra.common.KeyEvent object at 0x7fb900181960>                                                                                                                                        [31/11104]\r\n2023-01-18 19:09:18,169 client   1 @57.015 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1912, 2092), YUV420P)), <xpra.common.KeyEvent object at 0x7fb900181960>) wid=1\r\n2023-01-18 19:09:18,169 client   1 @57.016 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1912, 2092), YUV420P)), 'Super_L', [], True) shortcuts_enabled=True, shortcuts=None\r\n2023-01-18 19:09:18,169 client   1 @57.016 send_key_action(1, <xpra.common.KeyEvent object at 0x7fb900181960>)\r\n2023-01-18 19:09:18,169 do_get_keycode (133, Super_L)=133 (native keymap)                                                                                      \r\n2023-01-18 19:09:18,169 process_key_action(['key-action', 1, 'Super_L', True, (), 65515, '', 133, 0]) server keycode=133, group=0\r\n2023-01-18 19:09:18,169 set_keyboard_layout_group(0) ignored, value unchanged                                                                                  \r\n2023-01-18 19:09:18,169 filtered_modifiers_set([])=set()                                                                                                       \r\n2023-01-18 19:09:18,169 filtered_modifiers_set([])=set()                                                                                                       \r\n2023-01-18 19:09:18,169 handle_key((1, True, 'Super_L', 65515, 133, [], True, True))                         \r\n2023-01-18 19:09:18,169 handle keycode pressing   133: key 'Super_L'                                                                                           \r\n2023-01-18 19:09:18,170 fake_key(133, True)                                                                                                                    \r\n2023-01-18 19:09:18,249 client   1 @57.100 parse_key_event(<Gdk.EventKey object at 0x7fb90044f290 (void at 0x1fad510)>, True)=<xpra.common.KeyEvent object at 0x7fb9001819c0>\r\n2023-01-18 19:09:18,253 client   1 @57.101 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1912, 2092), YUV420P)), <xpra.common.KeyEvent object at 0x7fb9001819c0>) wid=1\r\n2023-01-18 19:09:18,253 client   1 @57.102 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1912, 2092), YUV420P)), '1', ['mod4'], True) shortcuts_enabled=True, shortcuts=None\r\n2023-01-18 19:09:18,253 client   1 @57.102 send_key_action(1, <xpra.common.KeyEvent object at 0x7fb9001819c0>)                                                 \r\n2023-01-18 19:09:18,253 do_get_keycode (10, 1)=10 (native keymap)\r\n2023-01-18 19:09:18,253 process_key_action(['key-action', 1, '1', True, ('mod4',), 49, '1', 10, 0]) server keycode=10, group=0\r\n2023-01-18 19:09:18,253 set_keyboard_layout_group(0) ignored, value unchanged                                                                                                                                                                                                                                                  \r\n2023-01-18 19:09:18,253 filtered_modifiers_set(['mod3'])={'mod3'}                                                                                                                                                                                                                                                              \r\n2023-01-18 19:09:18,253 filtered_modifiers_set(['mod4'])={'mod4'}                                                                                                                                                                                                                                                              \r\n2023-01-18 19:09:18,253 make_keymask_match(['mod4']) current mask: {'mod3'}, wanted: {'mod4'}, ignoring=10/['1'], keys_pressed={}                              \r\n2023-01-18 19:09:18,254 Warning: found no keynames for 'mod3'                                                                                                  \r\n2023-01-18 19:09:18,254 change_mask({'mod3'}, False, remove) failed=[]       \r\n2023-01-18 19:09:18,254 keynames(mod4)={'Hyper_L', 'Super_L', 'Super_R'}, keycodes=[207, 133, 206, 134], nuisance=False, nuisance keys={'lock', 'mod2'}\r\n2023-01-18 19:09:18,254 add mod4 with keycode 207 did not work                                                                                                 \r\n2023-01-18 19:09:18,254  trying to unpress it!                                                                                                                 \r\n2023-01-18 19:09:18,254 change_mask(add) ['mod4'] modifier 'mod4' using keycode 207, success: False\r\n2023-01-18 19:09:18,254 add mod4 with keycode 133 did not work                                                                                                 \r\n2023-01-18 19:09:18,254  trying to unpress it!    \r\n2023-01-18 19:09:18,255 change_mask(add) ['mod4'] modifier 'mod4' using keycode 133, success: False                                                            \r\n2023-01-18 19:09:18,255 add mod4 with keycode 206 did not work                                                                                                 \r\n2023-01-18 19:09:18,255  trying to unpress it!                                                                                                                 \r\n2023-01-18 19:09:18,255 change_mask(add) ['mod4'] modifier 'mod4' using keycode 206, success: False\r\n2023-01-18 19:09:18,255 add mod4 with keycode 134 did not work\r\n2023-01-18 19:09:18,255  trying to unpress it!\r\n2023-01-18 19:09:18,255 change_mask(add) ['mod4'] modifier 'mod4' using keycode 134, success: False\r\n2023-01-18 19:09:18,256 change_mask({'mod4'}, True, add) failed=['mod4']\r\n2023-01-18 19:09:18,256 is_modifier(10) not found\r\n2023-01-18 19:09:18,256 handle_key((1, True, '1', 49, 10, ['mod4'], False, True))\r\n2023-01-18 19:09:18,256 handle keycode pressing    10: key '1'\r\n2023-01-18 19:09:18,256 fake_key(10, True)\r\n12023-01-18 19:09:18,256 scheduling key repeat timer with delay 660 for 1 / 10\r\n2023-01-18 19:09:18,377 client   1 @57.217 parse_key_event(<Gdk.EventKey object at 0x7fb9001413a0 (void at 0x204f840)>, False)=<xpra.common.KeyEvent object at 0x7fb9001816c0>\r\n2023-01-18 19:09:18,377 client   1 @57.218 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1912, 2092), YUV420P)), <xpra.common.KeyEvent object at 0x7fb9001816c0>) wid=1\r\n2023-01-18 19:09:18,377 client   1 @57.219 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1912, 2092), YUV420P)), '1', ['mod4'], False) shortcuts_enabled=True, shortcuts=None\r\n2023-01-18 19:09:18,377 client   1 @57.220 send_key_action(1, <xpra.common.KeyEvent object at 0x7fb9001816c0>)\r\n2023-01-18 19:09:18,378 process_key_action(['key-action', 1, '1', False, ('mod4',), 49, '1', 10, 0]) server keycode=10, group=0\r\n2023-01-18 19:09:18,378 set_keyboard_layout_group(0) ignored, value unchanged\r\n2023-01-18 19:09:18,378 filtered_modifiers_set([])=set()\r\n2023-01-18 19:09:18,378 filtered_modifiers_set(['mod4'])={'mod4'}\r\n2023-01-18 19:09:18,378 make_keymask_match(['mod4']) current mask: set(), wanted: {'mod4'}, ignoring=10/['1'], keys_pressed={}\r\n2023-01-18 19:09:18,378 change_mask(set(), False, remove) failed=[]\r\n2023-01-18 19:09:18,378 keynames(mod4)={'Hyper_L', 'Super_L', 'Super_R'}, keycodes=[207, 133, 206, 134], nuisance=False, nuisance keys={'lock', 'mod2'}\r\n2023-01-18 19:09:18,378 add mod4 with keycode 207 did not work\r\n2023-01-18 19:09:18,378  trying to unpress it!\r\n2023-01-18 19:09:18,379 change_mask(add) ['mod4'] modifier 'mod4' using keycode 207, success: False\r\n2023-01-18 19:09:18,379 add mod4 with keycode 133 did not work\r\n2023-01-18 19:09:18,379  trying to unpress it!\r\n2023-01-18 19:09:18,379 change_mask(add) ['mod4'] modifier 'mod4' using keycode 133, success: False\r\n2023-01-18 19:09:18,379 add mod4 with keycode 206 did not work\r\n2023-01-18 19:09:18,379  trying to unpress it!\r\n2023-01-18 19:09:18,379 change_mask(add) ['mod4'] modifier 'mod4' using keycode 206, success: False\r\n2023-01-18 19:09:18,380 add mod4 with keycode 134 did not work\r\n2023-01-18 19:09:18,380  trying to unpress it!\r\n2023-01-18 19:09:18,380 change_mask(add) ['mod4'] modifier 'mod4' using keycode 134, success: False\r\n2023-01-18 19:09:18,380 change_mask({'mod4'}, True, add) failed=['mod4']\r\n2023-01-18 19:09:18,380 is_modifier(10) not found\r\n2023-01-18 19:09:18,380 handle_key((1, False, '1', 49, 10, ['mod4'], False, True))\r\n2023-01-18 19:09:18,380 handle keycode unpressing  10: key '1'\r\n2023-01-18 19:09:18,380 fake_key(10, False)\r\n2023-01-18 19:09:18,404 client   1 @57.254 parse_key_event(<Gdk.EventKey object at 0x7fb900140680 (void at 0x204f980)>, False)=<xpra.common.KeyEvent object at 0x7fb900182140>\r\n2023-01-18 19:09:18,404 client   1 @57.255 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1912, 2092), YUV420P)), <xpra.common.KeyEvent object at 0x7fb900182140>) wid=1\r\n2023-01-18 19:09:18,406 client   1 @57.256 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1912, 2092), YUV420P)), 'Super_L', ['mod4'], False) shortcuts_enabled=True, shortcuts=None\r\n2023-01-18 19:09:18,407 client   1 @57.257 send_key_action(1, <xpra.common.KeyEvent object at 0x7fb900182140>)\r\n2023-01-18 19:09:18,407 process_key_action(['key-action', 1, 'Super_L', False, ('mod4',), 65515, '', 133, 0]) server keycode=133, group=0\r\n2023-01-18 19:09:18,407 set_keyboard_layout_group(0) ignored, value unchanged\r\n2023-01-18 19:09:18,407 filtered_modifiers_set([])=set()\r\n2023-01-18 19:09:18,407 modifier 'mod4' ignored (in ignored keynames={'Hyper_L', 'Super_L', 'Super_R'})\r\n2023-01-18 19:09:18,407 filtered_modifiers_set(['mod4'])=set()\r\n2023-01-18 19:09:18,407 handle_key((1, False, 'Super_L', 65515, 133, ['mod4'], True, True))\r\n2023-01-18 19:09:18,407 handle keycode unpressing 133: key 'Super_L'\r\n2023-01-18 19:09:18,407 fake_key(133, False)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3742/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3737", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3737/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3737/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3737/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3737", "id": 1533835759, "node_id": "I_kwDOE8kGxM5bbHnv", "number": 3737, "title": "gstreamer crashes the X11 server!", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}, {"id": 2685218208, "node_id": "MDU6TGFiZWwyNjg1MjE4MjA4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/X11", "name": "X11", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-15T14:18:02Z", "updated_at": "2023-01-16T03:11:21Z", "closed_at": "2023-01-15T14:54:53Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Originally recorded in https://github.com/Xpra-org/xpra/issues/3706#issuecomment-1373103198\r\nThis settles the questions of whether we should move the audio back into the main process!\r\n\r\nWhat's interesting is that it somehow ends up corrupting the server process, not just the X11 client!\r\n```\r\n[Detaching after fork from child process 1557557]\r\n[New Thread 0x7fffbf1ff6c0 (LWP 1557558)]\r\nXorg: ../../../include/privates.h:121: dixGetPrivateAddr: Assertion `key->initialized' failed.\r\n\r\nThread 1 \"Xorg\" received signal SIGABRT, Aborted.\r\n__pthread_kill_implementation (threadid=<optimized out>, signo=signo@entry=6, no_tid=no_tid@entry=0) at pthread_kill.c:44\r\n44\t      return INTERNAL_SYSCALL_ERROR_P (ret) ? INTERNAL_SYSCALL_ERRNO (ret) : 0;\r\n(gdb) bt\r\n#0  __pthread_kill_implementation (threadid=<optimized out>, signo=signo@entry=6, no_tid=no_tid@entry=0) at pthread_kill.c:44\r\n#1  0x00007ffff7645ee3 in __pthread_kill_internal (signo=6, threadid=<optimized out>) at pthread_kill.c:78\r\n#2  0x00007ffff75f5aa6 in __GI_raise (sig=sig@entry=6) at ../sysdeps/posix/raise.c:26\r\n#3  0x00007ffff75df7fc in __GI_abort () at abort.c:79\r\n#4  0x00007ffff75df71b in __assert_fail_base\r\n    (fmt=0x7ffff77549e0 \"%s%s%s:%u: %s%sAssertion `%s' failed.\\n%n\", assertion=0x55555572a233 \"key->initialized\", file=0x55555572dbf0 \"../../../include/privates.h\", line=121, function=<optimized out>) at assert.c:92\r\n#5  0x00007ffff75ee656 in __GI___assert_fail\r\n    (assertion=assertion@entry=0x55555572a233 \"key->initialized\", file=file@entry=0x55555572dbf0 \"../../../include/privates.h\", line=line@entry=121, function=function@entry=0x55555574e9e0 <__PRETTY_FUNCTION__.7> \"dixGetPrivateAddr\") at assert.c:101\r\n#6  0x00005555556d8a25 in dixGetPrivateAddr (key=<optimized out>, privates=<optimized out>) at dri2/../../../include/privates.h:121\r\n#7  0x00005555556d90d5 in dixGetPrivateAddr (key=<optimized out>, privates=<optimized out>) at dri2/../../../include/privates.h:166\r\n#8  dixLookupPrivate (key=<optimized out>, privates=<optimized out>) at dri2/../../../include/privates.h:164\r\n#9  DRI2Authenticate (client=client@entry=0x555555bba410, pScreen=<optimized out>, magic=1) at dri2/dri2.c:1367\r\n#10 0x00005555556dbb91 in ProcDRI2Authenticate (client=0x555555bba410) at dri2/dri2ext.c:156\r\n#11 ProcDRI2Dispatch (client=0x555555bba410) at dri2/dri2ext.c:609\r\n#12 0x000055555559ddb4 in Dispatch () at ../../dix/dispatch.c:478\r\n#13 dix_main (envp=<optimized out>, argv=0x7fffffffd9d8, argc=18) at ../../dix/main.c:276\r\n#14 main (argc=18, argv=0x7fffffffd9d8, envp=<optimized out>) at ../../dix/stubmain.c:34\r\n```\r\nhttps://github.com/freedesktop/xorg-xserver/blob/aeed57d722f2eb978c17fd7e859334d34af38d05/hw/xfree86/dri2/dri2ext.c#L140-L161\r\n\r\nAnd this occurs when we call:\r\nhttps://github.com/Xpra-org/xpra/blob/7bbd3cb8a08301bf722a580036235fb0d00f9299/xpra/gst_common.py#L63\r\nAccording to the docs [Gst.init](https://lazka.github.io/pgi-docs/Gst-1.0/functions.html#Gst.init): _Initializes the GStreamer library, setting up internal path lists, registering built-in elements, and loading standard plugins._\r\nSo one of the plugins must be doing something EGL related and crashing the X11 server.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3737/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3737/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3733", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3733/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3733/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3733/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3733", "id": 1529374736, "node_id": "I_kwDOE8kGxM5bKGgQ", "number": 3733, "title": "Compile error: \u2018NV_ENC_PRESET_DEFAULT_GUID\u2019 is deprecated", "user": {"login": "goekce", "id": 18174744, "node_id": "MDQ6VXNlcjE4MTc0NzQ0", "avatar_url": "https://avatars.githubusercontent.com/u/18174744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goekce", "html_url": "https://github.com/goekce", "followers_url": "https://api.github.com/users/goekce/followers", "following_url": "https://api.github.com/users/goekce/following{/other_user}", "gists_url": "https://api.github.com/users/goekce/gists{/gist_id}", "starred_url": "https://api.github.com/users/goekce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goekce/subscriptions", "organizations_url": "https://api.github.com/users/goekce/orgs", "repos_url": "https://api.github.com/users/goekce/repos", "events_url": "https://api.github.com/users/goekce/events{/privacy}", "received_events_url": "https://api.github.com/users/goekce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-11T16:54:55Z", "updated_at": "2023-02-07T16:20:34Z", "closed_at": "2023-01-12T17:51:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI want to use\r\nDuring build I get:\r\n\r\n```\r\n...\r\nxpra/platform/xposix/proc.c:1020: warning: \"likely\" redefined\r\n 1020 |   #define likely(x)   __builtin_expect(!!(x), 1)\r\n      | \r\nIn file included from /usr/include/proc/readproc.h:13,\r\n                 from xpra/platform/xposix/proc.c:832:\r\n/usr/include/proc/procps.h:54: note: this is the location of the previous definition\r\n   54 | #define likely(x)       __builtin_expect(!!(x),1)\r\n      | \r\nxpra/platform/xposix/proc.c:1021: warning: \"unlikely\" redefined\r\n 1021 |   #define unlikely(x) __builtin_expect(!!(x), 0)\r\n      | \r\n/usr/include/proc/procps.h:55: note: this is the location of the previous definition\r\n   55 | #define unlikely(x)     __builtin_expect(!!(x),0)\r\n      | \r\nxpra/codecs/nvidia/nvenc/encoder.c: In function \u2018__pyx_pymod_exec_encoder\u2019:\r\nxpra/codecs/nvidia/nvenc/encoder.c:52882:3: error: \u2018NV_ENC_PRESET_DEFAULT_GUID\u2019 is deprecated: WILL BE REMOVED IN A FUTURE VIDEO CODEC SDK VERSION [-Werror=deprecated-declarations]\r\n52882 |   __pyx_t_2 = __pyx_f_4xpra_6codecs_6nvidia_5nvenc_7encoder_guidstr(NV_ENC_PRESET_DEFAULT_GUID); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1260, __pyx_L1_error)\r\n      |   ^~~~~~~~~\r\n...\r\n```\r\n\r\n**To Reproduce**\r\n- install latest Nvidia capture and encoding SDKs, set pkgconfig paths\r\n- build\r\n\r\n**System Information (please complete the following information):**\r\nArchlinux, git version\r\n\r\n\r\nMy goal is to use NVENC. AFAI understand I need also NvFBC. Is this related to Xpra?\r\n\r\nWorkaround is to disable `strict_ENABLED` flag in `setup.py`.\r\n\r\nAfter compilation xpra cannot load nvenc due to: `AssertionError: failed to load BGRX_to_NV12 for cuda context <pycuda._driver.Context `. But this is probably unrelated to the deprecation.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3733/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3733/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3732", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3732/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3732/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3732/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3732", "id": 1529005046, "node_id": "I_kwDOE8kGxM5bIsP2", "number": 3732, "title": "HTML5 - Network performance or DPI issue notification not clearing screen and unable to disable.", "user": {"login": "mint-b", "id": 97952109, "node_id": "U_kgDOBdahbQ", "avatar_url": "https://avatars.githubusercontent.com/u/97952109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mint-b", "html_url": "https://github.com/mint-b", "followers_url": "https://api.github.com/users/mint-b/followers", "following_url": "https://api.github.com/users/mint-b/following{/other_user}", "gists_url": "https://api.github.com/users/mint-b/gists{/gist_id}", "starred_url": "https://api.github.com/users/mint-b/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mint-b/subscriptions", "organizations_url": "https://api.github.com/users/mint-b/orgs", "repos_url": "https://api.github.com/users/mint-b/repos", "events_url": "https://api.github.com/users/mint-b/events{/privacy}", "received_events_url": "https://api.github.com/users/mint-b/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-11T13:07:21Z", "updated_at": "2023-03-16T13:40:28Z", "closed_at": "2023-03-16T13:40:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear XPRA dev,\r\n\r\nI encountered a potential minor issue as described below.\r\n\r\n**Environment Details:**\r\n\r\n- Server OS: RHEL 7.9 / CentOS 7.9-2009 and CentOS 8 Stream (I have tested on all three) - this particular case is **RHEL7.9**\r\n- Client OS: Windows 10\r\n- XPRA version:\r\n```\r\nrpm -qa |grep xpra\r\nx264-xpra-20211215-1.el7.x86_64\r\nxpra-common-client-3.1.3-10.0xpra1.el7.noarch\r\nxpra-common-server-3.1.3-10.0xpra1.el7.noarch\r\npython2-pyopengl-3.1.5-1xpra1.el7_9.x86_64\r\npython2-xpra-server-3.1.3-10.0xpra1.el7.x86_64\r\nxpra-html5-5.1-1.r12.el7.noarch\r\npygtkglext-1.1.0-31.xpra2.el7.x86_64\r\nxpra-3.1.3-10.0xpra1.el7.x86_64\r\npython2-xpra-3.1.3-10.0xpra1.el7.x86_64\r\npython2-xpra-client-3.1.3-10.0xpra1.el7.x86_64\r\nxorg-x11-drv-dummy-0.4.0-3.xpra1.el7.x86_64\r\nlibvpx-xpra-1.11.0-1.el7.x86_64\r\nxpra-common-3.1.3-10.0xpra1.el7.noarch\r\npython2-rencode-1.0.6-11.xpra2.el7.x86_64\r\nlibwebp-xpra-1.2.1-1.el7.x86_64\r\nffmpeg-xpra-5.0.1-1.el7.x86_64\r\n```\r\n**Description:** \r\n\r\nWhen launching XPRA through a web browser (Chrome, Firefox, Edge), I get a \"Network performance issue\" or \"DPI Issue\" notification.\r\n\r\n![image](https://user-images.githubusercontent.com/97952109/211806631-4dbbed26-3711-44cd-b1d9-ce410d87661c.png)\r\n\r\n\r\nSometimes the screen seems to reload and this notification appears and then cuts in half and will not clear when clicking on the X.\r\n\r\nI cannot manually reproduce, it just happens sometimes, for this case a Network Performance warning usually when I am away from home accessing my home network...\r\n\r\n![image](https://user-images.githubusercontent.com/97952109/211806771-4fb4d9a4-dfdb-473d-ac6b-2ac047743ebf.png)\r\n\r\nI have tried disabling this notification, but I am not able to, and only reloading the connection will clear it.\r\n\r\n**So the issues I am finding are:**\r\n\r\n1,) Unable to disable the notification\r\n2,) Sometimes I can't close the notification and it is cut in half\r\n3,) Additionally, the DPI configuration is not limited, so I am not sure why I am getting these warnings.\r\n\r\n**Configuration:**\r\n\r\n`xpra.conf`:\r\n```\r\nstart-on-connect=/opt/random_app/start\r\nterminate-children=yes\r\nidle-timeout=0\r\nserver-idle-timeout=300\r\nssl-key = /opt/app/ssl/cert-key.pem\r\nssl-cert = /opt/app/ssl/fullchain.pem\r\ndpi=0\r\nopen-files=no\r\nbandwidth-limit=0  (I do change this for tests, but currently this)\r\nencoding=auto\r\nmin-quality=20\r\nmin-speed=10\r\nnotifications=no\r\n```\r\n**Proxy start command:**\r\n```\r\n_/usr/bin/xpra proxy :20 --bandwidth-limit=0 --notifications=no\r\n    --ssl-auth=sys --ssl=on --ssl-cert=/opt/app/ssl/fullchain.pem\r\n    --bind-ssl=0.0.0.0:${TCP_PORT} --html=on\r\n    --proxy-start-sessions=yes\r\n    --server-idle-timeout=0 --log-dir=${LOG_DIR} --log-file=proxy.log_\r\n```\r\n\r\nmany thanks in advance!", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3732/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3732/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3728", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3728/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3728/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3728/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3728", "id": 1523626876, "node_id": "I_kwDOE8kGxM5a0LN8", "number": 3728, "title": "MacOS xpra dies with Traceback", "user": {"login": "SkyperTHC", "id": 5938498, "node_id": "MDQ6VXNlcjU5Mzg0OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5938498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SkyperTHC", "html_url": "https://github.com/SkyperTHC", "followers_url": "https://api.github.com/users/SkyperTHC/followers", "following_url": "https://api.github.com/users/SkyperTHC/following{/other_user}", "gists_url": "https://api.github.com/users/SkyperTHC/gists{/gist_id}", "starred_url": "https://api.github.com/users/SkyperTHC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SkyperTHC/subscriptions", "organizations_url": "https://api.github.com/users/SkyperTHC/orgs", "repos_url": "https://api.github.com/users/SkyperTHC/repos", "events_url": "https://api.github.com/users/SkyperTHC/events{/privacy}", "received_events_url": "https://api.github.com/users/SkyperTHC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-07T08:54:21Z", "updated_at": "2023-01-07T08:58:29Z", "closed_at": "2023-01-07T08:58:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nPython exits with Traceback.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1.  Either install from .pkg or `brew update & brew install xpra`\r\n2. `xpra start ssh ://foo@bar`\r\n\r\n```\r\ngrep: /usr/share/locale/locale.alias: No such file or directory\r\nxpra main error:\r\nTraceback (most recent call last):\r\n  File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/scripts/main.py\", line 142, in main\r\n    return run_mode(script_file, cmdline, err, options, args, mode, defaults)\r\n  File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/scripts/main.py\", line 451, in run_mode\r\n    return do_run_mode(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n  File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/scripts/main.py\", line 462, in do_run_mode\r\n    return run_remote_server(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n  File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/scripts/main.py\", line 1902, in run_remote_server\r\n    params = parse_display_name(error_cb, opts, display_name, cmdline)\r\n  File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/scripts/parsing.py\", line 495, in parse_display_name\r\n    ssh = parse_ssh_option(opts.ssh)\r\n  File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/scripts/parsing.py\", line 674, in parse_ssh_option\r\n    import paramiko\r\n  File \"paramiko/__init__.pyc\", line 22, in <module>\r\n  File \"paramiko/transport.pyc\", line 132, in <module>\r\n  File \"paramiko/transport.pyc\", line 206, in Transport\r\n  File \"paramiko/kex_curve25519.pyc\", line 30, in is_available\r\n  File \"cryptography/hazmat/primitives/asymmetric/x25519.pyc\", line 39, in generate\r\n  File \"cryptography/hazmat/backends/openssl/__init__.pyc\", line 6, in <module>\r\n  File \"cryptography/hazmat/backends/openssl/backend.pyc\", line 63, in <module>\r\n  File \"cryptography/hazmat/bindings/openssl/binding.pyc\", line 228, in <module>\r\n  File \"cryptography/hazmat/bindings/openssl/binding.pyc\", line 188, in init_static_locks\r\n  File \"cryptography/hazmat/bindings/openssl/binding.pyc\", line 176, in _ensure_ffi_initialized\r\n  File \"cryptography/hazmat/bindings/openssl/binding.pyc\", line 90, in _openssl_assert\r\ncryptography.exceptions.InternalError: Unknown OpenSSL error. This error is commonly encountered when another library is not cleaning up the OpenSSL error stack. If you are using cryptography with another library that uses OpenSSL try disabling it before reporting a bug. Otherwise please file an issue at https://github.com/pyca/cryptography/issues with information on how to reproduce this. ([_OpenSSLErrorWithText(code=310378599, lib=37, reason=103, reason_text=b'error:12800067:DSO support routines::could not load the shared library'), _OpenSSLErrorWithText(code=310378599, lib=37, reason=103, reason_text=b'error:12800067:DSO support routines::could not load the shared library'), _OpenSSLErrorWithText(code=126353445, lib=15, reason=524325, reason_text=b'error:07880025:common libcrypto routines::reason(524325)')])\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: N/A\r\n - Client OS: MacOS latest\r\n - Xpra Server Version N/A\r\n - Xpra Client Version : 4.4.3 (latest)\r\n\r\n**Additional context**\r\nSame when using the GUI and clicking on CONNECT.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3728/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3726", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3726/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3726/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3726/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3726", "id": 1519452226, "node_id": "I_kwDOE8kGxM5akQBC", "number": 3726, "title": "Repo / packaging logistics: Private key + `arch`", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2023-01-04T19:11:45Z", "updated_at": "2023-03-16T13:42:29Z", "closed_at": "2023-03-16T13:42:29Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Should https://xpra.org/repos/bionic/xpra-beta.list match e.g. https://xpra.org/repos/bookworm/xpra-beta.list?\r\n\r\nSimilarly for https://xpra.org/repos/bionic/xpra.list\r\n\r\n```deb\r\ndeb [ arch=amd64,arm64 signed-by=/usr/share/keyrings/xpra-2022.gpg ] https://xpra.org/ focal main\r\ndeb [ arch=amd64,arm64 signed-by=/usr/share/keyrings/xpra-2022.gpg ] https://xpra.org/beta/ focal main\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3726/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3724", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3724/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3724/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3724/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3724", "id": 1517793996, "node_id": "I_kwDOE8kGxM5ad7LM", "number": 3724, "title": "Incorrect DPI selection dependent on Modes list order in xorg.conf", "user": {"login": "cherio", "id": 2200569, "node_id": "MDQ6VXNlcjIyMDA1Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/2200569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cherio", "html_url": "https://github.com/cherio", "followers_url": "https://api.github.com/users/cherio/followers", "following_url": "https://api.github.com/users/cherio/following{/other_user}", "gists_url": "https://api.github.com/users/cherio/gists{/gist_id}", "starred_url": "https://api.github.com/users/cherio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cherio/subscriptions", "organizations_url": "https://api.github.com/users/cherio/orgs", "repos_url": "https://api.github.com/users/cherio/repos", "events_url": "https://api.github.com/users/cherio/events{/privacy}", "received_events_url": "https://api.github.com/users/cherio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709857, "node_id": "MDU6TGFiZWwyNjc4NzA5ODU3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}, {"id": 2685218208, "node_id": "MDU6TGFiZWwyNjg1MjE4MjA4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/X11", "name": "X11", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-03T18:56:49Z", "updated_at": "2023-01-05T05:30:07Z", "closed_at": "2023-01-05T05:30:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI'll jump straight to the discovery.\r\n\r\nPart 1.\r\n\r\nThe negotiated upon connection DPI was incorrect until I\r\n1) added my screen resolution `2560x1440` to the `Modes` list in `/etc/xpra/xorg.conf` (it wasn't there in the original file), and\r\n2) placed this new mode to be the 1st in the list\r\n\r\nI tried various combinations of host/client settings of DPI, scaling and sizes. It was only when my screen resolution was added to be the very first in the `Modes` list (for the matching `Depth`, which was 24 in my case) did the negotiated DPI was correctly chosen.\r\n\r\nPart 2.\r\n\r\nAnother observation confirms that the server only uses the very 1st mode from the list.\r\n\r\nBefore I made the change in the `xorg.conf` the 1st mode was `8192x4096` and the DPI was erroneously evaluated as `30x34` instead of the explicitly requested `96x96`. Evidently the formula for the negotiated DPI looks like this\r\n\r\n```\r\nCLIENT_DPI / (1ST_MODE_RESOLUTION / CLIENT_RESOLUTION) = USED_DPI\r\n```\r\ne.g.\r\n```\r\nfor X: 96 / (8192 / 2560) = 30\r\nfor Y: 96 / (4096 / 1440) = 33.75 ~ 34\r\n```\r\n\r\nI tested several modes, moving them to the 1st position in the list and my suspicion held true for all of them.\r\n\r\n\r\n**To Reproduce**\r\n\r\nSteps to reproduce the behavior:\r\n1. server command\r\n```\r\nxpra start :33 \\\r\n\t--speaker=disabled --microphone=disabled --pulseaudio=no --av-sync=no --webcam=no \\\r\n\t--input-method=IBus \\\r\n\t--fake-xinerama=no \\\r\n\t--start=xfce4-terminal\r\n```\r\n\r\n2. client command\r\n```\r\nxpra attach ssh://user@host/33 \\\r\n\t--speaker=disabled --microphone=disabled --pulseaudio=no --av-sync=no --webcam=no \\\r\n\t--dpi=96\r\n\r\n```\r\n3. specific action to trigger the bug\r\nFor instance run\r\n```\r\ngit gui\r\n```\r\nalthough my guess any Tcl/Tk gui application would behave similarly. The fonts and layout look as if magnified.\r\n\r\n\r\n**Additional context**\r\n\r\nPopup warning regarding DPI mismatch:\r\n![xpra-dpi-warning](https://user-images.githubusercontent.com/2200569/210411798-e4e83f0e-bc5c-41b2-b8e9-58dde30fd07f.png)\r\n\r\nCensored server log with DPI warnings:\r\n[xpra-server.log](https://github.com/Xpra-org/xpra/files/10338688/xpra-server.log)\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3724/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3724/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3723", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3723/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3723/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3723/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3723", "id": 1515772386, "node_id": "I_kwDOE8kGxM5aWNni", "number": 3723, "title": "Xpra opens windows as tabs", "user": {"login": "nimamox", "id": 12006975, "node_id": "MDQ6VXNlcjEyMDA2OTc1", "avatar_url": "https://avatars.githubusercontent.com/u/12006975?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nimamox", "html_url": "https://github.com/nimamox", "followers_url": "https://api.github.com/users/nimamox/followers", "following_url": "https://api.github.com/users/nimamox/following{/other_user}", "gists_url": "https://api.github.com/users/nimamox/gists{/gist_id}", "starred_url": "https://api.github.com/users/nimamox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nimamox/subscriptions", "organizations_url": "https://api.github.com/users/nimamox/orgs", "repos_url": "https://api.github.com/users/nimamox/repos", "events_url": "https://api.github.com/users/nimamox/events{/privacy}", "received_events_url": "https://api.github.com/users/nimamox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681232498, "node_id": "MDU6TGFiZWwyNjgxMjMyNDk4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/macos", "name": "macos", "color": "A6D7AE", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-01-01T19:07:14Z", "updated_at": "2023-02-21T14:51:06Z", "closed_at": "2023-02-21T08:16:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nNot sure if it's a bug or not. But I've searched a lot and I haven't seen anyone (or the documentation) mentioning this. I use Xpra 4.4 on a remote headless Linux server and my local macOS laptop to have the GUIs of the apps running on Docker containers of the Linux server shown on my macOS laptop, even with streaming audio and OpenGL. Everything works perfectly, but there is an issue that's been bothering me a lot. I run Xpra in the seamless mode, and all windows are shown as tabs of a single window on macOS. Then, I need to detach the tab into a new window manually:\r\n\r\n![tg_image_1906475866](https://user-images.githubusercontent.com/12006975/210181575-2b402a73-beba-440f-a885-3a3d8b7617d9.jpeg)\r\n\r\nIf it's not clear, what I want is to have each window opened as a separate window, not a new tab. I already have some application running, and I develop some code that I need to respawn regularly, which would be frustrating as each time I have to switch to that tab (for that window) which also mistakenly inherits the size of the previous window (tab) that is already open. \r\n\r\nAs a side, I have found that the binaries released for macOS can not be run due to an issue with the `libcrypto` shipped with Xpra. FYI, I resolve this issue by replacing those files with the libcrypto and libssl installed by Homebrew. So, at least this one is a bug!\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Server: `xpra start --daemon=yes :9898`\r\n2. Client: `xpra attach ssh:username@ip:9898 --encoding=h264`\r\n3. Action: Opening any [unrelated] applications\r\n4. Effect: All windows are shown as new tabs. Need an option to override this so that any window would be result on a new window on the client.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Headless Ubuntu 22.04.1 LTS (with Ubuntu 20.04 Docker images)\r\n - Client OS: macOS Ventura 13.0.1\r\n - Xpra Server Version: v4.4.3-r0\r\n - Xpra Client Version v4.4-r0\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3723/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3723/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3722", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3722/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3722/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3722/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3722", "id": 1514598917, "node_id": "I_kwDOE8kGxM5aRvIF", "number": 3722, "title": "xpra gui + xpra-toolkit-keyboard warnings ", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-12-30T15:36:02Z", "updated_at": "2023-01-06T18:34:21Z", "closed_at": "2023-01-06T18:34:21Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nxpra gui + xpra-toolkit-keyboard causes warnings\r\n\r\n```\r\n$ xpra\r\n/usr/lib/python3/dist-packages/xpra/client/gtk_base/../../gtk_common/gtk_view_keyboard.py:36: PyGTKDeprecationWarning: Using positional arguments with the GObject constructor has been deprecated. Please specify keyword(s) for \"homogeneous, spacing\" or use a class specific constructor. See: https://wiki.gnome.org/PyGObject/InitializerDeprecations\r\n  vbox = Gtk.VBox(False, 0)\r\n/usr/lib/python3/dist-packages/xpra/client/gtk_base/../../gtk_common/gtk_view_keyboard.py:38: PyGTKDeprecationWarning: Using positional arguments with the GObject constructor has been deprecated. Please specify keyword(s) for \"label\" or use a class specific constructor. See: https://wiki.gnome.org/PyGObject/InitializerDeprecations\r\n  label = Gtk.Label(\"Keyboard State\")\r\n/usr/lib/python3/dist-packages/xpra/client/gtk_base/../../gtk_common/gtk_view_keyboard.py:39: DeprecationWarning: Gtk.Widget.modify_font is deprecated\r\n  label.modify_font(Pango.FontDescription(\"sans 13\"))\r\ndo_keymap_changed: current keymap\r\ndo_keymap_changed: ('us,gr,us', ['us', 'gr', 'us'], '', None, 'grp:alt_shift_toggle')\r\n/usr/lib/python3/dist-packages/xpra/client/gtk_base/../../gtk_common/gtk_view_keyboard.py:95: DeprecationWarning: Gtk.Widget.get_root_window is deprecated\r\n  (x, y, current_mask) = self.window.get_root_window().get_pointer()[-3:]\r\n/usr/lib/python3/dist-packages/xpra/client/gtk_base/../../gtk_common/gtk_view_keyboard.py:95: DeprecationWarning: Gdk.Window.get_pointer is deprecated\r\n  (x, y, current_mask) = self.window.get_root_window().get_pointer()[-3:]\r\n$ xpra --version\r\nxpra v5.0-r32356 (g2a62420e3) beta\r\n```\r\n\r\nI guess related to https://github.com/Xpra-org/xpra/issues/2177? \r\nPosting mostly for issue-tracker-completeness\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\n2. client command\r\n3. specific action to trigger the bug\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.5 LTS\r\n- Client OS: Microsoft Windows [Version 10.0.18363.836]\r\n- Xpra Server Version (see above)\r\n- Xpra Client Version (see above)\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3722/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3719", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3719/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3719/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3719/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3719", "id": 1510267149, "node_id": "I_kwDOE8kGxM5aBNkN", "number": 3719, "title": "crash when firefox spawns a popup window, sometimes", "user": {"login": "AGI-chandler", "id": 27978373, "node_id": "MDQ6VXNlcjI3OTc4Mzcz", "avatar_url": "https://avatars.githubusercontent.com/u/27978373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AGI-chandler", "html_url": "https://github.com/AGI-chandler", "followers_url": "https://api.github.com/users/AGI-chandler/followers", "following_url": "https://api.github.com/users/AGI-chandler/following{/other_user}", "gists_url": "https://api.github.com/users/AGI-chandler/gists{/gist_id}", "starred_url": "https://api.github.com/users/AGI-chandler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AGI-chandler/subscriptions", "organizations_url": "https://api.github.com/users/AGI-chandler/orgs", "repos_url": "https://api.github.com/users/AGI-chandler/repos", "events_url": "https://api.github.com/users/AGI-chandler/events{/privacy}", "received_events_url": "https://api.github.com/users/AGI-chandler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709860, "node_id": "MDU6TGFiZWwyNjc4NzA5ODYw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-12-25T07:33:47Z", "updated_at": "2022-12-26T16:18:40Z", "closed_at": "2022-12-26T03:14:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nxpra crashes when firefox opens a pop-up window, sometimes.\u00a0\u00a0My specific use case is accessing our server's IPMI website and launching the iKVM to gain console access.\u00a0\u00a0(I've learned the serial port can do something similar and I'm working with the manufacturer to get that setup, then wouldn't even need to involve firefox or xpra.)\r\n\r\nThe error shown at the end of the `server.log` is: `Crash Annotation GraphicsCriticalError: |[C0][GFX1-]: Managed to allocate after flush. (t=440.544) [GFX1-]: Managed to allocate after flush.`\u00a0\u00a0Only thing Google found was [here](https://gitlab.freedesktop.org/xorg/lib/libx11/-/issues/153) and [downstream here](https://bugs.gentoo.org/832986) but it only matches the first part of the error.  It's from 10 months ago, and was fixed and merged (can't tell in what version).\u00a0\u00a0It affected libX11-1.7.3 but my system has libx11-6 2:1.8.1-2.\r\n\r\nThere was also an unexpected crash at the end of `xpra info` output, attached below, seems to be related to \"Em Dash\" character, not sure where that is coming from...\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Server command: N/A\r\n2. Client command: `xpra start ssh://user@host/10 --start=firefox`\r\n3. After launching firefox, it seems every 2nd or 3rd time I launch the iKVM (which opens in a pop-up window), the crash will occur.\u00a0\u00a0I understand this may be difficult to reproduce since it involves an internal website only I can access.\r\n\r\nMaybe it can be triggered by a generic popup?\u00a0\u00a0Tried https://www.dummysoftware.com/popupdummy_testpage.html\r\noh success!!\u00a0\u00a0When I try the `Right-click and select \"Open in New Window\" to allow a new window` link it triggers xpra crash.\u00a0\u00a0On client side I see:\r\n```\r\n[...]\r\n2022-12-25 00:09:26,346 Connection lost\r\n2022-12-25 00:09:26,354 removing unix domain socket '/run/user/1000/xpra/clients/client-2994764'\r\nSegmentation fault\r\n```\r\nNothing in the server.log at the time of the crash.\r\n\r\nOn the client, syslog has:\r\n```\r\nxpra[2994764]: segfault at 10404120222 ip 00007f90bdeda325 sp 00007ffc04512e68 error 4 in libgobject-2.0.so.0.7500.0[7f90bdeb0000+32000]\r\nCode: 74 53 48 8b 38 48 81 ff fc 03 00 00 76 4f 48 83 e7 fc 48 81 fe fc 03 00 00 77 72 48 c1 ee 02 48 8d 05 7f 50 02 00 48 8b 34 f0 <f6> 47 16 04 74 25 48 85 f6 74 20 48 83 ec 08 45 31 c0 31 c9 ba 01\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: CentOS 8.4.2105\r\n - Client OS: Debian bookworm/sid/experimental\r\n - Xpra Server Version xpra-4.4.3-10.el8.x86_64\r\n - Xpra Client Version 5.0-r32356-1 (also tried with 4.4.3-r0-1)\r\n\r\n**Additional context**\r\n - Changes made to the default configuration, if any. This can be shown with the command: xpra showconfig:\r\n [xpra showconfig client.txt](https://github.com/Xpra-org/xpra/files/10299457/xpra.showconfig.client.txt) | [xpra showconfig server.txt](https://github.com/Xpra-org/xpra/files/10299462/xpra.showconfig.server.txt)\r\n - The desktop environment, window manager used:\u00a0\u00a0**GNOME 43.0 (client)**\r\n - Anything that would make the setup unusual:\u00a0\u00a0number of screens **(2)**, resolution **(1366x768 and 1360x768)**, virtualization software **(no)**, access via another remote desktop tool (VNC, RDP, ..) **(no)**, etc **(nothing else comes to mind)**\r\n - The server log file, or output if no log file is used:\u00a0\u00a0[server.log](https://github.com/Xpra-org/xpra/files/10299471/server.log) | [client output.txt](https://github.com/Xpra-org/xpra/files/10299475/client.output.txt)\r\n - xpra info for the session:\u00a0\u00a0[xpra info.txt](https://github.com/Xpra-org/xpra/files/10299522/xpra.info.txt)\r\n - How the software was installed and what version, in full:\u00a0\u00a0**Both client and server are using what is available in the xpra repositories.**\r\n - does this happen with all picture encodings?\u00a0\u00a0**Tried h264 and whatever the default is.**\r\n - does switching off certain features make a difference (ie: sound **(already off in client config)**, opengl **(tried on and off)**, clipboard **(didn't check)**)\r\n - does re-connecting help?\u00a0\u00a0**Usually**\r\n\r\nBest Regards", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3719/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3719/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3716", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3716/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3716/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3716/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3716", "id": 1509474798, "node_id": "I_kwDOE8kGxM5Z-MHu", "number": 3716, "title": "Xpra configures xvfb with -dpi 96 instead of -dpi 96x96", "user": {"login": "eblanton", "id": 1410283, "node_id": "MDQ6VXNlcjE0MTAyODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1410283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eblanton", "html_url": "https://github.com/eblanton", "followers_url": "https://api.github.com/users/eblanton/followers", "following_url": "https://api.github.com/users/eblanton/following{/other_user}", "gists_url": "https://api.github.com/users/eblanton/gists{/gist_id}", "starred_url": "https://api.github.com/users/eblanton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eblanton/subscriptions", "organizations_url": "https://api.github.com/users/eblanton/orgs", "repos_url": "https://api.github.com/users/eblanton/repos", "events_url": "https://api.github.com/users/eblanton/events{/privacy}", "received_events_url": "https://api.github.com/users/eblanton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-23T15:36:00Z", "updated_at": "2022-12-29T00:47:30Z", "closed_at": "2022-12-25T12:27:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nXpra v4.4.3-r0 is starting xvfb with `-dpi 96`, which causes xvfb on Ubuntu 20.04 (1.20.13-1ubuntu1~20.04.5) to start with a non-square DPI of 48x96, which is not ideal, and causes very small fonts.  Using `-dpi 96x96` fixes this.  This setting comes from `/etc/xpra/conf.d/55_server_x11.conf`.\r\n\r\nI believe this should simply be changed to provide the full resolution, as `-dpi 96x96`.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Start server with `xpra start`\r\n2. Connect to server from any client\r\n3. Check display DPI with `xdpyinfo`\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 20.04.5 LTS\r\n - Client OS: Debian 11\r\n - Xpra Server Version v4.4.3-r0\r\n - Xpra Client Version 4.4.3-r0-1\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3716/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3715", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3715/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3715/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3715/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3715", "id": 1504143442, "node_id": "I_kwDOE8kGxM5Zp2hS", "number": 3715, "title": "Could not start Xpra Launcher", "user": {"login": "MrLoyal", "id": 5234876, "node_id": "MDQ6VXNlcjUyMzQ4NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/5234876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrLoyal", "html_url": "https://github.com/MrLoyal", "followers_url": "https://api.github.com/users/MrLoyal/followers", "following_url": "https://api.github.com/users/MrLoyal/following{/other_user}", "gists_url": "https://api.github.com/users/MrLoyal/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrLoyal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrLoyal/subscriptions", "organizations_url": "https://api.github.com/users/MrLoyal/orgs", "repos_url": "https://api.github.com/users/MrLoyal/repos", "events_url": "https://api.github.com/users/MrLoyal/events{/privacy}", "received_events_url": "https://api.github.com/users/MrLoyal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-12-20T08:05:27Z", "updated_at": "2022-12-27T02:41:50Z", "closed_at": "2022-12-27T02:41:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen we run Xpra-Laucher-Debug.exe, it prints the following error log:\r\n\r\n\r\n```\r\nD:\\Xpra-Client-PRD>.\\Xpra-Launcher-Debug.exe\r\nPython path configuration:\r\n  PYTHONHOME = (not set)\r\n  PYTHONPATH = (not set)\r\n  program name = 'D:\\Xpra-Client-PRD\\Xpra-Launcher-Debug.exe'\r\n  isolated = 0\r\n  environment = 0\r\n  user site = 1\r\n  import site = 0\r\n  sys._base_executable = 'D:\\\\Xpra-Client-PRD\\\\Xpra-Launcher-Debug.exe'\r\n  sys.base_prefix = ''\r\n  sys.base_exec_prefix = ''\r\n  sys.platlibdir = 'lib'\r\n  sys.executable = 'D:\\\\Xpra-Client-PRD\\\\Xpra-Launcher-Debug.exe'\r\n  sys.prefix = ''\r\n  sys.exec_prefix = ''\r\n  sys.path = [\r\n    'D:\\\\Xpra-Client-PRD\\\\lib\\\\library.zip',\r\n    'D:\\\\Xpra-Client-PRD\\\\lib',\r\n  ]\r\nFatal Python error: init_fs_encoding: failed to get the Python codec of the filesystem encoding\r\nPython runtime state: core initialized\r\nTraceback (most recent call last):\r\n  File \"<frozen zipimport>\", line 520, in _get_decompress_func\r\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 982, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 925, in _find_spec\r\n  File \"<frozen importlib._bootstrap_external>\", line 1414, in find_spec\r\n  File \"<frozen importlib._bootstrap_external>\", line 1386, in _get_spec\r\n  File \"<frozen importlib._bootstrap_external>\", line 1517, in find_spec\r\n  File \"<frozen importlib._bootstrap_external>\", line 1560, in _fill_cache\r\nOSError: [WinError 87] The parameter is incorrect: 'D:\\\\Xpra-Client-PRD\\\\lib'\r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"<frozen zipimport>\", line 568, in _get_data\r\n  File \"<frozen zipimport>\", line 523, in _get_decompress_func\r\nzipimport.ZipImportError: can't decompress data; zlib not available\r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"<frozen zipimport>\", line 241, in load_module\r\n  File \"<frozen zipimport>\", line 709, in _get_module_code\r\n  File \"<frozen zipimport>\", line 570, in _get_data\r\nzipimport.ZipImportError: can't decompress data; zlib not available\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: It is not important here because the connection is not made yet\r\n - Client OS: Windows 10\r\n - Xpra Server Version [e.g. 4.2.3]\r\n - Xpra Client Version 1.4.2.2\r\n\r\n**Additional context**\r\nWe can successfully run the program on many laptops, and then we copy it to another one and error happened only on that one only.\r\n\r\nWhat we have tried is set the environment variable PYTHONHOME to point to Python installation directory but the issue stays the same.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3715/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3715/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3712", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3712/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3712/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3712/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3712", "id": 1501742280, "node_id": "I_kwDOE8kGxM5ZgsTI", "number": 3712, "title": "Cannot open persistent server with any display (Cannot open /dev/tty0 (Permission Denied))", "user": {"login": "TechiRef", "id": 87158349, "node_id": "MDQ6VXNlcjg3MTU4MzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/87158349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TechiRef", "html_url": "https://github.com/TechiRef", "followers_url": "https://api.github.com/users/TechiRef/followers", "following_url": "https://api.github.com/users/TechiRef/following{/other_user}", "gists_url": "https://api.github.com/users/TechiRef/gists{/gist_id}", "starred_url": "https://api.github.com/users/TechiRef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TechiRef/subscriptions", "organizations_url": "https://api.github.com/users/TechiRef/orgs", "repos_url": "https://api.github.com/users/TechiRef/repos", "events_url": "https://api.github.com/users/TechiRef/events{/privacy}", "received_events_url": "https://api.github.com/users/TechiRef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-18T04:30:14Z", "updated_at": "2022-12-18T16:21:38Z", "closed_at": "2022-12-18T12:43:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI'm not sure if a change in my configuration caused this issue, or another package updating somewhere caused this, but on my Arch Linux host, I am unable to open a persistent display at all, where I used to be able to a week ago when I first tried this out. The persistent error, as reflected in the title, is that it seems to be having some permission errors with /dev/tty0. I start my main X session with startx, so I don't know if there's any conflicts there or not. Anyways, here are the relevant logs\r\n\r\n_server.log_\r\n```\r\n2022-12-17 21:53:34,394 no uinput module\r\n\r\nX.Org X Server 1.21.1.5\r\nX Protocol Version 11, Revision 0\r\nCurrent Operating System: Linux cm 6.0.12-arch1-1 #1 SMP PREEMPT_DYNAMIC Thu, 08 Dec 2022 11:03:38 +0000 x86_64\r\nKernel command line: root=UUID=157fe2b0-6a9b-4312-9867-be471051c60b rw intel_iommu=on iommu=pt initrd=\\initramfs-linux.img\r\n\r\nCurrent version of pixman: 0.42.2\r\n        Before reporting problems, check http://wiki.x.org\r\n        to make sure that you have the latest version.\r\nMarkers: (--) probed, (**) from config file, (==) default setting,\r\n        (++) from command line, (!!) notice, (II) informational,\r\n        (WW) warning, (EE) error, (NI) not implemented, (??) unknown.\r\n(++) Log file: \"/run/user/1000/xpra/23/Xorg.log\", Time: Sat Dec 17 21:53:34 2022\r\n(++) Using config file: \"/etc/xpra/xorg.conf\"\r\n(==) Using system config directory \"/usr/share/X11/xorg.conf.d\"\r\n(EE)\r\nFatal server error:\r\n(EE) parse_vt_settings: Cannot open /dev/tty0 (Permission denied)\r\n(EE)\r\n(EE)\r\nPlease consult the The X.Org Foundation support\r\n         at http://wiki.x.org\r\n for help.\r\n(EE) Please also check the log file at \"/run/user/1000/xpra/23/Xorg.log\" for additional information.\r\n(EE)\r\n(EE) Server terminated with error (1). Closing log file.\r\n2022-12-17 21:53:34,501\r\n2022-12-17 21:53:34,502 Xvfb command has terminated! xpra cannot continue\r\n2022-12-17 21:53:34,502  if the display is already running, try a different one,\r\n2022-12-17 21:53:34,503  or use the --use-display flag\r\n2022-12-17 21:53:34,503  full command: xpra_Xdummy -noreset -novtswitch -nolisten tcp  +extension GLX +extension RANDR +extension RENDER  -auth $XAUTHORITY -logfile ${XPRA_SESSION_DIR}/Xorg.log  -configdir \"${XPRA_SESSION_DIR}/xorg.conf.d/$PID\"  -config \"${XORG_CONFIG_PREFIX}/etc/xpra/xorg.conf\"\r\n2022-12-17 21:53:34,503\r\n```\r\n_Xorg.log_\r\n```\r\n[  1214.082] \r\nX.Org X Server 1.21.1.5\r\nX Protocol Version 11, Revision 0\r\n[  1214.082] Current Operating System: Linux cm 6.0.12-arch1-1 #1 SMP PREEMPT_DYNAMIC Thu, 08 Dec 2022 11:03:38 +0000 x86_64\r\n[  1214.082] Kernel command line: root=UUID=157fe2b0-6a9b-4312-9867-be471051c60b rw intel_iommu=on iommu=pt initrd=\\initramfs-linux.img\r\n[  1214.082]  \r\n[  1214.082] Current version of pixman: 0.42.2\r\n[  1214.082] \tBefore reporting problems, check http://wiki.x.org\r\n\tto make sure that you have the latest version.\r\n[  1214.082] Markers: (--) probed, (**) from config file, (==) default setting,\r\n\t(++) from command line, (!!) notice, (II) informational,\r\n\t(WW) warning, (EE) error, (NI) not implemented, (??) unknown.\r\n[  1214.082] (++) Log file: \"/run/user/1000/xpra/23/Xorg.log\", Time: Sat Dec 17 21:53:34 2022\r\n[  1214.083] (++) Using config file: \"/etc/xpra/xorg.conf\"\r\n[  1214.083] (EE) Unable to locate/open config directory: \"/run/user/1000/xpra/23/xorg.conf.d/63833\"\r\n[  1214.083] (==) Using system config directory \"/usr/share/X11/xorg.conf.d\"\r\n[  1214.088] (==) ServerLayout \"dummy_layout\"\r\n[  1214.088] (**) |-->Screen \"dummy_screen\" (0)\r\n[  1214.088] (**) |   |-->Monitor \"dummy_monitor\"\r\n[  1214.089] (**) |   |-->Device \"dummy_videocard\"\r\n[  1214.089] (**) |   |-->GPUDevice \"intelgpu0\"\r\n[  1214.089] (**) Option \"DontVTSwitch\" \"true\"\r\n[  1214.089] (**) Option \"AllowMouseOpenFail\" \"true\"\r\n[  1214.089] (**) Option \"AutoAddDevices\" \"false\"\r\n[  1214.089] (**) Option \"AutoEnableDevices\" \"false\"\r\n[  1214.089] (**) Not automatically adding devices\r\n[  1214.089] (**) Not automatically enabling devices\r\n[  1214.089] (==) Automatically adding GPU devices\r\n[  1214.089] (==) Automatically binding GPU devices\r\n[  1214.089] (==) Max clients allowed: 256, resource mask: 0x1fffff\r\n[  1214.089] (WW) The directory \"/usr/share/fonts/Type1\" does not exist.\r\n[  1214.089] \tEntry deleted from font path.\r\n[  1214.089] (WW) The directory \"/usr/share/fonts/100dpi\" does not exist.\r\n[  1214.089] \tEntry deleted from font path.\r\n[  1214.089] (WW) The directory \"/usr/share/fonts/75dpi\" does not exist.\r\n[  1214.089] \tEntry deleted from font path.\r\n[  1214.089] (==) FontPath set to:\r\n\t/usr/share/fonts/misc,\r\n\t/usr/share/fonts/TTF,\r\n\t/usr/share/fonts/OTF\r\n[  1214.089] (==) ModulePath set to \"/usr/lib/xorg/modules\"\r\n[  1214.089] (==) |-->Input Device \"<default pointer>\"\r\n[  1214.089] (==) |-->Input Device \"<default keyboard>\"\r\n[  1214.089] (==) The core pointer device wasn't specified explicitly in the layout.\r\n\tUsing the default mouse configuration.\r\n[  1214.089] (==) The core keyboard device wasn't specified explicitly in the layout.\r\n\tUsing the default keyboard configuration.\r\n[  1214.089] (II) Module ABI versions:\r\n[  1214.089] \tX.Org ANSI C Emulation: 0.4\r\n[  1214.089] \tX.Org Video Driver: 25.2\r\n[  1214.089] \tX.Org XInput driver : 24.4\r\n[  1214.089] \tX.Org Server Extension : 10.0\r\n[  1214.090] (EE) systemd-logind: TakeControl failed: Device or resource busy\r\n[  1214.090] (II) xfree86: Adding drm device (/dev/dri/card0)\r\n[  1214.090] (II) Platform probe for /sys/devices/pci0000:00/0000:00:01.0/0000:01:00.0/drm/card0\r\n[  1214.090] (II) xfree86: Adding drm device (/dev/dri/card1)\r\n[  1214.090] (II) Platform probe for /sys/devices/pci0000:00/0000:00:1c.4/0000:05:00.0/drm/card1\r\n[  1214.091] (**) OutputClass \"nvidia\" ModulePath extended to \"/usr/lib/nvidia/xorg,/usr/lib/xorg/modules,/usr/lib/xorg/modules\"\r\n[  1214.091] (**) OutputClass \"nvidia\" ModulePath extended to \"/usr/lib/nvidia/xorg,/usr/lib/xorg/modules,/usr/lib/nvidia/xorg,/usr/lib/xorg/modules,/usr/lib/xorg/modules\"\r\n[  1214.092] (--) PCI:*(1@0:0:0) 10de:2489:1458:405a rev 161, Mem @ 0x66000000/16777216, 0x50000000/268435456, 0x64000000/33554432, I/O @ 0x00004000/128, BIOS @ 0x????????/131072\r\n[  1214.092] (--) PCI: (5@0:0:0) 10de:1b81:3842:6173 rev 161, Mem @ 0x62000000/16777216, 0x40000000/268435456, 0x60000000/33554432, I/O @ 0x00003000/128, BIOS @ 0x????????/524288\r\n[  1214.092] (WW) Open ACPI failed (/var/run/acpid.socket) (No such file or directory)\r\n[  1214.092] (II) LoadModule: \"glx\"\r\n[  1214.092] (II) Loading /usr/lib/xorg/modules/extensions/libglx.so\r\n[  1214.093] (II) Module glx: vendor=\"X.Org Foundation\"\r\n[  1214.093] \tcompiled for 1.21.1.5, module version = 1.0.0\r\n[  1214.093] \tABI class: X.Org Server Extension, version 10.0\r\n[  1214.093] (II) LoadModule: \"dummy\"\r\n[  1214.093] (II) Loading /usr/lib/xorg/modules/drivers/dummy_drv.so\r\n[  1214.093] (II) Module dummy: vendor=\"X.Org Foundation\"\r\n[  1214.093] \tcompiled for 1.21.1.3, module version = 0.4.0\r\n[  1214.093] \tModule class: X.Org Video Driver\r\n[  1214.093] \tABI class: X.Org Video Driver, version 25.2\r\n[  1214.093] (II) LoadModule: \"intel\"\r\n[  1214.093] (II) Loading /usr/lib/xorg/modules/drivers/intel_drv.so\r\n[  1214.093] (II) Module intel: vendor=\"X.Org Foundation\"\r\n[  1214.093] \tcompiled for 1.21.1.1, module version = 2.99.917\r\n[  1214.093] \tModule class: X.Org Video Driver\r\n[  1214.093] \tABI class: X.Org Video Driver, version 25.2\r\n[  1214.093] (II) LoadModule: \"mouse\"\r\n[  1214.093] (WW) Warning, couldn't open module mouse\r\n[  1214.093] (EE) Failed to load module \"mouse\" (module does not exist, 0)\r\n[  1214.093] (II) LoadModule: \"kbd\"\r\n[  1214.094] (WW) Warning, couldn't open module kbd\r\n[  1214.094] (EE) Failed to load module \"kbd\" (module does not exist, 0)\r\n[  1214.094] (II) DUMMY: Driver for Dummy chipsets: dummy\r\n[  1214.094] (II) intel: Driver for Intel(R) Integrated Graphics Chipsets:\r\n\ti810, i810-dc100, i810e, i815, i830M, 845G, 854, 852GM/855GM, 865G,\r\n\t915G, E7221 (i915), 915GM, 945G, 945GM, 945GME, Pineview GM,\r\n\tPineview G, 965G, G35, 965Q, 946GZ, 965GM, 965GME/GLE, G33, Q35, Q33,\r\n\tGM45, 4 Series, G45/G43, Q45/Q43, G41, B43\r\n[  1214.094] (II) intel: Driver for Intel(R) HD Graphics\r\n[  1214.094] (II) intel: Driver for Intel(R) Iris(TM) Graphics\r\n[  1214.094] (II) intel: Driver for Intel(R) Iris(TM) Pro Graphics\r\n[  1214.094] (EE) \r\nFatal server error:\r\n[  1214.094] (EE) parse_vt_settings: Cannot open /dev/tty0 (Permission denied)\r\n[  1214.094] (EE) \r\n[  1214.094] (EE) \r\nPlease consult the The X.Org Foundation support \r\n\t at http://wiki.x.org\r\n for help. \r\n[  1214.094] (EE) Please also check the log file at \"/run/user/1000/xpra/23/Xorg.log\" for additional information.\r\n[  1214.094] (EE) \r\n[  1214.094] (WW) xf86CloseConsole: KDSETMODE failed: Bad file descriptor\r\n[  1214.094] (WW) xf86CloseConsole: VT_GETMODE failed: Bad file descriptor\r\n[  1214.094] (EE) Server terminated with error (1). Closing log file.\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\nOn host: xpra start :n where n can be any number\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Arch Linux 6.0.12\r\n - Client OS: Irrelevant\r\n - Xpra Server Version 4.3.3\r\n - Xpra Client Version Irrelevant\r\n\r\n**Additional context**\r\nI really am at a loss as to what would be causing this issue. I haven't messed with any tty configuration, so it shouldn't be that, and I do have access to the other five given by default. \r\n\r\n\r\n\r\n\r\n\r\n**EDIT**\r\nAlright, this definitely was a bunch of configuration issues, but I finally got them sorted out. I'll list my process in case it helps anyone else.\r\nOne thing I had been doing for a while was use a SystemD service I wrote to swap xorg.confs around based on if I wanted to pass a GPU through to a virtual machine or not (based on bootloader options). This also meant that while I was running this iGPU/dGPU setup, I had to have Intel drivers installed. Now I have a motherboard for two GPUs, so I didn't need that service anymore, but I forgot to disable it.\r\n\r\nNow, for where the actual bug bashing comes in. That service had been misbehaving, clearing my xorg.conf every boot (which Xorg was good enough to automagically figure it out, so I never really noticed). My first time running Xpra worked fine, I'm guessing because of the fact that it was generating some sane defaults. After disabling that service, the issues with Xpra started again. Xpra always seemed to throw an error when it was loading from /usr/share/X11/xorg.conf.d/, so I looked in there, and found 20-intel.conf (the config file for the Intel driver). I deleted that config file and now it works just fine.\r\n\r\nThe takeaway seems to be that it might have been trying to load both configs, getting highly confused, and erroring out. Could be relevant for people like me who had multiple GPU drivers though (I say had since I uninstalled the Intel iGPU driver since I don't need it).", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3712/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3712/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3710", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3710/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3710/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3710/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3710", "id": 1501304838, "node_id": "I_kwDOE8kGxM5ZfBgG", "number": 3710, "title": "`cannot load dec_nvjpeg (nvjpeg decoder)`, `\\\\bin\\\\bin` is not found", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-17T10:01:32Z", "updated_at": "2022-12-19T07:54:02Z", "closed_at": "2022-12-17T14:58:22Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n```\r\n\"Xpra-Python3-x86_64_5.0-r32364\\xpra_cmd\" shadow ssh://user@ip/1 --ssh=\"plink -ssh -agent\" --modal-windows=no --desktop-scaling=1.25 --headerbar=off --title=\"@title@ on @@/@server-display@\" --start=\"nohup systemd-inhibit --what=handle-lid-switch sleep 1d >/dev/null 2>&1 & inhibit_pid=$ ; xpra xwait ; kill -9 $inhibit_pid ; nohup systemd-inhibit --what=handle-lid-switch sleep 5m >/dev/null 2>&1 &\" --key-shortcut=Shift+F2:toggle_pointer_grab --border=#FF5733,5 --microphone=off --speaker=off --webcam=no --pulseaudio=no\r\n\r\nNote: GDK_WIN32_DISABLE_HIDPI is ignored due to preset\r\n      DPI awareness settings in user settings or application\r\n      manifest, DPI awareness is still enabled.2022-12-17 11:59:07,211 Xpra GTK3 client version 5.0-r32364 (g3e61ef1c8) beta 64-bit\r\n2022-12-17 11:59:07,223  running on Microsoft Windows 10\r\n2022-12-17 11:59:08,993 GStreamer version 1.20.4\r\n2022-12-17 11:59:09,104 created named pipe 'Xpra\\9924'\r\n2022-12-17 11:59:09,211  cannot load dec_nvjpeg (nvjpeg decoder)\r\nTraceback (most recent call last):\r\n  File \"E:/xpra/xpra/codecs/loader.py\", line 81, in codec_import_check\r\n  File \"xpra/codecs/nvidia/nvjpeg/decoder.pyx\", line 28, in init xpra.codecs.nvidia.nvjpeg.decoder\r\n  File \"E:/xpra/xpra/codecs/nvidia/cuda_context.py\", line 31, in <module>\r\n  File \"C:/msys64/mingw64/lib/python3.10/site-packages/pycuda-2022.2-py3.10-mingw_x86_64.egg/pycuda/driver.py\", line 60, in <module>\r\n  File \"C:/msys64/mingw64/lib/python3.10/site-packages/pycuda-2022.2-py3.10-mingw_x86_64.egg/pycuda/driver.py\", line 35, in _add_cuda_libdir_to_dll_path\r\n  File \"C:/msys64/mingw64/lib/python3.10/os.py\", line 1118, in add_dll_directory\r\nFileNotFoundError: [WinError 2] \u0394\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03ae \u03b7 \u03b5\u03cd\u03c1\u03b5\u03c3\u03b7 \u03c4\u03bf\u03c5 \u03ba\u03b1\u03b8\u03bf\u03c1\u03b9\u03c3\u03bc\u03ad\u03bd\u03bf\u03c5 \u03b1\u03c1\u03c7\u03b5\u03af\u03bf\u03c5 \u03b1\u03c0\u03cc \u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1: 'E:\\\\path\\\\xpra\\\\Xpra-Python3-x86_64_5.0-r32364\\\\bin\\\\bin'\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\n2. client command\r\n3. specific action to trigger the bug\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.5 LTS\r\n- Client OS: Microsoft Windows [Version 10.0.18363.836]\r\n- Xpra Server Version (see above)\r\n- Xpra Client Version (see above)\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3710/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3710/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3702", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3702/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3702/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3702/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3702", "id": 1475857164, "node_id": "I_kwDOE8kGxM5X98sM", "number": 3702, "title": "Key mapping problem", "user": {"login": "xudongliao", "id": 26402182, "node_id": "MDQ6VXNlcjI2NDAyMTgy", "avatar_url": "https://avatars.githubusercontent.com/u/26402182?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xudongliao", "html_url": "https://github.com/xudongliao", "followers_url": "https://api.github.com/users/xudongliao/followers", "following_url": "https://api.github.com/users/xudongliao/following{/other_user}", "gists_url": "https://api.github.com/users/xudongliao/gists{/gist_id}", "starred_url": "https://api.github.com/users/xudongliao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xudongliao/subscriptions", "organizations_url": "https://api.github.com/users/xudongliao/orgs", "repos_url": "https://api.github.com/users/xudongliao/repos", "events_url": "https://api.github.com/users/xudongliao/events{/privacy}", "received_events_url": "https://api.github.com/users/xudongliao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681223172, "node_id": "MDU6TGFiZWwyNjgxMjIzMTcy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/keyboard", "name": "keyboard", "color": "F53A0A", "default": false, "description": ""}, {"id": 2681232498, "node_id": "MDU6TGFiZWwyNjgxMjMyNDk4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/macos", "name": "macos", "color": "A6D7AE", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-12-05T07:11:02Z", "updated_at": "2023-03-16T13:46:11Z", "closed_at": "2023-03-16T13:46:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nSome keys don't perform normal functionality. \r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command: `xpra start :100 --start=xterm --pixel-depth=30`\r\n2. client command: `xpra attach  ssh://user@server/100 --ssh=ssh --ssh-upgrade=no --start=xterm --use-display=auto --dpi=96 --start=xterm`\r\n3. specific action to trigger the bug\r\n* In xterm, open `xev` application and press **left control key**\r\n* the output is:\r\n```\r\nKeyPress event, serial 43, synthetic NO, window 0x600001,\r\n    root 0x50e, subw 0x0, time 9948410, (89,47), root:(89,1711),\r\n    state 0x10, keycode 37 (keysym 0xffe3, Control_L), same_screen YES,\r\n    XLookupString gives 0 bytes: \r\n    XmbLookupString gives 0 bytes: \r\n    XFilterEvent returns: False\r\n\r\nKeyPress event, serial 43, synthetic NO, window 0x600001,\r\n    root 0x50e, subw 0x0, time 9948563, (89,47), root:(89,1711),\r\n    state 0x14, keycode 108 (keysym 0xffea, Alt_R), same_screen YES,\r\n    XLookupString gives 0 bytes: \r\n    XmbLookupString gives 0 bytes: \r\n    XFilterEvent returns: False\r\n\r\nKeyRelease event, serial 43, synthetic NO, window 0x600001,\r\n    root 0x50e, subw 0x0, time 9948563, (89,47), root:(89,1711),\r\n    state 0x1c, keycode 37 (keysym 0xffe3, Control_L), same_screen YES,\r\n    XLookupString gives 0 bytes: \r\n    XFilterEvent returns: False\r\n```\r\n\r\nWhen I press other key, such as the **left option key**, the output is\r\n```\r\nKeyRelease event, serial 36, synthetic NO, window 0x600001,\r\n    root 0x50e, subw 0x0, time 10228765, (211,-268), root:(211,1396),\r\n    state 0x1c, keycode 37 (keysym 0xffe3, Control_L), same_screen YES,\r\n    XLookupString gives 0 bytes: \r\n    XFilterEvent returns: False\r\n\r\nKeyPress event, serial 36, synthetic NO, window 0x600001,\r\n    root 0x50e, subw 0x0, time 10230176, (211,-268), root:(211,1396),\r\n    state 0x18, keycode 64 (keysym 0xffe9, Alt_L), same_screen YES,\r\n    XLookupString gives 0 bytes: \r\n    XmbLookupString gives 0 bytes: \r\n    XFilterEvent returns: False\r\n\r\nKeyRelease event, serial 36, synthetic NO, window 0x600001,\r\n    root 0x50e, subw 0x0, time 10230264, (211,-268), root:(211,1396),\r\n    state 0x18, keycode 64 (keysym 0xffe9, Alt_L), same_screen YES,\r\n    XLookupString gives 0 bytes: \r\n    XFilterEvent returns: False\r\n```\r\n\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 20.04.5 LTS\r\n - Client OS: MacOS Ventura 13.0.1\r\n - Xpra Server Version: v4.4.3-r0\r\n - Xpra Client Version: v4.4.3-r1\r\n \r\n**Additional context**\r\nThe similar problem also happens with the **left command key** in Mac keyboard. The output is:\r\n```\r\n\r\nKeyPress event, serial 36, synthetic NO, window 0x600001,\r\n    root 0x50e, subw 0x0, time 10351934, (238,-333), root:(238,1331),\r\n    state 0x10, keycode 50 (keysym 0xffe1, Shift_L), same_screen YES,\r\n    XLookupString gives 0 bytes: \r\n    XmbLookupString gives 0 bytes: \r\n    XFilterEvent returns: False\r\n\r\nKeyPress event, serial 36, synthetic NO, window 0x600001,\r\n    root 0x50e, subw 0x0, time 10351934, (238,-333), root:(238,1331),\r\n    state 0x11, keycode 64 (keysym 0xffe7, Meta_L), same_screen YES,\r\n    XLookupString gives 0 bytes: \r\n    XmbLookupString gives 0 bytes: \r\n    XFilterEvent returns: False\r\n\r\nKeyRelease event, serial 36, synthetic NO, window 0x600001,\r\n    root 0x50e, subw 0x0, time 10352368, (238,-333), root:(238,1331),\r\n    state 0x19, keycode 50 (keysym 0xffe1, Shift_L), same_screen YES,\r\n    XLookupString gives 0 bytes: \r\n    XFilterEvent returns: False\r\n\r\nKeyPress event, serial 36, synthetic NO, window 0x600001,\r\n    root 0x50e, subw 0x0, time 10352368, (238,-333), root:(238,1331),\r\n    state 0x18, keycode 37 (keysym 0xffe3, Control_L), same_screen YES,\r\n    XLookupString gives 0 bytes: \r\n    XmbLookupString gives 0 bytes: \r\n    XFilterEvent returns: False\r\n\r\nKeyRelease event, serial 36, synthetic NO, window 0x600001,\r\n    root 0x50e, subw 0x0, time 10352368, (238,-333), root:(238,1331),\r\n    state 0x1c, keycode 64 (keysym 0xffe9, Alt_L), same_screen YES,\r\n    XLookupString gives 0 bytes: \r\n    XFilterEvent returns: False\r\n```\r\n\r\nThe keyboard model under xpra (`setxkbmap -query`) is :\r\n- rules: evdev\r\n- model: evdev\r\n- layout us\r\n\r\n**Enable debug (-d keyboard) mode on server and client and press left control key**\r\n* Server log \r\n```\r\n2022-12-05 07:31:45,508 client   2 @47.870 mask_to_names(<flags 0 of type Gdk.ModifierType>)=['mod2'] swap_keys=True, modmap={<flags GDK_SHIFT_MASK of type Gdk.ModifierType>: 'shift', <flags GDK_LOCK_MASK of type Gdk.ModifierType>: 'lock', <flags GDK_SUPER_MASK of type Gdk.ModifierType>: 'mod3', <flags GDK_HYPER_MASK of type Gdk.ModifierType>: 'mod4', <flags GDK_META_MASK of type Gdk.ModifierType>: 'control', <flags GDK_CONTROL_MASK of type Gdk.ModifierType>: 'mod1'}, num_lock_state=True, num_lock_modifier=mod2\r\n2022-12-05 07:31:45,509 client   2 @47.871 parse_key_event(<Gdk.EventKey object at 0x12ff6b770 (void at 0x7f9085a3cca0)>, True)=KeyEvent(modifiers=['mod2'], keyname=Control_L, keyval=65507, keycode=59, group=0, string=, pressed=True)\r\n2022-12-05 07:31:45,509 client   2 @47.871 handle_key_action(GLClientWindow(4 : GLDrawingArea(4, (1059, 676), None)), KeyEvent(modifiers=['mod2'], keyname=Control_L, keyval=65507, keycode=59, group=0, string=, pressed=True)) wid=4\r\n2022-12-05 07:31:45,509 client   2 @47.871 key_handled_as_shortcut(GLClientWindow(4 : GLDrawingArea(4, (1059, 676), None)), 'Control_L', ['mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n2022-12-05 07:31:45,509 client   2 @47.871 send_key_action(4, KeyEvent(modifiers=['mod2'], keyname=Control_L, keyval=65507, keycode=59, group=0, string=, pressed=True))\r\n2022-12-05 07:31:45,512 will try levels: [0, 4, 1, 5, 2, 6, 3, 7]\r\n2022-12-05 07:31:45,513 do_get_keycode(59, 'Control_L', True, ['mod2'], 65507, '', 0)=37 (level=0, shift=False, mode=0, keysyms=['Control_L'])\r\n2022-12-05 07:31:45,513 not toggling any modifiers state for keysyms=['Control_L']\r\n2022-12-05 07:31:45,513 process_key_action(['key-action', 4, 'Control_L', True, ('mod2',), 65507, '', 59, 0]) server keycode=37, group=0\r\n2022-12-05 07:31:45,513 set_keyboard_layout_group(0) ignored, value unchanged\r\n2022-12-05 07:31:45,513 filtered_modifiers_set(['mod2'])={'mod2'}\r\n2022-12-05 07:31:45,513 filtered_modifiers_set(['mod2'])={'mod2'}\r\n2022-12-05 07:31:45,513 handle_key((4, True, 'Control_L', 65507, 37, ['mod2'], True, False))\r\n2022-12-05 07:31:45,513 handle keycode pressing    37: key 'Control_L'\r\n2022-12-05 07:31:45,514 fake_key(37, True)\r\n2022-12-05 07:31:45,521 client   2 @47.884 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>)=['mod1', 'mod2'] swap_keys=True, modmap={<flags GDK_SHIFT_MASK of type Gdk.ModifierType>: 'shift', <flags GDK_LOCK_MASK of type Gdk.ModifierType>: 'lock', <flags GDK_SUPER_MASK of type Gdk.ModifierType>: 'mod3', <flags GDK_HYPER_MASK of type Gdk.ModifierType>: 'mod4', <flags GDK_META_MASK of type Gdk.ModifierType>: 'control', <flags GDK_CONTROL_MASK of type Gdk.ModifierType>: 'mod1'}, num_lock_state=True, num_lock_modifier=mod2\r\n2022-12-05 07:31:45,522 client   2 @47.884 parse_key_event(<Gdk.EventKey object at 0x12ff6b630 (void at 0x7f90a6ce9290)>, True)=KeyEvent(modifiers=['mod1', 'mod2'], keyname=Shift_L, keyval=65505, keycode=56, group=0, string=, pressed=True)\r\n2022-12-05 07:31:45,522 client   2 @47.884 handle_key_action(GLClientWindow(4 : GLDrawingArea(4, (1059, 676), None)), KeyEvent(modifiers=['mod1', 'mod2'], keyname=Shift_L, keyval=65505, keycode=56, group=0, string=, pressed=True)) wid=4\r\n2022-12-05 07:31:45,522 client   2 @47.885 key_handled_as_shortcut(GLClientWindow(4 : GLDrawingArea(4, (1059, 676), None)), 'Shift_L', ['mod1', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n2022-12-05 07:31:45,522 client   2 @47.885 send_key_action(4, KeyEvent(modifiers=['mod1', 'mod2'], keyname=Shift_L, keyval=65505, keycode=56, group=0, string=, pressed=True))\r\n2022-12-05 07:31:45,522 will try levels: [0, 4, 1, 5, 2, 6, 3, 7]\r\n2022-12-05 07:31:45,522 do_get_keycode(56, 'Shift_L', True, ['mod1', 'mod2'], 65505, '', 0)=50 (level=0, shift=False, mode=0, keysyms=['Shift_L'])\r\n2022-12-05 07:31:45,522 not toggling any modifiers state for keysyms=['Shift_L']\r\n2022-12-05 07:31:45,523 process_key_action(['key-action', 4, 'Shift_L', True, ('mod1', 'mod2'), 65505, '', 56, 0]) server keycode=50, group=0\r\n2022-12-05 07:31:45,523 set_keyboard_layout_group(0) ignored, value unchanged\r\n2022-12-05 07:31:45,523 filtered_modifiers_set(['control', 'mod2'])={'control', 'mod2'}\r\n2022-12-05 07:31:45,523 filtered_modifiers_set(['mod1', 'mod2'])={'mod1', 'mod2'}\r\n2022-12-05 07:31:45,523 make_keymask_match(['mod1', 'mod2']) current mask: {'control', 'mod2'}, wanted: {'mod1', 'mod2'}, ignoring=50/['Shift_L'], keys_pressed={37: 'Control_L'}\r\n2022-12-05 07:31:45,523 found the key pressed for control: Control_L\r\n2022-12-05 07:31:45,523 keynames(control)=['Control_L', 'Control_R'], keycodes=[37, 105], nuisance=False, nuisance keys={'lock', 'mod2'}\r\n2022-12-05 07:31:45,523 change_mask(remove) ['mod1', 'mod2'] modifier 'control' using keycode 37\r\n2022-12-05 07:31:45,524 change_mask({'control'}, False, remove) failed=[]\r\n2022-12-05 07:31:45,524 keynames(mod1)=['Alt_L', 'Alt_R', 'Meta_L', 'Meta_R'], keycodes=[64, 204, 108, 205], nuisance=False, nuisance keys={'lock', 'mod2'}\r\n2022-12-05 07:31:45,524 change_mask(add) ['mod1', 'mod2'] modifier 'mod1' using keycode 64\r\n2022-12-05 07:31:45,524 change_mask({'mod1'}, True, add) failed=[]\r\n2022-12-05 07:31:45,524 handle_key((4, True, 'Shift_L', 65505, 50, ['mod1', 'mod2'], True, False))\r\n2022-12-05 07:31:45,524 handle keycode pressing    50: key 'Shift_L'\r\n2022-12-05 07:31:45,524 fake_key(50, True)\r\n2022-12-05 07:31:45,598 client   2 @47.960 mask_to_names(<flags GDK_SHIFT_MASK | GDK_CONTROL_MASK of type Gdk.ModifierType>)=['shift', 'mod1', 'mod2'] swap_keys=True, modmap={<flags GDK_SHIFT_MASK of type Gdk.ModifierType>: 'shift', <flags GDK_LOCK_MASK of type Gdk.ModifierType>: 'lock', <flags GDK_SUPER_MASK of type Gdk.ModifierType>: 'mod3', <flags GDK_HYPER_MASK of type Gdk.ModifierType>: 'mod4', <flags GDK_META_MASK of type Gdk.ModifierType>: 'control', <flags GDK_CONTROL_MASK of type Gdk.ModifierType>: 'mod1'}, num_lock_state=True, num_lock_modifier=mod2\r\n2022-12-05 07:31:45,598 client   2 @47.961 parse_key_event(<Gdk.EventKey object at 0x12fff7e00 (void at 0x7f90858a9ac0)>, False)=KeyEvent(modifiers=['shift', 'mod1', 'mod2'], keyname=Shift_L, keyval=65505, keycode=56, group=0, string=, pressed=False)\r\n2022-12-05 07:31:45,598 client   2 @47.961 handle_key_action(GLClientWindow(4 : GLDrawingArea(4, (1059, 676), None)), KeyEvent(modifiers=['shift', 'mod1', 'mod2'], keyname=Shift_L, keyval=65505, keycode=56, group=0, string=, pressed=False)) wid=4\r\n2022-12-05 07:31:45,598 client   2 @47.961 key_handled_as_shortcut(GLClientWindow(4 : GLDrawingArea(4, (1059, 676), None)), 'Shift_L', ['shift', 'mod1', 'mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n2022-12-05 07:31:45,599 client   2 @47.961 send_key_action(4, KeyEvent(modifiers=['shift', 'mod1', 'mod2'], keyname=Shift_L, keyval=65505, keycode=56, group=0, string=, pressed=False))\r\n2022-12-05 07:31:45,599 process_key_action(['key-action', 4, 'Shift_L', False, ('shift', 'mod1', 'mod2'), 65505, '', 56, 0]) server keycode=50, group=0\r\n2022-12-05 07:31:45,599 set_keyboard_layout_group(0) ignored, value unchanged\r\n2022-12-05 07:31:45,599 modifier 'shift' ignored (in ignored keynames=['Shift_L', 'Shift_R'])\r\n2022-12-05 07:31:45,599 filtered_modifiers_set(['shift', 'mod1', 'mod2'])={'mod1', 'mod2'}\r\n2022-12-05 07:31:45,599 modifier 'shift' ignored (in ignored keynames=['Shift_L', 'Shift_R'])\r\n2022-12-05 07:31:45,599 filtered_modifiers_set(['shift', 'mod1', 'mod2'])={'mod1', 'mod2'}\r\n2022-12-05 07:31:45,600 handle_key((4, False, 'Shift_L', 65505, 50, ['shift', 'mod1', 'mod2'], True, False))\r\n2022-12-05 07:31:45,600 handle keycode unpressing  50: key 'Shift_L'\r\n2022-12-05 07:31:45,600 fake_key(50, False)\r\n2022-12-05 07:31:45,685 client   2 @48.047 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>)=['mod1', 'mod2'] swap_keys=True, modmap={<flags GDK_SHIFT_MASK of type Gdk.ModifierType>: 'shift', <flags GDK_LOCK_MASK of type Gdk.ModifierType>: 'lock', <flags GDK_SUPER_MASK of type Gdk.ModifierType>: 'mod3', <flags GDK_HYPER_MASK of type Gdk.ModifierType>: 'mod4', <flags GDK_META_MASK of type Gdk.ModifierType>: 'control', <flags GDK_CONTROL_MASK of type Gdk.ModifierType>: 'mod1'}, num_lock_state=True, num_lock_modifier=mod2\r\n2022-12-05 07:31:45,685 client   2 @48.048 parse_key_event(<Gdk.EventKey object at 0x12fff7b80 (void at 0x7f90a6ce96f0)>, False)=KeyEvent(modifiers=['mod1', 'mod2'], keyname=Control_L, keyval=65507, keycode=59, group=0, string=, pressed=False)\r\n2022-12-05 07:31:45,685 client   2 @48.048 handle_key_action(GLClientWindow(4 : GLDrawingArea(4, (1059, 676), None)), KeyEvent(modifiers=['mod1', 'mod2'], keyname=Control_L, keyval=65507, keycode=59, group=0, string=, pressed=False)) wid=4\r\n2022-12-05 07:31:45,686 client   2 @48.048 key_handled_as_shortcut(GLClientWindow(4 : GLDrawingArea(4, (1059, 676), None)), 'Control_L', ['mod1', 'mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n2022-12-05 07:31:45,686 client   2 @48.048 send_key_action(4, KeyEvent(modifiers=['mod1', 'mod2'], keyname=Control_L, keyval=65507, keycode=59, group=0, string=, pressed=False))\r\n2022-12-05 07:31:45,686 process_key_action(['key-action', 4, 'Control_L', False, ('mod1', 'mod2'), 65507, '', 59, 0]) server keycode=37, group=0\r\n2022-12-05 07:31:45,686 set_keyboard_layout_group(0) ignored, value unchanged\r\n2022-12-05 07:31:45,686 filtered_modifiers_set(['mod1', 'mod2'])={'mod1', 'mod2'}\r\n2022-12-05 07:31:45,686 filtered_modifiers_set(['mod1', 'mod2'])={'mod1', 'mod2'}\r\n2022-12-05 07:31:45,687 handle_key((4, False, 'Control_L', 65507, 37, ['mod1', 'mod2'], True, False))\r\n2022-12-05 07:31:45,687 handle keycode unpressing  37: key 'Control_L'\r\n2022-12-05 07:31:45,687 fake_key(37, False)\r\n```\r\n\r\n* Client log\r\n```\r\n2022-12-05 15:39:19,769 mask_to_names(<flags 0 of type Gdk.ModifierType>)=['mod2'] swap_keys=True, modmap={<flags GDK_SHIFT_MASK of type Gdk.ModifierType>: 'shift', <flags GDK_LOCK_MASK of type Gdk.ModifierType>: 'lock', <flags GDK_SUPER_MASK of type Gdk.ModifierType>: 'mod3', <flags GDK_HYPER_MASK of type Gdk.ModifierType>: 'mod4', <flags GDK_META_MASK of type Gdk.ModifierType>: 'control', <flags GDK_CONTROL_MASK of type Gdk.ModifierType>: 'mod1'}, num_lock_state=True, num_lock_modifier=mod2\r\n2022-12-05 15:39:19,769 parse_key_event(<Gdk.EventKey object at 0x1339e5450 (void at 0x7fa0cc8d8540)>, True)=KeyEvent(modifiers=['mod2'], keyname=Control_L, keyval=65507, keycode=59, group=0, string=, pressed=True)\r\n2022-12-05 15:39:19,769 handle_key_action(GLClientWindow(10 : GLDrawingArea(10, (1059, 676), None)), KeyEvent(modifiers=['mod2'], keyname=Control_L, keyval=65507, keycode=59, group=0, string=, pressed=True)) wid=10\r\n2022-12-05 15:39:19,770 key_handled_as_shortcut(GLClientWindow(10 : GLDrawingArea(10, (1059, 676), None)), 'Control_L', ['mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n2022-12-05 15:39:19,770 send_key_action(10, KeyEvent(modifiers=['mod2'], keyname=Control_L, keyval=65507, keycode=59, group=0, string=, pressed=True))\r\n2022-12-05 15:39:19,903 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>)=['mod1', 'mod2'] swap_keys=True, modmap={<flags GDK_SHIFT_MASK of type Gdk.ModifierType>: 'shift', <flags GDK_LOCK_MASK of type Gdk.ModifierType>: 'lock', <flags GDK_SUPER_MASK of type Gdk.ModifierType>: 'mod3', <flags GDK_HYPER_MASK of type Gdk.ModifierType>: 'mod4', <flags GDK_META_MASK of type Gdk.ModifierType>: 'control', <flags GDK_CONTROL_MASK of type Gdk.ModifierType>: 'mod1'}, num_lock_state=True, num_lock_modifier=mod2\r\n2022-12-05 15:39:19,903 parse_key_event(<Gdk.EventKey object at 0x1339ee400 (void at 0x7fa0cc8d8540)>, False)=KeyEvent(modifiers=['mod1', 'mod2'], keyname=Control_L, keyval=65507, keycode=59, group=0, string=, pressed=False)\r\n2022-12-05 15:39:19,904 handle_key_action(GLClientWindow(10 : GLDrawingArea(10, (1059, 676), None)), KeyEvent(modifiers=['mod1', 'mod2'], keyname=Control_L, keyval=65507, keycode=59, group=0, string=, pressed=False)) wid=10\r\n2022-12-05 15:39:19,904 key_handled_as_shortcut(GLClientWindow(10 : GLDrawingArea(10, (1059, 676), None)), 'Control_L', ['mod1', 'mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n2022-12-05 15:39:19,904 send_key_action(10, KeyEvent(modifiers=['mod1', 'mod2'], keyname=Control_L, keyval=65507, keycode=59, group=0, string=, pressed=False))\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3702/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3702/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3701", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3701/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3701/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3701/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3701", "id": 1472570498, "node_id": "I_kwDOE8kGxM5XxaSC", "number": 3701, "title": "Error creating launcher form: Unknown OpenSSL error", "user": {"login": "kcleal", "id": 42997789, "node_id": "MDQ6VXNlcjQyOTk3Nzg5", "avatar_url": "https://avatars.githubusercontent.com/u/42997789?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kcleal", "html_url": "https://github.com/kcleal", "followers_url": "https://api.github.com/users/kcleal/followers", "following_url": "https://api.github.com/users/kcleal/following{/other_user}", "gists_url": "https://api.github.com/users/kcleal/gists{/gist_id}", "starred_url": "https://api.github.com/users/kcleal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kcleal/subscriptions", "organizations_url": "https://api.github.com/users/kcleal/orgs", "repos_url": "https://api.github.com/users/kcleal/repos", "events_url": "https://api.github.com/users/kcleal/events{/privacy}", "received_events_url": "https://api.github.com/users/kcleal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681232498, "node_id": "MDU6TGFiZWwyNjgxMjMyNDk4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/macos", "name": "macos", "color": "A6D7AE", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2022-12-02T09:31:05Z", "updated_at": "2023-03-16T13:34:33Z", "closed_at": "2023-03-16T13:34:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nIm using macOS big sur 11.7.1. Ive tried installing xpra using the mac installer or via brew and am using xpra version 4.4.3-r1, and OpenSSL 3.0.7 1 Nov 2022. I cant seem to start xpra attach. I keep running into this error:\r\n   \r\n    xpra attach\r\n\r\n    (Xpra:42877): Gtk-CRITICAL **: 09:27:06.663: gtk_window_add_accel_group: assertion 'GTK_IS_WINDOW (window)' failed\r\n    2022-12-02 09:27:06,825 Xpra GTK3 client version 4.4.3-r1 64-bit\r\n    2022-12-02 09:27:06,855  running on Mac OS X 10.16\r\n    2022-12-02 09:27:09,388 GStreamer version 1.20.3\r\n    xpra main error:\r\n    Traceback (most recent call last):\r\n      File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/scripts/main.py\", line 142, in main\r\n        return run_mode(script_file, cmdline, err, options, args, mode, defaults)\r\n      File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/scripts/main.py\", line 451, in run_mode\r\n        return do_run_mode(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n      File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/scripts/main.py\", line 495, in do_run_mode\r\n        return run_client(script_file, cmdline, error_cb, options, args, mode)\r\n      File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/scripts/main.py\", line 1236, in run_client\r\n        app = get_client_app(script_file, cmdline, error_cb, opts, extra_args, mode)\r\n      File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/scripts/main.py\", line 1401, in get_client_app\r\n        app = get_client_gui_app(error_cb, opts, request_mode, extra_args, mode)\r\n      File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/scripts/main.py\", line 1437, in get_client_gui_app\r\n        app.init(opts)\r\n      File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/client/gtk_base/gtk_client_base.py\", line 131, in init\r\n        UIXpraClient.init(self, opts)\r\n      File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/client/ui_client_base.py\", line 177, in init\r\n        c.init(self, opts)\r\n      File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/client/mixins/network_listener.py\", line 50, in init\r\n        self.sockets = create_sockets(opts, err)\r\n      File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/net/socket_util.py\", line 320, in create_sockets\r\n        import paramiko\r\n      File \"paramiko/__init__.pyc\", line 22, in <module>\r\n      File \"paramiko/transport.pyc\", line 132, in <module>\r\n      File \"paramiko/transport.pyc\", line 206, in Transport\r\n      File \"paramiko/kex_curve25519.pyc\", line 30, in is_available\r\n      File \"cryptography/hazmat/primitives/asymmetric/x25519.pyc\", line 39, in generate\r\n      File \"cryptography/hazmat/backends/openssl/__init__.pyc\", line 6, in <module>\r\n      File \"cryptography/hazmat/backends/openssl/backend.pyc\", line 63, in <module>\r\n      File \"cryptography/hazmat/bindings/openssl/binding.pyc\", line 228, in <module>\r\n      File \"cryptography/hazmat/bindings/openssl/binding.pyc\", line 188, in init_static_locks\r\n      File \"cryptography/hazmat/bindings/openssl/binding.pyc\", line 176, in _ensure_ffi_initialized\r\n      File \"cryptography/hazmat/bindings/openssl/binding.pyc\", line 90, in _openssl_assert\r\n    cryptography.exceptions.InternalError: Unknown OpenSSL error. This error is commonly encountered when another library is not cleaning up the OpenSSL error stack. If you are using cryptography with another library that uses OpenSSL try disabling it before reporting a bug. Otherwise please file an issue at https://github.com/pyca/cryptography/issues with information on how to reproduce this. ([_OpenSSLErrorWithText(code=310378599, lib=37, reason=103, reason_text=b'error:12800067:DSO support routines::could not load the shared library'), _OpenSSLErrorWithText(code=310378599, lib=37, reason=103, reason_text=b'error:12800067:DSO support routines::could not load the shared library'), _OpenSSLErrorWithText(code=126353445, lib=15, reason=524325, reason_text=b'error:07880025:common libcrypto routines::reason(524325)')])\r\n\r\nI also get the same error when using the xpra user-interface. Thanks", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3701/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 3}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3701/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3700", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3700/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3700/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3700/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3700", "id": 1472475761, "node_id": "I_kwDOE8kGxM5XxDJx", "number": 3700, "title": "Failed to start xpra server on Debian stretch", "user": {"login": "anvandaren", "id": 89592632, "node_id": "MDQ6VXNlcjg5NTkyNjMy", "avatar_url": "https://avatars.githubusercontent.com/u/89592632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anvandaren", "html_url": "https://github.com/anvandaren", "followers_url": "https://api.github.com/users/anvandaren/followers", "following_url": "https://api.github.com/users/anvandaren/following{/other_user}", "gists_url": "https://api.github.com/users/anvandaren/gists{/gist_id}", "starred_url": "https://api.github.com/users/anvandaren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anvandaren/subscriptions", "organizations_url": "https://api.github.com/users/anvandaren/orgs", "repos_url": "https://api.github.com/users/anvandaren/repos", "events_url": "https://api.github.com/users/anvandaren/events{/privacy}", "received_events_url": "https://api.github.com/users/anvandaren/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709857, "node_id": "MDU6TGFiZWwyNjc4NzA5ODU3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-02T08:12:39Z", "updated_at": "2022-12-05T11:24:44Z", "closed_at": "2022-12-03T14:53:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nXpra server xpra v3.1.3-r0 does not launch on Debian stretch. It complains about python version. The xpra version was upgraded to the latest from the xpra Debian Stretch repository.\r\n\r\nWe have used xpra on this server before extensively, but not the last years. \r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\nOn the Debian stretch do:\r\n```\r\n$ xpra start :9677 --start=xterm\r\nusing systemd-run to wrap 'start' server command\r\n'systemd-run' '--description' 'xpra-start' '--scope' '--user' 'python3' '/usr/bin/xpra' 'start' ':9677' '--start=xterm' '--systemd-run=no'\r\nRunning scope as unit: run-rae8cdc1f4d134c7593476980495e5006.scope\r\nxpra for python 3.7 is not installed\r\n retrying with python2\r\nxpra for python 2.7 is not installed\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian Stretch 9.13\r\n - Xpra Server Version xpra v3.1.3-r0\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3700/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3697", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3697/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3697/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3697/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3697", "id": 1467996277, "node_id": "I_kwDOE8kGxM5Xf9h1", "number": 3697, "title": "Paramiko client error if display is not specified", "user": {"login": "aneesh2312", "id": 14341543, "node_id": "MDQ6VXNlcjE0MzQxNTQz", "avatar_url": "https://avatars.githubusercontent.com/u/14341543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aneesh2312", "html_url": "https://github.com/aneesh2312", "followers_url": "https://api.github.com/users/aneesh2312/followers", "following_url": "https://api.github.com/users/aneesh2312/following{/other_user}", "gists_url": "https://api.github.com/users/aneesh2312/gists{/gist_id}", "starred_url": "https://api.github.com/users/aneesh2312/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aneesh2312/subscriptions", "organizations_url": "https://api.github.com/users/aneesh2312/orgs", "repos_url": "https://api.github.com/users/aneesh2312/repos", "events_url": "https://api.github.com/users/aneesh2312/events{/privacy}", "received_events_url": "https://api.github.com/users/aneesh2312/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-29T12:37:38Z", "updated_at": "2022-11-30T11:17:58Z", "closed_at": "2022-11-30T11:11:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nIf the display number is not specified when using paramiko client for SSH, we run into a type conversion error (`connection failed: 'NoneType' object has no attribute 'replace'`).\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. xpra start (on server)\r\n2. xpra_cmd attach ssh:ubuntu@ --ssh=paramiko:auth=key\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Linux (ubuntu)\r\n - Client OS: Windows 10\r\n - Xpra Server Version 4.4.3\r\n - Xpra Client Version 4.4.3\r\n\r\n**Additional context**\r\nSeems to be from https://github.com/Xpra-org/xpra/commit/e43a738d2c25ce86929656cd1e77a3035cbbeca9\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3697/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3695", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3695/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3695/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3695/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3695", "id": 1467975238, "node_id": "I_kwDOE8kGxM5Xf4ZG", "number": 3695, "title": "Key based auth with paramiko on Windows not working", "user": {"login": "aneesh2312", "id": 14341543, "node_id": "MDQ6VXNlcjE0MzQxNTQz", "avatar_url": "https://avatars.githubusercontent.com/u/14341543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aneesh2312", "html_url": "https://github.com/aneesh2312", "followers_url": "https://api.github.com/users/aneesh2312/followers", "following_url": "https://api.github.com/users/aneesh2312/following{/other_user}", "gists_url": "https://api.github.com/users/aneesh2312/gists{/gist_id}", "starred_url": "https://api.github.com/users/aneesh2312/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aneesh2312/subscriptions", "organizations_url": "https://api.github.com/users/aneesh2312/orgs", "repos_url": "https://api.github.com/users/aneesh2312/repos", "events_url": "https://api.github.com/users/aneesh2312/events{/privacy}", "received_events_url": "https://api.github.com/users/aneesh2312/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-29T12:22:07Z", "updated_at": "2022-11-30T11:22:58Z", "closed_at": "2022-11-30T11:22:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nI am using paramiko client for SSH, along with key based authentication on Windows. I am using the XPRA_SSH_DEFAULT_KEYFILES environment variable. Xpra is not parsing the environment variable correctly as it uses \":\" as the separator by default, which is not the case for Windows.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. xpra start on server side.\r\n2. Set XPRA_SSH_DEFAULT_KEYFILES environment variable on client side.\r\n3. xpra_cmd attach ssh:ubuntu@<host> --ssh=paramiko:auth=key\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Linux (Ubuntu)\r\n - Client OS: Windows 10\r\n - Xpra Server Version: 4.4.3\r\n - Xpra Client Version: 4.4.3\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3695/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3695/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3694", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3694/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3694/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3694/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3694", "id": 1466773285, "node_id": "I_kwDOE8kGxM5XbS8l", "number": 3694, "title": "Session locking not working as expected", "user": {"login": "calderonth", "id": 766422, "node_id": "MDQ6VXNlcjc2NjQyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/766422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calderonth", "html_url": "https://github.com/calderonth", "followers_url": "https://api.github.com/users/calderonth/followers", "following_url": "https://api.github.com/users/calderonth/following{/other_user}", "gists_url": "https://api.github.com/users/calderonth/gists{/gist_id}", "starred_url": "https://api.github.com/users/calderonth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calderonth/subscriptions", "organizations_url": "https://api.github.com/users/calderonth/orgs", "repos_url": "https://api.github.com/users/calderonth/repos", "events_url": "https://api.github.com/users/calderonth/events{/privacy}", "received_events_url": "https://api.github.com/users/calderonth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-28T17:08:14Z", "updated_at": "2022-12-01T08:27:26Z", "closed_at": "2022-12-01T08:27:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI cannot get the session lock to behave as documented.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `xpra start :100 --lock=yes --sharing=no --speaker=no --microphone=no --printing=no --webcam=no --mdns=no --start=xterm`\r\n2. `xpra attach --lock=yes --sharing=no --speaker=no --microphone=no --printing=no --ssh=ssh ssh:remote-host:100`\r\n3. start another client in the shell with identical parameter, session gets taken over\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 20.04 LTS\r\n - Client OS: Debian 11\r\n - Xpra Server Version `4.4.2-r0-1`\r\n - Xpra Client Version `4.4.2-r0-1`\r\n\r\n**Additional context**\r\nIt is my understanding from the documentation that using `--lock=yes` should prevent the session from being taken over by a subsequent connection.\r\nNote that `--sharing=no` is also set on both server/client.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3694/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3694/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3693", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3693/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3693/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3693/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3693", "id": 1465658456, "node_id": "I_kwDOE8kGxM5XXCxY", "number": 3693, "title": "v4.4.3 has an erroneous CUDA_BIN reference in setup.py and won't build.", "user": {"login": "erykoff", "id": 5167891, "node_id": "MDQ6VXNlcjUxNjc4OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/5167891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erykoff", "html_url": "https://github.com/erykoff", "followers_url": "https://api.github.com/users/erykoff/followers", "following_url": "https://api.github.com/users/erykoff/following{/other_user}", "gists_url": "https://api.github.com/users/erykoff/gists{/gist_id}", "starred_url": "https://api.github.com/users/erykoff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erykoff/subscriptions", "organizations_url": "https://api.github.com/users/erykoff/orgs", "repos_url": "https://api.github.com/users/erykoff/repos", "events_url": "https://api.github.com/users/erykoff/events{/privacy}", "received_events_url": "https://api.github.com/users/erykoff/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-28T01:20:45Z", "updated_at": "2023-01-24T07:12:54Z", "closed_at": "2022-11-28T07:35:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\nThe automatic update to 4.4.3 on conda-forge failed because `CUDA_BIN` is undefined on line 2216, https://github.com/Xpra-org/xpra/blob/v4.4.3/setup.py#L2216\r\n\r\nThis line doesn't seem to be in master, I haven't traced how it got here to the release tag, but it looks broken to me since it's an undefined variable unless `nvidia_ENABLED` is set.\r\n\r\nSee e.g. https://dev.azure.com/conda-forge/84710dde-1620-425b-80d0-4cf5baca359d/_apis/build/builds/619002/logs/35\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\n2. client command\r\n3. specific action to trigger the bug\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: [e.g. RHEL 8.x]\r\n - Client OS: [e.g. Windows 10]\r\n - Xpra Server Version [e.g. 4.2.3]\r\n - Xpra Client Version [e.g. 4.3]\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3693/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3692", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3692/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3692/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3692/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3692", "id": 1464563427, "node_id": "I_kwDOE8kGxM5XS3bj", "number": 3692, "title": "F37 can't make ssh connection", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-11-25T13:38:32Z", "updated_at": "2022-11-25T18:20:37Z", "closed_at": "2022-11-25T18:20:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Upgraded a system to Fedora 37.\r\n5.0-10.r32344.\r\nCan't connect to a remote with ssh. Several problems to detail here.\r\n\r\nFirst is that `xpra` (well... `paramiko`?) is not handling `.ssh/config` options right. I have been doing this for eons:\r\n`xpra attach ssh://dt/73 --border=yellow,1`\r\nWhat's important is that, on the local system, I'm karl, but on the remote, I'm kkleinpa. Yet it fails to handle this routine `.ssh/config` detail, attempting to login as karl.\r\n```\r\nHost dt\r\n        HostName chqkkleinpa1\r\n        User kkleinpa\r\n```\r\nThe connection is correctly made to chqkkleinpa1 (see error message at end, \"failed for chqkkleinpa1\") but the username is wrong.\r\n```\r\n2022-11-25 07:59:13,529 Xpra GTK3 X11 client version 5.0-r32344 (gb97ec0bf1) beta 64-bit\r\n2022-11-25 07:59:13,532  running on Linux\r\n2022-11-25 07:59:13,532  window manager is 'compiz'\r\n2022-11-25 07:59:13,751 GStreamer version 1.20.4\r\n2022-11-25 07:59:13,871 created unix domain socket '/run/user/5271/xpra/clients/godiva.kleinpaste.org-129803'\r\n2022-11-25 07:59:13,912 OpenGL_accelerate module loaded\r\n2022-11-25 07:59:13,915 Using accelerated ArrayDatatype\r\n2022-11-25 07:59:14,131 OpenGL enabled on 'NVIDIA GeForce RTX 2070 with Max-Q Design/PCIe/SSE2'\r\n2022-11-25 07:59:14,518 Connected (version 2.0, client OpenSSH_8.0)\r\n2022-11-25 07:59:15,216 Authentication (publickey) failed.\r\n2022-11-25 07:59:15,216 SSH agent key 'MD5:87:b4:ad:51:e8:75:69:76:fe:4f:7e:25:4e:03:70:02' rejected for user 'karl'\r\n2022-11-25 07:59:15,328 Authentication (publickey) failed.\r\n2022-11-25 07:59:15,328 SSH agent key 'MD5:31:39:d7:4a:7c:2c:19:03:3f:dd:14:58:3c:2f:63:62' rejected for user 'karl'\r\n2022-11-25 07:59:15,445 Authentication (publickey) failed.\r\n2022-11-25 07:59:15,445 SSH agent key 'MD5:de:5e:ea:f6:d3:bf:dc:dc:88:c0:a2:3b:3b:9e:cd:dd' rejected for user 'karl'\r\n2022-11-25 07:59:15,561 Authentication (publickey) failed.\r\n2022-11-25 07:59:15,562 SSH agent key 'MD5:c6:f9:70:9c:9d:5c:27:77:1d:d8:1f:fe:32:2d:fb:0f' rejected for user 'karl'\r\n2022-11-25 07:59:15,679 Authentication (publickey) failed.\r\n2022-11-25 07:59:15,679 SSH agent key 'MD5:1d:f5:59:d0:b6:4d:7f:e1:04:72:b8:a3:05:2b:6f:65' rejected for user 'karl'\r\n2022-11-25 07:59:15,808 Disconnect (code 2): Too many authentication failures\r\n2022-11-25 07:59:15,808 SSH agent key 'MD5:84:51:b4:c3:cf:cf:0e:64:e6:58:0b:b6:51:ec:76:f0' rejected for user 'karl'\r\n2022-11-25 07:59:15,808 agent authentication failed, tried 6 keys\r\n2022-11-25 07:59:15,808 loaded Ed25519 private key from '/home/karl/.ssh/id_ed25519'\r\n2022-11-25 07:59:15,808 SSH authentication using key '/home/karl/.ssh/id_ed25519' failed:\r\n2022-11-25 07:59:15,808  No existing session\r\n2022-11-25 07:59:15,808 retrying SSH authentication with modes none, password\r\n2022-11-25 07:59:15,925 Connected (version 2.0, client OpenSSH_8.0)\r\n2022-11-25 07:59:16,854 SSH password authentication failed:\r\n2022-11-25 07:59:16,854  Bad authentication type\r\n2022-11-25 07:59:16,854   allowed types: ['publickey', 'gssapi-keyex', 'gssapi-with-mic', 'password']\r\nWarning: failed to connect:\r\n SSH Authentication failed for 'chqkkleinpa1'\r\n2022-11-25 07:59:19,207 removing unix domain socket '/run/user/5271/xpra/clients/godiva.kleinpaste.org-129803'\r\n```\r\nThis does not occur when I add `--ssh=/usr/bin/ssh`.\r\n\r\nSecond, I still get failure when connecting to that host. What's running at the remote is Centos8 with `mate-terminal` spawned under 5.0-10.r32045 that has been running since Nov 17.\r\n```\r\nxpra attach --ssh=/usr/bin/ssh ssh://dt/73 --border=yellow,1\r\n2022-11-25 08:08:15,065 Xpra GTK3 X11 client version 5.0-r32344 (gb97ec0bf1) beta 64-bit\r\n2022-11-25 08:08:15,068  running on Linux\r\n2022-11-25 08:08:15,068  window manager is 'compiz'\r\n2022-11-25 08:08:15,285 GStreamer version 1.20.4\r\n2022-11-25 08:08:15,368 created unix domain socket '/run/user/5271/xpra/clients/godiva.kleinpaste.org-135576'\r\n2022-11-25 08:08:15,413 OpenGL_accelerate module loaded\r\n2022-11-25 08:08:15,417 Using accelerated ArrayDatatype\r\n2022-11-25 08:08:15,625 OpenGL enabled on 'NVIDIA GeForce RTX 2070 with Max-Q Design/PCIe/SSE2'\r\n2022-11-25 08:08:15,632  keyboard settings: rules=evdev, model=pc105, layout=us\r\n2022-11-25 08:08:15,634  desktop size is 5760x1080:\r\n2022-11-25 08:08:15,634   :0.0 (1023x191 mm - DPI: 143x144) workarea: 5760x1029 at    0x26  \r\n2022-11-25 08:08:15,634     PRO DP-3         1920x1080 at    0x0    (344x193 mm - DPI: 142x142) workarea: 1920x1029 at    0x26\r\n2022-11-25 08:08:15,634     AUO DP-2         1920x1080 at 1920x0    (344x193 mm - DPI: 142x142) workarea: 1920x1080 at 1920x0\r\n2022-11-25 08:08:15,634     PRO DP-1         1920x1080 at 3840x0    (344x193 mm - DPI: 142x142) workarea: 1920x1080 at 3840x0\r\nReceived disconnect from 10.5.124.236 port 22:2: Too many authentication failures\r\nDisconnected from 10.5.124.236 port 22\r\n2022-11-25 08:08:16,470 Error: failed to receive anything, not an xpra server?\r\n2022-11-25 08:08:16,470   could also be the wrong protocol, username, password or port\r\n2022-11-25 08:08:16,470   or the session was not found\r\n2022-11-25 08:08:16,470 Connection failed\r\n2022-11-25 08:08:16,481 removing unix domain socket '/run/user/5271/xpra/clients/godiva.kleinpaste.org-135576'\r\n```\r\nI promise you, what's running there is in fact `xpra`, and it was functioning fine prior to F37 upgrade with 5.0-10.r32344. Adding `--debug=ssh` adds this to the log output, after \"OpenGL enabled\" above:\r\n```\r\n2022-11-25 08:21:37,783 debug enabled for xpra.net.ssh.exec_client / ('network', 'ssh')\r\n2022-11-25 08:21:37,783 executing ssh command: \"/usr/bin/ssh\" \"-l\" \"karl\" \"-T\" \"dt\" \"sh -c 'if command -v \"xpra\" > /dev/null 2>&1; then xpra _proxy;elif [ -x $XDG_RUNTIME_DIR/xpra/run-xpra ]; then $XDG_RUNTIME_DIR/xpra/run-xpra _proxy;elif [ -x /usr/local/bin/xpra ]; then /usr/local/bin/xpra _proxy;elif [ -x ~/.xpra/run-xpra ]; then ~/.xpra/run-xpra _proxy;elif [ -x Xpra_cmd.exe ]; then Xpra_cmd.exe _proxy;else echo \"no run-xpra command found\"; exit 1; fi'\"\r\n```\r\nRoutine `ssh dt` works just fine when invoked from the shell, so I can't guess right this instant how it's getting \"too many auth failures.\"\r\n\r\nWhen I don't specify `--ssh`, add kkleinpa explicitly, then I get this oddity:\r\n```\r\nxpra attach ssh://kkleinpa@dt/73 --border=yellow,1\r\n2022-11-25 08:33:34,390 Xpra GTK3 X11 client version 5.0-r32344 (gb97ec0bf1) beta 64-bit\r\n2022-11-25 08:33:34,393  running on Linux\r\n2022-11-25 08:33:34,393  window manager is 'compiz'\r\n2022-11-25 08:33:34,625 GStreamer version 1.20.4\r\n2022-11-25 08:33:34,742 created unix domain socket '/run/user/5271/xpra/clients/godiva.kleinpaste.org-151977'\r\n2022-11-25 08:33:34,783 OpenGL_accelerate module loaded\r\n2022-11-25 08:33:34,787 Using accelerated ArrayDatatype\r\n2022-11-25 08:33:34,988 OpenGL enabled on 'NVIDIA GeForce RTX 2070 with Max-Q Design/PCIe/SSE2'\r\n2022-11-25 08:33:35,119 Connected (version 2.0, client OpenSSH_8.0)\r\n2022-11-25 08:33:35,577 Authentication (publickey) successful!\r\n2022-11-25 08:33:36,024 ssh server OS is 'linux-gnu'\r\n2022-11-25 08:33:36,601 paramiko SSH agent forwarding enabled\r\n2022-11-25 08:33:36,757  keyboard settings: rules=evdev, model=pc105, layout=us\r\n2022-11-25 08:33:36,760  desktop size is 5760x1080:\r\n2022-11-25 08:33:36,760   :0.0 (1023x191 mm - DPI: 143x144) workarea: 5760x1029 at    0x26  \r\n2022-11-25 08:33:36,760     PRO DP-3         1920x1080 at    0x0    (344x193 mm - DPI: 142x142) workarea: 1920x1029 at    0x26\r\n2022-11-25 08:33:36,760     AUO DP-2         1920x1080 at 1920x0    (344x193 mm - DPI: 142x142) workarea: 1920x1080 at 1920x0\r\n2022-11-25 08:33:36,760     PRO DP-1         1920x1080 at 3840x0    (344x193 mm - DPI: 142x142) workarea: 1920x1080 at 3840x0\r\n2022-11-25 08:33:36,961  SSH: 'xpra initialization error:'\r\n2022-11-25 08:33:36,961  SSH: ' there are multiple servers running, please specify'\r\n2022-11-25 08:33:36,961 SSH EOF on stderr of run-xpra\r\n2022-11-25 08:33:36,962 Error: failed to receive anything, not an xpra server?\r\n2022-11-25 08:33:36,962   could also be the wrong protocol, username, password or port\r\n2022-11-25 08:33:36,962   or the session was not found\r\n2022-11-25 08:33:36,962 Connection failed\r\n2022-11-25 08:33:36,972 removing unix domain socket '/run/user/5271/xpra/clients/godiva.kleinpaste.org-151977'\r\n```\r\nWell... yeah, there are multiple servers; I specified 73 for a reason.\r\n\r\nNeedless to say, this is a showstopper.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3692/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3692/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3691", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3691/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3691/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3691/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3691", "id": 1463386525, "node_id": "I_kwDOE8kGxM5XOYGd", "number": 3691, "title": "In pixman_set_extents", "user": {"login": "Simba98", "id": 7941967, "node_id": "MDQ6VXNlcjc5NDE5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/7941967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Simba98", "html_url": "https://github.com/Simba98", "followers_url": "https://api.github.com/users/Simba98/followers", "following_url": "https://api.github.com/users/Simba98/following{/other_user}", "gists_url": "https://api.github.com/users/Simba98/gists{/gist_id}", "starred_url": "https://api.github.com/users/Simba98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Simba98/subscriptions", "organizations_url": "https://api.github.com/users/Simba98/orgs", "repos_url": "https://api.github.com/users/Simba98/repos", "events_url": "https://api.github.com/users/Simba98/events{/privacy}", "received_events_url": "https://api.github.com/users/Simba98/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-24T13:55:38Z", "updated_at": "2022-11-24T14:15:16Z", "closed_at": "2022-11-24T14:02:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe log prints \r\n*** BUG ***\r\nIn pixman_set_extents: The expression region->extents.x1 < region->extents.x2 was false\r\nSet a breakpoint on '_pixman_log_error' to debug\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Server `xpra start :123 --bind-tcp=127.0.0.1:12345,auth=file:filename=[password] --bind=/tmp/.xpra --start=gnome-terminal`\r\n2. client `xpra attach tcp:localhost:12345 --password-file=~/.ssh/xpra --speaker=no --dpi=384 --desktop-scaling=2`\r\n3. specific action to trigger the bug: Open a program and Type something Via Chinese IME in a text box in windows 10. Xpra will freeze in Windows and Linux server crash.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: `CentOS Kernel 3.10.0-1160.76.1.el7.x86_64`\r\n - Client OS: `Windows 10`\r\n - Xpra Server Version `xpra v4.4.2-r0M`\r\n - Xpra Client Version `xpra v4.4.2-r0`\r\n\r\n**Additional context**\r\nRunning GNOME\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3691/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3691/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3690", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3690/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3690/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3690/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3690", "id": 1458091541, "node_id": "I_kwDOE8kGxM5W6LYV", "number": 3690, "title": "xpra doesn't start", "user": {"login": "ndias", "id": 886782, "node_id": "MDQ6VXNlcjg4Njc4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/886782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndias", "html_url": "https://github.com/ndias", "followers_url": "https://api.github.com/users/ndias/followers", "following_url": "https://api.github.com/users/ndias/following{/other_user}", "gists_url": "https://api.github.com/users/ndias/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndias/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndias/subscriptions", "organizations_url": "https://api.github.com/users/ndias/orgs", "repos_url": "https://api.github.com/users/ndias/repos", "events_url": "https://api.github.com/users/ndias/events{/privacy}", "received_events_url": "https://api.github.com/users/ndias/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-21T15:02:04Z", "updated_at": "2022-11-21T15:19:06Z", "closed_at": "2022-11-21T15:15:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nxpra doesn't start\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. xpra start :100 --exit-with-children --start-child=gpodder\r\n2. \r\n3. \r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Fedora 37\r\n - Client OS: \r\n - Xpra Server Version xpra-4.4.2-10.fc37.x86_64\r\n - Xpra Client Version\r\n\r\n**Additional context**\r\n```\r\ncat /run/user/1000/xpra/100/server.log.new\r\nxpra main error:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.11/site-packages/xpra/scripts/main.py\", line 142, in main\r\n    return run_mode(script_file, cmdline, err, options, args, mode, defaults)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib64/python3.11/site-packages/xpra/scripts/main.py\", line 451, in run_mode\r\n    return do_run_mode(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib64/python3.11/site-packages/xpra/scripts/main.py\", line 486, in do_run_mode\r\n    return run_server(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib64/python3.11/site-packages/xpra/scripts/main.py\", line 1836, in run_server\r\n    return do_run_server(script_file, cmdline, error_cb, options, args, mode, display, defaults)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib64/python3.11/site-packages/xpra/scripts/server.py\", line 759, in do_run_server\r\n    return _do_run_server(script_file, cmdline,\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib64/python3.11/site-packages/xpra/scripts/server.py\", line 1221, in _do_run_server\r\n    use_uinput = has_uinput() and opts.input_devices.lower() in (\"uinput\", \"auto\") and not shadowing\r\n                 ^^^^^^^^^^^^\r\n  File \"/usr/lib64/python3.11/site-packages/xpra/server/server_util.py\", line 405, in has_uinput\r\n    import uinput\r\n  File \"/usr/lib64/python3.11/site-packages/uinput/__init__.py\", line 86, in <module>\r\n    _libsuinput_path = os.path.abspath(os.path.join(os.path.dirname(__file__), \"..\", \"_libsuinput\" + sysconfig.get_config_var(\"SO\")))\r\n                                                                                     ~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nTypeError: can only concatenate str (not \"NoneType\") to str\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3690/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3690/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3689", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3689/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3689/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3689/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3689", "id": 1452788822, "node_id": "I_kwDOE8kGxM5Wl8xW", "number": 3689, "title": "xpra seamless mode is supported in windows?", "user": {"login": "chaklasiyanikunj", "id": 39697799, "node_id": "MDQ6VXNlcjM5Njk3Nzk5", "avatar_url": "https://avatars.githubusercontent.com/u/39697799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chaklasiyanikunj", "html_url": "https://github.com/chaklasiyanikunj", "followers_url": "https://api.github.com/users/chaklasiyanikunj/followers", "following_url": "https://api.github.com/users/chaklasiyanikunj/following{/other_user}", "gists_url": "https://api.github.com/users/chaklasiyanikunj/gists{/gist_id}", "starred_url": "https://api.github.com/users/chaklasiyanikunj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chaklasiyanikunj/subscriptions", "organizations_url": "https://api.github.com/users/chaklasiyanikunj/orgs", "repos_url": "https://api.github.com/users/chaklasiyanikunj/repos", "events_url": "https://api.github.com/users/chaklasiyanikunj/events{/privacy}", "received_events_url": "https://api.github.com/users/chaklasiyanikunj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-17T06:26:49Z", "updated_at": "2023-03-14T08:24:56Z", "closed_at": "2022-11-17T07:59:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to achieve this using the below [documentation](https://github.com/Xpra-org/xpra/tree/master/docs/Usage).\r\n\r\nI downloaded Xpra using [this](http://xpra.org/dists/windows/Xpra-x86_64_Setup.exe) link.\r\nOn both (Host and Client Sides) I used Windows 10.\r\n\r\n**Host Server Using the below command:**\r\n```\r\nxpra start :100 --start=xterm\r\n```\r\n```\r\nxpra start --start=xterm --bind-tcp=192.168.1.101:14500  //I also tried this command\r\n```\r\n\r\n**Using both commands I got this error.**\r\n\r\n\"Xpra Installation Error : seamless is not supported on this platform\"\r\n\r\n![Xpra Installation](https://user-images.githubusercontent.com/39697799/202370654-fbcd7b93-8a45-4e02-96ae-aa38e53d8c5a.PNG)\r\n\r\n**Client Using the below command:**\r\n```\r\nxpra attach ssh://Admin@192.168.1.101/100\r\n```\r\n\r\n**Is seamless mode supported for Windows?**\r\nAnyone any idea about this? or share any good documentation for windows.\r\nI found all documentation available for Linux only.  But not see any single documentation in windows.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3689/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3687", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3687/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3687/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3687/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3687", "id": 1451376606, "node_id": "I_kwDOE8kGxM5Wgj_e", "number": 3687, "title": "xpra.net.protocol installation error", "user": {"login": "FoldingBike", "id": 118353758, "node_id": "U_kgDOBw3vXg", "avatar_url": "https://avatars.githubusercontent.com/u/118353758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FoldingBike", "html_url": "https://github.com/FoldingBike", "followers_url": "https://api.github.com/users/FoldingBike/followers", "following_url": "https://api.github.com/users/FoldingBike/following{/other_user}", "gists_url": "https://api.github.com/users/FoldingBike/gists{/gist_id}", "starred_url": "https://api.github.com/users/FoldingBike/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FoldingBike/subscriptions", "organizations_url": "https://api.github.com/users/FoldingBike/orgs", "repos_url": "https://api.github.com/users/FoldingBike/repos", "events_url": "https://api.github.com/users/FoldingBike/events{/privacy}", "received_events_url": "https://api.github.com/users/FoldingBike/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709857, "node_id": "MDU6TGFiZWwyNjc4NzA5ODU3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-16T11:02:44Z", "updated_at": "2022-11-16T11:31:41Z", "closed_at": "2022-11-16T11:29:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI created a Debian package according to https://github.com/Xpra-org/xpra/blob/master/docs/Build/Debian.md with version 4.4.2.\r\nI installed also all prerequisites (except html5 interface).\r\nBuilding and installing via dpkg was successful.\r\nHowever, upon starting an xpra session with e.g.\r\n`xpra start --start=konsole`\r\n\r\nThe session fails with:\r\n```\r\n2022-11-16 11:54:28,122 Warning: cannot enable SSH socket upgrades\r\n2022-11-16 11:54:28,123  cannot import name 'nogssapi_context' from 'xpra.net.ssh' (/usr/lib/python3/dist-packages/x\r\npra/net/ssh/__init__.py)\r\n2022-11-16 11:54:28,128 no uinput module (not usually needed)\r\n_XSERVTransSocketUNIXCreateListener: ...SocketCreateListener() failed\r\n_XSERVTransMakeAllCOTSServerListeners: server already running\r\n_XSERVTransSocketUNIXCreateListener: ...SocketCreateListener() failed\r\n_XSERVTransMakeAllCOTSServerListeners: server already running\r\nxpra main error:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 142, in main\r\n    return run_mode(script_file, cmdline, err, options, args, mode, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 451, in run_mode\r\n    return do_run_mode(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 486, in do_run_mode\r\n    return run_server(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 1836, in run_server\r\n    return do_run_server(script_file, cmdline, error_cb, options, args, mode, display, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/server.py\", line 759, in do_run_server\r\n    return _do_run_server(script_file, cmdline,\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/server.py\", line 1452, in _do_run_server\r\n    app = make_server(clobber)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/server.py\", line 311, in make_server\r\n    from xpra.x11.server import XpraServer\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/server.py\", line 34, in <module>\r\n    from xpra.x11.x11_server_base import X11ServerBase\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/x11_server_base.py\", line 16, in <module>\r\n    from xpra.x11.x11_server_core import X11ServerCore, XTestPointerDevice\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/x11_server_core.py\", line 30, in <module>\r\n    from xpra.server.gtk_server_base import GTKServerBase\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/gtk_server_base.py\", line 25, in <module>\r\n    from xpra.server.server_base import ServerBase\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/server_base.py\", line 12, in <module>\r\n    from xpra.server.server_core import ServerCore\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/server_core.py\", line 43, in <module>\r\n    from xpra.net.protocol import Protocol, CONNECTION_LOST, GIBBERISH, INVALID\r\nImportError: cannot import name 'Protocol' from 'xpra.net.protocol' (/usr/lib/python3/dist-packages/xpra/net/protocol/__\r\ninit__.py)\r\n```\r\n\r\nI also tried it with version 4.4 and the same happened. Importing the Protocol class with the python3 interpreter gives the same ImportError...\r\nCurrently I have no Idea what is the cause of this problem...\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `xpra start --start=konsole`\r\n\r\n**System Information (please complete the following information):**\r\n -Debian Bullseye\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3687/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3687/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3685", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3685/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3685/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3685/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3685", "id": 1446092111, "node_id": "I_kwDOE8kGxM5WMZ1P", "number": 3685, "title": "randr_bindings: value overflow on 32-bit systems", "user": {"login": "ptrcnull", "id": 26630168, "node_id": "MDQ6VXNlcjI2NjMwMTY4", "avatar_url": "https://avatars.githubusercontent.com/u/26630168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptrcnull", "html_url": "https://github.com/ptrcnull", "followers_url": "https://api.github.com/users/ptrcnull/followers", "following_url": "https://api.github.com/users/ptrcnull/following{/other_user}", "gists_url": "https://api.github.com/users/ptrcnull/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptrcnull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptrcnull/subscriptions", "organizations_url": "https://api.github.com/users/ptrcnull/orgs", "repos_url": "https://api.github.com/users/ptrcnull/repos", "events_url": "https://api.github.com/users/ptrcnull/events{/privacy}", "received_events_url": "https://api.github.com/users/ptrcnull/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}, {"id": 2685218208, "node_id": "MDU6TGFiZWwyNjg1MjE4MjA4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/X11", "name": "X11", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-11T23:21:27Z", "updated_at": "2022-11-13T01:56:01Z", "closed_at": "2022-11-13T01:56:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nXpra randr bindings don't build under 32-bit systems with default C flags:\r\n```\r\nxpra/x11/bindings/randr_bindings.c:10004:27: error: unsigned conversion from 'long long int' to 'long unsigned int' changes value from '30000000000' to '4230196224' [-Werror=overflow]\r\n10004 |   __pyx_v_maxPixelClock = 0x6FC23AC00;\r\n      |                           ^~~~~~~~~~~\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `python3 setup.py build`\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Alpine Linux edge x86\r\n - Xpra Server Version: 4.4.2\r\n\r\n**Additional context**  \r\nhttps://gitlab.alpinelinux.org/ptrcnull/aports/-/jobs/901800#L1489", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3685/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3685/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3682", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3682/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3682/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3682/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3682", "id": 1436249216, "node_id": "I_kwDOE8kGxM5Vm2yA", "number": 3682, "title": "brotli test fails in github actions", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681240335, "node_id": "MDU6TGFiZWwyNjgxMjQwMzM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/test", "name": "test", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-04T15:20:05Z", "updated_at": "2022-11-04T15:30:37Z", "closed_at": "2022-11-04T15:30:36Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "As can be seen here:\r\nhttps://github.com/Xpra-org/xpra/actions/runs/3394612172/jobs/5643392978#step:4:2328\r\n\r\n```\r\n======================================================================\r\nERROR: test_compress (__main__.TestBrotli)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/runner/work/xpra/xpra/tests/unittests/unit/net/brotli_test.py\", line 87, in test_compress\r\n    self.tc(b\"hello\", b'\\x0b\\x02\\x80hello\\x03', l)\r\n  File \"/home/runner/work/xpra/xpra/tests/unittests/unit/net/brotli_test.py\", line 54, in tc\r\n    value = compress(v, level)\r\n  File \"xpra/net/brotli/compressor.pyx\", line 106, in xpra.net.brotli.compressor.compress\r\nValueError: brotli compression failed: 0\r\n\r\n======================================================================\r\nERROR: test_roundtrip (__main__.TestBrotli)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/runner/work/xpra/xpra/tests/unittests/unit/net/brotli_test.py\", line 113, in test_roundtrip\r\n    c = self.tc(v, level=l)\r\n  File \"/home/runner/work/xpra/xpra/tests/unittests/unit/net/brotli_test.py\", line 54, in tc\r\n    value = compress(v, level)\r\n  File \"xpra/net/brotli/compressor.pyx\", line 106, in xpra.net.brotli.compressor.compress\r\nValueError: brotli compression failed: 0\r\n```\r\n\r\nRunning the same test in an Ubuntu 20.04 VM succeeds...\r\n(and also on Fedora and every other platform I have tested on)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3682/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3682/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3679", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3679/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3679/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3679/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3679", "id": 1435986093, "node_id": "I_kwDOE8kGxM5Vl2it", "number": 3679, "title": "xpra initialization error: mode 'seamless' not found in command line arguments", "user": {"login": "badmin-c", "id": 53256098, "node_id": "MDQ6VXNlcjUzMjU2MDk4", "avatar_url": "https://avatars.githubusercontent.com/u/53256098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/badmin-c", "html_url": "https://github.com/badmin-c", "followers_url": "https://api.github.com/users/badmin-c/followers", "following_url": "https://api.github.com/users/badmin-c/following{/other_user}", "gists_url": "https://api.github.com/users/badmin-c/gists{/gist_id}", "starred_url": "https://api.github.com/users/badmin-c/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/badmin-c/subscriptions", "organizations_url": "https://api.github.com/users/badmin-c/orgs", "repos_url": "https://api.github.com/users/badmin-c/repos", "events_url": "https://api.github.com/users/badmin-c/events{/privacy}", "received_events_url": "https://api.github.com/users/badmin-c/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709857, "node_id": "MDU6TGFiZWwyNjc4NzA5ODU3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-11-04T12:13:35Z", "updated_at": "2022-11-08T13:59:27Z", "closed_at": "2022-11-07T01:58:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "We are using the following client command to start a google-chome session:\r\n```shell\r\nxpra.exe start --ssh=plink ssh:user@xpra1.nmc.netcologne.intern \\\r\n    --log-dir=~ --html=off --printing=no --server-idle-timeout=300 --env=LANG=de_DE.UTF-8 \\\r\n    --exit-with-children=yes --exit-with-client=yes --exit-with-windows=yes \\\r\n    --start-child=\"google-chrome --proxy-pac-url=http://proxy.location.domain.tld/proxy.pac\"\r\n```\r\nIt works fine on most clients, but on a few the session terminates immediately after showing google-chrome for like 1-3 seconds. A popup windows then states: xpra initialization error: mode 'seamless' not found in command line arguments\r\n\r\nServer OS: Debian 10\r\nxpra Server Version : 4.4-r0-1\r\n\r\nClient: Windows 10, latest Updates\r\nxpra Client Version: 4.4.1\r\n\r\nI tried to reproduce the behaviour on another machine, to no avail. Reinstalling the Client did not help. \r\n\r\nserver.log:\r\n```\r\n2022-11-04 12:14:05,802 no uinput module (not usually needed)\r\n_XSERVTransSocketUNIXCreateListener: ...SocketCreateListener() failed\r\n_XSERVTransMakeAllCOTSServerListeners: server already running\r\n_XSERVTransSocketUNIXCreateListener: ...SocketCreateListener() failed\r\n_XSERVTransMakeAllCOTSServerListeners: server already running\r\n_XSERVTransSocketUNIXCreateListener: ...SocketCreateListener() failed\r\n_XSERVTransMakeAllCOTSServerListeners: server already running\r\n2022-11-04 12:14:07,213 pointer device emulation using XTest\r\n2022-11-04 12:14:07,236 wrote pid 2809 to '/run/user/2029/xpra/3/server.pid'\r\n2022-11-04 12:14:07,257 created unix domain socket '/run/user/2029/xpra/xpra1-3'\r\n2022-11-04 12:14:07,258 cannot create group socket '/run/xpra/xpra1-3'\r\n2022-11-04 12:14:07,258  [Errno 13] Keine Berechtigung\r\n2022-11-04 12:14:07,260 created unix domain socket '/home/user/.xpra/xpra1-3'\r\n2022-11-04 12:14:07,262 created unix domain socket '/run/user/2029/xpra/3/socket'\r\n2022-11-04 12:14:07,262 xvfb pid=2815\r\n2022-11-04 12:14:07,313 D-Bus notification forwarding is available\r\n2022-11-04 12:14:07,321 pulseaudio not started: 'pulseaudio' command not found\r\n2022-11-04 12:14:07,322 removing private directory '/run/user/2029/xpra/3/pulse'\r\n2022-11-04 12:14:07,376 watching for applications menu changes in:\r\n2022-11-04 12:14:07,376  '/usr/share/applications'\r\n2022-11-04 12:14:07,386 Warning: webcam forwarding is disabled\r\n2022-11-04 12:14:07,388  the virtual video directory '/sys/devices/virtual/video4linux' was not found\r\n2022-11-04 12:14:07,388  make sure that the 'v4l2loopback' kernel module is installed and loaded\r\n2022-11-04 12:14:07,388  or use the 'webcam=no' option\r\n2022-11-04 12:14:07,388 found 0 virtual video devices for webcam forwarding\r\n2022-11-04 12:14:07,398 started command `google-chrome --proxy-pac-url=http://proxy.location.domain.tld/proxy.pac` with pid 2859\r\n2022-11-04 12:14:07,445 Error parsing xdg menu data:\r\n2022-11-04 12:14:07,447  ParsingError in file '/etc/xdg/menus/kde-debian-menu.menu', File not found\r\n2022-11-04 12:14:07,448  this is either a bug in python-xdg,\r\n2022-11-04 12:14:07,448  or an invalid system menu configuration\r\n2022-11-04 12:14:07,507 31.4GB of system memory\r\n2022-11-04 12:14:07,598 GStreamer loaded\r\n2022-11-04 12:14:07,599 waiting for initialization thread to complete\r\n2022-11-04 12:14:07,600 xpra is ready.\r\nlibva error: va_getDriverName() failed with unknown libva error,driver_name=(null)\r\n[2912:2912:1104/121407.668987:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.\r\n2022-11-04 12:14:07,780 New unix-domain connection received\r\n2022-11-04 12:14:07,780  on '/run/user/2029/xpra/xpra1-3'\r\n[2859:2978:1104/121407.787385:ERROR:object_proxy.cc(623)] Failed to call method: org.freedesktop.DBus.Properties.Get: object_path= /org/freedesktop/UPower: org.freedesktop.DBus.Error.ServiceUnknown: The name org.freedesktop.UPower was not provided by any .service files\r\n[2859:2978:1104/121407.787849:ERROR:object_proxy.cc(623)] Failed to call method: org.freedesktop.UPower.GetDisplayDevice: object_path= /org/freedesktop/UPower: org.freedesktop.DBus.Error.ServiceUnknown: The name org.freedesktop.UPower was not provided by any .service files\r\n[2859:2978:1104/121407.788181:ERROR:object_proxy.cc(623)] Failed to call method: org.freedesktop.UPower.EnumerateDevices: object_path= /org/freedesktop/UPower: org.freedesktop.DBus.Error.ServiceUnknown: The name org.freedesktop.UPower was not provided by any .service files\r\n2022-11-04 12:14:07,904 New unix-domain connection received\r\n2022-11-04 12:14:07,905  on '/run/user/2029/xpra/xpra1-3'\r\n2022-11-04 12:14:07,909 Handshake complete; enabling connection\r\n2022-11-04 12:14:07,925 Error: failed to allocate a CUDA context:\r\n2022-11-04 12:14:07,925  No module named 'pycuda'\r\n2022-11-04 12:14:07,926  NVJPEG and NVENC will not be available\r\n2022-11-04 12:14:07,926 Python/GTK3 Microsoft Windows 10 aero client version 4.4\r\n2022-11-04 12:14:07,926  connected from 'unknown host' as 'user'\r\n2022-11-04 12:14:07,926  OpenGL is enabled with Intel(R) HD Graphics 530\r\n2022-11-04 12:14:07,927 setting key repeat rate from client: 500ms delay / 33ms interval\r\n2022-11-04 12:14:07,928 setting keyboard layout to 'de'\r\n2022-11-04 12:14:08,006  client root window size is 3840x1080\r\n2022-11-04 12:14:08,006   Default (1016x285 mm - DPI: 96x96)\r\n2022-11-04 12:14:08,006     (Standardmonitortypen) TIO24Gen3 1920x1080 at    0x0    (527x296 mm - DPI: 93x93) workarea: 1920x1040\r\n2022-11-04 12:14:08,006     (Standardmonitortypen) LEN T24i-10 1920x1080 at 1920x0    (527x296 mm - DPI: 93x93) workarea: 1920x1080 at 1920x0\r\n2022-11-04 12:14:08,213 OpenGL is supported on display ':3'\r\n2022-11-04 12:14:08,213  using 'llvmpipe (LLVM 7.0, 256 bits)' renderer\r\n2022-11-04 12:14:08,514 server virtual display now set to 3840x1080\r\n2022-11-04 12:14:08,522  automatic picture encoding enabled, also available:\r\n2022-11-04 12:14:08,522   h264, vp9, vp8, png, png/P, png/L, webp, rgb24, rgb32, jpeg, jpega, scroll\r\n2022-11-04 12:14:08,526 Error parsing xdg menu data:\r\n2022-11-04 12:14:08,527  ParsingError in file '/etc/xdg/menus/kde-debian-menu.menu', File not found\r\n2022-11-04 12:14:08,529  this is either a bug in python-xdg,\r\n2022-11-04 12:14:08,529  or an invalid system menu configuration\r\n2022-11-04 12:14:08,540 DPI set to 96 x 96\r\n2022-11-04 12:14:08,572 client   1 @11.391 Xpra X11 seamless server version 4.4\r\n2022-11-04 12:14:08,575 client   1 @11.391  running on unknown\r\n2022-11-04 12:14:08,906 xpra X11 seamless version 4.4-r0 64-bit\r\n2022-11-04 12:14:08,906  uid=2029 (user), gid=2004 (sdpccm)\r\n2022-11-04 12:14:08,908  running with pid 2809 on Linux Debian 10 buster\r\n2022-11-04 12:14:08,909  connected to X11 display :3 with 24 bit colors\r\n2022-11-04 12:14:09,597 client   1 @12.406 running, 1 window\r\n2022-11-04 12:14:09,610 Error parsing xdg menu data:\r\n2022-11-04 12:14:09,611  ParsingError in file '/etc/xdg/menus/kde-debian-menu.menu', File not found\r\n2022-11-04 12:14:09,611  this is either a bug in python-xdg,\r\n2022-11-04 12:14:09,611  or an invalid system menu configuration\r\n\r\n(Xpra:2809): Gdk-CRITICAL **: 12:14:09.643: gdk_window_thaw_toplevel_updates: assertion 'window->update_and_descendants_freeze_count > 0' failed\r\n2022-11-04 12:14:09,864 Error: failed to encode packet: [38, 1, 944, 0, 1, 1020, 'rgb24', <memory at 0x7efe201bba08>, 3, 4, {'rgb_format': 'BGRX', 'lz4': 2, 'flush': 1, 'window-size': (945, 1020)}]\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/net/protocol.py\", line 649, in encode\r\n    main_packet, proto_flags = self._encoder(packet)\r\n  File \"/usr/lib/python3/dist-packages/xpra/net/packet_encoding.py\", line 36, in do_rencode\r\n    return rencode_dumps(v), FLAGS_RENCODE\r\n  File \"rencode/rencode.pyx\", line 334, in rencode._rencode.dumps\r\n  File \"rencode/rencode.pyx\", line 314, in rencode._rencode.encode\r\n  File \"rencode/rencode.pyx\", line 247, in rencode._rencode.encode_list\r\n  File \"rencode/rencode.pyx\", line 320, in rencode._rencode.encode\r\nException: type <class 'memoryview'> not handled\r\n2022-11-04 12:14:09,864 unsupported type: <class 'memoryview'> in 'draw' packet->[7]\r\n2022-11-04 12:14:09,864 Error: error in network packet write/format\r\n2022-11-04 12:14:09,864  type <class 'memoryview'> not handled\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/net/protocol.py\", line 404, in write_format_thread_loop\r\n    self._add_packet_to_queue(*gpc())\r\n  File \"/usr/lib/python3/dist-packages/xpra/net/protocol.py\", line 421, in _add_packet_to_queue\r\n    chunks = self.encode(packet)\r\n  File \"/usr/lib/python3/dist-packages/xpra/net/protocol.py\", line 649, in encode\r\n    main_packet, proto_flags = self._encoder(packet)\r\n  File \"/usr/lib/python3/dist-packages/xpra/net/packet_encoding.py\", line 36, in do_rencode\r\n    return rencode_dumps(v), FLAGS_RENCODE\r\n  File \"rencode/rencode.pyx\", line 334, in rencode._rencode.dumps\r\n  File \"rencode/rencode.pyx\", line 314, in rencode._rencode.encode\r\n  File \"rencode/rencode.pyx\", line 247, in rencode._rencode.encode_list\r\n  File \"rencode/rencode.pyx\", line 320, in rencode._rencode.encode\r\nException: type <class 'memoryview'> not handled\r\n2022-11-04 12:14:09,866 Python/GTK3 client 1 disconnected.\r\n2022-11-04 12:14:09,867 Last client has disconnected, terminating\r\n2022-11-04 12:14:09,867 xpra X11 seamless server is terminating\r\n2022-11-04 12:14:09,885 removing unix domain socket '/run/user/2029/xpra/xpra1-3'\r\n2022-11-04 12:14:09,886 removing unix domain socket '/home/user/.xpra/xpra1-3'\r\n2022-11-04 12:14:09,886 removing unix domain socket '/run/user/2029/xpra/3/socket'\r\n[2859:2896:1104/121410.187799:FATAL:bus.cc(1226)] D-Bus connection was disconnected. Aborting.\r\n2022-11-04 12:14:10,188 killing xvfb with pid 2815\r\nGdk-Message: 12:14:10.190: Xpra: Fatal IO error 0 (Erfolg) on X server :3.\r\n\r\n[2912:2912:1104/121410.188418:ERROR:connection.cc(46)] X connection error received.\r\n[2912:2936:1104/121410.189291:ERROR:connection.cc(46)] X connection error received.\r\n[1104/121410.199775:ERROR:file_io_posix.cc(144)] open /sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq: No such file or directory (2)\r\n[1104/121410.199820:ERROR:file_io_posix.cc(144)] open /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq: No such file or directory (2)\r\nGdk-Message: 12:14:10.203: google-chrome: Fatal IO error 11 (Die Ressource ist zur Zeit nicht verf\u00fcgbar) on X server :3.\r\n\r\n[1104/121410.203649:ERROR:exception_handler_server.cc(131)] tgkill: No such process (3)\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3679/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3674", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3674/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3674/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3674/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3674", "id": 1427800707, "node_id": "I_kwDOE8kGxM5VGoKD", "number": 3674, "title": "Installation of XPRA on CentOS 8 systems fails (`libyuv` is not signed)", "user": {"login": "olifre", "id": 166759, "node_id": "MDQ6VXNlcjE2Njc1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/166759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olifre", "html_url": "https://github.com/olifre", "followers_url": "https://api.github.com/users/olifre/followers", "following_url": "https://api.github.com/users/olifre/following{/other_user}", "gists_url": "https://api.github.com/users/olifre/gists{/gist_id}", "starred_url": "https://api.github.com/users/olifre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olifre/subscriptions", "organizations_url": "https://api.github.com/users/olifre/orgs", "repos_url": "https://api.github.com/users/olifre/repos", "events_url": "https://api.github.com/users/olifre/events{/privacy}", "received_events_url": "https://api.github.com/users/olifre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-10-28T20:35:49Z", "updated_at": "2022-10-31T09:23:29Z", "closed_at": "2022-10-31T09:23:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nPackage installation fails, since `libyuv` is regarded as \"not signed\". \r\n\r\n**To Reproduce**\r\n```\r\nwget -O /etc/yum.repos.d/xpra.repo https://xpra.org/repos/CentOS/xpra.repo\r\nyum -y install xpra\r\n...\r\nPackage libyuv-0-0.1832.20220629git6900494.1.el8.x86_64.rpm is not signed\r\nThe downloaded packages were saved in cache until the next successful transaction.\r\nYou can remove cached packages by executing 'yum clean packages'.\r\nError: GPG check FAILED\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - OS: CentOS Stream release 8\r\n\r\n**Additional context**\r\nThe issue started to appear a few hours ago. ", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3674/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3674/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3673", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3673/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3673/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3673/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3673", "id": 1425226047, "node_id": "I_kwDOE8kGxM5U8zk_", "number": 3673, "title": "Windows build is broken", "user": {"login": "mschnelte", "id": 50481801, "node_id": "MDQ6VXNlcjUwNDgxODAx", "avatar_url": "https://avatars.githubusercontent.com/u/50481801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mschnelte", "html_url": "https://github.com/mschnelte", "followers_url": "https://api.github.com/users/mschnelte/followers", "following_url": "https://api.github.com/users/mschnelte/following{/other_user}", "gists_url": "https://api.github.com/users/mschnelte/gists{/gist_id}", "starred_url": "https://api.github.com/users/mschnelte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mschnelte/subscriptions", "organizations_url": "https://api.github.com/users/mschnelte/orgs", "repos_url": "https://api.github.com/users/mschnelte/repos", "events_url": "https://api.github.com/users/mschnelte/events{/privacy}", "received_events_url": "https://api.github.com/users/mschnelte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-10-27T08:19:19Z", "updated_at": "2022-10-27T10:54:29Z", "closed_at": "2022-10-27T10:54:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I downloaded the latest release 4.4.1 for windows and tried to start it but it does fail with \"Initialization error\".\r\n\r\nSteps to reproduce the behavior:\r\n1. download the 4.4.1 release for windows. \r\n2. Unzip it.\r\n3.  run xpra.exe\r\n Result: A message box appears saying \"Initialization error:\".\r\n\r\nIf i run \r\n```\r\nXpra-Python3-x86_64_4.4.1-r0> .\\Xpra-Launcher-Debug.exe\r\n\r\n** (process:3284): WARNING **: 09:15:04.416: Failed to load shared library 'libpango-1.0-0.dll' referenced by the typelib: 'libpango-1.0-0.dll': The specified module could not be found.\r\nTraceback (most recent call last):\r\n  File \"C:/msys64/mingw64/lib/python3.10/site-packages/cx_Freeze/initscripts/__startup__.py\", line 120, in run\r\n  File \"C:/msys64/mingw64/lib/python3.10/site-packages/cx_Freeze/initscripts/console.py\", line 16, in run\r\n  File \"fs/bin/xpra_launcher\", line 9, in <module>\r\n  File \"E:/xpra/xpra/client/gtk_base/client_launcher.py\", line 25, in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 1027, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 672, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 632, in _load_backward_compatible\r\n  File \"C:/msys64/mingw64/lib/python3.10/site-packages/gi/importer.py\", line 150, in load_module\r\n  File \"C:/msys64/mingw64/lib/python3.10/site-packages/gi/overrides/__init__.py\", line 118, in load_overrides\r\n  File \"C:/msys64/mingw64/lib/python3.10/importlib/__init__.py\", line 126, in import_module\r\n  File \"C:/msys64/mingw64/lib/python3.10/site-packages/gi/overrides/Pango.py\", line 41, in <module>\r\n  File \"C:/msys64/mingw64/lib/python3.10/site-packages/gi/overrides/__init__.py\", line 195, in override\r\nAssertionError\r\n```\r\n\r\nI also downloaded \\Xpra-Python3-x86_64_4.4-r0. Here the debug-launcher is starting up just fine.\r\n\r\nSystem: Windows 10", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3673/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3673/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3672", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3672/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3672/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3672/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3672", "id": 1424369070, "node_id": "I_kwDOE8kGxM5U5iWu", "number": 3672, "title": "Having problem with pam authentication module and html5 client.", "user": {"login": "rmadrid24", "id": 30663109, "node_id": "MDQ6VXNlcjMwNjYzMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/30663109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmadrid24", "html_url": "https://github.com/rmadrid24", "followers_url": "https://api.github.com/users/rmadrid24/followers", "following_url": "https://api.github.com/users/rmadrid24/following{/other_user}", "gists_url": "https://api.github.com/users/rmadrid24/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmadrid24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmadrid24/subscriptions", "organizations_url": "https://api.github.com/users/rmadrid24/orgs", "repos_url": "https://api.github.com/users/rmadrid24/repos", "events_url": "https://api.github.com/users/rmadrid24/events{/privacy}", "received_events_url": "https://api.github.com/users/rmadrid24/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-26T16:49:58Z", "updated_at": "2022-10-31T09:41:04Z", "closed_at": "2022-10-31T09:41:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am running an xpra server instance, which I access through the html5 client. When I enable pam authentication with options `tcp-auth=pam` and `auth=pam`, the html5 client fails to authenticate the user and disconnects the session.\r\n\r\nThe server shows the following error log:\r\n```\r\n> 2022-10-26 16:32:30,840 Authentication required by PAM authenticator module\r\n> 2022-10-26 16:32:30,840  sending challenge using 'xor' digest over tcp connection\r\n> 2022-10-26 16:32:30,840 sending challenge \"password for user 'exouser'\"\r\n> 2022-10-26 16:32:30,865 processing authentication with (PAM,), remaining=(PAM,), digest_modes=('hmac', 'hmac+md5', 'xor', 'keycloak', 'hmac+md5', 'hmac+sha256', 'hmac+sha1', 'hmac+sha512', '\r\n> hmac+sha384', 'hmac+sha512/256', 'hmac+sha512/224'), salt_digest_modes=('hmac', 'hmac+md5', 'xor', 'keycloak', 'hmac+md5', 'hmac+sha256', 'hmac+sha1', 'hmac+sha512', 'hmac+sha384', 'hmac+sha\r\n> 512/256', 'hmac+sha512/224')\r\n> 2022-10-26 16:32:30,865 authenticator[0]=PAM, requires-challenge=True, challenge-sent=True\r\n> 2022-10-26 16:32:30,865 combined salt(58a88dc0b34815ee8bfa4aceebce27b658a436ac101cd71e5f50bcd8f1c7fe65d9ce28c0cb0dd70c2d3738d6236106dfc4bc673b028c4b3eb1e09fd07292b6ec, bb44355f652e20d1001df4\r\n> e6efaed871fc850c7eeb2acf3d2808ee70964c99c7)=34316463366435646632333063373939303964313334363133333530366461316337313063306562336338616630633666666331613661356663356664613232623631376136386235\r\n> 32653130373036613064383265303666656234316532623137366533643431373266333565613334646265663637633837376432656336\r\n> 2022-10-26 16:32:30,866 authenticate_check(***********************************************************************, '\u00bbD5_e. \u00d1\\x00\\x1d\u00f4\u00e6\u00ef\u00ae\u00d8q\u00fc\\x85\\x0c~\u00eb*\u00cf=(\\x08\u00eep\\x96L\\x99\u00c7') response salt='41\r\n> dc6d5df230c79909d1346133506da1c710c0eb3c8af0c6ffc1a6a5fc5fda22b617a68b52e10706a0d82e06feb41e2b176e3d4172f35ea34dbef67c877d2ec6'\r\n> 2022-10-26 16:32:30,866 pam.check(..) pw=pwd.struct_passwd(pw_name='exouser', pw_passwd='x', pw_uid=1001, pw_gid=1001, pw_gecos='', pw_dir='/home/exouser', pw_shell='/bin/bash')\r\n> 2022-10-26 16:32:30,866 pam check(exouser, [..])\r\n> 2022-10-26 16:32:30,866 check(..)\r\n> Traceback (most recent call last):\r\n>   File \"/usr/lib/python3/dist-packages/xpra/server/auth/sys_auth_base.py\", line 172, in authenticate_check\r\n>     ret = self.check(password)\r\n>   File \"/usr/lib/python3/dist-packages/xpra/server/auth/pam_auth.py\", line 49, in check\r\n>     return check(self.username, password, self.service, self.check_account)\r\n>   File \"/usr/lib/python3/dist-packages/xpra/server/auth/pam_auth.py\", line 20, in check\r\n>     from xpra.server.pam import pam_session #@UnresolvedImport pylint: disable=import-outside-toplevel\r\n> ImportError: /usr/lib/python3/dist-packages/xpra/server/pam.cpython-38-x86_64-linux-gnu.so: undefined symbol: misc_conv\r\n> 2022-10-26 16:32:30,867 Error: PAM authentication check failed:\r\n> 2022-10-26 16:32:30,867  /usr/lib/python3/dist-packages/xpra/server/pam.cpython-38-x86_64-linux-gnu.so: undefined symbol: misc_conv\r\n> 2022-10-26 16:32:30,867 Warning: authentication failed\r\n> 2022-10-26 16:32:30,867  authentication failed\r\n```\r\n\r\n**System Information**\r\n - Server OS: Ubuntu 20.04.5\r\n - Xpra Server Version: xpra v4.4.1-r0\r\n - Xpra HTML5 Client Version: 6.0\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3672/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3672/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3670", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3670/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3670/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3670/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3670", "id": 1419979876, "node_id": "I_kwDOE8kGxM5Uoyxk", "number": 3670, "title": "xpra 4.4.1 fails to connect to 4.3.4 desktop server due to missing _proxy_desktop subcommand", "user": {"login": "eblanton", "id": 1410283, "node_id": "MDQ6VXNlcjE0MTAyODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1410283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eblanton", "html_url": "https://github.com/eblanton", "followers_url": "https://api.github.com/users/eblanton/followers", "following_url": "https://api.github.com/users/eblanton/following{/other_user}", "gists_url": "https://api.github.com/users/eblanton/gists{/gist_id}", "starred_url": "https://api.github.com/users/eblanton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eblanton/subscriptions", "organizations_url": "https://api.github.com/users/eblanton/orgs", "repos_url": "https://api.github.com/users/eblanton/repos", "events_url": "https://api.github.com/users/eblanton/events{/privacy}", "received_events_url": "https://api.github.com/users/eblanton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-10-23T23:37:06Z", "updated_at": "2022-10-25T13:14:44Z", "closed_at": "2022-10-25T13:14:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Description of bug**\r\n\r\nI am starting and attaching to an xpra desktop session on a remote machine with the following command:\r\n\r\n```\r\nxpra --ssh ssh --speaker=disabled --microphone=disabled \\\r\n     --start-child xfce4-session --exit-with-children=yes \\\r\n     start-desktop ssh://user@hostname\r\n```\r\n\r\nThe server is running xpra 4.3.4.  The client is running 4.4.1.  Xpra fails to connect, with the error \"Connection failed\".   I wasn't able to get much more useful output out of it with `-d`, so I started poking around.  I found that the problem appears to be that the client is invoking `xpra _proxy_desktop` on the remote machine, and 4.3.4 does not expose this subcommand.\r\n\r\nThe server is in a different administrative domain, and updating it is not within my control.  The client is running the xpra-distributed debian client, and can be manually pinned or downgraded if necessary, but I would prefer not to do this if I do not have to.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Install xpra 4.3.4 on server\r\n2. Install xpra 4.4.1 on client\r\n3. Run the command `xpra start-desktop ssh://user@server`\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 20.04.5 LTS\r\n - Client OS: Debian 11\r\n - Xpra Server Version 4.3.4\r\n - Xpra Client Version 4.4.1\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3670/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3670/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3668", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3668/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3668/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3668/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3668", "id": 1419640423, "node_id": "I_kwDOE8kGxM5Unf5n", "number": 3668, "title": "Documentation still references trac, and no mention of --splash-no seen", "user": {"login": "BillyCroan", "id": 37587, "node_id": "MDQ6VXNlcjM3NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/37587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BillyCroan", "html_url": "https://github.com/BillyCroan", "followers_url": "https://api.github.com/users/BillyCroan/followers", "following_url": "https://api.github.com/users/BillyCroan/following{/other_user}", "gists_url": "https://api.github.com/users/BillyCroan/gists{/gist_id}", "starred_url": "https://api.github.com/users/BillyCroan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BillyCroan/subscriptions", "organizations_url": "https://api.github.com/users/BillyCroan/orgs", "repos_url": "https://api.github.com/users/BillyCroan/repos", "events_url": "https://api.github.com/users/BillyCroan/events{/privacy}", "received_events_url": "https://api.github.com/users/BillyCroan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-23T05:10:11Z", "updated_at": "2022-10-23T07:42:24Z", "closed_at": "2022-10-23T07:42:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "The manpage at https://github.com/Xpra-org/xpra/blob/master/fs/share/man/man1/xpra.1 contains two errors:\r\nIt does not mention `--splash=no` as an option to xpra to supress the splash screen\r\nIt references trac:\r\n> REPORTING BUGS\r\n> Send any questions or bugs reports to https://xpra.org/trac/\r\nDo you encourage patches on things like this via git?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3668/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3664", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3664/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3664/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3664/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3664", "id": 1418469990, "node_id": "I_kwDOE8kGxM5UjCJm", "number": 3664, "title": "ssh access, attach semi-failure on \"file exists\" errors", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-10-21T14:58:00Z", "updated_at": "2023-04-01T14:21:21Z", "closed_at": "2023-04-01T14:21:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "F35, up to date with `v5.0-r32078 (g490565040) beta` at both ends. On `attach`:\r\n```\r\n2022-10-21 10:47:00,143 Connected (version 2.0, client OpenSSH_8.7)\r\n2022-10-21 10:47:00,240 Authentication (publickey) successful!\r\n2022-10-21 10:47:00,357 [major:19]\tssh server OS is 'linux-gnu'\r\n2022-10-21 10:47:00,496 [major:19]\tparamiko SSH agent forwarding enabled\r\n2022-10-21 10:47:00,542 [major:19]\t keyboard settings: rules=evdev, model=pc105, layout=us\r\n2022-10-21 10:47:00,544 [major:19]\t desktop size is 5760x1080:\r\n2022-10-21 10:47:00,544 [major:19]\t  :0.0 (1023x191 mm - DPI: 143x144) workarea: 5760x1029 at    0x26  \r\n2022-10-21 10:47:00,544 [major:19]\t    PRO DP-3         1920x1080 at    0x0    (344x193 mm - DPI: 142x142) workarea: 1920x1029 at    0x26\r\n2022-10-21 10:47:00,544 [major:19]\t    AUO DP-2         1920x1080 at 1920x0    (344x193 mm - DPI: 142x142) workarea: 1920x1080 at 1920x0\r\n2022-10-21 10:47:00,544 [major:19]\t    PRO DP-1         1920x1080 at 3840x0    (344x193 mm - DPI: 142x142) workarea: 1920x1080 at 3840x0\r\n2022-10-21 10:47:00,728 [major:19]\t SSH: 'Error setting up client ssh agent forwarding socket'\r\n2022-10-21 10:47:00,728 [major:19]\t SSH: 'Traceback (most recent call last):'\r\n2022-10-21 10:47:00,728 [major:19]\t SSH: '  File \"/usr/lib64/python3.10/site-packages/xpra/scripts/main.py\", line 2681, in run_proxy'\r\n2022-10-21 10:47:00,728 [major:19]\t SSH: '    setup_proxy_ssh_socket(cmdline)'\r\n2022-10-21 10:47:00,728 [major:19]\t SSH: '  File \"/usr/lib64/python3.10/site-packages/xpra/scripts/main.py\", line 2611, in setup_proxy_ssh_socket'\r\n2022-10-21 10:47:00,728 [major:19]\t SSH: '    os.symlink(auth_sock, agent_uuid_sockpath)'\r\n2022-10-21 10:47:00,728 [major:19]\t SSH: \"FileExistsError: [Errno 17] File exists: '/tmp/ssh-XXXX3ukZbV/agent.972302' -> '/run/user/5271/xpra/19/ssh/f8c056853a97afc83ef1b5df0b5f0b2ccf420426a84351d16c505d1abb205158'\"\r\n2022-10-21 10:47:02,714 [major:19]\tenabled remote logging\r\n```\r\nBut it manages to continue.\r\nThis manifests in all commands, including simple ones like `version`:\r\n```\r\nxpra version ssh://major/27\r\nConnected (version 2.0, client OpenSSH_8.7)\r\nAuthentication (publickey) successful!\r\nssh server OS is 'linux-gnu'\r\nparamiko SSH agent forwarding enabled\r\n SSH: 'Error setting up client ssh agent forwarding socket'\r\n SSH: 'Traceback (most recent call last):'\r\n SSH: '  File \"/usr/lib64/python3.10/site-packages/xpra/scripts/main.py\", line 2681, in run_proxy'\r\n SSH: '    setup_proxy_ssh_socket(cmdline)'\r\n SSH: '  File \"/usr/lib64/python3.10/site-packages/xpra/scripts/main.py\", line 2611, in setup_proxy_ssh_socket'\r\n SSH: '    os.symlink(auth_sock, agent_uuid_sockpath)'\r\n SSH: \"FileExistsError: [Errno 17] File exists: '/tmp/ssh-XXXX9LQYQy/agent.973821' -> '/run/user/5271/xpra/27/ssh/f8c056853a97afc83ef1b5df0b5f0b2ccf420426a84351d16c505d1abb205158'\"\r\n5\r\nSSH EOF on stderr of run-xpra\r\n```\r\nServer start:\r\n`xpra start ssh://major/19 --attach=no --start-child=vterm`\r\nClient start:\r\n`xpra attach ssh://major/19 --border=blue,1`\r\n\r\nSide issue: What's with the simplistic answer to `version`, just `5`, instead of a full version naming? Reports like this need to be very specific as to what's just lately installed.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3664/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3664/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3663", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3663/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3663/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3663/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3663", "id": 1418451345, "node_id": "I_kwDOE8kGxM5Ui9mR", "number": 3663, "title": "showstopper: \"cannot start the seamless server\"", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-21T14:45:51Z", "updated_at": "2022-10-21T15:10:05Z", "closed_at": "2022-10-21T15:02:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ubuntu 20.04; just upgraded to v5.0-r32148 (g18720c1f1) beta.\r\n\r\n`xpra start :73 --attach=no --start-child=vterm`\r\n\r\n`vterm` is a wrapper script that mostly starts a terminal.\r\n`/run/user/45512/xpra/27/server.log` in its entirety:\r\n```\r\n2022-10-21 10:37:43,021 [:73]no uinput module (not usually needed)\r\n2022-10-21 10:37:44,603 [:73]pointer device emulation using XTest\r\n2022-10-21 10:37:44,619 [:73]serving html content from '/usr/share/xpra/www'\r\n2022-10-21 10:37:44,619 [:73]Error: cannot start the seamless server\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/server.py\", line 1473, in _do_run_server\r\n    app.init(opts)\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/server.py\", line 96, in init\r\n    super().init(opts)\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/x11_server_core.py\", line 101, in init\r\n    super().init(opts)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/server_base.py\", line 155, in init\r\n    c.init(self, opts)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/server_core.py\", line 272, in init\r\n    self.init_auth(opts)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/server_core.py\", line 687, in init_auth\r\n    opts_value = getattr(opts, f\"{x}_auth\")\r\nAttributeError: 'Values' object has no attribute 'socket_auth'\r\n2022-10-21 10:37:44,620 [:73]'Values' object has no attribute 'socket_auth'\r\n2022-10-21 10:37:44,620 [:73]\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3663/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3662", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3662/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3662/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3662/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3662", "id": 1418402050, "node_id": "I_kwDOE8kGxM5UixkC", "number": 3662, "title": "xpra 5.0-r32148-1 cannot connect via ssh", "user": {"login": "allo-", "id": 1482341, "node_id": "MDQ6VXNlcjE0ODIzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1482341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allo-", "html_url": "https://github.com/allo-", "followers_url": "https://api.github.com/users/allo-/followers", "following_url": "https://api.github.com/users/allo-/following{/other_user}", "gists_url": "https://api.github.com/users/allo-/gists{/gist_id}", "starred_url": "https://api.github.com/users/allo-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allo-/subscriptions", "organizations_url": "https://api.github.com/users/allo-/orgs", "repos_url": "https://api.github.com/users/allo-/repos", "events_url": "https://api.github.com/users/allo-/events{/privacy}", "received_events_url": "https://api.github.com/users/allo-/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-21T14:09:31Z", "updated_at": "2022-10-21T16:57:48Z", "closed_at": "2022-10-21T15:49:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nxpra `5.0-r32148-1` cannot connect via ssh anymore.\r\nDowngrading to version `5.0-r32078-1` fixes the issue for me, so the change must be a regeression between these two version.\r\n\r\nxpra probably confuses the local and the remote username.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\n\r\n    `remoteuser@remotehost$ xpra start :10`\r\n\r\n3. client command\r\n\r\n    `localuser@localhost$ xpra attach --ssh=/usr/bin/ssh ssh:remoteuser@server:10`\r\n\r\n5. specific action to trigger the bug\r\n\r\nTrying to connect with the client\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian stable\r\n - Client OS: Debian testing\r\n - Xpra Server Version 4.4-r0-1\r\n - Xpra Client Version 5.0-r32148-1\r\n\r\n**Additional context**\r\n```\r\n2022-10-21 16:02:21,892 Error: SSH connection to the xpra server failed\r\n2022-10-21 16:02:21,892  check your username, hostname, display number, firewall, etc\r\n2022-10-21 16:02:21,892  for server: ssh://remoteuser@server:10\r\n2022-10-21 16:02:21,893  the command line used was:\r\n2022-10-21 16:02:21,893  /usr/bin/ssh -l localuser -p 10 -T server\r\n```\r\n\r\nThe command line should contain `-l remoteuser` as parameter or `remoteuser@server` as connection string.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3662/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3662/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3661", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3661/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3661/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3661/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3661", "id": 1417231409, "node_id": "I_kwDOE8kGxM5UeTwx", "number": 3661, "title": "remote clipboard request timed out", "user": {"login": "fpoto", "id": 5763468, "node_id": "MDQ6VXNlcjU3NjM0Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/5763468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fpoto", "html_url": "https://github.com/fpoto", "followers_url": "https://api.github.com/users/fpoto/followers", "following_url": "https://api.github.com/users/fpoto/following{/other_user}", "gists_url": "https://api.github.com/users/fpoto/gists{/gist_id}", "starred_url": "https://api.github.com/users/fpoto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fpoto/subscriptions", "organizations_url": "https://api.github.com/users/fpoto/orgs", "repos_url": "https://api.github.com/users/fpoto/repos", "events_url": "https://api.github.com/users/fpoto/events{/privacy}", "received_events_url": "https://api.github.com/users/fpoto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-20T20:29:22Z", "updated_at": "2022-10-21T03:21:29Z", "closed_at": "2022-10-21T03:21:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use a remote Emacs with both client and server at 4.4, both on Debian bookworm. Client is patched for the focus bug.\r\n\r\nVery often copy and paste between client and a local window does not work. Since I call Xpra form the command line, I see this:\r\n```\r\n022-10-20 21:58:11,848 Warning: remote clipboard request timed out\r\n2022-10-20 21:58:11,849  request id 1, selection=CLIPBOARD, target=UTF8_STRING\r\n2022-10-20 21:58:14,358 Warning: remote clipboard request timed out\r\n2022-10-20 21:58:14,358  request id 3, selection=CLIPBOARD, target=UTF8_STRING\r\n2022-10-20 21:58:16,652 client ['Pluma', 'xid=6400028', 'pid=3496772'] is requesting an unknown target: 'GTK_TEXT_BUFFER_CONTENTS'\r\n2022-10-20 21:58:16,653  using 'UTF8_STRING' instead\r\n2022-10-20 21:58:16,871 Warning: remote clipboard request timed out\r\n2022-10-20 21:58:16,871  request id 4, selection=CLIPBOARD, target=COMPOUND_TEXT\r\n2022-10-20 21:58:18,278 client ['Pluma', 'xid=6400090', 'pid=3496772'] is requesting an unknown target: 'GTK_TEXT_BUFFER_CONTENTS'\r\n2022-10-20 21:58:18,278  using 'UTF8_STRING' instead\r\n2022-10-20 21:58:19,159 Warning: remote clipboard request timed out\r\n2022-10-20 21:58:19,160  request id 5, selection=CLIPBOARD, target=UTF8_STRING\r\n2022-10-20 21:58:19,425 Warning: remote clipboard request timed out\r\n2022-10-20 21:58:19,426  request id 6, selection=CLIPBOARD, target=STRING\r\n```\r\n\r\nDoes not happen with 4.3 client", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3661/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3661/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3660", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3660/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3660/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3660/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3660", "id": 1417226423, "node_id": "I_kwDOE8kGxM5UeSi3", "number": 3660, "title": "Emacs windows does not always redraw", "user": {"login": "fpoto", "id": 5763468, "node_id": "MDQ6VXNlcjU3NjM0Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/5763468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fpoto", "html_url": "https://github.com/fpoto", "followers_url": "https://api.github.com/users/fpoto/followers", "following_url": "https://api.github.com/users/fpoto/following{/other_user}", "gists_url": "https://api.github.com/users/fpoto/gists{/gist_id}", "starred_url": "https://api.github.com/users/fpoto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fpoto/subscriptions", "organizations_url": "https://api.github.com/users/fpoto/orgs", "repos_url": "https://api.github.com/users/fpoto/repos", "events_url": "https://api.github.com/users/fpoto/events{/privacy}", "received_events_url": "https://api.github.com/users/fpoto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 23, "created_at": "2022-10-20T20:26:08Z", "updated_at": "2023-03-16T15:45:13Z", "closed_at": "2023-03-16T15:04:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use a remote Emacs with both client and server at 4.4, both on Debian bookworm. Client is patched for the focus bug.\r\n\r\nSometimes (say, every couple minute) while working on Emacs, the window does not redraw. I give a keyboard command and nothing apparently happens. If I force a redraw, everything is well.\r\n\r\nDoes not happen with 4.3 client\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3660/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3660/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3656", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3656/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3656/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3656/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3656", "id": 1412649670, "node_id": "I_kwDOE8kGxM5UM1LG", "number": 3656, "title": "Update is broken in Ubuntu 20.04", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-10-18T06:34:04Z", "updated_at": "2022-10-18T16:30:53Z", "closed_at": "2022-10-18T16:30:53Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n**To Reproduce**\r\n\r\nUpdating is broken? :confused:\r\n\r\n```console\r\n$ sudo apt-get upgrade xpra\r\nReading package lists... Done\r\nBuilding dependency tree       \r\nReading state information... Done\r\nCalculating upgrade... Done\r\nSome packages could not be installed. This may mean that you have\r\nrequested an impossible situation or if you are using the unstable\r\ndistribution that some required packages have not yet been created\r\nor been moved out of Incoming.\r\nThe following information may help to resolve the situation:\r\n\r\nThe following packages have unmet dependencies:\r\n xpra : Depends: libc but it is not installable\r\n        Depends: libx11 but it is not installable\r\n        Depends: libxcomposite but it is not installable\r\n        Depends: libxdamage but it is not installable\r\n        Depends: libxtst but it is not installable\r\n        Depends: libxkbfile but it is not installable\r\n        Depends: libxres but it is not installable\r\n        Depends: libdrm but it is not installable\r\n        Depends: liblz4 but it is not installable\r\n        Recommends: xpra-codecs but it is not going to be installed\r\n        Recommends: libsystemd but it is not installable\r\n        Recommends: libprocps but it is not installable\r\nE: Broken packages\r\n$ apt-cache madison xpra\r\n      xpra | 5.0-r32135-1 | https://xpra.org/beta focal/main amd64 Packages\r\n      xpra | 5.0-r32124-1 | https://xpra.org/beta focal/main amd64 Packages\r\n      xpra | 5.0-r32108-1 | https://xpra.org/beta focal/main amd64 Packages\r\n      xpra | 5.0-r32100-1 | https://xpra.org/beta focal/main amd64 Packages\r\n      xpra | 5.0-r32078-1 | https://xpra.org/beta focal/main amd64 Packages\r\n      xpra |   4.4-r0-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra |   4.4-r0-1 | https://xpra.org/beta focal/main amd64 Packages\r\n      xpra | 4.3.4-r0-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.3.3-r0-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.3.2-r0-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.3.1-r0-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra |   4.3-r0-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.2.3-r12-2 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.2.3-r0-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.2.2-r0-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.2.1-r0-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra |   4.2-r0-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.1.3-r1-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.1.2-r2-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.1.1-r28-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.1.1-r5-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.1-r28561-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.0.6-r28351-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.0.5-r27999-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.0.4-r27557-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.0.3-r27082-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.0.2-r26625-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.0.1-r26379-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 4.0-r26306-1 | https://xpra.org focal/main amd64 Packages\r\n      xpra | 3.0.6+dfsg1-1build1 | http://fi.archive.ubuntu.com/ubuntu focal/universe amd64 Packages\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.5 LTS\r\n- Xpra Server Version (see above)\r\n- Xpra Client Version (see above)*\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3656/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3654", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3654/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3654/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3654/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3654", "id": 1410019287, "node_id": "I_kwDOE8kGxM5UCy_X", "number": 3654, "title": "xpra start --encoding=help throws NotImplementedError", "user": {"login": "firejox", "id": 6823999, "node_id": "MDQ6VXNlcjY4MjM5OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/6823999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/firejox", "html_url": "https://github.com/firejox", "followers_url": "https://api.github.com/users/firejox/followers", "following_url": "https://api.github.com/users/firejox/following{/other_user}", "gists_url": "https://api.github.com/users/firejox/gists{/gist_id}", "starred_url": "https://api.github.com/users/firejox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/firejox/subscriptions", "organizations_url": "https://api.github.com/users/firejox/orgs", "repos_url": "https://api.github.com/users/firejox/repos", "events_url": "https://api.github.com/users/firejox/events{/privacy}", "received_events_url": "https://api.github.com/users/firejox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-15T02:49:24Z", "updated_at": "2022-10-15T11:16:22Z", "closed_at": "2022-10-15T11:16:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nAccording to the man pages, we can use `--encoding=help` to see what encodings are supported. However it throws NotImplementedError.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n`xpra start --encoding=help`\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Windows 10 WSL2\r\n - Xpra Server Version v4.4-r0\r\n\r\n**Additional context**\r\nError Output:\r\n```\r\nWarning: XDG_RUNTIME_DIR is not defined\r\n and '/run/user/1000' does not exist\r\n using '/tmp'\r\nxpra server supports the following encodings:\r\n(please wait, encoder initialization may take a few seconds)\r\nxpra main error:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 142, in main\r\n    return run_mode(script_file, cmdline, err, options, args, mode, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 451, in run_mode\r\n    return do_run_mode(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 486, in do_run_mode\r\n    return run_server(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 1836, in run_server\r\n    return do_run_server(script_file, cmdline, error_cb, options, args, mode, display, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/server.py\", line 720, in do_run_server\r\n    return show_encoding_help(opts)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/server.py\", line 248, in show_encoding_help\r\n    sb = ServerBase()\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/server_base.py\", line 103, in __init__\r\n    c.__init__(self)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/mixins/child_command_server.py\", line 75, in __init__\r\n    self.idle_add(self.late_start)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/server_base.py\", line 130, in idle_add\r\n    raise NotImplementedError()\r\nNotImplementedError\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3654/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3650", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3650/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3650/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3650/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3650", "id": 1407378758, "node_id": "I_kwDOE8kGxM5T4uVG", "number": 3650, "title": "xwait.c fails to compile on FreeBSD", "user": {"login": "arrowd", "id": 1528094, "node_id": "MDQ6VXNlcjE1MjgwOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1528094?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arrowd", "html_url": "https://github.com/arrowd", "followers_url": "https://api.github.com/users/arrowd/followers", "following_url": "https://api.github.com/users/arrowd/following{/other_user}", "gists_url": "https://api.github.com/users/arrowd/gists{/gist_id}", "starred_url": "https://api.github.com/users/arrowd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arrowd/subscriptions", "organizations_url": "https://api.github.com/users/arrowd/orgs", "repos_url": "https://api.github.com/users/arrowd/repos", "events_url": "https://api.github.com/users/arrowd/events{/privacy}", "received_events_url": "https://api.github.com/users/arrowd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-13T08:34:28Z", "updated_at": "2022-10-13T09:14:47Z", "closed_at": "2022-10-13T09:14:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen building Xpra 4.4 I get:\r\n\r\n```\r\nbuilding 'xpra.x11.bindings.xwait' extension\r\ncc -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -O2 -pipe -fstack-protector-strong -fno-strict-aliasing -O2 -pipe -fstack-protector-strong -fno-strict-aliasing -fPIC -I/usr/local/include -I/usr/local/include/python3.9 -c xpra/x11/bindings/xwait.c -o build/temp.freebsd-14.0-CURRENT-amd64-cpython-39/xpra/x11/bindings/xwait.o -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -O2 -pipe -fstack-protector-strong -fno-strict-aliasing -D_THREAD_SAFE -pthread -Wall -Werror -Wno-error=unused-function -fPIC -O2 -pipe -fstack-protector-strong -fno-strict-aliasing\r\nxpra/x11/bindings/xwait.c:4821:21: error: fallthrough annotation in unreachable code [-Werror,-Wunreachable-code-fallthrough]\r\n                    CYTHON_FALLTHROUGH;\r\n                    ^\r\nxpra/x11/bindings/xwait.c:391:34: note: expanded from macro 'CYTHON_FALLTHROUGH'\r\n      #define CYTHON_FALLTHROUGH __attribute__((fallthrough))\r\n                                 ^\r\nxpra/x11/bindings/xwait.c:4832:21: error: fallthrough annotation in unreachable code [-Werror,-Wunreachable-code-fallthrough]\r\n                    CYTHON_FALLTHROUGH;\r\n                    ^\r\nxpra/x11/bindings/xwait.c:391:34: note: expanded from macro 'CYTHON_FALLTHROUGH'\r\n      #define CYTHON_FALLTHROUGH __attribute__((fallthrough))\r\n                                 ^\r\n2 errors generated.\r\nerror: command '/usr/bin/cc' failed with exit code 1\r\n```\r\n\r\nThe relevant part of the generated `.c` file is:\r\n\r\n```\r\n            switch (size) {\r\n                case -2:\r\n                    if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {\r\n                        b = -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));\r\n                        break;\r\n#ifdef HAVE_LONG_LONG\r\n                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 2 * PyLong_SHIFT) {\r\n                        llb = -(PY_LONG_LONG) (((((unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));\r\n                        goto long_long;\r\n#endif\r\n                    }\r\n                    CYTHON_FALLTHROUGH;  \r\n                case 2:\r\n                    if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {\r\n                        b = (long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));\r\n                        break;\r\n#ifdef HAVE_LONG_LONG\r\n                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 2 * PyLong_SHIFT) {\r\n                        llb = (PY_LONG_LONG) (((((unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));\r\n                        goto long_long;\r\n#endif\r\n                    }\r\n                    CYTHON_FALLTHROUGH;\r\n                case -3:\r\n```\r\n\r\n**To Reproduce**\r\nApply the following patch to the FreeBSD Ports tree and run `make -C /usr/ports/x11/xpra`:\r\n\r\n```\r\ndiff --git a/x11/xpra/Makefile b/x11/xpra/Makefile\r\nindex 8c71dbee7926..844e8c026967 100644\r\n--- a/x11/xpra/Makefile\r\n+++ b/x11/xpra/Makefile\r\n@@ -1,6 +1,5 @@\r\n PORTNAME=      xpra\r\n-PORTVERSION=   4.3.4\r\n-PORTREVISION=  2\r\n+PORTVERSION=   4.4\r\n CATEGORIES=    x11\r\n MASTER_SITES=  https://xpra.org/src/\r\n \r\n@@ -42,9 +41,8 @@ USE_XORG=     x11 xcomposite xdamage xext xfixes xi xkbfile xrandr xres xtst\r\n PLIST_SUB+=    PORTVERSION=${PORTVERSION} \\\r\n                PYTHON_SUFFIX=${PYTHON_SUFFIX} \\\r\n                PYTHON_VER=${PYTHON_VER}\r\n-SHEBANG_FILES= fs/lib/cups/xpraforwarder fs/bin/auth_dialog fs/bin/xdg-open \\\r\n-               fs/bin/xpra_udev_product_version fs/bin/gnome-open \\\r\n-               fs/bin/gvfs-open\r\n+SHEBANG_FILES= fs/lib/cups/backend/xpraforwarder fs/libexec/xpra/auth_dialog \\\r\n+               fs/libexec/xpra/xdg-open fs/libexec/xpra/xpra_udev_product_version\r\n \r\n OPTIONS_DEFINE=                AVAHI AVCODEC CUPS DOCS FFMPEG GSTREAMER LIBYUV SWSCALE \\\r\n                        WEBCAM X265\r\ndiff --git a/x11/xpra/distinfo b/x11/xpra/distinfo\r\nindex 3b3cc010b338..c89bd3fa151b 100644\r\n--- a/x11/xpra/distinfo\r\n+++ b/x11/xpra/distinfo\r\n@@ -1,3 +1,3 @@\r\n-TIMESTAMP = 1660117365\r\n-SHA256 (xpra-4.3.4.tar.xz) = 947512a281dac8d8aac351a9714bddf3353f392889e7de3a93fd08a748e704e6\r\n-SIZE (xpra-4.3.4.tar.xz) = 2951628\r\n+TIMESTAMP = 1665600179\r\n+SHA256 (xpra-4.4.tar.xz) = 39f70151029a0c183bbe0c8100a8ca55b2353ea2bdd1ab8dbefa6cb95dad8a5b\r\n+SIZE (xpra-4.4.tar.xz) = 3033312\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: FreeBSD 14-CURRENT\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3650/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3650/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3649", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3649/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3649/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3649/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3649", "id": 1407246826, "node_id": "I_kwDOE8kGxM5T4OHq", "number": 3649, "title": "Xpra v4.4-r0 is hang on Windows 10 WSL2", "user": {"login": "firejox", "id": 6823999, "node_id": "MDQ6VXNlcjY4MjM5OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/6823999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/firejox", "html_url": "https://github.com/firejox", "followers_url": "https://api.github.com/users/firejox/followers", "following_url": "https://api.github.com/users/firejox/following{/other_user}", "gists_url": "https://api.github.com/users/firejox/gists{/gist_id}", "starred_url": "https://api.github.com/users/firejox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/firejox/subscriptions", "organizations_url": "https://api.github.com/users/firejox/orgs", "repos_url": "https://api.github.com/users/firejox/repos", "events_url": "https://api.github.com/users/firejox/events{/privacy}", "received_events_url": "https://api.github.com/users/firejox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2022-10-13T06:51:09Z", "updated_at": "2022-10-17T15:35:06Z", "closed_at": "2022-10-14T15:13:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nXpra v4.4-r0 hangs on Windows 10 WSL2 but Xpra v4.3.4-r0 does not.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\nWSL side :\r\n\r\n```\r\nxpra start --bind-tcp=0.0.0.0:10000 --start-child=xterm --exit-with-children-yes --daemon=no --pulseaudio=no --notification=no --bell=no --speaker=diabled --microphone=disabled :10\r\n```\r\nWindows side:\r\n\r\n```\r\n\"C:\\Program Files\\Xpra\\Xpra_cmd.exe\" attach \"tcp://0.0.0.0:10000\"\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 20.04 Windows 10 WSL2\r\n - Client OS: Windows 10 Home 21H2\r\n - Xpra Server Version v4.4-r0\r\n - Xpra Client Version v4.4-r0\r\n\r\n**Additional context**\r\nThe client side produce this error.\r\n```\r\n2022-10-13 14:36:40,762 Xpra GTK3 client version 4.4-r0 64-bit\r\n2022-10-13 14:36:40,774  running on Microsoft Windows 10\r\n2022-10-13 14:36:42,900 GStreamer loaded\r\n2022-10-13 14:36:43,065 created named pipe 'Xpra\\67544'\r\n2022-10-13 14:36:43,156 keyboard layout 'United States - English' : 'us' (0x409)\r\nfailed to connect to 0.0.0.0:10000, retrying for 20 seconds\r\nWarning: failed to connect:\r\n failed to connect to tcp socket 0.0.0.0:10000\r\n```\r\n\r\nThe server side produce \r\n```\r\nWarning: XDG_RUNTIME_DIR is not defined\r\n and '/run/user/1000' does not exist\r\n using '/tmp'\r\n2022-10-13 14:35:18,131 created tcp socket '0.0.0.0:10000'\r\n2022-10-13 14:35:18,178 no uinput module (not usually needed)\r\n2022-10-13 14:35:18,231 pointer device emulation using XTest\r\n2022-10-13 14:35:18,271 serving html content from '/usr/share/xpra/www'\r\n2022-10-13 14:35:18,271 wrote pid 1581 to '/tmp/xpra/10/server.pid'\r\n2022-10-13 14:35:18,295 Warning: failed to create socket directory '/run/user/1000/xpra'\r\n2022-10-13 14:35:18,295  [Errno 13] Permission denied: '/run/user/1000'\r\n2022-10-13 14:35:18,296 Warning: failed to create socket directory '/run/xpra'\r\n2022-10-13 14:35:18,296  [Errno 13] Permission denied: '/run/xpra'\r\n2022-10-13 14:35:18,296 Warning: socket directory '/tmp/xpra/10'\r\n2022-10-13 14:35:18,296  expected permissions 700 but found 750\r\n2022-10-13 14:35:18,296 Warning: some of the sockets are in an unknown state:\r\n2022-10-13 14:35:18,296  /home/firejox/.xpra/DESKTOP-2BCQGK7-10\r\n2022-10-13 14:35:18,297  /tmp/xpra/10/socket\r\n2022-10-13 14:35:18,297  please wait as we allow the socket probing to timeout\r\n2022-10-13 14:35:24,308 Warning: cannot create socket '/run/user/1000/xpra/DESKTOP-2BCQGK7-10':\r\n2022-10-13 14:35:24,308  [Errno 2] No such file or directory\r\n2022-10-13 14:35:24,308  ($XDG_RUNTIME_DIR has not been created?)\r\n2022-10-13 14:35:24,308 cannot create group socket '/run/xpra/DESKTOP-2BCQGK7-10'\r\n2022-10-13 14:35:24,309  [Errno 2] No such file or directory\r\n2022-10-13 14:35:24,309  /run/xpra does not exist\r\n2022-10-13 14:35:24,310 created unix domain socket '/home/firejox/.xpra/DESKTOP-2BCQGK7-10'\r\n2022-10-13 14:35:24,310 created unix domain socket '/tmp/xpra/10/socket'\r\n2022-10-13 14:35:24,311 xvfb pid=1464\r\n2022-10-13 14:35:24,443 watching for applications menu changes in:\r\n2022-10-13 14:35:24,443  '/usr/share/applications'\r\n2022-10-13 14:35:24,444  '/var/lib/snapd/desktop/applications'\r\n2022-10-13 14:35:24,470 Warning: webcam forwarding is disabled\r\n2022-10-13 14:35:24,470  the virtual video directory '/sys/devices/virtual/video4linux' was not found\r\n2022-10-13 14:35:24,470  make sure that the 'v4l2loopback' kernel module is installed and loaded\r\n2022-10-13 14:35:24,470  or use the 'webcam=no' option\r\n2022-10-13 14:35:24,470 found 0 virtual video devices for webcam forwarding\r\n2022-10-13 14:35:24,490 Warning: lpinfo command failed and returned 1\r\n2022-10-13 14:35:24,491  command used: '/usr/sbin/lpinfo --make-and-model Generic PDF Printer -m'\r\n2022-10-13 14:35:24,497 Warning: lpinfo command failed and returned 1\r\n2022-10-13 14:35:24,500  command used: '/usr/sbin/lpinfo --make-and-model Generic PostScript Printer -m'\r\n2022-10-13 14:35:24,506 printer forwarding enabled using pdf\r\n2022-10-13 14:35:24,509 started command `xterm` with pid 1611\r\n```\r\n\r\nIf I downgrade the version of Xpra of WSL2, the issue will be resolve.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3649/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3648", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3648/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3648/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3648/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3648", "id": 1406321824, "node_id": "I_kwDOE8kGxM5T0sSg", "number": 3648, "title": "client without transparency causes server to spit out 'no video pipeline options found for BGRA'", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-10-12T14:31:16Z", "updated_at": "2022-10-13T06:06:59Z", "closed_at": "2022-10-13T06:06:59Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Discovered whilst testing https://github.com/Xpra-org/xpra/issues/3646#issuecomment-1276210332\r\nNow that the client correctly tells the server that it can't handle transparency, the server fails to find a video pipeline for video content with alpha and spits out too many warnings:\r\n```\r\nError: no video pipeline options found for BGRA 32-bit at 320x320\r\nError: failed to setup a video pipeline for auto encoding with source format BGRA\r\n all encoders: \r\n supported CSC modes: \r\n supported encoders: \r\n encoders CSC modes\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3648/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3648/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3646", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3646/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3646/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3646/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3646", "id": 1404833198, "node_id": "I_kwDOE8kGxM5TvA2u", "number": 3646, "title": "non composited screens without opengl use nasty rgb paint", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-10-11T15:22:44Z", "updated_at": "2022-10-12T14:31:27Z", "closed_at": "2022-10-12T14:31:27Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Reproduced with openbox as window manager, which doesn't support compositing and therefore no transparency. Since I run it in a VM, I don't have opengl acceleration either.\r\nWe end up calling `paint_rgb24` and that fails to find a matching cairo format to use for the `BGRX` pixel data received:\r\n```\r\ncompress:   0.1ms for    4x102  pixels at 1088,108  for wid=21    using     rgb24 with ratio  10.9%  (    1KB to     0KB), sequence   247, client_options={'rgb_format': 'BGRX', 'lz4': 3, 'encoder': 'argb'}, options={'quality': 97, 'speed': 19, 'rgb_formats': ('YUV420P', 'YUV422P', 'YUV444P', 'GBRP', 'BGRX', 'RGBX', 'RGB', 'BGR'), 'lz4': True, 'alpha': False, 'content-type': 'browser', 'window-size': (1094, 1075), 'cuda-device-context': None}\r\ncairo_draw: backing=<cairo.ImageSurface object at 0x7fbd49b5cdb0>, size=(249, 48), render-size=(249, 48), offsets=(0, 0, 0, 0), pointer_overlay=None\r\ncairo._do_paint_rgb(RGB24, True, 47808 <class 'memoryview'>, 0, 0, 249, 48, 249, 48, 996, typedict({'rgb_format': 'BGRA', 'quality': 100, 'has_alpha': True, 'encoder': 'webp', 'encoding': 'webp'})) set_image_surface_data=<built-in function set_image_surface_data>, use pixbuf=False\r\ncannot set image surface data for cairo format 1 and rgb_format BGRA (rgb formats supported: ('RGB', 'RGBX', 'BGR', 'BGRX'))\r\nnasty_rgb_via_png_paint(cairo.Format.RGB24, True, 47808, 0, 0, 249, 48, 996, 'BGRA')\r\n```\r\n\r\nAlso, the `window 0x18 changed its transparency attribute` is Firefox creating a transparent overlay window. Not sure what to do about this one.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3646/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3645", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3645/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3645/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3645/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3645", "id": 1404670064, "node_id": "I_kwDOE8kGxM5TuZBw", "number": 3645, "title": "Xpra window loses focus when switching desktop", "user": {"login": "fpoto", "id": 5763468, "node_id": "MDQ6VXNlcjU3NjM0Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/5763468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fpoto", "html_url": "https://github.com/fpoto", "followers_url": "https://api.github.com/users/fpoto/followers", "following_url": "https://api.github.com/users/fpoto/following{/other_user}", "gists_url": "https://api.github.com/users/fpoto/gists{/gist_id}", "starred_url": "https://api.github.com/users/fpoto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fpoto/subscriptions", "organizations_url": "https://api.github.com/users/fpoto/orgs", "repos_url": "https://api.github.com/users/fpoto/repos", "events_url": "https://api.github.com/users/fpoto/events{/privacy}", "received_events_url": "https://api.github.com/users/fpoto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-11T13:44:58Z", "updated_at": "2022-10-11T14:03:09Z", "closed_at": "2022-10-11T14:03:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "With 4.4-r0-1 with Mate desktop under Debian, on the (remote) client  I launch xpra and open an Emacs window on the server. If I switch desktop and then go back to the Xpra Emacs window, the cursor is hollow rather than full. I can move the cursor it using the mouse, but the keyboard has no effect.\r\n\r\nDowngrading to 4.3.2-r0-1 on the (remote) client solves the problem. Server is still 4.4-r0-1\r\n\r\nThe command I use on the client is:\r\n\r\n```\r\nxpra start ssh://my.box.at.office/7 --ssh=\"ssh -i ~/.ssh/id_rsa\" \\\r\n\t --attach=auto --use-display=auto --dpi=86 \\\r\n\t --speaker=on --env=XPRA_CUTTER_THRESHOLD=0 \\\r\n\t --border=\\#CCCC00 --start=editor\r\n```\r\n\r\n Up-to-date Debian testing (bookworm) on both server and client", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3645/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3642", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3642/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3642/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3642/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3642", "id": 1402271903, "node_id": "I_kwDOE8kGxM5TlPif", "number": 3642, "title": "unit.server.mixins.child_command_test fails due to missing idle_add method", "user": {"login": "chewi", "id": 35072, "node_id": "MDQ6VXNlcjM1MDcy", "avatar_url": "https://avatars.githubusercontent.com/u/35072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chewi", "html_url": "https://github.com/chewi", "followers_url": "https://api.github.com/users/chewi/followers", "following_url": "https://api.github.com/users/chewi/following{/other_user}", "gists_url": "https://api.github.com/users/chewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/chewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chewi/subscriptions", "organizations_url": "https://api.github.com/users/chewi/orgs", "repos_url": "https://api.github.com/users/chewi/repos", "events_url": "https://api.github.com/users/chewi/events{/privacy}", "received_events_url": "https://api.github.com/users/chewi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-09T13:17:32Z", "updated_at": "2022-10-09T14:38:30Z", "closed_at": "2022-10-09T14:38:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe test suite under 4.4 or current master fails due to bc8bf26c44d1b151d709232460483f5432f79f5b. It's not clear how `idle_add` should be defined in this `ChildCommandServer`. There are also other instances of `self.idle_add` in this class.\r\n\r\n```\r\nrunning unit.server.mixins.child_command_test\r\n\r\nE\r\n======================================================================\r\nERROR: test_command_server (__main__.ChildCommandMixinTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/var/tmp/portage/x11-wm/xpra-9999/work/xpra-9999/tests/unittests/unit/server/mixins/child_command_test.py\", line 26, in test_command_server\r\n    self.do_test_command_server()\r\n  File \"/var/tmp/portage/x11-wm/xpra-9999/work/xpra-9999/tests/unittests/unit/server/mixins/child_command_test.py\", line 55, in do_test_command_server\r\n    self._test_mixin_class(_ChildCommandServer, opts)\r\n  File \"/var/tmp/portage/x11-wm/xpra-9999/work/xpra-9999/tests/unittests/unit/server/mixins/servermixintest_util.py\", line 78, in _test_mixin_class\r\n    x = self.mixin = mclass()\r\n  File \"/var/tmp/portage/x11-wm/xpra-9999/work/xpra-9999/tests/unittests/unit/server/mixins/child_command_test.py\", line 52, in _ChildCommandServer\r\n    ccs = child_command_server.ChildCommandServer()\r\n  File \"/var/tmp/portage/x11-wm/xpra-9999/work/xpra-9999_python3.10/test/lib/xpra/server/mixins/child_command_server.py\", line 75, in __init__\r\n    self.idle_add(self.late_start)\r\nAttributeError: 'ChildCommandServer' object has no attribute 'idle_add'\r\n```\r\n\r\n\r\n**To Reproduce**\r\nRun the test suite.\r\n\r\n**System Information (please complete the following information):**\r\nGentoo Linux with Xpra 4.4 or fa3e6ed7a02c4a5e8aef95102431c423df25c689.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3642/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3639", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3639/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3639/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3639/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3639", "id": 1401327382, "node_id": "I_kwDOE8kGxM5Tho8W", "number": 3639, "title": "Windows Defender reports xpra as Win32/Spursint.F!cl trojan and blocks installation", "user": {"login": "gdevenyi", "id": 3001850, "node_id": "MDQ6VXNlcjMwMDE4NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3001850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gdevenyi", "html_url": "https://github.com/gdevenyi", "followers_url": "https://api.github.com/users/gdevenyi/followers", "following_url": "https://api.github.com/users/gdevenyi/following{/other_user}", "gists_url": "https://api.github.com/users/gdevenyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/gdevenyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gdevenyi/subscriptions", "organizations_url": "https://api.github.com/users/gdevenyi/orgs", "repos_url": "https://api.github.com/users/gdevenyi/repos", "events_url": "https://api.github.com/users/gdevenyi/events{/privacy}", "received_events_url": "https://api.github.com/users/gdevenyi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-07T15:03:04Z", "updated_at": "2022-10-07T15:20:33Z", "closed_at": "2022-10-07T15:20:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWindows defender blocks the installer and reports it as Win32/Spursint.F!cl\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. download https://xpra.org/dists/windows/Xpra-x86_64_Setup.exe\r\n2. attempt to run\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: NA\r\n - Client OS: Windows 11\r\n - Xpra Server Version NA\r\n - Xpra Client Version latest\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3639/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3637", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3637/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3637/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3637/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3637", "id": 1398305621, "node_id": "I_kwDOE8kGxM5TWHNV", "number": 3637, "title": "Fix broken link https://xpra.org/Xdummy.html", "user": {"login": "Martin-Buchholz", "id": 74514881, "node_id": "MDQ6VXNlcjc0NTE0ODgx", "avatar_url": "https://avatars.githubusercontent.com/u/74514881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Martin-Buchholz", "html_url": "https://github.com/Martin-Buchholz", "followers_url": "https://api.github.com/users/Martin-Buchholz/followers", "following_url": "https://api.github.com/users/Martin-Buchholz/following{/other_user}", "gists_url": "https://api.github.com/users/Martin-Buchholz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Martin-Buchholz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Martin-Buchholz/subscriptions", "organizations_url": "https://api.github.com/users/Martin-Buchholz/orgs", "repos_url": "https://api.github.com/users/Martin-Buchholz/repos", "events_url": "https://api.github.com/users/Martin-Buchholz/events{/privacy}", "received_events_url": "https://api.github.com/users/Martin-Buchholz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-05T19:57:57Z", "updated_at": "2022-10-06T03:33:56Z", "closed_at": "2022-10-06T03:33:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "There are multiple lingering references to broken link https://xpra.org/Xdummy.html\r\nPerhaps replace with  https://github.com/Xpra-org/xpra/blob/master/docs/Usage/Xdummy.md\r\n```shell\r\n$ grep -r Xdummy.html\r\nfs/etc/xpra/xorg.conf:# https://xpra.org/Xdummy.html\r\nfs/etc/xpra/xorg-uinput.conf:# https://xpra.org/Xdummy.html\r\nfs/etc/xpra/xorg-randr1.6.conf:# https://xpra.org/Xdummy.html\r\nfs/share/man/man1/xpra.1:https://xpra.org/Xdummy.html\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3637/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3636", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3636/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3636/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3636/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3636", "id": 1396674907, "node_id": "I_kwDOE8kGxM5TP5Fb", "number": 3636, "title": "Large clipboard selections cause target appliacation to hang", "user": {"login": "adamnew123456", "id": 187775, "node_id": "MDQ6VXNlcjE4Nzc3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/187775?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamnew123456", "html_url": "https://github.com/adamnew123456", "followers_url": "https://api.github.com/users/adamnew123456/followers", "following_url": "https://api.github.com/users/adamnew123456/following{/other_user}", "gists_url": "https://api.github.com/users/adamnew123456/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamnew123456/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamnew123456/subscriptions", "organizations_url": "https://api.github.com/users/adamnew123456/orgs", "repos_url": "https://api.github.com/users/adamnew123456/repos", "events_url": "https://api.github.com/users/adamnew123456/events{/privacy}", "received_events_url": "https://api.github.com/users/adamnew123456/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-04T18:23:43Z", "updated_at": "2022-10-10T16:37:22Z", "closed_at": "2022-10-08T16:56:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nOnce a clipboard selection gets big enough (500ish bytes in my testing) Xpra is no longer able to paste them into server applications. Whatever application I paste them into will hang or timeout when requesting the clipboard data.\r\n\r\n**To Reproduce**\r\n\r\n1. Logon to the server (sol) and run `xpra start --bind-tcp=0.0.0.0:1995 --daemon=no -d clipboard :1`\r\n2. Connect from the client (jupiter) via `xpra attach tcp://sol.lan:1995 --start=xterm`\r\n3. Open Firefox locally, visit https://wiki.c2.com/ and copy all the body text onto the clipboard.\r\n4. Invoke `xclip -out -selection clipboard` on the xterm spawned by Xpra.\r\n\r\nAt this point `xclip` will hang and the console running the Xpra server will show these messages:\r\n\r\n```\r\n2022-10-04 14:00:39,584 got_contents('UTF8_STRING', 'UTF8_STRING', 8, b'See fedwiki\\'s C2 for Me\\n\\nWelcome to the Wik .. ou are overwhelmed by the big list of options. ') pending=(<GdkX11.X11Window object at 0x7f739bfadb00 (GdkX11Window at 0x55f3d1fde360)>, 'UTF8_STRING', 'XCLIP_OUT', 0)\r\n2022-10-04 14:00:39,584 setting response b'See fedwiki\\'s C2 for Me\\n\\nWelcome to the Wik .. ou are overwhelmed by the big list of options. ' as 'UTF8_STRING' on property 'XCLIP_OUT' of window 0x50d as UTF8_STRING\r\n2022-10-04 14:00:39,584 set_selection_response(<GdkX11.X11Window object at 0x7f739bfadb00 (GdkX11Window at 0x55f3d1fde360)>, UTF8_STRING, XCLIP_OUT, UTF8_STRING, 8, b'See fedwiki\\'s C2 for Me\\n\\nWelcome to the Wik .. ou are overwhelmed by the big list of options. ', 0)\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/clipboard/clipboard_core.py\", line 506, in process_clipboard_packet\r\n    handler(packet)\r\n  File \"/usr/lib/python3/dist-packages/xpra/clipboard/clipboard_core.py\", line 475, in _process_clipboard_contents\r\n    self._clipboard_got_contents(request_id, dtype, dformat, raw_data)\r\n  File \"/usr/lib/python3/dist-packages/xpra/clipboard/clipboard_timeout_helper.py\", line 120, in _clipboard_got_contents\r\n    proxy.got_contents(target, dtype, dformat, data)\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/gtk_x11/clipboard.py\", line 501, in got_contents\r\n    self.set_selection_response(requestor, actual_target, prop, dtype, dformat, data, time)\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/gtk_x11/clipboard.py\", line 472, in set_selection_response\r\n    X11Window.XChangeProperty(xid, prop, dtype, dformat, data)\r\n  File \"xpra/x11/bindings/window_bindings.pyx\", line 1050, in xpra.x11.bindings.window_bindings.X11WindowBindingsInstance.XChangeProperty\r\nTypeError: expected bytes, memoryview found\r\n```\r\n\r\n**System Information:**\r\n - Server OS: Debian Unstable\r\n - Client OS: Multiple (reproduces on Debian Unstable, Windows 10)\r\n - Xpra Server Version: xpra v4.4-r31983 (g7766ff357) beta\r\n - Xpra Client Version: xpra v4.4-r31841 (gce6d7019b) beta\r\n\r\n**Additional context**\r\n\r\nI worked around this this locally with a small patch to the X11 clipboard handling code which converts the `memoryview` instance into `bytes`, in the same way that `str` instances are converted to `bytes`:\r\n\r\n```diff\r\ndiff --git a/xpra/x11/gtk_x11/clipboard.py b/xpra/x11/gtk_x11/clipboard.py\r\nindex 4338f8a1c..cec422214 100644\r\n--- a/xpra/x11/gtk_x11/clipboard.py\r\n+++ b/xpra/x11/gtk_x11/clipboard.py\r\n@@ -483,6 +483,8 @@ class ClipboardProxy(ClipboardProxyCore, GObject.GObject):\r\n                             data = strtobytes(data)\r\n                         except UnicodeEncodeError:\r\n                             data = data.encode(\"utf8\")\r\n+                    if isinstance(data, memoryview):\r\n+                        data = bytes(data)\r\n                     X11Window.XChangeProperty(xid, prop, dtype, dformat, data)\r\n                 else:\r\n                     #maybe even delete the property?\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3636/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3636/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3632", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3632/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3632/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3632/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3632", "id": 1392575192, "node_id": "I_kwDOE8kGxM5TAQLY", "number": 3632, "title": "windows shadow server goes *blind*", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-09-30T15:01:30Z", "updated_at": "2022-10-10T03:48:39Z", "closed_at": "2022-10-09T23:01:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Seriously, I just can't seem to let it go.\r\n\r\nr32011 on Windows\r\nr32009 on F35\r\n\r\n`xpra shadow ssh://winhost`\r\nPlay around a while. Do random things. Everything works.\r\nGet distracted. Leave the room. Go do something else for a little while.\r\nCome back. Move mouse. Open window. Move window.\r\nxpra client screen does not change.\r\nWith the physical machine behind my shoulder, I can turn around and see that I'm having the expected effects on it: Mouse and keyboard are live, machine responds to them.\r\nBut the xpra client window on F35 machine is showing no updates: It's gone blind, not deaf.\r\nWindows machine hears, but I cannot see.\r\n\r\nFortunately, simply closing and re-connecting makes it all sweetness and light again.\r\n\r\nI *think* it's related to simple idle time, how long I was away before it went blind. I've done it several times, and it's not a long time, maybe 10min or so.\r\n\r\nWhat `-d` switch would be useful to learn what's happening?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3632/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3631", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3631/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3631/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3631/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3631", "id": 1392571937, "node_id": "I_kwDOE8kGxM5TAPYh", "number": 3631, "title": "pycuda builds error on Fedora 37", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-09-30T14:59:12Z", "updated_at": "2022-12-03T14:58:24Z", "closed_at": "2022-12-03T14:58:24Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "We now build xpra without cuda on Fedora 37 531d640bf5641724ea6fd6f82471719a974e2860 because of this.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3631/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3630", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3630/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3630/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3630/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3630", "id": 1390465804, "node_id": "I_kwDOE8kGxM5S4NMM", "number": 3630, "title": "Xpra attach crashes gnome-shell on Xwayland/gdm3", "user": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2022-09-29T08:25:36Z", "updated_at": "2022-10-01T15:12:54Z", "closed_at": "2022-10-01T14:43:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nOver time during a mid-running desktop session (i.e: a week, including suspend/resume), after a few dozen xpra attach/disconnects, the start-up time for `xpra attach` starts to become sluggish, and can freeze the entire display manager for 60+ seconds before the remote window shows - unstucking the gnome-shell session. (Under \"normal\" operation, the entire display manager freezes for 1-3 seconds, which may itself be a bug, as Xpra must be doing something very wrong if any sort of freezing occurs at all just to load the initial window)\r\n\r\nAt some point though, the gnome-shell session never recovers, with Xpra - and all other running X applications - frozen.\r\n\r\nFrom journald\r\n```\r\nubuntu-appindicators@ubuntu.com[13197]: unable to update icon for Xpra\r\ngnome-shell[13197]: Attempting to call back into JSAPI during the sweeping phase of GC. This is most likely caused by not destroying a Clutter actor or Gtk+ widget with ::destroy signals connected, but can also be caused by using the destroy(), dispose(), or remove() vfuncs. Because it would crash the application, it has been blocked and the JS callback not invoked.\r\ngnome-shell[13197]: == Stack trace for context 0x55e424bd64b0 ==\r\ngnome-shell[13197]: #0   7ffd79e83290 b   /usr/share/gnome-shell/extensions/ubuntu-appindicators@ubuntu.com/dbusMenu.js:683 (1e76480ab470 @ 282)\r\ngnome-shell[13197]: #1   7ffd79e83380 b   /usr/share/gnome-shell/extensions/ubuntu-appindicators@ubuntu.com/dbusMenu.js:587 (1e76480ab150 @ 391)\r\ngnome-shell[13197]: #2   7ffd79e833d0 I   self-hosted:1178 (23977bb0a10 @ 492)\r\ngnome-shell[13197]: #3   7ffd79e834e0 b   resource:///org/gnome/gjs/modules/core/_signals.js:114 (23977bd3920 @ 433)\r\ngnome-shell[13197]: #4   7ffd79e835c0 b   /usr/share/gnome-shell/extensions/ubuntu-appindicators@ubuntu.com/dbusMenu.js:125 (1e76480a7330 @ 68)\r\ngnome-shell[13197]: #5   7ffd79e836c0 I   /usr/share/gnome-shell/extensions/ubuntu-appindicators@ubuntu.com/dbusMenu.js:355 (1e76480a7a60 @ 549)\r\ngnome-shell[13197]: #6   7ffd79e83780 b   /usr/share/gnome-shell/extensions/ubuntu-appindicators@ubuntu.com/dbusMenu.js:348 (1e76480a7b50 @ 15)\r\ngnome-shell[13197]: #7   7ffd79e83890 b   self-hosted:202 (23977ba8380 @ 272)\r\ngnome-shell[13197]: #8   7ffd79e83990 b   /usr/share/gnome-shell/extensions/ubuntu-appindicators@ubuntu.com/dbusMenu.js:348 (1e76480a7a60 @ 430)\r\ngnome-shell[13197]: #9   55e444ab9678 i   /usr/share/gnome-shell/extensions/ubuntu-appindicators@ubuntu.com/dbusMenu.js:332 (1e76480a7a10 @ 408)\r\ngnome-shell[13197]: #10   7ffd79e84540 I   self-hosted:1178 (23977bb0a10 @ 492)\r\ngnome-shell[13197]: #11   55e444ab95c8 i   resource:///org/gnome/gjs/modules/core/overrides/Gio.js:115 (23977bcd330 @ 298)\r\n...\r\ngnome-shell[13197]: Attempting to call back into JSAPI during the sweeping phase of GC. This is most likely caused by not destroying a Clutter actor or Gtk+ widget with ::destroy signals connected, but can also be caused by using the destroy(), dispose(), or remove() vfuncs. Because it would crash the application, it has been blocked and the JS callback not invoked.\r\nSep 29 09:22:54 insertnamehere gnome-shell[13197]: The offending signal was destroy on Gjs_ui_popupMenu_PopupSubMenuMenuItem 0x55e447ad7960.\r\n... repeated 170 times ...\r\ngnome-shell[13197]: Attempting to run a JS callback during garbage collection. This is most likely caused by destroying a Clutter actor or GTK widget with ::destroy signal connected, or using the destroy(), dispose(), or remove() vfuncs. Because it would crash the application, it has been blocked.\r\ngnome-shell[13197]: The offending callback was SourceFunc().\r\n... repeated 149826 times ...\r\ngnome-shell[13197]: == Stack trace for context 0x55e424bd64b0 ==\r\n... repeated 337191 times ...\r\n```\r\nPlus some other variations of `The offending signal was` and `The offending callback was` message.\r\n\r\nOn the console side from the xpra invocation\r\n```\r\n2022-09-29 09:22:47,102 Xpra GTK3 Wayland client version 4.3.4-r0 64-bit\r\n2022-09-29 09:22:47,235  running on Linux Ubuntu 22.04 jammy\r\n2022-09-29 09:22:47,235  window manager is 'ubuntu:GNOME on wayland'\r\n2022-09-29 09:22:47,667 GStreamer version 1.20.3 for Python 3.10.6 64-bit\r\n2022-09-29 09:22:47,899 created unix domain socket '/run/user/1000/xpra/clients/insertnamehere-104400'\r\n2022-09-29 09:22:48,250 keyboard bindings are not available\r\n2022-09-29 09:22:48,250  expect keyboard mapping problems\r\n2022-09-29 09:22:48,251  (incomplete wayland support)\r\n2022-09-29 09:22:48,525 Connected (version 2.0, client OpenSSH_8.9p1)\r\n2022-09-29 09:22:48,908 Authentication (publickey) successful!\r\n2022-09-29 09:22:49,164  keyboard settings: layout=gb\r\n2022-09-29 09:22:49,165  desktop size is 1920x1080:\r\n2022-09-29 09:22:49,166   wayland-0 (340x190 mm - DPI: 143x144)\r\n2022-09-29 09:22:49,166     BOE 0x0900\r\n2022-09-29 09:22:49,455 enabled remote logging\r\n2022-09-29 09:22:49,456 Xpra X11 seamless server version 4.3.4-r0 64-bit\r\n2022-09-29 09:22:49,457  running on Linux Ubuntu 22.04 jammy\r\n2022-09-29 09:22:49,466 Attached to xpra server at ssh://ibuclaw@172.3.4.5/100\r\n2022-09-29 09:22:49,467  (press Control-C to detach)\r\n\r\n2022-09-29 09:22:50,170 running, 1 window\r\n2022-09-29 09:22:50,917 audio playback found 2 audio output devices:\r\n2022-09-29 09:22:50,917 audio playback  * Family 17h (Models 10h-1fh) HD Audio Controller\r\n2022-09-29 09:22:50,917 audio playback    alsa_output.pci-0000_04_00.6.analog-stereo\r\n2022-09-29 09:22:50,917 audio playback  * Family 17h (Models 10h-1fh) HD Audio Controller\r\n2022-09-29 09:22:50,917 audio playback    alsa_card.pci-0000_04_00.6\r\n2022-09-29 09:22:50,917 audio playback  to select a specific one,\r\n2022-09-29 09:22:50,917 audio playback  use the environment variable 'XPRA_PULSE_SINK_DEVICE_NAME'\r\n2022-09-29 09:22:50,917 audio playback using default pulseaudio device\r\n2022-09-29 09:22:51,501 audio playback using 'flac' audio codec\r\n```\r\nWhere it promptly hangs - only killing gnome-shell, and restarting gdm3 can bring it back out of the sorry mess it's in.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `xpra start :100 --start=\"flatpak run org.mozilla.firefox\"`\r\n2. `xpra attach ssh://ibuclaw@172.3.4.5/100`\r\n3. Disconnect from server\r\n4. Repeat steps 2 and 3 until Xwayland/GNOME freezes over.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 22.04.1 LTS\r\n - Client OS: Ubuntu 22.04.1 LTS\r\n - Xpra Server Version xpra v4.3.4-r0\r\n - Xpra Client Version xpra v4.3.4-r0\r\n\r\n**Additional context**\r\nAttaching [journald.log](https://github.com/Xpra-org/xpra/files/9672370/journald.log.gz) which captures moment from xpra invocation, to restarting gdm3.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3630/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3629", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3629/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3629/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3629/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3629", "id": 1390401190, "node_id": "I_kwDOE8kGxM5S39am", "number": 3629, "title": "Deprecated usage of old channel layout", "user": {"login": "Avimitin", "id": 30021675, "node_id": "MDQ6VXNlcjMwMDIxNjc1", "avatar_url": "https://avatars.githubusercontent.com/u/30021675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Avimitin", "html_url": "https://github.com/Avimitin", "followers_url": "https://api.github.com/users/Avimitin/followers", "following_url": "https://api.github.com/users/Avimitin/following{/other_user}", "gists_url": "https://api.github.com/users/Avimitin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Avimitin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Avimitin/subscriptions", "organizations_url": "https://api.github.com/users/Avimitin/orgs", "repos_url": "https://api.github.com/users/Avimitin/repos", "events_url": "https://api.github.com/users/Avimitin/events{/privacy}", "received_events_url": "https://api.github.com/users/Avimitin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-29T07:37:57Z", "updated_at": "2022-09-29T07:56:23Z", "closed_at": "2022-09-29T07:56:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nXpra default let gcc treat all warning as errors. However ffmpeg has deprecated the `channels` field in `AvCodecContext`: https://github.com/FFmpeg/FFmpeg/commit/548aeb93834b8425c86d1ce60fddc1d41805724d. So when we compile xpra, the compile process will fail for this line https://github.com/Xpra-org/xpra/blob/master/xpra/codecs/enc_ffmpeg/encoder.pyx#L1529.\r\n\r\n**To Reproduce**\r\n\r\n`python setup.py build`\r\n\r\n**System Information (please complete the following information):**\r\n - Build host OS: Arch Linux 5.19.2\r\n- ffmpeg version: 5.1.2\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3629/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3628", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3628/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3628/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3628/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3628", "id": 1388257566, "node_id": "I_kwDOE8kGxM5SvyEe", "number": 3628, "title": "new windows beta goes deaf after opening task manager", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222920, "node_id": "MDU6TGFiZWwyNjgxMjIyOTIw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/shadow", "name": "shadow", "color": "850885", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2022-09-27T19:27:49Z", "updated_at": "2022-09-30T14:15:24Z", "closed_at": "2022-09-30T14:15:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Because my life is somehow incomplete without having an open bug here...\r\n\r\nThe new MSWindows 4.4-r31990 seems very good, much improved over the old 4.3 I had been using. It has one problem that I've noticed:\r\n\r\nOpening the task manager renders the shadow server deaf. Once deaf, it's gone. The only solution is to `taskkill /f /pid 1234` and start over. It's fine when restarted...right up until you open TM again, at which point it goes deaf. Once TM is open, there is no reaction to mouse or keyboard. You can see this from the standpoint that hovering the mouse over window titlebar controls like the red background X \"go away\" button ... doesn't even highlight. The machine doesn't know that the mouse is there, it has become unaware of it.\r\n\r\n1. Start Windows shadow server.\r\n2. `xpra attach ssh://espresso:14500` and login as usual.\r\n3. Play around all you like, everything is fine, until...\r\n4. Open TM. (Easiest invocation: Windows-X, T.)\r\n5. Now deaf, and stays that way. Discon/recon does not fix the problem. Shadow server must be killed/restarted.\r\n\r\nOnly TM has this deafness effect. I've seen nothing else do it.\r\n\r\nWindows 4.4-r31990 shadow server.\r\n4.4-10.r31983 on F35.\r\n\r\nRelated, because I have been restarting and restarting and restarting: Since I have Cygwin/X sshd access, I would dearly love to have an xpra shadow server invocation that would work from the Cygwin bash command line, or from cmd as invoked from Cygwin bash. As matters stand, I can invoke what I think is the proper command (`start xpra shadow --bind-tcp=0.0.0.0:14500,auth=sys,ssl-cert=auto`, taken from `xpra.iss`) which gives the impression of working, but when I connect to it, the connection closes on a complaint of invalid max size. That's an _exciting_ size misperception.\r\n```\r\n2022-09-27 15:12:40,494  keyboard settings: rules=evdev, model=pc105, layout=us\r\n2022-09-27 15:12:40,497  desktop size is 5760x1080:\r\n2022-09-27 15:12:40,497   :0.0 (1023x191 mm - DPI: 143x144) workarea: 5760x1029 at    0x26  \r\n2022-09-27 15:12:40,497     PRO DP-3         1920x1080 at    0x0    (344x193 mm - DPI: 142x142) workarea: 1920x1029 at    0x26\r\n2022-09-27 15:12:40,498     AUO DP-2         1920x1080 at 1920x0    (344x193 mm - DPI: 142x142) workarea: 1920x1080 at 1920x0\r\n2022-09-27 15:12:40,498     PRO DP-1         1920x1080 at 3840x0    (344x193 mm - DPI: 142x142) workarea: 1920x1080 at 3840x0\r\n2022-09-27 15:12:40,599 enabled remote logging\r\n2022-09-27 15:12:40,600 Xpra shadow server version 4.4\r\n2022-09-27 15:12:40,600  running on unknown\r\n2022-09-27 15:12:40,600  remote desktop size is 582009284x32762\r\n2022-09-27 15:12:40,614 SSH EOF on stderr of run-xpra\r\n2022-09-27 15:12:40,619 removing unix domain socket '/run/user/5271/xpra/clients/godiva.kleinpaste.org-338280'\r\ninvalid maximum desktop size: 582009284x32762\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3628/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3627", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3627/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3627/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3627/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3627", "id": 1384622228, "node_id": "I_kwDOE8kGxM5Sh6iU", "number": 3627, "title": "The xpra client can send a wrong username to the server causing a false log entry in ssh connections", "user": {"login": "allo-", "id": 1482341, "node_id": "MDQ6VXNlcjE0ODIzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1482341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allo-", "html_url": "https://github.com/allo-", "followers_url": "https://api.github.com/users/allo-/followers", "following_url": "https://api.github.com/users/allo-/following{/other_user}", "gists_url": "https://api.github.com/users/allo-/gists{/gist_id}", "starred_url": "https://api.github.com/users/allo-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allo-/subscriptions", "organizations_url": "https://api.github.com/users/allo-/orgs", "repos_url": "https://api.github.com/users/allo-/repos", "events_url": "https://api.github.com/users/allo-/events{/privacy}", "received_events_url": "https://api.github.com/users/allo-/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-24T10:23:30Z", "updated_at": "2022-09-24T10:26:05Z", "closed_at": "2022-09-24T10:26:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe xpra client is able to send a different username to the xpra server than using for login with SSH. The main issue is, that the xpra server will log the login to be from the wrong user.\r\n\r\n**To Reproduce**\r\nSuppose you're `bob`, having an account `bob@serverhostname` to access an xpra server and want the log to show that `alice` logged in.\r\n\r\nSteps to reproduce the behavior:\r\n1. Start the server on `serverhostname` with: `xpra start :10`\r\n2. Create a local user `alice` (Or find where the client determines the local hostname and patch the client)\r\n3. Attach to the server from local user `alice` with `xpra attach --ssh=/usr/bin/ssh ssh:serverhostname` (As local user `alice`)\r\n4. Have a `.ssh/config` with the content\r\n\r\n```\r\nHost serverhostname\r\nUser bob\r\n```\r\n\r\nAnd the credentials to connect to `bob@serverhostname`.\r\n\r\nNow the xpra client sees the connection string `ssh:serverhostname` and guesses the username and transmits `alice` to the server, while the `/usr/bin/ssh` binary reads the file `.ssh/config` and logs in as `bob` accordingly.\r\n\r\nThe log then contains \r\n\r\n```\r\nNew unix-domain connection received (...) as 'alice' even when the remote host does not have a user alice.\r\n```\r\n\r\nNote that the difference in local and remote usernames is how I found the bug. The real problem is, that the server trusts the client to transmit the username it claims to have used to login instead of reading the effective remote username from the ssh shell after login.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian stable\r\n - Client OS: Debian testing\r\n - Xpra Server Version v4.3.4-r0\r\n - Xpra Client Version v4.4-r31841\r\n\r\n**Additional context**\r\n- The user `alice` does not even have to exist on the server. The client seems to just send a username (which it seems to guess from using the local one if you use `ssh:serverhostname`) and the server logs it.\r\n- You can send the correct username by connecting to `ssh:bob@serverhostname`. The probably both overrides the username send by `/usr/bin/ssh` (with the same as in the config) and prevents xpra from guessing the remote username by using the local username.\r\n- Because the username in `ssh:alice@serverhostname` is used for ssh login, you cannot use this connection string to send the wrong username. You possibly could by using a `ssh` that ignores the `user@` part.\r\n\r\n**Impact**\r\nServer:\r\nProbably mostly a wrong log entry making it harder to audit unauthorized access.\r\n\r\nI do not know much about xpra's other authentication methods and if they can be used in addition to a ssh login, but probably sending a false username won't allow any further authentication without knowing the credentials for the user.\r\n\r\nClient:\r\nEven when trying to prevent the client from sending data about the local maschine (see #3582), the client can send surprisingly the local username when logging in with a different remote username. This way the server logs data about the client that it should not have.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3627/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3626", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3626/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3626/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3626/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3626", "id": 1384374941, "node_id": "I_kwDOE8kGxM5Sg-Kd", "number": 3626, "title": "xpra ssh remote has become broken in some/many cases", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2022-09-23T22:28:52Z", "updated_at": "2022-09-27T19:30:35Z", "closed_at": "2022-09-27T19:30:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I hadn't updated in a couple weeks, until yesterday. Update has given me 4.4-10.r31917 on F35. Also trying to use Windows xpra, whatever the current normal release is, 4.3 something.\r\n\r\nAttempting to start a remote xpra session, F35\u2192F35, whether single terminal or desktop, gives this:\r\n```\r\n$ xpra start ssh://major/73 --attach=no --start-child=vterm\r\n2022-09-23 17:56:38,829 Connected (version 2.0, client OpenSSH_8.7)\r\n2022-09-23 17:56:38,959 Authentication (publickey) successful!\r\n2022-09-23 17:56:39,627 SSH EOF on stderr of run-xpra\r\n2022-09-23 17:56:39,633 Connection failed\r\n```\r\nNo typical commentary about logs to be found under /run/user/1234/xpra/... and no session is started on the remote.\r\n`vterm` is a simple script to pick what kind of terminal to start remotely. Mostly, it invokes `mate-terminal`.\r\nFortunately, I can just `ssh` to the remote to execute the start locally. After that, I can attach the session remotely as `ssh://host/D`.\r\n\r\nAdding `-d ssh`:\r\n```\r\n$ xpra -d ssh start ssh://major/73 --attach=no --start-child=vterm\r\n2022-09-23 17:43:52,003 debug enabled for xpra.net.ssh / ('network', 'ssh')\r\n2022-09-23 17:43:52,058 debug enabled for xpra.scripts.parsing / ('ssh',)\r\n2022-09-23 17:43:52,058 using paramiko ssh backend\r\n2022-09-23 17:43:52,085 parsed user config '/home/karl/.ssh/config'\r\n2022-09-23 17:43:52,085 116 hosts found\r\n2022-09-23 17:43:52,091 got host config for 'major': {'port': '7887', 'user': 'karl', 'forwardagent': 'yes', 'forwardx11': 'yes', 'forwardx11trusted': 'yes', 'preferredauthentications': 'publickey,keyboard-interactive,password', 'gssapiauthentication': 'yes', 'pubkeyacceptedkeytypes': '+ssh-dss', 'hostname': 'major'}\r\n2022-09-23 17:43:52,091 authentication modes=['none', 'agent', 'key', 'password']\r\n2022-09-23 17:43:52,097 paramiko socket_connect: sockname=('10.0.0.202', 55602), peername=('10.0.0.203', 7887)\r\n2022-09-23 17:43:52,097 SSH transport <paramiko.Transport at 0x3c074430 (unconnected)>\r\n2022-09-23 17:43:52,097 starting thread (client mode): 0x3c074430\r\n2022-09-23 17:43:52,097 Local version/idstring: SSH-2.0-paramiko_2.11.0\r\n2022-09-23 17:43:52,110 Remote version/idstring: SSH-2.0-OpenSSH_8.7\r\n2022-09-23 17:43:52,110 Connected (version 2.0, client OpenSSH_8.7)\r\n2022-09-23 17:43:52,116 === Key exchange possibilities ===\r\n2022-09-23 17:43:52,116 kex algos: curve25519-sha256, curve25519-sha256@libssh.org, ecdh-sha2-nistp256, ecdh-sha2-nistp384, ecdh-sha2-nistp521, diffie-hellman-group-exchange-sha256, diffie-hellman-group14-sha256, diffie-hellman-group16-sha512, diffie-hellman-group18-sha512\r\n2022-09-23 17:43:52,116 server key: rsa-sha2-512, rsa-sha2-256, ecdsa-sha2-nistp256, ssh-ed25519\r\n2022-09-23 17:43:52,116 client encrypt: aes256-gcm@openssh.com, chacha20-poly1305@openssh.com, aes256-ctr, aes128-gcm@openssh.com, aes128-ctr\r\n2022-09-23 17:43:52,116 server encrypt: aes256-gcm@openssh.com, chacha20-poly1305@openssh.com, aes256-ctr, aes128-gcm@openssh.com, aes128-ctr\r\n2022-09-23 17:43:52,116 client mac: hmac-sha2-256-etm@openssh.com, hmac-sha1-etm@openssh.com, umac-128-etm@openssh.com, hmac-sha2-512-etm@openssh.com, hmac-sha2-256, hmac-sha1, umac-128@openssh.com, hmac-sha2-512\r\n2022-09-23 17:43:52,116 server mac: hmac-sha2-256-etm@openssh.com, hmac-sha1-etm@openssh.com, umac-128-etm@openssh.com, hmac-sha2-512-etm@openssh.com, hmac-sha2-256, hmac-sha1, umac-128@openssh.com, hmac-sha2-512\r\n2022-09-23 17:43:52,116 client compress: none, zlib@openssh.com\r\n2022-09-23 17:43:52,116 server compress: none, zlib@openssh.com\r\n2022-09-23 17:43:52,116 client lang: <none>\r\n2022-09-23 17:43:52,116 server lang: <none>\r\n2022-09-23 17:43:52,116 kex follows: False\r\n2022-09-23 17:43:52,116 === Key exchange agreements ===\r\n2022-09-23 17:43:52,116 Kex: curve25519-sha256@libssh.org\r\n2022-09-23 17:43:52,116 HostKey: ssh-ed25519\r\n2022-09-23 17:43:52,116 Cipher: aes128-ctr\r\n2022-09-23 17:43:52,116 MAC: hmac-sha2-256\r\n2022-09-23 17:43:52,116 Compression: none\r\n2022-09-23 17:43:52,116 === End of kex handshake ===\r\n2022-09-23 17:43:52,164 kex engine KexCurve25519 specified hash_algo <built-in function openssl_sha256>\r\n2022-09-23 17:43:52,164 Switch to new keys ...\r\n2022-09-23 17:43:52,164 do_ssh_paramiko_connect_to(<paramiko.Transport at 0x3c074430 (cipher aes128-ctr, 128 bits) (connected; awaiting auth)>, 'major', 'karl', None, {'port': '7887', 'user': 'karl', 'forwardagent': 'yes', 'forwardx11': 'yes', 'forwardx11trusted': 'yes', 'preferredauthentications': 'publickey,keyboard-interactive,password', 'gssapiauthentication': 'yes', 'pubkeyacceptedkeytypes': '+ssh-dss', 'hostname': 'major'}, ['/home/karl/.ssh/id_ed25519', '/home/karl/.ssh/id_ecdsa', '/home/karl/.ssh/id_rsa', '/home/karl/.ssh/id_dsa'], {'display_name': 'ssh://major/73', 'cmdline': ['/usr/bin/xpra', '-d', 'ssh', 'start', 'ssh://major/73', '--attach=no', '--start-child=vterm'], 'type': 'ssh', 'proxy_command': ['_proxy_seamless'], 'exit_ssh': True, 'display': ':73', 'display_as_args': [':73', '--debug=ssh', '--start-child=vterm'], 'is_paramiko': True, 'agent': False, 'host': 'major', 'local': False, 'full_ssh': ['paramiko'], 'remote_xpra': ['xpra', '$XDG_RUNTIME_DIR/xpra/run-xpra', '/usr/local/bin/xpra', '~/.xpra/run-xpra', 'Xpra_cmd.exe']})\r\n2022-09-23 17:43:52,164 Got EXT_INFO: {'server-sig-algs': b'ssh-ed25519,sk-ssh-ed25519@openssh.com,ssh-rsa,rsa-sha2-256,rsa-sha2-512,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256@openssh.com,webauthn-sk-ecdsa-sha2-nistp256@openssh.com'}\r\n2022-09-23 17:43:52,165 remote_server_key=MD5:29:85:47:61:d9:50:34:de:2e:4a:96:84:16:f2:86:9a\r\n2022-09-23 17:43:52,208 HostKeys.load(/home/karl/.ssh/known_hosts) successful\r\n2022-09-23 17:43:52,208 host keys=<paramiko.hostkeys.HostKeys object at 0x7f263c075ae0>\r\n2022-09-23 17:43:52,209 ed25519 host key 'MD5:29:85:47:61:d9:50:34:de:2e:4a:96:84:16:f2:86:9a' OK for host 'major'\r\n2022-09-23 17:43:52,209 starting authentication, authentication methods: ['none', 'agent', 'key', 'password']\r\n2022-09-23 17:43:52,209 auth=none\r\n2022-09-23 17:43:52,209 trying none authentication\r\n2022-09-23 17:43:52,224 userauth is OK\r\n2022-09-23 17:43:52,241 Authentication type (none) not permitted.\r\n2022-09-23 17:43:52,241 Allowed methods: ['publickey', 'gssapi-keyex', 'gssapi-with-mic', 'password']\r\n2022-09-23 17:43:52,242 auth_none()\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/net/ssh.py\", line 669, in auth_none\r\n    transport.auth_none(username)\r\n  File \"/usr/lib/python3.10/site-packages/paramiko/transport.py\", line 1501, in auth_none\r\n    return self.auth_handler.wait_for_response(my_event)\r\n  File \"/usr/lib/python3.10/site-packages/paramiko/auth_handler.py\", line 259, in wait_for_response\r\n    raise e\r\nparamiko.ssh_exception.BadAuthenticationType: Bad authentication type; allowed types: ['publickey', 'gssapi-keyex', 'gssapi-with-mic', 'password']\r\n2022-09-23 17:43:52,242 auth=agent\r\n2022-09-23 17:43:52,243 agent keys: (<paramiko.agent.AgentKey object at 0x7f263c11a350>, <paramiko.agent.AgentKey object at 0x7f263c11a500>, <paramiko.agent.AgentKey object at 0x7f263c11a4a0>, <paramiko.agent.AgentKey object at 0x7f263c11a560>, <paramiko.agent.AgentKey object at 0x7f263c11a5c0>, <paramiko.agent.AgentKey object at 0x7f263c11a620>)\r\n2022-09-23 17:43:52,243 trying ssh-agent key 'MD5:87:b4:ad:51:e8:75:69:76:fe:4f:7e:25:4e:03:70:02'\r\n2022-09-23 17:43:52,246 userauth is OK\r\n2022-09-23 17:43:52,246 Finalizing pubkey algorithm for key of type 'ssh-rsa'\r\n2022-09-23 17:43:52,246 Our pubkey algorithm list: ['rsa-sha2-512', 'rsa-sha2-256', 'ssh-rsa']\r\n2022-09-23 17:43:52,246 Server-side algorithm list: ['ssh-ed25519', 'sk-ssh-ed25519@openssh.com', 'ssh-rsa', 'rsa-sha2-256', 'rsa-sha2-512', 'ssh-dss', 'ecdsa-sha2-nistp256', 'ecdsa-sha2-nistp384', 'ecdsa-sha2-nistp521', 'sk-ecdsa-sha2-nistp256@openssh.com', 'webauthn-sk-ecdsa-sha2-nistp256@openssh.com']\r\n2022-09-23 17:43:52,246 Agreed upon 'rsa-sha2-512' pubkey algorithm\r\n2022-09-23 17:43:52,258 Authentication (publickey) successful!\r\n2022-09-23 17:43:52,259 authenticated using agent and key 'MD5:87:b4:ad:51:e8:75:69:76:fe:4f:7e:25:4e:03:70:02'\r\n2022-09-23 17:43:52,259 will try to run xpra from: ['xpra', '$XDG_RUNTIME_DIR/xpra/run-xpra', '/usr/local/bin/xpra', '~/.xpra/run-xpra', 'Xpra_cmd.exe']\r\n2022-09-23 17:43:52,259 paramiko_run_test_command(transport, command)\r\n2022-09-23 17:43:52,259 [chan 0] Max packet in: 4096 bytes\r\n2022-09-23 17:43:52,266 Received global request \"hostkeys-00@openssh.com\"\r\n2022-09-23 17:43:52,266 Rejecting \"hostkeys-00@openssh.com\" global request from server.\r\n2022-09-23 17:43:52,266 Debug msg: b'/home/karl/.ssh/authorized_keys:4: key options: agent-forwarding port-forwarding pty user-rc x11-forwarding'\r\n2022-09-23 17:43:52,311 [chan 0] Max packet out: 32768 bytes\r\n2022-09-23 17:43:52,311 Secsh channel 0 opened.\r\n2022-09-23 17:43:52,316 [chan find command] Sesch channel 0 request ok\r\n2022-09-23 17:43:52,316 exec_command returned\r\n2022-09-23 17:43:52,316 exit status is not ready yet, sleeping\r\n2022-09-23 17:43:52,321 [chan find command] EOF received (find command)\r\n2022-09-23 17:43:52,322 [chan find command] EOF sent (find command)\r\n2022-09-23 17:43:52,326 exec_command('command')=0\r\n2022-09-23 17:43:52,326 exec_command out=[]\r\n2022-09-23 17:43:52,326 exec_command err=[]\r\n2022-09-23 17:43:52,326 paramiko_run_test_command(transport, command -v xpra)\r\n2022-09-23 17:43:52,326 [chan 1] Max packet in: 4096 bytes\r\n2022-09-23 17:43:52,369 [chan 1] Max packet out: 32768 bytes\r\n2022-09-23 17:43:52,369 Secsh channel 1 opened.\r\n2022-09-23 17:43:52,375 [chan find command -v xpra] Sesch channel 1 request ok\r\n2022-09-23 17:43:52,375 exec_command returned\r\n2022-09-23 17:43:52,375 exit status is not ready yet, sleeping\r\n2022-09-23 17:43:52,385 exit status is not ready yet, sleeping\r\n2022-09-23 17:43:52,386 [chan find command -v xpra] EOF received (find command -v xpra)\r\n2022-09-23 17:43:52,386 [chan find command -v xpra] EOF sent (find command -v xpra)\r\n2022-09-23 17:43:52,396 exec_command('command -v xpra')=0\r\n2022-09-23 17:43:52,396 exec_command out=['/usr/bin/xpra\\n']\r\n2022-09-23 17:43:52,396 exec_command err=[]\r\n2022-09-23 17:43:52,396 adding xpra_cmd='/usr/bin/xpra'\r\n2022-09-23 17:43:52,396 cmd(['_proxy_seamless'], [':73', '--debug=ssh', '--start-child=vterm'])=\"/usr/bin/xpra\" \"_proxy_seamless\" \":73\" \"--debug=ssh\" \"--start-child=vterm\"\r\n2022-09-23 17:43:52,396 trying to open SSH session, window-size=134217727, timeout=60\r\n2022-09-23 17:43:52,396 [chan 2] Max packet in: 4096 bytes\r\n2022-09-23 17:43:52,438 [chan 2] Max packet out: 32768 bytes\r\n2022-09-23 17:43:52,438 Secsh channel 2 opened.\r\n2022-09-23 17:43:52,438 paramiko agent_option=False\r\n2022-09-23 17:43:52,438 channel exec_command(\"/usr/bin/xpra\" \"_proxy_seamless\" \":73\" \"--debug=ssh\" \"--start-child=vterm\"\r\n2022-09-23 17:43:52,443 [chan run-xpra] Sesch channel 2 request ok\r\n2022-09-23 17:43:52,535 [chan run-xpra] EOF received (run-xpra)\r\n2022-09-23 17:43:52,535 SSH EOF on stderr of run-xpra\r\n2022-09-23 17:43:52,540 [chan run-xpra] EOF sent (run-xpra)\r\n2022-09-23 17:43:52,541 Connection failed\r\n```\r\nThere are similar problems when trying merely to attach the Windows shadow server. After starting the shadow server on a nearby Win10 box, attempting to connect from F35 gives this failure:\r\n```\r\n$ xpra attach ssh://francine@espresso:14500\r\n2022-09-23 18:07:16,578 Xpra GTK3 X11 client version 4.4-r31917 (g27951736b) beta 64-bit\r\n2022-09-23 18:07:16,599  running on Linux Fedora 35 ThirtyFive\r\n2022-09-23 18:07:16,600  window manager is 'compiz'\r\n2022-09-23 18:07:17,291 Error: failed to query sound subsystem:\r\n2022-09-23 18:07:17,291  query did not return any data\r\n2022-09-23 18:07:17,401 created unix domain socket '/run/user/5271/xpra/clients/godiva.kleinpaste.org-341506'\r\n2022-09-23 18:07:17,419 Error importing nvjpeg decoder (dec_nvjpeg)\r\n2022-09-23 18:07:17,419  libnvjpeg.so.11: cannot open shared object file: No such file or directory\r\n2022-09-23 18:07:17,446 OpenGL_accelerate module loaded\r\n2022-09-23 18:07:17,451 Using accelerated ArrayDatatype\r\n2022-09-23 18:07:17,620 OpenGL enabled with NVIDIA GeForce RTX 2070 with Max-Q Design/PCIe/SSE2\r\n2022-09-23 18:07:17,750 Connected (version 2.0, client paramiko_2.11.0)\r\n2022-09-23 18:07:17,827 Authentication (none) successful!\r\nWarning: failed to connect:\r\n connection failed: Channel closed.\r\n2022-09-23 18:07:17,849 removing unix domain socket '/run/user/5271/xpra/clients/godiva.kleinpaste.org-341506'\r\n```\r\nJust a blind closure, failed, no explanation.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3626/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3622", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3622/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3622/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3622/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3622", "id": 1376943466, "node_id": "I_kwDOE8kGxM5SEn1q", "number": 3622, "title": "Password prompt is not shown with Windows client", "user": {"login": "balamurugan15", "id": 3417395, "node_id": "MDQ6VXNlcjM0MTczOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3417395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balamurugan15", "html_url": "https://github.com/balamurugan15", "followers_url": "https://api.github.com/users/balamurugan15/followers", "following_url": "https://api.github.com/users/balamurugan15/following{/other_user}", "gists_url": "https://api.github.com/users/balamurugan15/gists{/gist_id}", "starred_url": "https://api.github.com/users/balamurugan15/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balamurugan15/subscriptions", "organizations_url": "https://api.github.com/users/balamurugan15/orgs", "repos_url": "https://api.github.com/users/balamurugan15/repos", "events_url": "https://api.github.com/users/balamurugan15/events{/privacy}", "received_events_url": "https://api.github.com/users/balamurugan15/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-18T04:38:57Z", "updated_at": "2022-09-19T10:34:08Z", "closed_at": "2022-09-18T08:04:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "The prompt to enter password is not shown with the windows client. See example below:\r\n\r\n    PS C:\\Program Files\\Xpra> .\\Xpra_cmd.exe attach ssh://user@172.19.136.188/100 --challenge-handlers=prompt --opengl=no --splash=no -d ssh,auth --ssh=ssh\r\n    2022-09-18 00:26:47,996 debug enabled for xpra.client.client_base / ('auth',)\r\n    2022-09-18 00:26:48,018 Xpra GTK3 client version 4.3.4-r0 64-bit\r\n    2022-09-18 00:26:48,031  running on Microsoft Windows 10\r\n    2022-09-18 00:26:48,032 init_challenge_handlers(['prompt'])\r\n    2022-09-18 00:26:48,032 auth module name for 'prompt': 'xpra.client.auth.prompt_handler'\r\n    2022-09-18 00:26:48,416 GStreamer version 1.20.2 for Python 3.10.5 64-bit\r\n    2022-09-18 00:26:48,423 debug enabled for xpra.scripts.pinentry_wrapper / ('exec', 'auth')\r\n    2022-09-18 00:26:48,424 debug enabled for xpra.net.ssh / ('network', 'ssh')\r\n    2022-09-18 00:26:48,519 created named pipe 'Xpra\\31632'\r\n    2022-09-18 00:26:48,567 keyboard layout code 0x4009\r\n    2022-09-18 00:26:48,568 identified as 'India' : in\r\n    2022-09-18 00:26:48,632 executing ssh command: \"ssh\" \"-l\" \"user\" \"-T\" \"172.19.136.188\" \"sh -c 'if command -v \"xpra\" > /dev/null 2>&1; then xpra _proxy \":100\";elif [ -x $XDG_RUNTIME_DIR/xpra/run-xpra ]; then $XDG_RUNTIME_DIR/xpra/run-xpra _proxy \":100\";elif [ -x /usr/local/bin/xpra ]; then /usr/local/bin/xpra _proxy \":100\";elif [ -x ~/.xpra/run-xpra ]; then ~/.xpra/run-xpra _proxy \":100\";elif [ -x Xpra_cmd.exe ]; then Xpra_cmd.exe _proxy \":100\";else echo \"no run-xpra command found\"; exit 1; fi'\"\r\n    2022-09-18 00:26:48,642  keyboard settings: layout=in\r\n    2022-09-18 00:26:48,644  desktop size is 1920x1080:\r\n    2022-09-18 00:26:48,644   Default (406x228 mm - DPI: 120x120)\r\n    2022-09-18 00:26:48,645     Generic PnP Monitor (293x165 mm - DPI: 166x166)\r\n    2022-09-18 00:26:48,744 SSH EOF on stderr of ['ssh', '-l', 'user', '-T', '172.19.136.188', 'sh -c \\'if command -v \"xpra\" > /dev/null 2>&1; then xpra _proxy \":100\";elif [ -x $XDG_RUNTIME_DIR/xpra/run-xpra ]; then $XDG_RUNTIME_DIR/xpra/run-xpra _proxy \":100\";elif [ -x /usr/local/bin/xpra ]; then /usr/local/bin/xpra _proxy \":100\";elif [ -x ~/.xpra/run-xpra ]; then ~/.xpra/run-xpra _proxy \":100\";elif [ -x Xpra_cmd.exe ]; then Xpra_cmd.exe _proxy \":100\";else echo \"no run-xpra command found\"; exit 1; fi\\'']\r\n    2022-09-18 00:26:48,744 Error: failed to receive anything, not an xpra server?\r\n    2022-09-18 00:26:48,745 remote SSH stderr:\r\n    2022-09-18 00:26:48,745   could also be the wrong protocol, username, password or port\r\n    2022-09-18 00:26:48,745  Host key verification failed.\r\n    2022-09-18 00:26:48,746   or the session was not found\r\n    2022-09-18 00:26:48,746 Connection failed\r\n\r\n\r\n\r\n - Server OS:  RHEL 7.9\r\n - Client OS: Windows 11\r\n - Xpra Server Version 4.3.2-runknown\r\n - Xpra Client Version 4.3.4r0\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3622/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3621", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3621/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3621/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3621/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3621", "id": 1375858605, "node_id": "I_kwDOE8kGxM5SAe-t", "number": 3621, "title": "Display errors in Windows Forms applications with wine", "user": {"login": "Emslaender73", "id": 113688060, "node_id": "U_kgDOBsa9_A", "avatar_url": "https://avatars.githubusercontent.com/u/113688060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Emslaender73", "html_url": "https://github.com/Emslaender73", "followers_url": "https://api.github.com/users/Emslaender73/followers", "following_url": "https://api.github.com/users/Emslaender73/following{/other_user}", "gists_url": "https://api.github.com/users/Emslaender73/gists{/gist_id}", "starred_url": "https://api.github.com/users/Emslaender73/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Emslaender73/subscriptions", "organizations_url": "https://api.github.com/users/Emslaender73/orgs", "repos_url": "https://api.github.com/users/Emslaender73/repos", "events_url": "https://api.github.com/users/Emslaender73/events{/privacy}", "received_events_url": "https://api.github.com/users/Emslaender73/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2022-09-16T12:08:27Z", "updated_at": "2022-09-21T11:31:31Z", "closed_at": "2022-09-21T11:31:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use xpra to display a Windows Forms application via wine in the (chrome or firefox) browser. It actually works very well, but if the form height is changed directly after creating a modal dialogue, there are display problems. A part of the form is not displayed or sometimes even unintentionally transparent. If the form is then moved, often nothing is visible at all.\r\n\r\nIf I start the application directly in wine, everything is displayed as desired.\r\n\r\nIn the attached test application you should be able to reproduce the problem together with wine.\r\n\r\n**To Reproduce**\r\n1. Install wine\r\n2. run wine with attached application \r\n3. open it with xpra\r\n4. click on \"MDI-Child \u00f6ffnen\"\r\n5. click on Button \"Modales Formular \u00f6ffnen\"\r\n\r\n**System Information**\r\n - Server OS: Ubuntu 20.04\r\n - Client OS: Ubuntu 20.04\r\n - Xpra Server Version 4.3.4\r\n - Xpra Client Version 4.3.4\r\n - Wine Version HQ 7.0 stable\r\n \r\n\r\n[GUITestD11_2.zip](https://github.com/Xpra-org/xpra/files/9583783/GUITestD11_2.zip)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3621/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3619", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3619/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3619/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3619/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3619", "id": 1373138865, "node_id": "I_kwDOE8kGxM5R2G-x", "number": 3619, "title": "Connection lost seamless mode by using LibreOffice", "user": {"login": "louis-mulder", "id": 934194, "node_id": "MDQ6VXNlcjkzNDE5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/934194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/louis-mulder", "html_url": "https://github.com/louis-mulder", "followers_url": "https://api.github.com/users/louis-mulder/followers", "following_url": "https://api.github.com/users/louis-mulder/following{/other_user}", "gists_url": "https://api.github.com/users/louis-mulder/gists{/gist_id}", "starred_url": "https://api.github.com/users/louis-mulder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/louis-mulder/subscriptions", "organizations_url": "https://api.github.com/users/louis-mulder/orgs", "repos_url": "https://api.github.com/users/louis-mulder/repos", "events_url": "https://api.github.com/users/louis-mulder/events{/privacy}", "received_events_url": "https://api.github.com/users/louis-mulder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681286082, "node_id": "MDU6TGFiZWwyNjgxMjg2MDgy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/proxy", "name": "proxy", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-09-14T14:55:13Z", "updated_at": "2022-09-27T15:55:28Z", "closed_at": "2022-09-27T15:55:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nActivating LibreOffice with for example `soffice --calc` crashes the connection. `/run/xpra/0/server.log` shows some Python errors. When running in a full desktop (XFCE4)  LibreOffice works as expected.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Run a seamless  session\r\n2. In a terminal window `soffice --calc`\r\n3. When connection lost the following appears  in server.log\r\n\r\n```\r\n2022-09-14 16:36:35,986 Error: error in network packet reading/parsing\r\n2022-09-14 16:36:35,986  a bytes-like object is required, not 'str'\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/net/protocol.py\", line 825, in _read_parse_thread_loop\r\n    self.do_read_parse_thread_loop()\r\n  File \"/usr/lib/python3/dist-packages/xpra/net/protocol.py\", line 1059, in do_read_parse_thread_loop\r\n    self._process_packet_cb(self, packet)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/proxy/proxy_instance.py\", line 505, in process_server_packet\r\n    self._packet_recompress(packet, 5, \"icon\")\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/proxy/proxy_instance.py\", line 375, in _packet_recompress\r\n    packet[index] = compressed_wrapper(name, data, can_inline=False, **kw)\r\n  File \"/usr/lib/python3/dist-packages/xpra/net/compression.py\", line 205, in compressed_wrapper\r\n    cl, cdata = c.compress(data, level)\r\n  File \"/usr/lib/python3/dist-packages/xpra/net/compression.py\", line 47, in lz4_compress\r\n    return flag, block_compress(packet)\r\nTypeError: a bytes-like object is required, not 'str'\r\n2022-09-14 16:36:35,991 stopping threaded proxy instance\r\n2022-09-14 16:36:35,991  server connection lost\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 20.04\r\n - Client OS: Linux Mint 20\r\n - Xpra Server Version:  4.3.4 \r\n - Xpra Client Version: 4.3.4-r0 64-bit\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3619/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3617", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3617/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3617/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3617/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3617", "id": 1369137682, "node_id": "I_kwDOE8kGxM5Rm2IS", "number": 3617, "title": "Installing shadow server startup as Window service -- how? where to learn how?", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-12T01:15:53Z", "updated_at": "2022-09-12T08:29:49Z", "closed_at": "2022-09-12T08:29:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I couldn't decide whether to class this as a bug or not.\r\n\r\nI need `xpra shadow` to run as a service as the machine boots. Alternatively, I'd be happy if I could access the machine via cygwin sshd, already running as a service, and start `xpra shadow` that way. In essence, any means of auto- or remote-starting the shadow server without being physically in front of the machine, so that I can get control of the console after reboot.\r\n\r\nI web-searched for such things, and I seem to have gotten close in finding #1527, but as God is my witness, I cannot tell what the final result of all that is. The bug here, if one can call it that, is that there is no documentation which says, \"...and _**this**_ is how you set up the shadow server as a Windows service: step 1, step 2, step 3.\" I see a lot of references to `sc` (that's a new one on me, thanx) but ultimately the several things I've tried have all gone nowhere.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Try to find documentation on setting up shadow server Windows service.\r\n\r\n**System Information (please complete the following information):**\r\n - Latest all around: 4.4._yesterday_ on Fedora, and on WIndows, the current [main web page reference] installer .exe, 4.3.whatever.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3617/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3613", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3613/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3613/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3613/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3613", "id": 1364302866, "node_id": "I_kwDOE8kGxM5RUZwS", "number": 3613, "title": "Custom shortcut keys delayed on server", "user": {"login": "angus73", "id": 748041, "node_id": "MDQ6VXNlcjc0ODA0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/748041?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angus73", "html_url": "https://github.com/angus73", "followers_url": "https://api.github.com/users/angus73/followers", "following_url": "https://api.github.com/users/angus73/following{/other_user}", "gists_url": "https://api.github.com/users/angus73/gists{/gist_id}", "starred_url": "https://api.github.com/users/angus73/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angus73/subscriptions", "organizations_url": "https://api.github.com/users/angus73/orgs", "repos_url": "https://api.github.com/users/angus73/repos", "events_url": "https://api.github.com/users/angus73/events{/privacy}", "received_events_url": "https://api.github.com/users/angus73/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-09-07T08:37:52Z", "updated_at": "2022-10-05T10:17:12Z", "closed_at": "2022-09-22T15:03:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a minor but annoying problem, on a xpra server: when xpra is active on the server, all my custom keyboard shortcuts (customized in the Gnome Settings panel) don't trigger immediately but after 25 seconds. Stopping xpra by using the command \"xpra stop\" does not solve the problem by itself; the only way I found to solve it is by running \"xpra stop\" + restarting the whole Gnome session. I wonder if there is at least a workaround to have the shortcuts running correctly without restarting Gnome.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\n2. `ps aux |grep xpra` (with no clients connected) returns:\r\n```\r\nangus    209333  0.0  1.6 1705692 539760 ?      Sl   set06   0:35 /usr/bin/python3 -s /usr/bin/xpra start :666 --splash=no --env=XPRA_FORCE_XSETINPUTFOCUS=1 --env=XPRA_PROXY_START_UUID=92a9d9bb743044f8a1b75e9b0e4376cd --daemon=yes --systemd-run=no\r\nangus    209390  0.0  0.6 565076 222324 ?       Ssl  set06   0:07 /usr/libexec/Xorg-for-Xpra-:666 -noreset -novtswitch -nolisten tcp +extension GLX +extension RANDR +extension RENDER -auth /home/angus/.Xauthority -logfile /run/user/1000/xpra/666/Xorg.:666.log -configdir /run/user/1000/xpra/xorg.conf.d/209333 -config /usr/local/etc/xpra/xorg.conf -depth 24 :666\r\n```\r\n3. client command\r\nThe problem is present with no connected clients; is it needed to report here the previous client commands issued since the server had been started?\r\n\r\n4. specific action to trigger the bug\r\nPress a customized shortcut key on the keyboard (e.g. ctrl+alt+T, which I customized in order to open a terminal window)\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Fedora 36\r\n - Client OS: Ubuntu 18.04\r\n - Xpra Server Version: xpra-4.3.4-1.fc36.x86_64\r\n - Xpra Client Version: xpra/bionic,bionic 4.0.6-r28351-1 i386", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3613/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3611", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3611/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3611/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3611/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3611", "id": 1361538382, "node_id": "I_kwDOE8kGxM5RJ21O", "number": 3611, "title": "TypeError: object of type xpra+x11+models+or_window+OverrideRedirectWindowModel' does not have property client-geometry'", "user": {"login": "TijZwa", "id": 19667394, "node_id": "MDQ6VXNlcjE5NjY3Mzk0", "avatar_url": "https://avatars.githubusercontent.com/u/19667394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TijZwa", "html_url": "https://github.com/TijZwa", "followers_url": "https://api.github.com/users/TijZwa/followers", "following_url": "https://api.github.com/users/TijZwa/following{/other_user}", "gists_url": "https://api.github.com/users/TijZwa/gists{/gist_id}", "starred_url": "https://api.github.com/users/TijZwa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TijZwa/subscriptions", "organizations_url": "https://api.github.com/users/TijZwa/orgs", "repos_url": "https://api.github.com/users/TijZwa/repos", "events_url": "https://api.github.com/users/TijZwa/events{/privacy}", "received_events_url": "https://api.github.com/users/TijZwa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-05T07:46:33Z", "updated_at": "2022-09-05T08:15:30Z", "closed_at": "2022-09-05T08:15:30Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nIf you connect a client with a different resolution then the server, while a window with the Override Redirect flag is still open, the connection fails.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Connect Xpra\r\n2. Open an OR windows; ie lxpanel menu or right-click context menu\r\n3. Disconnect\r\n4. Connect with another screen size\r\n\r\nServer log:\r\n\r\n```\r\n2022-08-31 08:47:51,377 Error: processing new connection from WebSocket(ws socket: 10.0.0.3:9999 <- 10.0.0.2:43352):\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/server/server_base.py\", line 438, in _process_hello_ui\r\n    self.parse_hello(ss, c, send_ui)\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/server/server_base.py\", line 459, in parse_hello\r\n    bc.parse_hello(self, ss, c, send_ui)\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/server/mixins/display_manager.py\", line 57, in parse_hello\r\n    self.parse_screen_info(ss)\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/server/mixins/display_manager.py\", line 189, in parse_screen_info\r\n    return self.do_parse_screen_info(ss, ss.desktop_size)\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/server/mixins/display_manager.py\", line 202, in do_parse_screen_info\r\n    sw, sh = self.configure_best_screen_size()\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/x11/x11_server_base.py\", line 125, in configure_best_screen_size\r\n    root_w, root_h = super().configure_best_screen_size()\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/x11/x11_server_core.py\", line 585, in configure_best_screen_size\r\n    return self.set_screen_size(w, h, bigger)\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/x11/server.py\", line 314, in set_screen_size\r\n    cg = window.get_property(\"client-geometry\")\r\nTypeError: object of type xpra+x11+models+or_window+OverrideRedirectWindowModel' does not have property client-geometry'\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3611/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3611/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3610", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3610/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3610/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3610/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3610", "id": 1360932354, "node_id": "I_kwDOE8kGxM5RHi4C", "number": 3610, "title": "Xpra attach fails with \"all SSH remote proxy commands have failed\" for non-POSIX remote shell", "user": {"login": "eblanton", "id": 1410283, "node_id": "MDQ6VXNlcjE0MTAyODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1410283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eblanton", "html_url": "https://github.com/eblanton", "followers_url": "https://api.github.com/users/eblanton/followers", "following_url": "https://api.github.com/users/eblanton/following{/other_user}", "gists_url": "https://api.github.com/users/eblanton/gists{/gist_id}", "starred_url": "https://api.github.com/users/eblanton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eblanton/subscriptions", "organizations_url": "https://api.github.com/users/eblanton/orgs", "repos_url": "https://api.github.com/users/eblanton/repos", "events_url": "https://api.github.com/users/eblanton/events{/privacy}", "received_events_url": "https://api.github.com/users/eblanton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2022-09-03T18:22:26Z", "updated_at": "2023-01-27T14:48:49Z", "closed_at": "2022-09-09T06:01:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nXpra fails to attach to a remote server under some circumstances if the user's shell on the remote server is not a POSIX shell.  (Sometimes it seems to work, but for users for whom it does not work, it reliably does not work.)\r\n\r\nThe reported error is \"all SSH remote proxy commands have failed - is xpra installed on the remote host?\"\r\n\r\nChanging the user shell to `/bin/bash` with `chsh` fixes the problem, so far reliably.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Set a remote server's login shell to /bin/tcsh\r\n2. Start the remote server with (use an appropriate session) `xpra start-desktop --start=xfce4-session :100`\r\n3. Attach to the server using the Xpra GUI interface, via ssh.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 20.04.5 LTS\r\n - Client OS: macOS (Apple Silicon); may affect other platforms, but that's our user base\r\n - Xpra Server Version 4.3.4-r0\r\n - Xpra Client Version 4.3.4-r0 _and_ 4.4-r31681 beta .pkg from xpra.org\r\n\r\n**Additional context**\r\nWe have about seventy or so users attaching Xpra to remote servers, _mostly_ using Apple Silicon clients.  User shells are a mix of bash and tcsh.  Only _some_ tcsh users experience this problem, and I do not know what sets them apart (the accounts are all new, should be nearly identical creations from an identical `/etc/skel`); possibly something on the client side, but we cannot identify it.  I have been unable to reproduce the problem on my own account, even when switching to tcsh.  The specific magic sauce is elusive, but non-POSIX remote shell appears to be the ultimate culprit.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3610/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3610/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3609", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3609/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3609/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3609/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3609", "id": 1355468417, "node_id": "I_kwDOE8kGxM5Qys6B", "number": 3609, "title": "Ubuntu Kinetic builds break", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-30T09:35:09Z", "updated_at": "2022-09-03T16:07:11Z", "closed_at": "2022-09-03T16:07:10Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "They've changed `debuild`:\r\n```\r\ndpkg-buildpackage: error: unknown option or argument --no-lintian\r\n```\r\nThen later:\r\n```\r\n/usr/bin/ld: cannot find -lnvidia-fbc: No such file or directory\r\n```\r\nDespite:\r\n```shell\r\n$ ls -la opt/Capture_Linux/NvFBC/libnvidia-fbc.so*\r\nlrwxrwxrwx. 1 buildbot buildbot     18 Jun  2  2021 opt/Capture_Linux/NvFBC/libnvidia-fbc.so -> libnvidia-fbc.so.1\r\nlrwxrwxrwx. 1 buildbot buildbot     23 Jun  2  2021 opt/Capture_Linux/NvFBC/libnvidia-fbc.so.1 -> libnvidia-fbc.so.465.31\r\n-rwxr-xr-x. 1 buildbot buildbot 129760 Jun  2  2021 opt/Capture_Linux/NvFBC/libnvidia-fbc.so.465.31\r\n```\r\nAnd https://github.com/Xpra-org/repo-build-scripts/blob/9fdc27b6e4738228cab3aca18709a1485c12fd94/pkgconfig/nvfbc.pc#L1-L8\r\n```\r\nprefix=/opt/Capture_Linux/NvFBC\r\n(..)\r\nLibs: -L${prefix} -lnvidia-fbc\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3609/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3609/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3607", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3607/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3607/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3607/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3607", "id": 1346963501, "node_id": "I_kwDOE8kGxM5QSQgt", "number": 3607, "title": "Clipboard no longer works", "user": {"login": "sbradnick", "id": 84082961, "node_id": "MDQ6VXNlcjg0MDgyOTYx", "avatar_url": "https://avatars.githubusercontent.com/u/84082961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbradnick", "html_url": "https://github.com/sbradnick", "followers_url": "https://api.github.com/users/sbradnick/followers", "following_url": "https://api.github.com/users/sbradnick/following{/other_user}", "gists_url": "https://api.github.com/users/sbradnick/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbradnick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbradnick/subscriptions", "organizations_url": "https://api.github.com/users/sbradnick/orgs", "repos_url": "https://api.github.com/users/sbradnick/repos", "events_url": "https://api.github.com/users/sbradnick/events{/privacy}", "received_events_url": "https://api.github.com/users/sbradnick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222253, "node_id": "MDU6TGFiZWwyNjgxMjIyMjUz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/clipboard", "name": "clipboard", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-22T20:45:09Z", "updated_at": "2022-08-23T04:11:54Z", "closed_at": "2022-08-23T04:11:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nClipboard \"Both directions\" no longer working with dcb5278 (or c8f68c6)\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `xpra start --start=xterm --bind-tcp=<some ip>:10000`\r\n2. `xpra attach tcp://<some ip>:10000`\r\n3. Using the menu, \"Clipboard\" is greyed out and copy/paste doesn't function\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: openSUSE Tumbleweed\r\n- Client OS: openSUSE Tumbleweed\r\n- Xpra Server Version: git dcb5278\r\n- Xpra Client Version: git dcb5278\r\n\r\n**Additional context**\r\n- I have success with cc03f57 & c52d8ac; haven't tried past that since going to dcb5278\r\n  - df36fcc certainly seems to be where it breaks\r\n- I assume it's still set to work out-of-the-box, but if there's some flag I'm missing or you think a `-d clipboard` would be useful, I'm happy to provide it.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3607/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3604", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3604/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3604/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3604/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3604", "id": 1345474028, "node_id": "I_kwDOE8kGxM5QMk3s", "number": 3604, "title": "comtypes error when we try to silence its logging", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-21T12:28:04Z", "updated_at": "2022-09-01T15:00:37Z", "closed_at": "2022-09-01T15:00:37Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Discovered as part of https://github.com/Xpra-org/xpra/issues/508#issuecomment-1221376624\r\nRunning with:\r\n```shell\r\ncat > test.txt << EOF\r\n10:hello\r\n50:progress...\r\n90:finished\r\nEOF\r\nXPRA_READ_SLEEP=10 XPRA_SILENCE_COMTYPES=1 xpra splash < test.txt\r\n```\r\nThe comtypes tlb loading fails with:\r\n```\r\ngetTaskbar()\r\nTraceback (most recent call last):\r\n  File \"E:/xpra/dist/lib/xpra/platform/win32/gui.py\", line 962, in getTaskbar\r\n    cc.GetModule(tlb_file)\r\n  File \"C:/msys64/mingw64/lib/python3.10/site-packages/comtypes/client/_generate.py\", line 142, in GetModule\r\n    mod = _create_wrapper_module(tlib, pathname)\r\n  File \"C:/msys64/mingw64/lib/python3.10/site-packages/comtypes/client/_generate.py\", line 241, in _create_wrapper_module\r\n    mod.__file__ = os.path.join(os.path.abspath(comtypes.gen.__path__[0]),\r\nIndexError: list index out of range\r\nError: failed to load taskbar library from E:\\xpra\\dist\\TaskbarLib.tlb\r\n list index out of range\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3604/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3604/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3603", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3603/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3603/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3603/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3603", "id": 1343299653, "node_id": "I_kwDOE8kGxM5QESBF", "number": 3603, "title": "xpra stops responding to input when connected for several days", "user": {"login": "imc0", "id": 15836134, "node_id": "MDQ6VXNlcjE1ODM2MTM0", "avatar_url": "https://avatars.githubusercontent.com/u/15836134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imc0", "html_url": "https://github.com/imc0", "followers_url": "https://api.github.com/users/imc0/followers", "following_url": "https://api.github.com/users/imc0/following{/other_user}", "gists_url": "https://api.github.com/users/imc0/gists{/gist_id}", "starred_url": "https://api.github.com/users/imc0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imc0/subscriptions", "organizations_url": "https://api.github.com/users/imc0/orgs", "repos_url": "https://api.github.com/users/imc0/repos", "events_url": "https://api.github.com/users/imc0/events{/privacy}", "received_events_url": "https://api.github.com/users/imc0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681259131, "node_id": "MDU6TGFiZWwyNjgxMjU5MTMx", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/upstream", "name": "upstream", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2022-08-18T15:49:52Z", "updated_at": "2022-09-01T09:38:59Z", "closed_at": "2022-09-01T09:38:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have xpra sessions that are basically permanently connected.  Since upgrading to Fedora 36, every 5-6 days if the client didn't restart for some other reason (network problems, etc) then the xpra windows suddenly stop responding to keyboard and mouse input, and the client spews messages on stderr roughly every half-second:\r\n```\r\n** (Xpra:551221): WARNING **: 17:09:57.831: could not allocate closure\r\n** (Xpra:551221): WARNING **: 17:09:58.331: could not allocate closure\r\n** (Xpra:551221): WARNING **: 17:09:58.832: could not allocate closure\r\n```\r\nThere's plenty of memory and the xpra process doesn't seem too excessive.\r\n```\r\nUSER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nimc       551221  1.0  2.7 2715204 670336 pts/4  Sl   Jun16  79:24 /usr/bin/pyth\r\n```\r\nKilling the client takes two SIGTERM signals, then after reconnect everything is fine so the problem is definitely client-side.\r\n\r\nThe currently installed version which still has the bug is 4.3.4; this also happened with 4.3.2.  The version under Fedora 34 was most likely 4.3.  So this may turn out to be a problem with (or exposed by) the underlying Python system.  I believe it was 3.9.9 - the currently installed version is 3.10.5.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3603/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3600", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3600/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3600/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3600/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3600", "id": 1328228590, "node_id": "I_kwDOE8kGxM5PKyju", "number": 3600, "title": "Can't install on CentOS 9 through repo", "user": {"login": "yowkah", "id": 6965826, "node_id": "MDQ6VXNlcjY5NjU4MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/6965826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yowkah", "html_url": "https://github.com/yowkah", "followers_url": "https://api.github.com/users/yowkah/followers", "following_url": "https://api.github.com/users/yowkah/following{/other_user}", "gists_url": "https://api.github.com/users/yowkah/gists{/gist_id}", "starred_url": "https://api.github.com/users/yowkah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yowkah/subscriptions", "organizations_url": "https://api.github.com/users/yowkah/orgs", "repos_url": "https://api.github.com/users/yowkah/repos", "events_url": "https://api.github.com/users/yowkah/events{/privacy}", "received_events_url": "https://api.github.com/users/yowkah/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-08-04T08:03:09Z", "updated_at": "2022-08-06T21:30:45Z", "closed_at": "2022-08-06T21:30:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen attempting to install xpra through repo as instructed on the website there is a missing dependency, it looks like xpra-html5 is not present in the repo.\r\n\r\n**To Reproduce**\r\n1. fresh install of CentOS 9 Stream\r\n2. import gpg keys with `sudo rpm --import https://xpra.org/gpg.asc`\r\n3. add the repo using `sudo wget -O /etc/yum.repos.d/xpra.repo https://xpra.org/repos/CentOS/xpra.repo`\r\n4. run `sudo dnf install xpra`\r\n\r\nerror is as shown:\r\n```\r\nError: \r\n Problem: cannot install the best candidate for the job\r\n  - nothing provides xpra-html5 needed by xpra-4.4-10.r31612.el9.x86_64\r\n(try to add '--skip-broken' to skip uninstallable packages or '--nobest' to use not only best candidate packages)\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: CentOS Stream 9\r\n - Client OS:  not relevant\r\n - Xpra Server Version: 4.4-10.r31612.el9.x86_64\r\n - Xpra Client Version: not relevant\r\n\r\n**Additional context**\r\nManually browsing the repo i don't seem to find xpra-html5 listed in there. Also trying to build an rpm from xpra-html5 as instructed on that repo results in errors with the rpmspec:\r\n\r\n```\r\nremoving 'xpra-html5-6.0' (and everything under it)\r\nTraceback (most recent call last):\r\n  File \"/home/jouke/Downloads/xpra-html5/./setup.py\", line 594, in <module>\r\n    sys.exit(main(sys.argv))\r\n  File \"/home/jouke/Downloads/xpra-html5/./setup.py\", line 583, in main\r\n    make_rpm()\r\n  File \"/home/jouke/Downloads/xpra-html5/./setup.py\", line 496, in make_rpm\r\n    proc = Popen([\"rpmspec\", \"-q\", \"--rpms\", SPEC], stdout=PIPE, stderr=PIPE)\r\n  File \"/usr/lib64/python3.9/subprocess.py\", line 951, in __init__\r\n    self._execute_child(args, executable, preexec_fn, close_fds,\r\n  File \"/usr/lib64/python3.9/subprocess.py\", line 1821, in _execute_child\r\n    raise child_exception_type(errno_num, err_msg, err_filename)\r\nFileNotFoundError: [Errno 2] No such file or directory: 'rpmspec'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3600/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3597", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3597/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3597/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3597/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3597", "id": 1317358527, "node_id": "I_kwDOE8kGxM5OhUu_", "number": 3597, "title": "Hard-coded libexec in setup.py", "user": {"login": "sbradnick", "id": 84082961, "node_id": "MDQ6VXNlcjg0MDgyOTYx", "avatar_url": "https://avatars.githubusercontent.com/u/84082961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbradnick", "html_url": "https://github.com/sbradnick", "followers_url": "https://api.github.com/users/sbradnick/followers", "following_url": "https://api.github.com/users/sbradnick/following{/other_user}", "gists_url": "https://api.github.com/users/sbradnick/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbradnick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbradnick/subscriptions", "organizations_url": "https://api.github.com/users/sbradnick/orgs", "repos_url": "https://api.github.com/users/sbradnick/repos", "events_url": "https://api.github.com/users/sbradnick/events{/privacy}", "received_events_url": "https://api.github.com/users/sbradnick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-07-25T20:55:29Z", "updated_at": "2022-07-27T19:29:44Z", "closed_at": "2022-07-26T19:32:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "For openSUSE Leap 15.4 (latest Leap), `%{_libexecdir}` resolves to `/usr/lib` (vs. `/usr/libexec` for TW):\r\n\r\n```shell\r\nLeap> rpm -E '%{_libexecdir}'\r\n/usr/lib\r\n\r\nTW> rpm -E '%{_libexecdir}'\r\n/usr/libexec\r\n```\r\n\r\nWould it be possible to have something that ties into `is_openSUSE()` so the distro-specific value can be swapped in? a la `__FILLUPDIR__` & `__UNITDIR__`\r\n\r\nThe issue presents itself in https://github.com/Xpra-org/xpra/blob/master/setup.py#L1592\r\n\r\n```python\r\n# This works for TW:\r\nadd_data_files(\"libexec/xpra/\", [\"fs/libexec/xpra/%s\" % x for x in libexec_scripts])\r\n```\r\n\r\n```python\r\n# This works for Leap:\r\nadd_data_files(\"lib/xpra/\", [\"fs/libexec/xpra/%s\" % x for x in libexec_scripts])\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3597/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3596", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3596/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3596/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3596/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3596", "id": 1317169356, "node_id": "I_kwDOE8kGxM5OgmjM", "number": 3596, "title": "keyboard input lost after switching workspaces - 4.4 regression", "user": {"login": "Martin-Buchholz", "id": 74514881, "node_id": "MDQ6VXNlcjc0NTE0ODgx", "avatar_url": "https://avatars.githubusercontent.com/u/74514881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Martin-Buchholz", "html_url": "https://github.com/Martin-Buchholz", "followers_url": "https://api.github.com/users/Martin-Buchholz/followers", "following_url": "https://api.github.com/users/Martin-Buchholz/following{/other_user}", "gists_url": "https://api.github.com/users/Martin-Buchholz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Martin-Buchholz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Martin-Buchholz/subscriptions", "organizations_url": "https://api.github.com/users/Martin-Buchholz/orgs", "repos_url": "https://api.github.com/users/Martin-Buchholz/repos", "events_url": "https://api.github.com/users/Martin-Buchholz/events{/privacy}", "received_events_url": "https://api.github.com/users/Martin-Buchholz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2685218208, "node_id": "MDU6TGFiZWwyNjg1MjE4MjA4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/X11", "name": "X11", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 33, "created_at": "2022-07-25T17:51:20Z", "updated_at": "2022-10-16T13:42:57Z", "closed_at": "2022-10-16T13:42:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Start a remote xterm using xpra. key input works.  Switch to another (xfce) workspace.  Switch back to the workspace containing the xpra xterm.  Key input stops working, i.e. keystrokes no longer have any effect.\r\n\r\nBoth client and server are running `xpra v4.4-r31576 (g2a6c16e5c) beta`\r\nClient running Ubuntu 22.04; Server running Pop OS 22.04\r\n\r\n```\r\n( host=lempel display=51; set -eux; ssh $host \"rm -rf /run/user/\\$UID/xpra/$display\"; xpra start --start-child='xterm' --exit-with-children --ssh='/usr/bin/ssh -A -Y' -d ssh,server,keyboard,focus ssh://$host/$display; )\r\n```\r\n\r\nPerhaps it's better described as \"when the X window is unmapped and then remapped, keyboard input is no longer working\"\r\n\r\nHere's debug output, showing that focus is working, and xpra is attempting to send keystrokes\r\n\r\n```\r\n2022-07-25 10:47:10,832 _unfocus() wid=1, focused=1\r\n2022-07-25 10:47:30,266 on_enter_notify_event(ClientWindow(1), <Gdk.EventCrossing object at 0x7f62f8e06d90 (void at 0x55e33d06e950)>)\r\n2022-07-25 10:47:30,266 may_autograb() server-mode=X11 seamless, autograb(['shadow', 'desktop', 'monitors'])=False\r\n2022-07-25 10:47:30,272 focus-in-event for wid=1\r\n2022-07-25 10:47:30,272 do_xpra_focus_in_event(<Gdk.EventFocus object at 0x7f62f8e079c0 (void at 0x55e33d06ea90)>) been_mapped=True\r\n2022-07-25 10:47:30,273 ClientWindow(1) focus_change(ClientWindow(1), <GParamBoolean 'has-toplevel-focus'>) has-toplevel-focus=True, _been_mapped=True\r\n2022-07-25 10:47:30,273 recheck_focus() wid=1, focused=1, latest=True\r\n2022-07-25 10:47:30,274 _focus() wid=1, focused=1\r\n2022-07-25 10:47:30,300 recheck_focus() wid=1, focused=1, latest=True\r\n2022-07-25 10:47:30,300 _focus() wid=1, focused=1\r\n2022-07-25 10:47:35,380 parse_key_event(<Gdk.EventKey object at 0x7f62f8e0c720 (void at 0x55e33d06e9f0)>, True)=KeyEvent(modifiers=[], keyname=Return, keyval=65293, keycode=36, group=0, string=\r\n, pressed=True)\r\n2022-07-25 10:47:35,381 handle_key_action(ClientWindow(1), KeyEvent(modifiers=[], keyname=Return, keyval=65293, keycode=36, group=0, string=\r\n, pressed=True)) wid=1\r\n2022-07-25 10:47:35,381 key_handled_as_shortcut(ClientWindow(1), 'Return', [], True) shortcuts_enabled=True, shortcuts=None\r\n2022-07-25 10:47:35,381 send_key_action(1, KeyEvent(modifiers=[], keyname=Return, keyval=65293, keycode=36, group=0, string=\r\n, pressed=True))\r\n2022-07-25 10:47:35,468 parse_key_event(<Gdk.EventKey object at 0x7f63280f3790 (void at 0x55e33d06eb30)>, False)=KeyEvent(modifiers=[], keyname=Return, keyval=65293, keycode=36, group=0, string=\r\n, pressed=False)\r\n2022-07-25 10:47:35,469 handle_key_action(ClientWindow(1), KeyEvent(modifiers=[], keyname=Return, keyval=65293, keycode=36, group=0, string=\r\n, pressed=False)) wid=1\r\n2022-07-25 10:47:35,469 key_handled_as_shortcut(ClientWindow(1), 'Return', [], False) shortcuts_enabled=True, shortcuts=None\r\n2022-07-25 10:47:35,470 send_key_action(1, KeyEvent(modifiers=[], keyname=Return, keyval=65293, keycode=36, group=0, string=\r\n, pressed=False))\r\n2022-07-25 10:47:43,969 on_leave_notify_event(ClientWindow(1), <Gdk.EventCrossing object at 0x7f63280f3790 (void at 0x55e33d06ea90)>) crossing event fields: {'detail': <enum GDK_NOTIFY_NONLINEAR_VIRTUAL of type Gdk.NotifyType>, 'focus': False, 'mode': <enum GDK_CROSSING_NORMAL of type Gdk.CrossingMode>, 'subwindow': <GdkX11.X11Window object at 0x7f62f8e61540 (GdkX11Window at 0x55e33cef0dd0)>, 'type': <enum GDK_LEAVE_NOTIFY of type Gdk.EventType>, 'window': <GdkX11.X11Window object at 0x7f63280aa040 (GdkX11Window at 0x55e33cef08f0)>}\r\n2022-07-25 10:47:43,970 focus-out-event for wid=1\r\n2022-07-25 10:47:43,970 do_xpra_focus_out_event(<Gdk.EventFocus object at 0x7f63280f3790 (void at 0x55e33d06e950)>)\r\n2022-07-25 10:47:43,971 ClientWindow(1) focus_change(ClientWindow(1), <GParamBoolean 'has-toplevel-focus'>) has-toplevel-focus=False, _been_mapped=True\r\n2022-07-25 10:47:43,972 recheck_focus() wid=1, focused=1, latest=False\r\n2022-07-25 10:47:43,973 _unfocus() wid=1, focused=1\r\n2022-07-25 10:47:43,993 recheck_focus() wid=1, focused=1, latest=False\r\n2022-07-25 10:47:43,994 _unfocus() wid=1, focused=1\r\n2022-07-25 10:48:20,517 _unfocus() wid=1, focused=1\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3596/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3596/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3594", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3594/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3594/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3594/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3594", "id": 1315991741, "node_id": "I_kwDOE8kGxM5OcHC9", "number": 3594, "title": "`return ((bytestostr(k), v) for k, v in chain(mapping, getattr(kwargs, \"items\")())): 'NoneType' object is not iterable`", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-07-24T19:39:33Z", "updated_at": "2022-07-24T19:55:19Z", "closed_at": "2022-07-24T19:46:01Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n```\r\n 111   \u2502 2022-07-24 22:31:15,167 Error: processing new connection from Protocol(unix-domain socket:/run/user/1000/xpra/2/socket):\r\n 112   \u2502 Traceback (most recent call last):\r\n 113   \u2502   File \"/usr/lib/python3/dist-packages/xpra/server/server_base.py\", line 434, in _process_hello_ui\r\n 114   \u2502     self.parse_hello(ss, c, send_ui)\r\n 115   \u2502   File \"/usr/lib/python3/dist-packages/xpra/server/server_base.py\", line 455, in parse_hello\r\n 116   \u2502     bc.parse_hello(self, ss, c, send_ui)\r\n 117   \u2502   File \"/usr/lib/python3/dist-packages/xpra/server/mixins/input_server.py\", line 79, in parse_hello\r\n 118   \u2502     self.parse_hello_ui_keyboard(ss, caps)\r\n 119   \u2502   File \"/usr/lib/python3/dist-packages/xpra/server/mixins/input_server.py\", line 87, in parse_hello_ui_keyboard\r\n 120   \u2502     ss.keyboard_config = self.get_keyboard_config(c)    #pylint: disable=assignment-from-none\r\n 121   \u2502   File \"/usr/lib/python3/dist-packages/xpra/x11/x11_server_core.py\", line 448, in get_keyboard_config\r\n 122   \u2502     keyboard_config.parse_options(props)\r\n 123   \u2502   File \"/usr/lib/python3/dist-packages/xpra/x11/server_keyboard_config.py\", line 142, in parse_options\r\n 124   \u2502     keymap_dict = typedict(props.dictget(\"keymap\"))\r\n 125   \u2502   File \"/usr/lib/python3/dist-packages/xpra/util.py\", line 358, in __init__\r\n 126   \u2502     super().__init__(self._process_args(mapping, **kwargs))\r\n 127   \u2502   File \"/usr/lib/python3/dist-packages/xpra/util.py\", line 356, in <genexpr>\r\n 128   \u2502     return ((bytestostr(k), v) for k, v in chain(mapping, getattr(kwargs, \"items\")()))\r\n 129   \u2502 TypeError: 'NoneType' object is not iterable\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\n2. client command\r\n3. specific action to trigger the bug\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.3 LTS\r\n- Client OS: Microsoft Windows [Version 10.0.18363.836]\r\n- Xpra Server Version 4.4-r31576-1\r\n- Xpra Client Version (see above)\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3594/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3591", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3591/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3591/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3591/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3591", "id": 1313140192, "node_id": "I_kwDOE8kGxM5ORO3g", "number": 3591, "title": "`OverflowError: can't convert negative value to unsigned int`", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2685218208, "node_id": "MDU6TGFiZWwyNjg1MjE4MjA4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/X11", "name": "X11", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-21T11:54:14Z", "updated_at": "2022-08-07T10:48:16Z", "closed_at": "2022-08-07T10:44:13Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n```\r\n       \u2502 File: /home/stdedos/Documents/_usr_bin_xpra.1000-short.crash\r\n       \u2502 Size: 3.4 KB\r\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n   1   \u2502 ProblemType: Crash\r\n   2   \u2502 CrashCounter: 1\r\n   3   \u2502 Date: Wed Jul 20 22:48:17 2022\r\n   4   \u2502 ExecutablePath: /usr/bin/xpra\r\n   5   \u2502 ExecutableTimestamp: 1640186809\r\n   6   \u2502 ProcCmdline: /usr/bin/xpra\\ start\\ :2\\ --title=@title@\\ on\\ @@/@server-display@\\ --ssh=plink\\ -ssh\\ -agent\\ --border=#FF5733,5\\ --desktop-scaling=no\\ --speaker=off\\ --webcam=no\\ --splash=no\\ --start=nohup\\ systemd-inhibit\\ --what=handle-lid-switch\\ sleep\\ 1d\\ >/dev/\r\n       \u2502 null\\ 2>&1\\ &\\ inhibit_pid=$\\ ;\\ xpra\\ xwait\\ ;\\ kill\\ -9\\ \\ ;\\ nohup\\ systemd-inhibit\\ --what=handle-lid-switch\\ sleep\\ 5m\\ >/dev/null\\ 2>&1\\ &\\ --start=gnome-terminal\\ --env=XPRA_PROXY_START_UUID=b8c89b6e2662467d9f716dba10409994\\ --daemon=yes\\ --systemd-run=no\r\n   7   \u2502 ProcCwd: /\r\n   8   \u2502 ProcEnviron: \r\n   9   \u2502 PythonArgs: ['/usr/bin/xpra', 'start', ':2', '--title=@title@ on @@/@server-display@', '--ssh=plink -ssh -agent', '--border=#FF5733,5', '--desktop-scaling=no', '--speaker=off', '--webcam=no', '--splash=no', '--start=nohup systemd-inhibit --what=handle-lid-switch sle\r\n       \u2502 ep 1d >/dev/null 2>&1 & inhibit_pid=$ ; xpra xwait ; kill -9  ; nohup systemd-inhibit --what=handle-lid-switch sleep 5m >/dev/null 2>&1 &', '--start=gnome-terminal', '--env=XPRA_PROXY_START_UUID=b8c89b6e2662467d9f716dba10409994', '--daemon=yes', '--systemd-run=no']\r\n  10   \u2502 Traceback:\r\n  11   \u2502  Traceback (most recent call last):\r\n  12   \u2502    File \"/usr/lib/python3/dist-packages/xpra/server/window/video_subregion.py\", line 235, in nonvideo_refresh\r\n  13   \u2502      if self.refresh_cb(nonvideo):\r\n  14   \u2502    File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 633, in refresh_subregion\r\n  15   \u2502      super().do_send_delayed_regions(now, regions, encoding, options,\r\n  16   \u2502    File \"/usr/lib/python3/dist-packages/xpra/server/window/window_source.py\", line 1987, in do_send_delayed_regions\r\n  17   \u2502      if not self.process_damage_region(damage_time, region.x, region.y, region.width, region.height,\r\n  18   \u2502    File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 862, in process_damage_region\r\n  19   \u2502      image = self.get_damage_image(x, y, w, h)\r\n  20   \u2502    File \"/usr/lib/python3/dist-packages/xpra/server/window/window_source.py\", line 2033, in get_damage_image\r\n  21   \u2502      image = self.window.get_image(x, y, w, h)\r\n  22   \u2502    File \"/usr/lib/python3/dist-packages/xpra/x11/models/core.py\", line 366, in get_image\r\n  23   \u2502      return self._composite.get_image(x, y, width, height)\r\n  24   \u2502    File \"/usr/lib/python3/dist-packages/xpra/x11/gtk_x11/window_damage.py\", line 180, in get_image\r\n  25   \u2502      shm_image = shm.get_image(handle.get_pixmap(), x, y, width, height)\r\n  26   \u2502    File \"xpra/x11/bindings/ximage.pyx\", line 570, in xpra.x11.bindings.ximage.XShmWrapper.get_image\r\n  27   \u2502  OverflowError: can't convert negative value to unsigned int\r\n  28   \u2502 UserGroups: adm cdrom dip docker lpadmin lxd plugdev sambashare sudo\r\n  29   \u2502 _LogindSession: 27\r\n  30   \u2502 ApportVersion: 2.20.11-0ubuntu27.24\r\n  31   \u2502 Architecture: amd64\r\n  32   \u2502 CasperMD5CheckResult: skip\r\n  33   \u2502 DistroRelease: Ubuntu 20.04\r\n  34   \u2502 InstallationDate: Installed on 2022-04-06 (105 days ago)\r\n  35   \u2502 InstallationMedia: Ubuntu 20.04.4 LTS \"Focal Fossa\" - Release amd64 (20220223)\r\n  36   \u2502 ProcVersionSignature: Ubuntu 5.14.0-1045.51-oem 5.14.21\r\n  37   \u2502 SourcePackage: xpra\r\n  38   \u2502 Tags: third-party-packages focal\r\n  39   \u2502 Title: xpra crashed with OverflowError in xpra.x11.bindings.ximage.XShmWrapper.get_image(): can't convert negative value to unsigned int\r\n  40   \u2502 Uname: Linux 5.14.0-1045-oem x86_64\r\n  41   \u2502 UnreportableReason: This is not an official Ubuntu package. Please remove any third party package and try again.\r\n  42   \u2502 UpgradeStatus: No upgrade log present (probably fresh install)\r\n  43   \u2502 _MarkForUpload: True\r\n```\r\nSeemed to not be so serious, but then it became ... and \"on some future time\", it also \"automagically\" dropped the client, but the server was a-ok.\r\n\r\n[client-2.zip](https://github.com/Xpra-org/xpra/files/9154530/client-2.zip)\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\n2. client command\r\n3. specific action to trigger the bug\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.3 LTS\r\n- Client OS: Microsoft Windows [Version 10.0.18363.836]\r\n- Xpra Server Version (see above)\r\n- Xpra Client Version (see above)\r\n\r\n**Additional context**\r\n\r\n_\"Food for thought\": Can xpra accept connections in a child thread? If non-critical server code blows up, that means we loose the client, not the server ..._\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3591/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3590", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3590/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3590/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3590/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3590", "id": 1311929740, "node_id": "I_kwDOE8kGxM5OMnWM", "number": 3590, "title": "`Error: failed to setup a video pipeline for auto encoding with source format BGRX`", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-20T21:13:22Z", "updated_at": "2022-10-13T14:45:36Z", "closed_at": "2022-10-13T14:45:35Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n```\r\n[Server log]\r\n2022-07-20 23:03:35,502 Error: no video pipeline options found for BGRX 24-bit at 2x21\r\n2022-07-20 23:03:35,502 Error: failed to setup a video pipeline for auto encoding with source format BGRX\r\n2022-07-20 23:03:35,502  all encoders: \r\n2022-07-20 23:03:35,502  supported CSC modes: \r\n2022-07-20 23:03:35,502  supported encoders: \r\n2022-07-20 23:03:35,502  encoders CSC modes: \r\n2022-07-20 23:03:35,502 Warning: using non-video fallback encoding\r\n2022-07-20 23:03:35,502  for XShmImageWrapper(BGRX: 348, 282, 2, 21) of window 2\r\n```\r\n\r\n[client-2.zip](https://github.com/Xpra-org/xpra/files/9154530/client-2.zip)\r\n\r\n_A `brotli` error, but that's my fault ..._\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. gnome-terminal + sublime\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.3 LTS\r\n- Client OS: Microsoft Windows [Version 10.0.18363.836]\r\n- Xpra Server Version (see above)\r\n- Xpra Client Version (see above)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3590/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3590/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3588", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3588/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3588/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3588/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3588", "id": 1311775199, "node_id": "I_kwDOE8kGxM5OMBnf", "number": 3588, "title": "Beta server revision is `M`, build date is last year", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-20T19:37:06Z", "updated_at": "2022-08-21T17:08:52Z", "closed_at": "2022-08-21T17:08:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/133706/180067000-cf381c3c-487e-45ea-9b5f-908953e751d8.png)\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.3 LTS\r\n- Client OS: Microsoft Windows [Version 10.0.18363.836]\r\n- Xpra Server Version (see above)\r\n- Xpra Client Version (see above)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3588/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3588/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3586", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3586/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3586/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3586/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3586", "id": 1308479758, "node_id": "I_kwDOE8kGxM5N_dEO", "number": 3586, "title": "`menu is not available yet` (`Error: failed to setup menu / cannot import name 'get_qrencode_fn' from 'xpra.net.qrcode'`?)", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-18T19:51:23Z", "updated_at": "2022-07-21T17:51:53Z", "closed_at": "2022-07-18T21:05:35Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n```\r\n\"Xpra-Python3-x86_64_4.4-r31461\\xpra_cmd\" shadow ssh://user@ip/0 --ssh=\"plink -ssh -agent\" --modal-windows=no --desktop-scaling=1.25 --headerbar=off --title=\"@title@ on @@/@server-display@\" --start=\"systemd-inhibit --what=handle-lid-switch sleep 1d\" --start-on-last-client-exit=\"systemd-inhibit --what=handle-lid-switch sleep 5m\" --key-shortcut=Shift+F2:toggle_pointer_grab --microphone=off --speaker=off --webcam=no --pulseaudio=no\r\n\r\nXPRA_EXECUTABLE=Xpra-Python3-x86_64_4.4-r31461\r\n\r\n2022-07-18 22:27:53,181 Xpra GTK3 client version 4.4-r31461 (g67f821346) beta 64-bit\r\n2022-07-18 22:27:53,191  running on Microsoft Windows 10\r\n2022-07-18 22:27:57,668 GStreamer version 1.20.2 for Python 3.10.5 64-bit\r\n2022-07-18 22:27:57,809 created named pipe 'Xpra\\22344'\r\n2022-07-18 22:27:57,934 keyboard layout code 0x409\r\n2022-07-18 22:27:57,934 identified as 'United States - English' : us\r\n2022-07-18 22:27:57,962 OpenGL_accelerate module loaded\r\n2022-07-18 22:27:57,982 Using accelerated ArrayDatatype\r\n2022-07-18 22:27:58,434 OpenGL accelerate missing: numpy_formathandler\r\n2022-07-18 22:27:58,436 OpenGL enabled with NVIDIA GeForce RTX 2080 SUPER/PCIe/SSE2\r\n2022-07-18 22:27:58,577 Error: failed to setup menu\r\n2022-07-18 22:27:58,578  cannot import name 'get_qrencode_fn' from 'xpra.net.qrcode' (<path>\\xpra\\Xpra-Python3-x86_64_4.4-r31461\\lib\\xpra\\net\\qrcode.pyc)\r\n2022-07-18 22:27:58,598  keyboard settings: layout=us\r\n2022-07-18 22:27:58,600  desktop size is 4480x1515:\r\n2022-07-18 22:27:58,600   Default (1185x400 mm - DPI: 96x96) workarea: 4480x1475\r\n2022-07-18 22:27:58,600     Samsung C32JG5x  2560x1440 at    0x0    (697x392 mm - DPI: 93x93) workarea: 2560x1400\r\n2022-07-18 22:27:58,600     LG IPS234        1920x1080 at 2560x435  (510x290 mm - DPI: 96x95) workarea: 1920x1040 at 2560x435\r\n2022-07-18 22:27:58,601  upscaled to 125%, virtual screen size: 3584x1212\r\n2022-07-18 22:27:58,601   Default (1185x400 mm - DPI: 77x77) workarea: 3584x1180\r\n2022-07-18 22:27:58,601     Samsung C32JG5x  2048x1152 at    0x0    (697x392 mm - DPI: 75x75) workarea: 2048x1120\r\n2022-07-18 22:27:58,601     LG IPS234        1536x864  at 2048x348  (510x290 mm - DPI: 76x76) workarea: 1536x832  at 2048x348\r\n2022-07-18 22:28:16,626 enabled remote logging\r\n2022-07-18 22:28:16,627 Xpra shadow server version 4.4-r31418 64-bit\r\n2022-07-18 22:28:16,628  running on Linux Ubuntu 20.04 focal\r\n2022-07-18 22:28:16,628  remote desktop size is 1920x1200\r\n2022-07-18 22:28:16,629   :0.0 (508x318 mm - DPI: 96x96) workarea: 1848x1173 at   72x27\r\n2022-07-18 22:28:16,629     LGD eDP-1        (336x210 mm - DPI: 145x145)\r\n2022-07-18 22:28:17,045 running, 1 window\r\n2022-07-18 22:28:23,634 server is not responding, drawing spinners over the windows\r\n2022-07-18 22:28:23,868 menu is not available yet\r\n2022-07-18 22:28:23,886 server is OK again\r\n2022-07-18 22:28:24,815 menu is not available yet\r\n2022-07-18 22:28:25,750 menu is not available yet\r\n2022-07-18 22:28:26,782 menu is not available yet\r\n2022-07-18 22:28:27,039 menu is not available yet\r\n2022-07-18 22:28:27,110 menu is not available yet\r\n2022-07-18 22:28:27,220 menu is not available yet\r\n2022-07-18 22:28:30,559 menu is not available yet\r\n2022-07-18 22:28:31,175 menu is not available yet\r\n2022-07-18 22:28:31,449 menu is not available yet\r\n2022-07-18 22:28:31,570 menu is not available yet\r\n2022-07-18 22:28:31,690 menu is not available yet\r\n2022-07-18 22:28:31,796 menu is not available yet\r\n2022-07-18 22:28:31,955 menu is not available yet\r\n2022-07-18 22:28:32,029 menu is not available yet\r\n2022-07-18 22:28:32,127 menu is not available yet\r\n2022-07-18 22:28:32,339 menu is not available yet\r\n2022-07-18 22:28:32,393 menu is not available yet\r\n2022-07-18 22:28:35,667 window 1 has been moved to monitor 1: LG IPS234 1920x1080 at 2560,435\r\n2022-07-18 22:28:39,312 menu is not available yet\r\n2022-07-18 22:28:39,757 menu is not available yet\r\n2022-07-18 22:28:39,817 menu is not available yet\r\n2022-07-18 22:28:40,368 menu is not available yet\r\n2022-07-18 22:28:41,143 menu is not available yet\r\n2022-07-18 22:28:51,710 menu is not available yet\r\n2022-07-18 22:28:52,214 menu is not available yet\r\n2022-07-18 22:28:52,370 menu is not available yet\r\n2022-07-18 22:30:51,773 menu is not available yet\r\n2022-07-18 22:30:52,630 menu is not available yet\r\n2022-07-18 22:30:52,700 menu is not available yet\r\n2022-07-18 22:30:56,394 window-close event on desktop or shadow window, disconnecting\r\n2022-07-18 22:30:56,407 remote SSH stderr:\r\n2022-07-18 22:30:56,407  Entering daemon mode; any further errors will be reported to:\r\n2022-07-18 22:30:56,408    /run/user/1000/xpra/0/server.log\r\n```\r\n\r\n_blocks https://github.com/Xpra-org/xpra/issues/3059#issuecomment-1181771019_\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\n2. client command\r\n3. specific action to trigger the bug\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.3 LTS\r\n- Client OS: Microsoft Windows [Version 10.0.18363.836]\r\n- Xpra Server Version (see above)\r\n- Xpra Client Version (see above)\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3586/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3585", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3585/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3585/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3585/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3585", "id": 1308425535, "node_id": "I_kwDOE8kGxM5N_P0_", "number": 3585, "title": "Artifacts https://www.xpra.org/beta/windows/?C=M&O=D&P=*r31*.zip* are missing verification identifiers", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-07-18T19:25:50Z", "updated_at": "2022-07-25T21:36:13Z", "closed_at": "2022-07-18T21:49:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "<https://www.xpra.org/beta/windows/?C=M&O=D&P=*r31*.zip*>", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3585/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3585/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3584", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3584/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3584/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3584/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3584", "id": 1307592372, "node_id": "I_kwDOE8kGxM5N8Ea0", "number": 3584, "title": "formatting typo in xpra man page", "user": {"login": "Martin-Buchholz", "id": 74514881, "node_id": "MDQ6VXNlcjc0NTE0ODgx", "avatar_url": "https://avatars.githubusercontent.com/u/74514881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Martin-Buchholz", "html_url": "https://github.com/Martin-Buchholz", "followers_url": "https://api.github.com/users/Martin-Buchholz/followers", "following_url": "https://api.github.com/users/Martin-Buchholz/following{/other_user}", "gists_url": "https://api.github.com/users/Martin-Buchholz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Martin-Buchholz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Martin-Buchholz/subscriptions", "organizations_url": "https://api.github.com/users/Martin-Buchholz/orgs", "repos_url": "https://api.github.com/users/Martin-Buchholz/repos", "events_url": "https://api.github.com/users/Martin-Buchholz/events{/privacy}", "received_events_url": "https://api.github.com/users/Martin-Buchholz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-18T08:35:17Z", "updated_at": "2022-07-18T09:08:53Z", "closed_at": "2022-07-18T09:08:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "A literal \"fB\" appears in the xpra man page.  Just add a \\ at the beginning of this line:\r\n\r\n./man1/xpra.1:982:fB--start\\fP or \\fB--start-child\\fP.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3584/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3583", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3583/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3583/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3583/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3583", "id": 1306965992, "node_id": "I_kwDOE8kGxM5N5rfo", "number": 3583, "title": "Making use of u2f", "user": {"login": "sbradnick", "id": 84082961, "node_id": "MDQ6VXNlcjg0MDgyOTYx", "avatar_url": "https://avatars.githubusercontent.com/u/84082961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbradnick", "html_url": "https://github.com/sbradnick", "followers_url": "https://api.github.com/users/sbradnick/followers", "following_url": "https://api.github.com/users/sbradnick/following{/other_user}", "gists_url": "https://api.github.com/users/sbradnick/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbradnick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbradnick/subscriptions", "organizations_url": "https://api.github.com/users/sbradnick/orgs", "repos_url": "https://api.github.com/users/sbradnick/repos", "events_url": "https://api.github.com/users/sbradnick/events{/privacy}", "received_events_url": "https://api.github.com/users/sbradnick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2022-07-17T02:19:46Z", "updated_at": "2022-07-19T08:25:34Z", "closed_at": "2022-07-17T19:28:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI happened upon #1789 and would like to make use of the facility. I have a few Yubikeys; a blue one as well as, I believe, a v4NEO and v5NFC (I can never remember :P), but something like 3-5 total. I make use of the v4 for OTPs and the v5 along with GPG for encrypting,signing and ssh authentication. Nothing too fancy and I'm not claiming to have an overly deep understanding of the guts of Yubikeys or their functions, etc.\r\n\r\nThe error:\r\n```\r\nException in thread authenticate connection:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.10/threading.py\", line 1016, in _bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib64/python3.10/threading.py\", line 953, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/server/server_core.py\", line 2038, in verify_auth\r\n    if not authenticator.authenticate(c):\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/server/auth/sys_auth_base.py\", line 118, in authenticate\r\n    r = self.do_authenticate(caps)\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/server/auth/sys_auth_base.py\", line 140, in do_authenticate\r\n    return self.authenticate_check(challenge_response, client_salt)\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/server/auth/u2f_auth.py\", line 119, in authenticate_check\r\n    verifier = public_key.verifier(sig, ec.ECDSA(hashes.SHA256()))\r\nAttributeError: '_EllipticCurvePublicKey' object has no attribute 'verifier'\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command: `xpra start --start=\"xterm\" --bind-tcp=0.0.0.0:10000 --tcp-auth=u2f -d auth`\r\n2. client command: `xpra attach tcp://192.168.0.105:10000 -d auth`\r\n3. specific action to trigger the bug: All looks to go well and I'm prompted to touch the Yubikey, then I get the python error. I've also tried it locally (same server command, but 127.0.0.1 for the `attach`). I have `~/.config/xpra/u2f-pub.hex` on the destination host and `~/.config/xpra/u2f-keyhandle.hex,u2f-pub.hex` on the client where the Yubikey is plugged in. I ran `python3 /usr/lib64/python3.10/site-packages/xpra/client/gtk_base/u2f_tool.py` to accomplish that.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: `openSUSE Tumbleweed (20220714)`\r\n - Client OS: `openSUSE Tumbleweed (20220714)`\r\n - Xpra Server Version [e.g. 4.2.3]: `xpra-4.4+git20220621.872c7f8d8`\r\n - Xpra Client Version [e.g. 4.3]: `xpra-4.4+git20220621.872c7f8d8`\r\nAbout reports:\r\n```\r\n     4.4\r\nPython 3.10, 64bit\r\n\r\nrevision 31329\r\ncommit g872c7f8d8 from master branch\r\nwith 335 local changes\r\n2022-06-21 00:00\r\n\r\nusing Cython 0.29.30\r\ngcc (SUSE Linux) 12.1.1 20220629 [revision 7811663964aa7e31c3939b859bbfa2e16919639f]\r\n```\r\n\r\n**Additional context**\r\nI don't know if I'm missing some python modules, I started picking through the ones listed in the build section and I feel that I have most/all installed. I have the client/server logs and will attach them if this doesn't appear to be good ole fashioned 'user error'.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3583/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3581", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3581/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3581/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3581/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3581", "id": 1306869701, "node_id": "I_kwDOE8kGxM5N5T_F", "number": 3581, "title": "xpra man page refers to non-existent subcommand \"list-session\"; should be \"list-sessions\"", "user": {"login": "Martin-Buchholz", "id": 74514881, "node_id": "MDQ6VXNlcjc0NTE0ODgx", "avatar_url": "https://avatars.githubusercontent.com/u/74514881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Martin-Buchholz", "html_url": "https://github.com/Martin-Buchholz", "followers_url": "https://api.github.com/users/Martin-Buchholz/followers", "following_url": "https://api.github.com/users/Martin-Buchholz/following{/other_user}", "gists_url": "https://api.github.com/users/Martin-Buchholz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Martin-Buchholz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Martin-Buchholz/subscriptions", "organizations_url": "https://api.github.com/users/Martin-Buchholz/orgs", "repos_url": "https://api.github.com/users/Martin-Buchholz/repos", "events_url": "https://api.github.com/users/Martin-Buchholz/events{/privacy}", "received_events_url": "https://api.github.com/users/Martin-Buchholz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-07-16T18:08:16Z", "updated_at": "2022-07-16T19:20:43Z", "closed_at": "2022-07-16T19:20:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n./fs/share/man/man1/xpra.1:179:\\fBxpra list-session\\fP\r\n```\r\n\r\n```shell\r\n $ xpra list-session\r\nInvalid subcommand 'list-session'\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3581/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3580", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3580/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3580/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3580/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3580", "id": 1306123203, "node_id": "I_kwDOE8kGxM5N2dvD", "number": 3580, "title": "XPRA does not detect NVENC", "user": {"login": "DmitruMoth", "id": 52855719, "node_id": "MDQ6VXNlcjUyODU1NzE5", "avatar_url": "https://avatars.githubusercontent.com/u/52855719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DmitruMoth", "html_url": "https://github.com/DmitruMoth", "followers_url": "https://api.github.com/users/DmitruMoth/followers", "following_url": "https://api.github.com/users/DmitruMoth/following{/other_user}", "gists_url": "https://api.github.com/users/DmitruMoth/gists{/gist_id}", "starred_url": "https://api.github.com/users/DmitruMoth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DmitruMoth/subscriptions", "organizations_url": "https://api.github.com/users/DmitruMoth/orgs", "repos_url": "https://api.github.com/users/DmitruMoth/repos", "events_url": "https://api.github.com/users/DmitruMoth/events{/privacy}", "received_events_url": "https://api.github.com/users/DmitruMoth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-15T14:44:13Z", "updated_at": "2022-07-25T11:37:35Z", "closed_at": "2022-07-25T11:37:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, i think the output is self-documented:\r\n```\r\n$ xpra nvinfo\r\nxpra main error:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.10/site-packages/xpra/scripts/main.py\", line 142, in main\r\n    return run_mode(script_file, cmdline, err, options, args, mode, defaults)\r\n  File \"/usr/lib/python3.10/site-packages/xpra/scripts/main.py\", line 424, in run_mode\r\n    return do_run_mode(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n  File \"/usr/lib/python3.10/site-packages/xpra/scripts/main.py\", line 594, in do_run_mode\r\n    from xpra.codecs import nv_util\r\nImportError: cannot import name 'nv_util' from 'xpra.codecs' (/usr/lib/python3.10/site-packages/xpra/codecs/__init__.py)\r\n```\r\n```\r\n$ xpra encoding\r\ncodecs and csc modules found:\r\n* csc_cython           : /usr/lib/python3.10/site-packages/xpra/codecs/csc_cython/colorspace_converter.cpython-310-x86_64-linux-gnu.so\r\n* csc_libyuv           : \r\n* csc_swscale          : /usr/lib/python3.10/site-packages/xpra/codecs/csc_swscale/colorspace_converter.cpython-310-x86_64-linux-gnu.so\r\n* dec_avcodec2         : /usr/lib/python3.10/site-packages/xpra/codecs/dec_avcodec2/decoder.cpython-310-x86_64-linux-gnu.so\r\n* dec_jpeg             : /usr/lib/python3.10/site-packages/xpra/codecs/jpeg/decoder.cpython-310-x86_64-linux-gnu.so\r\n* dec_pillow           : /usr/lib/python3.10/site-packages/xpra/codecs/pillow/decoder.py\r\n* dec_spng             : \r\n* dec_vpx              : /usr/lib/python3.10/site-packages/xpra/codecs/vpx/decoder.cpython-310-x86_64-linux-gnu.so\r\n* dec_webp             : /usr/lib/python3.10/site-packages/xpra/codecs/webp/decoder.cpython-310-x86_64-linux-gnu.so\r\n* enc_ffmpeg           : /usr/lib/python3.10/site-packages/xpra/codecs/enc_ffmpeg/encoder.cpython-310-x86_64-linux-gnu.so\r\n* enc_jpeg             : /usr/lib/python3.10/site-packages/xpra/codecs/jpeg/encoder.cpython-310-x86_64-linux-gnu.so\r\n* enc_nvjpeg           : \r\n* enc_pillow           : /usr/lib/python3.10/site-packages/xpra/codecs/pillow/encoder.py\r\n* enc_rgb              : /usr/lib/python3.10/site-packages/xpra/codecs/argb/encoder.py\r\n* enc_spng             : \r\n* enc_vpx              : /usr/lib/python3.10/site-packages/xpra/codecs/vpx/encoder.cpython-310-x86_64-linux-gnu.so\r\n* enc_webp             : /usr/lib/python3.10/site-packages/xpra/codecs/webp/encoder.cpython-310-x86_64-linux-gnu.so\r\n* enc_x264             : /usr/lib/python3.10/site-packages/xpra/codecs/enc_x264/encoder.cpython-310-x86_64-linux-gnu.so\r\n* enc_x265             : /usr/lib/python3.10/site-packages/xpra/codecs/enc_x265/encoder.cpython-310-x86_64-linux-gnu.so\r\n* nvenc                : \r\n\r\ncodecs versions:\r\n* avcodec2                        : 59.18.100\r\n* cython                          : 4.2\r\n* ffmpeg                          : 59.18.100\r\n* jpeg                            : 1.0\r\n* numpy                           : 1.23.0\r\n* pillow                          : 9.2.0\r\n* rgb                             : 4.3\r\n* swscale                         : 6.4.100\r\n* vpx                             : 1.12.0\r\n* webp                            : 1.2.2\r\n* x264                            : 164\r\n* x265                            : 3.5\r\n```\r\nServer: Arch Linux, XPRA from official repo, cuda is installed, nvenc work, i can use ffmpeg with `-c:v h264_nvenc`, i also can use OBS with nvenc.\r\nI installed PyCuda.\r\nWhat is wrong?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3580/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3578", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3578/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3578/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3578/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3578", "id": 1306026018, "node_id": "I_kwDOE8kGxM5N2GAi", "number": 3578, "title": "qrencode is broken", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-15T13:15:55Z", "updated_at": "2022-07-17T21:24:48Z", "closed_at": "2022-07-15T13:55:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It doesn't work with Python 3.10: https://bugs.archlinux.org/task/73372\r\n\r\nAnd the ctypes version returns garbage: the size doesn't match the buffer size and the code errors out.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3578/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3578/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3571", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3571/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3571/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3571/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3571", "id": 1299691414, "node_id": "I_kwDOE8kGxM5Nd7eW", "number": 3571, "title": "Xpra fails to start google-chrome with hardware acceleration", "user": {"login": "pfrancks", "id": 104711910, "node_id": "U_kgDOBj3G5g", "avatar_url": "https://avatars.githubusercontent.com/u/104711910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfrancks", "html_url": "https://github.com/pfrancks", "followers_url": "https://api.github.com/users/pfrancks/followers", "following_url": "https://api.github.com/users/pfrancks/following{/other_user}", "gists_url": "https://api.github.com/users/pfrancks/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfrancks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfrancks/subscriptions", "organizations_url": "https://api.github.com/users/pfrancks/orgs", "repos_url": "https://api.github.com/users/pfrancks/repos", "events_url": "https://api.github.com/users/pfrancks/events{/privacy}", "received_events_url": "https://api.github.com/users/pfrancks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709857, "node_id": "MDU6TGFiZWwyNjc4NzA5ODU3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-09T14:11:56Z", "updated_at": "2022-07-10T08:34:48Z", "closed_at": "2022-07-10T08:31:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to start google-chrome with \r\n\r\n`xpra start -ssh://USERNAME@HOST/ --start-child=\"vglrun google-chrome\"`\r\n\r\nit reports under `chrome://gpu` that no hardware acceleration is possible.\r\n\r\n```\r\nGraphics Feature Status\r\nCanvas: Software only, hardware acceleration unavailable\r\nCanvas out-of-process rasterization: Disabled\r\nDirect Rendering Display Compositor: Disabled\r\nCompositing: Software only. Hardware acceleration disabled\r\nMultiple Raster Threads: Enabled\r\nOpenGL: Disabled\r\nRasterization: Software only. Hardware acceleration disabled\r\nRaw Draw: Disabled\r\nSkia Renderer: Enabled\r\nVideo Decode: Software only. Hardware acceleration disabled\r\nVideo Encode: Software only. Hardware acceleration disabled\r\nVulkan: Disabled\r\nWebGL: Software only, hardware acceleration unavailable\r\nWebGL2: Software only, hardware acceleration unavailable\r\n```\r\n\r\nWhen running it directly on the host machine, GPU acceleration is used. \r\n\r\n**System Information:**\r\n - Server OS: Ubuntu 22.04\r\n - Client OS: Windows 10\r\n - Xpra Server Version: 3.1.3\r\n - Xpra Client Version: 4.3.3\r\n\r\n**Additional context**\r\nVirtualGL was installed according to https://www.virtualgl.org/, version 3.0.1\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3571/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3571/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3570", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3570/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3570/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3570/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3570", "id": 1296130641, "node_id": "I_kwDOE8kGxM5NQWJR", "number": 3570, "title": "jammy package dependency error", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-06T16:58:46Z", "updated_at": "2022-07-10T08:53:03Z", "closed_at": "2022-07-10T08:53:03Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Trying to install the build dependencies on Ubuntu Jammy:\r\n```shell\r\n# apt-get install xserver-xorg-video-dummy                                                                                \r\nReading package lists... Done\r\nBuilding dependency tree... Done\r\nReading state information... Done\r\nSome packages could not be installed. This may mean that you have\r\nrequested an impossible situation or if you are using the unstable\r\ndistribution that some required packages have not yet been created\r\nor been moved out of Incoming.\r\nThe following information may help to resolve the situation:\r\n\r\nThe following packages have unmet dependencies:\r\n udev : Depends: libudev1 (= 249.11-0ubuntu3) but 249.11-0ubuntu3.4 is to be installed\r\nE: Unable to correct problems, you have held broken packages.\r\n```\r\n\r\nThis looks like a problem with the Ubuntu repositories.\r\nLet's hope this is a transient error that they will fix.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3570/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3569", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3569/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3569/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3569/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3569", "id": 1292285366, "node_id": "I_kwDOE8kGxM5NBrW2", "number": 3569, "title": "upgrade problem", "user": {"login": "chandon", "id": 4522557, "node_id": "MDQ6VXNlcjQ1MjI1NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4522557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chandon", "html_url": "https://github.com/chandon", "followers_url": "https://api.github.com/users/chandon/followers", "following_url": "https://api.github.com/users/chandon/following{/other_user}", "gists_url": "https://api.github.com/users/chandon/gists{/gist_id}", "starred_url": "https://api.github.com/users/chandon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chandon/subscriptions", "organizations_url": "https://api.github.com/users/chandon/orgs", "repos_url": "https://api.github.com/users/chandon/repos", "events_url": "https://api.github.com/users/chandon/events{/privacy}", "received_events_url": "https://api.github.com/users/chandon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-07-03T11:51:07Z", "updated_at": "2022-07-06T23:45:02Z", "closed_at": "2022-07-06T23:45:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nUsing 4.3.4 on ubuntu, upgrading a server the first time crash it. After restarting the server and upgrading it, no problem anymore\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `xpra start :10`\r\n2. `xpra list` => server is live\r\n3. `xpra upgrade :10` \r\n4. `xpra list` => **no server anymore**\r\n5. `cat  /run/xpra/10/server.log` => there is an error (i guess linked to dbus-launch, please also note that debian package dbus-x11 is required but not listed in the debian installation doc)\r\n6. `xpra start :10` \r\n7. `xpra list` => **server is live**\r\n8. `xpra upgrade :10` \r\n9. `xpra list` => server is live !\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: `Ubuntu 22.04` (on docker)\r\n - Client OS: not relevant\r\n - Xpra Server Version `4.3.4` (and also compiled from master https://github.com/Xpra-org/xpra/commit/c22abcc0bb5bd2f54d88b10d079892b5c4881021)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3569/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3568", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3568/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3568/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3568/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3568", "id": 1289192306, "node_id": "I_kwDOE8kGxM5M14Ny", "number": 3568, "title": "\"xpra upgrade\" doesn't upgrade bind-tcp address/port", "user": {"login": "chandon", "id": 4522557, "node_id": "MDQ6VXNlcjQ1MjI1NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4522557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chandon", "html_url": "https://github.com/chandon", "followers_url": "https://api.github.com/users/chandon/followers", "following_url": "https://api.github.com/users/chandon/following{/other_user}", "gists_url": "https://api.github.com/users/chandon/gists{/gist_id}", "starred_url": "https://api.github.com/users/chandon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chandon/subscriptions", "organizations_url": "https://api.github.com/users/chandon/orgs", "repos_url": "https://api.github.com/users/chandon/repos", "events_url": "https://api.github.com/users/chandon/events{/privacy}", "received_events_url": "https://api.github.com/users/chandon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-06-29T19:25:09Z", "updated_at": "2022-06-30T14:43:13Z", "closed_at": "2022-06-30T14:43:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nxpra upgrade doesn't allow to change bind-tcp address/port\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. run \"xpra start :10\"\r\n2. run \"xpra upgrade :10 --bind-tcp=0.0.0.0:10000\" => this works\r\n3. run \"xpra upgrade :10 --bind-tcp=0.0.0.0:10001\" => server still serves on port 10000 and not 10001\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 22.04 (Docker)\r\n - Xpra Server Version 4.3.3-r0 and 4.3.4-r0\r\n\r\n**Additional context**\r\nThis works on Xpra Server 3.1 included in Ubuntu 22.04", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3568/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3567", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3567/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3567/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3567/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3567", "id": 1286169658, "node_id": "I_kwDOE8kGxM5MqWQ6", "number": 3567, "title": "MacOS shadowing almost doesn't work", "user": {"login": "nerzhulart", "id": 623624, "node_id": "MDQ6VXNlcjYyMzYyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/623624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nerzhulart", "html_url": "https://github.com/nerzhulart", "followers_url": "https://api.github.com/users/nerzhulart/followers", "following_url": "https://api.github.com/users/nerzhulart/following{/other_user}", "gists_url": "https://api.github.com/users/nerzhulart/gists{/gist_id}", "starred_url": "https://api.github.com/users/nerzhulart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nerzhulart/subscriptions", "organizations_url": "https://api.github.com/users/nerzhulart/orgs", "repos_url": "https://api.github.com/users/nerzhulart/repos", "events_url": "https://api.github.com/users/nerzhulart/events{/privacy}", "received_events_url": "https://api.github.com/users/nerzhulart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-27T18:09:23Z", "updated_at": "2023-03-16T15:10:37Z", "closed_at": "2023-03-16T15:10:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nShadow mode on MacOS starts  good but a connected client can do nothing except seeing an empty desktop, current app menu and moving a mouse.\r\n\r\nEven mouse clicking doesn't work.\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command ```xpra shadow --socket-dirs=~/.xpra --bind-tcp=0.0.0.0:10002```\r\n2. client command ```xpra attch tcp://192.168.0.167:10002```\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: MacOS Monterey 12.3.1\r\n - Client OS: Any. Tried on Win11 and Linux Manjaro with KDE. The same behavior\r\n - Xpra Server Version 4.3.3\r\n - Xpra Client Version 4.3.3\r\n\r\nServer log output\r\n```\r\n~ xpra shadow --socket-dirs=~/.xpra --bind-tcp=0.0.0.0:10002\r\n/bin/bash: python3.9: command not found\r\n2022-06-27 21:07:12,822 Error 127 running source script '/etc/profile'\r\n2022-06-27 21:07:12,923 created tcp socket '0.0.0.0:10002'\r\n\r\n(Xpra:10456): Gtk-CRITICAL **: 21:07:13.274: gtk_window_add_accel_group: assertion 'GTK_IS_WINDOW (window)' failed\r\n2022-06-27 21:07:13,489 serving html content from '/Applications/Xpra.app/Contents/Resources/www'\r\n2022-06-27 21:07:13,490 wrote pid 10456 to '$XDG_RUNTIME_DIR/xpra/Main/server.pid'\r\n2022-06-27 21:07:13,495 Warning: socket directory '$XDG_RUNTIME_DIR/xpra/Main'\r\n2022-06-27 21:07:13,495  expected permissions 0o700 but found 0o750\r\n2022-06-27 21:07:13,508 created unix domain socket '/Users/artem.bukhonov/.xpra/UNIT-1333.local-Main'\r\n2022-06-27 21:07:13,522 created unix domain socket '$XDG_RUNTIME_DIR/xpra/Main/socket'\r\n2022-06-27 21:07:13,577 printer forwarding enabled using postscript\r\n2022-06-27 21:07:13,680 32.0GB of system memory\r\n2022-06-27 21:07:13,809 waiting for initialization thread to complete\r\n2022-06-27 21:07:13,809 xpra is ready.\r\n2022-06-27 21:07:14,259 GStreamer version 1.20.1 for Python 3.9.12 64-bit\r\n2022-06-27 21:07:15,837 OpenGL is supported on display 'Main'\r\n2022-06-27 21:07:15,837  using 'AMD Radeon Pro 555X OpenGL Engine' renderer\r\n2022-06-27 21:07:19,690 New tcp connection received\r\n2022-06-27 21:07:19,690  from '192.168.0.195:61833'\r\n2022-06-27 21:07:19,690  on '0.0.0.0:10002'\r\n2022-06-27 21:07:19,695 Handshake complete; enabling connection\r\n2022-06-27 21:07:19,761 Error: failed to allocate a CUDA context:\r\n2022-06-27 21:07:19,762  No module named 'pycuda'\r\n2022-06-27 21:07:19,762  NVJPEG and NVENC will not be available\r\n2022-06-27 21:07:19,762 Python/GTK3 Microsoft Windows 10 aero client version 4.3.3-r0 64-bit\r\n2022-06-27 21:07:19,762  OpenGL is enabled with NVIDIA GeForce GTX 1080/PCIe/SSE2\r\n2022-06-27 21:07:19,762  connected from 'DESKTOP-3RVDDUQ' as 'Nerzhul'\r\n2022-06-27 21:07:19,764 shadow server: setting default keymap translation\r\n2022-06-27 21:07:19,764  client root window size is 7680x2160\r\n2022-06-27 21:07:19,769  automatic picture encoding enabled, also available:\r\n2022-06-27 21:07:19,769   h264, vp9, vp8, png, png/P, png/L, webp, rgb24, rgb32, jpeg, jpega, scroll\r\n2022-06-27 21:07:19,796 client   1 @02.281 Xpra shadow server version 4.3.3-r0 64-bit\r\n2022-06-27 21:07:19,796 client   1 @02.281  running on Mac OS X 21.4.0\r\n2022-06-27 21:07:19,797 client   1 @02.281  remote desktop size is 1680x1050\r\n2022-06-27 21:07:19,797 client   1 @02.281 Attached to xpra server at tcp://192.168.0.167:10002/\r\n2022-06-27 21:07:19,797 client   1 @02.281  (press Control-C to detach)\r\n2022-06-27 21:07:20,249 client   1 @02.717 running, 1 window\r\n2022-06-27 21:07:22,351 Error: cannot add printer 'OneNote for Windows 10':\r\n2022-06-27 21:07:22,351  the printing system does not support application/pdf\r\n2022-06-27 21:07:22,352 Error: cannot add printer 'Microsoft Print to PDF':\r\n2022-06-27 21:07:22,352  the printing system does not support application/pdf\r\n2022-06-27 21:07:36,502 xpra shadow version 4.3.3-r0 64-bit\r\n2022-06-27 21:07:36,503  uid=502 (artem.bukhonov), gid=20 (staff)\r\n2022-06-27 21:07:36,503  running with pid 10456 on Mac OS X 10.16\r\n2022-06-27 21:07:36,506  on display 'Main' of size 1680x1050\r\n\r\n```\r\n[Short movie with this bug on youtube](https://www.youtube.com/watch?v=XDWMtvd2-7I)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3567/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3566", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3566/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3566/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3566/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3566", "id": 1284051570, "node_id": "I_kwDOE8kGxM5MiRJy", "number": 3566, "title": "--exit-with-children=no does not pass to ssh://Remote/N", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709857, "node_id": "MDU6TGFiZWwyNjc4NzA5ODU3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-06-24T18:21:18Z", "updated_at": "2022-06-29T10:03:25Z", "closed_at": "2022-06-28T14:09:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nFollow-on to #3553. Sorry, filing this slipped my mind for a week.\r\n\r\n`--exit-with-children=no` is not being propagated to an `ssh://RemoteHost/N` destination.\r\nUsed `-d ssh` as suggested to trace the conversation. It appears that the option was just dropped.\r\n\r\nNormal usage for me is that `exit-with-children=yes` is in `~/.xpra/xpra.conf`  because I nearly always use a terminal or something similar, but for certain specific needs (starting remote desktop using XDMCP), I need not to have a distinguished/followed/watched child, so `--exit-with-children=no` goes on the command line to supercede.\r\n\r\n**To Reproduce**\r\n`xpra -d ssh start-desktop ssh://ph/7 --attach=no --resize-display=1856x960 --exit-with-children=no`\r\n\r\nNote specifically below:\r\n`2022-06-24 09:33:50,226 channel exec_command(\"/usr/bin/xpra\" \"_proxy_start_desktop\" \":7\" \"--debug=ssh\" \"--resize-display=1856x960\")`\r\n```\r\n2022-06-24 09:33:48,941 debug enabled for xpra.net.ssh / ('network', 'ssh')\r\n2022-06-24 09:33:48,994 debug enabled for xpra.scripts.parsing / ('ssh',)\r\n2022-06-24 09:33:48,994 using paramiko ssh backend\r\n2022-06-24 09:33:49,018 parsed user config '/home/karl/.ssh/config'\r\n2022-06-24 09:33:49,019 112 hosts found\r\n2022-06-24 09:33:49,024 got host config for 'ph': {'port': '7887', 'user': 'karl', 'forwardagent': 'yes', 'forwardx11': 'yes', 'forwardx11trusted': 'yes', 'preferredauthentications': 'publickey,keyboard-interactive,password', 'gssapiauthentication': 'yes', 'pubkeyacceptedkeytypes': '+ssh-dss', 'hostname': 'ph'}\r\n2022-06-24 09:33:49,107 paramiko socket_connect: sockname=('172.17.2.2', 59316), peername=('172.17.2.1', 7887)\r\n2022-06-24 09:33:49,108 starting thread (client mode): 0x5456b880\r\n2022-06-24 09:33:49,108 Local version/idstring: SSH-2.0-paramiko_2.11.0\r\n2022-06-24 09:33:49,182 Remote version/idstring: SSH-2.0-OpenSSH_8.7\r\n2022-06-24 09:33:49,183 Connected (version 2.0, client OpenSSH_8.7)\r\n2022-06-24 09:33:49,255 === Key exchange possibilities ===\r\n2022-06-24 09:33:49,255 kex algos: curve25519-sha256, curve25519-sha256@libssh.org, ecdh-sha2-nistp256, ecdh-sha2-nistp384, ecdh-sha2-nistp521, diffie-hellman-group-exchange-sha256, diffie-hellman-group14-sha256, diffie-hellman-group16-sha512, diffie-hellman-group18-sha512\r\n2022-06-24 09:33:49,255 server key: rsa-sha2-512, rsa-sha2-256, ecdsa-sha2-nistp256, ssh-ed25519\r\n2022-06-24 09:33:49,255 client encrypt: aes256-gcm@openssh.com, chacha20-poly1305@openssh.com, aes256-ctr, aes128-gcm@openssh.com, aes128-ctr\r\n2022-06-24 09:33:49,255 server encrypt: aes256-gcm@openssh.com, chacha20-poly1305@openssh.com, aes256-ctr, aes128-gcm@openssh.com, aes128-ctr\r\n2022-06-24 09:33:49,255 client mac: hmac-sha2-256-etm@openssh.com, hmac-sha1-etm@openssh.com, umac-128-etm@openssh.com, hmac-sha2-512-etm@openssh.com, hmac-sha2-256, hmac-sha1, umac-128@openssh.com, hmac-sha2-512\r\n2022-06-24 09:33:49,255 server mac: hmac-sha2-256-etm@openssh.com, hmac-sha1-etm@openssh.com, umac-128-etm@openssh.com, hmac-sha2-512-etm@openssh.com, hmac-sha2-256, hmac-sha1, umac-128@openssh.com, hmac-sha2-512\r\n2022-06-24 09:33:49,255 client compress: none, zlib@openssh.com\r\n2022-06-24 09:33:49,255 server compress: none, zlib@openssh.com\r\n2022-06-24 09:33:49,255 client lang: <none>\r\n2022-06-24 09:33:49,255 server lang: <none>\r\n2022-06-24 09:33:49,255 kex follows: False\r\n2022-06-24 09:33:49,255 === Key exchange agreements ===\r\n2022-06-24 09:33:49,255 Kex: curve25519-sha256@libssh.org\r\n2022-06-24 09:33:49,255 HostKey: ssh-ed25519\r\n2022-06-24 09:33:49,255 Cipher: aes128-ctr\r\n2022-06-24 09:33:49,255 MAC: hmac-sha2-256\r\n2022-06-24 09:33:49,255 Compression: none\r\n2022-06-24 09:33:49,255 === End of kex handshake ===\r\n2022-06-24 09:33:49,340 kex engine KexCurve25519 specified hash_algo <built-in function openssl_sha256>\r\n2022-06-24 09:33:49,340 Switch to new keys ...\r\n2022-06-24 09:33:49,340 do_ssh_paramiko_connect_to(<paramiko.Transport at 0x5456b880 (cipher aes128-ctr, 128 bits) (connected; awaiting auth)>, 'ph', 'karl', None, {'port': '7887', 'user': 'karl', 'forwardagent': 'yes', 'forwardx11': 'yes', 'forwardx11trusted': 'yes', 'preferredauthentications': 'publickey,keyboard-interactive,password', 'gssapiauthentication': 'yes', 'pubkeyacceptedkeytypes': '+ssh-dss', 'hostname': 'ph'}, ['/home/karl/.ssh/id_ed25519', '/home/karl/.ssh/id_ecdsa', '/home/karl/.ssh/id_rsa', '/home/karl/.ssh/id_dsa'], {'display_name': 'ssh://ph/7', 'type': 'ssh', 'proxy_command': ['_proxy_start_desktop'], 'exit_ssh': True, 'display': ':7', 'display_as_args': [':7', '--debug=ssh', '--resize-display=1856x960'], 'is_paramiko': True, 'host': 'ph', 'local': False, 'full_ssh': ['paramiko'], 'remote_xpra': ['xpra', '$XDG_RUNTIME_DIR/xpra/run-xpra', '/usr/local/bin/xpra', '~/.xpra/run-xpra', 'Xpra_cmd.exe']})\r\n2022-06-24 09:33:49,340 SSH transport <paramiko.Transport at 0x5456b880 (cipher aes128-ctr, 128 bits) (connected; awaiting auth)>\r\n2022-06-24 09:33:49,340 Got EXT_INFO: {'server-sig-algs': b'ssh-ed25519,sk-ssh-ed25519@openssh.com,ssh-rsa,rsa-sha2-256,rsa-sha2-512,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256@openssh.com,webauthn-sk-ecdsa-sha2-nistp256@openssh.com'}\r\n2022-06-24 09:33:49,340 remote_server_key=MD5:80:14:e5:4f:31:eb:c6:a1:18:d0:0f:f2:fc:fa:9f:9c\r\n2022-06-24 09:33:49,378 HostKeys.load(/home/karl/.ssh/known_hosts) successful\r\n2022-06-24 09:33:49,378 host keys=<paramiko.hostkeys.HostKeys object at 0x7f41545c10c0>\r\n2022-06-24 09:33:49,379 ed25519 host key 'MD5:80:14:e5:4f:31:eb:c6:a1:18:d0:0f:f2:fc:fa:9f:9c' OK for host 'ph'\r\n2022-06-24 09:33:49,379 starting authentication, authentication methods: ['none', 'agent', 'key', 'password']\r\n2022-06-24 09:33:49,379 auth=none\r\n2022-06-24 09:33:49,379 trying none authentication\r\n2022-06-24 09:33:49,513 userauth is OK\r\n2022-06-24 09:33:49,579 Authentication type (none) not permitted.\r\n2022-06-24 09:33:49,579 Allowed methods: ['publickey', 'gssapi-keyex', 'gssapi-with-mic', 'password']\r\n2022-06-24 09:33:49,579 auth_none()\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/net/ssh.py\", line 582, in auth_none\r\n    transport.auth_none(username)\r\n  File \"/usr/lib/python3.10/site-packages/paramiko/transport.py\", line 1501, in auth_none\r\n    return self.auth_handler.wait_for_response(my_event)\r\n  File \"/usr/lib/python3.10/site-packages/paramiko/auth_handler.py\", line 259, in wait_for_response\r\n    raise e\r\nparamiko.ssh_exception.BadAuthenticationType: Bad authentication type; allowed types: ['publickey', 'gssapi-keyex', 'gssapi-with-mic', 'password']\r\n2022-06-24 09:33:49,580 auth=agent\r\n2022-06-24 09:33:49,580 agent keys: (<paramiko.agent.AgentKey object at 0x7f415462f130>, <paramiko.agent.AgentKey object at 0x7f41545c11e0>, <paramiko.agent.AgentKey object at 0x7f4154639a20>, <paramiko.agent.AgentKey object at 0x7f41546396c0>, <paramiko.agent.AgentKey object at 0x7f41546392a0>)\r\n2022-06-24 09:33:49,580 trying ssh-agent key 'MD5:87:b4:ad:51:e8:75:69:76:fe:4f:7e:25:4e:03:70:02'\r\n2022-06-24 09:33:49,647 userauth is OK\r\n2022-06-24 09:33:49,648 Finalizing pubkey algorithm for key of type 'ssh-rsa'\r\n2022-06-24 09:33:49,648 Our pubkey algorithm list: ['rsa-sha2-512', 'rsa-sha2-256', 'ssh-rsa']\r\n2022-06-24 09:33:49,648 Server-side algorithm list: ['ssh-ed25519', 'sk-ssh-ed25519@openssh.com', 'ssh-rsa', 'rsa-sha2-256', 'rsa-sha2-512', 'ssh-dss', 'ecdsa-sha2-nistp256', 'ecdsa-sha2-nistp384', 'ecdsa-sha2-nistp521', 'sk-ecdsa-sha2-nistp256@openssh.com', 'webauthn-sk-ecdsa-sha2-nistp256@openssh.com']\r\n2022-06-24 09:33:49,648 Agreed upon 'rsa-sha2-512' pubkey algorithm\r\n2022-06-24 09:33:49,746 Authentication (publickey) successful!\r\n2022-06-24 09:33:49,747 authenticated using agent and key 'MD5:87:b4:ad:51:e8:75:69:76:fe:4f:7e:25:4e:03:70:02'\r\n2022-06-24 09:33:49,747 will try to run xpra from: ['xpra', '$XDG_RUNTIME_DIR/xpra/run-xpra', '/usr/local/bin/xpra', '~/.xpra/run-xpra', 'Xpra_cmd.exe']\r\n2022-06-24 09:33:49,747 paramiko_run_test_command(transport, 'command -v xpra')\r\n2022-06-24 09:33:49,747 [chan 0] Max packet in: 4096 bytes\r\n2022-06-24 09:33:49,838 Received global request \"hostkeys-00@openssh.com\"\r\n2022-06-24 09:33:49,838 Rejecting \"hostkeys-00@openssh.com\" global request from server.\r\n2022-06-24 09:33:49,838 Debug msg: b'/home/karl/.ssh/authorized_keys:4: key options: agent-forwarding port-forwarding pty user-rc x11-forwarding'\r\n2022-06-24 09:33:49,945 [chan 0] Max packet out: 32768 bytes\r\n2022-06-24 09:33:49,945 Secsh channel 0 opened.\r\n2022-06-24 09:33:50,025 [chan find command -v xpra] Sesch channel 0 request ok\r\n2022-06-24 09:33:50,025 exec_command returned\r\n2022-06-24 09:33:50,025 exit status is not ready yet, sleeping\r\n2022-06-24 09:33:50,032 [chan find command -v xpra] EOF received (find command -v xpra)\r\n2022-06-24 09:33:50,032 [chan find command -v xpra] EOF sent (find command -v xpra)\r\n2022-06-24 09:33:50,035 exec_command('command -v xpra')=0\r\n2022-06-24 09:33:50,035 exec_command out='/usr/bin/xpra\\n'\r\n2022-06-24 09:33:50,035 exec_command err=''\r\n2022-06-24 09:33:50,035 adding xpra_cmd='/usr/bin/xpra'\r\n2022-06-24 09:33:50,035 cmd(['_proxy_start_desktop'], [':7', '--debug=ssh', '--resize-display=1856x960'])=\"/usr/bin/xpra\" \"_proxy_start_desktop\" \":7\" \"--debug=ssh\" \"--resize-display=1856x960\"\r\n2022-06-24 09:33:50,035 trying to open SSH session, window-size=134217727, timeout=60\r\n2022-06-24 09:33:50,035 [chan 1] Max packet in: 4096 bytes\r\n2022-06-24 09:33:50,226 [chan 1] Max packet out: 32768 bytes\r\n2022-06-24 09:33:50,226 Secsh channel 1 opened.\r\n2022-06-24 09:33:50,226 channel exec_command(\"/usr/bin/xpra\" \"_proxy_start_desktop\" \":7\" \"--debug=ssh\" \"--resize-display=1856x960\")\r\n2022-06-24 09:33:50,305 [chan run-xpra] Sesch channel 1 request ok\r\n2022-06-24 09:33:50,557  SSH: 'xpra initialization error:'\r\n2022-06-24 09:33:50,557  SSH: ' exit-with-children was specified but start-child* is missing!'\r\n2022-06-24 09:33:50,561  SSH: '  File \"/usr/lib64/python3.10/site-packages/xpra/scripts/main.py\", line 143, in main'\r\n2022-06-24 09:33:50,561  SSH: '    return run_mode(script_file, cmdline, err, options, args, mode, defaults)'\r\n2022-06-24 09:33:50,561  SSH: '  File \"/usr/lib64/python3.10/site-packages/xpra/scripts/main.py\", line 417, in run_mode'\r\n2022-06-24 09:33:50,561  SSH: '    return do_run_mode(script_file, cmdline, error_cb, options, args, mode, defaults)'\r\n2022-06-24 09:33:50,561  SSH: '  File \"/usr/lib64/python3.10/site-packages/xpra/scripts/main.py\", line 452, in do_run_mode'\r\n2022-06-24 09:33:50,561  SSH: '    return run_server(script_file, cmdline, error_cb, options, args, mode, defaults)'\r\n2022-06-24 09:33:50,561  SSH: '  File \"/usr/lib64/python3.10/site-packages/xpra/scripts/main.py\", line 1782, in run_server'\r\n2022-06-24 09:33:50,561  SSH: '    return do_run_server(script_file, cmdline, error_cb, options, args, mode, display, defaults)'\r\n2022-06-24 09:33:50,561  SSH: '  File \"/usr/lib64/python3.10/site-packages/xpra/scripts/server.py\", line 673, in do_run_server'\r\n2022-06-24 09:33:50,561  SSH: '    return _do_run_server(script_file, cmdline,'\r\n2022-06-24 09:33:50,561  SSH: '  File \"/usr/lib64/python3.10/site-packages/xpra/scripts/server.py\", line 723, in _do_run_server'\r\n2022-06-24 09:33:50,561  SSH: '    assert has_child_arg, \"exit-with-children was specified but start-child* is missing!\"'\r\n2022-06-24 09:33:50,636  SSH: 'xpra initialization error:'\r\n2022-06-24 09:33:50,636  SSH: ' failed to identify the new server display!'\r\n2022-06-24 09:33:50,657 [chan run-xpra] EOF received (run-xpra)\r\n2022-06-24 09:33:50,657 SSH EOF on stderr of run-xpra\r\n2022-06-24 09:33:50,657 [chan run-xpra] EOF sent (run-xpra)\r\n2022-06-24 09:33:50,660 Connection failed\r\n```\r\n\r\n**System Information (please complete the following information):**\r\nF35 and xpra v4.4-r31319 all around.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3566/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3565", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3565/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3565/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3565/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3565", "id": 1283841366, "node_id": "I_kwDOE8kGxM5Mhd1W", "number": 3565, "title": "No 3D Hardware Acceleration in a VirtualGL Environment", "user": {"login": "KondorIstvan", "id": 108139466, "node_id": "U_kgDOBnITyg", "avatar_url": "https://avatars.githubusercontent.com/u/108139466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KondorIstvan", "html_url": "https://github.com/KondorIstvan", "followers_url": "https://api.github.com/users/KondorIstvan/followers", "following_url": "https://api.github.com/users/KondorIstvan/following{/other_user}", "gists_url": "https://api.github.com/users/KondorIstvan/gists{/gist_id}", "starred_url": "https://api.github.com/users/KondorIstvan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KondorIstvan/subscriptions", "organizations_url": "https://api.github.com/users/KondorIstvan/orgs", "repos_url": "https://api.github.com/users/KondorIstvan/repos", "events_url": "https://api.github.com/users/KondorIstvan/events{/privacy}", "received_events_url": "https://api.github.com/users/KondorIstvan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709857, "node_id": "MDU6TGFiZWwyNjc4NzA5ODU3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-06-24T14:47:15Z", "updated_at": "2022-06-27T08:56:00Z", "closed_at": "2022-06-25T06:39:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI've been using the RedHat package for Xpra, version 4.3.2 from the epel repository, which works with VirtualGL. Programs launched in Xpra have full hardware acceleration.\r\nToday I installed the official repository and updated to 4.3.4. Then I noticed that Xpra now uses llvmpipe for OpenGL. This is interesting, as my VNC session has full acceleration, glxinfo reports everything correctly. Even the Xpra server.log file states the CUDA and NVidia driver versions correctly, yet it reports at the end that llvmpipe is used for OpenGL acceleration.\r\nDowngrading to 4.3.3 and to 4.3.1 from the official repo showed the exact same behaviour. \r\nReinstalling the package from epel repository solves the issue.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Install any 4.3 version from official repository\r\n2. Start xpra with 'vglrun xpra start :XX'\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: RHEL 8.6\r\n - Client OS: Windows 10\r\n - Xpra Server Version: 4.3.4\r\n - Xpra Client Version: 4.3.4\r\n\r\n**Additional context**\r\nI'm using all default configurations both server and client side.\r\nThe Xpra server is started in a gnome session over VNC protocol. The gnome-shell session is prefixed with vglrun, thus the entire session has 3D hardware acceleration. glxinfo -B correctly reports driver and OpenGL version.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3565/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3565/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3563", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3563/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3563/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3563/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3563", "id": 1280982371, "node_id": "I_kwDOE8kGxM5MWj1j", "number": 3563, "title": "Installation fails on CentOS 7", "user": {"login": "olifre", "id": 166759, "node_id": "MDQ6VXNlcjE2Njc1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/166759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olifre", "html_url": "https://github.com/olifre", "followers_url": "https://api.github.com/users/olifre/followers", "following_url": "https://api.github.com/users/olifre/following{/other_user}", "gists_url": "https://api.github.com/users/olifre/gists{/gist_id}", "starred_url": "https://api.github.com/users/olifre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olifre/subscriptions", "organizations_url": "https://api.github.com/users/olifre/orgs", "repos_url": "https://api.github.com/users/olifre/repos", "events_url": "https://api.github.com/users/olifre/events{/privacy}", "received_events_url": "https://api.github.com/users/olifre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-22T21:43:23Z", "updated_at": "2022-06-23T02:23:26Z", "closed_at": "2022-06-23T02:23:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n```\r\n$ yum -y install  xpra xpra-html5\r\n...\r\n--> Finished Dependency Resolution\r\nError: Package: python2-xpra-3.1.2-10.30245xpra1.el7.x86_64 (xpra)\r\n           Requires: libvpx.so.6()(64bit)\r\n           Available: libvpx-xpra-1.9.0-1.el7.x86_64 (xpra)\r\n               libvpx.so.6()(64bit)\r\n           Available: libvpx-xpra-1.9.0-1.el7_9.x86_64 (xpra)\r\n               libvpx.so.6()(64bit)\r\n           Installing: libvpx-xpra-1.11.0-1.el7.x86_64 (xpra)\r\n              ~libvpx.so.7()(64bit)\r\n You could try using --skip-broken to work around the problem\r\n You could try running: rpm -Va --nofiles --nodigest\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n```\r\nwget -O /etc/yum.repos.d/xpra.repo https://xpra.org/repos/CentOS/xpra.repo\r\nyum -y install  xpra xpra-html5\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n- `CentOS Linux release 7.9.2009 (Core)`\r\n\r\n**Additional context**\r\nI am not fully sure I understand the error message correctly, but I asusme the problem is that `python2-xpra` is not built against the latest version of `libvpx-xpra` available in the repositories (and `yum` does not seem to select an older version of `libvpx-xpra` in that case, but bail out). ", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3563/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3562", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3562/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3562/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3562/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3562", "id": 1280659712, "node_id": "I_kwDOE8kGxM5MVVEA", "number": 3562, "title": "KeycloakOpenID.well_know renamed to well_known", "user": {"login": "iDmple", "id": 5065505, "node_id": "MDQ6VXNlcjUwNjU1MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5065505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iDmple", "html_url": "https://github.com/iDmple", "followers_url": "https://api.github.com/users/iDmple/followers", "following_url": "https://api.github.com/users/iDmple/following{/other_user}", "gists_url": "https://api.github.com/users/iDmple/gists{/gist_id}", "starred_url": "https://api.github.com/users/iDmple/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iDmple/subscriptions", "organizations_url": "https://api.github.com/users/iDmple/orgs", "repos_url": "https://api.github.com/users/iDmple/repos", "events_url": "https://api.github.com/users/iDmple/events{/privacy}", "received_events_url": "https://api.github.com/users/iDmple/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-22T18:01:54Z", "updated_at": "2022-06-23T09:20:02Z", "closed_at": "2022-06-23T09:20:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This commit\r\nhttps://github.com/marcospereirampj/python-keycloak/commit/6bfbd0d15fa5981f35e5a6866b3efd62ef0dc968\r\n\r\nleads to this error when trying to use the Keycloak auth module with version python-keycloak 1.0.0 (committed a month ago) to 1.8.0 (latest version):\r\nAttributeError: 'KeycloakOpenID' object has no attribute 'well_know'\r\n\r\nCould you please change this line for the new name:\r\nhttps://github.com/Xpra-org/xpra/blob/19b7589dc22f4ad1164f66aa600185f9f6e80a59/xpra/server/auth/keycloak_auth.py#L127\r\n\r\nThank you!", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3562/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3559", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3559/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3559/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3559/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3559", "id": 1278697956, "node_id": "I_kwDOE8kGxM5MN2Hk", "number": 3559, "title": "Commit 19bea4c1 breaks VAAPI codec", "user": {"login": "interj", "id": 7340707, "node_id": "MDQ6VXNlcjczNDA3MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/7340707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/interj", "html_url": "https://github.com/interj", "followers_url": "https://api.github.com/users/interj/followers", "following_url": "https://api.github.com/users/interj/following{/other_user}", "gists_url": "https://api.github.com/users/interj/gists{/gist_id}", "starred_url": "https://api.github.com/users/interj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/interj/subscriptions", "organizations_url": "https://api.github.com/users/interj/orgs", "repos_url": "https://api.github.com/users/interj/repos", "events_url": "https://api.github.com/users/interj/events{/privacy}", "received_events_url": "https://api.github.com/users/interj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-21T16:31:15Z", "updated_at": "2022-06-21T16:57:37Z", "closed_at": "2022-06-21T16:57:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nCommit 19bea4c172d0157a6fa36db5f36586a8619a8a3d causes `h264_vaapi` encoder to fail.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `XPRA_VAAPI=1 XPRA_VAAPI_ENCODINGS=h264,vp8,vp9  xpra start --bind-tcp=0.0.0.0:14500`\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian 11\r\n - Xpra Server Version: any after 19bea4c172d0157a6fa36db5f36586a8619a8a3d\r\n\r\n**Additional context**\r\n\r\n`enc_ffmpeg` fails with:\r\n```\r\n2022-06-20 20:42:21,056 init_vaapi_device()=0x7fd26c0a40c0\r\n2022-06-20 20:42:21,056 h264_vaapi: \"H.264/AVC (VAAPI)\", codec flags: DR1, DELAY\r\n2022-06-20 20:42:21,056 init_encoder(50, 50, typedict({'b-frames': True, 'dst-formats': ['YUV420P'], 'quality': 50, 'speed': 50}))\r\n2022-06-20 20:42:21,056 h264_vaapi options: low_power, idr_interval, b_depth, rc_mode, auto, CQP, CBR, VBR, ICQ, QVBR, AVBR, qp, quality, coder, cavlc, cabac, vlc, ac, aud, sei, identifier, timing, recovery_point, profile, constrained_baseline, main, high, level, 1, 1.1, 1.2, 1.3, 2, 2.1, 2.2, 3, 3.1, 3.2, 4, 4.1, 4.2, 5, 5.1, 5.2, 6, 6.1, 6.2\r\n2022-06-20 20:42:21,056 init_encoder() profile=main\r\n2022-06-20 20:42:21,056 init_encoder() level=0\r\n2022-06-20 20:42:21,056 init_encoder() compression_level=4\r\n2022-06-20 20:42:21,056 init_encoder(50, 50, typedict({'b-frames': True, 'dst-formats': ['YUV420P'], 'quality': 50, 'speed': 50})) failed\r\nTraceback (most recent call last):\r\n  File \"xpra/codecs/enc_ffmpeg/encoder.pyx\", line 1297, in xpra.codecs.enc_ffmpeg.encoder.Encoder.init_context\r\n  File \"xpra/codecs/enc_ffmpeg/encoder.pyx\", line 1495, in xpra.codecs.enc_ffmpeg.encoder.Encoder.init_encoder\r\nException: could not open h264 encoder context: Invalid argument\r\n2022-06-20 20:42:21,057 load_icon_from_file(/usr/share/icons/hicolor/48x48/apps/konqueror.png, 0)\r\n2022-06-20 20:42:21,057 enc_ffmpeg.Encoder({'version': (58, 134, 100), 'encoding': 'h264', 'formats': ['NV12'], 'type': 'ffmpeg', 'frames': 0, 'width': 64, 'height': 32, 'video-codec': 'h264_vaapi', 'video-description': 'H.264/AVC (VAAPI)', 'src_format': 'NV12', 'encoder_width': 64, 'encoder_height': 32}).clean_encoder()\r\n2022-06-20 20:42:21,057 clean_encoder() freeing AVCodecContext: 0x7fd26c09d600\r\n2022-06-20 20:42:21,057 clean_encoder() done\r\n2022-06-20 20:42:21,057 enc_ffmpeg.Encoder(*closed*).clean_encoder()\r\n2022-06-20 20:42:21,057 clean_encoder() freeing AVCodecContext: 0x0\r\n2022-06-20 20:42:21,057 clean_encoder() done\r\n2022-06-20 20:42:21,057 ffmpeg: h264 encoding failed\r\nTraceback (most recent call last):\r\n  File \"/home/interj/.local/lib/python3.9/site-packages/xpra/codecs/codec_checks.py\", line 156, in testencoder\r\n    testencoding(encoder_module, encoding, full)\r\n  File \"/home/interj/.local/lib/python3.9/site-packages/xpra/codecs/codec_checks.py\", line 173, in testencoding\r\n    do_testencoding(encoder_module, encoding, W, H, full)\r\n  File \"/home/interj/.local/lib/python3.9/site-packages/xpra/codecs/codec_checks.py\", line 249, in do_testencoding\r\n    e.init_context(encoding, W, H, cs_in, options)\r\n  File \"xpra/codecs/enc_ffmpeg/encoder.pyx\", line 1313, in xpra.codecs.enc_ffmpeg.encoder.Encoder.init_context\r\n  File \"xpra/codecs/enc_ffmpeg/encoder.pyx\", line 1297, in xpra.codecs.enc_ffmpeg.encoder.Encoder.init_context\r\n  File \"xpra/codecs/enc_ffmpeg/encoder.pyx\", line 1495, in xpra.codecs.enc_ffmpeg.encoder.Encoder.init_encoder\r\nException: could not open h264 encoder context: Invalid argument\r\n2022-06-20 20:42:21,058 got icon data from '/usr/share/icons/hicolor/48x48/apps/konqueror.png': 4054 bytes\r\n2022-06-20 20:42:21,058 Warning: ffmpeg encoder testing failed with h264:\r\n2022-06-20 20:42:21,058  could not open h264 encoder context: Invalid argument\r\n```\r\nand `ffmpeg 4.4.2-1` doesn't like `-qp 0` for `h264_vaapi`, but doesn't fail:\r\n```\r\nffmpeg -hwaccel vaapi -hwaccel_output_format vaapi -vaapi_device /dev/dri/renderD128 -v verbose -i ./bbb_sunflower_2160p_60fps_normal.mp4 -c:v h264_vaapi -compression_level 7 -qp 0 -f mp4 /dev/null\r\n...\r\n[h264_vaapi @ 0x55f2f09f8980] No quality level set; using default (20).  <-----it's a warning btw\r\n[h264_vaapi @ 0x55f2f09f8980] RC mode: CQP.\r\n[h264_vaapi @ 0x55f2f09f8980] RC quality: 20.\r\n...\r\nframe=  808 fps=114 q=-0.0 Lsize=   84525kB time=00:00:13.45 bitrate=51481.7kbits/s dup=2 drop=0 speed=1.89x\r\n```\r\n\r\nSetting `self.video_ctx.global_quality` to non-zero value for vaapi codecs or in general solves the problem.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3559/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3559/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3558", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3558/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3558/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3558/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3558", "id": 1277931435, "node_id": "I_kwDOE8kGxM5MK6-r", "number": 3558, "title": "CentOS 7 builds failures with 3.1.3", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-06-21T05:58:23Z", "updated_at": "2022-06-21T10:40:31Z", "closed_at": "2022-06-21T10:40:31Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "```\r\nbuilding 'xpra.x11.bindings.posix_display_source' extension\r\ngcc -pthread -fno-strict-aliasing -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -O2 -fPIC -I/usr/include/python2.7 -c xpra/x11/bindings/posix_display_source.c -o build/temp.linux-x86_64-2.7/xpra/x11/bindings/posix_display_source.o -Wall -Werror -fPIC -O2\r\nxpra/x11/bindings/posix_display_source.c: In function '__Pyx_CyFunction_CallAsMethod':\r\nxpra/x11/bindings/posix_display_source.c:4531:26: error: format '%S' expects argument of type 'wchar_t *', but argument 3 has type 'struct PyObject *' [-Werror=format=]\r\n                          cyfunc->func_qualname);\r\n                          ^\r\ncc1: all warnings being treated as errors\r\nerror: command 'gcc' failed with exit status 1\r\nerror: Bad exit status from /var/tmp/rpm-tmp.2RbiZL (%build)\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3558/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3556", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3556/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3556/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3556/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3556", "id": 1275012698, "node_id": "I_kwDOE8kGxM5L_yZa", "number": 3556, "title": "Xpra doesn't utilize VAAPI codec", "user": {"login": "interj", "id": 7340707, "node_id": "MDQ6VXNlcjczNDA3MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/7340707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/interj", "html_url": "https://github.com/interj", "followers_url": "https://api.github.com/users/interj/followers", "following_url": "https://api.github.com/users/interj/following{/other_user}", "gists_url": "https://api.github.com/users/interj/gists{/gist_id}", "starred_url": "https://api.github.com/users/interj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/interj/subscriptions", "organizations_url": "https://api.github.com/users/interj/orgs", "repos_url": "https://api.github.com/users/interj/repos", "events_url": "https://api.github.com/users/interj/events{/privacy}", "received_events_url": "https://api.github.com/users/interj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-06-17T13:09:26Z", "updated_at": "2022-06-21T16:06:14Z", "closed_at": "2022-06-21T16:06:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nXpra detects h264 vaapi encoder but doesn't utilize it. I had to exclude h265 codec from vaapi detection, because it completely breaks vaapi context when accessed apparently.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. XPRA_VAAPI=1 XPRA_VAAPI_ENCODINGS=h264 XPRA_LIBAV_TRACE=1 xpra start  --bind-tcp=192.168.9.10:14500\r\n2. \"C:\\Program Files\\Xpra\\Xpra.exe\" start --exit-with-client=False --exit-with-children=True --start-child=konsole --attach=True --splash=True tcp://interj@192.168.9.10:14500\r\n3. playing a video in the browser causes high cpu load, `intel_gpu_top` reports no load on a graphic card\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian 11\r\n - Client OS: Windows 10\r\n - Xpra Server Version `xpra v4.3.3-r31317 (g0af32cf59)`\r\n - Xpra Client Version `xpra 4.3.3 commit g337d861d2 from v4.3.x branch`\r\n\r\n**Additional context**\r\n\r\nCard has the needed capabilities:\r\n```\r\nlibva info: VA-API version 1.14.0\r\nlibva info: Trying to open /usr/lib/x86_64-linux-gnu/dri/iHD_drv_video.so\r\nlibva info: Found init function __vaDriverInit_1_13\r\nlibva info: va_openDriver() returns 0\r\nvainfo: VA-API version: 1.14 (libva 2.12.0)\r\nvainfo: Driver version: Intel iHD driver for Intel(R) Gen Graphics - 22.2.1 ()\r\nvainfo: Supported profile and entrypoints\r\n      VAProfileNone                   : VAEntrypointVideoProc\r\n      VAProfileNone                   : VAEntrypointStats\r\n      VAProfileMPEG2Simple            : VAEntrypointVLD\r\n      VAProfileMPEG2Main              : VAEntrypointVLD\r\n      VAProfileH264Main               : VAEntrypointVLD\r\n      VAProfileH264Main               : VAEntrypointEncSliceLP\r\n      VAProfileH264High               : VAEntrypointVLD\r\n      VAProfileH264High               : VAEntrypointEncSliceLP\r\n      VAProfileJPEGBaseline           : VAEntrypointVLD\r\n      VAProfileJPEGBaseline           : VAEntrypointEncPicture\r\n      VAProfileH264ConstrainedBaseline: VAEntrypointVLD\r\n      VAProfileH264ConstrainedBaseline: VAEntrypointEncSliceLP\r\n      VAProfileVP8Version0_3          : VAEntrypointVLD\r\n      VAProfileHEVCMain               : VAEntrypointVLD\r\n      VAProfileHEVCMain               : VAEntrypointEncSliceLP\r\n      VAProfileHEVCMain10             : VAEntrypointVLD\r\n      VAProfileHEVCMain10             : VAEntrypointEncSliceLP\r\n      VAProfileVP9Profile0            : VAEntrypointVLD\r\n      VAProfileVP9Profile1            : VAEntrypointVLD\r\n      VAProfileVP9Profile2            : VAEntrypointVLD\r\n      VAProfileVP9Profile3            : VAEntrypointVLD\r\n      VAProfileHEVCMain12             : VAEntrypointVLD\r\n      VAProfileHEVCMain422_10         : VAEntrypointVLD\r\n      VAProfileHEVCMain422_12         : VAEntrypointVLD\r\n      VAProfileHEVCMain444            : VAEntrypointVLD\r\n      VAProfileHEVCMain444            : VAEntrypointEncSliceLP\r\n      VAProfileHEVCMain444_10         : VAEntrypointVLD\r\n      VAProfileHEVCMain444_10         : VAEntrypointEncSliceLP\r\n      VAProfileHEVCMain444_12         : VAEntrypointVLD\r\n      VAProfileHEVCSccMain            : VAEntrypointVLD\r\n      VAProfileHEVCSccMain            : VAEntrypointEncSliceLP\r\n      VAProfileHEVCSccMain10          : VAEntrypointVLD\r\n      VAProfileHEVCSccMain10          : VAEntrypointEncSliceLP\r\n      VAProfileHEVCSccMain444         : VAEntrypointVLD\r\n      VAProfileHEVCSccMain444         : VAEntrypointEncSliceLP\r\n      VAProfileAV1Profile0            : VAEntrypointVLD\r\n      VAProfileHEVCSccMain444_10      : VAEntrypointVLD\r\n      VAProfileHEVCSccMain444_10      : VAEntrypointEncSliceLP\r\n```\r\n\r\nH264 vaapi codec is found:\r\n`2022-06-17 13:37:36,914 found 1 vaapi codecs: h264`\r\n\r\nXpra uses x264 codec but no gpu load is present:\r\n```\r\nxpra info | grep \"encoder=\"\r\nwarning: invalid compressor(s) specified: lzo\r\nclient.connection.encoder=rencode\r\nclient.window.4.encoding.pipeline_option.1.encoder=x264\r\nclient.window.4.encoding.pipeline_option.2.encoder=x265\r\nclient.window.4.encoding.pipeline_option.encoder=x264\r\nlogging.filters.Codec.encoder=All encoders\r\n```\r\n\r\nThis log appears once:\r\n```\r\n2022-06-17 13:38:38,792 Warning: using non-video fallback encoding\r\n2022-06-17 13:38:38,792  for XShmImageWrapper(BGRA: 4, 58, 1057, 510) of window 2\r\n```\r\n\r\nThis log repeats every minute or so:\r\n```\r\n2022-06-17 13:38:39,894 Error: no video pipeline options found for BGRA 32-bit at 1062x405\r\n2022-06-17 13:38:39,895 Error: failed to setup a video pipeline for auto encoding with source format BGRA\r\n2022-06-17 13:38:39,895  all encoders: \r\n2022-06-17 13:38:39,895  supported CSC modes: \r\n2022-06-17 13:38:39,895  supported encoders: \r\n2022-06-17 13:38:39,895  encoders CSC modes: \r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3556/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3555", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3555/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3555/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3555/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3555", "id": 1274692148, "node_id": "I_kwDOE8kGxM5L-kI0", "number": 3555, "title": "gmail wrongly rejects mailing list posts as spam", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681259131, "node_id": "MDU6TGFiZWwyNjgxMjU5MTMx", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/upstream", "name": "upstream", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-06-17T07:46:53Z", "updated_at": "2022-06-17T14:42:28Z", "closed_at": "2022-06-17T07:47:06Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I allowed 3 messages within an hour and all gmail addresses started bouncing the third one with:\r\n```\r\n<USER@gmail.com>](mailto:USER@gmail.com): host gmail-smtp-in.l.google.com[108.177.15.26] said:\r\n    550-5.7.1 [78.129.163.13      12] Our system has detected that this message\r\n    is 550-5.7.1 likely unsolicited mail. To reduce the amount of spam sent to\r\n    Gmail, 550-5.7.1 this message has been blocked. Please visit 550-5.7.1\r\n    https://support.google.com/mail/?p=UnsolicitedMessageError 550 5.7.1  for\r\n    more information. p8-20020a5d59a8000000b0021849827fccsi5831542wrr.45 -\r\n    gsmtp (in reply to end of DATA command)\r\n```\r\nWe have hundreds of gmail addresses on the mailing list... so hundreds of bounces.\r\n\r\nThis is where it gets \"fun\", the chat support was not very encouraging, asking questions that had obvious answers in the log samples already provided or telling me that \"_I understand that you are concerned about spam emails_\" when I am not concerned about that at all, only about gmail mishandling emails:\r\n![image](https://user-images.githubusercontent.com/1049737/174249802-8a341f0b-41b0-4a7f-a9f1-4da223b76482.png)\r\n\r\nThen a fairly long (10 messages) email thread started regarding this issue, where I had to repeat the same thing again, and again.\r\nHere's a sample exchange:\r\n> > This is about the issue for not being able to send emails through your hosted mailing list.\r\n> > As per our higher tier of support, you need to get in touch with your email provider so they can check their server about the said error. \r\n> > May I ask if you already tried to reach out to them about this case?\r\n>\r\n> No, I do not need to \"get in touch with my email provider\".\r\n> I am my own email provider and I also run the mailing list on that same system.\r\n> I do not need to check the server \"about the said error\" as I've already given you all the details about the error, which comes from gmail's server wrongly rejecting the mailing list messages as spam.\r\n>\r\n> Please fix gmail's spam filter for this mailing list so that I can resume traffic and re-send the message that has been wrongly blocked.\r\n\r\n\r\nThey also tried to \"inform\" me about the error code, which *I* had given to them.\r\nOn two more occasions, they asked again that I talked to my \"email provider\". Either this was a different person who had not read the earlier discussion, or just forgotten about it?\r\n\r\nEventually this response came:\r\n> The main issue was on Gmail server and our Higher Tier Team doesn't have tools to troubleshoot on this kind of delivery issue since we don't have access to Gmail servers.\r\n\r\nThanks for wasting my time and resources google!\r\n\r\nTLDR: don't use gmail to reliably receive mailing list messages.\r\n\r\nEdit: It's not like they don't know about the problem either:\r\n[Check if your Gmail message is authenticated\r\n](https://support.google.com/mail/answer/180707) : _Important: Messages that aren't authenticated aren't necessarily spam. Sometimes authentication doesn't work for real organizations who send mail to big groups, like messages sent to mailing lists._", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3555/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3555/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3552", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3552/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3552/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3552/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3552", "id": 1265353600, "node_id": "I_kwDOE8kGxM5La8OA", "number": 3552, "title": "xpra_launcher fails to start via CLI (*buntu 22.04)", "user": {"login": "ScanCaster", "id": 30029583, "node_id": "MDQ6VXNlcjMwMDI5NTgz", "avatar_url": "https://avatars.githubusercontent.com/u/30029583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ScanCaster", "html_url": "https://github.com/ScanCaster", "followers_url": "https://api.github.com/users/ScanCaster/followers", "following_url": "https://api.github.com/users/ScanCaster/following{/other_user}", "gists_url": "https://api.github.com/users/ScanCaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/ScanCaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ScanCaster/subscriptions", "organizations_url": "https://api.github.com/users/ScanCaster/orgs", "repos_url": "https://api.github.com/users/ScanCaster/repos", "events_url": "https://api.github.com/users/ScanCaster/events{/privacy}", "received_events_url": "https://api.github.com/users/ScanCaster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-08T21:53:45Z", "updated_at": "2022-06-09T13:36:28Z", "closed_at": "2022-06-09T13:29:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nUsinjg xpra_launcher via CLI with a XPRA connection file OR just attempting to start the xpra_launcher GUI via CLI, results in an error.\r\n\r\nConnecting to server via CLI with \r\n```shell\r\nxpra --auth=ssh:password:value=XXXXX --debug=ssh attach ssh/XXXXX@192.168.0.XXX/100\r\n```\r\n\r\nWorks fine.... xpra_launcher, no joy.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command : `xpra start --env=XPRA_VAAPI=0 --env=CUTTER_THRESHOLD=0 :100 --start=/home/....`\r\n2. client command  `xpra_launcher XprafileA.xpra`\r\n3. specific action to trigger the bug : use `xpra_launcher` via CLI to open GUI or XPRA Connection file, \r\n\r\n**System Information (please complete the following information):**\r\n - Server OS:  Kubuntu 20.04\r\n - Client OS: Kubuntu 22.04\r\n - Xpra Server Version 4.3.3\r\n - Xpra Client Version : BETA 4.4\r\n\r\n**Additional context**\r\n```shell\r\n$ xpra_launcher XprafileA.xpra\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/xpra_launcher\", line 10, in <module>\r\n    sys.exit(do_main(sys.argv))\r\n  File \"/usr/lib/python3/dist-packages/xpra/client/gtk_base/client_launcher.py\", line 1101, in do_main\r\n    init_gdk_display_source()\r\n  File \"xpra/x11/gtk3/gdk_display_source.pyx\", line 46, in xpra.x11.gtk3.gdk_display_source.init_gdk_display_source\r\nxpra.scripts.config.InitException: cannot use X11 bindings with  and GTK3 (buggy)\r\n```\r\n```shell\r\nUserMe@UserMe-Inspironxxx55:~$ xpra_launcher\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/xpra_launcher\", line 10, in <module>\r\n    sys.exit(do_main(sys.argv))\r\n  File \"/usr/lib/python3/dist-packages/xpra/client/gtk_base/client_launcher.py\", line 1101, in do_main\r\n    init_gdk_display_source()\r\n  File \"xpra/x11/gtk3/gdk_display_source.pyx\", line 46, in xpra.x11.gtk3.gdk_display_source.init_gdk_display_source\r\nxpra.scripts.config.InitException: cannot use X11 bindings with  and GTK3 (buggy)\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3552/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3548", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3548/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3548/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3548/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3548", "id": 1251675120, "node_id": "I_kwDOE8kGxM5Kmwvw", "number": 3548, "title": "xpra insists on starting the entire desktop", "user": {"login": "gdkrmr", "id": 12512930, "node_id": "MDQ6VXNlcjEyNTEyOTMw", "avatar_url": "https://avatars.githubusercontent.com/u/12512930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gdkrmr", "html_url": "https://github.com/gdkrmr", "followers_url": "https://api.github.com/users/gdkrmr/followers", "following_url": "https://api.github.com/users/gdkrmr/following{/other_user}", "gists_url": "https://api.github.com/users/gdkrmr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gdkrmr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gdkrmr/subscriptions", "organizations_url": "https://api.github.com/users/gdkrmr/orgs", "repos_url": "https://api.github.com/users/gdkrmr/repos", "events_url": "https://api.github.com/users/gdkrmr/events{/privacy}", "received_events_url": "https://api.github.com/users/gdkrmr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709857, "node_id": "MDU6TGFiZWwyNjc4NzA5ODU3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-05-28T16:45:11Z", "updated_at": "2022-05-29T18:52:06Z", "closed_at": "2022-05-29T09:30:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a new remote machine with Xubuntu 22.04 and when I want to access it through xpra I always get the following error in a window on the local machine:\r\n\r\n> Xsession: unable to launch \"true\" X session --- \"true\" not found; falling back to default session.\r\n\r\nIf I press \"okay\" in that window, the entire Xfce desktop of the remote machine launches. This does not happen on other machines running Xubuntu 20.04.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3548/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3547", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3547/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3547/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3547/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3547", "id": 1250201166, "node_id": "I_kwDOE8kGxM5KhI5O", "number": 3547, "title": "On Windows, xpra client does not connect using ssh key.", "user": {"login": "xihh87", "id": 16003955, "node_id": "MDQ6VXNlcjE2MDAzOTU1", "avatar_url": "https://avatars.githubusercontent.com/u/16003955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xihh87", "html_url": "https://github.com/xihh87", "followers_url": "https://api.github.com/users/xihh87/followers", "following_url": "https://api.github.com/users/xihh87/following{/other_user}", "gists_url": "https://api.github.com/users/xihh87/gists{/gist_id}", "starred_url": "https://api.github.com/users/xihh87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xihh87/subscriptions", "organizations_url": "https://api.github.com/users/xihh87/orgs", "repos_url": "https://api.github.com/users/xihh87/repos", "events_url": "https://api.github.com/users/xihh87/events{/privacy}", "received_events_url": "https://api.github.com/users/xihh87/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-05-26T23:54:34Z", "updated_at": "2022-07-07T09:42:13Z", "closed_at": "2022-07-07T09:42:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nOn Windows, xpra client does not connect to ssh xpra available only with ssh key.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Configure sshd to nonstandard port and to only use ssh key auth.\r\n1. Configure `~/.ssh/config` to use a specific Port, User and IdentityFile to connect to server. (Test that this configuration works from PowerShell.)\r\n1. Server command: `xpra start --clipboard-direction=both --clipboard=yes --desktop-scaling=auto --mdns=no --printing=no --pulseaudio=no --sharing=yes --webcam=no`\r\n4. Client comand:\r\n    -  `xpra attach --debug --ssh='ssh' ssh://user@alias:port/display` # works on linux and osx.\r\n    -  `xpra attach --debug --ssh='ssh -i /path/to/key' ssh://user@alias:port/display`\r\n    -  `ssh -fN server`\r\n        `xpra attach --debug --ssh='ssh' ssh://user@alias:port/display`\r\n6. The server asks for passwords and dies (or just dies), it does not provide additional information on the bug. Could not find the logs to further diagnose.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: [Arch Linux]\r\n - Client OS: [Windows 10, Windows 11]\r\n - Xpra Server Version [xpra-4.2.3-4]\r\n - Xpra Client Version [xpra-4.2.3]\r\n\r\n**Additional context**\r\n\r\n- The server does not accept passwords, only public key auth.\r\n- The client can connect to the server using ssh from PowerShell.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3547/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3547/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3544", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3544/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3544/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3544/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3544", "id": 1240041844, "node_id": "I_kwDOE8kGxM5J6Yl0", "number": 3544, "title": "Debian/Ubuntu Beta Build Packages File Not Found Error", "user": {"login": "nakkaya", "id": 88499, "node_id": "MDQ6VXNlcjg4NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/88499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nakkaya", "html_url": "https://github.com/nakkaya", "followers_url": "https://api.github.com/users/nakkaya/followers", "following_url": "https://api.github.com/users/nakkaya/following{/other_user}", "gists_url": "https://api.github.com/users/nakkaya/gists{/gist_id}", "starred_url": "https://api.github.com/users/nakkaya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nakkaya/subscriptions", "organizations_url": "https://api.github.com/users/nakkaya/orgs", "repos_url": "https://api.github.com/users/nakkaya/repos", "events_url": "https://api.github.com/users/nakkaya/events{/privacy}", "received_events_url": "https://api.github.com/users/nakkaya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-05-18T14:18:51Z", "updated_at": "2022-05-19T09:31:24Z", "closed_at": "2022-05-19T09:31:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a docker image with Xpra. Trying to rebuilt it results in,\r\n\r\n    #7 3.208 E: Failed to fetch https://xpra.org/beta/dists/focal/main/binary-amd64/Packages  404  Not Found [IP: 78.129.163.65 443]", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3544/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3544/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3543", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3543/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3543/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3543/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3543", "id": 1239356608, "node_id": "I_kwDOE8kGxM5J3xTA", "number": 3543, "title": "Xpra proxy looks like it has a serious pipe leak.", "user": {"login": "Vssblt", "id": 35415088, "node_id": "MDQ6VXNlcjM1NDE1MDg4", "avatar_url": "https://avatars.githubusercontent.com/u/35415088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vssblt", "html_url": "https://github.com/Vssblt", "followers_url": "https://api.github.com/users/Vssblt/followers", "following_url": "https://api.github.com/users/Vssblt/following{/other_user}", "gists_url": "https://api.github.com/users/Vssblt/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vssblt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vssblt/subscriptions", "organizations_url": "https://api.github.com/users/Vssblt/orgs", "repos_url": "https://api.github.com/users/Vssblt/repos", "events_url": "https://api.github.com/users/Vssblt/events{/privacy}", "received_events_url": "https://api.github.com/users/Vssblt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709860, "node_id": "MDU6TGFiZWwyNjc4NzA5ODYw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-05-18T02:37:23Z", "updated_at": "2022-09-01T15:03:01Z", "closed_at": "2022-09-01T15:03:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nXpra proxy looks like has a serious pipe leak. \r\nXpra server will shut down and report `too many open files` fatal log if I started a server when I already have started and closed hundreds of server instances.\r\n`sudo lsof -p [xpra proxy]` will report there are so many pipe and shm leaks.\r\n\r\n```\r\nmsun@e69173ce2cd9:~$ /usr/bin/xpra start :1088 --tcp-auth=password:value=password --daemon=no --start-child=\"path_to_application\" --exit-with-children=yes\r\nWarning: XDG_RUNTIME_DIR is not defined\r\n and '/run/user/1000' does not exist\r\n using '/tmp'\r\n2022-05-18 09:50:12,983 cannot use uinput for virtual devices:\r\n2022-05-18 09:50:12,983  [Errno 13] Failed to open the uinput device: Permission denied\r\n2022-05-18 09:50:14,309 pointer device emulation using XTest\r\n2022-05-18 09:50:14,350 serving html content from '/usr/share/xpra/www'\r\n2022-05-18 09:50:14,351 wrote pid 416234 to '/tmp/xpra/1088/server.pid'\r\n2022-05-18 09:50:14,363 Warning: socket directory '/tmp/xpra/1088'\r\n2022-05-18 09:50:14,363  expected permissions 0o700 but found 0o750\r\n2022-05-18 09:50:14,363 created unix domain socket '/msun/runtime/xpra/socket/e69173ce2cd9-1088'\r\n2022-05-18 09:50:14,364 created unix domain socket '/tmp/xpra/1088/socket'\r\n2022-05-18 09:50:14,364 xvfb pid=416241\r\n\r\n(Xpra:416234): Gtk-CRITICAL **: 09:50:14.436: gtk_widget_realize: assertion 'widget->priv->anchored || GTK_IS_INVISIBLE (widget)' failed\r\n2022-05-18 09:50:14,576 waiting for initialization thread to complete\r\n2022-05-18 09:50:14,577 xpra is ready.\r\n2022-05-18 09:50:14,578 xpra X11 seamless version 4.3.2-r0 64-bit\r\n2022-05-18 09:50:14,630 Error setting up menu watcher:\r\n2022-05-18 09:50:14,630  Cannot initialize new instance of inotify, Errno=Too many open files (EMFILE)\r\n2022-05-18 09:50:14,636 started command 'path_to_application' with pid 416400\r\n2022-05-18 09:50:14,726  uid=1000 (msun), gid=1000 (msun)\r\n2022-05-18 09:50:14,726  running with pid 416234 on Linux Ubuntu 20.04 focal\r\n2022-05-18 09:50:14,727  connected to X11 display :1088 with 24 bit colors\r\n\u5f53\u524d\u542f\u52a8\u65f6\u95f4\u4e3a\uff1a \"09:50:14\"\r\nQStandardPaths: wrong ownership on runtime directory /tmp, 0 instead of 1000\r\nQStandardPaths: wrong ownership on runtime directory /tmp, 0 instead of 1000\r\n2022-05-18 09:50:14,800 CUDA initialization (this may take a few seconds)\r\n2022-05-18 09:50:14,893 error on device Quadro RTX 8000 @ 0000:D8:00.0: cuCtxCreate failed: out of memory\r\n2022-05-18 09:50:14,893 Warning: enc_nvjpeg failed its self test\r\n2022-05-18 09:50:14,893  failed to select a cuda device\r\n2022-05-18 09:50:14,893 Warning: enc_nvjpeg failed its self test\r\n2022-05-18 09:50:14,893  failed to select a cuda device\r\n2022-05-18 09:50:14,977 251.5GB of system memory\r\n2022-05-18 09:50:14,994 started command '/opt/VirtualGL/bin/vglrun -d :5 -- ibus-daemon --xim --verbose --replace --panel=disable --desktop=xpra --daemonize' with pid 416519\r\n2022-05-18 09:50:15,546 loaded 14 start menu entries from 3 sub-menus in 0.9 seconds\r\n2022-05-18 09:50:15,837 X11 seamless server got signal SIGINT\r\n2022-05-18 09:50:15,837 xpra X11 seamless server is terminating\r\n```\r\n\r\n**To Reproduce**\r\nStart a proxy and several xpra server in Ubuntu 20.04 docker container.\r\nCommand lines:\r\n```\r\nXDG_RUNTIME_DIR=/msun/runtime/xdg/ XPRA_CONF_FILENAME=/etc/xpra/xpra_proxy.conf /usr/bin/xpra proxy :20 --socket-dirs=/msun/runtime/xpra/socket --daemon=yes --bind-tcp=0.0.0.0:12008 --tcp-auth=allow \r\n\r\n/usr/bin/xpra start :1088 --tcp-auth=password:value=a_password --daemon=no --start-child=\"path_to_an_application\" --exit-with-children=yes\r\n```\r\n**Config file**\r\n\r\nFor xpra server:\r\n```\r\ntcp-auth=allow\r\nbandwidth-limit=1000Mbps\r\nopengl=no\r\nspeaker=off\r\nencoding=jpeg\r\nnotifications=no\r\nsystem-tray=no\r\nwebcam=no\r\nmousewheel=on\r\nmin-speed=80\r\nmin-quality=30\r\nauto-refresh-delay=0\r\nmdns=no\r\nexit-with-children=yes\r\nvideo-scaling=off\r\nexec-wrapper=/opt/VirtualGL/bin/vglrun -d :5 --\r\nenv=XPRA_CLOSE_GTK_DISPLAY=0 XDG_RUNTIME_DIR=/msun/runtime/xdg-start\r\nsharing=yes\r\nserver-idle-timeout=30\r\nidle-timeout=10800\r\nterminate-children=yes\r\ndbus-launch=no\r\nbandwidth-detection=no\r\nfile-size-limit=10000M\r\nclipboard=default\r\nprinting=no\r\nsocket-dirs=/msun/runtime/xpra/socket\r\nvideo-encoders=nvjpeg\r\npulseaudio=no\r\ncursors=no\r\n```\r\n\r\nFor xpra proxy:\r\n```\r\ntcp-auth=allow\r\nbandwidth-limit=1000Mbps\r\nspeaker=off\r\nencoding=jpeg\r\nnotifications=no\r\nsystem-tray=no\r\nwebcam=no\r\nmin-speed=80\r\nmin-quality=30\r\nauto-refresh-delay=0\r\nvideo-scaling=off\r\nenv=XPRA_CLOSE_GTK_DISPLAY=0 XDG_RUNTIME_DIR=/msun/runtime/xdg\r\ndbus-launch=no\r\ndbus-control=no\r\nbandwidth-detection=no\r\nsocket-dirs=/msun/runtime/xpra/socket\r\nvideo-encoders=nvjpeg\r\ncursors=no\r\n```\r\n\r\n**System Information:**\r\n - Server OS: Ubuntu 20.04\r\n - Xpra Server Version xpra v4.3.2-r0\r\n - Xpra Client Version xpra-html5 4.5", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3543/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3540", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3540/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3540/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3540/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3540", "id": 1236171685, "node_id": "I_kwDOE8kGxM5Jrnul", "number": 3540, "title": "Installation of x264-xpra fails on CentOS7 (RPM not signed)", "user": {"login": "olifre", "id": 166759, "node_id": "MDQ6VXNlcjE2Njc1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/166759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olifre", "html_url": "https://github.com/olifre", "followers_url": "https://api.github.com/users/olifre/followers", "following_url": "https://api.github.com/users/olifre/following{/other_user}", "gists_url": "https://api.github.com/users/olifre/gists{/gist_id}", "starred_url": "https://api.github.com/users/olifre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olifre/subscriptions", "organizations_url": "https://api.github.com/users/olifre/orgs", "repos_url": "https://api.github.com/users/olifre/repos", "events_url": "https://api.github.com/users/olifre/events{/privacy}", "received_events_url": "https://api.github.com/users/olifre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-05-15T02:54:45Z", "updated_at": "2022-05-15T05:42:14Z", "closed_at": "2022-05-15T05:42:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nInstallation fails:\r\n```\r\nwget -O /etc/yum.repos.d/xpra.repo https://xpra.org/repos/CentOS/xpra.repo\r\nyum -y install  xpra \\\r\n                xpra-html5\r\n[...]\r\nPackage x264-xpra-20211215-1.el7.x86_64.rpm is not signed\r\n```\r\n\r\n**To Reproduce**\r\nsee above\r\n\r\n**System Information (please complete the following information):**\r\n - OS: CentOS7\r\n\r\n**Additional context**\r\nCan also be checked without installation:\r\n```\r\nwget https://xpra.org/dists/CentOS/7/x86_64/x264-xpra-20211215-1.el7.x86_64.rpm\r\nrpm -qpi x264-xpra-20211215-1.el7.x86_64.rpm | grep Signature\r\nSignature   : (none)\r\n```\r\n\r\nInterestingly, the modification time on:\r\nhttps://xpra.org/dists/CentOS/7/x86_64/\r\nshows 2022-01-25 for the given file, but it only started failing 1-2 days ago for me. \r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3540/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3540/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3537", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3537/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3537/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3537/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3537", "id": 1228530271, "node_id": "I_kwDOE8kGxM5JOeJf", "number": 3537, "title": "server crash with client switch", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-05-07T05:14:18Z", "updated_at": "2022-05-09T17:09:36Z", "closed_at": "2022-05-09T17:09:36Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Was testing #3439, so the server is Ubuntu 20.04.\r\nThe bug only occurs if I first connect with a dual 4K Fedora client, then with a much smaller MS Windows client.\r\n\r\n```\r\nTraceback (most recent call first):\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/models/window.py\", line 498, in _do_update_client_geometry\r\n    self.corral_window.move_resize(x, y, w, h)\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/models/window.py\", line 487, in _update_client_geometry\r\n    self._do_update_client_geometry(window_size, window_position)\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/models/window.py\", line 1275, in _handle_wm_normal_hints_change\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/models/core.py\", line 565, in _handle_property_change\r\n    handler(self)\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/models/core.py\", line 531, in do_xpra_property_notify_event\r\n    self._handle_property_change(str(event.atom))\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/models/window.py\", line 395, in do_xpra_property_notify_event\r\n    super().do_xpra_property_notify_event(event)\r\n  <built-in method emit of WindowModel object at remote 0x7fffaf949e40>\r\n  File \"/usr/lib/python3/dist-packages/gi/overrides/Gtk.py\", line 1632, in main\r\n    return _Gtk_main(*args, **kwargs)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/gtk_server_base.py\", line 119, in do_run\r\n--Type <RET> for more, q to quit, c to continue without paging--\r\n    Gtk.main()\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/server_core.py\", line 434, in run\r\n    self.do_run()\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/server.py\", line 4450, in _do_run_server\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/server.py\", line 924, in do_run_server\r\n    if xrd==\"/run/user/%i\" % uid:\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 4071, in run_server\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 458, in do_run_mode\r\n    return run_server(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 680, in run_mode\r\n    d = {}\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 142, in main\r\n    return run_mode(script_file, cmdline, err, options, args, mode, defaults)\r\n  File \"/usr/bin/xpra\", line 10, in <module>\r\n    sys.exit(main(sys.argv[0], sys.argv))\r\n```\r\n\r\n```\r\n#0  0x00007ffff4d588b5 in ?? () from /lib/x86_64-linux-gnu/libgdk-3.so.0\r\n#1  0x00007ffff4d59389 in ?? () from /lib/x86_64-linux-gnu/libgdk-3.so.0\r\n#2  0x00007ffff4d33467 in ?? () from /lib/x86_64-linux-gnu/libgdk-3.so.0\r\n#3  0x00007ffff6798ff5 in ?? () from /lib/x86_64-linux-gnu/libffi.so.7\r\n#4  0x00007ffff679840a in ?? () from /lib/x86_64-linux-gnu/libffi.so.7\r\n#5  0x00007ffff69880a5 in ?? ()\r\n   from /usr/lib/python3/dist-packages/gi/_gi.cpython-38-x86_64-linux-gnu.so\r\n#6  0x00007ffff697f25c in ?? ()\r\n   from /usr/lib/python3/dist-packages/gi/_gi.cpython-38-x86_64-linux-gnu.so\r\n#7  0x00007ffff698319d in ?? ()\r\n   from /usr/lib/python3/dist-packages/gi/_gi.cpython-38-x86_64-linux-gnu.so\r\n#8  0x00000000005f3e1e in _PyObject_MakeTpCall (\r\n    callable=<gi.FunctionInfo at remote 0x7fffc3f84fb0>, args=<optimized out>, \r\n    nargs=<optimized out>, keywords=<optimized out>)\r\n    at ../Include/internal/pycore_pyerrors.h:13\r\n#9  0x0000000000570674 in _PyObject_Vectorcall (kwnames=0x0, \r\n    nargsf=<optimized out>, args=0x150afd8, \r\n    callable=<gi.FunctionInfo at remote 0x7fffc3f84fb0>)\r\n    at ../Include/cpython/abstract.h:125\r\n#10 _PyObject_Vectorcall (kwnames=0x0, nargsf=<optimized out>, args=0x150afd8, \r\n    callable=<gi.FunctionInfo at remote 0x7fffc3f84fb0>)\r\n    at ../Include/cpython/abstract.h:115\r\n#11 call_function (kwnames=0x0, oparg=<optimized out>, \r\n--Type <RET> for more, q to quit, c to continue without paging--\r\n    pp_stack=<synthetic pointer>, tstate=0x9634f0) at ../Python/ceval.c:4963\r\n#12 _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>)\r\n    at ../Python/ceval.c:3469\r\n#13 0x00000000005f6836 in PyEval_EvalFrameEx (throwflag=0, \r\n    f=Frame 0x150ae10, for file /usr/lib/python3/dist-packages/xpra/x11/models/window.py, line 498, in _do_update_client_geometry (self=<WindowModel(_gproperties={'client-window': <X11Window(_xpra_window_event_receivers={<...>, <CompositeHelper(client_window=<...>, xid=16777222, _use_xshm=True, _damage_handle=4194339, _xshm_handle=<xpra.x11.bindings.ximage.XShmWrapper at remote 0x7fffaf7b70b0>, _contents_handle=<xpra.x11.bindings.ximage.PixmapWrapper at remote 0x7fffb60368d0>, _border_width=0, _listening_to=[<X11Window(_xpra_window_event_receivers={<...>, <...>}) at remote 0x7fffaf7b9740>]) at remote 0x7fffaf94dc80>}) at remote 0x7fffaf949e00>, 'geometry': (182, 167, 894, 582), 'decorations': -1, 'state': frozenset(), 'depth': 32, 'xid': 16777222, 'pid': 9931, 'has-alpha': True, 'allowed-actions': ['_NET_WM_ACTION_CLOSE', '_NET_WM_ACTION_MOVE', '_NET_WM_ACTION_RESIZE', '_NET_WM_ACTION_FULLSCREEN', '_NET_WM_ACTION_MINIMIZE', '_NET_WM_ACTION_SHADE', '_NET_WM_ACTION_STICK', '_NET_WM_ACTION_MAXIMIZE_HORZ', '_NET_WM_ACT...(truncated)) at ../Python/ceval.c:741\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3537/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3536", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3536/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3536/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3536/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3536", "id": 1225954495, "node_id": "I_kwDOE8kGxM5JEpS_", "number": 3536, "title": "ModuleNotFoundError: No module named 'xpra.rectangle'", "user": {"login": "allo-", "id": 1482341, "node_id": "MDQ6VXNlcjE0ODIzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1482341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allo-", "html_url": "https://github.com/allo-", "followers_url": "https://api.github.com/users/allo-/followers", "following_url": "https://api.github.com/users/allo-/following{/other_user}", "gists_url": "https://api.github.com/users/allo-/gists{/gist_id}", "starred_url": "https://api.github.com/users/allo-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allo-/subscriptions", "organizations_url": "https://api.github.com/users/allo-/orgs", "repos_url": "https://api.github.com/users/allo-/repos", "events_url": "https://api.github.com/users/allo-/events{/privacy}", "received_events_url": "https://api.github.com/users/allo-/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-05-04T20:45:50Z", "updated_at": "2022-05-05T15:28:17Z", "closed_at": "2022-05-05T02:47:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nxpra cannot display the Firefox bookmark popup anymore with the error:\r\n\r\n````\r\n2022-05-04 22:42:47,958 failed to instantiate <class 'xpra.client.gtk3.client_window.ClientWindow'>\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/client/mixins/window_manager.py\", line 777, in make_new_window\r\n    window = cwc(self, group_leader_window, watcher_pid, wid,\r\n  File \"/usr/lib/python3/dist-packages/xpra/client/client_window_base.py\", line 87, in __init__\r\n    self.setup_window(bw, bh)\r\n  File \"/usr/lib/python3/dist-packages/xpra/client/gtk_base/gtk_client_window_base.py\", line 632, in setup_window\r\n    self.window_offset = self.calculate_window_offset(x, y, w, h)\r\n  File \"/usr/lib/python3/dist-packages/xpra/client/gtk_base/gtk_client_window_base.py\", line 714, in calculate_window_offset\r\n    from xpra.rectangle import rectangle #@UnresolvedImport\r\nModuleNotFoundError: No module named 'xpra.rectangle'\r\n````\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\nRun xpra v4.3.3-r0 on the server and xpra v4.3.2-r0 on the client, then click the star icon in the Firefox URL-Bar\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian Bullseye\r\n - Client OS: Debian Bookworm\r\n - Xpra Server Version 4.3.3\r\n - Xpra Client Version 4.3.2\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3536/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3534", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3534/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3534/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3534/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3534", "id": 1220917072, "node_id": "I_kwDOE8kGxM5IxbdQ", "number": 3534, "title": "Linux client sends wrong ssh password string", "user": {"login": "osowiecki", "id": 2839093, "node_id": "MDQ6VXNlcjI4MzkwOTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2839093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/osowiecki", "html_url": "https://github.com/osowiecki", "followers_url": "https://api.github.com/users/osowiecki/followers", "following_url": "https://api.github.com/users/osowiecki/following{/other_user}", "gists_url": "https://api.github.com/users/osowiecki/gists{/gist_id}", "starred_url": "https://api.github.com/users/osowiecki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/osowiecki/subscriptions", "organizations_url": "https://api.github.com/users/osowiecki/orgs", "repos_url": "https://api.github.com/users/osowiecki/repos", "events_url": "https://api.github.com/users/osowiecki/events{/privacy}", "received_events_url": "https://api.github.com/users/osowiecki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2022-04-29T14:09:25Z", "updated_at": "2022-07-13T19:27:12Z", "closed_at": "2022-07-13T19:27:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Password \"GC_c0ntent>50%\" is accepted when starting a remote session on Ubuntu 20.04 server from a Windows client. It gets rejected when I try to start a new session from Linux. I'm on 4.3.3 from ubuntu Repo and latest Windows binary from main website (29.04.2022). Can you look into what string is being sent? We tested different machines and versions of xpra on linux. This particular password is the problem. Regular passwords work fine on all platforms.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3534/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3533", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3533/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3533/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3533/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3533", "id": 1218687477, "node_id": "I_kwDOE8kGxM5Io7H1", "number": 3533, "title": "maximization goes wrong with MS Windows clients", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-28T12:54:22Z", "updated_at": "2022-04-28T13:13:07Z", "closed_at": "2022-04-28T13:13:07Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Here with Firefox:\r\n```\r\nclient   4 @06.514 configure event: current size=(1013, 645), new size=(16384, 150), backing=gtk3.CairoBacking(ImageSurface(1013, 645) : size=(1013, 645), render_size=(1013, 645)), iconified=False\r\nwindow client properties updates: {'encoding.render-size': (16384, 150)}\r\n```\r\nThis is very similar to #2714.\r\nIt seems that the new maximized dimension is 16384 - which is high enough to cause problems and too low to trigger the counter measures we added previously.\r\n\r\n```\r\n$ xpra info | grep size-constraints\r\nwindows.10.size-constraints.base-size=(563, 150)\r\nwindows.10.size-constraints.gravity=1\r\nwindows.10.size-constraints.maximum-size=(16384, 16384)\r\nwindows.10.size-constraints.minimum-size=(563, 150)\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3533/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3531", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3531/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3531/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3531/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3531", "id": 1213348342, "node_id": "I_kwDOE8kGxM5IUjn2", "number": 3531, "title": "Unmet dependencies when installing on Debian testing/bookworm ", "user": {"login": "markmandel", "id": 298370, "node_id": "MDQ6VXNlcjI5ODM3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/298370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markmandel", "html_url": "https://github.com/markmandel", "followers_url": "https://api.github.com/users/markmandel/followers", "following_url": "https://api.github.com/users/markmandel/following{/other_user}", "gists_url": "https://api.github.com/users/markmandel/gists{/gist_id}", "starred_url": "https://api.github.com/users/markmandel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markmandel/subscriptions", "organizations_url": "https://api.github.com/users/markmandel/orgs", "repos_url": "https://api.github.com/users/markmandel/repos", "events_url": "https://api.github.com/users/markmandel/events{/privacy}", "received_events_url": "https://api.github.com/users/markmandel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-04-23T15:55:41Z", "updated_at": "2023-01-29T18:43:38Z", "closed_at": "2022-04-23T15:57:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nDue to a change in version of python3, as well as some other package changes (see below) xpra will no longer install on Debian testing/bookworm (it actually removes it if you do an `apt full-upgrade`).\r\n\r\n**To Reproduce**\r\n\r\n```bash\r\n\u279c  ~ sudo apt install xpra\r\n[sudo] password for mark:\r\nReading package lists... Done\r\nBuilding dependency tree... Done\r\nReading state information... Done\r\nSome packages could not be installed. This may mean that you have\r\nrequested an impossible situation or if you are using the unstable\r\ndistribution that some required packages have not yet been created\r\nor been moved out of Incoming.\r\nThe following information may help to resolve the situation:\r\n\r\nThe following packages have unmet dependencies:\r\n xpra : Depends: python3 (< 3.10) but 3.10.4-1 is to be installed\r\n        Depends: libwebp6 (>= 0.5.1) but it is not installable\r\n        Depends: libx264-160 (>= 2:0.160.3011+gitcde9a93) but it is not installable\r\n        Recommends: xpra-html5 but it is not going to be installed\r\n        Recommends: python3-rencode but it is not going to be installed\r\n        Recommends: python3-zeroconf but it is not going to be installed\r\n        Recommends: python3-netifaces but it is not going to be installed\r\n        Recommends: python3-gst-1.0 but it is not going to be installed\r\n        Recommends: gir1.2-appindicator3-0.1 but it is not installable\r\n        Recommends: gir1.2-rsvg-2.0 but it is not going to be installed\r\n        Recommends: ibus but it is not going to be installed\r\n        Recommends: python3-qrencode but it is not going to be installed\r\nE: Unable to correct problems, you have held broken packages.\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n \r\n```bash\r\n\u279c  ~ lsb_release --all\r\n\r\nNo LSB modules are available.\r\nDistributor ID: Debian\r\nDescription:    Debian GNU/Linux bookworm/sid\r\nRelease:        testing\r\nCodename:       bookworm\r\n```\r\n\r\nXpra is installed via deb repository:\r\n\r\n```bash\r\n\u279c  sources.list.d cat xpra_org.list\r\n# deb https://xpra.org/ bullseye main\r\ndeb https://xpra.org/ bookworm main\r\n```\r\n\r\n**Additional context**\r\n\r\nI've no idea how relevant it is, but it looks like there are the following similar packages in Debian testing now:\r\n\r\n* https://packages.debian.org/bookworm/libx264-163\r\n* https://packages.debian.org/bookworm/libwebp7\r\n* https://packages.debian.org/bookworm/python3.9\r\n\r\nJust in case that is useful information.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3531/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3530", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3530/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3530/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3530/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3530", "id": 1213303379, "node_id": "I_kwDOE8kGxM5IUYpT", "number": 3530, "title": "xpra server crash when running an electron program", "user": {"login": "tou2", "id": 706122, "node_id": "MDQ6VXNlcjcwNjEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/706122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tou2", "html_url": "https://github.com/tou2", "followers_url": "https://api.github.com/users/tou2/followers", "following_url": "https://api.github.com/users/tou2/following{/other_user}", "gists_url": "https://api.github.com/users/tou2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tou2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tou2/subscriptions", "organizations_url": "https://api.github.com/users/tou2/orgs", "repos_url": "https://api.github.com/users/tou2/repos", "events_url": "https://api.github.com/users/tou2/events{/privacy}", "received_events_url": "https://api.github.com/users/tou2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2022-04-23T13:46:39Z", "updated_at": "2022-07-07T09:47:01Z", "closed_at": "2022-07-07T09:47:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Unity hub program crashes xpra server intermittently when I open the Unity hub program. What I see is all the open windows for other programs disappear suddenly after I click on unity hub and then its window frame.\r\nSometimes it works the whole day and other times never.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. xpra start --forward-xdg-open=off --bind-tcp=0.0.0.0:10000 --html=on -d all\r\n2. Running Unity Hub after installing. Sometimes it works and other time it crashes the xpra server.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 20.04\r\n - Client OS: HTML5\r\n - Xpra Server Version v4.3.2-r0\r\n - Xpra Client Version 4.5.2\r\n\r\n**Additional context**\r\nI get this error when the crash happens in the debug file:\r\n\r\n```\r\n(Xpra:538): Gdk-ERROR **: 13:09:28.023: The program 'Xpra' received an X Window System error.\r\nThis probably reflects a bug in the program.\r\nThe error was 'BadWindow (invalid Window parameter)'.\r\n  (Details: serial 2862 error_code 3 request_code 12 (core protocol) minor_code 0)\r\n  (Note to programmers: normally, X errors are reported asynchronously;\r\n   that is, you will receive the error a while after causing it.\r\n   To debug your program, run it with the GDK_SYNCHRONIZE environment\r\n   variable to change this behavior. You can then get a meaningful\r\n   backtrace from your debugger if you break on the gdk_x_error() function.) \r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3530/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3529", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3529/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3529/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3529/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3529", "id": 1212693885, "node_id": "I_kwDOE8kGxM5ISD19", "number": 3529, "title": "`xpra` repository for CentOS 8 yields 403 / Forbidden", "user": {"login": "olifre", "id": 166759, "node_id": "MDQ6VXNlcjE2Njc1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/166759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olifre", "html_url": "https://github.com/olifre", "followers_url": "https://api.github.com/users/olifre/followers", "following_url": "https://api.github.com/users/olifre/following{/other_user}", "gists_url": "https://api.github.com/users/olifre/gists{/gist_id}", "starred_url": "https://api.github.com/users/olifre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olifre/subscriptions", "organizations_url": "https://api.github.com/users/olifre/orgs", "repos_url": "https://api.github.com/users/olifre/repos", "events_url": "https://api.github.com/users/olifre/events{/privacy}", "received_events_url": "https://api.github.com/users/olifre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-04-22T19:16:31Z", "updated_at": "2022-04-23T14:38:30Z", "closed_at": "2022-04-23T03:53:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "(I hope repo issues are also correct to report here)\r\n\r\n**Describe the bug**\r\nTrying to access:\r\nhttps://xpra.org/dists/CentOS/8/x86_64/repodata/repomd.xml\r\nyields a 403 error (Forbidden). \r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `wget -O /etc/yum.repos.d/xpra.repo https://xpra.org/repos/CentOS/xpra.repo`\r\n2. `dnf -y install xpra xpra-html5`\r\n\r\nOutput:\r\n```\r\nErrors during downloading metadata for repository 'xpra':\r\n  - Status code: 403 for https://xpra.org/dists/CentOS/8/x86_64/repodata/repomd.xml (IP: 78.129.163.65)\r\nError: Failed to download metadata for repo 'xpra': Cannot download repomd.xml: Cannot download repodata/repomd.xml: All mirrors were tried\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - OS: RockyLinux 8 (but should fail with any RedHat-like distro in version 8)\r\n\r\n**Additional context**\r\nChecking:\r\nhttps://xpra.org/dists/CentOS/\r\nit seems that `8.2` and `8.3` directories are still visible, but the symbolic link `8` pointing to the latest release is invisible. ", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3529/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3529/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3527", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3527/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3527/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3527/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3527", "id": 1209138103, "node_id": "I_kwDOE8kGxM5IEfu3", "number": 3527, "title": "Having problem with xpra session launch", "user": {"login": "bishnoi29nitin", "id": 79893830, "node_id": "MDQ6VXNlcjc5ODkzODMw", "avatar_url": "https://avatars.githubusercontent.com/u/79893830?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bishnoi29nitin", "html_url": "https://github.com/bishnoi29nitin", "followers_url": "https://api.github.com/users/bishnoi29nitin/followers", "following_url": "https://api.github.com/users/bishnoi29nitin/following{/other_user}", "gists_url": "https://api.github.com/users/bishnoi29nitin/gists{/gist_id}", "starred_url": "https://api.github.com/users/bishnoi29nitin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bishnoi29nitin/subscriptions", "organizations_url": "https://api.github.com/users/bishnoi29nitin/orgs", "repos_url": "https://api.github.com/users/bishnoi29nitin/repos", "events_url": "https://api.github.com/users/bishnoi29nitin/events{/privacy}", "received_events_url": "https://api.github.com/users/bishnoi29nitin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709842, "node_id": "MDU6TGFiZWwyNjc4NzA5ODQy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue or pull request already exists"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-20T04:13:50Z", "updated_at": "2022-04-20T04:15:20Z", "closed_at": "2022-04-20T04:14:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nHello,\r\n\r\nI am using xpra to connect server and client, in this I want to display my server side application on the client web browser. I am facing the issue as multiple session are being launched simultaneously and I required only one.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command > sudo xpra proxy :100 --wss-auth=pam --bind-wss=0.0.0.0:5905 --ssl-cert=/path_to_cert --ssl=on\r\n > xpra start --ssl-cert=/path_to_cert --ssl=on --start=xterm\r\n3. specific action to trigger the bug\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Centos 7\r\n - Client OS: Centos 7\r\n - Xpra Server Version xpra v3.0.12-r27627\r\n - Xpra Client Version xpra v3.0.12-r27627\r\n\r\n**Additional context**\r\nOn running the command > xpra bug-report, this is the output shown on the terminal \r\nxpra main error:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python2.7/site-packages/xpra/scripts/main.py\", line 121, in main\r\n    return run_mode(script_file, err, options, args, mode, defaults)\r\n  File \"/usr/lib64/python2.7/site-packages/xpra/scripts/main.py\", line 482, in run_mode\r\n    bug_main([\"xpra\"]+args)\r\n  File \"/usr/lib64/python2.7/site-packages/xpra/scripts/bug_report.py\", line 18, in main\r\n    from xpra.x11.gtk_x11.gdk_display_source import init_gdk_display_source\r\n  File \"/usr/lib64/python2.7/site-packages/xpra/x11/gtk_x11/gdk_display_source.py\", line 8, in <module>\r\n    from xpra.x11.gtk2 import gdk_display_source    #@UnresolvedImport, @UnusedImport\r\n  File \"xpra/x11/gtk2/gdk_display_source.pyx\", line 17, in init xpra.x11.gtk2.gdk_display_source\r\n  File \"/usr/lib64/python2.7/site-packages/gtk-2.0/gtk/__init__.py\", line 64, in <module>\r\n    _init()\r\n  File \"/usr/lib64/python2.7/site-packages/gtk-2.0/gtk/__init__.py\", line 52, in _init\r\n    _gtk.init_check()\r\nRuntimeError: could not open display\r\n\r\n$ xpra list\r\nFound the following xpra sessions:\r\n/run/xpra:\r\n\tINACCESSIBLE session at :100\r\n$ xpra list\r\nFound the following xpra sessions:\r\n/run/user/1020/xpra:\r\n\tLIVE session at :5\r\n\tLIVE session at :6\r\n/run/xpra:\r\n\tINACCESSIBLE session at :100 \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3527/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3525", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3525/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3525/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3525/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3525", "id": 1206403220, "node_id": "I_kwDOE8kGxM5H6ECU", "number": 3525, "title": "official xpra package for debian sid stuck on python << 3.10", "user": {"login": "dovf", "id": 830975, "node_id": "MDQ6VXNlcjgzMDk3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/830975?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dovf", "html_url": "https://github.com/dovf", "followers_url": "https://api.github.com/users/dovf/followers", "following_url": "https://api.github.com/users/dovf/following{/other_user}", "gists_url": "https://api.github.com/users/dovf/gists{/gist_id}", "starred_url": "https://api.github.com/users/dovf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dovf/subscriptions", "organizations_url": "https://api.github.com/users/dovf/orgs", "repos_url": "https://api.github.com/users/dovf/repos", "events_url": "https://api.github.com/users/dovf/events{/privacy}", "received_events_url": "https://api.github.com/users/dovf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-04-17T15:10:28Z", "updated_at": "2022-04-22T02:06:41Z", "closed_at": "2022-04-17T18:17:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nMore of a question than a bug report: does xpra really require python < 3.10? AFAICT, I'm on the latest official xpra package for debian sid (4.3.2-r0-1), and the deb itself seems to require python << 3.10 (and my problem is that at this point it's holding me back from upgrading my system to python 3.10). But I don't see this requirement in the sources of the package, so I wasn't sure what the actual status is..? Does xpra currently really require python < 3.10? If so, why? If not, any ideas why the package thinks it does?\r\n\r\nThanks!\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3525/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3525/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3522", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3522/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3522/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3522/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3522", "id": 1206075019, "node_id": "I_kwDOE8kGxM5H4z6L", "number": 3522, "title": "Multibyte characters don't paste from remote Mac client", "user": {"login": "SaitouToshihide", "id": 47271512, "node_id": "MDQ6VXNlcjQ3MjcxNTEy", "avatar_url": "https://avatars.githubusercontent.com/u/47271512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SaitouToshihide", "html_url": "https://github.com/SaitouToshihide", "followers_url": "https://api.github.com/users/SaitouToshihide/followers", "following_url": "https://api.github.com/users/SaitouToshihide/following{/other_user}", "gists_url": "https://api.github.com/users/SaitouToshihide/gists{/gist_id}", "starred_url": "https://api.github.com/users/SaitouToshihide/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SaitouToshihide/subscriptions", "organizations_url": "https://api.github.com/users/SaitouToshihide/orgs", "repos_url": "https://api.github.com/users/SaitouToshihide/repos", "events_url": "https://api.github.com/users/SaitouToshihide/events{/privacy}", "received_events_url": "https://api.github.com/users/SaitouToshihide/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-04-16T10:12:15Z", "updated_at": "2022-04-17T07:24:48Z", "closed_at": "2022-04-17T07:24:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Multibyte characters don't paste from remote Mac client.\r\nIt was able to paste up to version 4.2.3 r0 client.\r\nThe server version is 4.3_1.\r\n\r\nServer OS: FreeBSD 13.0\r\nClient OS: Mac 12.3.1\r\n\r\nXpra Server Version 4.3_1\r\nXpra Client Version 4.3-\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3522/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3522/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3521", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3521/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3521/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3521/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3521", "id": 1205619005, "node_id": "I_kwDOE8kGxM5H3Ek9", "number": 3521, "title": "Sluggish response after long time connected", "user": {"login": "AJStone", "id": 41582172, "node_id": "MDQ6VXNlcjQxNTgyMTcy", "avatar_url": "https://avatars.githubusercontent.com/u/41582172?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AJStone", "html_url": "https://github.com/AJStone", "followers_url": "https://api.github.com/users/AJStone/followers", "following_url": "https://api.github.com/users/AJStone/following{/other_user}", "gists_url": "https://api.github.com/users/AJStone/gists{/gist_id}", "starred_url": "https://api.github.com/users/AJStone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AJStone/subscriptions", "organizations_url": "https://api.github.com/users/AJStone/orgs", "repos_url": "https://api.github.com/users/AJStone/repos", "events_url": "https://api.github.com/users/AJStone/events{/privacy}", "received_events_url": "https://api.github.com/users/AJStone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-04-15T14:24:47Z", "updated_at": "2023-03-16T15:11:12Z", "closed_at": "2023-03-16T15:11:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Client and server both running xpra v4.3.2-r0 under Ubuntu 18.04.\r\nConnection command:\r\n```\r\nxpra start ssh/whirligig --start=\"gnome-terminal --window-with-profile=Blue\" &> ~/xpra.log &\r\n```\r\nbut subsequently disconnected and reconnected using xpra detach/attach or possibly attach following client restart.\r\n\r\nAfter the session has been running on the server for a long time the response becomes increasingly sluggish. After even a brief pause, the response to a single keystroke may take many seconds, but then response is fairly normal for a while.\r\n\r\nResults of xpra info on server for a normal well-behaved session and an intermittently sluggish one:\r\n[xpra_normal.txt](https://github.com/Xpra-org/xpra/files/8496340/xpra_normal.txt)\r\n[xpra_sluggish.txt](https://github.com/Xpra-org/xpra/files/8496343/xpra_sluggish.txt)\r\n\r\nxpra complains that the connection is struggling to keep up, but the ping average response time is 25 ms and the line download/upload speeds are 100mbps and 9 mbps.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3521/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3520", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3520/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3520/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3520/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3520", "id": 1204497997, "node_id": "I_kwDOE8kGxM5Hyy5N", "number": 3520, "title": "Ubuntu GPG - Repository is not signed error", "user": {"login": "nakkaya", "id": 88499, "node_id": "MDQ6VXNlcjg4NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/88499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nakkaya", "html_url": "https://github.com/nakkaya", "followers_url": "https://api.github.com/users/nakkaya/followers", "following_url": "https://api.github.com/users/nakkaya/following{/other_user}", "gists_url": "https://api.github.com/users/nakkaya/gists{/gist_id}", "starred_url": "https://api.github.com/users/nakkaya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nakkaya/subscriptions", "organizations_url": "https://api.github.com/users/nakkaya/orgs", "repos_url": "https://api.github.com/users/nakkaya/repos", "events_url": "https://api.github.com/users/nakkaya/events{/privacy}", "received_events_url": "https://api.github.com/users/nakkaya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-04-14T12:58:09Z", "updated_at": "2022-04-14T14:00:14Z", "closed_at": "2022-04-14T13:29:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a Ubuntu based docker image [1]  that uses instructions from the download page [2]. \r\n\r\n    RUN wget -q https://xpra.org/gpg.asc -O- | apt-key add - && \\\r\n             add-apt-repository \"deb https://xpra.org/beta/ $DISTRO main\" && \\\r\n             apt-get update && \\\r\n             apt-get install python3-rencode xpra xpra-html5 -y --no-install-recommends`\r\n\r\nToday I had to rebuild the container but build failed due to repository is not signed error.\r\n\r\n[1] https://github.com/nakkaya/emacsd\r\n[2] https://github.com/Xpra-org/xpra/wiki/Download", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3520/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3517", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3517/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3517/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3517/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3517", "id": 1202604286, "node_id": "I_kwDOE8kGxM5Hrkj-", "number": 3517, "title": "Server occasionally sends incorrectly-sized (16384x16384, 450x16384, 563x16384) windows to client (4.3-r30545)", "user": {"login": "jdstroy", "id": 1243517, "node_id": "MDQ6VXNlcjEyNDM1MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1243517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdstroy", "html_url": "https://github.com/jdstroy", "followers_url": "https://api.github.com/users/jdstroy/followers", "following_url": "https://api.github.com/users/jdstroy/following{/other_user}", "gists_url": "https://api.github.com/users/jdstroy/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdstroy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdstroy/subscriptions", "organizations_url": "https://api.github.com/users/jdstroy/orgs", "repos_url": "https://api.github.com/users/jdstroy/repos", "events_url": "https://api.github.com/users/jdstroy/events{/privacy}", "received_events_url": "https://api.github.com/users/jdstroy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-04-13T00:26:03Z", "updated_at": "2022-05-03T13:11:11Z", "closed_at": "2022-05-03T13:11:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nOn xpra server 4.3-r30545, arm64, when I have many Firefox windows in a single session, occasionally the server will send 16384x16384 windows or 563x16384 windows to the client on connection, which causes the client to abort decoding.  This results in the server malfunctioning, with the thread servicing that connection to spin in an infinite loop, consuming as many CPU cycles as it is given by the kernel's scheduler.  Subsequent connections spawn new threads which are able to serve client requests, but the malfunctioning threads continue to consume CPU resources.\r\n\r\nThe resulting log looks like this (from the server):\r\n\r\n```\r\nException: BUG: failed to find a scaling value for window size 563x16384\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/server_base.py\", line 895, in call_handler\r\n    handler(proto, packet)\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/server.py\", line 1024, in _process_configure_window\r\n    self._set_client_properties(proto, wid, window, cprops)\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/server.py\", line 1125, in _set_client_properties\r\n    super()._set_client_properties(proto, wid, window, new_client_properties)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/server_base.py\", line 679, in _set_client_properties\r\n    ss.set_client_properties(wid, window, typedict(new_client_properties))\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/source/windows_mixin.py\", line 532, in set_client_properties\r\n    ws.set_client_properties(new_client_properties)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_source.py\", line 715, in set_client_properties\r\n    self.do_set_client_properties(properties)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 415, in do_set_client_properties\r\n    super().do_set_client_properties(properties)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_source.py\", line 738, in do_set_client_properties\r\n    self.update_encoding_selection(self.encoding)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 404, in update_encoding_selection\r\n    super().update_encoding_selection(encoding, exclude, init)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_source.py\", line 847, in update_encoding_selection\r\n    self.update_encoding_options()\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 1078, in update_encoding_options\r\n    self.check_pipeline_score(force_reload)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 1150, in check_pipeline_score\r\n    scores = self.get_video_pipeline_options(eval_encodings, w, h, self.pixel_format, force_reload)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 1309, in get_video_pipeline_options\r\n    add_scores(\"via %s\" % out_csc, csc_spec, out_csc)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 1279, in add_scores\r\n    scaling = self.calculate_scaling(width, height, max_w, max_h)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 1413, in calculate_scaling\r\n    scaling = get_min_required_scaling()\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 1377, in get_min_required_scaling\r\n    raise Exception(\"BUG: failed to find a scaling value for window size %sx%s\" % (width, height))\r\nException: BUG: failed to find a scaling value for window size 563x16384\r\n```\r\n\r\n```\r\n2022-01-06 16:33:58,806 client   5 @37.880 server is not responding, drawing spinners over the windows\r\n2022-01-06 16:33:59,977 client   5 @38.592 UI thread is now blocked\r\n2022-01-06 16:34:00,450 client   5 @39.568 UI thread is running again, resuming\r\n2022-01-06 16:34:01,297 client   5 @40.491 server is OK again\r\n2022-01-06 16:34:04,358 client   5 @43.347 server is not responding, drawing spinners over the windows\r\n2022-01-06 16:34:05,110 client   5 @44.339 UI thread is now blocked\r\n2022-01-06 16:34:05,207 client   5 @44.436 UI thread is running again, resuming\r\n2022-01-06 16:34:07,630 client   5 @46.868 UI thread is now blocked\r\n2022-01-06 16:34:07,855 client   5 @47.095 UI thread is running again, resuming\r\n2022-01-06 16:34:09,272 client   5 @48.403 UI thread is now blocked\r\n2022-01-06 16:34:09,408 client   5 @48.636 server is OK again\r\n2022-01-06 16:34:09,408 client   5 @48.647 UI thread is running again, resuming\r\n2022-01-06 16:34:10,494 client   5 @49.696 Error drawing on window 46\r\n2022-01-06 16:34:10,592 client   5 @49.696   File \"E:/xpra/xpra/client/mixins/window_manager.py\", line 1470, in _do_draw\r\n2022-01-06 16:34:10,592 client   5 @49.696   File \"E:/xpra/xpra/client/client_window_base.py\", line 742, in draw_region\r\n2022-01-06 16:34:10,593 client   5 @49.696   File \"E:/xpra/xpra/client/window_backing_base.py\", line 718, in draw_region\r\n2022-01-06 16:34:10,593 client   5 @49.696   File \"E:/xpra/xpra/client/window_backing_base.py\", line 366, in paint_image\r\n2022-01-06 16:34:10,593 client   5 @49.696   File \"E:/xpra/xpra/codecs/pillow/decoder.py\", line 112, in decompress\r\n2022-01-06 16:34:10,593 client   5 @49.696   File \"C:/msys64/mingw64/lib/python3.9/site-packages/PIL/Image.py\", line 3009, in open\r\n2022-01-06 16:34:10,593 client   5 @49.696   File \"C:/msys64/mingw64/lib/python3.9/site-packages/PIL/Image.py\", line 2996, in _open_core\r\n2022-01-06 16:34:10,593 client   5 @49.696   File \"C:/msys64/mingw64/lib/python3.9/site-packages/PIL/Image.py\", line 2905, in _decompression_bomb_check\r\n2022-01-06 16:34:10,593 client   5 @49.696 DecompressionBombError: Image size (268435456 pixels) exceeds limit of 178956970 pixels, could be decompression bomb DOS attack.\r\n2022-01-06 16:34:10,594 client   5 @49.742 Error 'Image size (268435456 pixels) exceeds limit of 178956970 pixels, could be decompression bomb DOS attack.' processing draw packet2022-01-06 16:34:10,594 client   5 @49.742   File \"E:/xpra/xpra/client/mixins/window_manager.py\", line 1401, in _draw_thread_loop\r\n2022-01-06 16:34:10,594 client   5 @49.742   File \"E:/xpra/xpra/client/mixins/window_manager.py\", line 1470, in _do_draw\r\n2022-01-06 16:34:10,594 client   5 @49.742   File \"E:/xpra/xpra/client/client_window_base.py\", line 742, in draw_region\r\n2022-01-06 16:34:10,594 client   5 @49.742   File \"E:/xpra/xpra/client/window_backing_base.py\", line 718, in draw_region\r\n2022-01-06 16:34:10,594 client   5 @49.742   File \"E:/xpra/xpra/client/window_backing_base.py\", line 366, in paint_image\r\n2022-01-06 16:34:10,594 client   5 @49.742   File \"E:/xpra/xpra/codecs/pillow/decoder.py\", line 112, in decompress\r\n2022-01-06 16:34:10,594 client   5 @49.742   File \"C:/msys64/mingw64/lib/python3.9/site-packages/PIL/Image.py\", line 3009, in open\r\n2022-01-06 16:34:10,689 client   5 @49.742   File \"C:/msys64/mingw64/lib/python3.9/site-packages/PIL/Image.py\", line 2996, in _open_core\r\n2022-01-06 16:34:10,689 client   5 @49.742   File \"C:/msys64/mingw64/lib/python3.9/site-packages/PIL/Image.py\", line 2905, in _decompression_bomb_check\r\n2022-01-06 16:34:10,689 client   5 @49.742 DecompressionBombError: Image size (268435456 pixels) exceeds limit of 178956970 pixels, could be decompression bomb DOS attack.\r\n2022-01-06 16:34:10,838 Warning: client decoding error:\r\n2022-01-06 16:34:10,838  Image size (268435456 pixels) exceeds limit of 178956970 pixels, could be decompression bomb DOS attack.\r\n2022-01-06 16:34:11,585 client   5 @50.786 server is not responding, drawing spinners over the windows\r\n2022-01-06 16:34:12,211 client   5 @51.434 UI thread is now blocked\r\n2022-01-06 16:34:12,359 client   5 @51.521 server is OK again\r\n2022-01-06 16:34:12,367 client   5 @51.522 UI thread is running again, resuming\r\n2022-01-06 16:34:16,595 client   5 @55.790 server is not responding, drawing spinners over the windows\r\n2022-01-06 16:34:18,744 client   5 @56.772 server is OK again\r\n2022-01-06 16:34:23,454 client   5 @00.798 server is not responding, drawing spinners over the windows\r\n2022-01-06 16:34:25,245 client   5 @04.217 UI thread is now blocked\r\n2022-01-06 16:34:33,001 client   5 @12.045 server is not responding, drawing spinners over the windows\r\n2022-01-06 16:34:33,002 client   5 @12.084 UI thread is running again, resuming\r\n/usr/lib/python3/dist-packages/gi/overrides/Gtk.py:1632: Warning: g_object_ref: assertion 'G_IS_OBJECT (object)' failed\r\n  return _Gtk_main(*args, **kwargs)\r\n/usr/lib/python3/dist-packages/gi/overrides/Gtk.py:1632: Warning: g_object_ref: assertion 'G_IS_OBJECT (object)' failed\r\n  return _Gtk_main(*args, **kwargs)\r\n/usr/lib/python3/dist-packages/gi/overrides/Gtk.py:1632: Warning: g_object_ref: assertion 'G_IS_OBJECT (object)' failed\r\n  return _Gtk_main(*args, **kwargs)\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/server_base.py\", line 895, in call_handler\r\n    handler(proto, packet)\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/server.py\", line 1024, in _process_configure_window\r\n    self._set_client_properties(proto, wid, window, cprops)\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/server.py\", line 1125, in _set_client_properties\r\n    super()._set_client_properties(proto, wid, window, new_client_properties)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/server_base.py\", line 679, in _set_client_properties\r\n    ss.set_client_properties(wid, window, typedict(new_client_properties))\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/source/windows_mixin.py\", line 532, in set_client_properties\r\n    ws.set_client_properties(new_client_properties)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_source.py\", line 715, in set_client_properties\r\n    self.do_set_client_properties(properties)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 415, in do_set_client_properties\r\n    super().do_set_client_properties(properties)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_source.py\", line 738, in do_set_client_properties\r\n    self.update_encoding_selection(self.encoding)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 404, in update_encoding_selection\r\n    super().update_encoding_selection(encoding, exclude, init)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_source.py\", line 847, in update_encoding_selection\r\n    self.update_encoding_options()\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 1078, in update_encoding_options\r\n    self.check_pipeline_score(force_reload)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 1150, in check_pipeline_score\r\n    scores = self.get_video_pipeline_options(eval_encodings, w, h, self.pixel_format, force_reload)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 1309, in get_video_pipeline_options\r\n    add_scores(\"via %s\" % out_csc, csc_spec, out_csc)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 1279, in add_scores\r\n    scaling = self.calculate_scaling(width, height, max_w, max_h)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 1401, in calculate_scaling\r\n    scaling = get_min_required_scaling()\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py\", line 1377, in get_min_required_scaling\r\n    raise Exception(\"BUG: failed to find a scaling value for window size %sx%s\" % (width, height))\r\nException: BUG: failed to find a scaling value for window size 16384x16384\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\n```\r\nsystemd-run --user --unit=xpra-20 -- choom -n 800 -- xpra start --daemon=no --sharing=yes --sound=yes --bind-tcp=127.1.56.22:39393 :20\r\n```\r\n2. client command\r\n```\r\n# loop-back binding is manually created over SSH; \r\n# the problem also manifested over SSH when a pipe was created for display 10 pointing to the corresponding TCP socket\r\nxpra attach tcp://127.1.56.22:39393\r\nxpra attach ssh://user@host/10\r\n```\r\n3. specific action to trigger the bug\r\n\r\nRun ~10 Firefox windows and ~3 Thunderbird windows in the same session.  Re-connect to the session.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: `Ubuntu 20.04` arm64\r\n - Client OS: `Windows 10`; `Windows 11`\r\n - Xpra Server Version `4.3-r30545`\r\n - Xpra Client Version `4.2.3-r3 64-bit`\r\n\r\n**Additional context**\r\nThis isn't something that I can reproduce consistently, but it appears to be aggrevated when there are more windows in a session.\r\n\r\nClient is in a High-DPI environment with scaling set to \"125%\".\r\n\r\nThe windows that are incorrectly sized are \"appropriately\" sized before the previous disconnection (i.e. set to something \"reasonable\" and usable on a 1920x1080 screen).", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3517/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3517/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3516", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3516/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3516/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3516/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3516", "id": 1199390369, "node_id": "I_kwDOE8kGxM5HfT6h", "number": 3516, "title": "continuously logging \"Warning: client decoding error:  window 1 not found\"", "user": {"login": "open-contracts", "id": 90533597, "node_id": "MDQ6VXNlcjkwNTMzNTk3", "avatar_url": "https://avatars.githubusercontent.com/u/90533597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/open-contracts", "html_url": "https://github.com/open-contracts", "followers_url": "https://api.github.com/users/open-contracts/followers", "following_url": "https://api.github.com/users/open-contracts/following{/other_user}", "gists_url": "https://api.github.com/users/open-contracts/gists{/gist_id}", "starred_url": "https://api.github.com/users/open-contracts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/open-contracts/subscriptions", "organizations_url": "https://api.github.com/users/open-contracts/orgs", "repos_url": "https://api.github.com/users/open-contracts/repos", "events_url": "https://api.github.com/users/open-contracts/events{/privacy}", "received_events_url": "https://api.github.com/users/open-contracts/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-04-11T04:53:54Z", "updated_at": "2022-04-26T21:07:26Z", "closed_at": "2022-04-26T12:02:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nOnce the html5 client connects to the xpra server, the server continuously logs \"Warning: client decoding error:  window 1 not found\" 10-30x per second to the console. The rate seems to be a bit slower at first (4-5x per second) and accelerate once the client first interacts with the server. After a short time, the session becomes really unresponsive/slow, and eventually the server displays a \"bandwidth issue\" popup to the client.\r\n\r\nNot sure if these things are related, but I they didn't happen a while ago (at least the bandwidth issue), although I can't point to a specific change that could have caused it.\r\n\r\nAny idea what could be going on?\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\n```\r\nXPRA_ENCRYPTED_SOCKET_TYPES=ws xpra start :0 --daemon=no --exit-with-children --start-child='chromium --no-sandbox --no-first-run --kiosk' --bind-ws=127.0.0.1:8080,encryption=AES,encryption-keyfile=key.txt\r\n```\r\n3. client: html5 client, default settings\r\n\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu \r\n - Client OS: Browser\r\n - Xpra Server Version: xpra v4.4-r31005\r\n - Xpra Client Version: copied from html5 client repo on February 23rd\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3516/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3516/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3513", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3513/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3513/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3513/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3513", "id": 1190901491, "node_id": "I_kwDOE8kGxM5G-7bz", "number": 3513, "title": "xpra attach IP:DISPLAY fails", "user": {"login": "mviereck", "id": 14821372, "node_id": "MDQ6VXNlcjE0ODIxMzcy", "avatar_url": "https://avatars.githubusercontent.com/u/14821372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mviereck", "html_url": "https://github.com/mviereck", "followers_url": "https://api.github.com/users/mviereck/followers", "following_url": "https://api.github.com/users/mviereck/following{/other_user}", "gists_url": "https://api.github.com/users/mviereck/gists{/gist_id}", "starred_url": "https://api.github.com/users/mviereck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mviereck/subscriptions", "organizations_url": "https://api.github.com/users/mviereck/orgs", "repos_url": "https://api.github.com/users/mviereck/repos", "events_url": "https://api.github.com/users/mviereck/events{/privacy}", "received_events_url": "https://api.github.com/users/mviereck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709857, "node_id": "MDU6TGFiZWwyNjc4NzA5ODU3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-04-03T11:24:30Z", "updated_at": "2022-04-03T13:01:55Z", "closed_at": "2022-04-03T12:51:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use xpra to attach to an already running X server.\r\nIf I use a display number with an IP address, the `xpra start --use-display` command succeeds, but the `xpra attach` command fails with:\r\n```\r\nxpra initialization error:\r\n unknown format for display name: 172.20.0.4:123\r\n```\r\nxpra v4.3.2-r0 on debian bullseye.\r\n\r\nThis is no important use case for me, just stumbled about this.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3513/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3509", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3509/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3509/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3509/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3509", "id": 1186971367, "node_id": "I_kwDOE8kGxM5Gv77n", "number": 3509, "title": "deque mutated during iteration", "user": {"login": "normanr", "id": 14849, "node_id": "MDQ6VXNlcjE0ODQ5", "avatar_url": "https://avatars.githubusercontent.com/u/14849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/normanr", "html_url": "https://github.com/normanr", "followers_url": "https://api.github.com/users/normanr/followers", "following_url": "https://api.github.com/users/normanr/following{/other_user}", "gists_url": "https://api.github.com/users/normanr/gists{/gist_id}", "starred_url": "https://api.github.com/users/normanr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/normanr/subscriptions", "organizations_url": "https://api.github.com/users/normanr/orgs", "repos_url": "https://api.github.com/users/normanr/repos", "events_url": "https://api.github.com/users/normanr/events{/privacy}", "received_events_url": "https://api.github.com/users/normanr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-03-30T20:47:24Z", "updated_at": "2022-04-03T13:34:47Z", "closed_at": "2022-04-03T13:34:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nxpra crashed. The last entry in the log was:\r\n```\r\nError: cannot add information from <class 'xpra.server.source.windows_mixin.WindowsMixin'>:\r\n deque mutated during iteration\r\n```\r\nThere was no log entry for merge_dicts, so no exc_info sorry.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. couldn't reproduce, happened during startup of Chrome (but I've started Chrome fine many times before too).\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian testing\r\n - Client OS: Debian testing\r\n - Xpra Server Version 4.3.1-r0 (4.3.2-r0 was installed, but the running xpra was not yet upgraded)\r\n - Xpra Client Version 4.3.2-r0\r\n\r\n**Additional context**\r\nSorry I can't be of more help in reproducing.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3509/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3509/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3508", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3508/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3508/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3508/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3508", "id": 1186696363, "node_id": "I_kwDOE8kGxM5Gu4yr", "number": 3508, "title": "Connection refused from local tty, works over remote ssh", "user": {"login": "jrichardson97", "id": 29694877, "node_id": "MDQ6VXNlcjI5Njk0ODc3", "avatar_url": "https://avatars.githubusercontent.com/u/29694877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrichardson97", "html_url": "https://github.com/jrichardson97", "followers_url": "https://api.github.com/users/jrichardson97/followers", "following_url": "https://api.github.com/users/jrichardson97/following{/other_user}", "gists_url": "https://api.github.com/users/jrichardson97/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrichardson97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrichardson97/subscriptions", "organizations_url": "https://api.github.com/users/jrichardson97/orgs", "repos_url": "https://api.github.com/users/jrichardson97/repos", "events_url": "https://api.github.com/users/jrichardson97/events{/privacy}", "received_events_url": "https://api.github.com/users/jrichardson97/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709860, "node_id": "MDU6TGFiZWwyNjc4NzA5ODYw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-03-30T16:19:02Z", "updated_at": "2022-04-03T13:35:12Z", "closed_at": "2022-04-03T13:35:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've been trying to setup xpra for remoting into a work computer. My idea was to setup my .xinitrc to launch i3wm as an xpra session and be able to connect from tty locally or over ssh with a Windows 10 laptop remotely. \r\n\r\nI launched the xpra session with `xpra start-desktop :20 start=i3 resize-display=1920x1080` and am able to connect from my laptop with `Xpra_cmd.exe attach ssh://user@ip/20` which works fine. When I try to login from a different tty on my work computer though I get the following error:\r\n```\r\nUnable to init server: Could not connect: Connection refused\r\nUnable to init server: Could not connect: Connection refused\r\nUnable to init server: Could not connect: Connection refused\r\nfailed to initialize Gtk, no display?\r\n```\r\n\r\nDoes this have something to do with xorg.conf? My laptop only has a single monitor but I have a custom xorg.conf from my work monitors (3 monitors configured with NVIDIA). Not sure how to debug this otherwise. Ideally, I'd be able to adapt the display based on which computer is connected too (ie, only have one i3wm workspace when connected with laptop but have 3 when connected with desktop). ", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3508/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3506", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3506/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3506/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3506/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3506", "id": 1186435822, "node_id": "I_kwDOE8kGxM5Gt5Lu", "number": 3506, "title": "Windows do not get keyboard focus in some cases", "user": {"login": "Vftdan", "id": 9785382, "node_id": "MDQ6VXNlcjk3ODUzODI=", "avatar_url": "https://avatars.githubusercontent.com/u/9785382?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vftdan", "html_url": "https://github.com/Vftdan", "followers_url": "https://api.github.com/users/Vftdan/followers", "following_url": "https://api.github.com/users/Vftdan/following{/other_user}", "gists_url": "https://api.github.com/users/Vftdan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vftdan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vftdan/subscriptions", "organizations_url": "https://api.github.com/users/Vftdan/orgs", "repos_url": "https://api.github.com/users/Vftdan/repos", "events_url": "https://api.github.com/users/Vftdan/events{/privacy}", "received_events_url": "https://api.github.com/users/Vftdan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709860, "node_id": "MDU6TGFiZWwyNjc4NzA5ODYw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-30T13:07:49Z", "updated_at": "2022-04-03T13:35:21Z", "closed_at": "2022-04-03T13:35:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nJetbrains IDEs do not start reacting to keyboard input (& do not show text cursor) when their window is focused, until they are clicked with mouse.\r\nDmenu & rofi only receive keyboard input when there are no windows on the current workspace (and sometimes also require mouse click), when there are windows they get the typed text instead. (Normally dmenu & rofi grab the keyboard.)\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command: `xpra start :11 --start='tmux new -Ads xpra-11' --xsettings=yes`\r\n2. client command: `xpra attach`\r\n3. specific action to trigger the bug: open some windows on the current desktop, attach to xpra session, attach to tmux session, run `dmenu_run` or `rofi -show drun` \u2014 menu is shown, but input is sent to regular non-xpra windows\r\n4. specific action to trigger the bug: open Jetbrains IDE inside xpra session (in my case `WebStorm2021.3`, with IdeaVIM plugin), type some text into it, switch to non-xpra window, switch back \u2014 IDE does not react to keyboard\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Linux Mint 19 Tara x86_64\r\n - Client OS: Linux Mint 19 Tara x86_64\r\n - Xpra Server Version 4.1.3\r\n - Xpra Client Version 4.1.3\r\n\r\n**Additional context**\r\nKeyboard layout: [xkbcomp](https://github.com/Vftdan/dotfiles/blob/master/extra/xkb/my)\r\nInput method: `uim-xim`\r\nWindow manager: `bspwm`\r\nHotkey manager: `sxhkd`\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3506/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3506/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3505", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3505/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3505/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3505/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3505", "id": 1185510264, "node_id": "I_kwDOE8kGxM5GqXN4", "number": 3505, "title": "XDG_DATA_DIR reset to default", "user": {"login": "jhgoebbert", "id": 9266792, "node_id": "MDQ6VXNlcjkyNjY3OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/9266792?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhgoebbert", "html_url": "https://github.com/jhgoebbert", "followers_url": "https://api.github.com/users/jhgoebbert/followers", "following_url": "https://api.github.com/users/jhgoebbert/following{/other_user}", "gists_url": "https://api.github.com/users/jhgoebbert/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhgoebbert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhgoebbert/subscriptions", "organizations_url": "https://api.github.com/users/jhgoebbert/orgs", "repos_url": "https://api.github.com/users/jhgoebbert/repos", "events_url": "https://api.github.com/users/jhgoebbert/events{/privacy}", "received_events_url": "https://api.github.com/users/jhgoebbert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-29T22:32:01Z", "updated_at": "2022-03-30T14:15:41Z", "closed_at": "2022-03-30T06:35:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "--- introduction ---\r\nWe are setting the the following environment variables before we start xpra.\r\n- XDG_MENU_PREFIX=jsc-\r\n- XDG_CONFIG_DIRS=<mypath>/config:...\r\n- XDG_DATA_DIRS=<mypath>/data:...\r\n\r\nThat allows us to set the application-menu specific to the situation. It was working in the past with xpra 4.0.4.\r\nBut with xpra 4.3.2 this is now not working anymore because XDG_DATA_DIRS were reset to the system default.\r\n\r\n--- tracking the bug ---\r\nI figured that the reason for this redefinition of XDG_DATA_DIRS comes from the line\r\n```\r\nos.environ.update(source_env(opts.source))\r\n```\r\nin server.py:940\r\nhttps://github.com/Xpra-org/xpra/blob/v4.3.2/xpra/scripts/server.py#L940\r\n\r\nBefore that line XDG_DATA_DIRS is defined as desired to a list of directories including `<mypath>/data`\r\nBut after that line it is cleaned and set to `/usr/local/share:/usr/share` only.\r\n\r\nThe reason seems to me that `opts.source` is set to `/etc/profile` and \r\n```\r\nsource_env('/etc/profile') \r\n```\r\nfrom https://github.com/Xpra-org/xpra/blob/v4.3.2/xpra/server/server_util.py#L25\r\ncalls\r\n```\r\ne = env_from_sourcing(['/etc/profile'])\r\n```\r\nwhich overwrites environment settings by loading `/etc/profile` and passing them to `os.environ.update`\r\n\r\n--- expected behaviour ---\r\nThe expected behaviour for me would be that xpra respects the current XDG_* environment variables without overwriting them by reloading the environment from `/etc/profile`. This leads to failure when setting up the Xpra-menu as data entries cannot be found.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3505/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3503", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3503/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3503/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3503/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3503", "id": 1181269438, "node_id": "I_kwDOE8kGxM5GaL2-", "number": 3503, "title": "Server hangs in `XSync()`", "user": {"login": "mdavidsaver", "id": 4429215, "node_id": "MDQ6VXNlcjQ0MjkyMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4429215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mdavidsaver", "html_url": "https://github.com/mdavidsaver", "followers_url": "https://api.github.com/users/mdavidsaver/followers", "following_url": "https://api.github.com/users/mdavidsaver/following{/other_user}", "gists_url": "https://api.github.com/users/mdavidsaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/mdavidsaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mdavidsaver/subscriptions", "organizations_url": "https://api.github.com/users/mdavidsaver/orgs", "repos_url": "https://api.github.com/users/mdavidsaver/repos", "events_url": "https://api.github.com/users/mdavidsaver/events{/privacy}", "received_events_url": "https://api.github.com/users/mdavidsaver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-03-25T21:07:02Z", "updated_at": "2022-04-26T12:15:18Z", "closed_at": "2022-04-26T12:15:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI'm seeing instances of a server hanging in `XSync()`.  I don't yet have a useful stack trace with debug symbols.  What I have is attached below, and looks somewhat similar to #475.\r\n\r\n**To Reproduce**\r\n\r\ntbd.  I'm not yet sure how to trigger this issue.  I'm going to rebuild with debug information and wait for another occurance.  Other suggestions for troubleshooting are very welcomed.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian 11 / amd64\r\n - Client OS: html5\r\n - Xpra repo: 6cda08dfa9df0b0dedd2120e6190adb24d7e71a4\r\n - Xpra html5 repo: 3d65c16439904b9fc6f80068226cb83ceb92b9bc\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n\r\n[instance1.txt](https://github.com/Xpra-org/xpra/files/8353773/instance1.txt)\r\n[instance2.txt](https://github.com/Xpra-org/xpra/files/8353775/instance2.txt)\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3503/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3500", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3500/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3500/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3500/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3500", "id": 1180134774, "node_id": "I_kwDOE8kGxM5GV212", "number": 3500, "title": "'FakeClient' object has no attribute 'find_window'", "user": {"login": "sbradnick", "id": 84082961, "node_id": "MDQ6VXNlcjg0MDgyOTYx", "avatar_url": "https://avatars.githubusercontent.com/u/84082961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbradnick", "html_url": "https://github.com/sbradnick", "followers_url": "https://api.github.com/users/sbradnick/followers", "following_url": "https://api.github.com/users/sbradnick/following{/other_user}", "gists_url": "https://api.github.com/users/sbradnick/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbradnick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbradnick/subscriptions", "organizations_url": "https://api.github.com/users/sbradnick/orgs", "repos_url": "https://api.github.com/users/sbradnick/repos", "events_url": "https://api.github.com/users/sbradnick/events{/privacy}", "received_events_url": "https://api.github.com/users/sbradnick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-24T22:53:14Z", "updated_at": "2022-03-25T18:13:37Z", "closed_at": "2022-03-25T16:43:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nLooking @ [#3477](https://github.com/Xpra-org/xpra/issues/3477), I'm wondering if this is a similar oops or there's something wrong on my end.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. xpra start ssh://\\<user\\>@\\<host\\> --start=evolution\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: openSUSE Tumbleweed 20220322, aarch64\r\n - Client OS: openSUSE Tumbleweed 20220322, x86_64\r\n - Xpra Server Version ==> latest git\r\n - Xpra Client Version ==> latest git\r\n\r\n**Additional context**\r\nDidn't have this issue w/ 4.3.2 official release, but upon updating to latest git it popped up ~ everything seems to work fine aside from it seeming like openGL isn't happy at startup.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3500/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3500/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3499", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3499/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3499/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3499/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3499", "id": 1178416288, "node_id": "I_kwDOE8kGxM5GPTSg", "number": 3499, "title": "x264-xpra installation on CentOS 7 fails (GPG key not installed)", "user": {"login": "olifre", "id": 166759, "node_id": "MDQ6VXNlcjE2Njc1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/166759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olifre", "html_url": "https://github.com/olifre", "followers_url": "https://api.github.com/users/olifre/followers", "following_url": "https://api.github.com/users/olifre/following{/other_user}", "gists_url": "https://api.github.com/users/olifre/gists{/gist_id}", "starred_url": "https://api.github.com/users/olifre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olifre/subscriptions", "organizations_url": "https://api.github.com/users/olifre/orgs", "repos_url": "https://api.github.com/users/olifre/repos", "events_url": "https://api.github.com/users/olifre/events{/privacy}", "received_events_url": "https://api.github.com/users/olifre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-03-23T17:12:05Z", "updated_at": "2022-09-15T14:30:14Z", "closed_at": "2022-03-24T08:26:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nEven though the repository is added and the `gpgp.asc` is imported, package installation fails, claiming the key is not installed. \r\nNote this is new behaviour since <24 hours. \r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n```\r\nwget -O /etc/yum.repos.d/xpra.repo https://xpra.org/repos/CentOS/xpra.repo\r\nyum -y install x264-xpra\r\n...\r\nDownloading packages:\r\nwarning: /var/cache/yum/x86_64/7/xpra/packages/x264-xpra-20211215-1.el7.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID f18ad6bb: NOKEY\r\nRetrieving key from https://xpra.org/gpg.asc\r\nImporting GPG key 0x11BB7837:\r\n Userid     : \"Antoine Martin <antoine@nagafix.co.uk>\"\r\n Fingerprint: e32f 3184 d959 d5e4 6986 6ec8 ad30 6b2d 11bb 7837\r\n From       : https://xpra.org/gpg.asc\r\n\r\n\r\nPublic key for x264-xpra-20211215-1.el7.x86_64.rpm is not installed\r\n\r\n\r\n Failing package is: x264-xpra-20211215-1.el7.x86_64\r\n GPG Keys are configured as: https://xpra.org/gpg.asc\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - OS: `CentOS Linux release 7.9.2009 (Core)`\r\n\r\n**Additional context**\r\nThe issue can also be confirmed manually:\r\n```\r\nwget https://xpra.org/gpg.asc\r\nrpm --import gpg.asc\r\nwget https://xpra.org/dists/CentOS/7/x86_64/x264-xpra-20211215-1.el7.x86_64.rpm\r\nrpm -qpi x264-xpra-20211215-1.el7.x86_64.rpm \r\nwarning: x264-xpra-20211215-1.el7.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID f18ad6bb: NOKEY\r\n...\r\nSignature   : DSA/SHA1, Thu Jan 27 13:56:16 2022, Key ID 18adb31cf18ad6bb\r\n```\r\nHowever, the import seems to have gone well:\r\n```\r\nrpm -qa gpg-pubkey --qf '%{Description}'|gpg --with-fingerprint\r\n...\r\npub  1024D/11BB7837 2006-03-15 Antoine Martin <antoine@nagafix.co.uk>\r\n  Schl.-Fingerabdruck = E32F 3184 D959 D5E4 6986  6EC8 AD30 6B2D 11BB 7837\r\nsub  2048g/2E4D9F3F 2006-03-15 [verf\u00e4llt: 2007-03-15]\r\npub  1024D/F18AD6BB 2007-04-18 Antoine Martin <antoine@nagafix.co.uk>\r\n  Schl.-Fingerabdruck = C11C 0A4D F702 EDF6 C04F  458C 18AD B31C F18A D6BB\r\nuid                            [jpeg image of size 4992]\r\nsub  2048g/6E23E963 2007-04-18 [verf\u00e4llt: 2026-03-21]\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3494", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3494/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3494/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3494/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3494", "id": 1175521372, "node_id": "I_kwDOE8kGxM5GEQhc", "number": 3494, "title": "python3-lz4 is missing from the centos 8.5 repos", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-21T15:06:19Z", "updated_at": "2022-03-21T16:42:29Z", "closed_at": "2022-03-21T15:52:23Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "We can build centos8 packages again:\r\nhttps://github.com/Xpra-org/repo-build-scripts/commit/1cdde3b4f4f2b48f9491f7c6477c012d4338d74d\r\n\r\nBut it seems that `python3-lz4` was not added to the CentOS-8 package list for the new build system when it diverged from the Fedora one:\r\n\u200bhttps://github.com/Xpra-org/xpra/commit/168b849deb9e982f9b762634a8191889a796811e\r\nThe problem with python3-lz4 is that it requires a plethora of other packages to build.\r\n(with the old build system, those dependencies were hacked together)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3494/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3493", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3493/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3493/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3493/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3493", "id": 1175326141, "node_id": "I_kwDOE8kGxM5GDg29", "number": 3493, "title": "libexec dir should also be used for Debian based distributions", "user": {"login": "thkoch2001", "id": 94641, "node_id": "MDQ6VXNlcjk0NjQx", "avatar_url": "https://avatars.githubusercontent.com/u/94641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thkoch2001", "html_url": "https://github.com/thkoch2001", "followers_url": "https://api.github.com/users/thkoch2001/followers", "following_url": "https://api.github.com/users/thkoch2001/following{/other_user}", "gists_url": "https://api.github.com/users/thkoch2001/gists{/gist_id}", "starred_url": "https://api.github.com/users/thkoch2001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thkoch2001/subscriptions", "organizations_url": "https://api.github.com/users/thkoch2001/orgs", "repos_url": "https://api.github.com/users/thkoch2001/repos", "events_url": "https://api.github.com/users/thkoch2001/events{/privacy}", "received_events_url": "https://api.github.com/users/thkoch2001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-03-21T12:39:19Z", "updated_at": "2023-01-03T05:04:44Z", "closed_at": "2022-03-22T04:01:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I compared xpra's Debian package with my own attempt to update the Debian package to 4.3.2 and found these lintian overrides in xpra's package:\r\n\r\n```\r\nexecutable-in-usr-lib usr/lib/cups/backend/xpraforwarder\r\nexecutable-in-usr-lib usr/lib/xpra/auth_dialog\r\nexecutable-in-usr-lib usr/lib/xpra/gnome-open\r\nexecutable-in-usr-lib usr/lib/xpra/gvfs-open\r\nexecutable-in-usr-lib usr/lib/xpra/xdg-open\r\n```\r\n\r\nThese overrides were [added June 2021](https://github.com/Xpra-org/xpra/commit/2c9341105f8ede934f7d235453fb6fc4c9cb759f). However the [lintian tag explanation](https://lintian.debian.org/tags/executable-in-usr-lib) (today) says that it is actually preferred to move executables to libexec instead of lib. So the following logic in `setup.py` is now obsolete if I assume that the else branch is only for Debian based distributions:\r\n\r\n    if is_Fedora() or is_CentOS() or is_RedHat() or FREEBSD:\r\n        libexec = \"libexec\"\r\n    else:\r\n        libexec = \"lib\"\r\n\r\nDo you accept a PR to install these files to libexec for all posix distros?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3493/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3491", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3491/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3491/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3491/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3491", "id": 1174587018, "node_id": "I_kwDOE8kGxM5GAsaK", "number": 3491, "title": "xpra_udev_product_version is in /usr/bin but has no manpage", "user": {"login": "thkoch2001", "id": 94641, "node_id": "MDQ6VXNlcjk0NjQx", "avatar_url": "https://avatars.githubusercontent.com/u/94641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thkoch2001", "html_url": "https://github.com/thkoch2001", "followers_url": "https://api.github.com/users/thkoch2001/followers", "following_url": "https://api.github.com/users/thkoch2001/following{/other_user}", "gists_url": "https://api.github.com/users/thkoch2001/gists{/gist_id}", "starred_url": "https://api.github.com/users/thkoch2001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thkoch2001/subscriptions", "organizations_url": "https://api.github.com/users/thkoch2001/orgs", "repos_url": "https://api.github.com/users/thkoch2001/repos", "events_url": "https://api.github.com/users/thkoch2001/events{/privacy}", "received_events_url": "https://api.github.com/users/thkoch2001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-20T15:29:50Z", "updated_at": "2022-03-22T08:02:40Z", "closed_at": "2022-03-22T08:02:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The script xpra_udev_product_version gets installed to /usr/bin but has no manpage. Apparently this scripts should never be called directly by a user anyways but only by udev.\r\n\r\nWould you be OK to merge a PR to setup.py and the udev files to move xpra_udev_product_version to /usr/lib/xpra?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3491/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3489", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3489/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3489/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3489/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3489", "id": 1174584392, "node_id": "I_kwDOE8kGxM5GArxI", "number": 3489, "title": "gvfs_open, gnome_open contain Bashisms", "user": {"login": "thkoch2001", "id": 94641, "node_id": "MDQ6VXNlcjk0NjQx", "avatar_url": "https://avatars.githubusercontent.com/u/94641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thkoch2001", "html_url": "https://github.com/thkoch2001", "followers_url": "https://api.github.com/users/thkoch2001/followers", "following_url": "https://api.github.com/users/thkoch2001/following{/other_user}", "gists_url": "https://api.github.com/users/thkoch2001/gists{/gist_id}", "starred_url": "https://api.github.com/users/thkoch2001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thkoch2001/subscriptions", "organizations_url": "https://api.github.com/users/thkoch2001/orgs", "repos_url": "https://api.github.com/users/thkoch2001/repos", "events_url": "https://api.github.com/users/thkoch2001/events{/privacy}", "received_events_url": "https://api.github.com/users/thkoch2001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-20T15:20:55Z", "updated_at": "2022-03-21T05:25:02Z", "closed_at": "2022-03-21T05:24:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The Debian tool lintian complains, that the shell scripts gvfs-open and gnome-open contain BASH-specific functionality but declare a generic shebang (/bin/sh):\r\n\r\n```\r\n#!/bin/sh\r\n\r\nDIR=\"$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" && pwd )\"\r\nexec $DIR/xdg-open \"$@\"\r\n```\r\n\r\nThese two scripts apparently don't do anything else but to redirect their call to xdg-open in the same folder. Additionally, these scripts only get installed on Linux and FreeBSD according to setup.py. Both platforms (not sure on BSD) support symlinks. Would you mind replacing gnome-open and gvfs-open with relative symlinks to xdg-open?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3489/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3489/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3482", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3482/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3482/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3482/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3482", "id": 1160669228, "node_id": "I_kwDOE8kGxM5FLmgs", "number": 3482, "title": "\"server requested 'xor' digest, cowardly refusing to use it without encryption\" when using ssh with Windows server Linux client", "user": {"login": "bdklahn", "id": 920400, "node_id": "MDQ6VXNlcjkyMDQwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/920400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bdklahn", "html_url": "https://github.com/bdklahn", "followers_url": "https://api.github.com/users/bdklahn/followers", "following_url": "https://api.github.com/users/bdklahn/following{/other_user}", "gists_url": "https://api.github.com/users/bdklahn/gists{/gist_id}", "starred_url": "https://api.github.com/users/bdklahn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bdklahn/subscriptions", "organizations_url": "https://api.github.com/users/bdklahn/orgs", "repos_url": "https://api.github.com/users/bdklahn/repos", "events_url": "https://api.github.com/users/bdklahn/events{/privacy}", "received_events_url": "https://api.github.com/users/bdklahn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-03-06T17:32:41Z", "updated_at": "2022-04-03T14:02:17Z", "closed_at": "2022-04-03T14:02:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I did find a reference to one of these messages in an old Track thread: wasn't helpful here.\r\n\r\nIt looks like I can connect to the served remote lan ip, locally. It asks for the (I assume ssh) password, which apparently is my Windows login password (Ah . . . but maybe that \"Connect\" isn't using ssh url I see in the connection's dropdown menu)\r\n\r\nSo does the Windows 64 package not understand \"[. . .authentication can be skipped . . .](https://github.com/Xpra-org/xpra/blob/master/docs/Usage/Authentication.md)\", when using ssh? I.e., it's serving an ssh url. It's receiving a connection from an ssh client. So it should be able to easily know there's encryption, right? I guess that is paramiko implementing the ssh server stuff?\r\nOn the Linux client . . .\r\n```bash\r\n2022-03-06 11:57:54,155 Connected (version 2.0, client paramiko_2.8.0)\r\n2022-03-06 11:57:54,246 Authentication (none) successful!\r\n```\r\nThere I'm just passing in the username and password with the ssh url on the CLI, just for testing.\r\n\r\nThere doesn't appear to be a way to set the `-d auth`, or whatever on the Windows server, via the Windows Xpra GUI (WinSwitch???).\r\n\r\nI did the \"Shadow\" one, because that seems to be the only interface designed to start the local server, for remote access. The \"Start\" interface seemed to only enable starting localhost for local access, or starting a remote Xpra server, for attaching to.\r\n\r\nAlso . . . I didn't see a(n obvious) way to shutdown a server. And when I close the GUI program, the previous server processes are still there after I re-start it. That design seems to encourage orphan processes.\r\n\r\nMaybe I just couldn't find the right place/way. It was hard to see some things with the GUI. It looks like it hasn't been updated to work with current Windows versions, on the common high-res screens (icon widgets very small, rendered widgets very large).\r\n\r\nBut those last things, of course, are separate issues.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3482/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3482/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3481", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3481/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3481/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3481/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3481", "id": 1160616060, "node_id": "I_kwDOE8kGxM5FLZh8", "number": 3481, "title": "create new Modeline: desktop does not use size requested", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-03-06T13:50:54Z", "updated_at": "2022-04-26T12:16:12Z", "closed_at": "2022-04-26T12:16:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've added a new Modeline generated with `gtf` to `/etc/xpra/xorg.conf` which gives me a slightly larger, effectively full screen desktop which allows for the window title bar. On f35, I can use `xrandr` to set this value, and it will stay there a while, but at some evidently random point, it will revert on its own to a smaller size. On Centos8, I cannot set the mode at all: It bounces momentarily into the mode and immediately comes right back out. In neither server case will it start in the mode I request.\r\n\r\n**To Reproduce**\r\n1. add Modeline to xorg.conf:\r\n```\r\ndiff -u /etc/xpra/xorg.conf~ /etc/xpra/xorg.conf\r\n--- /etc/xpra/xorg.conf~\t2022-03-05 07:23:25.637259447 -0500\r\n+++ /etc/xpra/xorg.conf\t2022-03-05 07:23:32.372243360 -0500\r\n@@ -38,6 +38,7 @@\r\n   # gtf:\r\n   # http://gtf.sourceforge.net/\r\n \r\n+  Modeline \"1920x1058\"  169.24  1920 2040 2248 2576  1058 1059 1062 1095  -hsync +vsync\r\n   #This can be used to get a specific DPI, but only for the default resolution:\r\n   #DisplaySize 508 317\r\n   #NOTE: the highest modes will not work without increasing the VideoRam\r\n```\r\n2. `xpra start-desktop :27 --start-child=vgnome --attach=no --resize-display=1920x1058`\r\n3. `xpra attach :27 --border=red,1`\r\n4. `xdpyinfo | grep dim` \u2192 desktop is 1856x1024, not what I requested\r\n5. `xrandr --output default --mode 1920x1058`\r\n6. display changes to this new size, but does not stay there.\r\n7. repeated use of `xrandr` and `xdpyinfo` does not get any persistent change.\r\n\r\n**System Information (please complete the following information):**\r\n - server f35 + 4.4-r31050 (g62ea56828) or c8 + 4.4-r30890 (g95b2a864e)\r\n - client f35 + 4.4-r31050 (g62ea56828)\r\n\r\n**Additional context**\r\nOn Centos8.\r\n\r\n/run/user/45512/xpra/27/cmdline \r\n```\r\n/usr/bin/xpra\r\nstart-desktop\r\n:27\r\n--resize-display=1920x1058\r\n--splash=no\r\n--video-encoders=all\r\n--start-child=vgnome\r\n--env=XPRA_PROXY_START_UUID=ba50e30448d64ca3823040ae8d302888\r\n--daemon=yes\r\n--systemd-run=no\r\n```\r\n\r\n/run/user/45512/xpra/27/config\r\n```\r\n# xpra server 4.4\r\n\r\nmode=start-desktop\r\nresize-display=1920x1058\r\nsplash=no\r\nvideo-encoders=x264\r\nvideo-encoders=vpx\r\nvideo-encoders=nvenc\r\nvideo-encoders=ffmpeg\r\nvideo-encoders=nvjpeg\r\nvideo-encoders=jpeg\r\nvideo-encoders=webp\r\nstart-child=vgnome\r\nenv=XPRA_MIN_PING_TIMEOUT=4\r\nenv=XPRA_PROXY_START_UUID=ba50e30448d64ca3823040ae8d302888\r\n```\r\n\r\nNo ongoing output in server.log.\r\nEvery time `xrandr` is attempted, Xorg.log says:\r\n```\r\n[2820317.403] (II) DUMMY(0): mm(dpi 96x96)=508x279\r\n[2820318.269] (II) DUMMY(0): mm(dpi 96x96)=491x270\r\n```\r\n20sec demo on Centos8:\r\nhttps://user-images.githubusercontent.com/7548920/156926040-f4edeea9-7a86-4ea9-bdd4-31a89294cc4b.mp4\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3481/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3481/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3480", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3480/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3480/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3480/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3480", "id": 1155646857, "node_id": "I_kwDOE8kGxM5E4cWJ", "number": 3480, "title": "NoneType has no attr close", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-01T18:04:50Z", "updated_at": "2022-03-02T02:46:38Z", "closed_at": "2022-03-02T02:46:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nStart an xpra server with just a terminal. Start any app from the terminal that opens its own window -- I suggest xload, xclock, or oclock. Close the app. xpra client complains:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/client/client_base.py\", line 1113, in call_handler\r\n    handler(packet)\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/client/mixins/window_manager.py\", line 1175, in _process_lost_window\r\n    self.destroy_window(wid, window)\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/client/gtk_base/gtk_client_base.py\", line 1385, in destroy_window\r\n    WindowClient.destroy_window(self, wid, window)\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/client/mixins/window_manager.py\", line 1210, in destroy_window\r\n    self.kill_signalwatcher(signalwatcher)\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/client/mixins/window_manager.py\", line 1224, in kill_signalwatcher\r\n    noerr(proc.stderr.close)\r\nAttributeError: 'NoneType' object has no attribute 'close'\r\n```\r\n**To Reproduce**\r\n1. any server, any client\r\n2. open an app with its own window\r\n3. close the app\r\n\r\n**System Information (please complete the following information):**\r\nf35 + 4.4-r31041 at both ends", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3480/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3480/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3479", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3479/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3479/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3479/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3479", "id": 1155330103, "node_id": "I_kwDOE8kGxM5E3PA3", "number": 3479, "title": "yet another probe error", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-01T13:17:04Z", "updated_at": "2022-03-01T15:24:12Z", "closed_at": "2022-03-01T15:24:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nJust upgraded to 4.4-r31041 (g3f9cf7a94). Now every time I connect to any xpra server, I get another generic probe error.\r\n\r\n![screenshot1](https://user-images.githubusercontent.com/7548920/156174465-80d4e031-1fe8-4dc5-8b0b-fdabbedbb8b2.png)\r\n\r\nNo indications in client startup messages about what aspect of probe failed: \r\n[minor.txt](https://github.com/Xpra-org/xpra/files/8161815/minor.txt)\r\n\r\n**To Reproduce**\r\n1. `xpra start ssh://minor/73 --start-child=vterm --attach=no`\r\n2. `xpra attach ssh://minor/73 --border=turquoise,1`\r\n3. get error.\r\n\r\n**System Information (please complete the following information):**\r\nf35 + 4.4-r31041 everywhere.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3479/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3478", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3478/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3478/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3478/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3478", "id": 1154467356, "node_id": "I_kwDOE8kGxM5Ez8Yc", "number": 3478, "title": "Significant delay when closing any app window/dialog which was started with Wine ", "user": {"login": "vrzh", "id": 79968074, "node_id": "MDQ6VXNlcjc5OTY4MDc0", "avatar_url": "https://avatars.githubusercontent.com/u/79968074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrzh", "html_url": "https://github.com/vrzh", "followers_url": "https://api.github.com/users/vrzh/followers", "following_url": "https://api.github.com/users/vrzh/following{/other_user}", "gists_url": "https://api.github.com/users/vrzh/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrzh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrzh/subscriptions", "organizations_url": "https://api.github.com/users/vrzh/orgs", "repos_url": "https://api.github.com/users/vrzh/repos", "events_url": "https://api.github.com/users/vrzh/events{/privacy}", "received_events_url": "https://api.github.com/users/vrzh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-02-28T19:30:56Z", "updated_at": "2022-10-13T09:34:07Z", "closed_at": "2022-10-13T09:34:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen using the built-in window manager in Xpra and launching an application under [Wine](https://www.winehq.org/), there is a significant delay (for me it is around 3 seconds) when closing any window or dialog box.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command `xpra start --daemon=no --start=winecfg`\r\n2. client command `xpra attach`\r\n3. specific action to trigger the bug\r\n\r\n`winecfg` is a built-in configuration app which comes with Wine, but the issue can be reproduced with any app running under Wine. To reproduce (when `winecfg` loads), click \"Add application...\" to open up a dialog box, then click \"Cancel\". There will be a delay of approximately 3 seconds before the dialog box closes and on the server console, a Wine log message will be printed:\r\n\r\n```\r\n0104:fixme:event:wait_for_withdrawn_state window 0x2007c/1800006 wait timed out\r\n```\r\n\r\nThis issue does not happen if I use another window manager, e.g. Openbox. But, I would really prefer to use the built-in window manager of Xpra.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 20.04\r\n - Client OS: Ubuntu 20.04 (same machine)\r\n - Xpra Server Version xpra v4.4-r31013 (g4e0fec250)\r\n - Xpra Client Version xpra v4.4-r31013 (g4e0fec250) (same machine)\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3478/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3478/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3477", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3477/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3477/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3477/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3477", "id": 1154435756, "node_id": "I_kwDOE8kGxM5Ez0qs", "number": 3477, "title": "\"FakeClient has no attr wheel_smooth\"", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-28T18:54:15Z", "updated_at": "2022-03-01T02:20:21Z", "closed_at": "2022-03-01T02:20:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nAttaching to an existing xpra server gives me this diagnostic:\r\n![screenshot3](https://user-images.githubusercontent.com/7548920/156040340-3ae27325-a02f-4f63-b01e-2ce75a70fc4a.png)\r\n\r\n**To Reproduce**\r\n1. xpra start ssh://u20/73 --start-child=vterm --attach=no\r\n2. xpra attach ssh://u20/73 --border=turquoise,1\r\n3. get notification.\r\n\r\n**System Information (please complete the following information):**\r\n - Server: ( f35 | centos8 | u20.04 ) + 4.4-r31013 (g4e0fec250) (ubuntu) or 4.4-r31034 (gfd9f7c27f) ( f35 | centos8 )\r\n - Client: f35 + 4.4-r31034 (gfd9f7c27f)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3477/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3477/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3475", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3475/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3475/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3475/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3475", "id": 1149519308, "node_id": "I_kwDOE8kGxM5EhEXM", "number": 3475, "title": "HTML5 client fails to authenticate when AES encryption is used", "user": {"login": "mahendrapaipuri", "id": 44365948, "node_id": "MDQ6VXNlcjQ0MzY1OTQ4", "avatar_url": "https://avatars.githubusercontent.com/u/44365948?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mahendrapaipuri", "html_url": "https://github.com/mahendrapaipuri", "followers_url": "https://api.github.com/users/mahendrapaipuri/followers", "following_url": "https://api.github.com/users/mahendrapaipuri/following{/other_user}", "gists_url": "https://api.github.com/users/mahendrapaipuri/gists{/gist_id}", "starred_url": "https://api.github.com/users/mahendrapaipuri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mahendrapaipuri/subscriptions", "organizations_url": "https://api.github.com/users/mahendrapaipuri/orgs", "repos_url": "https://api.github.com/users/mahendrapaipuri/repos", "events_url": "https://api.github.com/users/mahendrapaipuri/events{/privacy}", "received_events_url": "https://api.github.com/users/mahendrapaipuri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2022-02-24T16:52:21Z", "updated_at": "2022-03-30T16:58:20Z", "closed_at": "2022-03-29T02:52:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen I try to connect to the password protected Xpra server with AES encryption using HTML5 client, the authentication fails with `missing encryption tokens` message. Here is the relevant log:\r\n```\r\n2022-02-24 17:38:51,450 FileAuthenticatorBase password_file=/home/usr1/password.txt\r\n2022-02-24 17:38:51,450 FileAuthenticatorBase filename=/home/usr1/password.txt\r\n2022-02-24 17:38:51,450 auth prompt=password for user 'usr1', socket_dirs=['/home/usr1/sdir', '/run/user/$UID/xpra', '/run/xpra', '~/.xpra']\r\n2022-02-24 17:38:51,450 authenticator 0=password file\r\n2022-02-24 17:38:51,450 get_encryption_key((password file,), /home/usr1/key.txt)\r\n2022-02-24 17:38:51,450 loading encryption key from keyfile: /home/usr1/key.txt\r\n2022-02-24 17:38:51,451 setting output cipher using AES encryption key 'b'0123456789ABCDEF''\r\n2022-02-24 17:38:51,451 set_cipher_out('AES-CBC', 'W\u00bau\\x7f\u00fb\u00a9\\x86+r\\x94\u00cd\\x99\\x81\u00c6\u00a1\u00a7', b'0123456789ABCDEF', '\\x9f\u00de\\x7f\\x8d\\x0c\\xa0\u00d0\u00b3\\x88\\x18Q]\u00bd6\u00d3\\x1a\u00ce\\x10\u00b2\\x9a\u00f8\\xad,\\xad\\x85d\u00f6\u00e1\\\\\u00ff\u00cc\u00ff', 'SHA1', 32, 1000, 'legacy')                                                                                                                                                                         \r\n2022-02-24 17:38:51,451 get_encryptor('AES-CBC', 'W\u00bau\\x7f\u00fb\u00a9\\x86+r\\x94\u00cd\\x99\\x81\u00c6\u00a1\u00a7', b'0123456789ABCDEF', '9fde7f8d0ca0d0b38818515dbd36d31ace10b29af8ad2cad8564f6e15cffccff', 'SHA1', 32, 1000)                                                                                                                                                                                            \r\n2022-02-24 17:38:51,451 sending data using AES-CBC encryption\r\n2022-02-24 17:38:51,452 set_cipher_in('AES-CBC', 'dLllY6ROqetUtlDw', b'0123456789ABCDEF', b'\\xc1\\xf4\\x97&\\xd4WL7\\xb8U\\x1fBo&/\\xf5:\\xa4\\xa3\\xaa\\x19\\xd9E\\xcf\\x88\\x07)\\x96oc\\xe3o<OV%\\xca\\x1a\\xe4\\xb2\\x98\\xc4$\\xe7\\xa6C\\xfa9o\\n\\n\\xda\\x1a\\x1fOU\\xf0\\xc3\\x87\\xe1\\x99;\\xde\\x1f', 'SHA1', 32, 1000)                                                                                            \r\n2022-02-24 17:38:51,452 get_decryptor('AES-CBC', 'dLllY6ROqetUtlDw', b'0123456789ABCDEF', 'c1f49726d4574c37b8551f426f262ff53aa4a3aa19d945cf880729966f63e36f3c4f5625ca1ae4b298c424e7a643fa396f0a0ada1a1f4f55f0c387e1993bde1f', 'SHA1', 32, 1000)                                                                                                                                           \r\n2022-02-24 17:38:51,452 get_decryptor(..) python-cryptography supports_memoryviews(3.2.1)=True\r\n2022-02-24 17:38:51,452 receiving data using AES-CBC encryption\r\n2022-02-24 17:38:51,452 server cipher={'cipher': 'AES', 'cipher.mode': 'CBC', 'cipher.mode.options': ['CBC', 'GCM', 'CFB', 'CTR'], 'cipher.iv': 'dLllY6ROqetUtlDw', 'cipher.key_salt': b'\\xc1\\xf4\\x97&\\xd4WL7\\xb8U\\x1fBo&/\\xf5:\\xa4\\xa3\\xaa\\x19\\xd9E\\xcf\\x88\\x07)\\x96oc\\xe3o<OV%\\xca\\x1a\\xe4\\xb2\\x98\\xc4$\\xe7\\xa6C\\xfa9o\\n\\n\\xda\\x1a\\x1fOU\\xf0\\xc3\\x87\\xe1\\x99;\\xde\\x1f', 'cipher.key_hash': 'SHA1', 'cipher.key_size': 32, 'cipher.key_stretch': 'PBKDF2', 'cipher.key_stretch.options': ['PBKDF2'], 'cipher.key_stretch_iterations': 1000, 'cipher.padding': 'PKCS#7', 'cipher.padding.options': ['PKCS#7', 'legacy']}\r\n2022-02-24 17:38:51,452 processing authentication with (password file,), remaining=(password file,), digest_modes=('hmac', 'hmac+md5', 'xor', 'hmac+md5', 'hmac+sha256', 'hmac+sha1', 'hmac+sha512', 'hmac+sha384', 'hmac+sha512/256', 'hmac+sha512/224'), salt_digest_modes=('hmac', 'hmac+md5', 'xor', 'hmac+md5', 'hmac+sha256', 'hmac+sha1', 'hmac+sha512', 'hmac+sha384', 'hmac+sha512/256', 'hmac+sha512/224')\r\n2022-02-24 17:38:51,452 authenticator[0]=password file, requires-challenge=True, challenge-sent=False\r\n2022-02-24 17:38:51,453 choose_digest(('hmac', 'hmac+md5', 'xor', 'hmac+md5', 'hmac+sha256', 'hmac+sha1', 'hmac+sha512', 'hmac+sha384', 'hmac+sha512/256', 'hmac+sha512/224'))\r\n2022-02-24 17:38:51,453 get_challenge(('hmac', 'hmac+md5', 'xor', 'hmac+md5', 'hmac+sha256', 'hmac+sha1', 'hmac+sha512', 'hmac+sha384', 'hmac+sha512/256', 'hmac+sha512/224'))= 3af8305039dee0f1d98b58b0a206a36570a297f5d1e38550e1e362495abaaede72c6e6d00659e266e20a780905537f3e23ee755d8aaee6d639e72afe9656565f, hmac+sha512\r\n2022-02-24 17:38:51,453 Authentication required by password file authenticator module\r\n2022-02-24 17:38:51,453  sending challenge using hmac+sha512 digest over tcp connection\r\n2022-02-24 17:38:51,453 choose_digest(('hmac', 'hmac+md5', 'xor', 'hmac+md5', 'hmac+sha256', 'hmac+sha1', 'hmac+sha512', 'hmac+sha384', 'hmac+sha512/256', 'hmac+sha512/224'))\r\n2022-02-24 17:38:51,453 sending challenge: \"password for user 'usr1'\"\r\n2022-02-24 17:38:51,453 sending 447 bytes AES-CBC encrypted with 1 padding\r\n2022-02-24 17:38:51,532 received 7104 AES-CBC encrypted bytes with 4 padding\r\n2022-02-24 17:38:51,532 Warning: AES-CBC decryption failed: invalid padding\r\n2022-02-24 17:38:51,532  cipher block size=32, data size=7100\r\n2022-02-24 17:38:51,532  data does not end with 4 PKCS#7 padding bytes 04040404 (<class 'bytes'>)\r\n2022-02-24 17:38:51,532  but with 4 bytes: 6e56eeaf (<class 'bytes'>)\r\n2022-02-24 17:38:51,532  decrypted data (7104 bytes): b'\\xa5\\xff\\x07\\xbc^\\xff\\xd4\\xd8\\xf9\\xe0u\\xf1\\x93\\xd9\\xaa\\xa9\\\\p\\x0b\\x14\\xd2\\xe0\\x05H\\xaeC\\xb2S\\x9b\\xd61T/XAc%\\xf4\\xe6qp>\\xa2 P\\xfc\\xb8\\x7f\\xf9\\x85\\xda\\x1c\\xfb *\\xc7w\\xdeP\\xd0\\x1f\\x90\\xe7l\\xd15\\xa73\\xf5\\xd6w\\xdc\\xa1y\\xf69\\xea\\x08.\\x86\\xf6\\xdc\\xdd\\x84\\xd1\\xbe\\xf9~|\\x04\\xb7\\x9a\\x90\\x1b\\x8b\\x07\\x04\\xc65\\xa2\\xd0(\\xd9\\xaa\\xa7\\\\\\xf2\\x1f#.\\xfe\\x80\\xc5M\\xe7\\xea)gU\\x11\\x84\\xa8<\\x06_\\x91\\xc5\\xc1'..\r\n2022-02-24 17:38:51,532  decrypted data (hex): a5ff07bc5effd4d8f9e075f193d9aaa95c700b14d2e00548ae43b2539bd631542f58416325f4e671703ea22050fcb87ff985da1cfb202ac777de50d01f90e76cd135a733f5d677dca179f639ea082e86f6dcdd84d1bef97e7c04b79a901b8b0704c635a2d028d9aaa75cf21f232efe80c54de7ea2967551184a83c065f91c5c1..\r\n2022-02-24 17:38:51,533 Error: AES-CBC encryption padding error - wrong key?\r\n2022-02-24 17:38:57,916 crypto_backend_init() backend=<module 'xpra.net.pycryptography_backend' from '/usr/lib64/python3.6/site-packages/xpra/net/pycryptography_backend.py'>\r\n2022-02-24 17:38:57,916 socktype=ws, encryption=AES, keyfile=/home/usr1/key.txt\r\n2022-02-24 17:38:58,245 make_authenticators('tcp', {'uuid': 'a33f7bbd-e323-4dbc-5b9c-7da7ecfa9c87', 'username': 'usr1'}, ws socket: 172.16.66.66:10004 <- 172.16.66.66:41886) socket options={'encryption': 'AES', 'auth': 'file:filename=/home/usr1/password.txt', 'keyfile': '/home/usr1/key.txt'}\r\n2022-02-24 17:38:58,245 get_auth_modules(ws, ['file:filename=/home/usr1/password.txt'], {..})\r\n2022-02-24 17:38:58,245 get_auth_module(file:filename=/home/usr1/password.txt, {..})\r\n2022-02-24 17:38:58,245 auth module name for 'file': 'xpra.server.auth.file_auth'\r\n2022-02-24 17:38:58,245 auth module for 'file': <module 'xpra.server.auth.file_auth' from '/usr/lib64/python3.6/site-packages/xpra/server/auth/file_auth.py'>\r\n2022-02-24 17:38:58,245 creating authenticators ('file', <module 'xpra.server.auth.file_auth' from '/usr/lib64/python3.6/site-packages/xpra/server/auth/file_auth.py'>, <class 'xpra.server.auth.file_auth.Authenticator'>, {'filename': '/home/usr1/password.txt', 'exec_cwd': '/home/usr1'}) for tcp\r\n2022-02-24 17:38:58,245 file : <class 'xpra.server.auth.file_auth.Authenticator'>({'filename': '/home/usr1/password.txt', 'exec_cwd': '/home/usr1', 'remote': {'uuid': 'a33f7bbd-e323-4dbc-5b9c-7da7ecfa9c87', 'username': 'usr1'}, 'encryption': 'AES', 'auth': 'file:filename=/home/usr1/password.txt', 'keyfile': '/home/usr1/key.txt', 'connection': ws socket: 172.16.66.66:10004 <- 172.16.66.66:41886, 'socket-dirs': ['/home/usr1/sdir', '/run/user/$UID/xpra', '/run/xpra', '~/.xpra']})\r\n2022-02-24 17:38:58,245 FileAuthenticatorBase password_file=/home/usr1/password.txt\r\n2022-02-24 17:38:58,245 FileAuthenticatorBase filename=/home/usr1/password.txt\r\n2022-02-24 17:38:58,246 auth prompt=password for user 'usr1', socket_dirs=['/home/usr1/sdir', '/run/user/$UID/xpra', '/run/xpra', '~/.xpra']\r\n2022-02-24 17:38:58,246 authenticator 0=password file\r\n2022-02-24 17:38:58,246 client does not provide encryption tokens\r\n2022-02-24 17:38:58,246 Warning: authentication failed\r\n2022-02-24 17:38:58,246  missing encryption tokens\r\n2022-02-24 17:38:59,249 Disconnecting client 172.16.66.66:41886:\r\n2022-02-24 17:38:59,249  missing encryption tokens\r\n  \r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\nserver command \r\n ```\r\nPASSWORD=YOURPASSWORD\r\nAES_KEY=0123456789ABCDEF\r\necho -n $PASSWORD > $HOME/password.txt\r\necho -n $AES_KEY > $HOME/key.txt\r\nxpra start :10 --socket-dir=$HOME/sdir --bind-tcp=0.0.0.0:10000,encryption=AES,auth=file:filename=$HOME/password.txt,keyfile=$HOME/key.txt -d auth,crypto --html=on --start=xterm --no-daemon \r\n``` \r\nclient command\r\n`xdg-open \"http://localhost:10000/index.html?username=$USER&password=$PASSWORD&encryption=AES&key=$AES_KEY\"`\r\n\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: CentOS 8\r\n - Client OS: CentOS 8\r\n - Xpra Server Version: xpra-4.4-10.r30890.el8.x86_64\r\n - Xpra Client Version: xpra-html5-5.0-1.r1160.el8.noarch\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3475/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3474", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3474/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3474/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3474/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3474", "id": 1146873489, "node_id": "I_kwDOE8kGxM5EW-aR", "number": 3474, "title": "Can't change encoding on the fly via tray icon", "user": {"login": "nentibusarchitectura", "id": 6814626, "node_id": "MDQ6VXNlcjY4MTQ2MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/6814626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nentibusarchitectura", "html_url": "https://github.com/nentibusarchitectura", "followers_url": "https://api.github.com/users/nentibusarchitectura/followers", "following_url": "https://api.github.com/users/nentibusarchitectura/following{/other_user}", "gists_url": "https://api.github.com/users/nentibusarchitectura/gists{/gist_id}", "starred_url": "https://api.github.com/users/nentibusarchitectura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nentibusarchitectura/subscriptions", "organizations_url": "https://api.github.com/users/nentibusarchitectura/orgs", "repos_url": "https://api.github.com/users/nentibusarchitectura/repos", "events_url": "https://api.github.com/users/nentibusarchitectura/events{/privacy}", "received_events_url": "https://api.github.com/users/nentibusarchitectura/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-22T12:51:35Z", "updated_at": "2022-02-22T13:07:18Z", "closed_at": "2022-02-22T13:07:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen I change the picture encoding for example to PNG 8 bit to save bandwith nothing happens and I can observe this error in the server logs:\r\n```\r\nFeb 22 10:22:44 server xpra[144252]: Traceback (most recent call last):\r\nFeb 22 10:22:44 server xpra[144252]:   File \"/usr/lib/python3/dist-packages/xpra/server/server_base.py\", line 896, in call_handler\r\nFeb 22 10:22:44 server xpra[144252]:     handler(proto, packet)\r\nFeb 22 10:22:44 server xpra[144252]:   File \"/usr/lib/python3/dist-packages/xpra/server/mixins/encoding_server.py\", line 196, in _process_encoding\r\nFeb 22 10:22:44 server xpra[144252]:     encoding = packet[1].decode(\"latin1\")\r\nFeb 22 10:22:44 server xpra[144252]: AttributeError: 'str' object has no attribute 'decode'\r\n```\r\n**To Reproduce**\r\nConnect to xpra server, change encoding via xpra tray icon picture->encoding->(any encoding)\r\n\r\nServer command:\r\n\r\n```\r\n/usr/bin/xpra start :100 \\\r\n--start-after-connect=\"/usr/bin/xfce4-terminal\" \\\r\n--start-via-proxy=no \\\r\n--start-new-commands=yes \\\r\n--no-pulseaudio \\\r\n--no-microphone \\\r\n--no-speaker \\\r\n--no-daemon \\\r\n--webcam=no \\\r\n--opengl=no \\\r\n--systemd-run=no \\\r\n--env=XPRA_VAAPI=0 \\\r\n```\r\n\r\nClient command:\r\n\r\n```\r\nxpra attach ssh:username@server1:100 --border=orange,1 \\\r\n                                             --encoding=rgb \\\r\n                                             --compress=9 \\\r\n                                             --no-microphone \\\r\n                                             --no-speaker \\\r\n                                             --no-cursors \\\r\n                                             --ssh='ssh -p 2222' \\\r\n                                             --desktop-scaling=off \\\r\n                                             --opengl=no \\\r\n                                             --headerbar=yes \\\r\n                                             --env=XPRA_CLIPBOARD_IMAGE_STAMP=0 \\\r\n                                             --env=XPRA_MIN_CLIPBOARD_COMPRESS_SIZE=2097152\"\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 20.04.4 LTS\r\n - Client OS: Ubuntu 20.04.4 LTS\r\n - Xpra Server Version: 4.3.2r0\r\n - Xpra Client Version: 4.3.2r0\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3474/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3474/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3470", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3470/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3470/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3470/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3470", "id": 1144883868, "node_id": "I_kwDOE8kGxM5EPYqc", "number": 3470, "title": "invalid packet header byte: 0x0009000000dd5c78", "user": {"login": "bdklahn", "id": 920400, "node_id": "MDQ6VXNlcjkyMDQwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/920400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bdklahn", "html_url": "https://github.com/bdklahn", "followers_url": "https://api.github.com/users/bdklahn/followers", "following_url": "https://api.github.com/users/bdklahn/following{/other_user}", "gists_url": "https://api.github.com/users/bdklahn/gists{/gist_id}", "starred_url": "https://api.github.com/users/bdklahn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bdklahn/subscriptions", "organizations_url": "https://api.github.com/users/bdklahn/orgs", "repos_url": "https://api.github.com/users/bdklahn/repos", "events_url": "https://api.github.com/users/bdklahn/events{/privacy}", "received_events_url": "https://api.github.com/users/bdklahn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-02-20T00:42:18Z", "updated_at": "2022-03-06T09:35:41Z", "closed_at": "2022-03-06T03:52:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "On the same machine (Dell Precision running OpenSUSE Tumbleweed), Xpra installed from source (\"commit b1a6387b222ac3f42fd05276e61d80354601c35d (HEAD -> master, origin/master, origin/HEAD\")\r\n\r\nKonsole 1:\r\nxpra start --start=xterm --daemon=no\r\n(\". . . OpenGL is supported on display ':2'\")\r\n\r\nKonsole 2:\r\nxpra attach :2\r\n\r\nserver:\r\n```\r\n(xpra_venv) ME@HOSTNAME:~> xpra start --start=xterm --daemon=no\r\nwarning: invalid compressor(s) specified: lzo\r\nusing systemd-run to wrap 'start' server command\r\nRunning scope as unit: run-rf4090ae4c5214bc7a2539245b80f66ba.scope\r\nfailure on /tmp/.X11-unix/X18304: [Errno 2] No such file or directory: '/tmp/.X11-unix/X18304'\r\n2022-02-19 19:06:30,821 cannot access python uinput module:\r\n2022-02-19 19:06:30,821  No module named 'uinput'\r\n_XSERVTransSocketUNIXCreateListener: ...SocketCreateListener() failed\r\n_XSERVTransMakeAllCOTSServerListeners: server already running\r\n_XSERVTransSocketUNIXCreateListener: ...SocketCreateListener() failed\r\n_XSERVTransMakeAllCOTSServerListeners: server already running\r\n\r\nX.Org X Server 1.21.1.3\r\nX Protocol Version 11, Revision 0\r\nCurrent Operating System: Linux HOSTNAME 5.16.5-1-default #1 SMP PREEMPT Thu Feb 3 05:26:48 UTC 2022 (1af4009) x86_64\r\nKernel command line: BOOT_IMAGE=/boot/vmlinuz-5.16.5-1-default root=UUID=e22794d9-0797-4e19-96d7-af07a411c29c splash=silent mitigations=auto quiet\r\n\r\nCurrent version of pixman: 0.40.0\r\n        Before reporting problems, check http://wiki.x.org\r\n        to make sure that you have the latest version.\r\nMarkers: (--) probed, (**) from config file, (==) default setting,\r\n        (++) from command line, (!!) notice, (II) informational,\r\n        (WW) warning, (EE) error, (NI) not implemented, (??) unknown.\r\n(++) Log file: \"/run/user/1000/xpra/Xorg.S18304.log\", Time: Sat Feb 19 19:06:30 2022\r\n(++) Using config file: \"/etc/xpra/xorg.conf\"\r\n(==) Using system config directory \"/usr/share/X11/xorg.conf.d\"\r\n2022-02-19 19:06:35,402 pointer device emulation using XTest\r\n2022-02-19 19:06:35,434 Error: cannot find the html web root\r\n2022-02-19 19:06:35,435  '/home/ME/xpra_venv/share/xpra/www' does not exist\r\n2022-02-19 19:06:35,435  install the html-xpra package\r\n2022-02-19 19:06:35,452 created unix domain socket '/run/user/1000/xpra/HOSTNAME-2'\r\n2022-02-19 19:06:35,452 cannot create group socket '/run/xpra/HOSTNAME-2'\r\n2022-02-19 19:06:35,452  [Errno 13] Permission denied\r\n2022-02-19 19:06:35,452 created unix domain socket '/home/ME/.xpra/HOSTNAME-2'\r\n2022-02-19 19:06:35,732 D-Bus notification forwarding is available\r\n2022-02-19 19:06:35,778 pulseaudio not started: 'pulseaudio' command not found\r\n2022-02-19 19:06:35,783 removing private directory '/run/user/1000/xpra/pulse-2'\r\n2022-02-19 19:06:35,843 watching for applications menu changes in:\r\n2022-02-19 19:06:35,844  '/usr/share/applications'\r\n2022-02-19 19:06:35,844  '/var/lib/snapd/desktop/applications'\r\n2022-02-19 19:06:36,029 Warning: webcam forwarding is disabled\r\n2022-02-19 19:06:36,030  the virtual video directory '/sys/devices/virtual/video4linux' was not found\r\n2022-02-19 19:06:36,030  make sure that the 'v4l2loopback' kernel module is installed and loaded\r\n2022-02-19 19:06:36,030  or use the 'webcam=no' option\r\n2022-02-19 19:06:36,031 found 0 virtual video devices for webcam forwarding\r\n\r\n(Xpra:18304): Gtk-CRITICAL **: 19:06:36.153: gtk_widget_realize: assertion 'widget->priv->anchored || GTK_IS_INVISIBLE (widget)' failed\r\n2022-02-19 19:06:36,269 GStreamer version 1.18.6 for Python 3.8.12 64-bit\r\n2022-02-19 19:06:36,364 xpra is ready.\r\n2022-02-19 19:06:37,587 loaded 88 start menu entries from 11 sub-menus in 1.7 seconds\r\n2022-02-19 19:06:38,493 xpra X11 seamless version 4.2.3 64-bit\r\n2022-02-19 19:06:38,494  uid=1000 (ME), gid=100 (users)\r\n2022-02-19 19:06:38,494  running with pid 18304 on Linux unknown unknown unknown\r\n2022-02-19 19:06:38,496  connected to X11 display :2 with 24 bit colors\r\n2022-02-19 19:06:39,326 printer forwarding enabled using postscript and pdf\r\n2022-02-19 19:06:39,343 started command 'xterm' with pid 18394\r\n2022-02-19 19:06:39,446 62.5GB of system memory\r\n2022-02-19 19:06:40,207 OpenGL is supported on display ':2'\r\n2022-02-19 19:06:40,208  using 'llvmpipe (LLVM 13.0.1, 256 bits)' renderer\r\n2022-02-19 19:15:54,744 New unix-domain connection received\r\n2022-02-19 19:15:54,744  on '/run/user/1000/xpra/HOSTNAME-2'\r\n2022-02-19 19:15:54,750 Disconnecting client /run/user/1000/xpra/HOSTNAME-2:\r\n2023-02-19 19:15:54,751  invalid packet header byte: 0x0009000000dd5c78 read buffer=b'\\x00\\t\\x00\\x00\\x00\\xdd\\\\x\\xda\\xcc\\xbdY\\xb3\\xe3 .. d\\xad\\xa0\\xab\\xd6\\x81f\\x01\\x01\\x00\\x10\\xfdC\\xec' (56675 bytes)\r\n\r\n```\r\n\r\nclient:\r\n```\r\n(xpra_venv) ME@HOSTNAME:~/git_repos/xpra> xpra attach :2\r\nwarning: invalid compressor(s) specified: lzo\r\n2022-02-19 19:15:50,473 Xpra GTK3 X11 client version 4.4-r28472 (g2f8bf9fcb) 64-bit\r\n2022-02-19 19:15:50,511  running on Linux unknown unknown unknown\r\n2022-02-19 19:15:50,513  window manager is 'KWin'\r\n2022-02-19 19:15:51,689 GStreamer version 1.18.6 for Python 3.8.12 64-bit\r\n2022-02-19 19:15:51,873 created unix domain socket '/run/user/1000/xpra/clients/HOSTNAME-18844'\r\n2022-02-19 19:15:52,704 OpenGL_accelerate module loaded\r\n2022-02-19 19:15:52,709 Using accelerated ArrayDatatype\r\n2022-02-19 19:15:52,878 Warning: cannot handle window transparency\r\n2022-02-19 19:15:52,878  screen is not composited\r\n2022-02-19 19:15:52,895 OpenGL enabled with NV136\r\n2022-02-19 19:15:53,128  keyboard settings: rules=evdev, model=pc105, layout=us\r\n2022-02-19 19:15:54,143  desktop size is 3840x2160:\r\n2022-02-19 19:15:54,144   :0.0 (1016x571 mm - DPI: 96x96) workarea: 3840x2114\r\n2022-02-19 19:15:54,145     DEL DP-1         (609x349 mm - DPI: 160x157)\r\n2022-02-19 19:15:54,753 Error: failed to connect\r\n2022-02-19 19:15:54,753  received uninterpretable nonsense: 'invalid packet header byte: 0x646973636f6e6e65'\r\n2022-02-19 19:15:54,753  b\"disconnect: invalid packet header byte: 0x0009 .. \\x01\\\\x01\\\\x00\\\\x10\\\\xfdC\\\\xec' (56675 bytes)\\n\" (186 bytes)\r\n2022-02-19 19:15:54,753  data: \"disconnect: invalid packet header byte: 0x0009000000dd5c78 read buffer=b'\\\\x00\\\\t\\\\x00\\\\x00\\\\x00\\\\xdd\\\\\\\\x\\\\xda\\\\xcc\\\\xbdY\\\\xb3\\\\xe3 .. d\\\\xad\\\\xa0\\\\xab\\\\xd6\\\\x81f\\\\x01\\\\x01\\\\x00\\\\x10\\\\xfdC\\\\xec' (56675 bytes)\"\r\n2022-02-19 19:15:54,793 removing unix domain socket '/run/user/1000/xpra/clients/HOSTNAME-18844'\r\n```\r\n\r\nNot sure why it complains about 'uinput', because it is installed and that module is loaded in the kernel (I can import it in python interpreter and lsmod shows uinput).\r\n\r\nBelow is an unedited concise accounting of what I've done to enable it to build.\r\nSome things were done and undone. Yes, I know that not all the things were necessary nor critical, but I wanted to rule out things by squashing even warnings (and maybe enabling all the capabilities).\r\n\r\n```\r\npip install cython\r\nPackage 'xres', required by 'virtual:world', not found\r\nsudo zypper install libXres-devel\r\nPackage 'pygobject-3.0', required by 'virtual:world', not found\r\npip install pygobject\r\nPackage 'pygobject-3.0', required by 'virtual:world', not found\r\npip uninstall pygobject\r\nsudo zypper install python38-gobject-devel\r\nModuleNotFoundError: No module named 'gi'\r\npip install gi-docgen\r\nModuleNotFoundError: No module named 'gi'\r\npip uninstall gi-docgen\r\nsudo zypper install python3-gi-docgen\r\nModuleNotFoundError: No module named 'gi'\r\nsudo zypper remove python3-gi-docgen\r\n# from https://pygobject.readthedocs.io/en/latest/getting_started.html\r\npip3 install PyGObject\r\nModuleNotFoundError: No module named 'PIL\r\npip install pillow\r\nError: cannot enable SSH socket upgrades:\r\nNo module named 'paramiko'\r\npip install paramiko\r\nError setting up dbus signals:\r\n No module named 'dbus'\r\npip install dbus-python\r\nWarning: cannot import native OpenGL module\r\n No module named 'OpenGL'\r\npip install pyopengl\r\nNo OpenGL_accelerate module loaded: No module named 'OpenGL_accelerate'\r\npip install pyopengl-accelerate\r\nWarning: printer forwarding disabled:\r\n No module named 'cups'\r\npip install pycups\r\ncupsconnection.h:26:10: fatal error: cups/http.h: No such file or directory\r\nsudo zypper install cups-devel\r\npip install pycups\r\nWarning: cannot use application menu data:\r\n no python-xdg module\r\nModuleNotFoundError: No module named 'xdg'\r\npip install xdg\r\nsudo zypper install python38-xdg\r\nWarning: cannot use application menu data:\r\n no python-xdg module\r\nModuleNotFoundError: No module named 'xdg.DesktopEntry'\r\nsudo zypper install python38-pyxdg\r\ncannot access python uinput module:\r\n No module named 'uinput'\r\npip install python-uinput\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3470/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3470/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3469", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3469/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3469/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3469/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3469", "id": 1144852901, "node_id": "I_kwDOE8kGxM5EPRGl", "number": 3469, "title": "\"error: option --without-html5 not recognized\" during source build", "user": {"login": "bdklahn", "id": 920400, "node_id": "MDQ6VXNlcjkyMDQwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/920400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bdklahn", "html_url": "https://github.com/bdklahn", "followers_url": "https://api.github.com/users/bdklahn/followers", "following_url": "https://api.github.com/users/bdklahn/following{/other_user}", "gists_url": "https://api.github.com/users/bdklahn/gists{/gist_id}", "starred_url": "https://api.github.com/users/bdklahn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bdklahn/subscriptions", "organizations_url": "https://api.github.com/users/bdklahn/orgs", "repos_url": "https://api.github.com/users/bdklahn/repos", "events_url": "https://api.github.com/users/bdklahn/events{/privacy}", "received_events_url": "https://api.github.com/users/bdklahn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-19T21:39:11Z", "updated_at": "2022-02-20T04:47:20Z", "closed_at": "2022-02-20T04:47:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Maybe the documentation here\r\n[https://github.com/Xpra-org/xpra/blob/master/docs/Build/RPM.md](https://github.com/Xpra-org/xpra/blob/master/docs/Build/RPM.md)\r\nneeds updated to remove that flag?\r\n\r\nI was just using that as a general guide while (installing all the additional build dependencies and) building from source.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3469/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3467", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3467/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3467/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3467/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3467", "id": 1142117786, "node_id": "I_kwDOE8kGxM5EE1Wa", "number": 3467, "title": "No audio after client updated to 4.3.2r0, same with update to server 4.3.2r0", "user": {"login": "ScanCaster", "id": 30029583, "node_id": "MDQ6VXNlcjMwMDI5NTgz", "avatar_url": "https://avatars.githubusercontent.com/u/30029583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ScanCaster", "html_url": "https://github.com/ScanCaster", "followers_url": "https://api.github.com/users/ScanCaster/followers", "following_url": "https://api.github.com/users/ScanCaster/following{/other_user}", "gists_url": "https://api.github.com/users/ScanCaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/ScanCaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ScanCaster/subscriptions", "organizations_url": "https://api.github.com/users/ScanCaster/orgs", "repos_url": "https://api.github.com/users/ScanCaster/repos", "events_url": "https://api.github.com/users/ScanCaster/events{/privacy}", "received_events_url": "https://api.github.com/users/ScanCaster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-02-18T00:27:12Z", "updated_at": "2022-07-28T00:49:16Z", "closed_at": "2022-06-03T15:41:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nNo audio from XPRA server AFTER upgrade to 4.3.2r0\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command - `xpra start --env=XPRA_VAAPI=0 :100 --start=/home/server/dir/dir2/bin/program`\r\n2. client command -  `xpra -d sound,gstreamer --auth=ssh:password:value=XXX --debug=ssh attach ssh/me@192.168.0.18/100`\r\n3. specific action to trigger the bug - Just connecting will have no audio, no beep of audio start/connected.. Speaker shows: READY in Session info. Toggle on/off/on no joy.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS:  Kubuntu 20.04 - FULL Updated\r\n - Client OS: Kubuntu 20.04 FULL Updated\r\n - Xpra Server Version 4.3.2.r0\r\n - Xpra Client Version 4.3.2.r0\r\n\r\nWILL add the server `-d audio,gstreamer` output later, can't shut it down at this point in time.\r\n\r\n**Additional context**\r\n`-d audio,gstreamer` output CLIENT SIDE\r\n```\r\nxpra -d sound,gstreamer --auth=ssh:password:value=pass --debug=ssh attach ssh/me@192.168.0.18/100 \r\n2022-02-17 18:24:46,463 Xpra GTK3 X11 client version 4.3.2-r0 64-bit\r\n2022-02-17 18:24:46,619  running on Linux Ubuntu 20.04 focal\r\n2022-02-17 18:24:46,620  window manager is 'KWin'\r\n2022-02-17 18:24:48,200 GStreamer version 1.16.2 for Python 3.8.10 64-bit\r\n2022-02-17 18:24:48,271 debug enabled for xpra.net.ssh / ('network', 'ssh')\r\n2022-02-17 18:24:48,345 created unix domain socket '/run/user/1000/xpra/clients/me-angelinz-153305'\r\n2022-02-17 18:24:48,567 No OpenGL_accelerate module loaded: No module named 'OpenGL_accelerate'\r\n2022-02-17 18:24:48,995 OpenGL enabled with GeForce GT 730/PCIe/SSE2\r\n2022-02-17 18:24:49,004 debug enabled for xpra.scripts.parsing / ('ssh',)\r\n2022-02-17 18:24:49,004 using paramiko ssh backend\r\n2022-02-17 18:24:49,207 paramiko socket_connect: sockname=('192.168.0.43', 59824), peername=('192.168.0.18', 22)\r\n2022-02-17 18:24:49,208 starting thread (client mode): 0x835dd7c0\r\n2022-02-17 18:24:49,208 Local version/idstring: SSH-2.0-paramiko_2.6.0\r\n2022-02-17 18:24:49,227 Remote version/idstring: SSH-2.0-OpenSSH_8.2p1 Ubuntu-4ubuntu0.4\r\n2022-02-17 18:24:49,228 Connected (version 2.0, client OpenSSH_8.2p1)\r\n2022-02-17 18:24:49,230 kex algos:['curve25519-sha256', 'curve25519-sha256@libssh.org', 'ecdh-sha2-nistp256', 'ecdh-sha2-nistp384', 'ecdh-sha2-nistp521', 'diffie-hellman-group-exchange-sha256', 'diffie-hellman-group16-sha512', 'diffie-hellman-group18-sha512', 'diffie-hellman-group14-sha256'] server key:['rsa-sha2-512', 'rsa-sha2-256', 'ssh-rsa', 'ecdsa-sha2-nistp256', 'ssh-ed25519'] client encrypt:['chacha20-poly1305@openssh.com', 'aes128-ctr', 'aes192-ctr', 'aes256-ctr', 'aes128-gcm@openssh.com', 'aes256-gcm@openssh.com'] server encrypt:['chacha20-poly1305@openssh.com', 'aes128-ctr', 'aes192-ctr', 'aes256-ctr', 'aes128-gcm@openssh.com', 'aes256-gcm@openssh.com'] client mac:['umac-64-etm@openssh.com', 'umac-128-etm@openssh.com', 'hmac-sha2-256-etm@openssh.com', 'hmac-sha2-512-etm@openssh.com', 'hmac-sha1-etm@openssh.com', 'umac-64@openssh.com', 'umac-128@openssh.com', 'hmac-sha2-256', 'hmac-sha2-512', 'hmac-sha1'] server mac:['umac-64-etm@openssh.com', 'umac-128-etm@openssh.com', 'hmac-sha2-256-etm@openssh.com', 'hmac-sha2-512-etm@openssh.com', 'hmac-sha1-etm@openssh.com', 'umac-64@openssh.com', 'umac-128@openssh.com', 'hmac-sha2-256', 'hmac-sha2-512', 'hmac-sha1'] client compress:['none', 'zlib@openssh.com'] server compress:['none', 'zlib@openssh.com'] client lang:[''] server lang:[''] kex follows?False\r\n2022-02-17 18:24:49,230 Kex agreed: curve25519-sha256@libssh.org\r\n2022-02-17 18:24:49,230 HostKey agreed: ssh-ed25519\r\n2022-02-17 18:24:49,230 Cipher agreed: aes128-ctr\r\n2022-02-17 18:24:49,231 MAC agreed: hmac-sha2-256\r\n2022-02-17 18:24:49,231 Compression agreed: none\r\n2022-02-17 18:24:49,253 kex engine KexCurve25519 specified hash_algo <built-in function openssl_sha256>\r\n2022-02-17 18:24:49,253 Switch to new keys ...\r\n2022-02-17 18:24:49,253 do_ssh_paramiko_connect_to(<paramiko.Transport at 0x835dd7c0 (cipher aes128-ctr, 128 bits) (connected; awaiting auth)>, '192.168.0.18', 'me', None, {'hostname': '*'}, ['/home/me/.ssh/id_ed25519', '/home/me/.ssh/id_ecdsa', '/home/me/.ssh/id_rsa', '/home/me/.ssh/id_dsa'], {'display_name': 'ssh/me@192.168.0.18/100', 'type': 'ssh', 'proxy_command': ['_proxy'], 'exit_ssh': True, 'display': ':100', 'display_as_args': [':100'], 'is_paramiko': True, 'username': 'me', 'host': '192.168.0.18', 'local': False, 'full_ssh': ['paramiko'], 'remote_xpra': ['xpra', '$XDG_RUNTIME_DIR/xpra/run-xpra', '/usr/local/bin/xpra', '~/.xpra/run-xpra', 'Xpra_cmd.exe']})\r\n2022-02-17 18:24:49,254 SSH transport <paramiko.Transport at 0x835dd7c0 (cipher aes128-ctr, 128 bits) (connected; awaiting auth)>\r\n2022-02-17 18:24:49,254 remote_server_key=MD5:1f:11:36:7c:69:fc:d3:05:6c:74:c5:8b:84:31:21:b7\r\n2022-02-17 18:24:49,263 HostKeys.load(/home/me/.ssh/known_hosts) successful\r\n2022-02-17 18:24:49,263 host keys=<paramiko.hostkeys.HostKeys object at 0x7f8d81d2b640>\r\n2022-02-17 18:24:49,266 ed25519 host key 'MD5:1f:11:36:7c:69:fc:d3:05:6c:74:c5:8b:84:31:21:b7' OK for host '192.168.0.18'\r\n2022-02-17 18:24:49,266 starting authentication, authentication methods: ['none', 'agent', 'key', 'password']\r\n2022-02-17 18:24:49,266 auth=none\r\n2022-02-17 18:24:49,266 trying none authentication\r\n2022-02-17 18:24:49,267 userauth is OK\r\n2022-02-17 18:24:49,277 Authentication type (none) not permitted.\r\n2022-02-17 18:24:49,277 Allowed methods: ['publickey', 'password']\r\n2022-02-17 18:24:49,277 auth_none()\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/net/ssh.py\", line 578, in auth_none\r\n    transport.auth_none(username)                                                                                                                                                            \r\n  File \"/usr/lib/python3/dist-packages/paramiko/transport.py\", line 1446, in auth_none                                                                                                       \r\n    return self.auth_handler.wait_for_response(my_event)                                                                                                                                     \r\n  File \"/usr/lib/python3/dist-packages/paramiko/auth_handler.py\", line 250, in wait_for_response                                                                                             \r\n    raise e                                                                                                                                                                                  \r\nparamiko.ssh_exception.BadAuthenticationType: Bad authentication type; allowed types: ['publickey', 'password']                                                                              \r\n2022-02-17 18:24:49,281 auth=agent\r\n2022-02-17 18:24:49,282 agent keys: ()\r\n2022-02-17 18:24:49,282 auth=key\r\n2022-02-17 18:24:49,282 trying public key authentication using ['/home/me/.ssh/id_ed25519', '/home/me/.ssh/id_ecdsa', '/home/me/.ssh/id_rsa', '/home/me/.ssh/id_dsa']\r\n2022-02-17 18:24:49,282 no keyfile at '/home/me/.ssh/id_ed25519'\r\n2022-02-17 18:24:49,282 no keyfile at '/home/me/.ssh/id_ecdsa'\r\n2022-02-17 18:24:49,282 no keyfile at '/home/me/.ssh/id_rsa'\r\n2022-02-17 18:24:49,282 no keyfile at '/home/me/.ssh/id_dsa'\r\n2022-02-17 18:24:49,283 auth=password\r\n2022-02-17 18:24:49,283 trying interactive authentication\r\n2022-02-17 18:24:49,284 userauth is OK\r\n2022-02-17 18:24:49,293 Authentication type (keyboard-interactive) not permitted.\r\n2022-02-17 18:24:49,294 Allowed methods: ['publickey', 'password']\r\n2022-02-17 18:24:49,294 auth_interactive(..)\r\nTraceback (most recent call last):                                                                                                                                                           \r\n  File \"/usr/lib/python3/dist-packages/xpra/net/ssh.py\", line 610, in auth_interactive                                                                                                       \r\n    transport.auth_interactive(username, myiauthhandler.handle_request, \"\")                                                                                                                  \r\n  File \"/usr/lib/python3/dist-packages/paramiko/transport.py\", line 1633, in auth_interactive                                                                                                \r\n    return self.auth_handler.wait_for_response(my_event)                                                                                                                                     \r\n  File \"/usr/lib/python3/dist-packages/paramiko/auth_handler.py\", line 250, in wait_for_response                                                                                             \r\n    raise e                                                                                                                                                                                  \r\nparamiko.ssh_exception.BadAuthenticationType: Bad authentication type; allowed types: ['publickey', 'password']                                                                              \r\n2022-02-17 18:24:49,295 SSH password authentication failed:\r\n2022-02-17 18:24:49,295  Bad authentication type\r\n2022-02-17 18:24:49,295   allowed types: ['publickey', 'password']\r\n2022-02-17 18:24:56,457 trying password authentication\r\n2022-02-17 18:24:56,459 userauth is OK\r\n2022-02-17 18:24:56,481 Authentication (password) successful!\r\n2022-02-17 18:24:56,481 will try to run xpra from: ['xpra', '$XDG_RUNTIME_DIR/xpra/run-xpra', '/usr/local/bin/xpra', '~/.xpra/run-xpra', 'Xpra_cmd.exe']\r\n2022-02-17 18:24:56,482 paramiko_run_test_command(transport, 'command -v xpra')\r\n2022-02-17 18:24:56,482 [chan 0] Max packet in: 4096 bytes\r\n2022-02-17 18:24:56,704 Received global request \"hostkeys-00@openssh.com\"\r\n2022-02-17 18:24:56,704 Rejecting \"hostkeys-00@openssh.com\" global request from server.\r\n2022-02-17 18:24:56,704 [chan 0] Max packet out: 32768 bytes\r\n2022-02-17 18:24:56,705 Secsh channel 0 opened.\r\n2022-02-17 18:24:56,707 [chan find command -v xpra] Sesch channel 0 request ok\r\n2022-02-17 18:24:56,708 exec_command returned\r\n2022-02-17 18:24:56,708 exit status is not ready yet, sleeping\r\n2022-02-17 18:24:56,718 [chan find command -v xpra] EOF received (find command -v xpra)\r\n2022-02-17 18:24:56,718 [chan find command -v xpra] EOF sent (find command -v xpra)\r\n2022-02-17 18:24:56,718 exec_command('command -v xpra')=0\r\n2022-02-17 18:24:56,719 exec_command out='/usr/bin/xpra\\n'\r\n2022-02-17 18:24:56,719 exec_command err=''\r\n2022-02-17 18:24:56,719 adding xpra_cmd='/usr/bin/xpra'\r\n2022-02-17 18:24:56,719 cmd(['_proxy'], [':100'])=\"/usr/bin/xpra\" \"_proxy\" \":100\"\r\n2022-02-17 18:24:56,720 trying to open SSH session, window-size=134217727, timeout=60\r\n2022-02-17 18:24:56,720 [chan 1] Max packet in: 4096 bytes\r\n2022-02-17 18:24:56,721 [chan 1] Max packet out: 32768 bytes\r\n2022-02-17 18:24:56,721 Secsh channel 1 opened.\r\n2022-02-17 18:24:56,721 channel exec_command(\"/usr/bin/xpra\" \"_proxy\" \":100\")\r\n2022-02-17 18:24:56,723 [chan run-xpra] Sesch channel 1 request ok\r\n2022-02-17 18:24:56,733  keyboard settings: rules=evdev, model=pc105, layout=us\r\n2022-02-17 18:24:56,890  desktop size is 3840x1080:\r\n2022-02-17 18:24:56,892   :0.0 (1060x301 mm - DPI: 92x91) workarea: 3840x1044\r\n2022-02-17 18:24:56,892     ACR VGA-0        1920x1080 at    0x0    (527x296 mm - DPI: 93x93) workarea: 1920x1080\r\n2022-02-17 18:24:56,892     ACR HDMI-0       1920x1080 at 1920x0    (527x296 mm - DPI: 93x93) workarea: 1920x1044 at 1920x0\r\n2022-02-17 18:24:57,171 enabled remote logging\r\n2022-02-17 18:24:57,172 Xpra X11 seamless server version 4.3.2-r0 64-bit\r\n2022-02-17 18:24:57,172  running on Linux Ubuntu 20.04 focal\r\n2022-02-17 18:24:57,200 Attached to xpra server at ssh://me@192.168.0.18/100\r\n2022-02-17 18:24:57,201  (press Control-C to detach)\r\n\r\n2022-02-17 18:24:57,464 audio playback found 2 audio output devices:\r\n2022-02-17 18:24:57,465 audio playback  * Built-in Audio Analog Stereo\r\n2022-02-17 18:24:57,465 audio playback    alsa_output.pci-0000_00_14.2.analog-stereo\r\n2022-02-17 18:24:57,465 audio playback  * GF108 High Definition Audio Controller Digital Stereo (HDMI 4)\r\n2022-02-17 18:24:57,465 audio playback    alsa_output.pci-0000_01_00.1.hdmi-stereo-extra3\r\n2022-02-17 18:24:57,465 audio playback  to select a specific one,\r\n2022-02-17 18:24:57,465 audio playback  use the environment variable 'XPRA_PULSE_SINK_DEVICE_NAME'\r\n2022-02-17 18:24:57,466 audio playback using default pulseaudio device\r\n2022-02-17 18:24:57,468 running, 1 window\r\n2022-02-17 18:24:58,016 audio playback using 'opus' audio codec\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3467/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3467/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3464", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3464/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3464/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3464/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3464", "id": 1141176742, "node_id": "I_kwDOE8kGxM5EBPmm", "number": 3464, "title": "XPRA and PYENV?", "user": {"login": "jradxl", "id": 1639936, "node_id": "MDQ6VXNlcjE2Mzk5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1639936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jradxl", "html_url": "https://github.com/jradxl", "followers_url": "https://api.github.com/users/jradxl/followers", "following_url": "https://api.github.com/users/jradxl/following{/other_user}", "gists_url": "https://api.github.com/users/jradxl/gists{/gist_id}", "starred_url": "https://api.github.com/users/jradxl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jradxl/subscriptions", "organizations_url": "https://api.github.com/users/jradxl/orgs", "repos_url": "https://api.github.com/users/jradxl/repos", "events_url": "https://api.github.com/users/jradxl/events{/privacy}", "received_events_url": "https://api.github.com/users/jradxl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-17T10:52:14Z", "updated_at": "2022-02-17T17:11:57Z", "closed_at": "2022-02-17T17:11:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please can you advise on the following...\r\n\r\nI have pyenv loaded in my bash shell. (`https://github.com/pyenv/pyenv`)\r\nI have edited `/usr/bin/xpra` to add a `print(sys.path)`\r\n\r\nI use this command-line\r\n`xpra start-desktop --start-child=mate-session --exit-with-children=yes --opengl=no --mdns=no ssh://zubuntu1/103`\r\n\r\nRESULTS:\r\nYou can see that XPRA calls itself twice\r\nAnd on the second time sys.path has been changed resulting in the Traceback messages\r\nHowever, XPRA works fine\r\nI could just ignore this...\r\nBut on the otherhand, can you suggest a mitigation?\r\n(Of course, without PYENV all is fine!)\r\nThanks\r\nJohn\r\n\r\n```\r\n$ xpra start-desktop --start-child=mate-session --exit-with-children=yes --opengl=no --mdns=no ssh://zubuntu1/103\r\n['/usr/bin', '/usr/lib/python39.zip', '/usr/lib/python3.9', '/usr/lib/python3.9/lib-dynload', '/home/jradley/.local/lib/python3.9/site-packages', '/usr/local/lib/python3.9/dist-packages', '/usr/lib/python3/dist-packages', '/usr/lib/python3.9/dist-packages']\r\n['/usr/bin', '/home/jradley/.pyenv/versions/3.9.9/lib/python39.zip', '/home/jradley/.pyenv/versions/3.9.9/lib/python3.9', '/home/jradley/.pyenv/versions/3.9.9/lib/python3.9/lib-dynload', '/home/jradley/.local/lib/python3.9/site-packages', '/home/jradley/.pyenv/versions/3.9.9/lib/python3.9/site-packages']\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/xpra\", line 9, in <module>\r\n    from xpra.platform import init, set_default_name\r\nModuleNotFoundError: No module named 'xpra'\r\n2022-02-17 10:36:41,879 Xpra GTK3 X11 client version 4.3.2-r0 64-bit\r\n2022-02-17 10:36:41,960  running on Linux Ubuntu 21.10 impish\r\n2022-02-17 10:36:41,961  window manager is 'Metacity (Marco)'\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/xpra\", line 9, in <module>\r\n    from xpra.platform import init, set_default_name\r\nModuleNotFoundError: No module named 'xpra'\r\n2022-02-17 10:36:42,032 Error: failed to query sound subsystem:\r\n2022-02-17 10:36:42,032  query did not return any data\r\n2022-02-17 10:36:42,098 created unix domain socket '/run/user/1000/xpra/clients/z390ma-14273'\r\n2022-02-17 10:36:42,187 Connected (version 2.0, client OpenSSH_8.4p1)\r\n2022-02-17 10:36:42,226 loaded RSA private key from '/home/jradley/.ssh/my-keys/xcase-z390ma-rsa-4096'\r\n2022-02-17 10:36:42,241 Authentication (publickey) successful!\r\n2022-02-17 10:36:42,641  keyboard settings: rules=evdev, model=pc105, layout=gb\r\n2022-02-17 10:36:42,645  desktop size is 1920x1080:\r\n2022-02-17 10:36:42,646   :0.0 (508x285 mm - DPI: 96x96) workarea: 1920x1024 at    0x28  \r\n2022-02-17 10:36:42,646     SAM HDMI-1       (531x299 mm - DPI: 92x92)\r\n2022-02-17 10:36:42,823  SSH: 'Entering daemon mode; any further errors will be reported to:'\r\n2022-02-17 10:36:42,823  SSH: '  /run/user/1000/xpra/:103.log'\r\n2022-02-17 10:36:48,122 enabled remote logging\r\n2022-02-17 10:36:48,123 Xpra GTK3 X11 desktop server version 3.0.13-r28292 64-bit\r\n2022-02-17 10:36:48,123  running on Linux Ubuntu 21.10 impish\r\n2022-02-17 10:36:48,123  remote desktop size is 5760x2560\r\n2022-02-17 10:36:48,277 running, 1 window\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3464/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3463", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3463/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3463/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3463/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3463", "id": 1139911480, "node_id": "I_kwDOE8kGxM5D8as4", "number": 3463, "title": "mswindows client `&` key shows up as `/`", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681223172, "node_id": "MDU6TGFiZWwyNjgxMjIzMTcy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/keyboard", "name": "keyboard", "color": "F53A0A", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}, {"id": 2681259131, "node_id": "MDU6TGFiZWwyNjgxMjU5MTMx", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/upstream", "name": "upstream", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-16T11:51:08Z", "updated_at": "2022-03-22T06:03:12Z", "closed_at": "2022-03-22T06:03:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "With a UK layout, pressing `Shift` + `7`:\r\n```\r\nhandle keycode pressing    50: key 'Shift_L'\r\n122 fake_key(50, True)\r\n(..)\r\nwill try levels: [1, 5, 0, 4, 3, 7, 2, 6]\r\ndo_get_keycode(55, 'slash', True, ['shift', 'mod2'], 47, '/', 0)=61 (level=0, shift=True, mode=0, keysyms=['slash', 'question', 'dead_belowdot', 'dead_abovedot'])\r\nremoving 'shift' from modifiers\r\nprocess_key_action(['key-action', 1, 'slash', True, ('shift', 'mod2'), 47, '/', 55, 0]) server keycode=61, group=0\r\n```\r\n\r\nThe same can be observed using the keyboard tool.\r\n\r\nGTK is telling us the key is a `slash` but it should be `ampersand`.\r\n\r\nTested OK:\r\n* 4.2.3\r\n* 4.3.0\r\n* 4.3.1\r\n* 4.4-r30811\r\n* 4.4-r30830\r\n\r\nNot OK:\r\n* 4.3.2\r\n* 4.4-r30861\r\n* 4.4-r30895\r\n\r\nThe breakage occurred between r30830 and r30861 (Jab 12 - Jan 18).\r\nBuilding 4.2.x results in a binary that exhibits the same issue so the problem is likely to be caused by a GTK library update. Here is the changelog for it:\r\nhttps://github.com/msys2/MINGW-packages/commits/master/mingw-w64-gtk3\r\nAnd there are keyboard related changes in there :disappointed:", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3463/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3463/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3461", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3461/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3461/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3461/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3461", "id": 1139602784, "node_id": "I_kwDOE8kGxM5D7PVg", "number": 3461, "title": "Flickering/Laggy Window When Using Atom Over Xpra", "user": {"login": "cr1901", "id": 6418027, "node_id": "MDQ6VXNlcjY0MTgwMjc=", "avatar_url": "https://avatars.githubusercontent.com/u/6418027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cr1901", "html_url": "https://github.com/cr1901", "followers_url": "https://api.github.com/users/cr1901/followers", "following_url": "https://api.github.com/users/cr1901/following{/other_user}", "gists_url": "https://api.github.com/users/cr1901/gists{/gist_id}", "starred_url": "https://api.github.com/users/cr1901/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cr1901/subscriptions", "organizations_url": "https://api.github.com/users/cr1901/orgs", "repos_url": "https://api.github.com/users/cr1901/repos", "events_url": "https://api.github.com/users/cr1901/events{/privacy}", "received_events_url": "https://api.github.com/users/cr1901/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-02-16T06:40:11Z", "updated_at": "2022-05-31T09:26:58Z", "closed_at": "2022-05-30T21:14:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhile using Atom over Xpra on Windows 10, after enough scrolling, text-highlighting, or window-resizing, Xpra will begin to update the Atom window several times going between old and current states before settling on the new/correct window state. This lag/spurious updating makes Atom unusable over Xpra. \r\n\r\nI have provided a video of the behavior [here](http://gopher.wdj-consulting.com:70/store/xpra-one-click-release.mkv) (I don't have a good way to convert from MKV, so a link will have to do for now). In the video, I left-click the mouse, highlight some text, and then release the mouse _exactly once_. The selected text then flickers/goes between selected/unselected states multiple times before the text is unselected.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command: `PYTHONPATH=/home/william/Projects/remote/xpra/install/lib/python3.8/site-packages ./xpra/install/bin/xpra start --daemon=no :100`\r\n2. client command: `./Xpra-Launcher /c/Users/William/LivingRoom.xpra`, and then click `Connect`.\r\n3. Run `atom &` from `xterm`. Resize the window from minimized to maximized a few times, while some text is selected. Flickering will start to occur as demonstrated in the video.\r\n\r\n**System Information:**\r\n - Server OS: `Linux xubuntu-dtrain 5.4.0-96-generic #109-Ubuntu SMP Wed Jan 12 16:49:16 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux`\r\n - Client OS: `Microsoft Windows [Version 10.0.19044.1526]`\r\n - Xpra Server Version: `xpra X11 seamless version 4.4-r28477 (g5ceb23424) 64-bit` (**The commit shown is wrong, even after doing a clean build**- it's actually `4d904a3c31`).\r\n - Xpra Client Version: `4.4-r30952 (g4d904a3c3)`\r\n\r\n**Additional context**\r\n* Issue was bisected to start occurring on this commit: https://github.com/Xpra-org/xpra/commit/3d8fe70ae2ade01f49186b98266dfc4931f34cc4\r\n* Based on `--env=XPRA_SAVE_TO_FILE=1`, the server does not exhibit flickering (i.e. the server is _not_ repeatedly sending old and new screen states), and the problem is client-side. I could not get meaningful output (zero-sized `vp9` files) from running `--env=XPRA_SAVE_TO_FILE=1` on the client.\r\n* **Workaround**: The flickering does _not_ occur if I start `xpra` with `./Xpra attach ssh://william@192.168.1.168`. _Only_ when I start the client through `Xpra-Launcher` does the flickering occur.\r\n* Client `xpra.conf`:\r\n   ```\r\n   ssh=C:\\msys64\\usr\\bin\\ssh.exe\r\n   encoding=png\r\n   opengl=no\r\n   ```\r\n\r\n* Server `xpra.conf`\r\n   ```\r\n   start-child = xterm -geometry 150x43 -fg grey -bg black\r\n   start = xrdb -merge ~/.Xresources\r\n   # start = atom\r\n   exit-with-children = yes\r\n   ```\r\n* [Example client `xpra info`](http://gopher.wdj-consulting.com:70/paste/launcher-info.txt)\r\n* [Example server `xpra info`](http://gopher.wdj-consulting.com:70/paste/server-info.txt)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3461/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3461/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3460", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3460/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3460/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3460/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3460", "id": 1137662541, "node_id": "I_kwDOE8kGxM5Dz1pN", "number": 3460, "title": "ModuleNotFoundError: No module named 'xpra'", "user": {"login": "holongate", "id": 7782359, "node_id": "MDQ6VXNlcjc3ODIzNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7782359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/holongate", "html_url": "https://github.com/holongate", "followers_url": "https://api.github.com/users/holongate/followers", "following_url": "https://api.github.com/users/holongate/following{/other_user}", "gists_url": "https://api.github.com/users/holongate/gists{/gist_id}", "starred_url": "https://api.github.com/users/holongate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/holongate/subscriptions", "organizations_url": "https://api.github.com/users/holongate/orgs", "repos_url": "https://api.github.com/users/holongate/repos", "events_url": "https://api.github.com/users/holongate/events{/privacy}", "received_events_url": "https://api.github.com/users/holongate/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-02-14T18:09:59Z", "updated_at": "2022-02-15T08:52:10Z", "closed_at": "2022-02-15T01:22:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nEach time an xpra command is issued, the following error is raised:\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/xpra\", line 5, in <module>\r\n    from xpra.platform import init, set_default_name\r\nModuleNotFoundError: No module named 'xpra'\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\nany xpra start variant\r\n2. client command\r\nxpra gui or any xpra start variant\r\n3. specific action to trigger the bug\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Kubuntu 20.04.LTS\r\n - Client OS: Kubuntu 21.10\r\n - Xpra Server Version v4.3.2-r0\r\n - Xpra Client Version v4.3.2-r0\r\n\r\n**Additional context**\r\nThe xpra server/client communication seems to work as expected... so not sure if this is a managed error or not.\r\nI use Kubuntu if that matter, so the win manager is Kwin.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3460/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3458", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3458/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3458/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3458/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3458", "id": 1132457136, "node_id": "I_kwDOE8kGxM5Df-yw", "number": 3458, "title": "fedora 36 ffmpeg build issues", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681259131, "node_id": "MDU6TGFiZWwyNjgxMjU5MTMx", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/upstream", "name": "upstream", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-02-11T11:50:12Z", "updated_at": "2022-06-10T17:06:23Z", "closed_at": "2022-06-10T17:06:23Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "First problem is that `ffmpeg` does not build:\r\n```\r\nCC\tlibavcodec/h264_mb.o\r\nlibavcodec/h264_loopfilter.c: In function 'ff_h264_filter_mb':\r\nlibavcodec/h264_loopfilter.c:799:13: warning: 'filter_mb_mbaff_edgev' reading 14 bytes from a region of size 8 [-Wstringop-overread]\r\n  799 |             filter_mb_mbaff_edgev ( h, img_y  + 8*  linesize,   linesize, bS+4, 1, qp [1], a, b, 1 );\r\n      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nlibavcodec/h264_loopfilter.c:799:13: note: referencing argument 4 of type 'const int16_t[7]'\r\nlibavcodec/h264_loopfilter.c:147:30: note: in a call to function 'filter_mb_mbaff_edgev'\r\n  147 | static av_always_inline void filter_mb_mbaff_edgev(const H264Context *h, uint8_t *pix,\r\n      |                              ^~~~~~~~~~~~~~~~~~~~~\r\nlibavcodec/h264_loopfilter.c:803:21: warning: 'filter_mb_mbaff_edgev' reading 14 bytes from a region of size 8 [-Wstringop-overread]\r\n  803 |                     filter_mb_mbaff_edgev ( h, img_cb + 8*uvlinesize, uvlinesize, bS+4, 1, bqp[1], a, b, 1 );\r\n      |                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nlibavcodec/h264_loopfilter.c:803:21: note: referencing argument 4 of type 'const int16_t[7]'\r\nlibavcodec/h264_loopfilter.c:147:30: note: in a call to function 'filter_mb_mbaff_edgev'\r\n  147 | static av_always_inline void filter_mb_mbaff_edgev(const H264Context *h, uint8_t *pix,\r\n      |                              ^~~~~~~~~~~~~~~~~~~~~\r\nlibavcodec/h264_loopfilter.c:805:21: warning: 'filter_mb_mbaff_edgev' reading 14 bytes from a region of size 8 [-Wstringop-overread]\r\n  805 |                     filter_mb_mbaff_edgev ( h, img_cr + 8*uvlinesize, uvlinesize, bS+4, 1, rqp[1], a, b, 1 );\r\n      |                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nlibavcodec/h264_loopfilter.c:805:21: note: referencing argument 4 of type 'const int16_t[7]'\r\nlibavcodec/h264_loopfilter.c:147:30: note: in a call to function 'filter_mb_mbaff_edgev'\r\n  147 | static av_always_inline void filter_mb_mbaff_edgev(const H264Context *h, uint8_t *pix,\r\n      |                              ^~~~~~~~~~~~~~~~~~~~~\r\nlibavcodec/h264_loopfilter.c:808:21: warning: 'filter_mb_mbaff_edgecv' reading 14 bytes from a region of size 8 [-Wstringop-overread]\r\n  808 |                     filter_mb_mbaff_edgecv(h, img_cb + 8*uvlinesize, uvlinesize, bS+4, 1, bqp[1], a, b, 1);\r\n      |                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nlibavcodec/h264_loopfilter.c:808:21: note: referencing argument 4 of type 'const int16_t[7]'\r\nlibavcodec/h264_loopfilter.c:170:30: note: in a call to function 'filter_mb_mbaff_edgecv'\r\n  170 | static av_always_inline void filter_mb_mbaff_edgecv(const H264Context *h,\r\n      |                              ^~~~~~~~~~~~~~~~~~~~~~\r\nlibavcodec/h264_loopfilter.c:810:21: warning: 'filter_mb_mbaff_edgecv' reading 14 bytes from a region of size 8 [-Wstringop-overread]\r\n  810 |                     filter_mb_mbaff_edgecv(h, img_cr + 8*uvlinesize, uvlinesize, bS+4, 1, rqp[1], a, b, 1);\r\n      |                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nlibavcodec/h264_loopfilter.c:810:21: note: referencing argument 4 of type 'const int16_t[7]'\r\nlibavcodec/h264_loopfilter.c:170:30: note: in a call to function 'filter_mb_mbaff_edgecv'\r\n  170 | static av_always_inline void filter_mb_mbaff_edgecv(const H264Context *h,\r\n      |                              ^~~~~~~~~~~~~~~~~~~~~~\r\nlibavcodec/h264_loopfilter.c:813:21: warning: 'filter_mb_mbaff_edgecv' reading 14 bytes from a region of size 8 [-Wstringop-overread]\r\n  813 |                     filter_mb_mbaff_edgecv( h, img_cb + 4*uvlinesize, uvlinesize, bS+4, 1, bqp[1], a, b, 1 );\r\n      |                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nlibavcodec/h264_loopfilter.c:813:21: note: referencing argument 4 of type 'const int16_t[7]'\r\nlibavcodec/h264_loopfilter.c:170:30: note: in a call to function 'filter_mb_mbaff_edgecv'\r\n  170 | static av_always_inline void filter_mb_mbaff_edgecv(const H264Context *h,\r\n```\r\n\r\nAnd disabling `-Wstringop-overread` still fails but on `hevc` codecs this time and disabling those also fails at link time because of some LTO issues...", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3458/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3456", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3456/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3456/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3456/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3456", "id": 1125047103, "node_id": "I_kwDOE8kGxM5DDts_", "number": 3456, "title": "nvidia driver 510 troubles", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-05T22:37:31Z", "updated_at": "2022-02-06T02:34:30Z", "closed_at": "2022-02-06T02:34:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nJust installed driver 510 from rpmfusion on several servers. Two xpra problems:\r\n[1] opengl probe failure.\r\n![screenshot7](https://user-images.githubusercontent.com/7548920/152661178-435422d0-57f7-4f95-b36d-61f692abe918.png)\r\n\r\n[2] repetitious whining on mouse entry/exit to some windows:\r\n```\r\n2022-02-05 17:31:58,238 [ph]\tError: failed to create csc instance <class 'xpra.codecs.csc_swscale.colorspace_converter.ColorspaceConverter'>\r\n2022-02-05 17:31:58,238 [ph]\t for GBRP to BGRX: 'int' object is not iterable\r\n```\r\n\r\n**To Reproduce**\r\nany server and client startups\r\non client attach, both of these occur. the 1st occurs once, the other is ongoing on entry/exit of mouse from some windows.\r\n\r\n**System Information (please complete the following information):**\r\n f35 and 4.4-10.r30897 all around. ", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3456/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3456/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3455", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3455/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3455/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3455/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3455", "id": 1124276297, "node_id": "I_kwDOE8kGxM5DAxhJ", "number": 3455, "title": "more inkscape broken svg data", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-04T14:39:33Z", "updated_at": "2022-02-04T14:40:08Z", "closed_at": "2022-02-04T14:40:08Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "As reported in #3449:\r\n```\r\n2022-02-04 13:25:16,245 Error: failed to load icon data for 'Netzwerkdiagnose':\r\n2022-02-04 13:25:16,245  rsvg-error-quark: XML parse error: error code=99 (3) in (null):10:72: xmlns:sodipodi: 'http://inkscape.sourceforge.net/DTD/s odipodi-0.dtd' is not a valid URI\r\n (0)\r\n2022-02-04 13:25:16,245  data=None\r\n```\r\n\r\nAnd also reported in gnucash: [gnucash maint: Remove unwanted space from xmlns sodipodi URI](https://lists.gnucash.org/pipermail/gnucash-changes/2020-March/017336.html)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3455/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3453", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3453/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3453/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3453/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3453", "id": 1123445583, "node_id": "I_kwDOE8kGxM5C9mtP", "number": 3453, "title": "centos 8 only: xpra list-windows complains of a FutureWarning", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-03T18:58:13Z", "updated_at": "2022-02-04T02:51:57Z", "closed_at": "2022-02-04T02:51:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n```\r\n$ xpra list-windows\r\nDisplay   Status    Name           Windows\r\n/usr/lib64/python3.6/re.py:212: FutureWarning: split() requires a non-empty pattern match.\r\n  return _compile(pattern, flags).split(string, maxsplit)\r\n:27       LIVE      vgnome         xpra-desktop\r\n```\r\nDoesn't occur in f35.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `xpra list-windows`\r\n\r\n**System Information (please complete the following information):**\r\n 4.4-10.r30890\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3453/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3451", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3451/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3451/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3451/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3451", "id": 1119355753, "node_id": "I_kwDOE8kGxM5CuANp", "number": 3451, "title": "Missing code signature in MacOS downloads 4.3.2", "user": {"login": "suschizu", "id": 16004333, "node_id": "MDQ6VXNlcjE2MDA0MzMz", "avatar_url": "https://avatars.githubusercontent.com/u/16004333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suschizu", "html_url": "https://github.com/suschizu", "followers_url": "https://api.github.com/users/suschizu/followers", "following_url": "https://api.github.com/users/suschizu/following{/other_user}", "gists_url": "https://api.github.com/users/suschizu/gists{/gist_id}", "starred_url": "https://api.github.com/users/suschizu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suschizu/subscriptions", "organizations_url": "https://api.github.com/users/suschizu/orgs", "repos_url": "https://api.github.com/users/suschizu/repos", "events_url": "https://api.github.com/users/suschizu/events{/privacy}", "received_events_url": "https://api.github.com/users/suschizu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681232498, "node_id": "MDU6TGFiZWwyNjgxMjMyNDk4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/macos", "name": "macos", "color": "A6D7AE", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-01-31T12:17:32Z", "updated_at": "2023-02-15T15:18:18Z", "closed_at": "2022-04-03T14:09:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI received a warning that the code signature has changed in version 4.3.2 (so is missing in this case)\r\n`EXPECTED Antoine Martin (N3UFHUL6R9) but FOUND xpra.org `\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\ncodesign -dvv [path_to_app]\r\noutput: `[\u2026]/Xpra.dmg: code object is not signed at all`\r\n\r\n**System Information (please complete the following information):**\r\nMacOS version 4.3.2 downloads:\r\nhttps://xpra.org/dists/MacOS/x86_64/Xpra.dmg\r\nand\r\nhttps://xpra.org/dists/osx/x86_64/Xpra.pkg\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3451/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3450", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3450/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3450/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3450/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3450", "id": 1116041532, "node_id": "I_kwDOE8kGxM5ChXE8", "number": 3450, "title": "`xpra initialization error:  connection failed: 'NoneType' object has no attribute 'getsockname'`", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-27T10:33:12Z", "updated_at": "2022-02-17T11:49:14Z", "closed_at": "2022-02-17T11:49:13Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nI am in a shadow-reconnect loop (for what reason, I don't know).\r\n\r\nAmong all the initialization text from the client, I am getting:\r\n```py\r\n2022-01-27 12:22:02,924 Xpra GTK3 X11 client version 4.4-r30771 (g636b0b8d8) 64-bit\r\n2022-01-27 12:22:02,999  running on Linux Ubuntu 20.04 focal\r\n2022-01-27 12:22:03,000  window manager is 'GNOME Shell'\r\n2022-01-27 12:22:03,624 GStreamer version 1.16.2 for Python 3.8.10 64-bit\r\n2022-01-27 12:22:03,648 created unix domain socket '/run/user/1000/xpra/clients/stdedos-Precision-3560-54867'\r\n2022-01-27 12:22:03,695 No OpenGL_accelerate module loaded: No module named 'OpenGL_accelerate'\r\n2022-01-27 12:22:03,805 Warning: vendor 'Intel' is greylisted,\r\n2022-01-27 12:22:03,806  you may want to turn off OpenGL if you encounter bugs\r\n2022-01-27 12:22:03,864 OpenGL enabled with Mesa Intel(R) Xe Graphics (TGL GT2)\r\nxpra initialization error:\r\n connection failed: 'NoneType' object has no attribute 'getsockname'\r\n```\r\n\r\nAmong that, there's also\r\n<pre><font color=\"#4E9A06\"><b>stdedos@stdedos-Precision-3560</b></font>:<font color=\"#3465A4\"><b>/run/user/1000/xpra</b></font>$ tree \r\n<font color=\"#3465A4\"><b>.</b></font>\r\n\u251c\u2500\u2500 <font color=\"#3465A4\"><b>0</b></font>\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 <font color=\"#3465A4\"><b>tmp</b></font>\r\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-ni3u44ct.png</b></font>\r\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-s5zis7wm.png</b></font>\r\n\u251c\u2500\u2500 <font color=\"#3465A4\"><b>clients</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-12424</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-54230</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-54290</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-54339</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-54377</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-54417</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-54469</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-54511</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-54571</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-54635</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-54779</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-54867</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-54931</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-54983</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55039</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55079</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55122</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55166</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55213</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55278</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55327</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55369</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55421</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55463</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55513</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55568</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55613</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55659</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55890</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55948</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-55996</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-56052</b></font>\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-7853</b></font>\r\n\u251c\u2500\u2500 <font color=\"#4E9A06\"><b>run-xpra</b></font>\r\n\u2514\u2500\u2500 <font color=\"#3465A4\"><b>tmp</b></font>\r\n    \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-0_pdimpb.png</b></font>\r\n    \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-7ira0cvi.png</b></font>\r\n    \u2514\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-96z7m63w.png</b></font>\r\n\r\n4 directories, 39 files\r\n<font color=\"#4E9A06\"><b>stdedos@stdedos-Precision-3560</b></font>:<font color=\"#3465A4\"><b>/run/user/1000/xpra</b></font>$ xpra list\r\nFound the following xpra sessions:\r\n/run/user/1000/xpra/clients:\r\n\tUNKNOWN session at :12424\r\n\tUNKNOWN session at :54230\r\n\tUNKNOWN session at :54290\r\n\tUNKNOWN session at :54339\r\n\tUNKNOWN session at :54377\r\n\tUNKNOWN session at :54417\r\n\tUNKNOWN session at :54469\r\n\tUNKNOWN session at :54511\r\n\tUNKNOWN session at :54571\r\n\tUNKNOWN session at :54635\r\n\tUNKNOWN session at :54779\r\n\tUNKNOWN session at :54867\r\n\tUNKNOWN session at :54931\r\n\tUNKNOWN session at :54983\r\n\tUNKNOWN session at :55039\r\n\tUNKNOWN session at :55079\r\n\tUNKNOWN session at :55122\r\n\tUNKNOWN session at :55166\r\n\tUNKNOWN session at :55213\r\n\tUNKNOWN session at :55278\r\n\tUNKNOWN session at :55327\r\n\tUNKNOWN session at :55369\r\n\tUNKNOWN session at :55421\r\n\tUNKNOWN session at :55463\r\n\tUNKNOWN session at :55513\r\n\tUNKNOWN session at :55568\r\n\tUNKNOWN session at :55613\r\n\tUNKNOWN session at :55659\r\n\tUNKNOWN session at :55890\r\n\tUNKNOWN session at :55948\r\n\tUNKNOWN session at :55996\r\n\tUNKNOWN session at :56052\r\n\tUNKNOWN session at :7853\r\nRe-probing unknown sessions in: /run/user/1000/xpra/clients\r\n\tUNKNOWN session at :12424 (cleaned up)\r\n\tUNKNOWN session at :54230 (cleaned up)\r\n\tUNKNOWN session at :54290 (cleaned up)\r\n\tUNKNOWN session at :54339 (cleaned up)\r\n\tUNKNOWN session at :54377 (cleaned up)\r\n\tUNKNOWN session at :54417 (cleaned up)\r\n\tUNKNOWN session at :54469 (cleaned up)\r\n\tUNKNOWN session at :54511 (cleaned up)\r\n\tUNKNOWN session at :54571 (cleaned up)\r\n\tUNKNOWN session at :54635 (cleaned up)\r\n\tUNKNOWN session at :54779 (cleaned up)\r\n\tUNKNOWN session at :54867 (cleaned up)\r\n\tUNKNOWN session at :54931 (cleaned up)\r\n\tUNKNOWN session at :54983 (cleaned up)\r\n\tUNKNOWN session at :55039 (cleaned up)\r\n\tUNKNOWN session at :55079 (cleaned up)\r\n\tUNKNOWN session at :55122 (cleaned up)\r\n\tUNKNOWN session at :55166 (cleaned up)\r\n\tUNKNOWN session at :55213 (cleaned up)\r\n\tUNKNOWN session at :55278 (cleaned up)\r\n\tUNKNOWN session at :55327 (cleaned up)\r\n\tUNKNOWN session at :55369 (cleaned up)\r\n\tUNKNOWN session at :55421 (cleaned up)\r\n\tUNKNOWN session at :55463 (cleaned up)\r\n\tUNKNOWN session at :55513 (cleaned up)\r\n\tUNKNOWN session at :55568 (cleaned up)\r\n\tUNKNOWN session at :55613 (cleaned up)\r\n\tUNKNOWN session at :55659 (cleaned up)\r\n\tUNKNOWN session at :55890 (cleaned up)\r\n\tUNKNOWN session at :55948 (cleaned up)\r\n\tUNKNOWN session at :55996 (cleaned up)\r\n\tUNKNOWN session at :56052 (cleaned up)\r\n\tUNKNOWN session at :7853 (cleaned up)\r\n<font color=\"#4E9A06\"><b>stdedos@stdedos-Precision-3560</b></font>:<font color=\"#3465A4\"><b>/run/user/1000/xpra</b></font>$ tree \r\n<font color=\"#3465A4\"><b>.</b></font>\r\n\u251c\u2500\u2500 <font color=\"#3465A4\"><b>0</b></font>\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 <font color=\"#3465A4\"><b>tmp</b></font>\r\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-ni3u44ct.png</b></font>\r\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-s5zis7wm.png</b></font>\r\n\u251c\u2500\u2500 <font color=\"#3465A4\"><b>clients</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-56106</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-56150</b></font>\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-56195</b></font>\r\n\u251c\u2500\u2500 <font color=\"#4E9A06\"><b>run-xpra</b></font>\r\n\u2514\u2500\u2500 <font color=\"#3465A4\"><b>tmp</b></font>\r\n    \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-0_pdimpb.png</b></font>\r\n    \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-7ira0cvi.png</b></font>\r\n    \u2514\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-96z7m63w.png</b></font>\r\n\r\n4 directories, 9 files\r\n<font color=\"#4E9A06\"><b>stdedos@stdedos-Precision-3560</b></font>:<font color=\"#3465A4\"><b>/run/user/1000/xpra</b></font>$ tree \r\n<font color=\"#3465A4\"><b>.</b></font>\r\n\u251c\u2500\u2500 <font color=\"#3465A4\"><b>0</b></font>\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 <font color=\"#3465A4\"><b>tmp</b></font>\r\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-ni3u44ct.png</b></font>\r\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-s5zis7wm.png</b></font>\r\n\u251c\u2500\u2500 <font color=\"#3465A4\"><b>clients</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-56106</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-56150</b></font>\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-56195</b></font>\r\n\u251c\u2500\u2500 <font color=\"#4E9A06\"><b>run-xpra</b></font>\r\n\u2514\u2500\u2500 <font color=\"#3465A4\"><b>tmp</b></font>\r\n    \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-0_pdimpb.png</b></font>\r\n    \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-7ira0cvi.png</b></font>\r\n    \u2514\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-96z7m63w.png</b></font>\r\n\r\n4 directories, 9 files\r\n<font color=\"#4E9A06\"><b>stdedos@stdedos-Precision-3560</b></font>:<font color=\"#3465A4\"><b>/run/user/1000/xpra</b></font>$ tree \r\n<font color=\"#3465A4\"><b>.</b></font>\r\n\u251c\u2500\u2500 <font color=\"#3465A4\"><b>0</b></font>\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 <font color=\"#3465A4\"><b>tmp</b></font>\r\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-ni3u44ct.png</b></font>\r\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-s5zis7wm.png</b></font>\r\n\u251c\u2500\u2500 <font color=\"#3465A4\"><b>clients</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-56106</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-56150</b></font>\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-56195</b></font>\r\n\u251c\u2500\u2500 <font color=\"#4E9A06\"><b>run-xpra</b></font>\r\n\u2514\u2500\u2500 <font color=\"#3465A4\"><b>tmp</b></font>\r\n    \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-0_pdimpb.png</b></font>\r\n    \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-7ira0cvi.png</b></font>\r\n    \u2514\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-96z7m63w.png</b></font>\r\n\r\n4 directories, 9 files\r\n<font color=\"#4E9A06\"><b>stdedos@stdedos-Precision-3560</b></font>:<font color=\"#3465A4\"><b>/run/user/1000/xpra</b></font>$ tree\r\n<font color=\"#3465A4\"><b>.</b></font>\r\n\u251c\u2500\u2500 <font color=\"#3465A4\"><b>0</b></font>\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 <font color=\"#3465A4\"><b>tmp</b></font>\r\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-ni3u44ct.png</b></font>\r\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-s5zis7wm.png</b></font>\r\n\u251c\u2500\u2500 <font color=\"#3465A4\"><b>clients</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-56106</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-56150</b></font>\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-56195</b></font>\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 <font color=\"#75507B\"><b>stdedos-Precision-3560-56249</b></font>\r\n\u251c\u2500\u2500 <font color=\"#4E9A06\"><b>run-xpra</b></font>\r\n\u2514\u2500\u2500 <font color=\"#3465A4\"><b>tmp</b></font>\r\n    \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-0_pdimpb.png</b></font>\r\n    \u251c\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-7ira0cvi.png</b></font>\r\n    \u2514\u2500\u2500 <font color=\"#75507B\"><b>xpra-notification-icon-96z7m63w.png</b></font>\r\n\r\n4 directories, 10 files\r\n<font color=\"#4E9A06\"><b>stdedos@stdedos-Precision-3560</b></font>:<font color=\"#3465A4\"><b>/run/user/1000/xpra</b></font>$ xpra list\r\nFound the following xpra sessions:\r\n/run/user/1000/xpra/clients:\r\n\tUNKNOWN session at :56106\r\n\tUNKNOWN session at :56150\r\n\tUNKNOWN session at :56195\r\n\tUNKNOWN session at :56249\r\nRe-probing unknown sessions in: /run/user/1000/xpra/clients\r\n\tUNKNOWN session at :56106 (cleaned up)\r\n\tUNKNOWN session at :56150 (cleaned up)\r\n\tUNKNOWN session at :56195 (cleaned up)\r\n\tUNKNOWN session at :56249 (cleaned up)\r\n</pre>\r\n\r\nI don't know if the errors are related or not, but the `exec` of the client does seem to cause the above leaks.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `xpra shadow ssh://stdedos@192.168.0.73/:0`\r\n2. ~~client command~~\r\n3. specific action to trigger the bug _No idea_\r\n\r\n**System Information (please complete the following information):**\r\n - Server/Client OS: Ubuntu Focal\r\n - Xpra Server/Client Version [e.g. 4.2.3]: 4.4-r30771 (g 636b0b8d8) \r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3450/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3449", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3449/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3449/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3449/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3449", "id": 1115210151, "node_id": "I_kwDOE8kGxM5CeMGn", "number": 3449, "title": "Windows turn transparent when moved from Nvidia to Intel graphics", "user": {"login": "galexej", "id": 1577623, "node_id": "MDQ6VXNlcjE1Nzc2MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1577623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/galexej", "html_url": "https://github.com/galexej", "followers_url": "https://api.github.com/users/galexej/followers", "following_url": "https://api.github.com/users/galexej/following{/other_user}", "gists_url": "https://api.github.com/users/galexej/gists{/gist_id}", "starred_url": "https://api.github.com/users/galexej/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/galexej/subscriptions", "organizations_url": "https://api.github.com/users/galexej/orgs", "repos_url": "https://api.github.com/users/galexej/repos", "events_url": "https://api.github.com/users/galexej/events{/privacy}", "received_events_url": "https://api.github.com/users/galexej/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-01-26T16:21:27Z", "updated_at": "2022-04-26T12:20:48Z", "closed_at": "2022-04-26T12:20:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI am using two graphics cards simultaneously on Windows for my various screens. Xpra works flawlessly on my main, external graphics (nvidia rtx 2080), but some applications have transparent elements on my secondary screens (intel uhd 630).\r\n\r\nYes, both of my graphics cards actually do something. My onboard card is not simply forwarding everything to the external card, but as soon as >50% of the window is on an onboard-connected screen, it is rendered by the onboard card.\r\n\r\nBecause it is kinda difficult to describe, I just filmed the entire issue to give an example. (In lack of proper screen recording software, I used my phone for this... apologies.)\r\n\r\nhttps://www.youtube.com/watch?v=OpGz5xv4eqo\r\n\r\nIn that example, you can see three applications: Gedit (GTK), Putty (GTK) and KWrite (QT). As you can see, the problem is not specific to either GTK or QT, as both Putty and KWrite show the problem. However, some applications are fine - Gedit has no problem. I personally use Thunderbird, Firefox and various PDF viewers a lot, they all show no problems.\r\n\r\nI am not using any special server or client options.\r\n\r\n**To Reproduce**\r\n1. Have a true dual-graphics card setup with intel-uhd-630 and nvidia-rtx-2080\r\n2. Server command: `xpra start :100 --bind-tcp=localhost:12345`\r\n3. Client command: `ssh -L 12345:localhost:26010 ...` (for port forwarding) and `Xpra.exe attach tcp:localhost:12345`\r\n4. Drag a window to the intel-uhd-controlled screens. Some of them will be partly transparent.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Arch Linux, Kernel 5.16.0\r\n - Client OS: Windows 10 Education Build 19044\r\n - Xpra Server Version: `v4.2.3-r3`\r\n - Xpra Client Version: `v4.3.1`\r\n\r\n**Additional context**\r\n- For some more information, please see the two attached images: (because `Xpra.exe info` shows nothing...)\r\n  - [Software info screen](https://user-images.githubusercontent.com/1577623/151196803-9d4e9ca7-a8c8-4187-8681-b4b9bf3c8c45.png)\r\n  - [Features info screen](https://user-images.githubusercontent.com/1577623/151196819-05196a68-5d37-47ca-898a-7942ef3b1f2c.png)\r\n- [Server log](https://github.com/Xpra-org/xpra/files/7943258/xpra_server_log.txt)\r\n- Disabling OpenGL fixes the issue, but the apps feel a little more laggy.\r\n- According to the device manager, the NVIDIA driver version is 30.0.14.7196 (from 27.08.2021), and the Intel driver version is 25.20.100.6444 (from 19.11.2018), whatever this means.\r\n- According to the Xpra session info, my server is using OpenGL 4.5, and the client is using 4.6 (see screenshots above). I assume this refers to the NVIDIA driver. I do not know how to display the Intel driver's OpenGL version though.\r\n- [Possibly unrelated: Some apps are also more responsive than others. Thunderbird and Gedit are very responsive and it's fine to work with them, while in KWrite, most actions seem to be very delayed.]\r\n\r\nI hope this has not already been reported. I was unable to find a similar issue in a quick search. If I forgot anything or I can give you any additional information, feel free to ask. :)\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3449/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3449/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3448", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3448/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3448/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3448/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3448", "id": 1114968865, "node_id": "I_kwDOE8kGxM5CdRMh", "number": 3448, "title": "Crash on intel skylake with enabled VA-API", "user": {"login": "nickwizard", "id": 35692452, "node_id": "MDQ6VXNlcjM1NjkyNDUy", "avatar_url": "https://avatars.githubusercontent.com/u/35692452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickwizard", "html_url": "https://github.com/nickwizard", "followers_url": "https://api.github.com/users/nickwizard/followers", "following_url": "https://api.github.com/users/nickwizard/following{/other_user}", "gists_url": "https://api.github.com/users/nickwizard/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickwizard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickwizard/subscriptions", "organizations_url": "https://api.github.com/users/nickwizard/orgs", "repos_url": "https://api.github.com/users/nickwizard/repos", "events_url": "https://api.github.com/users/nickwizard/events{/privacy}", "received_events_url": "https://api.github.com/users/nickwizard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-26T12:32:32Z", "updated_at": "2022-04-03T14:10:59Z", "closed_at": "2022-04-03T14:10:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n```\r\n2022-01-26 15:10:06,281  client root window size is 3840x1080\r\n2022-01-26 15:10:06,282   :0.0 (1016x285 mm - DPI: 96x96) workarea: 3840x1046\r\n2022-01-26 15:10:06,282     ACR HDMI-1       1920x1080 at    0x0    (527x296 mm - DPI: 93x93) workarea: 1920x1046\r\n2022-01-26 15:10:06,282     ACR HDMI-2       1920x1080 at 1920x0    (527x296 mm - DPI: 93x93) workarea: 1920x1080 at 1920x0\r\n2022-01-26 15:10:06,328 server virtual display now set to 3840x1080\r\n2022-01-26 15:10:06,333  automatic picture encoding enabled, also available:\r\n2022-01-26 15:10:06,333   h264, vp9, vp8, png, png/P, png/L, webp, rgb24, rgb32, jpeg, jpega, h265, mpeg1, mpeg2, scroll\r\n2022-01-26 15:10:06,342 client   1 @06.676 Xpra X11 seamless server version 4.4-r30895 64-bit\r\n2022-01-26 15:10:06,346 client   1 @06.676  running on Linux unknown unknown unknown\r\n2022-01-26 15:10:06,348 client   1 @06.682 Attached to xpra server at tcp://XXXXXXXX/\r\n2022-01-26 15:10:06,348 client   1 @06.682  (press Control-C to detach)\r\n2022-01-26 15:10:06,357 DPI set to 32 x 16 (wanted 48 x 96)\r\n2022-01-26 15:10:06,357  you may experience scaling problems, such as huge or small fonts, etc\r\n2022-01-26 15:10:06,357  to fix this issue, try the dpi switch, or use a patched Xorg dummy driver\r\n2022-01-26 15:10:06,580 client   1 @06.916 running, 1 window\r\n2022-01-26 15:10:18,419 started command 'firefox' with pid 1810346\r\n2022-01-26 15:10:24,199 libav: 'H.264 10-bit profiles are not supported.'\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `XPRA_VAAPI=1 xpra start :7 --bind-tcp=XXX:XXX --daemon=no`\r\n2. `xpra attach 'tcp://XXX:XXX'`\r\n3. Start Firefox\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Arch\r\n - Client OS: Arch\r\n - Xpra Server Version 4.4\r\n - Xpra Client Version 4.4\r\n\r\n**Additional context**\r\nffmpeg complains \"H.264 10-bit profiles are not supported.\", which chosen at [client/mixins/encodings.py](https://github.com/Xpra-org/xpra/blame/e4a55c82d2751c92c0370ed519bc6a5e8868b3be/xpra/client/mixins/encodings.py#L254)\r\n\r\n**Workaround**\r\nstart **client** with `XPRA_H264_YUV420P_PROFILE=high`, that changes default h264 profile for YUV420P from `high10` to `high`", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3448/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3448/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3446", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3446/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3446/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3446/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3446", "id": 1112030292, "node_id": "I_kwDOE8kGxM5CSDxU", "number": 3446, "title": "Invalid self-signature on user ID for PGP key", "user": {"login": "ritzmann", "id": 379272, "node_id": "MDQ6VXNlcjM3OTI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/379272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ritzmann", "html_url": "https://github.com/ritzmann", "followers_url": "https://api.github.com/users/ritzmann/followers", "following_url": "https://api.github.com/users/ritzmann/following{/other_user}", "gists_url": "https://api.github.com/users/ritzmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/ritzmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ritzmann/subscriptions", "organizations_url": "https://api.github.com/users/ritzmann/orgs", "repos_url": "https://api.github.com/users/ritzmann/repos", "events_url": "https://api.github.com/users/ritzmann/events{/privacy}", "received_events_url": "https://api.github.com/users/ritzmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-01-24T00:15:36Z", "updated_at": "2022-07-07T17:17:10Z", "closed_at": "2022-03-22T05:38:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI am trying to import the PGP key for the Debian Bullseye repository but GnuPG 2.2.27 insists that the user ID is not properly signed:\r\n\r\n```\r\n$ gpg --verbose --no-default-keyring --keyring=~/xpra.gpg --recv-keys F18AD6BB\r\ngpg: data source: https://162.213.33.9:443\r\ngpg: armor header: Version: Hockeypuck ~unreleased\r\ngpg: armor header: Comment: Hostname:\r\ngpg: key 0x18ADB31CF18AD6BB: number of dropped non-self-signatures: 5\r\ngpg: pub  dsa1024/0x18ADB31CF18AD6BB 2007-04-18  Antoine Martin <antoine@nagafix.co.uk>\r\ngpg: Note: signatures using the SHA1 algorithm are rejected\r\ngpg: key 0x18ADB31CF18AD6BB: 15 bad signatures\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"Antoine Martin <antoine@nagafix.co.uk>\"\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"Antoine Martin <antoine@nagafix.co.uk>\"\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"Antoine Martin <antoine@nagafix.co.uk>\"\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"Antoine Martin <antoine@nagafix.co.uk>\"\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"Antoine Martin <antoine@nagafix.co.uk>\"\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"[jpeg image of size 4992]\"\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"[jpeg image of size 4992]\"\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"[jpeg image of size 4992]\"\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"[jpeg image of size 4992]\"\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"[jpeg image of size 4992]\"\r\ngpg: key 0x18ADB31CF18AD6BB/0x00D777F76E23E963: invalid subkey binding\r\ngpg: key 0x18ADB31CF18AD6BB/0x00D777F76E23E963: invalid subkey binding\r\ngpg: key 0x18ADB31CF18AD6BB/0x00D777F76E23E963: invalid subkey binding\r\ngpg: key 0x18ADB31CF18AD6BB/0x00D777F76E23E963: invalid subkey binding\r\ngpg: key 0x18ADB31CF18AD6BB/0x00D777F76E23E963: invalid subkey binding\r\ngpg: key 0x18ADB31CF18AD6BB: skipped user ID \"Antoine Martin <antoine@nagafix.co.uk>\"\r\ngpg: key 0x18ADB31CF18AD6BB: skipped user ID \"[jpeg image of size 4992]\"\r\ngpg: key 0x18ADB31CF18AD6BB/0x00D777F76E23E963: skipped subkey\r\ngpg: key 0x18ADB31CF18AD6BB: new key but contains no user ID - skipped\r\ngpg: Total number processed: 1\r\ngpg:           w/o user IDs: 1\r\n```\r\n\r\nI was using `hkps://keyserver.ubuntu.com` as keyserver.\r\n\r\nA manual download of the key from https://xpra.org/gpg.asc yields the same issue when imported:\r\n\r\n```\r\n$ gpg --verbose --no-default-keyring --keyring=~/xpra.gpg --import ./gpg.asc\r\ngpg: pub  dsa1024/0x18ADB31CF18AD6BB 2007-04-18  Antoine Martin <antoine@nagafix.co.uk>\r\ngpg: Note: signatures using the SHA1 algorithm are rejected\r\ngpg: key 0x18ADB31CF18AD6BB: 2 signatures not checked due to missing keys\r\ngpg: key 0x18ADB31CF18AD6BB: 7 bad signatures\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"Antoine Martin <antoine@nagafix.co.uk>\"\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"Antoine Martin <antoine@nagafix.co.uk>\"\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"Antoine Martin <antoine@nagafix.co.uk>\"\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"[jpeg image of size 4992]\"\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"[jpeg image of size 4992]\"\r\ngpg: key 0x18ADB31CF18AD6BB: invalid self-signature on user ID \"[jpeg image of size 4992]\"\r\ngpg: key 0x18ADB31CF18AD6BB/0x00D777F76E23E963: invalid subkey binding\r\ngpg: key 0x18ADB31CF18AD6BB: skipped user ID \"Antoine Martin <antoine@nagafix.co.uk>\"\r\ngpg: key 0x18ADB31CF18AD6BB: skipped user ID \"[jpeg image of size 4992]\"\r\ngpg: key 0x18ADB31CF18AD6BB/0x00D777F76E23E963: skipped subkey\r\ngpg: key 0x18ADB31CF18AD6BB: new key but contains no user ID - skipped\r\ngpg: Total number processed: 1\r\ngpg:           w/o user IDs: 1\r\n```\r\n\r\n**To Reproduce**\r\n\r\nsee above\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian 11\r\n - Client OS: n/a\r\n - Xpra Server Version 4.3.1\r\n - Xpra Client Version n/a\r\n\r\n**Additional context**\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3446/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3444", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3444/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3444/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3444/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3444", "id": 1111365705, "node_id": "I_kwDOE8kGxM5CPhhJ", "number": 3444, "title": "xpra.org SSL Certificate expired ", "user": {"login": "totomz", "id": 2937573, "node_id": "MDQ6VXNlcjI5Mzc1NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2937573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totomz", "html_url": "https://github.com/totomz", "followers_url": "https://api.github.com/users/totomz/followers", "following_url": "https://api.github.com/users/totomz/following{/other_user}", "gists_url": "https://api.github.com/users/totomz/gists{/gist_id}", "starred_url": "https://api.github.com/users/totomz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totomz/subscriptions", "organizations_url": "https://api.github.com/users/totomz/orgs", "repos_url": "https://api.github.com/users/totomz/repos", "events_url": "https://api.github.com/users/totomz/events{/privacy}", "received_events_url": "https://api.github.com/users/totomz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-22T09:05:39Z", "updated_at": "2022-01-22T14:40:30Z", "closed_at": "2022-01-22T14:40:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe xpra.org SSL certificate expired;  `apt install xpra` fails with the following error:\r\n```\r\nErr:7 https://xpra.org focal Release\r\n  Certificate verification failed: The certificate is NOT trusted. The certificate chain uses expired certificate.  Could not handshake: Error in the certificate verification. [IP: 78.129.163.65 443]\r\n``` \r\n\r\n**To Reproduce**\r\n`curl \"https://xpra.org\"`\r\n\r\n**Additional context**\r\nA possible workaround (for `apt`):\r\n\r\n```shell\r\ncat << EoF > /etc/apt/apt.conf.d/81xpra\r\nAcquire::https::xpra.org::Verify-Peer \"false\";\r\nAcquire::https::xpra.org::Verify-Host \"false\";\r\nEoF\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3444/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3442", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3442/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3442/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3442/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3442", "id": 1109550266, "node_id": "I_kwDOE8kGxM5CImS6", "number": 3442, "title": "Not able to frame Xpra in another browser window anymore", "user": {"login": "iDmple", "id": 5065505, "node_id": "MDQ6VXNlcjUwNjU1MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5065505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iDmple", "html_url": "https://github.com/iDmple", "followers_url": "https://api.github.com/users/iDmple/followers", "following_url": "https://api.github.com/users/iDmple/following{/other_user}", "gists_url": "https://api.github.com/users/iDmple/gists{/gist_id}", "starred_url": "https://api.github.com/users/iDmple/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iDmple/subscriptions", "organizations_url": "https://api.github.com/users/iDmple/orgs", "repos_url": "https://api.github.com/users/iDmple/repos", "events_url": "https://api.github.com/users/iDmple/events{/privacy}", "received_events_url": "https://api.github.com/users/iDmple/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709857, "node_id": "MDU6TGFiZWwyNjc4NzA5ODU3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-20T17:02:55Z", "updated_at": "2022-01-21T18:05:11Z", "closed_at": "2022-01-21T03:26:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nWe always used to be able to frame the Xpra window in another browser window, but since the 1 to 3 weeks (unsure exactly when due to the holidays) it stopped working and we get this error in the console:\r\n`Refused to frame 'xxx' because an ancestor violates the following Content Security Policy directive: \"frame-ancestors 'none'\".`\r\n\r\nI don't know if it's related to #3422 ?\r\n\r\nI noticed that if I remove `frame-ancestors 'none'` from `10_content_security_policy.txt`, it works. This is strange since this isn't a recent addition.\r\n\r\nThis happens on Chrome executed from a Mac. Xpra is version 4.5.2 ran on ubuntu 20.04, official Xpra .deb package.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3442/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3442/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3441", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3441/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3441/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3441/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3441", "id": 1108976373, "node_id": "I_kwDOE8kGxM5CGaL1", "number": 3441, "title": "colorspaces differ", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-20T07:58:06Z", "updated_at": "2022-01-21T14:22:43Z", "closed_at": "2022-01-21T14:22:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "As per 7e57991207835db4d72058bae29f40c247723b1d, turbojpeg expects `full-swing` not `studio-swing`...\r\nThe easy fix for `libyuv` is to use `ARGBToJ420` instead of `ARGBToI420`.\r\n\r\nBut perhaps some of the other encoders do need `studio-swing`? Does `swscale` output `full-swing`?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3441/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3440", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3440/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3440/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3440/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3440", "id": 1108670657, "node_id": "I_kwDOE8kGxM5CFPjB", "number": 3440, "title": "ssh_config percent_expand: unknown key %C", "user": {"login": "ritzmann", "id": 379272, "node_id": "MDQ6VXNlcjM3OTI3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/379272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ritzmann", "html_url": "https://github.com/ritzmann", "followers_url": "https://api.github.com/users/ritzmann/followers", "following_url": "https://api.github.com/users/ritzmann/following{/other_user}", "gists_url": "https://api.github.com/users/ritzmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/ritzmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ritzmann/subscriptions", "organizations_url": "https://api.github.com/users/ritzmann/orgs", "repos_url": "https://api.github.com/users/ritzmann/repos", "events_url": "https://api.github.com/users/ritzmann/events{/privacy}", "received_events_url": "https://api.github.com/users/ritzmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}, {"id": 2681259131, "node_id": "MDU6TGFiZWwyNjgxMjU5MTMx", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/upstream", "name": "upstream", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-19T23:43:12Z", "updated_at": "2022-03-13T17:17:08Z", "closed_at": "2022-01-20T05:08:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n`xpra shadow` fails to start on my Mac with my SSH configuration. The error message is:\r\n```\r\nxpra initialization error:\r\n connection failed: ssh_config percent_expand: unknown key %C\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command: Regular xsession\r\n2. client command that is failing: `xpra shadow ssh://user@machine/`\r\n3. client .ssh/config:\r\n```\r\nHost *\r\n    ControlMaster auto\r\n    ControlPath /tmp/ssh-cm-%C\r\n    ControlPersist 30m\r\n```\r\n\r\nThe connection succeeds when I comment out `ControlPath`. `%C` is commonly used with ControlPath.\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian 11\r\n - Client OS: macOS 11.6.2\r\n - Xpra Server Version 3.0.13\r\n - Xpra Client Version 4.3.1 (installed via Homebrew)\r\n\r\n**Additional context**\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3440/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3440/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3439", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3439/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3439/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3439/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3439", "id": 1108580703, "node_id": "I_kwDOE8kGxM5CE5lf", "number": 3439, "title": "`Ctrl+Shift+C` does not copy selection from gnome-terminal", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222253, "node_id": "MDU6TGFiZWwyNjgxMjIyMjUz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/clipboard", "name": "clipboard", "color": "bfdadc", "default": false, "description": ""}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-19T21:31:10Z", "updated_at": "2022-05-07T05:15:46Z", "closed_at": "2022-05-07T05:15:45Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nI am not sure what's happening ... the shortcut seems to be passing through, but idk what's happening\r\n```py\r\n2022-01-16 12:50:23,426 enabled debugging for:\r\n2022-01-16 12:50:23,426  - Logger(xpra.x11.server_keyboard_config, keyboard)\r\n2022-01-16 12:50:23,426  - Logger(xpra.server.rfb.rfb_server, rfb, keyboard)\r\n2022-01-16 12:50:23,426  - Logger(xpra.server.mixins.input_server, keyboard)\r\n2022-01-16 12:50:23,426  - Logger(importlib._bootstrap, x11, bindings, keyboard)\r\n2022-01-16 12:50:23,426  - Logger(xpra.gtk_common.keymap, keyboard)\r\n2022-01-16 12:50:23,426  - Logger(xpra.x11.x11_server_core, x11, server, keyboard)\r\n2022-01-16 12:50:23,426  - Logger(xpra.server.source.input_mixin, keyboard)\r\n2022-01-16 12:50:23,426  - Logger(xpra.x11.xkbhelper, x11, keyboard)\r\n2022-01-16 12:50:23,629 New unix-domain connection received\r\n2022-01-16 12:50:23,630  on '/run/user/1000/xpra/0/socket'\r\n2022-01-16 12:50:23,632 client   1 @21.202 enabled debugging for:\r\n2022-01-16 12:50:23,633 client   1 @21.202  - Logger(xpra.client.client_window_base, keyboard)\r\n2022-01-16 12:50:23,634 client   1 @21.202  - Logger(xpra.platform.win32.gui, win32, keyboard)\r\n2022-01-16 12:50:23,634 client   1 @21.202  - Logger(xpra.platform.win32.keyboard, keyboard)\r\n2022-01-16 12:50:23,635 client   1 @21.202  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard)\r\n2022-01-16 12:50:23,635 client   1 @21.219  - Logger(xpra.client.keyboard_helper, keyboard)\r\n2022-01-16 12:50:23,636 client   1 @21.219  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard, events)\r\n2022-01-16 12:50:23,636 client   1 @21.219  - Logger(xpra.platform.keyboard_base, keyboard)\r\n2022-01-16 12:50:23,636 client   1 @21.219  - Logger(xpra.client.keyboard_shortcuts_parser, keyboard)\r\n2022-01-16 12:50:23,636 client   1 @21.219  - Logger(xpra.client.ui_client_base, client, keyboard)\r\n2022-01-16 12:50:23,637 client   1 @21.219  - Logger(xpra.gtk_common.keymap, keyboard)\r\n2022-01-16 12:50:25,053 client   1 @22.625 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['control', 'mod2']\r\n2022-01-16 12:50:25,054 client   1 @22.625 parse_key_event(<Gdk.EventKey object at 0x0000025ba02e6860 (void at 0x0000025bb71b1840)>, True)=KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True)\r\n2022-01-16 12:50:25,054 client   1 @22.625 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True)) wid=1\r\n2022-01-16 12:50:25,055 client   1 @22.625 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Control_L', ['control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:25,055 client   1 @22.625 process_key_event: Control_L pressed=True, with GetKeyState(VK_RMENU)=0\r\n2022-01-16 12:50:25,107 client   1 @22.688 send_delayed_key() delayed_event=(<bound method KeyboardHelper.send_key_action of <xpra.client.gtk_base.gtk_keyboard_helper.GTKKeyboardHelper object at 0x0000025bb800d3a0>>, 1, KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True))\r\n2022-01-16 12:50:25,108 client   1 @22.688 send_delayed_key() GetKeyState(VK_RMENU)=0\r\n2022-01-16 12:50:25,108 client   1 @22.688 send_key_action(1, KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True))\r\n2022-01-16 12:50:25,109 will try levels: [0, 4, 1, 5, 2, 6, 3, 7]\r\n2022-01-16 12:50:25,109 do_get_keycode(17, 'Control_L', True, ['control', 'mod2'], 65507, '', 0)=37 (level=0, shift=False, mode=0, keysyms=['Control_L'])\r\n2022-01-16 12:50:25,109 not toggling any modifiers state for keysyms=['Control_L']\r\n2022-01-16 12:50:25,109 process_key_action(['key-action', 1, 'Control_L', True, ('control', 'mod2'), 65507, '', 17, 0]) server keycode=37, group=0\r\n2022-01-16 12:50:25,109 set_keyboard_layout_group(0) ignored, value unchanged\r\n2022-01-16 12:50:25,110 filtered_modifiers_set(['mod2'])={'mod2'}\r\n2022-01-16 12:50:25,110 modifier 'control' ignored (in ignored keynames={'Control_R', 'Control_L'})\r\n2022-01-16 12:50:25,110 filtered_modifiers_set(['control', 'mod2'])={'mod2'}\r\n2022-01-16 12:50:25,110 handle_key((1, True, 'Control_L', 65507, 37, ['control', 'mod2'], True, True))\r\n2022-01-16 12:50:25,110 handle keycode pressing    37: key 'Control_L'\r\n2022-01-16 12:50:25,111 fake_key(37, True)\r\n2022-01-16 12:50:25,139 client   1 @22.719 mask_to_names(<flags GDK_SHIFT_MASK | GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['shift', 'control', 'mod2']\r\n2022-01-16 12:50:25,139 client   1 @22.719 parse_key_event(<Gdk.EventKey object at 0x0000025ba02e6b30 (void at 0x0000025bb71b1840)>, True)=KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=True)\r\n2022-01-16 12:50:25,140 client   1 @22.719 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=True)) wid=1\r\n2022-01-16 12:50:25,140 client   1 @22.719 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Shift_L', ['shift', 'control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:25,141 client   1 @22.719 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:25,141 client   1 @22.719 send_key_action(1, KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=True))\r\n2022-01-16 12:50:25,142 will try levels: [1, 5, 0, 4, 3, 7, 2, 6]\r\n2022-01-16 12:50:25,142 do_get_keycode(16, 'Shift_L', True, ['shift', 'control', 'mod2'], 65505, '', 0)=50 (level=0, shift=True, mode=0, keysyms=['Shift_L', 'ISO_Next_Group'])\r\n2022-01-16 12:50:25,142 not toggling 'shift' since 'Shift_L' should deal with it\r\n2022-01-16 12:50:25,142 process_key_action(['key-action', 1, 'Shift_L', True, ('shift', 'control', 'mod2'), 65505, '', 16, 0]) server keycode=50, group=0\r\n2022-01-16 12:50:25,142 set_keyboard_layout_group(0) ignored, value unchanged\r\n2022-01-16 12:50:25,143 filtered_modifiers_set(['control', 'mod2'])={'control', 'mod2'}\r\n2022-01-16 12:50:25,143 modifier 'shift' ignored (in ignored keynames={'Shift_L', 'Shift_R'})\r\n2022-01-16 12:50:25,143 filtered_modifiers_set(['shift', 'control', 'mod2'])={'control', 'mod2'}\r\n2022-01-16 12:50:25,143 handle_key((1, True, 'Shift_L', 65505, 50, ['shift', 'control', 'mod2'], True, True))\r\n2022-01-16 12:50:25,143 handle keycode pressing    50: key 'Shift_L'\r\n2022-01-16 12:50:25,143 fake_key(50, True)\r\n2022-01-16 12:50:25,660 client   1 @23.234 mask_to_names(<flags GDK_SHIFT_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['shift', 'mod2']\r\n2022-01-16 12:50:25,661 client   1 @23.234 parse_key_event(<Gdk.EventKey object at 0x0000025ba02cd7c0 (void at 0x0000025bb71b1840)>, False)=KeyEvent(modifiers=['shift', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=False)\r\n2022-01-16 12:50:25,661 client   1 @23.234 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['shift', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=False)) wid=1\r\n2022-01-16 12:50:25,662 client   1 @23.234 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Control_L', ['shift', 'mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:25,662 client   1 @23.234 process_key_event: Control_L pressed=False, with GetKeyState(VK_RMENU)=0\r\n2022-01-16 12:50:25,662 client   1 @23.234 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:25,663 client   1 @23.234 send_key_action(1, KeyEvent(modifiers=['shift', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=False))\r\n2022-01-16 12:50:25,663 client   1 @23.234 mask_to_names(<flags 0 of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['mod2']\r\n2022-01-16 12:50:25,663 client   1 @23.234 parse_key_event(<Gdk.EventKey object at 0x0000025ba02cd7c0 (void at 0x0000025bb71b1840)>, False)=KeyEvent(modifiers=['mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=False)\r\n2022-01-16 12:50:25,664 client   1 @23.234 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=False)) wid=1\r\n2022-01-16 12:50:25,664 client   1 @23.234 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Shift_L', ['mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:25,664 client   1 @23.234 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:25,665 client   1 @23.234 send_key_action(1, KeyEvent(modifiers=['mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=False))\r\n2022-01-16 12:50:25,665 process_key_action(['key-action', 1, 'Control_L', False, ('shift', 'mod2'), 65507, '', 17, 0]) server keycode=37, group=0\r\n2022-01-16 12:50:25,665 set_keyboard_layout_group(0) ignored, value unchanged\r\n2022-01-16 12:50:25,666 modifier 'control' ignored (in ignored keynames={'Control_R', 'Control_L'})\r\n2022-01-16 12:50:25,666 filtered_modifiers_set(['shift', 'control', 'mod2'])={'shift', 'mod2'}\r\n2022-01-16 12:50:25,666 filtered_modifiers_set(['shift', 'mod2'])={'shift', 'mod2'}\r\n2022-01-16 12:50:25,666 handle_key((1, False, 'Control_L', 65507, 37, ['shift', 'mod2'], True, True))\r\n2022-01-16 12:50:25,666 handle keycode unpressing  37: key 'Control_L'\r\n2022-01-16 12:50:25,666 fake_key(37, False)\r\n2022-01-16 12:50:25,668 process_key_action(['key-action', 1, 'Shift_L', False, ('mod2',), 65505, '', 16, 0]) server keycode=50, group=0\r\n2022-01-16 12:50:25,668 set_keyboard_layout_group(0) ignored, value unchanged\r\n2022-01-16 12:50:25,669 modifier 'shift' ignored (in ignored keynames={'Shift_L', 'Shift_R'})\r\n2022-01-16 12:50:25,669 filtered_modifiers_set(['shift', 'mod2'])={'mod2'}\r\n2022-01-16 12:50:25,669 filtered_modifiers_set(['mod2'])={'mod2'}\r\n2022-01-16 12:50:25,670 handle_key((1, False, 'Shift_L', 65505, 50, ['mod2'], True, True))\r\n2022-01-16 12:50:25,670 handle keycode unpressing  50: key 'Shift_L'\r\n2022-01-16 12:50:25,670 fake_key(50, False)\r\n2022-01-16 12:50:26,786 client   1 @24.359 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['control', 'mod2']\r\n2022-01-16 12:50:26,787 client   1 @24.359 parse_key_event(<Gdk.EventKey object at 0x0000025ba02ecbd0 (void at 0x0000025bb71b1840)>, True)=KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True)\r\n2022-01-16 12:50:26,787 client   1 @24.359 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True)) wid=1\r\n2022-01-16 12:50:26,788 client   1 @24.359 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Control_L', ['control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:26,788 client   1 @24.359 process_key_event: Control_L pressed=True, with GetKeyState(VK_RMENU)=0\r\n2022-01-16 12:50:26,839 client   1 @24.406 send_delayed_key() delayed_event=(<bound method KeyboardHelper.send_key_action of <xpra.client.gtk_base.gtk_keyboard_helper.GTKKeyboardHelper object at 0x0000025bb800d3a0>>, 1, KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True))\r\n2022-01-16 12:50:26,839 client   1 @24.422 send_delayed_key() GetKeyState(VK_RMENU)=0\r\n2022-01-16 12:50:26,840 client   1 @24.422 send_key_action(1, KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True))\r\n2022-01-16 12:50:26,841 will try levels: [0, 4, 1, 5, 2, 6, 3, 7]\r\n2022-01-16 12:50:26,841 do_get_keycode(17, 'Control_L', True, ['control', 'mod2'], 65507, '', 0)=37 (level=0, shift=False, mode=0, keysyms=['Control_L'])\r\n2022-01-16 12:50:26,841 not toggling any modifiers state for keysyms=['Control_L']\r\n2022-01-16 12:50:26,842 process_key_action(['key-action', 1, 'Control_L', True, ('control', 'mod2'), 65507, '', 17, 0]) server keycode=37, group=0\r\n2022-01-16 12:50:26,842 set_keyboard_layout_group(0) ignored, value unchanged\r\n2022-01-16 12:50:26,842 filtered_modifiers_set(['mod2'])={'mod2'}\r\n2022-01-16 12:50:26,843 modifier 'control' ignored (in ignored keynames={'Control_R', 'Control_L'})\r\n2022-01-16 12:50:26,843 filtered_modifiers_set(['control', 'mod2'])={'mod2'}\r\n2022-01-16 12:50:26,843 handle_key((1, True, 'Control_L', 65507, 37, ['control', 'mod2'], True, True))\r\n2022-01-16 12:50:26,843 handle keycode pressing    37: key 'Control_L'\r\n2022-01-16 12:50:26,843 fake_key(37, True)\r\n2022-01-16 12:50:26,859 client   1 @24.438 mask_to_names(<flags GDK_SHIFT_MASK | GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['shift', 'control', 'mod2']\r\n2022-01-16 12:50:26,860 client   1 @24.438 parse_key_event(<Gdk.EventKey object at 0x0000025ba02cd7c0 (void at 0x0000025bb71b1840)>, True)=KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=True)\r\n2022-01-16 12:50:26,861 client   1 @24.438 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=True)) wid=1\r\n2022-01-16 12:50:26,861 client   1 @24.438 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Shift_L', ['shift', 'control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:26,861 client   1 @24.438 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:26,861 client   1 @24.438 send_key_action(1, KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=True))\r\n2022-01-16 12:50:26,862 will try levels: [1, 5, 0, 4, 3, 7, 2, 6]\r\n2022-01-16 12:50:26,862 do_get_keycode(16, 'Shift_L', True, ['shift', 'control', 'mod2'], 65505, '', 0)=50 (level=0, shift=True, mode=0, keysyms=['Shift_L', 'ISO_Next_Group'])\r\n2022-01-16 12:50:26,862 not toggling 'shift' since 'Shift_L' should deal with it\r\n2022-01-16 12:50:26,862 process_key_action(['key-action', 1, 'Shift_L', True, ('shift', 'control', 'mod2'), 65505, '', 16, 0]) server keycode=50, group=0\r\n2022-01-16 12:50:26,862 set_keyboard_layout_group(0) ignored, value unchanged\r\n2022-01-16 12:50:26,862 filtered_modifiers_set(['control', 'mod2'])={'control', 'mod2'}\r\n2022-01-16 12:50:26,862 modifier 'shift' ignored (in ignored keynames={'Shift_L', 'Shift_R'})\r\n2022-01-16 12:50:26,862 filtered_modifiers_set(['shift', 'control', 'mod2'])={'control', 'mod2'}\r\n2022-01-16 12:50:26,862 handle_key((1, True, 'Shift_L', 65505, 50, ['shift', 'control', 'mod2'], True, True))\r\n2022-01-16 12:50:26,862 handle keycode pressing    50: key 'Shift_L'\r\n2022-01-16 12:50:26,863 fake_key(50, True)\r\n2022-01-16 12:50:27,182 client   1 @24.750 mask_to_names(<flags GDK_SHIFT_MASK | GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['shift', 'control', 'mod2']\r\n2022-01-16 12:50:27,183 client   1 @24.765 parse_key_event(<Gdk.EventKey object at 0x0000025ba02ecbd0 (void at 0x0000025bb71b1840)>, True)=KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=V, keyval=86, keycode=86, group=0, string=\u0016, pressed=True)\r\n2022-01-16 12:50:27,184 client   1 @24.765 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=V, keyval=86, keycode=86, group=0, string=\u0016, pressed=True)) wid=1\r\n2022-01-16 12:50:27,184 client   1 @24.765 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'V', ['shift', 'control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:27,185 client   1 @24.765 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:27,186 client   1 @24.765 send_key_action(1, KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=V, keyval=86, keycode=86, group=0, string=\u0016, pressed=True))\r\n2022-01-16 12:50:27,186 will try levels: [1, 5, 0, 4, 3, 7, 2, 6]\r\n2022-01-16 12:50:27,186 do_get_keycode(86, 'V', True, ['shift', 'control', 'mod2'], 86, '\\x16', 0)=55 (level=1, shift=True, mode=0, keysyms=['v', 'V'])\r\n2022-01-16 12:50:27,186 process_key_action(['key-action', 1, 'V', True, ('shift', 'control', 'mod2'), 86, '\\x16', 86, 0]) server keycode=55, group=0\r\n2022-01-16 12:50:27,186 set_keyboard_layout_group(0) ignored, value unchanged\r\n2022-01-16 12:50:27,186 filtered_modifiers_set(['shift', 'control', 'mod2'])={'control', 'shift', 'mod2'}\r\n2022-01-16 12:50:27,187 filtered_modifiers_set(['shift', 'control', 'mod2'])={'control', 'shift', 'mod2'}\r\n2022-01-16 12:50:27,187 is_modifier(55) not found\r\n2022-01-16 12:50:27,187 handle_key((1, True, 'V', 86, 55, ['shift', 'control', 'mod2'], False, True))\r\n2022-01-16 12:50:27,187 handle keycode pressing    55: key 'V'\r\n2022-01-16 12:50:27,187 fake_key(55, True)\r\n2022-01-16 12:50:27,188 scheduling key repeat timer with delay 500 for V / 55\r\n2022-01-16 12:50:27,322 client   1 @24.890 mask_to_names(<flags GDK_SHIFT_MASK | GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['shift', 'control', 'mod2']\r\n2022-01-16 12:50:27,322 client   1 @24.890 parse_key_event(<Gdk.EventKey object at 0x0000025ba034d130 (void at 0x0000025bb71b1840)>, False)=KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=V, keyval=86, keycode=86, group=0, string=\u0016, pressed=False)\r\n2022-01-16 12:50:27,323 client   1 @24.906 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=V, keyval=86, keycode=86, group=0, string=\u0016, pressed=False)) wid=1\r\n2022-01-16 12:50:27,323 client   1 @24.906 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'V', ['shift', 'control', 'mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:27,324 client   1 @24.906 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:27,324 client   1 @24.906 send_key_action(1, KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=V, keyval=86, keycode=86, group=0, string=\u0016, pressed=False))\r\n2022-01-16 12:50:27,325 process_key_action(['key-action', 1, 'V', False, ('shift', 'control', 'mod2'), 86, '\\x16', 86, 0]) server keycode=55, group=0\r\n2022-01-16 12:50:27,325 set_keyboard_layout_group(0) ignored, value unchanged\r\n2022-01-16 12:50:27,325 filtered_modifiers_set(['shift', 'control', 'mod2'])={'control', 'shift', 'mod2'}\r\n2022-01-16 12:50:27,325 filtered_modifiers_set(['shift', 'control', 'mod2'])={'control', 'shift', 'mod2'}\r\n2022-01-16 12:50:27,325 is_modifier(55) not found\r\n2022-01-16 12:50:27,325 handle_key((1, False, 'V', 86, 55, ['shift', 'control', 'mod2'], False, True))\r\n2022-01-16 12:50:27,325 handle keycode unpressing  55: key 'V'\r\n2022-01-16 12:50:27,325 fake_key(55, False)\r\n2022-01-16 12:50:27,361 client   1 @24.938 mask_to_names(<flags GDK_SHIFT_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['shift', 'mod2']\r\n2022-01-16 12:50:27,362 client   1 @24.938 parse_key_event(<Gdk.EventKey object at 0x0000025ba032c860 (void at 0x0000025bb71b1840)>, False)=KeyEvent(modifiers=['shift', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=False)\r\n2022-01-16 12:50:27,362 client   1 @24.938 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['shift', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=False)) wid=1\r\n2022-01-16 12:50:27,363 client   1 @24.938 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Control_L', ['shift', 'mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:27,363 client   1 @24.938 process_key_event: Control_L pressed=False, with GetKeyState(VK_RMENU)=0\r\n2022-01-16 12:50:27,363 client   1 @24.938 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:27,364 client   1 @24.938 send_key_action(1, KeyEvent(modifiers=['shift', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=False))\r\n2022-01-16 12:50:27,364 client   1 @24.938 mask_to_names(<flags 0 of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['mod2']\r\n2022-01-16 12:50:27,365 client   1 @24.938 parse_key_event(<Gdk.EventKey object at 0x0000025ba032c860 (void at 0x0000025bb71b1840)>, False)=KeyEvent(modifiers=['mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=False)\r\n2022-01-16 12:50:27,365 client   1 @24.938 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=False)) wid=1\r\n2022-01-16 12:50:27,366 client   1 @24.938 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Shift_L', ['mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:27,366 client   1 @24.938 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:27,367 client   1 @24.938 send_key_action(1, KeyEvent(modifiers=['mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=False))\r\n2022-01-16 12:50:27,368 process_key_action(['key-action', 1, 'Control_L', False, ('shift', 'mod2'), 65507, '', 17, 0]) server keycode=37, group=0\r\n2022-01-16 12:50:27,368 set_keyboard_layout_group(0) ignored, value unchanged\r\n2022-01-16 12:50:27,368 modifier 'control' ignored (in ignored keynames={'Control_R', 'Control_L'})\r\n2022-01-16 12:50:27,368 filtered_modifiers_set(['shift', 'control', 'mod2'])={'shift', 'mod2'}\r\n2022-01-16 12:50:27,369 filtered_modifiers_set(['shift', 'mod2'])={'shift', 'mod2'}\r\n2022-01-16 12:50:27,369 handle_key((1, False, 'Control_L', 65507, 37, ['shift', 'mod2'], True, True))\r\n2022-01-16 12:50:27,369 handle keycode unpressing  37: key 'Control_L'\r\n2022-01-16 12:50:27,369 fake_key(37, False)\r\n2022-01-16 12:50:27,372 process_key_action(['key-action', 1, 'Shift_L', False, ('mod2',), 65505, '', 16, 0]) server keycode=50, group=0\r\n2022-01-16 12:50:27,373 set_keyboard_layout_group(0) ignored, value unchanged\r\n2022-01-16 12:50:27,373 modifier 'shift' ignored (in ignored keynames={'Shift_L', 'Shift_R'})\r\n2022-01-16 12:50:27,373 filtered_modifiers_set(['shift', 'mod2'])={'mod2'}\r\n2022-01-16 12:50:27,373 filtered_modifiers_set(['mod2'])={'mod2'}\r\n2022-01-16 12:50:27,374 handle_key((1, False, 'Shift_L', 65505, 50, ['mod2'], True, True))\r\n2022-01-16 12:50:27,374 handle keycode unpressing  50: key 'Shift_L'\r\n2022-01-16 12:50:27,374 fake_key(50, False)\r\n2022-01-16 12:50:28,830 New unix-domain connection received\r\n2022-01-16 12:50:28,830  on '/run/user/1000/xpra/0/socket'\r\n2022-01-16 12:50:28,831 disabled debugging for:\r\n2022-01-16 12:50:28,831  - Logger(xpra.x11.server_keyboard_config, keyboard)\r\n2022-01-16 12:50:28,831  - Logger(xpra.server.rfb.rfb_server, rfb, keyboard)\r\n2022-01-16 12:50:28,831  - Logger(xpra.server.mixins.input_server, keyboard)\r\n2022-01-16 12:50:28,831  - Logger(importlib._bootstrap, x11, bindings, keyboard)\r\n2022-01-16 12:50:28,831  - Logger(xpra.gtk_common.keymap, keyboard)\r\n2022-01-16 12:50:28,831  - Logger(xpra.x11.x11_server_core, x11, server, keyboard)\r\n2022-01-16 12:50:28,831  - Logger(xpra.server.source.input_mixin, keyboard)\r\n2022-01-16 12:50:28,831  - Logger(xpra.x11.xkbhelper, x11, keyboard)\r\n2022-01-16 12:50:29,060 New unix-domain connection received\r\n2022-01-16 12:50:29,060  on '/run/user/1000/xpra/0/socket'\r\n2022-01-16 12:50:29,066 client   1 @26.640 disabled debugging for:\r\n2022-01-16 12:50:29,067 client   1 @26.640  - Logger(xpra.client.client_window_base, keyboard)\r\n2022-01-16 12:50:29,067 client   1 @26.640  - Logger(xpra.platform.win32.gui, win32, keyboard)\r\n2022-01-16 12:50:29,068 client   1 @26.640  - Logger(xpra.platform.win32.keyboard, keyboard)\r\n2022-01-16 12:50:29,068 client   1 @26.640  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard)\r\n2022-01-16 12:50:29,068 client   1 @26.640  - Logger(xpra.client.keyboard_helper, keyboard)\r\n2022-01-16 12:50:29,068 client   1 @26.640  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard, events)\r\n2022-01-16 12:50:29,069 client   1 @26.640  - Logger(xpra.platform.keyboard_base, keyboard)\r\n2022-01-16 12:50:29,069 client   1 @26.640  - Logger(xpra.client.keyboard_shortcuts_parser, keyboard)\r\n2022-01-16 12:50:29,069 client   1 @26.640  - Logger(xpra.client.ui_client_base, client, keyboard)\r\n2022-01-16 12:50:29,069 client   1 @26.640  - Logger(xpra.gtk_common.keymap, keyboard)\r\n```\r\n\r\nclient:\r\n```\r\n\"Xpra-Python3-x86_64_4.4-r30815\\xpra_cmd\" shadow ssh://user@ip/0 --ssh=\"plink -ssh -agent\" --modal-windows=no --desktop-scaling=1.25 --headerbar=off --title=\"@title@ on @@/@server-display@\" --start=\"systemd-inhibit --what=handle-lid-switch sleep 1d\" --start-on-last-client-exit=\"systemd-inhibit --what=handle-lid-switch sleep 5m\" --key-shortcut=Shift+F2:toggle_pointer_grab --microphone=off --speaker=off --webcam=no --pulseaudio=no\r\n\r\nXPRA_EXECUTABLE=Xpra-Python3-x86_64_4.4-r30815\r\n\r\n2022-01-16 12:24:02,558 Xpra GTK3 client version 4.4-r30815 (ge69db429d) 64-bit\r\n2022-01-16 12:24:02,567  running on Microsoft Windows 10\r\n2022-01-16 12:24:04,232 GStreamer version 1.18.5 for Python 3.9.7 64-bit\r\n2022-01-16 12:24:04,326 created named pipe 'Xpra\\33168'\r\n2022-01-16 12:24:04,364 keyboard layout code 0x409\r\n2022-01-16 12:24:04,364 identified as 'United States - English' : us\r\n2022-01-16 12:24:04,402 OpenGL_accelerate module loaded\r\n2022-01-16 12:24:04,420 Using accelerated ArrayDatatype\r\n2022-01-16 12:24:04,869 OpenGL accelerate missing: numpy_formathandler\r\n2022-01-16 12:24:04,871 OpenGL enabled with NVIDIA GeForce RTX 2080 SUPER/PCIe/SSE2\r\n2022-01-16 12:24:04,931  keyboard settings: layout=us\r\n2022-01-16 12:24:04,932  desktop size is 4480x1535:\r\n2022-01-16 12:24:04,932   Default (1185x406 mm - DPI: 96x96) workarea: 4480x1495\r\n2022-01-16 12:24:04,933     Samsung C32JG5x  2560x1440 at    0x0    (697x392 mm - DPI: 93x93) workarea: 2560x1400\r\n2022-01-16 12:24:04,933     LG IPS234        1920x1080 at 2560x455  (510x290 mm - DPI: 96x95) workarea: 1920x1040 at 2560x455\r\n2022-01-16 12:24:04,933  upscaled to 125%, virtual screen size: 3584x1228\r\n2022-01-16 12:24:04,933   Default (1185x406 mm - DPI: 77x77) workarea: 3584x1196\r\n2022-01-16 12:24:04,933     Samsung C32JG5x  2048x1152 at    0x0    (697x392 mm - DPI: 75x75) workarea: 2048x1120\r\n2022-01-16 12:24:04,933     LG IPS234        1536x864  at 2048x364  (510x290 mm - DPI: 76x76) workarea: 1536x832  at 2048x364\r\n2022-01-16 12:24:12,193 enabled remote logging\r\n2022-01-16 12:24:12,194 Xpra shadow server version 4.4-r30771 64-bit\r\n2022-01-16 12:24:12,195  running on Linux Ubuntu 20.04 focal\r\n2022-01-16 12:24:12,195  remote desktop size is 1920x1080 with 1 screen:\r\n2022-01-16 12:24:12,196   :0.0 (508x286 mm - DPI: 96x96) workarea: 1851x1053 at   69x27\r\n2022-01-16 12:24:12,196     LGD eDP-1        (309x174 mm - DPI: 158x158)\r\n2022-01-16 12:24:12,738 running, 1 window\r\n\r\n(xpra_cmd:33168): Pango-WARNING **: 12:24:17.495: couldn't load font \"Gentium Book Basic Bold Italic Not-Rotated 57.3310546875\", falling back to \"Sans Bold Italic Not-Rotated 57.3310546875\", expect ugly output.\r\n\r\n(xpra_cmd:33168): Pango-WARNING **: 12:24:17.501: couldn't load font \"Gentium Book Basic Bold Italic Not-Rotated 57.095703125\", falling back to \"Sans Bold Italic Not-Rotated 57.095703125\", expect ugly output.\r\n\r\n(xpra_cmd:33168): Pango-WARNING **: 12:24:17.753: couldn't load font \"DejaVu Serif Not-Rotated 59.796875\", falling back to \"Sans Not-Rotated 59.796875\", expect ugly output.\r\n\r\n(xpra_cmd:33168): Pango-WARNING **: 12:24:17.757: couldn't load font \"URW Bookman L Not-Rotated 52.76171875\", falling back to \"Sans Not-Rotated 52.76171875\", expect ugly output.\r\n2022-01-16 12:50:23,773 enabled debugging for:\r\n2022-01-16 12:50:23,774  - Logger(xpra.client.client_window_base, keyboard)\r\n2022-01-16 12:50:23,775  - Logger(xpra.platform.win32.gui, win32, keyboard)\r\n2022-01-16 12:50:23,775  - Logger(xpra.platform.win32.keyboard, keyboard)\r\n2022-01-16 12:50:23,776  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard)\r\n2022-01-16 12:50:23,776  - Logger(xpra.client.keyboard_helper, keyboard)\r\n2022-01-16 12:50:23,776  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard, events)\r\n2022-01-16 12:50:23,777  - Logger(xpra.platform.keyboard_base, keyboard)\r\n2022-01-16 12:50:23,777  - Logger(xpra.client.keyboard_shortcuts_parser, keyboard)\r\n2022-01-16 12:50:23,777  - Logger(xpra.client.ui_client_base, client, keyboard)\r\n2022-01-16 12:50:23,777  - Logger(xpra.gtk_common.keymap, keyboard)\r\n2022-01-16 12:50:25,194 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['control', 'mod2']\r\n2022-01-16 12:50:25,195 parse_key_event(<Gdk.EventKey object at 0x0000025ba02e6860 (void at 0x0000025bb71b1840)>, True)=KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True)\r\n2022-01-16 12:50:25,195 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True)) wid=1\r\n2022-01-16 12:50:25,195 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Control_L', ['control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:25,196 process_key_event: Control_L pressed=True, with GetKeyState(VK_RMENU)=0\r\n2022-01-16 12:50:25,247 send_delayed_key() delayed_event=(<bound method KeyboardHelper.send_key_action of <xpra.client.gtk_base.gtk_keyboard_helper.GTKKeyboardHelper object at 0x0000025bb800d3a0>>, 1, KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True))\r\n2022-01-16 12:50:25,248 send_delayed_key() GetKeyState(VK_RMENU)=0\r\n2022-01-16 12:50:25,249 send_key_action(1, KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True))\r\n2022-01-16 12:50:25,279 mask_to_names(<flags GDK_SHIFT_MASK | GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['shift', 'control', 'mod2']\r\n2022-01-16 12:50:25,280 parse_key_event(<Gdk.EventKey object at 0x0000025ba02e6b30 (void at 0x0000025bb71b1840)>, True)=KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=True)\r\n2022-01-16 12:50:25,281 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=True)) wid=1\r\n2022-01-16 12:50:25,281 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Shift_L', ['shift', 'control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:25,282 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:25,282 send_key_action(1, KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=True))\r\n2022-01-16 12:50:25,800 mask_to_names(<flags GDK_SHIFT_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['shift', 'mod2']\r\n2022-01-16 12:50:25,801 parse_key_event(<Gdk.EventKey object at 0x0000025ba02cd7c0 (void at 0x0000025bb71b1840)>, False)=KeyEvent(modifiers=['shift', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=False)\r\n2022-01-16 12:50:25,802 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['shift', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=False)) wid=1\r\n2022-01-16 12:50:25,802 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Control_L', ['shift', 'mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:25,802 process_key_event: Control_L pressed=False, with GetKeyState(VK_RMENU)=0\r\n2022-01-16 12:50:25,803 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:25,803 send_key_action(1, KeyEvent(modifiers=['shift', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=False))\r\n2022-01-16 12:50:25,803 mask_to_names(<flags 0 of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['mod2']\r\n2022-01-16 12:50:25,804 parse_key_event(<Gdk.EventKey object at 0x0000025ba02cd7c0 (void at 0x0000025bb71b1840)>, False)=KeyEvent(modifiers=['mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=False)\r\n2022-01-16 12:50:25,804 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=False)) wid=1\r\n2022-01-16 12:50:25,805 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Shift_L', ['mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:25,805 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:25,805 send_key_action(1, KeyEvent(modifiers=['mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=False))\r\n2022-01-16 12:50:26,926 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['control', 'mod2']\r\n2022-01-16 12:50:26,927 parse_key_event(<Gdk.EventKey object at 0x0000025ba02ecbd0 (void at 0x0000025bb71b1840)>, True)=KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True)\r\n2022-01-16 12:50:26,928 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True)) wid=1\r\n2022-01-16 12:50:26,928 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Control_L', ['control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:26,928 process_key_event: Control_L pressed=True, with GetKeyState(VK_RMENU)=0\r\n2022-01-16 12:50:26,979 send_delayed_key() delayed_event=(<bound method KeyboardHelper.send_key_action of <xpra.client.gtk_base.gtk_keyboard_helper.GTKKeyboardHelper object at 0x0000025bb800d3a0>>, 1, KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True))\r\n2022-01-16 12:50:26,980 send_delayed_key() GetKeyState(VK_RMENU)=0\r\n2022-01-16 12:50:26,980 send_key_action(1, KeyEvent(modifiers=['control', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=True))\r\n2022-01-16 12:50:27,001 mask_to_names(<flags GDK_SHIFT_MASK | GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['shift', 'control', 'mod2']\r\n2022-01-16 12:50:27,001 parse_key_event(<Gdk.EventKey object at 0x0000025ba02cd7c0 (void at 0x0000025bb71b1840)>, True)=KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=True)\r\n2022-01-16 12:50:27,002 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=True)) wid=1\r\n2022-01-16 12:50:27,002 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Shift_L', ['shift', 'control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:27,002 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:27,003 send_key_action(1, KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=True))\r\n2022-01-16 12:50:27,323 mask_to_names(<flags GDK_SHIFT_MASK | GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['shift', 'control', 'mod2']\r\n2022-01-16 12:50:27,323 parse_key_event(<Gdk.EventKey object at 0x0000025ba02ecbd0 (void at 0x0000025bb71b1840)>, True)=KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=V, keyval=86, keycode=86, group=0, string=\u0016, pressed=True)\r\n2022-01-16 12:50:27,325 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=V, keyval=86, keycode=86, group=0, string=\u0016, pressed=True)) wid=1\r\n2022-01-16 12:50:27,325 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'V', ['shift', 'control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:27,326 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:27,326 send_key_action(1, KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=V, keyval=86, keycode=86, group=0, string=\u0016, pressed=True))\r\n2022-01-16 12:50:27,462 mask_to_names(<flags GDK_SHIFT_MASK | GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['shift', 'control', 'mod2']\r\n2022-01-16 12:50:27,463 parse_key_event(<Gdk.EventKey object at 0x0000025ba034d130 (void at 0x0000025bb71b1840)>, False)=KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=V, keyval=86, keycode=86, group=0, string=\u0016, pressed=False)\r\n2022-01-16 12:50:27,464 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=V, keyval=86, keycode=86, group=0, string=\u0016, pressed=False)) wid=1\r\n2022-01-16 12:50:27,464 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'V', ['shift', 'control', 'mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:27,465 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:27,465 send_key_action(1, KeyEvent(modifiers=['shift', 'control', 'mod2'], keyname=V, keyval=86, keycode=86, group=0, string=\u0016, pressed=False))\r\n2022-01-16 12:50:27,501 mask_to_names(<flags GDK_SHIFT_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['shift', 'mod2']\r\n2022-01-16 12:50:27,502 parse_key_event(<Gdk.EventKey object at 0x0000025ba032c860 (void at 0x0000025bb71b1840)>, False)=KeyEvent(modifiers=['shift', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=False)\r\n2022-01-16 12:50:27,503 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['shift', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=False)) wid=1\r\n2022-01-16 12:50:27,503 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Control_L', ['shift', 'mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:27,503 process_key_event: Control_L pressed=False, with GetKeyState(VK_RMENU)=0\r\n2022-01-16 12:50:27,504 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:27,504 send_key_action(1, KeyEvent(modifiers=['shift', 'mod2'], keyname=Control_L, keyval=65507, keycode=17, group=0, string=, pressed=False))\r\n2022-01-16 12:50:27,505 mask_to_names(<flags 0 of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['mod2']\r\n2022-01-16 12:50:27,505 parse_key_event(<Gdk.EventKey object at 0x0000025ba032c860 (void at 0x0000025bb71b1840)>, False)=KeyEvent(modifiers=['mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=False)\r\n2022-01-16 12:50:27,506 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), KeyEvent(modifiers=['mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=False)) wid=1\r\n2022-01-16 12:50:27,506 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Shift_L', ['mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n2022-01-16 12:50:27,506 send_delayed_key() delayed_event=None\r\n2022-01-16 12:50:27,507 send_key_action(1, KeyEvent(modifiers=['mod2'], keyname=Shift_L, keyval=65505, keycode=16, group=0, string=, pressed=False))\r\n2022-01-16 12:50:29,207 disabled debugging for:\r\n2022-01-16 12:50:29,208  - Logger(xpra.client.client_window_base, keyboard)\r\n2022-01-16 12:50:29,208  - Logger(xpra.platform.win32.gui, win32, keyboard)\r\n2022-01-16 12:50:29,209  - Logger(xpra.platform.win32.keyboard, keyboard)\r\n2022-01-16 12:50:29,209  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard)\r\n2022-01-16 12:50:29,209  - Logger(xpra.client.keyboard_helper, keyboard)\r\n2022-01-16 12:50:29,209  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard, events)\r\n2022-01-16 12:50:29,209  - Logger(xpra.platform.keyboard_base, keyboard)\r\n2022-01-16 12:50:29,210  - Logger(xpra.client.keyboard_shortcuts_parser, keyboard)\r\n2022-01-16 12:50:29,210  - Logger(xpra.client.ui_client_base, client, keyboard)\r\n2022-01-16 12:50:29,210  - Logger(xpra.gtk_common.keymap, keyboard)\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\n2. client command\r\n3. specific action to trigger the bug\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.3 LTS\r\n- Client OS: Microsoft Windows [Version 10.0.18363.836]\r\n- Xpra Server Version (see above)\r\n- Xpra Client Version (see above)\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3439/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3435", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3435/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3435/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3435/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3435", "id": 1105004190, "node_id": "I_kwDOE8kGxM5B3Qae", "number": 3435, "title": "xpra --help: \"Default: .\" for some options", "user": {"login": "mviereck", "id": 14821372, "node_id": "MDQ6VXNlcjE0ODIxMzcy", "avatar_url": "https://avatars.githubusercontent.com/u/14821372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mviereck", "html_url": "https://github.com/mviereck", "followers_url": "https://api.github.com/users/mviereck/followers", "following_url": "https://api.github.com/users/mviereck/following{/other_user}", "gists_url": "https://api.github.com/users/mviereck/gists{/gist_id}", "starred_url": "https://api.github.com/users/mviereck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mviereck/subscriptions", "organizations_url": "https://api.github.com/users/mviereck/orgs", "repos_url": "https://api.github.com/users/mviereck/repos", "events_url": "https://api.github.com/users/mviereck/events{/privacy}", "received_events_url": "https://api.github.com/users/mviereck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-16T09:46:02Z", "updated_at": "2022-01-16T13:49:36Z", "closed_at": "2022-01-16T13:49:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "`xpra --help` shows `Default: .` for some options.\r\n```\r\n$ xpra --help | grep -i \"default: \\.\"\r\n    --exec-wrapper=CMD  Wrapper for executing commands. Default: .\r\n                        starting commands. Default: .\r\n                        The keyboard layout to use. Default: .\r\n                        The keyboard layouts to enable. Default: .\r\n                        The keyboard layout variant to use. Default: .\r\n                        The keyboard layout variants to enable. Default: .\r\n                        The keyboard layout options to use. Default: .\r\n                        multiple times. Default: .\r\n                        (useful to secure TCP mode). Default: .\r\n```\r\nxpra v4.3.1-r0 on debian bullseye from xpra.org repository.\r\n\r\nLikely other values should be shown.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3435/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3434", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3434/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3434/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3434/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3434", "id": 1104226939, "node_id": "I_kwDOE8kGxM5B0Sp7", "number": 3434, "title": "xpra version from client won't use client connections", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-15T00:08:14Z", "updated_at": "2022-01-17T13:12:06Z", "closed_at": "2022-01-15T07:02:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n`xpra version` requires a server. Specifying a local client session fails to put the named session to use. Asking for version of a legitimate remote client with ssh syntax doesn't identify which local connection it's using.\r\n\r\nHow do I learn which local client is connected to which remote server?\r\n\r\n**To Reproduce**\r\n1. Any server startup(s)\r\n2. Any client connection(s)\r\n3. `xpra version` in several variations, both right and wrong. Why isn't the local list of sessions usable to reach the indicated server?\r\n```\r\n$ xpra version\r\nxpra initialization error:\r\n cannot find any live servers to connect to\r\n$ xpra list\r\nFound the following xpra sessions:\r\n/run/user/5271/xpra/clients:\r\n\tLIVE session at :1483882\r\n\tLIVE session at :1483883\r\n\tLIVE session at :1484900\r\n\tLIVE session at :1798877\r\n\tLIVE session at :1973468\r\n\tLIVE session at :1976098\r\n\tLIVE session at :53409\r\n\tLIVE session at :54018\r\n\tLIVE session at :71932\r\n$ xpra version :53409\r\nserver socket for display :53409 not found\r\n waiting up to 20 seconds\r\nWarning: failed to connect:\r\n cannot find live server for display :53409\r\n$ xpra version ssh://major/73\r\nConnected (version 2.0, client OpenSSH_8.7)\r\nAuthentication (publickey) successful!\r\n4.4-r30818 (gc7abc26db)\r\nSSH EOF on stderr of run-xpra\r\n```\r\n\r\n**System Information (please complete the following information):**\r\nF35 + 4.4-10.r30839 at both ends.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3434/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3434/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3432", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3432/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3432/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3432/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3432", "id": 1103861004, "node_id": "I_kwDOE8kGxM5By5UM", "number": 3432, "title": "xpra upgrade fails, found an existing window manager", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-01-14T16:21:13Z", "updated_at": "2022-01-24T15:01:41Z", "closed_at": "2022-01-15T08:04:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Entire `server.log`, post-upgrade:\r\n```\r\n2022-01-14 11:04:58,912 cannot use uinput for virtual devices:\r\n2022-01-14 11:04:58,912  [Errno 19] Failed to open the uinput device: No such device\r\n2022-01-14 11:04:58,989 pointer device emulation using XTest\r\n2022-01-14 11:04:59,058 serving html content from '/usr/share/xpra/www'\r\n2022-01-14 11:04:59,058 wrote pid 489964 to '/run/user/45512/xpra/27/server.pid'\r\n2022-01-14 11:04:59,073 Warning: found an existing window manager\r\n2022-01-14 11:04:59,073  on display :27 using EWMH window 0x1c00006: 'GNOME Shell'\r\n2022-01-14 11:04:59,073 Error: xpra server not found\r\n```\r\nWell, yes, there's a window manager there. It's an existing desktop, of course there's a window manager there.\r\n\r\nXorg survived xpra's crash:\r\n```\r\nkkleinpa   10132  0.0  0.6 3873548 409364 ?      Ssl  Jan13   1:15 /usr/libexec/Xorg -noreset -novtswitch -nolisten tcp +extension GLX +extension RANDR +extension RENDER -auth /home/kkleinpa/.Xauthority -logfile /run/user/45512/xpra/27/Xorg.log -configdir /run/user/45512/xpra/27/xorg.conf.d/10062 -config /etc/xpra/xorg.conf -depth 24 :27\r\n```\r\n\r\n**To Reproduce**\r\n1. `xpra start-desktop ssh://dt/27 --start-child=vgnome --resize-display=1856x1024`\r\n[ `vgnome` is a 1-line script that invokes `gnome-session` via `/etc/X11/xinit/xinitrc`; the session has existed for days ]\r\n2. `xpra attach ssh://dt/27 --border=yellow,1`\r\n3. `xpra upgrade :27` in terminal within the session\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Centos 8.5\r\n - Client OS: F35\r\n - Xpra Server Version 4.4-10.r30839\r\n - Xpra Client Version 4.4-10.r30839", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3432/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3431", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3431/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3431/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3431/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3431", "id": 1103791609, "node_id": "I_kwDOE8kGxM5ByoX5", "number": 3431, "title": "vfb Xwayland: crash of xpra server without --video-encoders=none (segmentation fault)", "user": {"login": "mviereck", "id": 14821372, "node_id": "MDQ6VXNlcjE0ODIxMzcy", "avatar_url": "https://avatars.githubusercontent.com/u/14821372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mviereck", "html_url": "https://github.com/mviereck", "followers_url": "https://api.github.com/users/mviereck/followers", "following_url": "https://api.github.com/users/mviereck/following{/other_user}", "gists_url": "https://api.github.com/users/mviereck/gists{/gist_id}", "starred_url": "https://api.github.com/users/mviereck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mviereck/subscriptions", "organizations_url": "https://api.github.com/users/mviereck/orgs", "repos_url": "https://api.github.com/users/mviereck/repos", "events_url": "https://api.github.com/users/mviereck/events{/privacy}", "received_events_url": "https://api.github.com/users/mviereck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-14T15:27:36Z", "updated_at": "2022-01-18T14:28:33Z", "closed_at": "2022-01-18T14:28:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI use xpra to attach to Xwayland as its vfb.\r\nIf I run the xpra server without `--video-encoders=none`, the server crashes with a segmentation fault.\r\n\r\nI am aware that you do not officially support Xwayland as vfb, however, you might be interested in this.\r\n\r\n**To Reproduce**\r\n \r\nScript to reproduce: (please run in Xorg, not in e.g. Gnome-Wayland)\r\n```#! /bin/bash\r\nexport LC_ALL=C\r\n\r\necho \"### starting weston ###\"\r\nweston &\r\nsleep 10\r\n\r\necho \"### starting Xwayland ###\"\r\nXwayland :10 -ac &\r\nsleep 5\r\n\r\necho \"### starting xpra server ###\"\r\n# crashing command:\r\nxpra start :10 --use-display --daemon=no &\r\n# does not crash:\r\n#xpra start :10 --use-display --daemon=no --video-encoders=none &\r\nsleep 20\r\n\r\necho \"### starting xpra client ###\"\r\nxpra attach :10\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian bullseye\r\n - Client OS: Debian bulleye\r\n - Xpra Server Version xpra v4.3.1-r0\r\n - Xpra Client Version xpra v4.3.1-r0\r\n\r\n**Additional context**\r\nOutput of script with crash:\r\n```\r\n### starting weston ###\r\nDate: 2022-01-14 CET\r\n[16:20:39.722] weston 9.0.0\r\n               https://wayland.freedesktop.org\r\n               Bug reports to: https://gitlab.freedesktop.org/wayland/weston/issues/\r\n               Build: 9.0.0\r\n[16:20:39.722] Command line: weston\r\n[16:20:39.722] OS: Linux, 5.10.0-10-amd64, #1 SMP Debian 5.10.84-1 (2021-12-08), x86_64\r\n[16:20:39.722] Using config file '/home/lauscher/.config/weston.ini'\r\n[16:20:39.722] Output repaint window is 7 ms maximum.\r\n[16:20:39.722] Loading module '/usr/lib/x86_64-linux-gnu/libweston-9/x11-backend.so'\r\n[16:20:39.728] Loading module '/usr/lib/x86_64-linux-gnu/libweston-9/gl-renderer.so'\r\n[16:20:39.729] EGL client extensions: EGL_EXT_device_base\r\n               EGL_EXT_device_enumeration EGL_EXT_device_query\r\n               EGL_EXT_platform_base EGL_KHR_client_get_all_proc_addresses\r\n               EGL_EXT_client_extensions EGL_KHR_debug EGL_EXT_platform_device\r\n               EGL_EXT_platform_wayland EGL_KHR_platform_wayland\r\n               EGL_EXT_platform_x11 EGL_KHR_platform_x11 EGL_MESA_platform_gbm\r\n               EGL_KHR_platform_gbm EGL_MESA_platform_surfaceless\r\n[16:20:39.785] EGL version: 1.4\r\n[16:20:39.785] EGL vendor: Mesa Project\r\n[16:20:39.785] EGL client APIs: OpenGL OpenGL_ES \r\n[16:20:39.785] EGL extensions: EGL_ANDROID_blob_cache EGL_CHROMIUM_sync_control\r\n               EGL_EXT_buffer_age EGL_EXT_image_dma_buf_import\r\n               EGL_EXT_image_dma_buf_import_modifiers\r\n               EGL_EXT_swap_buffers_with_damage EGL_KHR_cl_event2\r\n               EGL_KHR_config_attribs EGL_KHR_create_context\r\n               EGL_KHR_create_context_no_error EGL_KHR_fence_sync\r\n               EGL_KHR_get_all_proc_addresses EGL_KHR_gl_colorspace\r\n               EGL_KHR_gl_renderbuffer_image EGL_KHR_gl_texture_2D_image\r\n               EGL_KHR_gl_texture_3D_image EGL_KHR_gl_texture_cubemap_image\r\n               EGL_KHR_image EGL_KHR_image_base EGL_KHR_image_pixmap\r\n               EGL_KHR_no_config_context EGL_KHR_reusable_sync\r\n               EGL_KHR_surfaceless_context EGL_KHR_swap_buffers_with_damage\r\n               EGL_EXT_pixel_format_float EGL_KHR_wait_sync\r\n               EGL_MESA_configless_context EGL_MESA_drm_image\r\n               EGL_MESA_image_dma_buf_export EGL_MESA_query_driver\r\n               EGL_NOK_texture_from_pixmap EGL_WL_bind_wayland_display\r\n[16:20:39.785] warning: Disabling render GPU timeline and explicit synchronization due to missing EGL_ANDROID_native_fence_sync extension\r\n[16:20:39.785] EGL_KHR_surfaceless_context available\r\n[16:20:39.788] GL version: OpenGL ES 3.0 Mesa 20.3.5\r\n[16:20:39.788] GLSL version: OpenGL ES GLSL ES 3.00\r\n[16:20:39.788] GL vendor: nouveau\r\n[16:20:39.788] GL renderer: NVA5\r\n[16:20:39.788] GL extensions: GL_EXT_blend_minmax GL_EXT_multi_draw_arrays\r\n               GL_EXT_texture_filter_anisotropic\r\n               GL_EXT_texture_compression_s3tc GL_EXT_texture_compression_dxt1\r\n               GL_EXT_texture_compression_rgtc GL_EXT_texture_format_BGRA8888\r\n               GL_OES_compressed_ETC1_RGB8_texture GL_OES_depth24\r\n               GL_OES_element_index_uint GL_OES_fbo_render_mipmap\r\n               GL_OES_mapbuffer GL_OES_rgb8_rgba8 GL_OES_standard_derivatives\r\n               GL_OES_stencil8 GL_OES_texture_3D GL_OES_texture_float\r\n               GL_OES_texture_float_linear GL_OES_texture_half_float\r\n               GL_OES_texture_half_float_linear GL_OES_texture_npot\r\n               GL_OES_vertex_half_float GL_EXT_draw_instanced\r\n               GL_EXT_texture_sRGB_decode GL_OES_EGL_image\r\n               GL_OES_depth_texture GL_AMD_performance_monitor\r\n               GL_OES_packed_depth_stencil GL_EXT_texture_type_2_10_10_10_REV\r\n               GL_NV_conditional_render GL_OES_get_program_binary\r\n               GL_APPLE_texture_max_level GL_EXT_discard_framebuffer\r\n               GL_EXT_read_format_bgra GL_EXT_frag_depth\r\n               GL_NV_fbo_color_attachments GL_OES_EGL_image_external\r\n               GL_OES_EGL_sync GL_OES_vertex_array_object\r\n               GL_ANGLE_pack_reverse_row_order\r\n               GL_ANGLE_texture_compression_dxt3\r\n               GL_ANGLE_texture_compression_dxt5\r\n               GL_EXT_occlusion_query_boolean GL_EXT_texture_rg\r\n               GL_EXT_unpack_subimage GL_NV_draw_buffers GL_NV_read_buffer\r\n               GL_NV_read_depth GL_NV_read_depth_stencil GL_NV_read_stencil\r\n               GL_EXT_draw_buffers GL_EXT_map_buffer_range GL_KHR_debug\r\n               GL_KHR_texture_compression_astc_ldr GL_NV_pixel_buffer_object\r\n               GL_OES_depth_texture_cube_map GL_OES_required_internalformat\r\n               GL_OES_surfaceless_context GL_EXT_color_buffer_float\r\n               GL_EXT_sRGB_write_control GL_EXT_separate_shader_objects\r\n               GL_EXT_shader_integer_mix GL_EXT_base_instance\r\n               GL_EXT_compressed_ETC1_RGB8_sub_texture GL_EXT_copy_image\r\n               GL_EXT_draw_buffers_indexed GL_EXT_draw_elements_base_vertex\r\n               GL_EXT_polygon_offset_clamp GL_EXT_texture_border_clamp\r\n               GL_KHR_context_flush_control GL_OES_copy_image\r\n               GL_OES_draw_buffers_indexed GL_OES_draw_elements_base_vertex\r\n               GL_OES_texture_border_clamp GL_OES_texture_stencil8\r\n               GL_EXT_blend_func_extended GL_EXT_float_blend GL_KHR_no_error\r\n               GL_KHR_texture_compression_astc_sliced_3d\r\n               GL_OES_EGL_image_external_essl3 GL_EXT_clip_cull_distance\r\n               GL_EXT_disjoint_timer_query\r\n               GL_EXT_texture_compression_s3tc_srgb GL_EXT_window_rectangles\r\n               GL_MESA_shader_integer_functions GL_EXT_clip_control\r\n               GL_EXT_color_buffer_half_float GL_KHR_parallel_shader_compile\r\n               GL_EXT_EGL_image_storage GL_MESA_framebuffer_flip_y\r\n               GL_EXT_depth_clamp GL_EXT_texture_query_lod\r\n[16:20:39.788] GL ES 2 renderer features:\r\n               read-back format: BGRA\r\n               wl_shm sub-image to texture: yes\r\n               EGL Wayland extension: yes\r\n[16:20:39.788] Using gl renderer\r\n[16:20:39.795] Registered plugin API 'weston_windowed_output_api_v1' of size 16\r\n[16:20:39.796] Chosen EGL config details: id:  17 rgba: 8 8 8 0 buf: 24 dep:  0 stcl: 0 int: 0-1000 type: win|pix|pbf vis_id: 0x21\r\n[16:20:39.798] x11 output 1800x900, window id 90177541\r\n[16:20:39.798] Output 'X1' enabled with head(s) X1\r\n[16:20:39.798] Compositor capabilities:\r\n               arbitrary surface rotation: yes\r\n               screen capture uses y-flip: yes\r\n               presentation clock: CLOCK_MONOTONIC_RAW, id 4\r\n               presentation clock resolution: 0.000000001 s\r\n[16:20:39.798] Loading module '/usr/lib/x86_64-linux-gnu/weston/desktop-shell.so'\r\n[16:20:39.798] launching '/usr/lib/x86_64-linux-gnu/weston-keyboard'\r\n[16:20:39.800] Old Xwayland module loading detected: Please use --xwayland command line option or set xwayland=true in the [core] section in weston.ini\r\n[16:20:39.800] Loading module '/usr/lib/x86_64-linux-gnu/libweston-9/xwayland.so'\r\n[16:20:39.809] Registered plugin API 'weston_xwayland_v1' of size 32\r\n[16:20:39.809] Registered plugin API 'weston_xwayland_surface_v1' of size 16\r\n[16:20:39.809] xserver listening on display :1\r\n[16:20:39.809] launching '/usr/lib/x86_64-linux-gnu/weston-desktop-shell'\r\n[16:20:39.811] Chosen EGL config details: id:  17 rgba: 8 8 8 0 buf: 24 dep:  0 stcl: 0 int: 0-1000 type: win|pix|pbf vis_id: 0x21\r\nERROR loading icon from file '/usr/share/icons/gnome/24x24/apps/utilities-terminal.png', error: 'file not found'\r\nERROR loading icon from file '/usr/share/icons/gnome-colors-common/24x24/actions/xfce4-appfinder.png', error: 'file not found'\r\nERROR loading icon from file '/usr/local/share/icons/hicolor/72x72/apps/x11docker.png', error: 'file not found'\r\n### starting Xwayland ###\r\nThe XKEYBOARD keymap compiler (xkbcomp) reports:\r\n> Warning:          Unsupported maximum keycode 569, clipping.\r\n>                   X11 cannot support keycodes above 255.\r\nErrors from xkbcomp are not fatal to the X server\r\n### starting xpra server ###\r\n2022-01-14 16:20:55,056 no uinput module\r\nThe XKEYBOARD keymap compiler (xkbcomp) reports:\r\n> Warning:          Unsupported maximum keycode 569, clipping.\r\n>                   X11 cannot support keycodes above 255.\r\nErrors from xkbcomp are not fatal to the X server\r\n2022-01-14 16:20:55,544 pointer device emulation using XTest\r\n2022-01-14 16:20:55,581 serving html content from '/usr/share/xpra/www'\r\n2022-01-14 16:20:55,582 wrote pid 38728 to '/run/user/1000/xpra/10/server.pid'\r\n2022-01-14 16:20:55,612 Warning: socket directory '/run/user/1000/xpra'\r\n2022-01-14 16:20:55,613  expected permissions 0o700 but found 0o755\r\n2022-01-14 16:20:55,613 Warning: socket directory '/run/user/1000/xpra/10'\r\n2022-01-14 16:20:55,613  expected permissions 0o700 but found 0o750\r\n2022-01-14 16:20:55,614 created unix domain socket '/run/user/1000/xpra/debianlaptop-10'\r\n2022-01-14 16:20:55,614 cannot create group socket '/run/xpra/debianlaptop-10'\r\n2022-01-14 16:20:55,614  [Errno 13] Permission denied\r\n2022-01-14 16:20:55,615 created unix domain socket '/home/lauscher/.xpra/debianlaptop-10'\r\n2022-01-14 16:20:55,615 created unix domain socket '/run/user/1000/xpra/10/socket'\r\n2022-01-14 16:20:55,616 xvfb pid not found\r\n2022-01-14 16:20:55,702 D-Bus notification forwarding is available\r\n2022-01-14 16:20:55,730 pulseaudio server started with pid 38769\r\n2022-01-14 16:20:55,730  private server socket path:\r\n2022-01-14 16:20:55,730  '/run/user/1000/xpra/10/pulse/pulse/native'\r\nW: [pulseaudio] pid.c: Stale PID file, overwriting.\r\n2022-01-14 16:20:55,879 watching for applications menu changes in:\r\n2022-01-14 16:20:55,880  '/usr/share/xfce4/applications'\r\n2022-01-14 16:20:55,880  '/usr/local/share/applications'\r\n2022-01-14 16:20:55,880  '/usr/share/applications'\r\n2022-01-14 16:20:55,949 Warning: webcam forwarding is disabled\r\n2022-01-14 16:20:55,949  the virtual video directory '/sys/devices/virtual/video4linux' was not found\r\n2022-01-14 16:20:55,949  make sure that the 'v4l2loopback' kernel module is installed and loaded\r\n2022-01-14 16:20:55,950  or use the 'webcam=no' option\r\n2022-01-14 16:20:55,950 found 0 virtual video devices for webcam forwarding\r\n\r\n(Xpra:38728): Gtk-CRITICAL **: 16:20:55.995: gtk_widget_realize: assertion 'widget->priv->anchored || GTK_IS_INVISIBLE (widget)' failed\r\n2022-01-14 16:20:56,122 waiting for initialization thread to complete\r\n2022-01-14 16:20:56,123 xpra is ready.\r\n2022-01-14 16:20:56,412 GStreamer version 1.18.4 for Python 3.9.2 64-bit\r\n2022-01-14 16:20:58,181 xpra X11 seamless version 4.3.1-r0 64-bit\r\n2022-01-14 16:20:58,201  uid=1000 (lauscher), gid=1000 (lauscher)\r\n2022-01-14 16:20:58,202  running with pid 38728 on Linux Debian 11 bullseye\r\n2022-01-14 16:20:58,218  connected to X11 display :10 with 24 bit colors\r\n2022-01-14 16:21:01,186 loaded 8 start menu entries from 2 sub-menus in 5.3 seconds\r\n2022-01-14 16:21:01,742 Error loading '/usr/share/pixmaps/herbstluftwm.xpm':\r\n2022-01-14 16:21:01,742  cannot identify image file '/usr/share/pixmaps/herbstluftwm.xpm'\r\n2022-01-14 16:21:04,745 printer forwarding enabled using postscript and pdf\r\n/home/lauscher/bin/xpratest: line 17: 38728 Segmentation fault      xpra start :10 --use-display --daemon=no\r\n### starting xpra client ###\r\n2022-01-14 16:21:15,120 Xpra GTK3 X11 client version 4.3.1-r0 64-bit\r\n2022-01-14 16:21:15,199  running on Linux Debian 11 bullseye\r\n2022-01-14 16:21:15,201  window manager is 'Xfwm4'\r\n2022-01-14 16:21:17,641 GStreamer version 1.18.4 for Python 3.9.2 64-bit\r\n2022-01-14 16:21:17,888 created unix domain socket '/run/user/1000/xpra/clients/debianlaptop-38880'\r\n2022-01-14 16:21:18,134 No OpenGL_accelerate module loaded: No module named 'OpenGL_accelerate'\r\n2022-01-14 16:21:18,433 OpenGL enabled with NVA5\r\nserver socket for display :10 is in UNKNOWN state\r\n waiting up to 20 seconds\r\nWarning: failed to connect:\r\n cannot find live server for display :10\r\n2022-01-14 16:21:38,944 removing unix domain socket '/run/user/1000/xpra/clients/debianlaptop-38880'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3431/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3427", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3427/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3427/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3427/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3427", "id": 1100647163, "node_id": "I_kwDOE8kGxM5Bmor7", "number": 3427, "title": "winswitch xpra package for debian: missing dependency python3-rencode", "user": {"login": "mviereck", "id": 14821372, "node_id": "MDQ6VXNlcjE0ODIxMzcy", "avatar_url": "https://avatars.githubusercontent.com/u/14821372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mviereck", "html_url": "https://github.com/mviereck", "followers_url": "https://api.github.com/users/mviereck/followers", "following_url": "https://api.github.com/users/mviereck/following{/other_user}", "gists_url": "https://api.github.com/users/mviereck/gists{/gist_id}", "starred_url": "https://api.github.com/users/mviereck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mviereck/subscriptions", "organizations_url": "https://api.github.com/users/mviereck/orgs", "repos_url": "https://api.github.com/users/mviereck/repos", "events_url": "https://api.github.com/users/mviereck/events{/privacy}", "received_events_url": "https://api.github.com/users/mviereck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-01-12T18:14:11Z", "updated_at": "2022-02-23T09:30:00Z", "closed_at": "2022-02-23T09:30:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have installed xpra v4.4-r30818 (gc7abc26db) from winswitch stable repository in a docker container based on Debian bullseye.\r\n\r\nThe connection between xpra server and client broke:\r\n```\r\n  Last lines of xpra server log:\r\n(Xpra:66): Gtk-CRITICAL **: 18:00:10.451: gtk_widget_realize: assertion 'widget->priv->anchored || GTK_IS_INVISIBLE (widget)' failed\r\n2022-01-12 18:00:10,502 xpra is ready.\r\n2022-01-12 18:00:10,503 xpra X11 seamless version 4.3.1-r0 64-bit\r\n2022-01-12 18:00:10,503  uid=1000, gid=1000\r\n2022-01-12 18:00:10,503  running with pid 66 on Linux unknown unknown unknown\r\n2022-01-12 18:00:10,504  connected to X11 display :211 with 24 bit colors\r\n2022-01-12 18:00:12,545 New unix-domain connection received\r\n2022-01-12 18:00:12,545  on '/home/lauscher/.cache/x11docker/x11docker-check-10403640584/share/debianlaptop-211'\r\n2022-01-12 18:00:12,548 Disconnecting client /home/lauscher/.cache/x11docker/x11docker-check-10403640584/share/debianlaptop-211:\r\n2022-01-12 18:00:12,548  invalid packet encoding: rencode decoder is not available\r\n---------------------------------\r\n  Last lines of xpra client log:\r\n2022-01-12 19:00:12,333 OpenGL enabled with NVA5\r\n2022-01-12 19:00:12,513  keyboard settings: rules=evdev, model=a4techKB21, layout=de\r\n2022-01-12 19:00:12,519  desktop size is 1600x900:\r\n2022-01-12 19:00:12,520   :0.0 (423x238 mm - DPI: 96x96) workarea: 1563x864  at   37x36  \r\n2022-01-12 19:00:12,520     LEN LVDS-1       (344x193 mm - DPI: 118x118)\r\n2022-01-12 19:00:12,550 Error: failed to connect\r\n2022-01-12 19:00:12,550  received uninterpretable nonsense: 'invalid packet header byte: 0x646973636f6e6e65'\r\n2022-01-12 19:00:12,550  b'disconnect: invalid packet encoding: rencode decoder is not available\\n' (70 bytes)\r\n2022-01-12 19:00:12,551  data: 'disconnect: invalid packet encoding: rencode decoder is not available'\r\n2022-01-12 19:00:12,581 removing unix domain socket '/run/user/1000/xpra/clients/debianlaptop-242008'\r\n```\r\nThe key was:\r\n```\r\n2022-01-12 18:00:12,548  invalid packet encoding: rencode decoder is not available\r\n```\r\nInstalling `python3-rencode` fixed the issue. It should be added to the dependencies.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3427/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3425", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3425/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3425/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3425/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3425", "id": 1100485999, "node_id": "I_kwDOE8kGxM5BmBVv", "number": 3425, "title": "macos shadow server cannot simulate clicks and key presses", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222920, "node_id": "MDU6TGFiZWwyNjgxMjIyOTIw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/shadow", "name": "shadow", "color": "850885", "default": false, "description": ""}, {"id": 2681232498, "node_id": "MDU6TGFiZWwyNjgxMjMyNDk4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/macos", "name": "macos", "color": "A6D7AE", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-01-12T15:37:55Z", "updated_at": "2022-04-03T14:18:00Z", "closed_at": "2022-04-03T14:18:00Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Probably some security feature that gets in the way.\r\nI can move the pointer around, but all clicks are silently ignored.\r\n\r\nPerhaps we need to use `tccutil` to allow it?\r\nUseful link: [macOS: simulated mouse event only works when launching binary, not application bundle](https://stackoverflow.com/questions/61843481/)\r\n\r\nAlso found: _We are changing the default system permissions for using CGEventTaps and CGEvent posting to remove this capability without explicit user permission_\r\n(not posting link since Apple keeps breaking its own URLs)\r\n\r\n---\r\n\r\nThe following patch would switch from using `CGPostMouseEvent` to using `CGEventCreateMouseEvent` - but since this makes no difference, I am unable to validate it:\r\n```patch\r\ndiff --git a/xpra/platform/darwin/shadow_server.py b/xpra/platform/darwin/shadow_server.py\r\nindex 8514a71c6..ac005d562 100644\r\n--- a/xpra/platform/darwin/shadow_server.py\r\n+++ b/xpra/platform/darwin/shadow_server.py\r\n@@ -187,15 +187,38 @@ class ShadowServer(GTKShadowServerBase):\r\n         if pointer:\r\n             self.button_action(pointer, button, pressed, -1, *args)\r\n \r\n-    def button_action(self, pointer, button, pressed, _deviceid=-1, *_args):\r\n-        if button<=3:\r\n-            #we should be using CGEventCreateMouseEvent\r\n-            #instead we clear previous clicks when a \"higher\" button is pressed... oh well\r\n-            event = [pointer[:2], 1, button]\r\n-            for i in range(button):\r\n-                event.append(i==(button-1) and pressed)\r\n-            r = CG.CGPostMouseEvent(*event)\r\n-            log(\"CG.CGPostMouseEvent%s=%s\", event, r)\r\n+    def button_action(self, pointer, button, pressed, deviceid=-1, *args):\r\n+        log.warn(\"button_action%s\", (pointer, button, pressed, deviceid, args))\r\n+        if 1<=button<=3:\r\n+            if pressed:\r\n+                mousetype = {\r\n+                    1 : CG.kCGEventLeftMouseDown,\r\n+                    2 : CG.kCGEventRightMouseDown,\r\n+                    3 : CG.kCGEventOtherMouseDown,\r\n+                    }.get(button)\r\n+            else:\r\n+                mousetype = {\r\n+                    1 : CG.kCGEventLeftMouseUp,\r\n+                    2 : CG.kCGEventRightMouseUp,\r\n+                    3 : CG.kCGEventOtherMouseUp,\r\n+                    }.get(button)\r\n+            mousebutton = {\r\n+                1 : CG.kCGMouseButtonLeft,\r\n+                2 : CG.kCGMouseButtonRight,\r\n+                3 : CG.kCGMouseButtonCenter,\r\n+                }.get(button)\r\n+            event = CG.CGEventCreateMouseEvent(\r\n+                        None,\r\n+                        mousetype,\r\n+                        #CG.CGPointMake(*(pointer[:2])),\r\n+                        pointer[:2],\r\n+                        mousebutton)\r\n+            log.warn(\"mousetype=%s, mousebutton=%s\", mousetype, mousebutton)\r\n+            #single-click:\r\n+            CG.CGEventSetIntegerValueField(event, CG.kCGMouseEventClickState, 1)\r\n+            #CG.CGEventSetType(event, mousetype)\r\n+            r = CG.CGEventPost(CG.kCGHIDEventTap, event)\r\n+            log.warn(\"CG.CGEventPost%s=%s\", event, r)\r\n             return\r\n         if not pressed:\r\n             #we don't simulate press/unpress\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3425/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3423", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3423/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3423/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3423/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3423", "id": 1100014064, "node_id": "I_kwDOE8kGxM5BkOHw", "number": 3423, "title": "Werror too strict (py3cairo.h + gcc 11.2.0)", "user": {"login": "jhgoebbert", "id": 9266792, "node_id": "MDQ6VXNlcjkyNjY3OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/9266792?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhgoebbert", "html_url": "https://github.com/jhgoebbert", "followers_url": "https://api.github.com/users/jhgoebbert/followers", "following_url": "https://api.github.com/users/jhgoebbert/following{/other_user}", "gists_url": "https://api.github.com/users/jhgoebbert/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhgoebbert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhgoebbert/subscriptions", "organizations_url": "https://api.github.com/users/jhgoebbert/orgs", "repos_url": "https://api.github.com/users/jhgoebbert/repos", "events_url": "https://api.github.com/users/jhgoebbert/events{/privacy}", "received_events_url": "https://api.github.com/users/jhgoebbert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-12T08:17:23Z", "updated_at": "2022-01-12T13:10:30Z", "closed_at": "2022-01-12T13:10:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Installing Xpra 4.3.1 with `pip` and GCC 11.2.0 stops building because `py3cairo.h` (1.18.2) defines a static function `import_cairo()` which is not used.\r\n`-Werror` might be too strict. Perhaps `-Werror=no-unused-function` can be added.\r\n```\r\n    creating build/temp.linux-x86_64-3.9/xpra/client/gtk3\r\n    compile options: '-I/p/software/jurecadc/stages/2022/software/PyCairo/1.18.2-GCCcore-11.2.0/include/pycairo -I/p/software/jurecadc/stages/2022/software/cairo/1.16.0-GCCcore-11.2.0/include/cairo -I/p/software/jurecadc/stages/2022/software/GLib/2.69.1-GCCcore-11.2.0/include/glib-2.0 -I/p/software/jurecadc/stages/2022/software/GLib/2.69.1-GCCcore-11.2.0/lib/glib-2.0/include -I/p/software/jurecadc/stages/2022/software/pixman/0.40.0-GCCcore-11.2.0/include/pixman-1 -I/p/software/jurecadc/stages/2022/software/libpng/1.6.37-GCCcore-11.2.0/include/libpng16 -I/p/software/jurecadc/stages/2022/software/Python/3.9.6-GCCcore-11.2.0/include/python3.9 -c'\r\n    extra options: '-Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -O2 -ftree-vectorize -march=native -fno-math-errno -fPIC -O2 -ftree-vectorize -march=native -fno-math-errno -fPIC -Wall -Werror -fPIC -O2 -ftree-vectorize -march=native -fno-math-errno -fPIC'\r\n    gcc: xpra/client/gtk3/cairo_workaround.c\r\n    In file included from xpra/client/gtk3/cairo_workaround.c:680:\r\n    /p/software/jurecadc/stages/2022/software/PyCairo/1.18.2-GCCcore-11.2.0/include/pycairo/py3cairo.h:268:1: error: import_cairo defined but not used [-Werror=unused-function]\r\n      268 | import_cairo(void)\r\n          | ^~~~~~~~~~~~\r\n    cc1: all warnings being treated as errors\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3423/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3422", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3422/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3422/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3422/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3422", "id": 1099961148, "node_id": "I_kwDOE8kGxM5BkBM8", "number": 3422, "title": "xpra-html5 cannot connect to the xpra server in macOS and IOS", "user": {"login": "Vssblt", "id": 35415088, "node_id": "MDQ6VXNlcjM1NDE1MDg4", "avatar_url": "https://avatars.githubusercontent.com/u/35415088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vssblt", "html_url": "https://github.com/Vssblt", "followers_url": "https://api.github.com/users/Vssblt/followers", "following_url": "https://api.github.com/users/Vssblt/following{/other_user}", "gists_url": "https://api.github.com/users/Vssblt/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vssblt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vssblt/subscriptions", "organizations_url": "https://api.github.com/users/Vssblt/orgs", "repos_url": "https://api.github.com/users/Vssblt/repos", "events_url": "https://api.github.com/users/Vssblt/events{/privacy}", "received_events_url": "https://api.github.com/users/Vssblt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}, {"id": 2681232498, "node_id": "MDU6TGFiZWwyNjgxMjMyNDk4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/macos", "name": "macos", "color": "A6D7AE", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-01-12T07:12:50Z", "updated_at": "2022-04-26T12:20:58Z", "closed_at": "2022-04-26T12:20:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe\r\n`xpra-html5` cannot connect to the xpra server in macOS and IOS clients, Because the `Content-Security-Policy` has not been set in `xpra/net/http_handler.py`.\r\nThe default `Content-Security-Policy` value is\r\n```\r\nscript-src 'self' 'unsafe-inline' ;\r\nfont-src 'self' ;\r\nobject-src 'none';\r\nchild-src 'none';\r\nworker-src 'self';\r\nframe-ancestors 'none';\r\nform-action 'self';\r\nblock-all-mixed-content;\r\ndisown-opener;\r\nreflected-xss block;\r\nreferrer no-referrer\r\n```\r\nsafari and chrome will block the `new Worker('js/lib/wsworker_check.js')` request in macOS and IOS if `child-src` is set to `none`.\r\n\r\nAdd \r\n```\r\nself.extra_headers[\"Content-Security-Policy\"] = \"script-src 'self' 'unsafe-inline' ; font-src 'self' ; object-src 'none' ; child-src * ; worker-src 'self' ; frame-ancestors 'none' ; form-action 'self' ; block-all-mixed-content; disown-opener; reflected-xss block; referrer no-referrer;\"\r\n```\r\nto `/xpra/net/http_handler.py` will fix this bug, but not security.\r\n\r\n## To Reproduce\r\nStart a xpra server with `tcp-bind` and connect using iPhone or MacBook.\r\n\r\n## System Information\r\n - Server OS: ubuntu 20.04\r\n - Client OS: macOS or IOS\r\n - Xpra Server Version 4.3\r\n - Xpra Client Version 5.0", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3422/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3422/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3419", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3419/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3419/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3419/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3419", "id": 1096993507, "node_id": "I_kwDOE8kGxM5BYsrj", "number": 3419, "title": "`Warning: failed to parse string for key: keyname=Greek_psi, keycode=67`", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681259131, "node_id": "MDU6TGFiZWwyNjgxMjU5MTMx", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/upstream", "name": "upstream", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-08T17:49:59Z", "updated_at": "2022-01-09T08:59:56Z", "closed_at": "2022-01-09T08:59:56Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n```py\r\nXPRA_EXECUTABLE=Xpra-Python3-x86_64_4.4-r30771\r\n\r\n2022-01-08 12:40:18,769 Xpra GTK3 client version 4.4-r30771 (g636b0b8d8) 64-bit\r\n2022-01-08 12:40:18,779  running on Microsoft Windows 10\r\n2022-01-08 12:40:21,756 GStreamer version 1.18.5 for Python 3.9.7 64-bit\r\n2022-01-08 12:40:22,203 created named pipe 'Xpra\\17004'\r\n2022-01-08 12:40:22,403 keyboard layout code 0x409\r\n2022-01-08 12:40:22,404 identified as 'United States - English' : us\r\n2022-01-08 12:40:22,435 OpenGL_accelerate module loaded\r\n2022-01-08 12:40:22,453 Using accelerated ArrayDatatype\r\n2022-01-08 12:40:22,888 OpenGL accelerate missing: numpy_formathandler\r\n2022-01-08 12:40:22,891 OpenGL enabled with NVIDIA GeForce RTX 2080 SUPER/PCIe/SSE2\r\n2022-01-08 12:40:23,113  keyboard settings: layout=us\r\n2022-01-08 12:40:23,114  desktop size is 4480x1536:\r\n2022-01-08 12:40:23,114   Default (1185x406 mm - DPI: 96x96) workarea: 4480x1496\r\n2022-01-08 12:40:23,115     Samsung C32JG5x  2560x1440 at    0x0    (697x392 mm - DPI: 93x93) workarea: 2560x1400\r\n2022-01-08 12:40:23,115     LG IPS234        1920x1080 at 2560x456  (510x290 mm - DPI: 96x95) workarea: 1920x1040 at 2560x456\r\n2022-01-08 12:40:23,115  upscaled to 125%, virtual screen size: 3584x1229\r\n2022-01-08 12:40:23,116   Default (1185x406 mm - DPI: 77x77) workarea: 3584x1197\r\n2022-01-08 12:40:23,116     Samsung C32JG5x  2048x1152 at    0x0    (697x392 mm - DPI: 75x75) workarea: 2048x1120\r\n2022-01-08 12:40:23,116     LG IPS234        1536x864  at 2048x365  (510x290 mm - DPI: 76x76) workarea: 1536x832  at 2048x365\r\n2022-01-08 12:40:29,724 enabled remote logging\r\n2022-01-08 12:40:29,725 Xpra shadow server version 4.4-r30771 64-bit\r\n2022-01-08 12:40:29,725  running on Linux Ubuntu 20.04 focal\r\n2022-01-08 12:40:29,726  remote desktop size is 1920x1080 with 1 screen:\r\n2022-01-08 12:40:29,726   :0.0 (508x286 mm - DPI: 96x96) workarea: 1851x1053 at   69x27\r\n2022-01-08 12:40:29,727     LGD eDP-1        (309x174 mm - DPI: 158x158)\r\n2022-01-08 12:40:30,232 running, 1 window\r\n\r\n...\r\n\r\n2022-01-08 14:06:02,101 Warning: failed to parse string for key\r\n2022-01-08 14:06:02,102  keyname=Greek_psi, keycode=67\r\n2022-01-08 14:06:02,103  'utf-8' codec can't decode byte 0xf8 in position 0: invalid start byte\r\n2022-01-08 14:06:02,294 Warning: failed to parse string for key\r\n2022-01-08 14:06:02,295  keyname=Greek_finalsmallsigma, keycode=87\r\n2022-01-08 14:06:02,295  'utf-8' codec can't decode byte 0xf2 in position 0: unexpected end of data\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command\r\n2. client command\r\n3. specific action to trigger the bug\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.3 LTS\r\n- Client OS: Microsoft Windows [Version 10.0.18363.836]\r\n- Xpra Server Version (see above)\r\n- Xpra Client Version (see above)\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3419/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3418", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3418/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3418/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3418/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3418", "id": 1096957652, "node_id": "I_kwDOE8kGxM5BYj7U", "number": 3418, "title": "`clipboard_core.py:506`: `UnicodeEncodeError`", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222253, "node_id": "MDU6TGFiZWwyNjgxMjIyMjUz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/clipboard", "name": "clipboard", "color": "bfdadc", "default": false, "description": ""}, {"id": 2685218208, "node_id": "MDU6TGFiZWwyNjg1MjE4MjA4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/X11", "name": "X11", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-01-08T15:28:14Z", "updated_at": "2022-02-10T02:55:28Z", "closed_at": "2022-01-10T04:11:13Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nFound the following stacktrace:\r\n```py\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/clipboard/clipboard_core.py\", line 506, in process_clipboard_packet\r\n    handler(packet)\r\n  File \"/usr/lib/python3/dist-packages/xpra/clipboard/clipboard_core.py\", line 475, in _process_clipboard_contents\r\n    self._clipboard_got_contents(request_id, dtype, dformat, raw_data)\r\n  File \"/usr/lib/python3/dist-packages/xpra/clipboard/clipboard_timeout_helper.py\", line 120, in _clipboard_got_contents\r\n    proxy.got_contents(target, dtype, dformat, data)\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/gtk_x11/clipboard.py\", line 498, in got_contents\r\n    self.set_selection_response(requestor, actual_target, prop, dtype, dformat, data, time)\r\n  File \"/usr/lib/python3/dist-packages/xpra/x11/gtk_x11/clipboard.py\", line 468, in set_selection_response\r\n    data = strtobytes(data)\r\n  File \"/usr/lib/python3/dist-packages/xpra/os_util.py\", line 115, in strtobytes\r\n    return str(x).encode(\"latin1\")\r\nUnicodeEncodeError: 'latin-1' codec can't encode character '\\u279c' in position 0: ordinal not in range(256)\r\n```\r\n\r\nin the middle of trying to reproduce https://github.com/Xpra-org/xpra/issues/3417\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.3 LTS\r\n- Client OS: Microsoft Windows [Version 10.0.18363.836]\r\n- Xpra Server Version (see above)\r\n- Xpra Client Version (see above)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3418/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3417", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3417/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3417/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3417/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3417", "id": 1096957406, "node_id": "I_kwDOE8kGxM5BYj3e", "number": 3417, "title": "shadow - `Ctrl+[` shortcut is not passed", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681223172, "node_id": "MDU6TGFiZWwyNjgxMjIzMTcy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/keyboard", "name": "keyboard", "color": "F53A0A", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-01-08T15:27:14Z", "updated_at": "2022-01-11T16:42:14Z", "closed_at": "2022-01-11T11:04:36Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n`Ctrl+[` shortcut is not passed on to the server\r\n![image](https://user-images.githubusercontent.com/133706/148647959-cd86e645-3b7b-4461-bbd2-4da133e1ec20.png)\r\n\r\n```py\r\n19,797 New unix-domain connection received\r\n19,797  on '/run/user/1000/xpra/0/socket'\r\n19,799 enabled debugging for:\r\n19,799  - Logger(xpra.x11.x11_server_core, x11, server, keyboard)\r\n19,799  - Logger(xpra.server.rfb.rfb_server, rfb, keyboard)\r\n19,799  - Logger(importlib._bootstrap, x11, bindings, keyboard)\r\n19,799  - Logger(xpra.x11.server_keyboard_config, keyboard)\r\n19,799  - Logger(xpra.server.source.input_mixin, keyboard)\r\n19,799  - Logger(xpra.gtk_common.keymap, keyboard)\r\n19,799  - Logger(xpra.server.mixins.input_server, keyboard)\r\n19,799  - Logger(xpra.x11.xkbhelper, x11, keyboard)\r\n20,001 New unix-domain connection received\r\n20,001  on '/run/user/1000/xpra/0/socket'\r\n20,021 client   1 @32.688 enabled debugging for:\r\n20,059 client   1 @32.688  - Logger(xpra.platform.win32.keyboard, keyboard)\r\n20,059 client   1 @32.688  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard, events)\r\n20,059 client   1 @32.688  - Logger(xpra.platform.win32.gui, win32, keyboard)\r\n20,059 client   1 @32.688  - Logger(xpra.client.keyboard_helper, keyboard)\r\n20,059 client   1 @32.688  - Logger(xpra.client.ui_client_base, client, keyboard)\r\n20,059 client   1 @32.688  - Logger(xpra.client.keyboard_shortcuts_parser, keyboard)\r\n20,059 client   1 @32.688  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard)\r\n20,059 client   1 @32.688  - Logger(xpra.gtk_common.keymap, keyboard)\r\n20,060 client   1 @32.688  - Logger(xpra.client.client_window_base, keyboard)\r\n20,060 client   1 @32.688  - Logger(xpra.platform.keyboard_base, keyboard)\r\n21,386 client   1 @34.063 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['control', 'mod2']\r\n21,386 client   1 @34.063 parse_key_event(<Gdk.EventKey object at 0x0000022d485f3680 (void at 0x0000022d48b17000)>, True)=<xpra.common.KeyEvent object at 0x0000022d48640e20>\r\n21,388 client   1 @34.063 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), <xpra.common.KeyEvent object at 0x0000022d48640e20>) wid=1\r\n21,388 client   1 @34.063 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), 'Control_R', ['control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n21,388 client   1 @34.063 send_delayed_key() delayed_event=None\r\n21,388 client   1 @34.063 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d48640e20>)\r\n21,389 will try levels: [0, 4, 1, 5, 2, 6, 3, 7]\r\n21,389 do_get_keycode(163, 'Control_R', True, ['control', 'mod2'], 65508, '', 0)=105 (level=0, shift=False, mode=0, keysyms=['Control_R'])\r\n21,389 not toggling any modifiers state for keysyms=['Control_R']\r\n21,389 process_key_action(['key-action', 1, 'Control_R', True, ('control', 'mod2'), 65508, '', 163, 0]) server keycode=105, group=0\r\n21,389 set_keyboard_layout_group(0) ignored, value unchanged\r\n21,389 filtered_modifiers_set(['mod2'])={'mod2'}\r\n21,389 modifier 'control' ignored (in ignored keynames={'Control_R', 'Control_L'})\r\n21,389 filtered_modifiers_set(['control', 'mod2'])={'mod2'}\r\n21,389 handle_key((1, True, 'Control_R', 65508, 105, ['control', 'mod2'], True, True))\r\n21,389 handle keycode pressing   105: key 'Control_R'\r\n21,390 fake_key(105, True)\r\n21,507 client   1 @34.172 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['control', 'mod2']\r\n21,507 client   1 @34.172 parse_key_event(<Gdk.EventKey object at 0x0000022d485f3680 (void at 0x0000022d48b17000)>, True)=<xpra.common.KeyEvent object at 0x0000022d49cf50a0>\r\n21,508 client   1 @34.172 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), <xpra.common.KeyEvent object at 0x0000022d49cf50a0>) wid=1\r\n21,508 client   1 @34.172 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), 'U+001B', ['control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n21,509 client   1 @34.172 send_delayed_key() delayed_event=None\r\n21,509 client   1 @34.172 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d49cf50a0>)\r\n21,510 will try levels: [0, 4, 1, 5, 2, 6, 3, 7]\r\n21,510 do_get_keycode(219, 'U+001B', True, ['control', 'mod2'], 16777243, '\\x1b', 0)=-1, 0 (keyname translation)\r\n21,510 process_key_action(['key-action', 1, 'U+001B', True, ('control', 'mod2'), 16777243, '\\x1b', 219, 0]) server keycode=-1, group=0\r\n21,510 filtered_modifiers_set(['control', 'mod2'])={'mod2', 'control'}\r\n21,510 filtered_modifiers_set(['control', 'mod2'])={'mod2', 'control'}\r\n21,614 client   1 @34.281 mask_to_names(<flags 0 of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['mod2']\r\n21,614 client   1 @34.281 parse_key_event(<Gdk.EventKey object at 0x0000022d485f32c0 (void at 0x0000022d48b17160)>, False)=<xpra.common.KeyEvent object at 0x0000022d48640e20>\r\n21,614 client   1 @34.281 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV422P)), <xpra.common.KeyEvent object at 0x0000022d48640e20>) wid=1\r\n21,615 client   1 @34.281 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV422P)), 'Control_R', ['mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n21,615 client   1 @34.281 send_delayed_key() delayed_event=None\r\n21,616 client   1 @34.281 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d48640e20>)\r\n21,617 process_key_action(['key-action', 1, 'Control_R', False, ('mod2',), 65508, '', 163, 0]) server keycode=105, group=0\r\n21,617 set_keyboard_layout_group(0) ignored, value unchanged\r\n21,617 modifier 'control' ignored (in ignored keynames={'Control_R', 'Control_L'})\r\n21,617 filtered_modifiers_set(['control', 'mod2'])={'mod2'}\r\n21,617 filtered_modifiers_set(['mod2'])={'mod2'}\r\n21,618 handle_key((1, False, 'Control_R', 65508, 105, ['mod2'], True, True))\r\n21,618 handle keycode unpressing 105: key 'Control_R'\r\n21,618 fake_key(105, False)\r\n21,668 client   1 @34.297 mask_to_names(<flags 0 of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['mod2']\r\n21,668 client   1 @34.297 parse_key_event(<Gdk.EventKey object at 0x0000022d485f3a90 (void at 0x0000022d48b17000)>, False)=<xpra.common.KeyEvent object at 0x0000022d48640ee0>\r\n21,668 client   1 @34.297 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), <xpra.common.KeyEvent object at 0x0000022d48640ee0>) wid=1\r\n21,668 client   1 @34.297 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'bracketleft', ['mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n21,669 client   1 @34.297 send_delayed_key() delayed_event=None\r\n21,669 client   1 @34.297 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d48640ee0>)\r\n21,669 process_key_action(['key-action', 1, 'bracketleft', False, ('mod2',), 91, '[', 219, 0]) server keycode=34, group=0\r\n21,669 set_keyboard_layout_group(0) ignored, value unchanged\r\n21,669 filtered_modifiers_set(['mod2'])={'mod2'}\r\n21,670 filtered_modifiers_set(['mod2'])={'mod2'}\r\n21,670 is_modifier(34) not found\r\n21,670 handle_key((1, False, 'bracketleft', 91, 34, ['mod2'], False, True))\r\n21,670 handle keycode 34: key bracketleft was already unpressed, ignoring\r\n23,237 client   1 @35.906 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['control', 'mod2']\r\n23,238 client   1 @35.906 parse_key_event(<Gdk.EventKey object at 0x0000022d4a899c20 (void at 0x0000022d48b17000)>, True)=<xpra.common.KeyEvent object at 0x0000022d48640ee0>\r\n23,239 client   1 @35.906 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), <xpra.common.KeyEvent object at 0x0000022d48640ee0>) wid=1\r\n23,239 client   1 @35.906 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), 'Control_L', ['control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n23,239 client   1 @35.906 process_key_event: Control_L pressed=True, with GetKeyState(VK_RMENU)=1\r\n23,291 client   1 @35.969 send_delayed_key() delayed_event=(<bound method KeyboardHelper.send_key_action of <xpra.client.gtk_base.gtk_keyboard_helper.GTKKeyboardHelper object at 0x0000022d68823460>>, 1, <xpra.common.KeyEvent object at 0x0000022d48640ee0>)\r\n23,292 client   1 @35.969 send_delayed_key() GetKeyState(VK_RMENU)=1\r\n23,293 client   1 @35.969 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d48640ee0>)\r\n23,293 will try levels: [0, 4, 1, 5, 2, 6, 3, 7]\r\n23,293 do_get_keycode(17, 'Control_L', True, ['control', 'mod2'], 65507, '', 0)=37 (level=0, shift=False, mode=0, keysyms=['Control_L'])\r\n23,294 not toggling any modifiers state for keysyms=['Control_L']\r\n23,294 process_key_action(['key-action', 1, 'Control_L', True, ('control', 'mod2'), 65507, '', 17, 0]) server keycode=37, group=0\r\n23,294 set_keyboard_layout_group(0) ignored, value unchanged\r\n23,294 filtered_modifiers_set(['mod2'])={'mod2'}\r\n23,294 modifier 'control' ignored (in ignored keynames={'Control_R', 'Control_L'})\r\n23,294 filtered_modifiers_set(['control', 'mod2'])={'mod2'}\r\n23,294 handle_key((1, True, 'Control_L', 65507, 37, ['control', 'mod2'], True, True))\r\n23,294 handle keycode pressing    37: key 'Control_L'\r\n23,294 fake_key(37, True)\r\n23,383 client   1 @36.047 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['control', 'mod2']\r\n23,383 client   1 @36.047 parse_key_event(<Gdk.EventKey object at 0x0000022d4847fdb0 (void at 0x0000022d48b17160)>, True)=<xpra.common.KeyEvent object at 0x0000022d48640ee0>\r\n23,384 client   1 @36.047 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), <xpra.common.KeyEvent object at 0x0000022d48640ee0>) wid=1\r\n23,384 client   1 @36.047 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), 'U+001B', ['control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n23,385 client   1 @36.047 send_delayed_key() delayed_event=None\r\n23,385 client   1 @36.063 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d48640ee0>)\r\n23,389 will try levels: [0, 4, 1, 5, 2, 6, 3, 7]\r\n23,389 do_get_keycode(219, 'U+001B', True, ['control', 'mod2'], 16777243, '\\x1b', 0)=-1, 0 (keyname translation)\r\n23,389 process_key_action(['key-action', 1, 'U+001B', True, ('control', 'mod2'), 16777243, '\\x1b', 219, 0]) server keycode=-1, group=0\r\n23,390 filtered_modifiers_set(['control', 'mod2'])={'mod2', 'control'}\r\n23,390 filtered_modifiers_set(['control', 'mod2'])={'mod2', 'control'}\r\n23,474 client   1 @36.140 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['control', 'mod2']\r\n23,475 client   1 @36.140 parse_key_event(<Gdk.EventKey object at 0x0000022d4847f310 (void at 0x0000022d48b17000)>, False)=<xpra.common.KeyEvent object at 0x0000022d49cf50a0>\r\n23,475 client   1 @36.140 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), <xpra.common.KeyEvent object at 0x0000022d49cf50a0>) wid=1\r\n23,476 client   1 @36.140 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), 'U+001B', ['control', 'mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n23,476 client   1 @36.140 send_delayed_key() delayed_event=None\r\n23,476 client   1 @36.140 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d49cf50a0>)\r\n23,477 process_key_action(['key-action', 1, 'U+001B', False, ('control', 'mod2'), 16777243, '\\x1b', 219, 0]) server keycode=34, group=0\r\n23,477 set_keyboard_layout_group(0) ignored, value unchanged\r\n23,477 filtered_modifiers_set(['control', 'mod2'])={'mod2', 'control'}\r\n23,477 filtered_modifiers_set(['control', 'mod2'])={'mod2', 'control'}\r\n23,477 is_modifier(34) not found\r\n23,477 handle_key((1, False, 'U+001B', 16777243, 34, ['control', 'mod2'], False, True))\r\n23,477 handle keycode 34: key U+001B was already unpressed, ignoring\r\n23,581 client   1 @36.234 mask_to_names(<flags 0 of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['mod2']\r\n23,581 client   1 @36.234 parse_key_event(<Gdk.EventKey object at 0x0000022d4847fdb0 (void at 0x0000022d48b17000)>, False)=<xpra.common.KeyEvent object at 0x0000022d48640ee0>\r\n23,581 client   1 @36.234 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), <xpra.common.KeyEvent object at 0x0000022d48640ee0>) wid=1\r\n23,581 client   1 @36.234 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Control_L', ['mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n23,581 client   1 @36.234 process_key_event: Control_L pressed=False, with GetKeyState(VK_RMENU)=1\r\n23,581 client   1 @36.234 send_delayed_key() delayed_event=None\r\n23,581 client   1 @36.234 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d48640ee0>)\r\n23,581 process_key_action(['key-action', 1, 'Control_L', False, ('mod2',), 65507, '', 17, 0]) server keycode=37, group=0\r\n23,581 set_keyboard_layout_group(0) ignored, value unchanged\r\n23,581 modifier 'control' ignored (in ignored keynames={'Control_R', 'Control_L'})\r\n23,582 filtered_modifiers_set(['control', 'mod2'])={'mod2'}\r\n23,582 filtered_modifiers_set(['mod2'])={'mod2'}\r\n23,582 handle_key((1, False, 'Control_L', 65507, 37, ['mod2'], True, True))\r\n23,582 handle keycode unpressing  37: key 'Control_L'\r\n23,582 fake_key(37, False)\r\n25,216 New unix-domain connection received\r\n25,216  on '/run/user/1000/xpra/0/socket'\r\n25,217 disabled debugging for:\r\n25,218  - Logger(xpra.x11.x11_server_core, x11, server, keyboard)\r\n25,218  - Logger(xpra.server.rfb.rfb_server, rfb, keyboard)\r\n25,218  - Logger(importlib._bootstrap, x11, bindings, keyboard)\r\n25,218  - Logger(xpra.x11.server_keyboard_config, keyboard)\r\n25,218  - Logger(xpra.server.source.input_mixin, keyboard)\r\n25,218  - Logger(xpra.gtk_common.keymap, keyboard)\r\n25,218  - Logger(xpra.server.mixins.input_server, keyboard)\r\n25,218  - Logger(xpra.x11.xkbhelper, x11, keyboard)\r\n25,419 New unix-domain connection received\r\n25,420  on '/run/user/1000/xpra/0/socket'\r\n25,510 client   1 @38.188 disabled debugging for:\r\n25,511 client   1 @38.188  - Logger(xpra.platform.win32.keyboard, keyboard)\r\n25,511 client   1 @38.188  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard, events)\r\n25,512 client   1 @38.188  - Logger(xpra.platform.win32.gui, win32, keyboard)\r\n25,512 client   1 @38.188  - Logger(xpra.client.keyboard_helper, keyboard)\r\n25,513 client   1 @38.188  - Logger(xpra.client.ui_client_base, client, keyboard)\r\n25,513 client   1 @38.188  - Logger(xpra.client.keyboard_shortcuts_parser, keyboard)\r\n25,514 client   1 @38.188  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard)\r\n25,514 client   1 @38.188  - Logger(xpra.gtk_common.keymap, keyboard)\r\n25,514 client   1 @38.188  - Logger(xpra.client.client_window_base, keyboard)\r\n25,515 client   1 @38.188  - Logger(xpra.platform.keyboard_base, keyboard)\r\n```\r\nClient:\r\n```py\r\n51,456 enabled debugging for:\r\n51,457  - Logger(xpra.platform.win32.keyboard, keyboard)\r\n51,457  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard, events)\r\n51,458  - Logger(xpra.platform.win32.gui, win32, keyboard)\r\n51,458  - Logger(xpra.client.keyboard_helper, keyboard)\r\n51,458  - Logger(xpra.client.ui_client_base, client, keyboard)\r\n51,458  - Logger(xpra.client.keyboard_shortcuts_parser, keyboard)\r\n51,459  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard)\r\n51,459  - Logger(xpra.gtk_common.keymap, keyboard)\r\n51,459  - Logger(xpra.client.client_window_base, keyboard)\r\n51,460  - Logger(xpra.platform.keyboard_base, keyboard)\r\n52,822 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['control', 'mod2']\r\n52,823 parse_key_event(<Gdk.EventKey object at 0x0000022d485f3680 (void at 0x0000022d48b17000)>, True)=<xpra.common.KeyEvent object at 0x0000022d48640e20>\r\n52,823 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), <xpra.common.KeyEvent object at 0x0000022d48640e20>) wid=1\r\n52,824 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), 'Control_R', ['control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n52,824 send_delayed_key() delayed_event=None\r\n52,824 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d48640e20>)\r\n52,943 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['control', 'mod2']\r\n52,944 parse_key_event(<Gdk.EventKey object at 0x0000022d485f3680 (void at 0x0000022d48b17000)>, True)=<xpra.common.KeyEvent object at 0x0000022d49cf50a0>\r\n52,944 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), <xpra.common.KeyEvent object at 0x0000022d49cf50a0>) wid=1\r\n52,945 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), 'U+001B', ['control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n52,945 send_delayed_key() delayed_event=None\r\n52,945 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d49cf50a0>)\r\n53,050 mask_to_names(<flags 0 of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['mod2']\r\n53,050 parse_key_event(<Gdk.EventKey object at 0x0000022d485f32c0 (void at 0x0000022d48b17160)>, False)=<xpra.common.KeyEvent object at 0x0000022d48640e20>\r\n53,051 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV422P)), <xpra.common.KeyEvent object at 0x0000022d48640e20>) wid=1\r\n53,051 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV422P)), 'Control_R', ['mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n53,052 send_delayed_key() delayed_event=None\r\n53,052 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d48640e20>)\r\n53,066 mask_to_names(<flags 0 of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['mod2']\r\n53,066 parse_key_event(<Gdk.EventKey object at 0x0000022d485f3a90 (void at 0x0000022d48b17000)>, False)=<xpra.common.KeyEvent object at 0x0000022d48640ee0>\r\n53,066 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), <xpra.common.KeyEvent object at 0x0000022d48640ee0>) wid=1\r\n53,067 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'bracketleft', ['mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n53,067 send_delayed_key() delayed_event=None\r\n53,067 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d48640ee0>)\r\n54,673 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['control', 'mod2']\r\n54,674 parse_key_event(<Gdk.EventKey object at 0x0000022d4a899c20 (void at 0x0000022d48b17000)>, True)=<xpra.common.KeyEvent object at 0x0000022d48640ee0>\r\n54,675 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), <xpra.common.KeyEvent object at 0x0000022d48640ee0>) wid=1\r\n54,676 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), 'Control_L', ['control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n54,676 process_key_event: Control_L pressed=True, with GetKeyState(VK_RMENU)=1\r\n54,728 send_delayed_key() delayed_event=(<bound method KeyboardHelper.send_key_action of <xpra.client.gtk_base.gtk_keyboard_helper.GTKKeyboardHelper object at 0x0000022d68823460>>, 1, <xpra.common.KeyEvent object at 0x0000022d48640ee0>)\r\n54,728 send_delayed_key() GetKeyState(VK_RMENU)=1\r\n54,729 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d48640ee0>)\r\n54,818 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['control', 'mod2']\r\n54,819 parse_key_event(<Gdk.EventKey object at 0x0000022d4847fdb0 (void at 0x0000022d48b17160)>, True)=<xpra.common.KeyEvent object at 0x0000022d48640ee0>\r\n54,820 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), <xpra.common.KeyEvent object at 0x0000022d48640ee0>) wid=1\r\n54,820 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), 'U+001B', ['control', 'mod2'], True) shortcuts_enabled=True, shortcuts=None\r\n54,821 send_delayed_key() delayed_event=None\r\n54,821 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d48640ee0>)\r\n54,911 mask_to_names(<flags GDK_CONTROL_MASK of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['control', 'mod2']\r\n54,911 parse_key_event(<Gdk.EventKey object at 0x0000022d4847f310 (void at 0x0000022d48b17000)>, False)=<xpra.common.KeyEvent object at 0x0000022d49cf50a0>\r\n54,912 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), <xpra.common.KeyEvent object at 0x0000022d49cf50a0>) wid=1\r\n54,912 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV444P)), 'U+001B', ['control', 'mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n54,913 send_delayed_key() delayed_event=None\r\n54,913 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d49cf50a0>)\r\n54,996 mask_to_names(<flags 0 of type Gdk.ModifierType>) GetKeyState(VK_NUMLOCK)=1, names=['mod2']\r\n54,997 parse_key_event(<Gdk.EventKey object at 0x0000022d4847fdb0 (void at 0x0000022d48b17000)>, False)=<xpra.common.KeyEvent object at 0x0000022d48640ee0>\r\n54,998 handle_key_action(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), <xpra.common.KeyEvent object at 0x0000022d48640ee0>) wid=1\r\n54,998 key_handled_as_shortcut(GLClientWindow(1 : GLDrawingArea(1, (1920, 1080), YUV420P)), 'Control_L', ['mod2'], False) shortcuts_enabled=True, shortcuts=None\r\n54,998 process_key_event: Control_L pressed=False, with GetKeyState(VK_RMENU)=1\r\n54,999 send_delayed_key() delayed_event=None\r\n54,999 send_key_action(1, <xpra.common.KeyEvent object at 0x0000022d48640ee0>)\r\n56,947 disabled debugging for:\r\n56,948  - Logger(xpra.platform.win32.keyboard, keyboard)\r\n56,948  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard, events)\r\n56,949  - Logger(xpra.platform.win32.gui, win32, keyboard)\r\n56,949  - Logger(xpra.client.keyboard_helper, keyboard)\r\n56,950  - Logger(xpra.client.ui_client_base, client, keyboard)\r\n56,950  - Logger(xpra.client.keyboard_shortcuts_parser, keyboard)\r\n56,950  - Logger(xpra.client.gtk_base.gtk_client_window_base, keyboard)\r\n56,950  - Logger(xpra.gtk_common.keymap, keyboard)\r\n56,951  - Logger(xpra.client.client_window_base, keyboard)\r\n56,952  - Logger(xpra.platform.keyboard_base, keyboard)\r\n```\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.3 LTS\r\n- Client OS: Microsoft Windows [Version 10.0.18363.836]\r\n- Xpra Server Version (see above)\r\n- Xpra Client Version (see above)\r\n\r\n![image](https://user-images.githubusercontent.com/133706/148647962-487c6fc8-b34a-4a29-bfdc-7c4291308d05.png)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3417/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3417/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3416", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3416/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3416/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3416/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3416", "id": 1096945038, "node_id": "I_kwDOE8kGxM5BYg2O", "number": 3416, "title": "`xpra keyboard-test` is not/no longer a subcommand", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-01-08T14:40:30Z", "updated_at": "2022-02-09T08:06:23Z", "closed_at": "2022-01-09T09:00:47Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nhttps://github.com/Xpra-org/xpra/blob/master/docs/Features/Keyboard.md#reporting-bugs\r\n> * try the keyboard debugging tool which can be launched using xpra keyboard-test or from the xpra toolbox\r\n```console\r\n\u279c  ~  xpra --version\r\nxpra v4.4-r30771 (g636b0b8d8)\r\n\u279c  ~ xpra keyboard-test\r\nInvalid subcommand 'keyboard-test'\r\nUsage:\r\n\txpra \r\n\txpra start [DISPLAY]\r\n\txpra start-desktop [DISPLAY]\r\n\txpra upgrade [DISPLAY]\r\n\txpra upgrade-desktop [DISPLAY]\r\n\txpra recover [DISPLAY]\r\n\txpra shadow [DISPLAY]\r\n\txpra attach [DISPLAY]\r\n\txpra detach [DISPLAY]\r\n\txpra info [DISPLAY]\r\n\txpra id [DISPLAY]\r\n\txpra version [DISPLAY]\r\n\txpra stop [DISPLAY]\r\n\txpra exit [DISPLAY]\r\n\txpra clean [DISPLAY1] [DISPLAY2]..\r\n\txpra clean-sockets [DISPLAY]\r\n\txpra clean-displays [DISPLAY]\r\n\txpra screenshot filename [DISPLAY]\r\n\txpra control DISPLAY command [arg1] [arg2]..\r\n\txpra print DISPLAY filename\r\n\txpra shell [DISPLAY]\r\n\txpra showconfig\r\n\txpra list\r\n\txpra list-sessions\r\n\txpra list-windows\r\n\txpra sessions\r\n\txpra launcher\r\n\txpra gui\r\n\txpra start-gui\r\n\txpra bug-report\r\n\txpra toolbox\r\n\txpra displays\r\n\txpra docs\r\n\txpra html5\r\n\txpra autostart\r\n\txpra encoding\r\n\txpra path-info\r\n\txpra list-mdns\r\n\txpra mdns-gui\r\n\r\nsee 'man xpra' or 'xpra --help' for more details\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.3 LTS\r\n- Client OS: Microsoft Windows [Version 10.0.18363.836]\r\n- Xpra Server Version (see above)\r\n- Xpra Client Version (see above)\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3416/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3416/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3414", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3414/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3414/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3414/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3414", "id": 1096867595, "node_id": "I_kwDOE8kGxM5BYN8L", "number": 3414, "title": "Error when uploading file over websocket connection", "user": {"login": "v0rap", "id": 37574510, "node_id": "MDQ6VXNlcjM3NTc0NTEw", "avatar_url": "https://avatars.githubusercontent.com/u/37574510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v0rap", "html_url": "https://github.com/v0rap", "followers_url": "https://api.github.com/users/v0rap/followers", "following_url": "https://api.github.com/users/v0rap/following{/other_user}", "gists_url": "https://api.github.com/users/v0rap/gists{/gist_id}", "starred_url": "https://api.github.com/users/v0rap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v0rap/subscriptions", "organizations_url": "https://api.github.com/users/v0rap/orgs", "repos_url": "https://api.github.com/users/v0rap/repos", "events_url": "https://api.github.com/users/v0rap/events{/privacy}", "received_events_url": "https://api.github.com/users/v0rap/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-08T08:23:42Z", "updated_at": "2022-01-10T03:28:40Z", "closed_at": "2022-01-10T03:28:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen dragging and dropping a file in the xpra web-ui, the filetransfer fails immediately on the server side with the following error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/server_base.py\", line 906, in process_packet\r\n    call_handler()\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/server_base.py\", line 896, in call_handler\r\n    handler(proto, packet)\r\n  File \"/usr/lib/python3/dist-packages/xpra/server/mixins/fileprint_server.py\", line 250, in _process_send_file\r\n    ss._process_send_file(packet)\r\n  File \"/usr/lib/python3/dist-packages/xpra/net/file_transfer.py\", line 496, in _process_send_file\r\n    os.write(fd, file_data)\r\n```\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Start xpra with: `xpra start-desktop :80 --start=/opt/workspace/run_emwm.sh --webcam=no --exit-with-children=no --no-daemon --speaker=on --video-encoders=x264 --speaker-codec=wav,opus+mka --min-speed=75` (`run_emwm.sh` is a script that just launches my window manager)\r\n2. Connect to the xpra web-ui running on the same server\r\n3. Drag and drop file over browser window\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu Bullseye (Docker)\r\n - Client OS: Web-UI running in the same container, accessed with chrome and firefox, both on w10 (same issue with both)\r\n - Xpra Server Version: v4.3.1-r0\r\n - Xpra Web-Client Version: 4.5.2\r\n\r\n**Additional context**\r\nThis issue doesn't affect the \"full\" xpra client connecting with TCP. Could be an issue with only web-socket clients?\r\n\r\nHowever, after implementing this dirty quickfix in the xrpa server, the issue is fixed in the web client, and file upload from the full client (using tcp) isn't broken by this change.\r\n\r\n```diff\r\n--- /usr/lib/python3/dist-packages/xpra/net/file_transfer.py    2022-01-07 17:08:03.779462400 +0000\r\n+++ ./file_transfer.py  2022-01-07 17:07:55.389462400 +0000\r\n@@ -491,6 +491,7 @@\r\n         check_digest(\"sha256\", hashlib.sha256)\r\n         check_digest(\"sha1\", hashlib.sha1)\r\n         check_digest(\"md5\", hashlib.md5)\r\n+        file_data = file_data.encode(\"latin\")\r\n         try:\r\n             os.write(fd, file_data)\r\n         finally:\r\n```\r\n\r\nI didn't want to submit the pull-request because of the \"quick-and-dirty\" nature of my fix, and since I wasn't able to find where the `file_data` was being decoded with latin1 in the first place (probably where the websocket traffic is being handled), figured you guys would know better. \r\n\r\nI get decoding the other fields in the packet (like mimetype, filesize etc) but not the raw byte-data of the file.\r\n\r\nLet me know if there's more info that I can provide, thanks in advance!", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3414/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3413", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3413/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3413/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3413/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3413", "id": 1095373879, "node_id": "I_kwDOE8kGxM5BShQ3", "number": 3413, "title": "video_subregion.supported is False", "user": {"login": "TijZwa", "id": 19667394, "node_id": "MDQ6VXNlcjE5NjY3Mzk0", "avatar_url": "https://avatars.githubusercontent.com/u/19667394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TijZwa", "html_url": "https://github.com/TijZwa", "followers_url": "https://api.github.com/users/TijZwa/followers", "following_url": "https://api.github.com/users/TijZwa/following{/other_user}", "gists_url": "https://api.github.com/users/TijZwa/gists{/gist_id}", "starred_url": "https://api.github.com/users/TijZwa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TijZwa/subscriptions", "organizations_url": "https://api.github.com/users/TijZwa/orgs", "repos_url": "https://api.github.com/users/TijZwa/repos", "events_url": "https://api.github.com/users/TijZwa/events{/privacy}", "received_events_url": "https://api.github.com/users/TijZwa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-01-06T14:29:58Z", "updated_at": "2022-01-11T09:03:01Z", "closed_at": "2022-01-11T09:03:01Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nVideo regions are not detected. If I open a website with a video playing, the entire screen is updated. Even the static content.\r\nWith `xpra info` I see:\r\n```\r\nclient.window.2.video_subregion.auto-refresh-delay=500\r\nclient.window.2.video_subregion.counter=0\r\nclient.window.2.video_subregion.detection=True\r\nclient.window.2.video_subregion.enabled=True\r\nclient.window.2.video_subregion.supported=False\r\nclient.window.2.video_subregion.video-mode=False\r\n```\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Start a server with RGB, Png and Webp enabled\r\n2. Run xpra info | grep subregion\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Fedora 32\r\n - Client OS: Electron HTML5 on Windows\r\n - Xpra Server Version v4.4-r30790\r\n - Xpra Client Version 4.5.2\r\n\r\n**Additional context**\r\nI'm running in docker", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3413/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3413/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3410", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3410/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3410/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3410/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3410", "id": 1093747378, "node_id": "I_kwDOE8kGxM5BMUKy", "number": 3410, "title": "chromium flashes translucent for a while; xpra crashes", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 29, "created_at": "2022-01-04T20:57:49Z", "updated_at": "2022-02-17T12:12:53Z", "closed_at": "2022-01-14T03:10:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Started a couple terminals, a couple widgets, and chromium.\r\nChromium flashes translucent irregularly, exposing the content of the terminal behind itself.\r\nSometimes it stops and stays steady for a while, then later resumes translucent flashing.\r\nEventually xpra crashes. But the underlying dummy X server continues.\r\n\r\n**To Reproduce**\r\n1. `ssh pinkchip xpra start :27 --start-child=mate-terminal`\r\n2. `xpra attach ssh://pinkchip/27`\r\n3. wait, observe flashing, wait some more\r\n4. client xpra disconnects, attempts reconnect, fails, exits\r\n5. observe existence of server crash dump:\r\n`-rw-r-----+ 1 root root 43087375 Jan  4 15:14 /var/lib/systemd/coredump/core.\\x2fusr\\x2fbin\\x2fxpra\\x20s.5271.24a5c5b9cb654d519acab75c3aaf8493.528495.1641327282000000.zst`\r\n6. xpra's xorg is still running:\r\n```\r\nps uax | egrep -i xorg\\|xpra\r\nroot        1943  0.0  0.0 307464 15188 ?        Ss   Jan01   0:01 /usr/bin/abrt-dump-journal-xorg -fxtD\r\nkarl      528559  3.4  2.4 1153260 403644 ?      Ssl  14:38   1:21 /usr/libexec/Xorg -noreset -novtswitch -nolisten tcp +extension GLX +extension RANDR +extension RENDER -auth /home/karl/.Xauthority -logfile /run/user/5271/xpra/27/Xorg.log -configdir /run/user/5271/xpra/27/xorg.conf.d/528495 -config /etc/xpra/xorg.conf -depth 24 :27\r\nkarl      528741  0.0  0.0 597956  7908 ?        Ssl  14:38   0:00 ibus-daemon --xim --verbose --replace --panel=disable --desktop=xpra --daemonize\r\n```\r\n**System Information (please complete the following information):**\r\nF35 and 4.4-10.r30771 at both ends\r\n\r\nhttps://user-images.githubusercontent.com/7548920/148120520-5666ac5f-016e-469e-a162-3ede4fa5f0e9.mp4", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3410/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3409", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3409/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3409/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3409/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3409", "id": 1093223722, "node_id": "I_kwDOE8kGxM5BKUUq", "number": 3409, "title": "ssh rsa key not accepted", "user": {"login": "kavol", "id": 2169753, "node_id": "MDQ6VXNlcjIxNjk3NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2169753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kavol", "html_url": "https://github.com/kavol", "followers_url": "https://api.github.com/users/kavol/followers", "following_url": "https://api.github.com/users/kavol/following{/other_user}", "gists_url": "https://api.github.com/users/kavol/gists{/gist_id}", "starred_url": "https://api.github.com/users/kavol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kavol/subscriptions", "organizations_url": "https://api.github.com/users/kavol/orgs", "repos_url": "https://api.github.com/users/kavol/repos", "events_url": "https://api.github.com/users/kavol/events{/privacy}", "received_events_url": "https://api.github.com/users/kavol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-01-04T10:40:26Z", "updated_at": "2022-01-04T14:24:38Z", "closed_at": "2022-01-04T13:02:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nTrying to connect to a server, my id_rsa is rejected.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command: xpra start :100\r\n2. client command: xpra attach ssh/username@example.org/100\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Gentoo Base System release 2.7\r\n - Client OS: Fedora release 35 (Thirty Five)\r\n - Xpra Server Version x11-wm/xpra-4.2:0\r\n - Xpra Client Version xpra-4.2.2-1.fc35.x86_64\r\n\r\n**Additional context**\r\nI believe the problem is that xpra tries to use MD5 which is deprecated.\r\n\r\nthis is how xpra fails:\r\n```\r\n2022-01-04 11:23:15,774 trying public key authentication using ['/home/kvolny/.ssh/id_rsa']\r\n2022-01-04 11:23:15,775 trying '/home/kvolny/.ssh/id_rsa'\r\n2022-01-04 11:23:15,775 trying to load as RSA\r\n2022-01-04 11:23:15,779 loaded RSA private key from '/home/kvolny/.ssh/id_rsa'\r\n2022-01-04 11:23:15,779 auth_publickey using /home/kvolny/.ssh/id_rsa as RSA: MD5:8f:45:58:ed:09:fb:60:d5:6c:71:db:4a:e5:50:a0:5f\r\n2022-01-04 11:23:15,808 Authentication (publickey) failed.\r\n2022-01-04 11:23:15,808 key '/home/kvolny/.ssh/id_rsa' rejected\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.10/site-packages/xpra/net/ssh.py\", line 642, in auth_publickey\r\n    transport.auth_publickey(username, key)\r\n  File \"/usr/lib/python3.10/site-packages/paramiko/transport.py\", line 1580, in auth_publickey\r\n    return self.auth_handler.wait_for_response(my_event)\r\n  File \"/usr/lib/python3.10/site-packages/paramiko/auth_handler.py\", line 250, in wait_for_response\r\n    raise e\r\nparamiko.ssh_exception.AuthenticationException: Authentication failed.\r\n```\r\n\r\nand this is how ssh client succeeds:\r\n```\r\ndebug1: Next authentication method: publickey\r\ndebug1: Offering public key: /home/kvolny/.ssh/id_rsa RSA SHA256:+g8WzIYzBKINju0QNsdxmu+3bsaZKOuETv33pF+hxS8 explicit\r\ndebug3: send packet: type 50\r\ndebug2: we sent a publickey packet, wait for reply\r\ndebug3: receive packet: type 60\r\ndebug1: Server accepts key: /home/kvolny/.ssh/id_rsa RSA SHA256:+g8WzIYzBKINju0QNsdxmu+3bsaZKOuETv33pF+hxS8 explicit\r\ndebug3: sign_and_send_pubkey: RSA SHA256:+g8WzIYzBKINju0QNsdxmu+3bsaZKOuETv33pF+hxS8\r\ndebug3: sign_and_send_pubkey: signing using rsa-sha2-256 SHA256:+g8WzIYzBKINju0QNsdxmu+3bsaZKOuETv33pF+hxS8\r\ndebug3: send packet: type 50\r\ndebug3: receive packet: type 52\r\ndebug1: Enabling compression at level 6.\r\nAuthenticated to example.org ([xx.xx.xx.xx]:yy) using \"publickey\".\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3409/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3407", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3407/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3407/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3407/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3407", "id": 1091482137, "node_id": "I_kwDOE8kGxM5BDrIZ", "number": 3407, "title": "/bin/bash is hardcoded in server_util.py", "user": {"login": "arrowd", "id": 1528094, "node_id": "MDQ6VXNlcjE1MjgwOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1528094?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arrowd", "html_url": "https://github.com/arrowd", "followers_url": "https://api.github.com/users/arrowd/followers", "following_url": "https://api.github.com/users/arrowd/following{/other_user}", "gists_url": "https://api.github.com/users/arrowd/gists{/gist_id}", "starred_url": "https://api.github.com/users/arrowd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arrowd/subscriptions", "organizations_url": "https://api.github.com/users/arrowd/orgs", "repos_url": "https://api.github.com/users/arrowd/repos", "events_url": "https://api.github.com/users/arrowd/events{/privacy}", "received_events_url": "https://api.github.com/users/arrowd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-12-31T08:53:46Z", "updated_at": "2022-01-04T09:11:32Z", "closed_at": "2022-01-04T09:11:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This line has hardcoded \"/usr/bash\" string: https://github.com/Xpra-org/xpra/blob/master/xpra/server/server_util.py#L88\r\n\r\nBash can be installed in various places, for instance on FreeBSD it is installed to `/usr/local/bin/bash`. Maybe it is possible to use `/bin/sh` instead?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3407/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3407/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3406", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3406/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3406/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3406/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3406", "id": 1090957992, "node_id": "I_kwDOE8kGxM5BBrKo", "number": 3406, "title": "Mouse wheel scroll event triggers twice for each scrolling", "user": {"login": "Vssblt", "id": 35415088, "node_id": "MDQ6VXNlcjM1NDE1MDg4", "avatar_url": "https://avatars.githubusercontent.com/u/35415088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vssblt", "html_url": "https://github.com/Vssblt", "followers_url": "https://api.github.com/users/Vssblt/followers", "following_url": "https://api.github.com/users/Vssblt/following{/other_user}", "gists_url": "https://api.github.com/users/Vssblt/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vssblt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vssblt/subscriptions", "organizations_url": "https://api.github.com/users/Vssblt/orgs", "repos_url": "https://api.github.com/users/Vssblt/repos", "events_url": "https://api.github.com/users/Vssblt/events{/privacy}", "received_events_url": "https://api.github.com/users/Vssblt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709860, "node_id": "MDU6TGFiZWwyNjc4NzA5ODYw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-12-30T08:41:23Z", "updated_at": "2022-02-24T08:03:22Z", "closed_at": "2022-02-24T07:39:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Bug**\r\nMouse wheel scroll event triggers twice for each scrolling.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `/usr/bin/xpra proxy :20 --socket-dirs=/xxx/xxx/xxx/xxx --daemon=yes --bind-tcp=0.0.0.0:12008 --tcp-auth=allow`\r\n2. `/usr/bin/xpra start :1024 --tcp-auth=password:value=1 --daemon=no --start-child=/xxx/xxx/xxx/xxx --exit-with-children=yes` # socket-dirs same to xpra proxy\r\n3. Scroll the mouse wheel in qt application. `qscrollbar` scroll event trigger twice for each wheel scrolling. I don\u2019t think it\u2019s a qt problem, I take this as an example.\r\n\r\n**System Information:**\r\n - Server OS: Ubuntu 20.04 in docker\r\n - Client OS: Chrome/Firefox on Ubuntu 20.04\r\n - Xpra Server Version: v4.3-r0\r\n - Xpra Client Version: xpra-html5 v5.0\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3406/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3406/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3402", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3402/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3402/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3402/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3402", "id": 1088860418, "node_id": "I_kwDOE8kGxM5A5rEC", "number": 3402, "title": "connection failed: 'NoneType' object has no attribute 'asbytes' (Apple M1)", "user": {"login": "Bresenham", "id": 26713449, "node_id": "MDQ6VXNlcjI2NzEzNDQ5", "avatar_url": "https://avatars.githubusercontent.com/u/26713449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bresenham", "html_url": "https://github.com/Bresenham", "followers_url": "https://api.github.com/users/Bresenham/followers", "following_url": "https://api.github.com/users/Bresenham/following{/other_user}", "gists_url": "https://api.github.com/users/Bresenham/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bresenham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bresenham/subscriptions", "organizations_url": "https://api.github.com/users/Bresenham/orgs", "repos_url": "https://api.github.com/users/Bresenham/repos", "events_url": "https://api.github.com/users/Bresenham/events{/privacy}", "received_events_url": "https://api.github.com/users/Bresenham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}, {"id": 2681232498, "node_id": "MDU6TGFiZWwyNjgxMjMyNDk4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/macos", "name": "macos", "color": "A6D7AE", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-12-26T23:06:43Z", "updated_at": "2021-12-27T15:37:42Z", "closed_at": "2021-12-27T15:37:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Executing\r\n\r\n`xpra start-desktop ssh:user@server --exit-with-children --start-child=xfce4-session`\r\n\r\nleads to the following output:\r\n\r\n```\r\n(Xpra:27826): Gtk-CRITICAL **: 00:03:51.955: gtk_window_add_accel_group: assertion 'GTK_IS_WINDOW (window)' failed\r\n2021-12-27 00:03:52,083 Xpra GTK3 client version 4.3-r12 64-bit\r\n2021-12-27 00:03:52,122  running on Mac OS X 10.16\r\nget_icon_pixbuf(xpra.png)\r\nTraceback (most recent call last):\r\n  File \"/Applications/Xpra.app/Contents/Resources/lib/python/xpra/gtk_common/gtk_util.py\", line 559, in get_icon_pixbuf\r\n    return GdkPixbuf.Pixbuf.new_from_file(icon_filename)\r\ngi.repository.GLib.GError: gdk-pixbuf-error-quark: Unable to load image-loading module: /Applications/Xpra.app/Contents/Resources/bin/../@executable_path/../Resources/lib/gdk-pixbuf-2.0/2.10.0/loaders/libpixbufloader-png.so: dlopen(/Applications/Xpra.app/Contents/Resources/bin/../@executable_path/../Resources/lib/gdk-pixbuf-2.0/2.10.0/loaders/libpixbufloader-png.so, 0x0001): tried: '/Applications/Xpra.app/Contents/Resources/lib/libpixbufloader-png.so' (no such file), '/Applications/Xpra.app/Contents/Resources/bin/../@executable_path/../Resources/lib/gdk-pixbuf-2.0/2.10.0/loaders/libpixbufloader-png.so' (no such file), '/usr/local/lib/libpixbufloader-png.so' (no such file), '/usr/lib/libpixbufloader-png.so' (no such file) (5)\r\n2021-12-27 00:03:53,998 GStreamer version 1.18.5 for Python 3.9.9 64-bit\r\n2021-12-27 00:03:54,019 created unix domain socket '/Users/mgaul/.xpra/clients/Maximilians-Air-27826'\r\n2021-12-27 00:03:54,031 Error importing png decoder (dec_spng)\r\n2021-12-27 00:03:54,031  dlopen(/Applications/Xpra.app/Contents/Resources/lib/python/xpra/codecs/spng/decoder.cpython-39-darwin.so, 0x0002): Library not loaded: /Users/macos/gtk/inst/lib/libspng.0.dylib\r\n  Referenced from: /Applications/Xpra.app/Contents/Resources/lib/python3.9/xpra/codecs/spng/decoder.cpython-39-darwin.so\r\n  Reason: tried: '/Applications/Xpra.app/Contents/Resources/lib/libspng.0.dylib' (no such file), '/Users/macos/gtk/inst/lib/libspng.0.dylib' (no such file), '/usr/local/lib/libspng.0.dylib' (no such file), '/usr/lib/libspng.0.dylib' (no such file)\r\n2021-12-27 00:03:54,120 OpenGL_accelerate module loaded\r\n2021-12-27 00:03:54,133 Using accelerated ArrayDatatype\r\n2021-12-27 00:03:54,449 OpenGL enabled with Apple M1\r\n2021-12-27 00:04:14,551 Connected (version 2.0, client OpenSSH_8.4p1)\r\nxpra initialization error:\r\n connection failed: 'NoneType' object has no attribute 'asbytes'\r\n```\r\n\r\nI downloaded xpra from here: https://xpra.org/dists/osx/x86_64/Xpra.pkg\r\n\r\nCan someone help me to fix this error?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3402/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3402/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3401", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3401/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3401/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3401/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3401", "id": 1088405585, "node_id": "I_kwDOE8kGxM5A38BR", "number": 3401, "title": "xpra 4.3-r0-1 fails to launch when /etc/profile prints text", "user": {"login": "allo-", "id": 1482341, "node_id": "MDQ6VXNlcjE0ODIzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1482341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allo-", "html_url": "https://github.com/allo-", "followers_url": "https://api.github.com/users/allo-/followers", "following_url": "https://api.github.com/users/allo-/following{/other_user}", "gists_url": "https://api.github.com/users/allo-/gists{/gist_id}", "starred_url": "https://api.github.com/users/allo-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allo-/subscriptions", "organizations_url": "https://api.github.com/users/allo-/orgs", "repos_url": "https://api.github.com/users/allo-/repos", "events_url": "https://api.github.com/users/allo-/events{/privacy}", "received_events_url": "https://api.github.com/users/allo-/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2021-12-24T14:26:09Z", "updated_at": "2022-01-05T15:59:40Z", "closed_at": "2021-12-26T02:54:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen /etc/profile produces output (like printing information about the host), `xpra start` fails.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n- Add `echo test` to /etc/profile\r\n- Try to run `xpra start :10`\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Debian bullseye\r\n - Xpra Server Version 4.3-r0-1\r\n\r\n**Additional context**\r\nThe server tries to run:\r\n\r\n    source /etc/profile && python3.9 -c \"import os, json;print(json.dumps(dict(os.environ)))\"\r\n\r\nThis fails because the output of `/etc/profile` is invalid json. This may even be a security issue, when someone injects valid json into the output of /etc/profile.\r\n\r\nA workaround is to remove sourcing /etc/profile. I guess it is sourced because it may set the python path, so the better solution is probably to redirect the output of sourcing the file or to better separate sourcing the `profile` script and running the command that dumps the environment.\r\n\r\n    #cmd = ['/bin/bash', '-c', '%s && %s' % (source, dump)]\r\n    cmd = ['/bin/bash', '-c', '%s' % (dump)]", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3401/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3397", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3397/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3397/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3397/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3397", "id": 1088134139, "node_id": "I_kwDOE8kGxM5A25v7", "number": 3397, "title": "Video scaling argument parsing", "user": {"login": "mattsuth", "id": 1078931, "node_id": "MDQ6VXNlcjEwNzg5MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1078931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattsuth", "html_url": "https://github.com/mattsuth", "followers_url": "https://api.github.com/users/mattsuth/followers", "following_url": "https://api.github.com/users/mattsuth/following{/other_user}", "gists_url": "https://api.github.com/users/mattsuth/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattsuth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattsuth/subscriptions", "organizations_url": "https://api.github.com/users/mattsuth/orgs", "repos_url": "https://api.github.com/users/mattsuth/repos", "events_url": "https://api.github.com/users/mattsuth/events{/privacy}", "received_events_url": "https://api.github.com/users/mattsuth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-24T04:10:21Z", "updated_at": "2021-12-25T02:11:18Z", "closed_at": "2021-12-24T04:31:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nXPRA crashes when video-scaling option is used.\r\n\r\n**To Reproduce**\r\nConnecting to a server via xpra from the command line, pass in \"--video-scaling=0\" as an argument.  This causes optparse to fail to parse with the following error:\r\n\r\n    Traceback (most recent call last):\r\n      File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 132, in main\r\n        options, args = do_parse_cmdline(cmdline, defaults)\r\n      File \"/usr/lib/python3/dist-packages/xpra/scripts/parsing.py\", line 1748, in do_parse_cmdline\r\n        options, args = parser.parse_args(cmdline[1:])\r\n      File \"/usr/lib/python3.8/optparse.py\", line 1387, in parse_args\r\n        stop = self._process_args(largs, rargs, values)\r\n      File \"/usr/lib/python3.8/optparse.py\", line 1427, in _process_args\r\n        self._process_long_opt(rargs, values)\r\n      File \"/usr/lib/python3.8/optparse.py\", line 1501, in _process_long_opt\r\n        option.process(opt, value, values, self)\r\n      File \"/usr/lib/python3.8/optparse.py\", line 784, in process\r\n        return self.take_action(\r\n      File \"/usr/lib/python3.8/optparse.py\", line 797, in take_action\r\n        values.ensure_value(dest, []).append(value)\r\n    AttributeError: 'str' object has no attribute 'append'\r\n\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 20.04\r\n - Client OS: Ubuntu 20.04\r\n - Xpra Server Version 4.2.3\r\n - Xpra Client Version 4.3-r0-1 (ubuntu package from xpra.org repo)\r\n\r\n**Additional context**\r\nIf I remove the \"--video-scaling=0\" option from the command it connects fine.  I also attempted \"--video-scaling=off\" and \"--video-scaling=auto\" and got the same stack trace, so the problem appears to be with the parsing of the argument.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3397/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3397/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3396", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3396/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3396/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3396/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3396", "id": 1088033449, "node_id": "I_kwDOE8kGxM5A2hKp", "number": 3396, "title": "xpra \"overwrites\" existing display number if abstract sockets are disabled", "user": {"login": "tomjaguarpaw", "id": 1951567, "node_id": "MDQ6VXNlcjE5NTE1Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/1951567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomjaguarpaw", "html_url": "https://github.com/tomjaguarpaw", "followers_url": "https://api.github.com/users/tomjaguarpaw/followers", "following_url": "https://api.github.com/users/tomjaguarpaw/following{/other_user}", "gists_url": "https://api.github.com/users/tomjaguarpaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomjaguarpaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomjaguarpaw/subscriptions", "organizations_url": "https://api.github.com/users/tomjaguarpaw/orgs", "repos_url": "https://api.github.com/users/tomjaguarpaw/repos", "events_url": "https://api.github.com/users/tomjaguarpaw/events{/privacy}", "received_events_url": "https://api.github.com/users/tomjaguarpaw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681259131, "node_id": "MDU6TGFiZWwyNjgxMjU5MTMx", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/upstream", "name": "upstream", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-23T23:06:13Z", "updated_at": "2021-12-24T03:04:54Z", "closed_at": "2021-12-24T03:04:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nSuppose display 0, attached to a real, physical display devices, is configured to start without an abstract socket (`-nolisten local`). Then if xpra server is started without giving a display number it \"overwrites\" the existing display filesystem socket and deletes when it closes.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\n1. Start an X11 server with `startx -- :0 -nolisten local`\r\n2. Start `xpra` with\r\n\r\n  ```\r\n  xpra start --attach --exit-with-children --daemon=no --exit-with-client --start-child=xterm\r\n  ```\r\n\r\nThen xpra seemingly tries to choose display number 0, despite a display numbered 0 already existing. It fails to launch the client xterm and eventually dies. When it dies it deletes `/tmp/.X11-unix/X0` that does not belong to it!\r\n\r\nThis does not happen if abstract sockets are enabled (i.e. `-nolisten local` is omitted).\r\n\r\n**System Information**\r\n\r\n - OS: Debian Bullseye\r\n - Xpra Version: xpra v4.4-r30763 (g1cdd8d54f)\r\n\r\n(server and client are same machine)\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3396/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3395", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3395/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3395/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3395/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3395", "id": 1087469247, "node_id": "I_kwDOE8kGxM5A0Xa_", "number": 3395, "title": "Xvfb-for-Xpra-S* process remaining after disconnection", "user": {"login": "mo-han", "id": 9916948, "node_id": "MDQ6VXNlcjk5MTY5NDg=", "avatar_url": "https://avatars.githubusercontent.com/u/9916948?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mo-han", "html_url": "https://github.com/mo-han", "followers_url": "https://api.github.com/users/mo-han/followers", "following_url": "https://api.github.com/users/mo-han/following{/other_user}", "gists_url": "https://api.github.com/users/mo-han/gists{/gist_id}", "starred_url": "https://api.github.com/users/mo-han/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mo-han/subscriptions", "organizations_url": "https://api.github.com/users/mo-han/orgs", "repos_url": "https://api.github.com/users/mo-han/repos", "events_url": "https://api.github.com/users/mo-han/events{/privacy}", "received_events_url": "https://api.github.com/users/mo-han/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-23T07:58:24Z", "updated_at": "2021-12-24T02:52:30Z", "closed_at": "2021-12-24T02:52:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nafter disconnected from client side, desktop related process also stopped on server side, but the `Xvfb-for-Xpra-S*` process still be there:\r\n![\u56fe\u7247](https://user-images.githubusercontent.com/9916948/147207043-e68ec5ee-25e6-4f90-b09f-91ad71546269.png)\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command (nothing really, just let the xpra service running)\r\n2. client command `xpra.cmd start-desktop ssh://***@*** --exit-with-client --start=***`\r\n\r\n**System Information (please complete the following information):**\r\n - Server OS: Ubuntu 18.04\r\n - Client OS: Windows 10 LTSB 2016\r\n - Xpra Server Version v4.2.3-r7\r\n - Xpra Client Version v4.2.2-r0\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3395/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3393", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3393/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3393/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3393/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3393", "id": 1085134888, "node_id": "I_kwDOE8kGxM5Ardgo", "number": 3393, "title": "Error: tcp connection failed: http upgrades are not enabled", "user": {"login": "AlexandreBourrieau", "id": 66630728, "node_id": "MDQ6VXNlcjY2NjMwNzI4", "avatar_url": "https://avatars.githubusercontent.com/u/66630728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexandreBourrieau", "html_url": "https://github.com/AlexandreBourrieau", "followers_url": "https://api.github.com/users/AlexandreBourrieau/followers", "following_url": "https://api.github.com/users/AlexandreBourrieau/following{/other_user}", "gists_url": "https://api.github.com/users/AlexandreBourrieau/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexandreBourrieau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexandreBourrieau/subscriptions", "organizations_url": "https://api.github.com/users/AlexandreBourrieau/orgs", "repos_url": "https://api.github.com/users/AlexandreBourrieau/repos", "events_url": "https://api.github.com/users/AlexandreBourrieau/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexandreBourrieau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-20T19:33:19Z", "updated_at": "2021-12-20T20:25:09Z", "closed_at": "2021-12-20T20:25:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nWhen trying to connect to http, I got this message in the log file :\r\nError: tcp connection failed: http upgrades are not enabled\r\n\r\nCan someone explain me what is happening ? Thanks a lot !", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3393/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3391", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3391/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3391/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3391/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3391", "id": 1083954893, "node_id": "I_kwDOE8kGxM5Am9bN", "number": 3391, "title": "ssh start regression in 4.3", "user": {"login": "fpoto", "id": 5763468, "node_id": "MDQ6VXNlcjU3NjM0Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/5763468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fpoto", "html_url": "https://github.com/fpoto", "followers_url": "https://api.github.com/users/fpoto/followers", "following_url": "https://api.github.com/users/fpoto/following{/other_user}", "gists_url": "https://api.github.com/users/fpoto/gists{/gist_id}", "starred_url": "https://api.github.com/users/fpoto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fpoto/subscriptions", "organizations_url": "https://api.github.com/users/fpoto/orgs", "repos_url": "https://api.github.com/users/fpoto/repos", "events_url": "https://api.github.com/users/fpoto/events{/privacy}", "received_events_url": "https://api.github.com/users/fpoto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709860, "node_id": "MDU6TGFiZWwyNjc4NzA5ODYw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-12-18T22:05:42Z", "updated_at": "2022-02-12T13:50:49Z", "closed_at": "2021-12-22T14:34:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "After upgrading to 4.3-r0-1 on a Debian testing up-to-date system, I get:\r\n```\r\n2021-12-18 18:09:15,009 Xpra GTK3 X11 client version 4.3-r0 64-bit\r\n2021-12-18 18:09:15,187  running on Linux Debian testing bookworm\r\n2021-12-18 18:09:15,188  window manager is 'Metacity (Marco)'\r\n2021-12-18 18:09:17,425 GStreamer version 1.18.5 for Python 3.9.9 64-bit\r\n2021-12-18 18:09:17,548 created unix domain socket '/run/user/1000/xpra/clients/pot-2061924'\r\n2021-12-18 18:09:17,656 No OpenGL_accelerate module loaded: No module named 'OpenGL_accelerate'\r\n2021-12-18 18:09:18,077 Warning: vendor 'Intel' is greylisted,\r\n2021-12-18 18:09:18,077  you may want to turn off OpenGL if you encounter bugs\r\n2021-12-18 18:09:18,082 OpenGL enabled with Mesa Intel(R) Iris(R) Plus Graphics 655 (CFL GT3)\r\n2021-12-18 18:09:18,144 Connected (version 2.0, client OpenSSH_8.7p1)\r\n2021-12-18 18:09:18,316 Authentication (publickey) successful!\r\n2021-12-18 18:09:18,872  SSH: 'WARNING: low display number: 7'\r\n2021-12-18 18:09:18,872  SSH: ' You are attempting to run the xpra server'\r\n2021-12-18 18:09:18,872  SSH: \" against a low X11 display number: ':7'.\"\r\n2021-12-18 18:09:18,873  SSH: ' This is generally not what you want.'\r\n2021-12-18 18:09:18,873  SSH: ' You should probably use a higher display number'\r\n2021-12-18 18:09:18,873  SSH: ' just to avoid any confusion and this warning message.'\r\n2021-12-18 18:09:18,950  SSH: 'Entering daemon mode; any further errors will be reported to:'\r\n2021-12-18 18:09:18,951  SSH: '  /run/user/1000/xpra/7/server.log.new'\r\n2021-12-18 18:09:18,958  keyboard settings: rules=evdev, model=pc105, layout=us,it\r\n2021-12-18 18:09:18,960  desktop size is 1280x1024:\r\n2021-12-18 18:09:18,960   :0.0 (338x270 mm - DPI: 96x96) workarea: 1279x996  at    0x28  \r\n2021-12-18 18:09:18,961     GSM DP-1         (376x301 mm - DPI: 86x86)\r\n2021-12-18 18:09:20,081  SSH: 'Actual log file name is now: /run/user/1000/xpra/7/server.log'\r\n2021-12-18 18:09:29,431 SSH EOF on stderr of run-xpra\r\n2021-12-18 18:09:29,436 Error: failed to receive anything, not an xpra server?\r\n2021-12-18 18:09:29,437   could also be the wrong protocol, username, password or port\r\n2021-12-18 18:09:29,437   or the session was not found\r\n2021-12-18 18:09:29,437 Connection failed\r\n2021-12-18 18:09:29,472 removing unix domain socket '/run/user/1000/xpra/clients/pot-2061924'\r\n```\r\n\r\nAfter downgrading to  4.2.3-r7-2 I get:\r\n```\r\n2021-12-18 23:03:56,638 Xpra GTK3 X11 client version 4.2.3-r7 64-bit\r\n2021-12-18 23:03:56,871  running on Linux Debian testing bookworm\r\n2021-12-18 23:03:56,872  window manager is 'Metacity (Marco)'\r\n2021-12-18 23:03:59,070 GStreamer version 1.18.5 for Python 3.9.9 64-bit\r\n2021-12-18 23:03:59,185 created unix domain socket '/run/user/1000/xpra/clients/pot-2256062'\r\n2021-12-18 23:03:59,282 No OpenGL_accelerate module loaded: No module named 'OpenGL_accelerate'\r\n2021-12-18 23:03:59,690 Warning: vendor 'Intel' is greylisted,\r\n2021-12-18 23:03:59,690  you may want to turn off OpenGL if you encounter bugs\r\n2021-12-18 23:03:59,695 OpenGL enabled with Mesa Intel(R) Iris(R) Plus Graphics 655 (CFL GT3)\r\n2021-12-18 23:03:59,756 Connected (version 2.0, client OpenSSH_8.7p1)\r\n2021-12-18 23:03:59,926 Authentication (publickey) successful!\r\n2021-12-18 23:04:00,313  SSH: 'found existing display :7 : LIVE'\r\n2021-12-18 23:04:00,507  keyboard settings: rules=evdev, model=pc105, layout=us,it\r\n2021-12-18 23:04:00,509  desktop size is 1280x1024 with 1 screen:\r\n2021-12-18 23:04:00,509   :0.0 (338x270 mm - DPI: 96x96) workarea: 1279x996 at 0x28\r\n2021-12-18 23:04:00,509     GSM DP-1 (376x301 mm - DPI: 86x86)\r\n2021-12-18 23:04:00,736 enabled remote logging\r\n2021-12-18 23:04:00,737 Xpra X11 seamless server version 4.2.3-r7 64-bit\r\n2021-12-18 23:04:00,737  running on Linux Debian testing bookworm\r\n2021-12-18 23:04:01,075 audio playback using pulseaudio device:\r\n2021-12-18 23:04:01,075 audio playback  'Built-in Audio Digital Stereo (HDMI)'\r\n2021-12-18 23:04:01,379 Error: failed to load icon data for 'Network Tools':\r\n2021-12-18 23:04:01,379  rsvg-error-quark: XML parse error: error code=99 (3) in (null):10:72: xmlns:sodipodi: 'http://inkscape.sourceforge.net/DTD/s odipodi-0.dtd' is not a valid URI\r\n (0)\r\n2021-12-18 23:04:01,380  data=None\r\n2021-12-18 23:04:01,606 audio playback using 'opus' audio codec\r\n2021-12-18 23:04:01,694 running, 1 window\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3391/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3389", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3389/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3389/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3389/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3389", "id": 1082452108, "node_id": "I_kwDOE8kGxM5AhOiM", "number": 3389, "title": "`vpx: all the codecs have failed! (vp8, vp9)`", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-16T17:14:30Z", "updated_at": "2021-12-17T03:52:59Z", "closed_at": "2021-12-17T03:52:59Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I am sorry to bring out issues one at a time, buuut, I just noticed ...\r\n\r\n```\r\n     30 2021-12-16 18:42:46,235 Handshake complete; enabling connection\r\n     31 2021-12-16 18:42:46,285 vp8 codec encoding error 8: b'Invalid parameter'\r\n     32 2021-12-16 18:42:46,285 vpx: vp8 encoding failed: data is empty and there are no delayed frames!\r\n     33 2021-12-16 18:42:46,285 vpx: vp9 encoding failed: 'vp9'\r\n     34 2021-12-16 18:42:46,285 vpx: all the codecs have failed! (vp8, vp9)\r\n```\r\n\r\nIf there was a consistent way that loglevels started with ... \ud83d\ude15 \r\nI am considering \"improving\" my pager (https://github.com/sharkdp/bat) sometime that any line that contains `(error|fail)` would be fully highlighted in red ...\r\n\r\nSteps to reproduce the behavior:\r\n1. ```\r\n    Server: Ubuntu 20.04.3 LTS / 4.3-r30682 (81ce25817)\r\n    /usr/bin/xpra\r\n    shadow\r\n    :0\r\n    --title=@title@ on @@/@server-display@\r\n    --ssh=plink -ssh -agent\r\n    --desktop-scaling=1.25\r\n    --speaker=off\r\n    --exit-with-client=yes\r\n    --splash=no\r\n    --start-child=systemd-inhibit --what=handle-lid-switch sleep 1d\r\n    --env=XPRA_PROXY_START_UUID=99992f3b042c49c5991d51d63921b382\r\n    --daemon=yes\r\n    --systemd-run=no\r\n   ```\r\n2. `\"Xpra-Python3-x86_64_4.3-r30655\\xpra_cmd\" shadow ssh://user@ip/0 --ssh=\"plink -ssh -agent\" --modal-windows=no --desktop-scaling=1.25 --headerbar=off --title=\"@title@ on @@/@server-display@\" --start-child=\"systemd-inhibit --what=handle-lid-switch sleep 1d\" --start-on-last-client-exit=\"systemd-inhibit --what=handle-lid-switch sleep 5m\" --microphone=off --speaker=off --webcam=no --pulseaudio=no`\r\n3. specific action to trigger the bug\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.3 LTS\r\n- Client OS: Microsoft Windows [Version 10.0.18363.836]\r\n- Xpra Server Version (see above)\r\n- Xpra Client Version (see above)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3389/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3389/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3387", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3387/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3387/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3387/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3387", "id": 1080242163, "node_id": "I_kwDOE8kGxM5AYy_z", "number": 3387, "title": "New instance of \"Warning: failed to setup video pipeline\"", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-14T21:01:12Z", "updated_at": "2021-12-15T02:34:15Z", "closed_at": "2021-12-15T02:34:15Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n<pre>     <b>50</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">949</font><font color=\"#DCDFE4\"> Warning: failed to setup video pipeline (</font><font color=\"#E5C07B\">44</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), None, </font><font color=\"#E5C07B\">0</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">0</font><font color=\"#DCDFE4\">, None, </font><font color=\"#98C379\">&apos;BGRX&apos;</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">, jpeg(BGRX to jpeg))</font>\r\n     <b>51</b> <font color=\"#DCDFE4\">Traceback (most recent call last):</font>\r\n     <b>52</b> <font color=\"#DCDFE4\">  File </font><font color=\"#98C379\">&quot;/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py&quot;</font><font color=\"#DCDFE4\">, line </font><font color=\"#E5C07B\">1656</font><font color=\"#DCDFE4\">, in setup_pipeline</font>\r\n     <b>53</b> <font color=\"#DCDFE4\">    if self.setup_pipeline_option(width, height, src_format, *option):</font>\r\n     <b>54</b> <font color=\"#DCDFE4\">  File </font><font color=\"#98C379\">&quot;/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py&quot;</font><font color=\"#DCDFE4\">, line </font><font color=\"#E5C07B\">1743</font><font color=\"#DCDFE4\">, in setup_pipeline_option</font>\r\n     <b>55</b> <font color=\"#DCDFE4\">    ve.init_context(encoder_spec.encoding, enc_width, enc_height, enc_in_format, options)</font>\r\n     <b>56</b> <font color=\"#DCDFE4\">  File </font><font color=\"#98C379\">&quot;xpra/codecs/jpeg/encoder.pyx&quot;</font><font color=\"#DCDFE4\">, line </font><font color=\"#E5C07B\">172</font><font color=\"#DCDFE4\">, in xpra.codecs.jpeg.encoder.Encoder.init_context</font>\r\n     <b>57</b> <font color=\"#DCDFE4\">TypeError: init_context() takes exactly </font><font color=\"#E5C07B\">10</font><font color=\"#DCDFE4\"> positional arguments (</font><font color=\"#E5C07B\">5</font><font color=\"#DCDFE4\"> given)</font>\r\n     <b>58</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">968</font><font color=\"#DCDFE4\"> Warning: failed to setup video pipeline (</font><font color=\"#E5C07B\">34</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">, swscale(BGRX to RGBX), </font><font color=\"#98C379\">&apos;RGBX&apos;</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">, jpeg(RGBX to jpeg))</font>\r\n     <b>59</b> <font color=\"#DCDFE4\">Traceback (most recent call last):</font>\r\n     <b>60</b> <font color=\"#DCDFE4\">  File </font><font color=\"#98C379\">&quot;/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py&quot;</font><font color=\"#DCDFE4\">, line </font><font color=\"#E5C07B\">1656</font><font color=\"#DCDFE4\">, in setup_pipeline</font>\r\n     <b>61</b> <font color=\"#DCDFE4\">    if self.setup_pipeline_option(width, height, src_format, *option):</font>\r\n     <b>62</b> <font color=\"#DCDFE4\">  File </font><font color=\"#98C379\">&quot;/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py&quot;</font><font color=\"#DCDFE4\">, line </font><font color=\"#E5C07B\">1743</font><font color=\"#DCDFE4\">, in setup_pipeline_option</font>\r\n     <b>63</b> <font color=\"#DCDFE4\">    ve.init_context(encoder_spec.encoding, enc_width, enc_height, enc_in_format, options)</font>\r\n     <b>64</b> <font color=\"#DCDFE4\">  File </font><font color=\"#98C379\">&quot;xpra/codecs/jpeg/encoder.pyx&quot;</font><font color=\"#DCDFE4\">, line </font><font color=\"#E5C07B\">172</font><font color=\"#DCDFE4\">, in xpra.codecs.jpeg.encoder.Encoder.init_context</font>\r\n     <b>65</b> <font color=\"#DCDFE4\">TypeError: init_context() takes exactly </font><font color=\"#E5C07B\">10</font><font color=\"#DCDFE4\"> positional arguments (</font><font color=\"#E5C07B\">5</font><font color=\"#DCDFE4\"> given)</font>\r\n     <b>66</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">969</font><font color=\"#DCDFE4\"> Warning: failed to setup video pipeline (</font><font color=\"#E5C07B\">24</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">, swscale(BGRX to YUV420P), </font><font color=\"#98C379\">&apos;YUV420P&apos;</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">, jpeg(YUV420P to jpeg))</font>\r\n     <b>67</b> <font color=\"#DCDFE4\">Traceback (most recent call last):</font>\r\n     <b>68</b> <font color=\"#DCDFE4\">  File </font><font color=\"#98C379\">&quot;/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py&quot;</font><font color=\"#DCDFE4\">, line </font><font color=\"#E5C07B\">1656</font><font color=\"#DCDFE4\">, in setup_pipeline</font>\r\n     <b>69</b> <font color=\"#DCDFE4\">    if self.setup_pipeline_option(width, height, src_format, *option):</font>\r\n     <b>70</b> <font color=\"#DCDFE4\">  File </font><font color=\"#98C379\">&quot;/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py&quot;</font><font color=\"#DCDFE4\">, line </font><font color=\"#E5C07B\">1743</font><font color=\"#DCDFE4\">, in setup_pipeline_option</font>\r\n     <b>71</b> <font color=\"#DCDFE4\">    ve.init_context(encoder_spec.encoding, enc_width, enc_height, enc_in_format, options)</font>\r\n     <b>72</b> <font color=\"#DCDFE4\">  File </font><font color=\"#98C379\">&quot;xpra/codecs/jpeg/encoder.pyx&quot;</font><font color=\"#DCDFE4\">, line </font><font color=\"#E5C07B\">172</font><font color=\"#DCDFE4\">, in xpra.codecs.jpeg.encoder.Encoder.init_context</font>\r\n     <b>73</b> <font color=\"#DCDFE4\">TypeError: init_context() takes exactly </font><font color=\"#E5C07B\">10</font><font color=\"#DCDFE4\"> positional arguments (</font><font color=\"#E5C07B\">5</font><font color=\"#DCDFE4\"> given)</font>\r\n     <b>74</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">970</font><font color=\"#DCDFE4\"> Warning: failed to setup video pipeline (</font><font color=\"#E5C07B\">23</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">, cython(BGRX to YUV420P), </font><font color=\"#98C379\">&apos;YUV420P&apos;</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">, jpeg(YUV420P to jpeg))</font>\r\n     <b>75</b> <font color=\"#DCDFE4\">Traceback (most recent call last):</font>\r\n     <b>76</b> <font color=\"#DCDFE4\">  File </font><font color=\"#98C379\">&quot;/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py&quot;</font><font color=\"#DCDFE4\">, line </font><font color=\"#E5C07B\">1656</font><font color=\"#DCDFE4\">, in setup_pipeline</font>\r\n     <b>77</b> <font color=\"#DCDFE4\">    if self.setup_pipeline_option(width, height, src_format, *option):</font>\r\n     <b>78</b> <font color=\"#DCDFE4\">  File </font><font color=\"#98C379\">&quot;/usr/lib/python3/dist-packages/xpra/server/window/window_video_source.py&quot;</font><font color=\"#DCDFE4\">, line </font><font color=\"#E5C07B\">1743</font><font color=\"#DCDFE4\">, in setup_pipeline_option</font>\r\n     <b>79</b> <font color=\"#DCDFE4\">    ve.init_context(encoder_spec.encoding, enc_width, enc_height, enc_in_format, options)</font>\r\n     <b>80</b> <font color=\"#DCDFE4\">  File </font><font color=\"#98C379\">&quot;xpra/codecs/jpeg/encoder.pyx&quot;</font><font color=\"#DCDFE4\">, line </font><font color=\"#E5C07B\">172</font><font color=\"#DCDFE4\">, in xpra.codecs.jpeg.encoder.Encoder.init_context</font>\r\n     <b>81</b> <font color=\"#DCDFE4\">TypeError: init_context() takes exactly </font><font color=\"#E5C07B\">10</font><font color=\"#DCDFE4\"> positional arguments (</font><font color=\"#E5C07B\">5</font><font color=\"#DCDFE4\"> given)</font>\r\n     <b>82</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">970</font><font color=\"#DCDFE4\"> Error: failed to setup a video pipeline for BGRX at 1920x1080</font>\r\n     <b>83</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">970</font><font color=\"#DCDFE4\">  tried the following options</font>\r\n     <b>84</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">971</font><font color=\"#DCDFE4\">  (</font><font color=\"#E5C07B\">44</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), None, </font><font color=\"#E5C07B\">0</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">0</font><font color=\"#DCDFE4\">, None, </font><font color=\"#98C379\">&apos;BGRX&apos;</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">, jpeg(BGRX to jpeg))</font>\r\n     <b>85</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">971</font><font color=\"#DCDFE4\">  (</font><font color=\"#E5C07B\">34</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">, swscale(BGRX to RGBX), </font><font color=\"#98C379\">&apos;RGBX&apos;</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">, jpeg(RGBX to jpeg))</font>\r\n     <b>86</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">971</font><font color=\"#DCDFE4\">  (</font><font color=\"#E5C07B\">24</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">, swscale(BGRX to YUV420P), </font><font color=\"#98C379\">&apos;YUV420P&apos;</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">, jpeg(YUV420P to jpeg))</font>\r\n     <b>87</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">971</font><font color=\"#DCDFE4\">  (</font><font color=\"#E5C07B\">23</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">, cython(BGRX to YUV420P), </font><font color=\"#98C379\">&apos;YUV420P&apos;</font><font color=\"#DCDFE4\">, (</font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1</font><font color=\"#DCDFE4\">), </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">, jpeg(YUV420P to jpeg))</font>\r\n     <b>88</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">971</font><font color=\"#DCDFE4\"> Error: failed to setup a video pipeline for auto encoding with source format BGRX</font>\r\n     <b>89</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">971</font><font color=\"#DCDFE4\">  all encoders: </font>\r\n     <b>90</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">971</font><font color=\"#DCDFE4\">  supported CSC modes: </font>\r\n     <b>91</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">971</font><font color=\"#DCDFE4\">  supported encoders: </font>\r\n     <b>92</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">971</font><font color=\"#DCDFE4\">  encoders CSC modes: </font>\r\n     <b>93</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">972</font><font color=\"#DCDFE4\"> Warning: using non-video fallback encoding</font>\r\n     <b>94</b> <font color=\"#E5C07B\">2021-12-14</font><font color=\"#DCDFE4\"> </font><font color=\"#E5C07B\">22:16:07</font><font color=\"#DCDFE4\">,</font><font color=\"#E5C07B\">972</font><font color=\"#DCDFE4\">  for XShmImageWrapper(BGRX: </font><font color=\"#E5C07B\">0</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">0</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1920</font><font color=\"#DCDFE4\">, </font><font color=\"#E5C07B\">1080</font><font color=\"#DCDFE4\">) of window </font><font color=\"#E5C07B\">1</font>\r\n</pre>\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. ```\r\n\tServer: Ubuntu 20.04.3 LTS / 4.3-r30655 (1e8a46dce)\r\n\t/usr/bin/xpra\r\n\tshadow\r\n\t:0\r\n\t--title=@title@ on @@/@server-display@\r\n\t--ssh=plink -ssh -agent\r\n\t--desktop-scaling=1.25\r\n\t--speaker=off\r\n\t--exit-with-client=yes\r\n\t--splash=no\r\n\t--video-encoders=\r\n\t--csc-modules=\r\n\t--video-decoders=\r\n\t--start-child=systemd-inhibit --what=handle-lid-switch sleep 1d\r\n\t--env=XPRA_PROXY_START_UUID=c86bb1b029e1460b87788017b337c98d\r\n\t--daemon=yes\r\n\t--systemd-run=no\r\n\t```\r\n2. `\"Xpra-Python3-x86_64_4.3-r30655\\xpra_cmd\" shadow ssh://user@ip/0 --ssh=\"plink -ssh -agent\" --modal-windows=no --desktop-scaling=1.25 --headerbar=off --title=\"@title@ on @@/@server-display@\" --start-child=\"systemd-inhibit --what=handle-lid-switch sleep 1d\" --microphone=off --speaker=off --webcam=no --pulseaudio=no`\r\n\r\n**System Information (please complete the following information):**\r\n- Server OS: Ubuntu 20.04.3 LTS\r\n- Client OS: Microsoft Windows [Version 10.0.18363.836]\r\n- Xpra Server Version (see above)\r\n- Xpra Client Version (see above)\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nPlease see \"reporting bugs\" in the wiki section.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3387/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3387/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3385", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3385/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3385/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3385/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3385", "id": 1077922282, "node_id": "I_kwDOE8kGxM5AP8nq", "number": 3385, "title": "Connection that works on ubuntu doesn't work on macos", "user": {"login": "da0ist", "id": 7945846, "node_id": "MDQ6VXNlcjc5NDU4NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/7945846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/da0ist", "html_url": "https://github.com/da0ist", "followers_url": "https://api.github.com/users/da0ist/followers", "following_url": "https://api.github.com/users/da0ist/following{/other_user}", "gists_url": "https://api.github.com/users/da0ist/gists{/gist_id}", "starred_url": "https://api.github.com/users/da0ist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/da0ist/subscriptions", "organizations_url": "https://api.github.com/users/da0ist/orgs", "repos_url": "https://api.github.com/users/da0ist/repos", "events_url": "https://api.github.com/users/da0ist/events{/privacy}", "received_events_url": "https://api.github.com/users/da0ist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-12-12T22:13:01Z", "updated_at": "2022-04-03T14:28:29Z", "closed_at": "2022-04-03T14:28:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nConnection that works on ubuntu doesn't work on macos\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. server command: none\r\n2. client command: \r\nUbuntu: `xpra start-desktop --start=xterm ssh://ubuntu@xxx.xxx.xxx.xxx/`\r\nmacOS: `/Applications/Xpra.app/Contents/MacOS/Xpra start-desktop --start=xterm ssh://ubuntu@xxx.xxx.xxx.xxx`\r\nSSH Authentication on `xxx.xxx.xxx.xxx` failed\r\n\r\n3. specific action to trigger the bug\r\n\r\n**System Information:**\r\n - Server OS: Ubuntu 20.04.3 LTS\r\n - Linux Client OS: Ubuntu 20.04.3 LTS\r\n - macOS Client OS: Big Sur\r\n - Xpra Server Version: v3.0.6-r25177\r\n - Linux Xpra Client Version: v3.0.6-r25177\r\n - macOS Xpra Client Version: v4.2.3-r0\r\n\r\n**Additional context**\r\nI even enabled password authentication on the server, but still get authentication failed. I can ssh fine from the terminal.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3385/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3383", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3383/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3383/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3383/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3383", "id": 1075770477, "node_id": "I_kwDOE8kGxM5AHvRt", "number": 3383, "title": "openssh private key prevents normal connection", "user": {"login": "brainchild0", "id": 34869175, "node_id": "MDQ6VXNlcjM0ODY5MTc1", "avatar_url": "https://avatars.githubusercontent.com/u/34869175?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brainchild0", "html_url": "https://github.com/brainchild0", "followers_url": "https://api.github.com/users/brainchild0/followers", "following_url": "https://api.github.com/users/brainchild0/following{/other_user}", "gists_url": "https://api.github.com/users/brainchild0/gists{/gist_id}", "starred_url": "https://api.github.com/users/brainchild0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brainchild0/subscriptions", "organizations_url": "https://api.github.com/users/brainchild0/orgs", "repos_url": "https://api.github.com/users/brainchild0/repos", "events_url": "https://api.github.com/users/brainchild0/events{/privacy}", "received_events_url": "https://api.github.com/users/brainchild0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709842, "node_id": "MDU6TGFiZWwyNjc4NzA5ODQy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue or pull request already exists"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681259131, "node_id": "MDU6TGFiZWwyNjgxMjU5MTMx", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/upstream", "name": "upstream", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2021-12-09T16:32:11Z", "updated_at": "2021-12-10T08:09:20Z", "closed_at": "2021-12-10T06:13:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Description\r\n\r\nThe client is unable to establish an SSH connection to a remote host.\r\n\r\nThe console output appears below.\r\n\r\nThe problem may be resolved by appending the command line with `--ssh=ssh`, however, this solution is not available from the graphical connection launcher.\r\n\r\n---\r\n\r\n```\r\n$ xpra start ssh://user@host\r\nGtk-Message: 11:23:34.193: Failed to load module \"appmenu-gtk-module\"\r\n2021-12-09 11:23:34,275 Xpra GTK3 X11 client version 4.2.3-r12 64-bit\r\nGtk-Message: 11:23:34.279: Failed to load module \"appmenu-gtk-module\"\r\n2021-12-09 11:23:34,425  running on Linux Linuxmint 20.2 uma\r\n2021-12-09 11:23:34,426  window manager is 'Mutter (Muffin)'\r\nGtk-Message: 11:23:35.205: Failed to load module \"appmenu-gtk-module\"\r\n2021-12-09 11:23:35,250 GStreamer version 1.16.2 for Python 3.8.10 64-bit\r\n2021-12-09 11:23:35,281 created unix domain socket '/run/user/1000/xpra/clients/XXXXX-181824'\r\n2021-12-09 11:23:35,344 No OpenGL_accelerate module loaded: No module named 'OpenGL_accelerate'\r\n2021-12-09 11:23:35,508 Warning: vendor 'Intel' is greylisted,\r\n2021-12-09 11:23:35,508  you may want to turn off OpenGL if you encounter bugs\r\n2021-12-09 11:23:35,600 OpenGL enabled with Mesa Intel(R) Iris(R) Plus Graphics (ICL GT2)\r\n2021-12-09 11:23:35,651 Connected (version 2.0, client OpenSSH_8.2p1)\r\n2021-12-09 11:23:35,761 Exception: key cannot be used for signing\r\n2021-12-09 11:23:35,763 Traceback (most recent call last):\r\n2021-12-09 11:23:35,763   File \"/usr/lib/python3/dist-packages/paramiko/transport.py\", line 2109, in run\r\n2021-12-09 11:23:35,763     handler(self.auth_handler, m)\r\n2021-12-09 11:23:35,763   File \"/usr/lib/python3/dist-packages/paramiko/auth_handler.py\", line 298, in _parse_service_accept\r\n2021-12-09 11:23:35,763     sig = self.private_key.sign_ssh_data(blob)\r\n2021-12-09 11:23:35,763   File \"/usr/lib/python3/dist-packages/paramiko/agent.py\", line 418, in sign_ssh_data\r\n2021-12-09 11:23:35,763     raise SSHException(\"key cannot be used for signing\")\r\n2021-12-09 11:23:35,764 paramiko.ssh_exception.SSHException: key cannot be used for signing\r\n2021-12-09 11:23:35,764 \r\n2021-12-09 11:23:35,764 SSH agent key 'MD5:3d:83:cb:11:70:21:4e:af:2b:24:f2:07:75:11:60:94' rejected for user 'user'\r\n2021-12-09 11:23:35,764 agent authentication failed, tried 1 key\r\n2021-12-09 11:23:35,765 Warning: private key '/home/user/.ssh/id_rsa'\r\n2021-12-09 11:23:35,765  this file seems to be using OpenSSH's own format\r\n2021-12-09 11:23:35,765  please convert it to something more standard (ie: PEM)\r\n2021-12-09 11:23:35,765  so it can be used with the paramiko backend\r\n2021-12-09 11:23:35,765  or switch to the OpenSSH backend with '--ssh=ssh'\r\n2021-12-09 11:23:35,765 Error: cannot load private key '/home/user/.ssh/id_rsa'\r\n```\r\n\r\n\r\n# Reproduction\r\n\r\nThe problem appears to be caused by a private key in the user's local directory that had been created by OpenSSH. Creating a private key with OpenSSH is suggested to reproduce the problem.\r\n\r\n# System\r\n\r\n- **Server:**\r\n  - **OS:** Linux Mint 20.2\r\n  - **Application:** Xpra v4.2.3-r12\r\n- **Client:**\r\n  - **OS:** Linux Mint 20.2\r\n  - **Application:** Xpra v4.3-r30655 (g1e8a46dce)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3383/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3383/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3382", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3382/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3382/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3382/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3382", "id": 1075620858, "node_id": "I_kwDOE8kGxM5AHKv6", "number": 3382, "title": "window source can be created before all encodings are initialized", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-09T14:14:12Z", "updated_at": "2021-12-10T14:32:17Z", "closed_at": "2021-12-10T14:32:17Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "1e8a46dce741c8aa1b47e196d25ea062d56b6b12 is a workaround for this, but other encodings may be missing if the client connects before `threaded_setup` has completed.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3382/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3379", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3379/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3379/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3379/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3379", "id": 1071352723, "node_id": "I_kwDOE8kGxM4_24uT", "number": 3379, "title": "Clipping area for mouse event after connecting by HTML5 client", "user": {"login": "belonesox", "id": 1609739, "node_id": "MDQ6VXNlcjE2MDk3Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1609739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/belonesox", "html_url": "https://github.com/belonesox", "followers_url": "https://api.github.com/users/belonesox/followers", "following_url": "https://api.github.com/users/belonesox/following{/other_user}", "gists_url": "https://api.github.com/users/belonesox/gists{/gist_id}", "starred_url": "https://api.github.com/users/belonesox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/belonesox/subscriptions", "organizations_url": "https://api.github.com/users/belonesox/orgs", "repos_url": "https://api.github.com/users/belonesox/repos", "events_url": "https://api.github.com/users/belonesox/events{/privacy}", "received_events_url": "https://api.github.com/users/belonesox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681274986, "node_id": "MDU6TGFiZWwyNjgxMjc0OTg2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/geometry", "name": "geometry", "color": "c5def5", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-12-05T02:14:29Z", "updated_at": "2022-04-12T09:41:41Z", "closed_at": "2022-04-12T09:41:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've observed a geometric clipping of mouse events on HTML5 connections.\r\nFor a 1920\u00d71080 monitor, if the mouse event was larger than about 1790\u00d7800, its coordinates were clipped.\r\n\r\nThe easiest way to see this is with a logging application such as xournal or xournalpp.\r\n\r\nThis ( https://vimeo.com/99375768, 3minute) video demonstrates the following demos:\r\n* Running the server with the local GTK client and the xournalpp application\r\n```\r\nxpra start ssh://b6981b2b16284bb6bfba79653f09d507@scp-007.0x1.tv/100 --start=xournalpp --bind-tcp=0.0.0.0:10000 --html=/usr/share/xpra/www/ --sharing=yes --microphone=off --terminate-children=yes --speaker=disabled --bell=no --clipboard=yes --notifications=no --av-sync=no --tray=no --mousewheel=on   --daemon=no \r\n```\r\n[log-from-starting-session.txt](https://github.com/Xpra-org/xpra/files/7655078/log-from-starting-session.txt)\r\n\r\n* The GTK version of xournalpp starts and works without any clipping.\r\n* Attaching the HTML5 client (tested all modern browsers, FF, Chrome, Edge\u2026 \u2014 same problem)\r\n  * In the HTML5 client there is a clipping of mouse events\r\n* Once HTML5 client is connected, clipping occurs in GTK client as well.\r\n\r\nSo, I think this problem is beyond the scope of the xpra-html5 project.\r\n\r\nI tested xpra==4.1.3 (standard RPM from Fedora Core 34), and last v4.2.3 \u2014 the problem still persists.\r\n\r\n**To Reproduce**\r\n\r\nInstall on server any applications, to demo mouse clipping event \u2014 xournal, xournalpp, inkscape, etc. Actually, any application can be used, even ``xev``, but drawing apps are better to demo the issue. \r\n \r\nSteps to reproduce the behavior:\r\n1. server command\r\n```\r\n/usr/bin/xpra start :100 --start=xournalpp --bind-tcp=0.0.0.0:10000 --html=/usr/share/xpra/www/ --sharing=yes --daemon=no  --cursors=yes \r\n```\r\n2. Connect by any browser to choosen port (10000)\r\n\r\n3.  Try to draw something to bottom right corner.\r\n\r\n - Server OS: \u00abFedora release 34 (Thirty Four)\u00bb\r\n - Client OS: \u00abFedora release 34 (Thirty Four)\u00bb\r\n - Server Version 34\r\n - Client Version 34\r\n\r\n4. Server Logs attached\u2026\r\n[:101.log](https://github.com/Xpra-org/xpra/files/7655075/101.log)\r\n[Xorg.:101.log](https://github.com/Xpra-org/xpra/files/7655076/Xorg.101.log)\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3379/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3379/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3366", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3366/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3366/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3366/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3366", "id": 1065008917, "node_id": "I_kwDOE8kGxM4_er8V", "number": 3366, "title": "Error parsing icon data for notification", "user": {"login": "jdstroy", "id": 1243517, "node_id": "MDQ6VXNlcjEyNDM1MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1243517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdstroy", "html_url": "https://github.com/jdstroy", "followers_url": "https://api.github.com/users/jdstroy/followers", "following_url": "https://api.github.com/users/jdstroy/following{/other_user}", "gists_url": "https://api.github.com/users/jdstroy/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdstroy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdstroy/subscriptions", "organizations_url": "https://api.github.com/users/jdstroy/orgs", "repos_url": "https://api.github.com/users/jdstroy/repos", "events_url": "https://api.github.com/users/jdstroy/events{/privacy}", "received_events_url": "https://api.github.com/users/jdstroy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-11-27T11:39:40Z", "updated_at": "2022-04-15T08:17:40Z", "closed_at": "2022-04-15T08:17:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "xpra server reported this error (appears to be from Firefox posting a \"Toast\" style notification for the Element Matrix client):\r\n```\r\n2021-11-27 05:32:45,525 Error parsing icon data for notification:\r\n2021-11-27 05:32:45,525  a bytes-like object is required, not 'list'\r\n```\r\nServer:\r\n\r\nxpra v4.3-r30545 (g5d34d0592)\r\n\r\nClient:\r\n`v4.3-r30469 (g1f7f5b2af)`", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3366/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3365", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3365/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3365/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3365/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3365", "id": 1064354056, "node_id": "I_kwDOE8kGxM4_cMEI", "number": 3365, "title": "ubuntu xvfb initialization error", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-26T11:06:17Z", "updated_at": "2021-11-26T12:21:35Z", "closed_at": "2021-11-26T11:25:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "After doing certificate install indicated from my previous report, I could install the beta without problem. However, using my typical startup `xpra start :43 --start-child=mate-terminal`, I get a failure. Entirety of server.log:\r\n```\r\n2021-11-26 05:49:45,238 no uinput module\r\n2021-11-26 05:49:45,379 pointer device emulation using XTest\r\n2021-11-26 05:49:45,406 serving html content from '/usr/share/xpra/www'\r\n2021-11-26 05:49:45,406 wrote pid 2307498 to '/run/user/45512/xpra/43/server.pid'\r\n2021-11-26 05:49:45,419 Warning: found an existing window manager\r\n2021-11-26 05:49:45,419  on display :43 using EWMH window 0x2200002: 'Metacity (Marco)'\r\n2021-11-26 05:49:45,425 Warning: socket directory '/run/xpra'\r\n2021-11-26 05:49:45,425  expected permissions 0o775 but found 0o777\r\n2021-11-26 05:49:45,425 Warning: socket directory '/home/kkleinpa/.xpra'\r\n2021-11-26 05:49:45,425  expected permissions 0o700 but found 0o755\r\n2021-11-26 05:49:45,425 Warning: socket directory '/run/user/45512/xpra/43'\r\n2021-11-26 05:49:45,425  expected permissions 0o700 but found 0o750\r\n2021-11-26 05:49:45,454 created unix domain socket '/run/user/45512/xpra/HOSTNAME-43'\r\n2021-11-26 05:49:45,483 created unix domain socket '/run/xpra/HOSTNAME-43'\r\n2021-11-26 05:49:45,514 created unix domain socket '/home/kkleinpa/.xpra/HOSTNAME-43'\r\n2021-11-26 05:49:45,543 created unix domain socket '/run/user/45512/xpra/43/socket'\r\n2021-11-26 05:49:45,543 xvfb pid not found\r\n2021-11-26 05:49:45,548 xpra server initialization error:\r\n2021-11-26 05:49:45,548  another window manager is active on display ':43'\r\n2021-11-26 05:49:45,560 removing unix domain socket '/run/user/45512/xpra/HOSTNAME-43'\r\n2021-11-26 05:49:45,561 removing unix domain socket '/run/xpra/HOSTNAME-43'\r\n2021-11-26 05:49:45,561 removing unix domain socket '/home/kkleinpa/.xpra/HOSTNAME-43'\r\n2021-11-26 05:49:45,563 removing unix domain socket '/run/user/45512/xpra/43/socket'\r\n```\r\nFYI, 1st run failed because of inability to create socket in /run/xpra, bad perms, because it was 0750 and non-root access. I changed it to 0777, which makes it get past that step, but of course now it warns (above) of wrong perms. I suspect 01777 (drwxrwxrwt) is actually needed. Above is 2nd attempt after making /run/xpra usable by non-root.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3365/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3365/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3354", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3354/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3354/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3354/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3354", "id": 1055232310, "node_id": "I_kwDOE8kGxM4-5ZE2", "number": 3354, "title": "blank window displayed, underlying actual window has content", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 25, "created_at": "2021-11-16T19:16:04Z", "updated_at": "2021-12-04T14:39:20Z", "closed_at": "2021-12-04T14:39:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "centos 8, latest *.rpm as of 30min ago.\r\nwith this sequence of commands:\r\n```\r\n  550   01:52pm   xpra start :73 --start-child='vglrun mate-terminal'\r\n  551   01:52pm   xpra attach :73 &\r\n  552   01:53pm   xpra screenshot Desktop/screen1.png\r\n  553   01:53pm   eom Desktop/screen1.png\r\n```\r\n![screenshot1](https://user-images.githubusercontent.com/7548920/142049589-36029b60-ae62-4f37-8bf0-75e052f14632.png)\r\n\r\nscreenshot shows 3 things:\r\n- left: the regular local terminal from which xpra was started, using above commands.\r\n- center: the displayed xpra-driven mate-terminal.\r\n- right: the image from `xpra screenshot`.\r\n\r\nthere's no there there.\r\n\r\nxpra's X server believes in window content (right), as recorded by the screenshot subcommand. but what displays in the active mate-terminal window (center) is just an outlined black space.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3354/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3352", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3352/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3352/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3352/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3352", "id": 1052029378, "node_id": "I_kwDOE8kGxM4-tLHC", "number": 3352, "title": "GLXBadContextState crash", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-12T14:36:14Z", "updated_at": "2021-11-12T15:36:10Z", "closed_at": "2021-11-12T15:36:10Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Server:\r\n```\r\n/usr/bin/xpra start --start=xterm --bind-tcp=0.0.0.0:10000 :10 --daemon=no \\\r\n    --video-encoders=ffmpeg -d compress,ffmpeg\r\n```\r\nClient:\r\n```\r\nxpra attach --no-mmap\r\n```\r\n\r\nRun `vlc` in the session, play a 1080p video and click to move the position of playback until the crash:\r\n```\r\n2021-11-12 21:30:24,211 gl_paint_planar(0, 'mpeg1', AVImageWrapper-AVFrameWrapper(0x7f8fdc4e4a40)(YUV420P:(0, 0, 1920, 960, 24):3_PLANES), 'default', 33, 1920, 960, 1920, 960, typedict({'csc': 'YUV420P', 'delayed': 1, 'frame': 165, 'flush-encoder': True, 'encoding': 'mpeg1'}), [<function WindowClient._do_draw.<locals>.record_decode_time at 0x7f8f8c12f550>, <bound method ClientWindowBase.after_draw_refresh of GLClientWindow(6 : GLDrawingArea(6, (1920, 1066), YUV420P))>])\r\n2021-11-12 21:30:24,211 glXMakeCurrent: xid=0x5600036, context=<OpenGL.raw.GLX._types.LP_struct___GLXcontextRec object at 0x7f8f944c7dc0>\r\n2021-11-12 21:30:24,212 GLDrawingArea(6, (1920, 1066), YUV420P).update_planar_textures(1920, 960, AVImageWrapper-AVFrameWrapper(0x7f8fdc4e4a40)(YUV420P:(0, 0, 1920, 960, 24):3_PLANES), 'YUV420P')\r\n2021-11-12 21:30:24,212 updating planar textures: 1920x960 YUV420P\r\n2021-11-12 21:30:24,212 set_alignment(1920, 1920, 'Y') GL_UNPACK_ROW_LENGTH=0, GL_UNPACK_ALIGNMENT=8\r\n2021-11-12 21:30:24,212 texture 0: div=(1, 1), rowstride=1920, 1920x960, data=1843200 bytes, upload=zerocopy:memoryview\r\n2021-11-12 21:30:24,213 set_alignment(960, 960, 'U') GL_UNPACK_ROW_LENGTH=0, GL_UNPACK_ALIGNMENT=8\r\n2021-11-12 21:30:24,213 texture 1: div=(2, 2), rowstride=960, 960x480, data=460800 bytes, upload=zerocopy:memoryview\r\n2021-11-12 21:30:24,214 set_alignment(960, 960, 'V') GL_UNPACK_ROW_LENGTH=0, GL_UNPACK_ALIGNMENT=8\r\n2021-11-12 21:30:24,214 texture 2: div=(2, 2), rowstride=960, 960x480, data=460800 bytes, upload=zerocopy:memoryview\r\n2021-11-12 21:30:24,214 GLDrawingArea(6, (1920, 1066), YUV420P).render_planar_update('default', 33, 1920, 960, 1, 1, 0) pixel_format=YUV420P\r\n2021-11-12 21:30:24,214 painting planar update, format YUV420P\r\n2021-11-12 21:30:24,214 GLDrawingArea(6, (1920, 1066), YUV420P).render_planar_update(..) texture_size=(1920, 960), size=(1920, 1066)\r\n2021-11-12 21:30:24,214 glXMakeCurrent: NULL for xid=0x5600036\r\n\r\n(Xpra:1412564): Gdk-ERROR **: 21:30:24.215: The program 'Xpra' received an X Window System error.\r\nThis probably reflects a bug in the program.\r\nThe error was 'GLXBadContextState'.\r\n  (Details: serial 0 error_code 159 request_code 151 (GLX) minor_code 5)\r\n  (Note to programmers: normally, X errors are reported asynchronously;\r\n   that is, you will receive the error a while after causing it.\r\n   To debug your program, run it with the GDK_SYNCHRONIZE environment\r\n   variable to change this behavior. You can then get a meaningful\r\n   backtrace from your debugger if you break on the gdk_x_error() function.)\r\nTrace/breakpoint trap (core dumped)\r\n```\r\n\r\n```\r\n(gdb) py-bt\r\nTraceback (most recent call first):\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/platform/xposix/gl_context.py\", line 81, in __exit__\r\n    if not GLX.glXMakeCurrent(self.xdisplay, 0, null_context):\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/client/gl/gl_window_backing_base.py\", line 1454, in gl_paint_planar\r\n  File \"/usr/lib/python3.9/site-packages/gi/overrides/Gtk.py\", line 1680, in main\r\n    return _Gtk_main(*args, **kwargs)\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/client/gtk_base/gtk_client_base.py\", line 156, in gtk_main\r\n    Gtk.main()\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/client/gtk_base/gtk_client_base.py\", line 150, in run\r\n    self.gtk_main()\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/scripts/main.py\", line 1630, in do_run_client\r\n    return app.run()\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/scripts/main.py\", line 1150, in run_client\r\n    r = do_run_client(app)\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/scripts/main.py\", line 452, in do_run_mode\r\n    return run_client(script_file, cmdline, error_cb, options, args, mode)\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/scripts/main.py\", line 413, in run_mode\r\n    return do_run_mode(script_file, cmdline, error_cb, options, args, mode, defaults)\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/scripts/main.py\", line 140, in main\r\n    return run_mode(script_file, cmdline, err, options, args, mode, defaults)\r\n  File \"/usr/bin/xpra\", line 10, in <module>\r\n    sys.exit(main(sys.argv[0], sys.argv))\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3352/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3349", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3349/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3349/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3349/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3349", "id": 1048397070, "node_id": "I_kwDOE8kGxM4-fUUO", "number": 3349, "title": "received uninterpretable nonsense: 'invalid packet header byte:' / unable to attach", "user": {"login": "jdstroy", "id": 1243517, "node_id": "MDQ6VXNlcjEyNDM1MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1243517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdstroy", "html_url": "https://github.com/jdstroy", "followers_url": "https://api.github.com/users/jdstroy/followers", "following_url": "https://api.github.com/users/jdstroy/following{/other_user}", "gists_url": "https://api.github.com/users/jdstroy/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdstroy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdstroy/subscriptions", "organizations_url": "https://api.github.com/users/jdstroy/orgs", "repos_url": "https://api.github.com/users/jdstroy/repos", "events_url": "https://api.github.com/users/jdstroy/events{/privacy}", "received_events_url": "https://api.github.com/users/jdstroy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-11-09T09:49:01Z", "updated_at": "2021-12-17T03:30:38Z", "closed_at": "2021-12-17T03:30:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run Xpra_cmd.exe attach (Windows 10, x64), I'm unable to attach and I get this error:\r\n\r\n```\r\nC:\\Program Files>xpra\\Xpra_cmd.exe attach ssh://USER@HOST:22/25\r\n2021-11-09 03:44:15,678 Xpra GTK3 client version 4.3-r30361 (g18afc6020) 64-bit\r\n2021-11-09 03:44:15,866  running on Microsoft Windows 10\r\n2021-11-09 03:44:25,399 GStreamer version 1.18.5 for Python 3.9.7 64-bit\r\n2021-11-09 03:44:25,934 created named pipe 'Xpra\\8144'\r\n2021-11-09 03:44:26,688 keyboard layout code 0x409\r\n2021-11-09 03:44:26,719 identified as 'United States - English' : us\r\n2021-11-09 03:44:27,041 OpenGL_accelerate module loaded\r\n2021-11-09 03:44:27,194 Using accelerated ArrayDatatype\r\n2021-11-09 03:44:34,468 OpenGL accelerate missing: numpy_formathandler\r\n2021-11-09 03:44:37,813 OpenGL enabled with AMD Radeon(TM) R4 Graphics\r\n2021-11-09 03:44:38,558 Connected (version 2.0, client OpenSSH_8.2p1)\r\n2021-11-09 03:44:39,002 Authentication (publickey) successful!\r\n2021-11-09 03:44:39,872  keyboard settings: layout=us\r\n2021-11-09 03:44:39,887  desktop size is 1366x768:\r\n2021-11-09 03:44:39,887   Default (361x203 mm - DPI: 96x96) workarea: 1366x728\r\n2021-11-09 03:44:39,903     Generic PnP Monitor (309x173 mm - DPI: 112x113)\r\n2021-11-09 03:44:42,127 Error: failed to connect\r\n2021-11-09 03:44:42,127  received uninterpretable nonsense: 'invalid packet header byte: 0x646973636f6e6e65 read buffer=b\"disconnect: invalid packet header byte: 0x0109 .. xf9\\\\\\\\xfa\\\\\\\\xff\\\\\\\\x01`\\\\\\\\xb6\\\\\\\\x00A\\' (16364 bytes)\\\\n\" (186 bytes)'\r\n2021-11-09 03:44:42,127  packet no 0 data: disconnect: invalid packet header byte: 0x010900 .. c4?\\x89\\xf9\\xfa\\xff\\x01`\\xb6\\x00A' (16364 bytes)\r\n2021-11-09 03:44:42,326 SSH EOF on stderr of run-xpra\r\nC:\\Program Files>Xpra\\Xpra_cmd.exe version\r\n4.3-r30361 (g18afc6020)\r\n```\r\n\r\nServer (AArch64, Ubuntu 20.04):\r\n\r\nUSER@HOST:~$ xpra version :25\r\n4.3-r30117 (gef0a042ae)\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3349/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3348", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3348/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3348/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3348/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3348", "id": 1046696526, "node_id": "I_kwDOE8kGxM4-Y1JO", "number": 3348, "title": "Error in network packet reading/parsing", "user": {"login": "jdstroy", "id": 1243517, "node_id": "MDQ6VXNlcjEyNDM1MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1243517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdstroy", "html_url": "https://github.com/jdstroy", "followers_url": "https://api.github.com/users/jdstroy/followers", "following_url": "https://api.github.com/users/jdstroy/following{/other_user}", "gists_url": "https://api.github.com/users/jdstroy/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdstroy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdstroy/subscriptions", "organizations_url": "https://api.github.com/users/jdstroy/orgs", "repos_url": "https://api.github.com/users/jdstroy/repos", "events_url": "https://api.github.com/users/jdstroy/events{/privacy}", "received_events_url": "https://api.github.com/users/jdstroy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jdstroy", "id": 1243517, "node_id": "MDQ6VXNlcjEyNDM1MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1243517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdstroy", "html_url": "https://github.com/jdstroy", "followers_url": "https://api.github.com/users/jdstroy/followers", "following_url": "https://api.github.com/users/jdstroy/following{/other_user}", "gists_url": "https://api.github.com/users/jdstroy/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdstroy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdstroy/subscriptions", "organizations_url": "https://api.github.com/users/jdstroy/orgs", "repos_url": "https://api.github.com/users/jdstroy/repos", "events_url": "https://api.github.com/users/jdstroy/events{/privacy}", "received_events_url": "https://api.github.com/users/jdstroy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jdstroy", "id": 1243517, "node_id": "MDQ6VXNlcjEyNDM1MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1243517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdstroy", "html_url": "https://github.com/jdstroy", "followers_url": "https://api.github.com/users/jdstroy/followers", "following_url": "https://api.github.com/users/jdstroy/following{/other_user}", "gists_url": "https://api.github.com/users/jdstroy/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdstroy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdstroy/subscriptions", "organizations_url": "https://api.github.com/users/jdstroy/orgs", "repos_url": "https://api.github.com/users/jdstroy/repos", "events_url": "https://api.github.com/users/jdstroy/events{/privacy}", "received_events_url": "https://api.github.com/users/jdstroy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-11-07T09:09:11Z", "updated_at": "2022-04-03T14:54:17Z", "closed_at": "2022-04-03T14:54:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, and thank you for xpra!\r\n\r\nI received the following error messages on the client while using the latency graph in the session info feature to try to debug audio latency in Xpra:\r\n\r\n```\r\n2021-11-07 02:09:25,390 Error: error in network packet reading/parsing\r\n2021-11-07 02:09:25,405  Malformed rencoded string: data_length: 251 pos: 72093\r\nTraceback (most recent call last):\r\n  File \"E:/xpra/xpra/net/protocol.py\", line 802, in _read_parse_thread_loop\r\n  File \"E:/xpra/xpra/net/protocol.py\", line 994, in do_read_parse_thread_loop\r\n  File \"E:/xpra/xpra/net/packet_encoding.py\", line 131, in decode\r\n  File \"rencode/rencode.pyx\", line 547, in rencode._rencode.loads\r\n  File \"rencode/rencode.pyx\", line 523, in rencode._rencode.decode\r\n  File \"rencode/rencode.pyx\", line 443, in rencode._rencode.decode_fixed_list\r\n  File \"rencode/rencode.pyx\", line 527, in rencode._rencode.decode\r\n  File \"rencode/rencode.pyx\", line 461, in rencode._rencode.decode_fixed_dict\r\n  File \"rencode/rencode.pyx\", line 529, in rencode._rencode.decode\r\n  File \"rencode/rencode.pyx\", line 471, in rencode._rencode.decode_dict\r\n  File \"rencode/rencode.pyx\", line 527, in rencode._rencode.decode\r\n  File \"rencode/rencode.pyx\", line 461, in rencode._rencode.decode_fixed_dict\r\n  File \"rencode/rencode.pyx\", line 529, in rencode._rencode.decode\r\n  File \"rencode/rencode.pyx\", line 471, in rencode._rencode.decode_dict\r\n  File \"rencode/rencode.pyx\", line 527, in rencode._rencode.decode\r\n  File \"rencode/rencode.pyx\", line 460, in rencode._rencode.decode_fixed_dict\r\n  File \"rencode/rencode.pyx\", line 482, in rencode._rencode.decode\r\nIndexError: Malformed rencoded string: data_length: 251 pos: 72093\r\n2021-11-07 02:09:25,460 UI thread is running again, resuming\r\n2021-11-07 02:09:25,485 Connection lost\r\n2021-11-07 02:09:26,640 audio playback stopping\r\n```\r\n\r\nClient: Windows 10, Xpra 4.2.3r3, gstreamer 1.18.5.0, pygst 3.40.1\r\nServer: Ubuntu 20.04, Xpra 4.3r30117, gstreamer 1.16.2.0, pygst 3.36.0", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3348/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3346", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3346/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3346/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3346/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3346", "id": 1046685606, "node_id": "I_kwDOE8kGxM4-Yyem", "number": 3346, "title": "mystery of the missing byte", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}, {"id": 2681286082, "node_id": "MDU6TGFiZWwyNjgxMjg2MDgy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/proxy", "name": "proxy", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-11-07T09:03:22Z", "updated_at": "2021-12-13T13:17:02Z", "closed_at": "2021-12-13T13:17:01Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Connecting the html5 client through a proxy server causes the first byte to go missing!?\r\n\r\nTested with both master and the v3.1.x branch:\r\n```\r\n/usr/bin/xpra start --start=xterm --bind-tcp=0.0.0.0:12000 :10 --daemon=no\r\n/usr/bin/xpra proxy --bind-tcp=0.0.0.0:10000 --tcp-auth=allow -d proxy --daemon=no\r\n```\r\nConnecting the python client works:\r\n```\r\nxpra attach tcp://foo:bar@192.168.0.10:10000/\r\n```\r\nBut connecting with the html5 client causes a strange error where the proxy sends the hello packet to the backend server after connecting and the first byte is chopped off somewhere:\r\n```\r\nstarted proxy instance pid 45179\r\n for client ws socket: 127.0.0.1:10000 <- 127.0.0.1:32974\r\n and server unix-domain socket:  <- /run/user/1000/xpra/10/socket\r\n(..)\r\nqueueing server packet: hello (queue size=0)\r\nsending to server: hello (queue size=0)\r\nProtocol(unix-domain socket:  <- /run/user/1000/xpra/10/socket) \\\r\n    wrote 5001000000001917c28568656c6c6f3c8776657273696f6e85342e...\r\nprocess_server_packet: gibberish\r\n```\r\nThe server sees:\r\n```\r\nNew unix-domain connection received\r\n on '/run/user/1000/xpra/10/socket'\r\nread: 01000000001917c28568656c6c6f3c8776657273696f6e85342e..\r\nDisconnecting client /run/user/1000/xpra/10/socket:\r\n invalid packet header byte: 0x01000000001917c2 read buffer=b'\\x01\\x00\\x00\\x00\\x00\\x19\\x17\\xc2\\x85hello<\\x87 .. \\x03\\xe8\\x85proxyC\\x94encoding.proxy.videoD\\x7f' (6430 bytes)\r\n```\r\nThe packet data is clearly exactly the same, just missing the first byte (`0x50` aka `P`).", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3346/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3347", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3347/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3347/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3347/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3347", "id": 1046695416, "node_id": "I_kwDOE8kGxM4-Y034", "number": 3347, "title": "Unhandled error in audio processing", "user": {"login": "jdstroy", "id": 1243517, "node_id": "MDQ6VXNlcjEyNDM1MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1243517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdstroy", "html_url": "https://github.com/jdstroy", "followers_url": "https://api.github.com/users/jdstroy/followers", "following_url": "https://api.github.com/users/jdstroy/following{/other_user}", "gists_url": "https://api.github.com/users/jdstroy/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdstroy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdstroy/subscriptions", "organizations_url": "https://api.github.com/users/jdstroy/orgs", "repos_url": "https://api.github.com/users/jdstroy/repos", "events_url": "https://api.github.com/users/jdstroy/events{/privacy}", "received_events_url": "https://api.github.com/users/jdstroy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678861939, "node_id": "MDU6TGFiZWwyNjc4ODYxOTM5", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/audio", "name": "audio", "color": "ededed", "default": false, "description": null}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-07T09:03:21Z", "updated_at": "2021-11-30T13:27:57Z", "closed_at": "2021-11-30T13:27:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, and thank you for xpra! \r\n\r\nI received the following error messages on the client while using audio in Xpra:\r\n\r\n```\r\n2021-11-07 02:09:18,755 Unhandled error while processing a 'sound-data' packet from peer using <bound method AudioClient._process_sound_data of gtk3.client>\r\nTraceback (most recent call last):\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1047, in process_packet\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1044, in call_handler\r\n  File \"E:/xpra/xpra/client/mixins/audio.py\", line 608, in _process_sound_data\r\nTypeError: unsupported operand type(s) for +: 'int' and 'NoneType'\r\n2021-11-07 02:09:19,790 Unhandled error while processing a 'sound-data' packet from peer using <bound method AudioClient._process_sound_data of gtk3.client>\r\nTraceback (most recent call last):\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1047, in process_packet\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1044, in call_handler\r\n  File \"E:/xpra/xpra/client/mixins/audio.py\", line 608, in _process_sound_data\r\nTypeError: unsupported operand type(s) for +: 'int' and 'NoneType'\r\n2021-11-07 02:09:20,330 Unhandled error while processing a 'sound-data' packet from peer using <bound method AudioClient._process_sound_data of gtk3.client>\r\nTraceback (most recent call last):\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1047, in process_packet\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1044, in call_handler\r\n  File \"E:/xpra/xpra/client/mixins/audio.py\", line 608, in _process_sound_data\r\nTypeError: unsupported operand type(s) for +: 'int' and 'NoneType'\r\n2021-11-07 02:09:20,979 Unhandled error while processing a 'sound-data' packet from peer using <bound method AudioClient._process_sound_data of gtk3.client>\r\nTraceback (most recent call last):\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1047, in process_packet\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1044, in call_handler\r\n  File \"E:/xpra/xpra/client/mixins/audio.py\", line 608, in _process_sound_data\r\nTypeError: unsupported operand type(s) for +: 'int' and 'NoneType'\r\n2021-11-07 02:09:21,435 Unhandled error while processing a 'sound-data' packet from peer using <bound method AudioClient._process_sound_data of gtk3.client>\r\nTraceback (most recent call last):\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1047, in process_packet\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1044, in call_handler\r\n  File \"E:/xpra/xpra/client/mixins/audio.py\", line 608, in _process_sound_data\r\nTypeError: unsupported operand type(s) for +: 'int' and 'NoneType'\r\n2021-11-07 02:09:21,750 Unhandled error while processing a 'sound-data' packet from peer using <bound method AudioClient._process_sound_data of gtk3.client>\r\nTraceback (most recent call last):\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1047, in process_packet\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1044, in call_handler\r\n  File \"E:/xpra/xpra/client/mixins/audio.py\", line 608, in _process_sound_data\r\nTypeError: unsupported operand type(s) for +: 'int' and 'NoneType'\r\n2021-11-07 02:09:23,995 Unhandled error while processing a 'sound-data' packet from peer using <bound method AudioClient._process_sound_data of gtk3.client>\r\nTraceback (most recent call last):\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1047, in process_packet\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1044, in call_handler\r\n  File \"E:/xpra/xpra/client/mixins/audio.py\", line 608, in _process_sound_data\r\nTypeError: unsupported operand type(s) for +: 'int' and 'NoneType'\r\n```\r\n\r\n(This was repeated many times.)\r\n\r\nClient: Windows 10, Xpra 4.2.3r3, gstreamer 1.18.5.0, pygst 3.40.1\r\nServer: Ubuntu 20.04, Xpra 4.3r30117, gstreamer 1.16.2.0, pygst 3.36.0", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3347/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3343", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3343/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3343/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3343/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3343", "id": 1044453167, "node_id": "I_kwDOE8kGxM4-QRcv", "number": 3343, "title": "xpra agent for osx - ssh start support", "user": {"login": "megheaiulian", "id": 1788114, "node_id": "MDQ6VXNlcjE3ODgxMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1788114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/megheaiulian", "html_url": "https://github.com/megheaiulian", "followers_url": "https://api.github.com/users/megheaiulian/followers", "following_url": "https://api.github.com/users/megheaiulian/following{/other_user}", "gists_url": "https://api.github.com/users/megheaiulian/gists{/gist_id}", "starred_url": "https://api.github.com/users/megheaiulian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/megheaiulian/subscriptions", "organizations_url": "https://api.github.com/users/megheaiulian/orgs", "repos_url": "https://api.github.com/users/megheaiulian/repos", "events_url": "https://api.github.com/users/megheaiulian/events{/privacy}", "received_events_url": "https://api.github.com/users/megheaiulian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681232498, "node_id": "MDU6TGFiZWwyNjgxMjMyNDk4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/macos", "name": "macos", "color": "A6D7AE", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-04T08:03:58Z", "updated_at": "2021-11-08T05:23:23Z", "closed_at": "2021-11-08T05:23:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using `xpra shadow ssh:$MACIP` ($MACIP is a Big Sur OS) I get this error:\r\n```\r\nSSH: 'Error: shadow may not start,'\r\nSSH: \" the launch agent file '/System/Library/LaunchAgents/org.xpra.Agent.plist' seems to be missing:[Errno 2] No such file or directory: '/System/Library/LaunchAgents/org.xpra.Agent.plist'.\"\r\n```\r\nHad a look at #1169 and it seems the LaunchAgent is missing from `/System/Library/LaunchAgents/` because of SIP.\r\nTo make it work the installer should place that plist instead in `/Library/LaunchAgents` which should be writable. \r\nSee also:  https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPSystemStartup/Chapters/CreatingLaunchdJobs.html.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3343/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3343/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3338", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3338/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3338/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3338/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3338", "id": 1042170875, "node_id": "I_kwDOE8kGxM4-HkP7", "number": 3338, "title": "Finnish keyboard layout is not detected without --keyboard-layout=fi (client on Windows 11/server on WSL 2/Ubuntu 20.04)", "user": {"login": "aki-k", "id": 2235371, "node_id": "MDQ6VXNlcjIyMzUzNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2235371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aki-k", "html_url": "https://github.com/aki-k", "followers_url": "https://api.github.com/users/aki-k/followers", "following_url": "https://api.github.com/users/aki-k/following{/other_user}", "gists_url": "https://api.github.com/users/aki-k/gists{/gist_id}", "starred_url": "https://api.github.com/users/aki-k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aki-k/subscriptions", "organizations_url": "https://api.github.com/users/aki-k/orgs", "repos_url": "https://api.github.com/users/aki-k/repos", "events_url": "https://api.github.com/users/aki-k/events{/privacy}", "received_events_url": "https://api.github.com/users/aki-k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681223172, "node_id": "MDU6TGFiZWwyNjgxMjIzMTcy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/keyboard", "name": "keyboard", "color": "F53A0A", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-11-02T10:52:52Z", "updated_at": "2021-11-05T09:44:17Z", "closed_at": "2021-11-02T16:00:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Client: Windows version: 4.2.3 rev 3\r\nServer: Ubuntu version: 4.2.3-r12\r\n\r\nFinnish keyboard layout is not detected without --keyboard-layout=fi. It somehow defaults to 'us'.\r\n\r\nI'll upload 4 log files taken with -d keyboard from both client sessions and server sessions.\r\n\r\n[client_log_without_keyboard_layout.txt](https://github.com/Xpra-org/xpra/files/7459958/client_log_without_keyboard_layout.txt)\r\n\r\n[server_log_without_keyboard_layout.txt](https://github.com/Xpra-org/xpra/files/7459960/server_log_without_keyboard_layout.txt)\r\n\r\n[client_log_with_keyboard_layout.txt](https://github.com/Xpra-org/xpra/files/7459957/client_log_with_keyboard_layout.txt)\r\n\r\n[server_log_with_keyboard_layout.txt](https://github.com/Xpra-org/xpra/files/7459959/server_log_with_keyboard_layout.txt)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3338/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3337", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3337/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3337/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3337/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3337", "id": 1041275606, "node_id": "I_kwDOE8kGxM4-EJrW", "number": 3337, "title": "latency spikes", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2021-11-01T15:05:05Z", "updated_at": "2022-01-12T02:50:34Z", "closed_at": "2022-01-12T02:50:34Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "This has been reported on other network connections, with better latency and bandwidth, without the html5 client.  \r\n`-d xpra.server.source.source_stats`:\r\n```\r\n12,879 record_latency: took 1003.4 ms round trip, 1003.3 for echo,   35.8 for decoding of   856800 pixels,    28922 bytes sent over the network in  967.6 ms,  967.5 ms for echo\r\n12,879 process ui packet damage-sequence\r\n12,879 record_latency: took  928.2 ms round trip,  928.1 for echo,   23.0 for decoding of      450 pixels,      963 bytes sent over the network in  905.2 ms,  905.1 ms for echo\r\n12,885 processing packet damage-sequence\r\n12,885 process ui packet damage-sequence\r\n12,885 record_latency: took  926.0 ms round trip,  925.8 for echo,   27.7 for decoding of   856800 pixels,    31941 bytes sent over the network in  898.3 ms,  898.1 ms for echo\r\n\r\n```\r\n\r\nAlthough this was tested using the html5 client, the problem may well lie server side, as it should not let the latency degrade that badly.\r\nThe latency is normally around 50ms (goes up to 150ms when connecting using the html5 client!) via an 802.11g connection, but it sometimes climbs to 1500ms or more!\r\n\r\n---\r\n\r\nThe `decode_time` was incorrectly set by the html5 client: https://github.com/Xpra-org/xpra-html5/commit/dd6fcfde3c26add40994432dfa92e96081ea3c75 + https://github.com/Xpra-org/xpra-html5/commit/c5e6415f3d93ed1464c8a419d7625ae52fedfde8 which made it harder to debug using versions before this fix.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3337/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3332", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3332/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3332/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3332/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3332", "id": 1040922871, "node_id": "I_kwDOE8kGxM4-Czj3", "number": 3332, "title": "connection failed: unsupported operand type(s) for +", "user": {"login": "MartinSchoenstedt", "id": 35614696, "node_id": "MDQ6VXNlcjM1NjE0Njk2", "avatar_url": "https://avatars.githubusercontent.com/u/35614696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MartinSchoenstedt", "html_url": "https://github.com/MartinSchoenstedt", "followers_url": "https://api.github.com/users/MartinSchoenstedt/followers", "following_url": "https://api.github.com/users/MartinSchoenstedt/following{/other_user}", "gists_url": "https://api.github.com/users/MartinSchoenstedt/gists{/gist_id}", "starred_url": "https://api.github.com/users/MartinSchoenstedt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MartinSchoenstedt/subscriptions", "organizations_url": "https://api.github.com/users/MartinSchoenstedt/orgs", "repos_url": "https://api.github.com/users/MartinSchoenstedt/repos", "events_url": "https://api.github.com/users/MartinSchoenstedt/events{/privacy}", "received_events_url": "https://api.github.com/users/MartinSchoenstedt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2021-11-01T08:47:08Z", "updated_at": "2021-11-01T16:07:09Z", "closed_at": "2021-11-01T16:07:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \r\n\r\nRunning Xpra 4.3-r29365 (g2b480aafb) 64-bit on Windows 10, connecting fails with the following error:\r\n\r\n> xpra initialization error: connection failed: unsupported operand type(s) for +: NoneType and int\r\n\r\nHowever, in the log file on my Windows machine the last writen line is \"Connected\" and no error is mentioned.\r\n\r\nAny ideas for what could cause this error?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3332/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3332/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3331", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3331/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3331/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3331/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3331", "id": 1038705440, "node_id": "I_kwDOE8kGxM496WMg", "number": 3331, "title": "Display in connection string not honoured when trying to attach to a running session", "user": {"login": "subjut", "id": 8275845, "node_id": "MDQ6VXNlcjgyNzU4NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/8275845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/subjut", "html_url": "https://github.com/subjut", "followers_url": "https://api.github.com/users/subjut/followers", "following_url": "https://api.github.com/users/subjut/following{/other_user}", "gists_url": "https://api.github.com/users/subjut/gists{/gist_id}", "starred_url": "https://api.github.com/users/subjut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/subjut/subscriptions", "organizations_url": "https://api.github.com/users/subjut/orgs", "repos_url": "https://api.github.com/users/subjut/repos", "events_url": "https://api.github.com/users/subjut/events{/privacy}", "received_events_url": "https://api.github.com/users/subjut/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681286082, "node_id": "MDU6TGFiZWwyNjgxMjg2MDgy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/proxy", "name": "proxy", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-10-28T16:21:27Z", "updated_at": "2021-10-31T04:14:27Z", "closed_at": "2021-10-31T04:14:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a xpra (4.2.3) proxy server running on Ubuntu 20.04 as a system service configured to be connected to with ssl and the self signed default certificate. With the Windows client (x86_64_4.3-r29365), the display option in the connection string is not honored when attaching to a running session. Instead a new session is started with a different display, usually the first available.  \r\n\r\nThis is the sequence of commands used:\r\n\r\n`xpra start ssl://test:password@[IP]:[PORT]/5 --start-child=xterm --ssl-server-verify-mode=none`\r\n\r\nThis works fine and the xterm window is shown.\r\n\r\n`xpra list` then shows\r\n```\r\nFound the following xpra sessions:\r\n/run/user/1001/xpra:\r\n     LIVE session at :5\r\n/run/xpra:\r\n     LIVE session at :20  [this is the proxy server]\r\n/run/test/.xpra:\r\n     LIVE session at :5\r\n```\r\nAfter disconnecting the windows client, not closing the xterm window, I run:\r\n\r\n`xpra attach ssl://test:password@[IP]:[PORT]/5 --ssl-server-verify-mode=none`\r\n\r\n`xpra list`:\r\n```\r\nFound the following xpra sessions:\r\n/run/user/1001/xpra:\r\n     LIVE session at :1\r\n     LIVE session at :5\r\n/run/xpra:\r\n     LIVE session at :20  [this is the proxy server]\r\n/run/test/.xpra:\r\n     LIVE session at :1\r\n     LIVE session at :5\r\n```\r\n\r\nI have also tested this from a remote Ubuntu vm running the latest xpra version from the repository (4.2.3-r12) with the same results.\r\nThis raises the problem, that there is no way to reconnect to the session at display :5 after disconnecting and leaving the xterm window open.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3331/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3330", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3330/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3330/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3330/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3330", "id": 1038686525, "node_id": "I_kwDOE8kGxM496Rk9", "number": 3330, "title": "Username in connection string not honored when starting new server remotely", "user": {"login": "subjut", "id": 8275845, "node_id": "MDQ6VXNlcjgyNzU4NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/8275845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/subjut", "html_url": "https://github.com/subjut", "followers_url": "https://api.github.com/users/subjut/followers", "following_url": "https://api.github.com/users/subjut/following{/other_user}", "gists_url": "https://api.github.com/users/subjut/gists{/gist_id}", "starred_url": "https://api.github.com/users/subjut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/subjut/subscriptions", "organizations_url": "https://api.github.com/users/subjut/orgs", "repos_url": "https://api.github.com/users/subjut/repos", "events_url": "https://api.github.com/users/subjut/events{/privacy}", "received_events_url": "https://api.github.com/users/subjut/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "subjut", "id": 8275845, "node_id": "MDQ6VXNlcjgyNzU4NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/8275845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/subjut", "html_url": "https://github.com/subjut", "followers_url": "https://api.github.com/users/subjut/followers", "following_url": "https://api.github.com/users/subjut/following{/other_user}", "gists_url": "https://api.github.com/users/subjut/gists{/gist_id}", "starred_url": "https://api.github.com/users/subjut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/subjut/subscriptions", "organizations_url": "https://api.github.com/users/subjut/orgs", "repos_url": "https://api.github.com/users/subjut/repos", "events_url": "https://api.github.com/users/subjut/events{/privacy}", "received_events_url": "https://api.github.com/users/subjut/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "subjut", "id": 8275845, "node_id": "MDQ6VXNlcjgyNzU4NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/8275845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/subjut", "html_url": "https://github.com/subjut", "followers_url": "https://api.github.com/users/subjut/followers", "following_url": "https://api.github.com/users/subjut/following{/other_user}", "gists_url": "https://api.github.com/users/subjut/gists{/gist_id}", "starred_url": "https://api.github.com/users/subjut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/subjut/subscriptions", "organizations_url": "https://api.github.com/users/subjut/orgs", "repos_url": "https://api.github.com/users/subjut/repos", "events_url": "https://api.github.com/users/subjut/events{/privacy}", "received_events_url": "https://api.github.com/users/subjut/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-10-28T16:01:47Z", "updated_at": "2021-10-29T13:35:17Z", "closed_at": "2021-10-29T13:35:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a xpra (4.2.3) proxy server running on Ubuntu 20.04 as a system service configured to be connected to with ssl and the self signed default certificate. With the latest Windows client (x86_64_4.3-r30269), the username in the connection string is not honored and the client tries to start a new session with the local Windows user name.\r\n\r\nCommand line used:\r\n`xpra start ssl://test@[IP]:[PORT] --start-child=xterm --ssl-server-verify-mode=none`\r\n\r\nThe proxy service log shows:\r\n\r\n> Authentication required by PAM authenticator module 1\r\n>  sending challenge for username '[Windows local username]' using xor digest\r\n> Warning: authentication failed\r\n\r\nThe same command works fine with the client x86_64_4.3-r29365.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3330/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3328", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3328/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3328/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3328/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3328", "id": 1037432498, "node_id": "I_kwDOE8kGxM491fay", "number": 3328, "title": "server unable to start", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-10-27T13:34:20Z", "updated_at": "2022-02-02T03:37:58Z", "closed_at": "2022-02-02T03:37:58Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Somehow the windows were left in a broken state:\r\n```\r\n2021-10-27 20:30:21,761 Error: cannot start the seamless server\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/scripts/server.py\", line 1342, in _do_run_server\r\n    app.server_init()\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/x11/server.py\", line 217, in server_init\r\n    X11ServerBase.server_init(self)\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/x11/x11_server_core.py\", line 101, in server_init\r\n    self.x11_init()\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/x11/server.py\", line 270, in x11_init\r\n    self._wm = Wm(self.clobber, self.wm_name)\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/x11/gtk_x11/wm.py\", line 239, in __init__\r\n    for w in get_children(self._root):\r\n  File \"xpra/x11/gtk3/gdk_bindings.pyx\", line 568, in xpra.x11.gtk3.gdk_bindings.get_children\r\n    return _query_tree(pywindow)[1]\r\n  File \"xpra/x11/gtk3/gdk_bindings.pyx\", line 556, in xpra.x11.gtk3.gdk_bindings._query_tree\r\n    pychildren.append(_get_pywindow(pywindow, children[i]))\r\n  File \"xpra/x11/gtk3/gdk_bindings.pyx\", line 481, in xpra.x11.gtk3.gdk_bindings._get_pywindow\r\n    raise XError(BadWindow)\r\nxpra.gtk_common.error.XError: XError: BadWindow (invalid Window parameter)\r\n2021-10-27 20:30:21,763 XError: BadWindow (invalid Window parameter)\r\n```\r\n\r\n```\r\n$ DISPLAY=:4 xwininfo -tree -root\r\n\r\nxwininfo: Window id: 0x50f (the root window) \"Xpra\"\r\n\r\n  Root window id: 0x50f (the root window) \"Xpra\"\r\n  Parent window id: 0x0 (none)\r\n     14 children:\r\n     0xc00008 \"Home\": (\"org.gnome.Nautilus\" \"Org.gnome.Nautilus\")  1576x797+0+0  +0+0\r\n        1 child:\r\n        0xc00009 (has no name): ()  1x1+-1+-1  +-1+-1\r\n     0x20001e \"antoine@fedora:~\": (\"xterm\" \"XTerm\")  499x316+0+0  +0+0\r\n        1 child:\r\n        0x20002d (has no name): ()  499x316+0+0  +0+0\r\n           1 child:\r\n           0x200032 (has no name): ()  14x316+-1+-1  +-1+-1\r\n     0xc14423 \"org.gnome.Nautilus\": (\"org.gnome.Nautilus\" \"Org.gnome.Nautilus\")  1x1+-99+-99  +-99+-99\r\n        1 child:\r\n        0xc14424 (has no name): ()  1x1+-1+-1  +-100+-100\r\n     0xc143a6 \"org.gnome.Nautilus\": (\"org.gnome.Nautilus\" \"Org.gnome.Nautilus\")  1x1+-99+-99  +-99+-99\r\n        1 child:\r\n        0xc143a7 (has no name): ()  1x1+-1+-1  +-100+-100\r\n     0xc0bb78 \"org.gnome.Nautilus\": (\"org.gnome.Nautilus\" \"Org.gnome.Nautilus\")  280x427+1489+937  +1489+937\r\n        1 child:\r\n        0xc0bb79 (has no name): ()  1x1+-1+-1  +1488+936\r\n     0xc00329 \"org.gnome.Nautilus\": ()  10x10+-100+-100  +-100+-100\r\n     0xc00003 (has no name): ()  1x1+-1+-1  +-1+-1\r\n     0xc00001 \"org.gnome.Nautilus\": (\"org.gnome.Nautilus\" \"Org.gnome.Nautilus\")  10x10+10+10  +10+10\r\n     0x800008 (has no name): ()  1x1+0+0  +0+0\r\n     0x800003 \"ibus-xim\": ()  1x1+0+0  +0+0\r\n        1 child:\r\n        0x800004 (has no name): ()  1x1+-1+-1  +-1+-1\r\n     0x600001 \"ibus-extension-gtk3\": (\"ibus-extension-gtk3\" \"Ibus-extension-gtk3\")  10x10+10+10  +10+10\r\n     0x800001 \"ibus-x11\": (\"ibus-x11\" \"Ibus-x11\")  10x10+10+10  +10+10\r\n     0x200054 (has no name): ()  218x428+249+231  +249+231\r\n     0xa00001 \"xdg-desktop-portal-gtk\": (\"xdg-desktop-portal-gtk\" \"Xdg-desktop-portal-gtk\")  10x10+10+10  +10+10\r\n```\r\n\r\nAnd just as I added more debug to my server command line... it fixed itself.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3328/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3325", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3325/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3325/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3325/events", "html_url": "https://github.com/Xpra-org/xpra/pull/3325", "id": 1035585057, "node_id": "PR_kwDOE8kGxM4tpgOv", "number": 3325, "title": "only use parameters from ~/.ssh/config if not explicitly specified", "user": {"login": "egormkn", "id": 7170781, "node_id": "MDQ6VXNlcjcxNzA3ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/7170781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/egormkn", "html_url": "https://github.com/egormkn", "followers_url": "https://api.github.com/users/egormkn/followers", "following_url": "https://api.github.com/users/egormkn/following{/other_user}", "gists_url": "https://api.github.com/users/egormkn/gists{/gist_id}", "starred_url": "https://api.github.com/users/egormkn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/egormkn/subscriptions", "organizations_url": "https://api.github.com/users/egormkn/orgs", "repos_url": "https://api.github.com/users/egormkn/repos", "events_url": "https://api.github.com/users/egormkn/events{/privacy}", "received_events_url": "https://api.github.com/users/egormkn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-25T21:20:39Z", "updated_at": "2021-10-26T03:49:31Z", "closed_at": "2021-10-26T03:46:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Xpra-org/xpra/pulls/3325", "html_url": "https://github.com/Xpra-org/xpra/pull/3325", "diff_url": "https://github.com/Xpra-org/xpra/pull/3325.diff", "patch_url": "https://github.com/Xpra-org/xpra/pull/3325.patch", "merged_at": "2021-10-26T03:46:18Z"}, "body": "Currently, Xpra ignores the username and hostname specified in ~/.ssh/config. Because of that host aliases do not work at all, and username should also be explicitly set if it differs from the one on the client:\r\n\r\n<details>\r\n  <summary>Debug output and stacktrace</summary>\r\n<pre>\r\n2021-10-25 23:05:27,566 parsed user config '/home/egor/.ssh/config'\r\n2021-10-25 23:05:27,566 3 hosts found\r\n2021-10-25 23:05:27,567 got host config for 'myhostname': {'hostname': 'myhostname.example.com', 'user': 'ubuntu', 'forwardx11': 'yes', 'compression': 'yes'}\r\n2021-10-25 23:05:27,598 progress(100, failure: cannot get  address of('myhostname', 22): [Errno -3] \u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0441\u0431\u043e\u0439 \u0432 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0438 \u0438\u043c\u0435\u043d)\r\n2021-10-25 23:05:27,598 run_mode error\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 2408, in run_remote_server\r\n    conn = connect_or_fail(params, opts)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 1195, in connect_or_fail\r\n    return connect_to(display_desc, opts)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 1285, in connect_to\r\n    return ssh_paramiko_connect_to(display_desc)\r\n  File \"/usr/lib/python3/dist-packages/xpra/net/ssh.py\", line 393, in ssh_paramiko_connect_to\r\n    sock = socket_connect(dtype, host, port)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 1218, in socket_connect\r\n    raise InitException(\"cannot get %s address of%s: %s\" % ({\r\nxpra.scripts.config.InitException: cannot get  address of('myhostname', 22): [Errno -3] \u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0441\u0431\u043e\u0439 \u0432 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0438 \u0438\u043c\u0435\u043d\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 130, in main\r\n    return run_mode(script_file, err, options, args, mode, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 404, in run_mode\r\n    return do_run_mode(script_file, error_cb, options, args, mode, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 414, in do_run_mode\r\n    return run_remote_server(error_cb, options, args, mode, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 2413, in run_remote_server\r\n    app.show_progress(100, \"failure: %s\" % e)\r\n  File \"/usr/lib/python3/dist-packages/xpra/client/client_base.py\", line 172, in show_progress\r\n    noerr(pp.stdin.write, (\"%i:%s\\n\" % (pct, text)).encode(\"latin1\"))\r\nUnicodeEncodeError: 'latin-1' codec can't encode characters in position 62-70: ordinal not in range(256)\r\n</pre>\r\n</details>\r\n\r\nThis PR allows using username, hostname, and port from SSH config file while preserving an option to override them.\r\n\r\nP.S. I would be glad if you put `hacktoberfest-accepted` label on this PR, so that it will be counted for [Hacktoberfest](https://hacktoberfest.digitalocean.com) :blush:", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3325/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3318", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3318/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3318/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3318/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3318", "id": 1030676906, "node_id": "I_kwDOE8kGxM49buGq", "number": 3318, "title": "Mouse scrolling offset incorrectly", "user": {"login": "markmandel", "id": 298370, "node_id": "MDQ6VXNlcjI5ODM3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/298370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markmandel", "html_url": "https://github.com/markmandel", "followers_url": "https://api.github.com/users/markmandel/followers", "following_url": "https://api.github.com/users/markmandel/following{/other_user}", "gists_url": "https://api.github.com/users/markmandel/gists{/gist_id}", "starred_url": "https://api.github.com/users/markmandel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markmandel/subscriptions", "organizations_url": "https://api.github.com/users/markmandel/orgs", "repos_url": "https://api.github.com/users/markmandel/repos", "events_url": "https://api.github.com/users/markmandel/events{/privacy}", "received_events_url": "https://api.github.com/users/markmandel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-10-19T19:39:21Z", "updated_at": "2022-04-03T15:02:23Z", "closed_at": "2022-04-03T15:02:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "In my current setup, I find that there is an offset when attempting to use mouse scroll. I usually have to have my mouse pointer to the left of the pane that I am currently attempting to scroll.\r\n\r\nAdmittedly, I'm on a multi-monitor + widescreen + scaled xrandr setup on my client machine \ud83d\ude42 \r\n\r\nxpra v4.2.3-r7, Debian testing on both machines.\r\n\r\n```\r\n$ xrandr -q\r\nScreen 0: minimum 8 x 8, current 9000 x 2160, maximum 32767 x 32767\r\neDP1 connected primary 3840x2160+0+0 (normal left inverted right x axis y axis) 350mm x 190mm\r\n   3840x2160     60.00*+  59.97\r\n...\r\nDP1 disconnected (normal left inverted right x axis y axis)\r\nDP2 disconnected (normal left inverted right x axis y axis)\r\nHDMI1 connected 5160x2160+3840+0 (normal left inverted right x axis y axis) 800mm x 340mm\r\n   3440x1440     49.99*+\r\n...\r\nHDMI2 disconnected (normal left inverted right x axis y axis)\r\nVIRTUAL1 disconnected (normal left inverted right x axis y axis)\r\n```\r\n\r\nMy script for setting my screen resolution and alignment is the following:\r\n\r\n```\r\nxrandr --output HDMI1 --auto --right-of eDP1\r\nxrandr --output HDMI1 --scale 1.5x1.5 --mode 3440x1440\r\nxrandr --output eDP1 --scale 1.0x1.0\r\n```\r\n\r\nHappy to provide whatever debugging information is useful. \r\n\r\nOther than this, Xpra works so very well!\r\n\r\nWorkaround: I end up using keyboard shortcuts to scroll up and down.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3318/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3316", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3316/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3316/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3316/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3316", "id": 1030056750, "node_id": "I_kwDOE8kGxM49ZWsu", "number": 3316, "title": "Connection not working with new 3.1.1-10 on CentOS 7", "user": {"login": "shururuun", "id": 50909729, "node_id": "MDQ6VXNlcjUwOTA5NzI5", "avatar_url": "https://avatars.githubusercontent.com/u/50909729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shururuun", "html_url": "https://github.com/shururuun", "followers_url": "https://api.github.com/users/shururuun/followers", "following_url": "https://api.github.com/users/shururuun/following{/other_user}", "gists_url": "https://api.github.com/users/shururuun/gists{/gist_id}", "starred_url": "https://api.github.com/users/shururuun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shururuun/subscriptions", "organizations_url": "https://api.github.com/users/shururuun/orgs", "repos_url": "https://api.github.com/users/shururuun/repos", "events_url": "https://api.github.com/users/shururuun/events{/privacy}", "received_events_url": "https://api.github.com/users/shururuun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-10-19T09:13:47Z", "updated_at": "2021-10-19T16:36:12Z", "closed_at": "2021-10-19T16:36:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a strange problem after upgrading to the newest Xpra 3.1.1-10 on CentOS 7:\r\n\r\n```\r\n$ rpm -qa | grep ^xpra | sort\r\nxpra-3.1.1-10.30227xpra1.el7.x86_64\r\nxpra-common-3.1.1-10.30227xpra1.el7.noarch\r\nxpra-common-client-3.1.1-10.30227xpra1.el7.noarch\r\nxpra-common-server-3.1.1-10.30227xpra1.el7.noarch\r\nxpra-html5-4.5.1-1.r1046.el7.noarch\r\n```\r\n\r\nI can start an Xpra server somewhat normally:\r\n```\r\n$ xpra start --printing=no :23\r\nFailed to create bus connection: No such file or directory\r\nEntering daemon mode; any further errors will be reported to:\r\n  /run/user/12345/xpra/:23.log\r\n```\r\n\r\nBut I can't connect to the server via ssh from another machine (in this case an OSX with Xpra 4.2.3:\r\n```\r\nXpra attach '--ssh=ssh -x' ssh://user@hostname:22/23\r\n[...]\r\nHost key fingerprint is SHA256:...\r\n+---[ECDSA 256]---+\r\n[...]\r\n+----[SHA256]-----+\r\nxpra initialization error:\r\n connection failed: global name 'get_username_for_uid' is not defined\r\n2021-10-19 11:09:11,905 Error: failed to receive anything, not an xpra server?\r\n2021-10-19 11:09:11,905   could also be the wrong protocol, username, password or port\r\n2021-10-19 11:09:11,905   or the session was not found\r\n2021-10-19 11:09:11,905 Connection lost\r\n2021-10-19 11:09:11,929 removing unix domain socket '/Users/username/.xpra/clients/hostname-10848'\r\n```\r\n\r\nAfter some digging, the Xpra server does seem to have the problem:\r\n```\r\n$ xpra -d all stop :23\r\nget_enabled_encoders(('rencode', 'bencode', 'yaml')) enabled=['yaml', 'rencode', 'bencode']\r\nfailed to connect\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python2.7/site-packages/xpra/scripts/main.py\", line 1139, in connect_or_fail\r\n    return connect_to(display_desc, opts)\r\n  File \"/usr/lib64/python2.7/site-packages/xpra/scripts/main.py\", line 1237, in connect_to\r\n    sockpath = get_sockpath(display_desc, sockpathfail_cb)\r\n  File \"/usr/lib64/python2.7/site-packages/xpra/scripts/main.py\", line 1515, in get_sockpath\r\n    username = display_desc.get(\"username\", get_username_for_uid(uid))\r\nNameError: global name 'get_username_for_uid' is not defined\r\nrun_mode error\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python2.7/site-packages/xpra/scripts/main.py\", line 118, in main\r\n    return run_mode(script_file, err, options, args, mode, defaults)\r\n  File \"/usr/lib64/python2.7/site-packages/xpra/scripts/main.py\", line 472, in run_mode\r\n    return run_stopexit(mode, error_cb, options, args)\r\n  File \"/usr/lib64/python2.7/site-packages/xpra/scripts/main.py\", line 2534, in run_stopexit\r\n    conn = connect_or_fail(display_desc, opts)\r\n  File \"/usr/lib64/python2.7/site-packages/xpra/scripts/main.py\", line 1148, in connect_or_fail\r\n    raise InitException(\"connection failed: %s\" % e)\r\nInitException: connection failed: global name 'get_username_for_uid' is not defined\r\nxpra initialization error:\r\n connection failed: global name 'get_username_for_uid' is not defined\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3316/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3316/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3315", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3315/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3315/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3315/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3315", "id": 1029279967, "node_id": "I_kwDOE8kGxM49WZDf", "number": 3315, "title": "Outdated build dependencies for Windows", "user": {"login": "DataGhost", "id": 3911340, "node_id": "MDQ6VXNlcjM5MTEzNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/3911340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DataGhost", "html_url": "https://github.com/DataGhost", "followers_url": "https://api.github.com/users/DataGhost/followers", "following_url": "https://api.github.com/users/DataGhost/following{/other_user}", "gists_url": "https://api.github.com/users/DataGhost/gists{/gist_id}", "starred_url": "https://api.github.com/users/DataGhost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DataGhost/subscriptions", "organizations_url": "https://api.github.com/users/DataGhost/orgs", "repos_url": "https://api.github.com/users/DataGhost/repos", "events_url": "https://api.github.com/users/DataGhost/events{/privacy}", "received_events_url": "https://api.github.com/users/DataGhost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-18T15:31:33Z", "updated_at": "2021-10-19T04:15:00Z", "closed_at": "2021-10-19T04:14:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "In order to test #3314, I had to setup a build environment. Looking at the scripts I deduced that an MSYS2 environment should be set up for Windows builds. The setup script didn't do a proper job at setting up the build environment, though. I've patched it and managed to successfully build a Windows client. I haven't tried the server part because I don't need that on Windows. I'm too lazy at this moment to fork and PR, so I just attached a patch instead :)\r\n\r\nChanges:\r\n* Some packages failed to install. The setup script would just continue past those errors and they'd be drowned out in the console spam, installing only a partial environment. Fixed that by calling ```set -e``` to stop on any error.\r\n* Running the script again would reinstall all packages even if up-to-date, taking a very long time. Changed all invocations to use ```--needed``` to skip those packages and only install/update where required.\r\n* ```${XPKG}pkg-config``` conflicts with the implicitly installed ```${XPKG}pkgconf```, which is a dependency for ```${XPKG}cmake```. The ```pkgconf``` package should be a drop-in replacement so I changed it to explicitly install that instead, in case ```cmake``` ever drops it as a dependency.\r\n* ```${XPKG}pandocfilters``` was renamed to ```${XPKG}python-pandocfilters```.\r\n* ```${XPKG}PyOpenGL``` was lowercased to ```${XPKG}pyopengl```.\r\n\r\nThese would obviously go unnoticed on an already-setup build system and could result in some packages being stuck at older versions because of that.\r\n\r\n[mingw-setup.patch.txt](https://github.com/Xpra-org/xpra/files/7366382/mingw-setup.patch.txt)\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3315/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3314", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3314/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3314/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3314/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3314", "id": 1029126084, "node_id": "I_kwDOE8kGxM49VzfE", "number": 3314, "title": "FPS overlay \"always\" visible", "user": {"login": "DataGhost", "id": 3911340, "node_id": "MDQ6VXNlcjM5MTEzNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/3911340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DataGhost", "html_url": "https://github.com/DataGhost", "followers_url": "https://api.github.com/users/DataGhost/followers", "following_url": "https://api.github.com/users/DataGhost/following{/other_user}", "gists_url": "https://api.github.com/users/DataGhost/gists{/gist_id}", "starred_url": "https://api.github.com/users/DataGhost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DataGhost/subscriptions", "organizations_url": "https://api.github.com/users/DataGhost/orgs", "repos_url": "https://api.github.com/users/DataGhost/repos", "events_url": "https://api.github.com/users/DataGhost/events{/privacy}", "received_events_url": "https://api.github.com/users/DataGhost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-18T13:35:20Z", "updated_at": "2021-10-18T15:14:41Z", "closed_at": "2021-10-18T15:14:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Introduced by #3311 in 50b188a18e4966ee5deb2b2742d76ad73a1ba10f, fps overlay is now \"always\" visible and cannot be turned off. It is only visible when the fps for that window exceeds 0, otherwise it disappears. In practice, using a window makes it \"always\" visible. I looked through the recent code and found the ```XPRA_SHOW_FPS``` environment variable. Setting it to 0 doesn't change anything for me (fps stays visible when the windows are in use), but setting it to 1 keeps the fps counters visible even at 0 fps.\r\n\r\nThe culprit seems to be in ```WindowBackingBase.is_show_fps()```:\r\nhttps://github.com/Xpra-org/xpra/blob/18eea21483e22d1549c97b61f1be80b2e51682bf/xpra/client/window_backing_base.py#L220-L221\r\nI think the logic should be reversed to return False when ```SHOW_FPS``` is NOT on. That way it can be forced off. Setting ```XPRA_SHOW_FPS=1``` will then cause the behaviour I'm currently seeing, where the fps counter is only visible when the window has non-zero fps. I can see how the current behaviour for ```XPRA_SHOW_FPS=1``` could be an explicit choice for debugging though, so that'd require a tristate or an extra variable for the rest of the ```is_show_fps()``` function to have any meaning.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3314/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3294", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3294/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3294/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3294/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3294", "id": 1015244159, "node_id": "I_kwDOE8kGxM48g2V_", "number": 3294, "title": "problems with virt-manager, QEMU extended key events", "user": {"login": "hfp-ak", "id": 27871656, "node_id": "MDQ6VXNlcjI3ODcxNjU2", "avatar_url": "https://avatars.githubusercontent.com/u/27871656?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hfp-ak", "html_url": "https://github.com/hfp-ak", "followers_url": "https://api.github.com/users/hfp-ak/followers", "following_url": "https://api.github.com/users/hfp-ak/following{/other_user}", "gists_url": "https://api.github.com/users/hfp-ak/gists{/gist_id}", "starred_url": "https://api.github.com/users/hfp-ak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hfp-ak/subscriptions", "organizations_url": "https://api.github.com/users/hfp-ak/orgs", "repos_url": "https://api.github.com/users/hfp-ak/repos", "events_url": "https://api.github.com/users/hfp-ak/events{/privacy}", "received_events_url": "https://api.github.com/users/hfp-ak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681223172, "node_id": "MDU6TGFiZWwyNjgxMjIzMTcy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/keyboard", "name": "keyboard", "color": "F53A0A", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "hfp-ak", "id": 27871656, "node_id": "MDQ6VXNlcjI3ODcxNjU2", "avatar_url": "https://avatars.githubusercontent.com/u/27871656?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hfp-ak", "html_url": "https://github.com/hfp-ak", "followers_url": "https://api.github.com/users/hfp-ak/followers", "following_url": "https://api.github.com/users/hfp-ak/following{/other_user}", "gists_url": "https://api.github.com/users/hfp-ak/gists{/gist_id}", "starred_url": "https://api.github.com/users/hfp-ak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hfp-ak/subscriptions", "organizations_url": "https://api.github.com/users/hfp-ak/orgs", "repos_url": "https://api.github.com/users/hfp-ak/repos", "events_url": "https://api.github.com/users/hfp-ak/events{/privacy}", "received_events_url": "https://api.github.com/users/hfp-ak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hfp-ak", "id": 27871656, "node_id": "MDQ6VXNlcjI3ODcxNjU2", "avatar_url": "https://avatars.githubusercontent.com/u/27871656?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hfp-ak", "html_url": "https://github.com/hfp-ak", "followers_url": "https://api.github.com/users/hfp-ak/followers", "following_url": "https://api.github.com/users/hfp-ak/following{/other_user}", "gists_url": "https://api.github.com/users/hfp-ak/gists{/gist_id}", "starred_url": "https://api.github.com/users/hfp-ak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hfp-ak/subscriptions", "organizations_url": "https://api.github.com/users/hfp-ak/orgs", "repos_url": "https://api.github.com/users/hfp-ak/repos", "events_url": "https://api.github.com/users/hfp-ak/events{/privacy}", "received_events_url": "https://api.github.com/users/hfp-ak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-10-04T14:19:03Z", "updated_at": "2022-04-03T15:07:24Z", "closed_at": "2022-04-03T15:07:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "xpra 4.2.2 is working quite well with most programs here. However, with virt-manager there are 2 problems:\r\n\r\n- on German keyboards Alt Gr is not working, so you cannot enter chars like {}[]\\@. Some discussions claim that there is a link to QEMU extended key events not being supported. Other remote solutions are discussing the topic or have implementations, see: https://github.com/novnc/noVNC/commit/f4f4e8993d6daeb43b957766cd6973993232ba13 https://issues.apache.org/jira/browse/GUACAMOLE-609\r\n- the Windows client often closes completely, the only hint in the log is \"UI thread is now blocked\" as a last line", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3294/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3290", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3290/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3290/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3290/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3290", "id": 1011130993, "node_id": "I_kwDOE8kGxM48RKJx", "number": 3290, "title": "xpra r30063 (dd6aa88a9) fails on xdg-open `http://url`", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-09-29T15:49:10Z", "updated_at": "2021-10-01T10:21:32Z", "closed_at": "2021-09-30T07:36:57Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "xpra r30063 (dd6aa88a9) fails on xdg-open `http://url` \u00b7 Issue #3290 \u00b7 Xpra-org/xpra\r\n\r\nThe only error message is:\r\n```\r\nError: unknown datatype 'url'\r\n```\r\n\r\nslots again?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3290/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3289", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3289/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3289/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3289/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3289", "id": 1010995649, "node_id": "I_kwDOE8kGxM48QpHB", "number": 3289, "title": "nano does not paste clipboard contents", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222253, "node_id": "MDU6TGFiZWwyNjgxMjIyMjUz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/clipboard", "name": "clipboard", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-29T13:57:29Z", "updated_at": "2022-09-22T14:50:37Z", "closed_at": "2022-09-22T14:50:36Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "As per https://github.com/Xpra-org/xpra/issues/3260#issuecomment-925565308, `nano` does not seem to see that there is any data in the clipboard despite us claiming it, but apparently it does work for `PRIMARY`.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3289/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3288", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3288/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3288/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3288/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3288", "id": 1009883721, "node_id": "I_kwDOE8kGxM48MZpJ", "number": 3288, "title": "rpi black screen in all windows.", "user": {"login": "GWHAYWOOD", "id": 27954652, "node_id": "MDQ6VXNlcjI3OTU0NjUy", "avatar_url": "https://avatars.githubusercontent.com/u/27954652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GWHAYWOOD", "html_url": "https://github.com/GWHAYWOOD", "followers_url": "https://api.github.com/users/GWHAYWOOD/followers", "following_url": "https://api.github.com/users/GWHAYWOOD/following{/other_user}", "gists_url": "https://api.github.com/users/GWHAYWOOD/gists{/gist_id}", "starred_url": "https://api.github.com/users/GWHAYWOOD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GWHAYWOOD/subscriptions", "organizations_url": "https://api.github.com/users/GWHAYWOOD/orgs", "repos_url": "https://api.github.com/users/GWHAYWOOD/repos", "events_url": "https://api.github.com/users/GWHAYWOOD/events{/privacy}", "received_events_url": "https://api.github.com/users/GWHAYWOOD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681541248, "node_id": "MDU6TGFiZWwyNjgxNTQxMjQ4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/display", "name": "display", "color": "006b75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-09-28T15:13:14Z", "updated_at": "2021-10-01T02:47:25Z", "closed_at": "2021-10-01T02:47:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "xpra version 4.3-r867 on the server, which is an Intel i7 laptop.\r\nxpra version 4.3-r29977 (g8a0d2b663) on the client which is a Raspberry Pi 3B+.\r\n\r\nI log in via ssh from the client to the server, where there is no window manager running and no other user session running.\r\n\r\nI type\r\n```shell\r\n$ xpra start :103\r\n$ DISPLAY=:103 xterm\r\n```\r\nto start a bash shell in an xterm on the server using xpra as the window manager.\r\n\r\nOn the client from which I log in to the server (on the client there IS a window manager running - fluxbox) I type\r\n```\r\nxpra attach ssh://laptop3/103\r\n```\r\nwhich after a little time opens a window on the client with a completely black display although the window ornamentation is as expected.  I can use this window to type commands, but there is no visible indication on the black screen of any response.  The commands are however executed on the server, for example I can 'touch' a non-existent file to create it in the user's home directory on the server.\r\n\r\nThe results are exactly the same if I use `--opengl=yes` or `--opengl=no`.\r\n\r\nThe bug-report data included a screenshot which I have removed.  It was an image of the \"file manager\" display of the user's home directory.  It contained sensitive information and nothing which could possibly be of use in diagnosing this issue.  I have attached a tarball of the directory excluding the screenshot.  That is the only redaction, but it was not clear to me that the bug-report process completed successfully.  I used the 'save' button to create the directory of report contents but then had to kill the bug-report process as there seemed to be no obvious way to complete it.\r\n\r\nThe attached server log file is for three attempts to connect from the client:\r\n```\r\nxpra attach ssh://laptop3/103\r\nxpra --opengl=yes  attach ssh://laptop3/103\r\nxpra --opengl=no attach ssh://laptop3/103\r\n```\r\n[XPRA_bug_report_data.tar.gz](https://github.com/Xpra-org/xpra/files/7245120/XPRA_bug_report_data.tar.gz)\r\n[xpra.log](https://github.com/Xpra-org/xpra/files/7245309/xpra.log)\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3288/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3283", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3283/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3283/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3283/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3283", "id": 1006836815, "node_id": "I_kwDOE8kGxM48AxxP", "number": 3283, "title": "centos 8 vfb failed to start", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-09-24T21:25:47Z", "updated_at": "2021-09-25T02:53:29Z", "closed_at": "2021-09-25T02:53:29Z", "author_association": "NONE", "active_lock_reason": null, "body": " 4.3-10.r30063\r\n\r\nterminal:\r\n```\r\n2021-09-24 17:09:13,824 Authentication (publickey) successful!\r\n2021-09-24 17:09:14,191  keyboard settings: rules=evdev, model=pc105, layout=us,us\r\n2021-09-24 17:09:14,194  desktop size is 3830x1023:\r\n2021-09-24 17:09:14,194   :100.0 (3891x866 mm - DPI: 25x30) workarea: 3830x973  at    0x25  \r\n2021-09-24 17:09:14,195     DVI-D-0 (640x400 mm - DPI: 152x65)\r\n2021-09-24 17:09:14,630  SSH: 'Entering daemon mode; any further errors will be reported to:'\r\n2021-09-24 17:09:14,630  SSH: '  /run/user/45512/xpra/43/server.log.new'\r\n2021-09-24 17:09:15,028  SSH: 'vfb failed to start, exiting'\r\n^C\r\n2021-09-24 17:09:18,281 Python/GTK3 Client got signal SIGINT\r\n2021-09-24 17:09:18,281 exiting\r\n2021-09-24 17:09:18,289 SSH EOF on stderr of run-xpra\r\n```\r\nserver.log:\r\n```\r\n(++) Log file: \"/run/user/45512/xpra/43/Xorg.log\", Time: Fri Sep 24 17:07:38 2021\r\n(==) Using system config directory \"/usr/share/X11/xorg.conf.d\"\r\n(EE) \r\nFatal server error:\r\n(EE) parse_vt_settings: Cannot open /dev/tty0 (Permission denied)\r\n(EE) \r\n```\r\nXorg.log:\r\n```\r\n[518523.679] (EE) \r\nFatal server error:\r\n[518523.679] (EE) parse_vt_settings: Cannot open /dev/tty0 (Permission denied)\r\n[518523.679] (EE) \r\n```\r\n`dnf downgrade xpra\\* pyt*xpra\\*` to 4.3-10.r30040 made things work again.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3283/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3283/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3275", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3275/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3275/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3275/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3275", "id": 1000834380, "node_id": "I_kwDOE8kGxM47p4VM", "number": 3275, "title": "`r30040`: Error loading OpenGL support: 'JPEG'", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-09-20T11:02:17Z", "updated_at": "2021-09-23T07:41:28Z", "closed_at": "2021-09-23T07:20:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "```\r\n\"Xpra-Python3-x86_64_4.3-r30040\\xpra_cmd\" start ssh://user@ip/9 --ssh=\"plink -ssh -agent\" --modal-windows=no --desktop-scaling=no --headerbar=off --title=\"@title@ on @@/@server-display@\" --microphone=off --speaker=off --webcam=no --pulseaudio=no --start=gnome-terminal\r\n```\r\n\r\nHowever, \"yeah, you are right\", Intel is graylisted:\r\n![xpra_2021-09-20_13-50-33](https://user-images.githubusercontent.com/133706/133991967-7cbb8f5f-544b-469b-9caa-50b3050bc503.png)\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3275/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3273", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3273/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3273/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3273/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3273", "id": 1000783138, "node_id": "I_kwDOE8kGxM47pr0i", "number": 3273, "title": "`Error: clipboard request for 'PRIMARY' (no proxy, ignored)` on middle-click with client `r30012` / `r30040` against `r29944` server", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709860, "node_id": "MDU6TGFiZWwyNjc4NzA5ODYw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}, {"id": 2681222253, "node_id": "MDU6TGFiZWwyNjgxMjIyMjUz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/clipboard", "name": "clipboard", "color": "bfdadc", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2021-09-20T10:03:29Z", "updated_at": "2021-11-12T08:50:22Z", "closed_at": "2021-11-12T08:50:21Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "When upgrading client from `r30012` to `r30040`, with server at `r29944`/`r30040` (Ubuntu 20.04, https://github.com/Xpra-org/xpra/issues/3267#issuecomment-922777828), I noticed that middle-click from/to server (no need to involve the client's environment), instead of doing the expected action, instead gives: \r\n\r\n```\r\nError: clipboard request for 'PRIMARY' (no proxy, ignored)\r\n```\r\ncontinuously, and without copy/pasting the selection.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3273/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3267", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3267/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3267/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3267/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3267", "id": 995709278, "node_id": "I_kwDOE8kGxM47WVFe", "number": 3267, "title": "xpra initialization error:  no such option: -s", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 18, "created_at": "2021-09-14T07:56:16Z", "updated_at": "2021-11-12T08:51:40Z", "closed_at": "2021-11-12T08:51:40Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "```\r\n2021-09-14 10:53:34,937 Connection lost\r\nCONNECTION_LOST, reconnecting\r\n\r\nwas: \"Xpra-Python3-x86_64_4.3-r29975\\xpra_cmd\" start ssh://user@ip/2 --ssh=\"plink -ssh -agent\" --title=\"@title@ on @@/@server-display@\" --modal-windows=no --headerbar=off --use-display=yes --input-method=xim --csc-modules=libyuv --opengl=no\r\n\r\nPress any key to continue . . . xpra initialization error:\r\n no such option: -s\r\n```\r\n\r\nI assume it's coming from `--ssh=\"plink -ssh -agent\"`?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3267/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3264", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3264/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3264/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3264/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3264", "id": 991950820, "node_id": "MDU6SXNzdWU5OTE5NTA4MjA=", "number": 3264, "title": "ssh authentication timeout with Windows client", "user": {"login": "fooburger", "id": 85102619, "node_id": "MDQ6VXNlcjg1MTAyNjE5", "avatar_url": "https://avatars.githubusercontent.com/u/85102619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fooburger", "html_url": "https://github.com/fooburger", "followers_url": "https://api.github.com/users/fooburger/followers", "following_url": "https://api.github.com/users/fooburger/following{/other_user}", "gists_url": "https://api.github.com/users/fooburger/gists{/gist_id}", "starred_url": "https://api.github.com/users/fooburger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fooburger/subscriptions", "organizations_url": "https://api.github.com/users/fooburger/orgs", "repos_url": "https://api.github.com/users/fooburger/repos", "events_url": "https://api.github.com/users/fooburger/events{/privacy}", "received_events_url": "https://api.github.com/users/fooburger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709860, "node_id": "MDU6TGFiZWwyNjc4NzA5ODYw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-09-09T08:34:18Z", "updated_at": "2021-09-16T07:21:51Z", "closed_at": "2021-09-16T07:21:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nwith the latest beta (also previous stable version) for Windows I'm unable to establish an SSH connection since the password prompt is shown **after** the timeout (30 seconds). The session is initiated like this:\r\n\r\n`.\\Xpra_cmd.exe start-desktop --start-child=startxfce4 --exit-with-children --opengl=no --splash=no ssh://foo@bar.lan -d ssh,auth`\r\n\r\nThe log shows the following messages:\r\n```\r\n2021-09-09 10:24:28,246 auth=password\r\n2021-09-09 10:24:28,246 trying interactive authentication\r\n2021-09-09 10:24:28,338 userauth is OK\r\n2021-09-09 10:24:58,298 auth_interactive(..)\r\nTraceback (most recent call last):\r\n  File \"E:/xpra/xpra/net/ssh.py\", line 691, in auth_interactive\r\n  File \"C:/msys64/mingw64/lib/python3.9/site-packages/paramiko/transport.py\", line 1633, in auth_interactive\r\n  File \"C:/msys64/mingw64/lib/python3.9/site-packages/paramiko/auth_handler.py\", line 240, in wait_for_response\r\nparamiko.ssh_exception.AuthenticationException: Authentication timeout.\r\n2021-09-09 10:24:58,299 SSH password authentication failed:\r\n2021-09-09 10:24:58,300  Authentication timeout.\r\n```\r\nPublic-key authentication works without any issues though. The Linux server is running version 4.2.2.\r\n\r\n\r\nPlease let me know if I can provide any other information?\r\n\r\nRegards,\r\nMartin\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3264/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3260", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3260/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3260/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3260/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3260", "id": 990953351, "node_id": "MDU6SXNzdWU5OTA5NTMzNTE=", "number": 3260, "title": "Clipboard cannot transfer Client>Server big amounts of text", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222253, "node_id": "MDU6TGFiZWwyNjgxMjIyMjUz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/clipboard", "name": "clipboard", "color": "bfdadc", "default": false, "description": ""}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2021-09-08T09:54:11Z", "updated_at": "2021-09-29T15:14:20Z", "closed_at": "2021-09-29T15:13:39Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "```\r\n\"Xpra-Python3-x86_64_4.3-r29944\\xpra_cmd\" attach ssh://user@ip/2 --ssh=\"plink -ssh -agent\" --title=\"@title@ on @@/@server-display@\" --modal-windows=no --headerbar=off --use-display=yes --input-method=xim --csc-modules=libyuv --opengl=no\r\n\r\nXPRA_CLIPBOARD_REMOTE_TIMEOUT=5000\r\nXPRA_EXECUTABLE=Xpra-Python3-x86_64_4.3-r29944\r\n\r\n2021-09-08 11:45:54,715 Xpra GTK3 client version 4.3-r29944 (g5fc11e6eb) 64-bit\r\n2021-09-08 11:45:54,895  running on Microsoft Windows 10\r\n2021-09-08 11:45:58,449 GStreamer version 1.18.4 for Python 3.9.6 64-bit\r\n2021-09-08 11:45:59,056 created named pipe 'Xpra\\27828'\r\n2021-09-08 11:45:59,712 keyboard layout code 0x409\r\n2021-09-08 11:45:59,945 identified as 'United States - English' : us\r\n2021-09-08 11:46:01,478  keyboard settings: layout=us\r\n2021-09-08 11:46:01,892  desktop size is 4160x1440:\r\n2021-09-08 11:46:02,205   Default (1100x381 mm - DPI: 96x96) workarea: 4160x1400\r\n2021-09-08 11:46:02,622     C32JG5x 2560x1440 at 1600x0    (697x392 mm - DPI: 93x93) workarea: 2560x1400 at 1600x0\r\n2021-09-08 11:46:02,670     Generic PnP Monitor 1600x900 at    0x534  (309x174 mm - DPI: 132x131) workarea: 1600x860  at    0x534\r\n2021-09-08 11:46:05,920 enabled remote logging\r\n2021-09-08 11:46:05,923 Xpra X11 seamless server version 4.3-r29499 64-bit\r\n2021-09-08 11:46:05,924  running on Linux Ubuntu 20.04 focal\r\n2021-09-08 11:46:05,964 Attached to :22\r\n2021-09-08 11:46:05,967  (press Control-C to detach)\r\n\r\n...\r\n\r\n2021-09-08 12:51:48,919 unknown string message: 0xc361 / 0x50 / 0x0\r\nTraceback (most recent call last):\r\n  File \"E:/xpra/xpra/client/client_base.py\", line 1079, in call_handler\r\n  File \"E:/xpra/xpra/client/mixins/clipboard.py\", line 233, in _process_clipboard_packet\r\n  File \"E:/xpra/xpra/clipboard/clipboard_core.py\", line 509, in process_clipboard_packet\r\n  File \"E:/xpra/xpra/clipboard/clipboard_core.py\", line 419, in _process_clipboard_request\r\n  File \"E:/xpra/xpra/platform/win32/clipboard.py\", line 417, in get_contents\r\n  File \"E:/xpra/xpra/platform/win32/clipboard.py\", line 669, in get_clipboard_text\r\n  File \"E:/xpra/xpra/platform/win32/clipboard.py\", line 321, in with_clipboard_lock\r\n  File \"E:/xpra/xpra/platform/win32/clipboard.py\", line 162, in with_clipboard_lock\r\n  File \"E:/xpra/xpra/platform/win32/clipboard.py\", line 665, in get_text\r\n  File \"E:/xpra/xpra/platform/win32/clipboard.py\", line 409, in got_text\r\n  File \"E:/xpra/xpra/clipboard/clipboard_core.py\", line 418, in got_contents\r\n  File \"E:/xpra/xpra/clipboard/clipboard_core.py\", line 454, in proxy_got_contents\r\n  File \"E:/xpra/xpra/client/mixins/clipboard.py\", line 286, in clipboard_send\r\n  File \"E:/xpra/xpra/client/mixins/clipboard.py\", line 298, in register_clipboard_compress_cb\r\nAttributeError: 'Compressible' object attribute 'compress' is read-only\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3260/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3259", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3259/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3259/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3259/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3259", "id": 990887619, "node_id": "MDU6SXNzdWU5OTA4ODc2MTk=", "number": 3259, "title": "Tray > Server > Run Command does not open", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2021-09-08T08:48:22Z", "updated_at": "2021-09-09T10:42:00Z", "closed_at": "2021-09-09T08:17:46Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "```\r\n\"Xpra-Python3-x86_64_4.3-r29944\\xpra_cmd\" attach ssh://user@ip/2 --ssh=\"plink -ssh -agent\" --title=\"@title@ on @@/@server-display@\" --modal-windows=no --headerbar=off --use-display=yes --input-method=xim --csc-modules=libyuv --opengl=no\r\n\r\nXPRA_CLIPBOARD_REMOTE_TIMEOUT=5000\r\nXPRA_EXECUTABLE=Xpra-Python3-x86_64_4.3-r29944\r\n\r\n2021-09-08 11:45:54,715 Xpra GTK3 client version 4.3-r29944 (g5fc11e6eb) 64-bit\r\n2021-09-08 11:45:54,895  running on Microsoft Windows 10\r\n2021-09-08 11:45:58,449 GStreamer version 1.18.4 for Python 3.9.6 64-bit\r\n2021-09-08 11:45:59,056 created named pipe 'Xpra\\27828'\r\n2021-09-08 11:45:59,712 keyboard layout code 0x409\r\n2021-09-08 11:45:59,945 identified as 'United States - English' : us\r\n2021-09-08 11:46:01,478  keyboard settings: layout=us\r\n2021-09-08 11:46:01,892  desktop size is 4160x1440:\r\n2021-09-08 11:46:02,205   Default (1100x381 mm - DPI: 96x96) workarea: 4160x1400\r\n2021-09-08 11:46:02,622     C32JG5x 2560x1440 at 1600x0    (697x392 mm - DPI: 93x93) workarea: 2560x1400 at 1600x0\r\n2021-09-08 11:46:02,670     Generic PnP Monitor 1600x900 at    0x534  (309x174 mm - DPI: 132x131) workarea: 1600x860  at    0x534\r\n2021-09-08 11:46:05,920 enabled remote logging\r\n2021-09-08 11:46:05,923 Xpra X11 seamless server version 4.3-r29499 64-bit\r\n2021-09-08 11:46:05,924  running on Linux Ubuntu 20.04 focal\r\n2021-09-08 11:46:05,964 Attached to :22\r\n2021-09-08 11:46:05,967  (press Control-C to detach)\r\n\r\n\r\n(xpra_cmd:27828): Pango-WARNING **: 11:46:07.012: couldn't load font \"Bitstream Vera Sans Not-Rotated 14.662109375\", falling back to \"Sans Not-Rotated 14.662109375\", expect ugly output.\r\n\r\n(xpra_cmd:27828): Pango-WARNING **: 11:46:07.139: couldn't load font \"DejaVu Serif Not-Rotated 59.796875\", falling back to \"Sans Not-Rotated 59.796875\", expect ugly output.\r\n\r\n(xpra_cmd:27828): Pango-WARNING **: 11:46:07.169: couldn't load font \"URW Bookman L Not-Rotated 52.76171875\", falling back to \"Sans Not-Rotated 52.76171875\", expect ugly output.\r\n2021-09-08 11:46:08,358 UI thread is now blocked\r\n2021-09-08 11:46:09,146 running, 16 windows, 4 trays\r\n2021-09-08 11:46:09,498 UI thread is running again, resuming\r\nTraceback (most recent call last):\r\n  File \"E:/xpra/xpra/client/gtk_base/gtk_client_base.py\", line 455, in show_start_new_command\r\n  File \"E:/xpra/xpra/client/gtk_base/start_new_command.py\", line 28, in getStartNewCommand\r\n  File \"E:/xpra/xpra/client/gtk_base/start_new_command.py\", line 60, in __init__\r\nTypeError: Must be string, not bytes\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3259/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3254", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3254/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3254/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3254/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3254", "id": 985148651, "node_id": "MDU6SXNzdWU5ODUxNDg2NTE=", "number": 3254, "title": "another install glitch, centos 8, no xpra-common", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-09-01T13:22:27Z", "updated_at": "2021-09-01T15:12:30Z", "closed_at": "2021-09-01T15:12:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n# dnf update --best --allowerasing --noautoremove\r\nLast metadata expiration check: 0:00:17 ago on Wed 01 Sep 2021 09:18:43 AM EDT.\r\nError: \r\n Problem 1: problem with installed package python3-xpra-client-4.3-10.r29874.el8.x86_64\r\n  - cannot install the best update candidate for package python3-xpra-client-4.3-10.r29874.el8.x86_64\r\n  - nothing provides xpra-common-client = 4.3-10.r29911.el8 needed by python3-xpra-client-4.3-10.r29911.el8.x86_64\r\n Problem 2: problem with installed package python3-xpra-4.3-10.r29874.el8.x86_64\r\n  - cannot install the best update candidate for package python3-xpra-4.3-10.r29874.el8.x86_64\r\n  - nothing provides xpra-common = 4.3-10.r29911.el8 needed by python3-xpra-4.3-10.r29911.el8.x86_64\r\n(try to add '--skip-broken' to skip uninstallable packages)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3253", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3253/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3253/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3253/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3253", "id": 983869387, "node_id": "MDU6SXNzdWU5ODM4NjkzODc=", "number": 3253, "title": "Slash keyboard / (SHIFT + 7) mapped to Question Mark (?).", "user": {"login": "TommasoBendinelli", "id": 43389342, "node_id": "MDQ6VXNlcjQzMzg5MzQy", "avatar_url": "https://avatars.githubusercontent.com/u/43389342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TommasoBendinelli", "html_url": "https://github.com/TommasoBendinelli", "followers_url": "https://api.github.com/users/TommasoBendinelli/followers", "following_url": "https://api.github.com/users/TommasoBendinelli/following{/other_user}", "gists_url": "https://api.github.com/users/TommasoBendinelli/gists{/gist_id}", "starred_url": "https://api.github.com/users/TommasoBendinelli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TommasoBendinelli/subscriptions", "organizations_url": "https://api.github.com/users/TommasoBendinelli/orgs", "repos_url": "https://api.github.com/users/TommasoBendinelli/repos", "events_url": "https://api.github.com/users/TommasoBendinelli/events{/privacy}", "received_events_url": "https://api.github.com/users/TommasoBendinelli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681223172, "node_id": "MDU6TGFiZWwyNjgxMjIzMTcy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/keyboard", "name": "keyboard", "color": "F53A0A", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "TommasoBendinelli", "id": 43389342, "node_id": "MDQ6VXNlcjQzMzg5MzQy", "avatar_url": "https://avatars.githubusercontent.com/u/43389342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TommasoBendinelli", "html_url": "https://github.com/TommasoBendinelli", "followers_url": "https://api.github.com/users/TommasoBendinelli/followers", "following_url": "https://api.github.com/users/TommasoBendinelli/following{/other_user}", "gists_url": "https://api.github.com/users/TommasoBendinelli/gists{/gist_id}", "starred_url": "https://api.github.com/users/TommasoBendinelli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TommasoBendinelli/subscriptions", "organizations_url": "https://api.github.com/users/TommasoBendinelli/orgs", "repos_url": "https://api.github.com/users/TommasoBendinelli/repos", "events_url": "https://api.github.com/users/TommasoBendinelli/events{/privacy}", "received_events_url": "https://api.github.com/users/TommasoBendinelli/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TommasoBendinelli", "id": 43389342, "node_id": "MDQ6VXNlcjQzMzg5MzQy", "avatar_url": "https://avatars.githubusercontent.com/u/43389342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TommasoBendinelli", "html_url": "https://github.com/TommasoBendinelli", "followers_url": "https://api.github.com/users/TommasoBendinelli/followers", "following_url": "https://api.github.com/users/TommasoBendinelli/following{/other_user}", "gists_url": "https://api.github.com/users/TommasoBendinelli/gists{/gist_id}", "starred_url": "https://api.github.com/users/TommasoBendinelli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TommasoBendinelli/subscriptions", "organizations_url": "https://api.github.com/users/TommasoBendinelli/orgs", "repos_url": "https://api.github.com/users/TommasoBendinelli/repos", "events_url": "https://api.github.com/users/TommasoBendinelli/events{/privacy}", "received_events_url": "https://api.github.com/users/TommasoBendinelli/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-08-31T13:32:53Z", "updated_at": "2021-11-06T08:17:28Z", "closed_at": "2021-11-06T08:17:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\nKeyboard mapping is wrong for a multiple keys. Most important / is remapped to ?\r\nI am running xpra with:\r\n`xpra start ssh://tommaso@T7144 --start=xterm` ", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3253/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3245", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3245/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3245/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3245/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3245", "id": 978201301, "node_id": "MDU6SXNzdWU5NzgyMDEzMDE=", "number": 3245, "title": "mouse focus different from keyboard focus", "user": {"login": "thomase00", "id": 38149631, "node_id": "MDQ6VXNlcjM4MTQ5NjMx", "avatar_url": "https://avatars.githubusercontent.com/u/38149631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomase00", "html_url": "https://github.com/thomase00", "followers_url": "https://api.github.com/users/thomase00/followers", "following_url": "https://api.github.com/users/thomase00/following{/other_user}", "gists_url": "https://api.github.com/users/thomase00/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomase00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomase00/subscriptions", "organizations_url": "https://api.github.com/users/thomase00/orgs", "repos_url": "https://api.github.com/users/thomase00/repos", "events_url": "https://api.github.com/users/thomase00/events{/privacy}", "received_events_url": "https://api.github.com/users/thomase00/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681223172, "node_id": "MDU6TGFiZWwyNjgxMjIzMTcy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/keyboard", "name": "keyboard", "color": "F53A0A", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "thomase00", "id": 38149631, "node_id": "MDQ6VXNlcjM4MTQ5NjMx", "avatar_url": "https://avatars.githubusercontent.com/u/38149631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomase00", "html_url": "https://github.com/thomase00", "followers_url": "https://api.github.com/users/thomase00/followers", "following_url": "https://api.github.com/users/thomase00/following{/other_user}", "gists_url": "https://api.github.com/users/thomase00/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomase00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomase00/subscriptions", "organizations_url": "https://api.github.com/users/thomase00/orgs", "repos_url": "https://api.github.com/users/thomase00/repos", "events_url": "https://api.github.com/users/thomase00/events{/privacy}", "received_events_url": "https://api.github.com/users/thomase00/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "thomase00", "id": 38149631, "node_id": "MDQ6VXNlcjM4MTQ5NjMx", "avatar_url": "https://avatars.githubusercontent.com/u/38149631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomase00", "html_url": "https://github.com/thomase00", "followers_url": "https://api.github.com/users/thomase00/followers", "following_url": "https://api.github.com/users/thomase00/following{/other_user}", "gists_url": "https://api.github.com/users/thomase00/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomase00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomase00/subscriptions", "organizations_url": "https://api.github.com/users/thomase00/orgs", "repos_url": "https://api.github.com/users/thomase00/repos", "events_url": "https://api.github.com/users/thomase00/events{/privacy}", "received_events_url": "https://api.github.com/users/thomase00/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2021-08-24T15:05:40Z", "updated_at": "2021-11-06T09:04:46Z", "closed_at": "2021-11-06T09:04:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "At some point, the focus state of my session becomes \"corrupted\" such that clicking the mouse on a different window moves the keyboard focus to the new window, while the mouse focus remains on the original window. If I minimize the original window, mouse focus moves to the new window, but goes back to the original window when it is restored, even though keyboard focus remains with the new window. \r\n\r\nThis issue persists even when I keep the Xorg session running and upgrade, or kill/restart with a new xpra session attached to the existing Xorg session. The only way to resolve the issue is to start a new session (including a new Xorg) entirely from scratch. I haven't been able to figure out what triggers this behavior because it is rare.\r\n\r\nIf I had to guess, I'd suspect that there is an X application behaving in an unexpected way which causes the session to go into an unexpected state.\r\n\r\nIs there any workaround that I can use (either via xpra or Xorg), which will effectively reset the focus to a non-corrupted state so that I can recover the functionality of my session? \r\n\r\nI am using xpra version 3.0.13-r28351 on the server which is running Centos 7.6. My client is Windows 10. ", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3245/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3239", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3239/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3239/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3239/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3239", "id": 976356439, "node_id": "MDU6SXNzdWU5NzYzNTY0Mzk=", "number": 3239, "title": "find_libfakeXinerama find_lib fallback is broken", "user": {"login": "chewi", "id": 35072, "node_id": "MDQ6VXNlcjM1MDcy", "avatar_url": "https://avatars.githubusercontent.com/u/35072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chewi", "html_url": "https://github.com/chewi", "followers_url": "https://api.github.com/users/chewi/followers", "following_url": "https://api.github.com/users/chewi/following{/other_user}", "gists_url": "https://api.github.com/users/chewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/chewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chewi/subscriptions", "organizations_url": "https://api.github.com/users/chewi/orgs", "repos_url": "https://api.github.com/users/chewi/repos", "events_url": "https://api.github.com/users/chewi/events{/privacy}", "received_events_url": "https://api.github.com/users/chewi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-08-22T11:45:41Z", "updated_at": "2021-08-23T09:50:32Z", "closed_at": "2021-08-22T14:36:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`find_libfakeXinerama` calls `find_lib` if the ldconfig-based method does not work. However, it literally looks for a file called `fakeXinerama` rather than `libfakeXinerama.so`, which is obviously wrong.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3239/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3237", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3237/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3237/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3237/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3237", "id": 972249647, "node_id": "MDU6SXNzdWU5NzIyNDk2NDc=", "number": 3237, "title": "[Arch Linux] Server segfaults with a connection and window open", "user": {"login": "antonok-edm", "id": 22821309, "node_id": "MDQ6VXNlcjIyODIxMzA5", "avatar_url": "https://avatars.githubusercontent.com/u/22821309?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antonok-edm", "html_url": "https://github.com/antonok-edm", "followers_url": "https://api.github.com/users/antonok-edm/followers", "following_url": "https://api.github.com/users/antonok-edm/following{/other_user}", "gists_url": "https://api.github.com/users/antonok-edm/gists{/gist_id}", "starred_url": "https://api.github.com/users/antonok-edm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antonok-edm/subscriptions", "organizations_url": "https://api.github.com/users/antonok-edm/orgs", "repos_url": "https://api.github.com/users/antonok-edm/repos", "events_url": "https://api.github.com/users/antonok-edm/events{/privacy}", "received_events_url": "https://api.github.com/users/antonok-edm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709853, "node_id": "MDU6TGFiZWwyNjc4NzA5ODUz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/help%20wanted", "name": "help wanted", "color": "008672", "default": true, "description": "Extra attention is needed"}, {"id": 2685218208, "node_id": "MDU6TGFiZWwyNjg1MjE4MjA4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/X11", "name": "X11", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2021-08-17T02:47:12Z", "updated_at": "2021-11-05T14:21:33Z", "closed_at": "2021-11-05T14:21:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've been using `xpra` for a while. Recently I've noticed some occasional segfaults on the server, so I upgraded to the latest development version to see if I could reproduce them. For about two weeks, it had been running fairly stable.\r\n\r\nSuddenly, I am getting consistent segfaults as soon as both a window is open on the server and a connection is made to the server (in either order). I don't believe I've changed anything on the server prior to the occurrence of this error. I'm using `xpra start --no-microphone --no-speaker --no-daemon --debug=all` on the server, and `xpra attach ssh://[ip]:[port] --dpi 128 --splash=no` on the client.\r\n\r\nWith `--debug=all`, the server always logs the following directly prior to the segfault:\r\n```\r\n_update_client_geometry: using owner=DesktopManager(1) (setup_done=True)\r\n_do_update_client_geometry: allocated 954x1044 (from <function WindowModel._update_client_geometry.<locals>.window_size at 0x7fd946ac99d0>)\r\ncalc_constrained_size(954, 1044, typedict({'position': (602, 0), 'minimum-size': (500, 63)}))=(954, 1044) (size_constraints=(0, 0, 32767, 32767))\r\n_do_update_client_geometry: size({'position': (602, 0), 'minimum-size': (500, 63)})=954x1044\r\n_do_update_client_geometry: position=963x3 (from <function WindowModel._update_client_geometry.<locals>.window_position at 0x7fd9469608b0>)\r\nzsh: segmentation fault (core dumped)  xpra recover --no-microphone --no-speaker --no-daemon --debug=all\r\n```\r\n\r\nI'm running `xpra v4.3-r29663 (g094169d43)` on  Arch Linux for both the client and server.\r\n\r\nPlease let me know if any additional information would be useful for resolving this issue - I'm able to reproduce it 100% of the time with multiple different applications.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3237/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3230", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3230/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3230/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3230/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3230", "id": 958208381, "node_id": "MDU6SXNzdWU5NTgyMDgzODE=", "number": 3230, "title": "Ubuntu Focal package problem: D-Bus?", "user": {"login": "kylerlaird", "id": 13333108, "node_id": "MDQ6VXNlcjEzMzMzMTA4", "avatar_url": "https://avatars.githubusercontent.com/u/13333108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylerlaird", "html_url": "https://github.com/kylerlaird", "followers_url": "https://api.github.com/users/kylerlaird/followers", "following_url": "https://api.github.com/users/kylerlaird/following{/other_user}", "gists_url": "https://api.github.com/users/kylerlaird/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylerlaird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylerlaird/subscriptions", "organizations_url": "https://api.github.com/users/kylerlaird/orgs", "repos_url": "https://api.github.com/users/kylerlaird/repos", "events_url": "https://api.github.com/users/kylerlaird/events{/privacy}", "received_events_url": "https://api.github.com/users/kylerlaird/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-08-02T14:33:02Z", "updated_at": "2021-11-05T14:21:54Z", "closed_at": "2021-11-05T14:21:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've been using Xpra for our remote labs for over a year.  It's worked great.  Now it's time for a refresh.  This time I'm running in Docker.\r\n\r\nI first built a system using Ubuntu Hirsute.  The Ubuntu xpra package worked great.  Unfortunately, Hirsute is not supported by some packages I need (ROS/ROS2).  So I kicked down to Focal.\r\n\r\nThe Focal xpra package doesn't include the HTML5 client, so I added the Xpra repository and xpra-html5 package.  That worked...kind of.  I first noticed that it doesn't resize well.  Then I found that gnome-terminal doesn't start:\r\n```\r\n# Error constructing proxy for org.gnome.Terminal:/org/gnome/Terminal/Factory0: \r\n    Error calling StartServiceByName for org.gnome.Terminal: Process org.gnome.Terminal exited with status 8`\r\n```\r\n\r\nI was finally able to get Xpra and gnome-terminal to work in Focal by installing the Focal xpra package before adding the Xpra repository and installing the xpra-html5 package.  If I then upgrade xpra (to the Xpra version), it breaks.  I also tried the Beta repo.  It behaves similarly.  I notice that I always get an error like\r\n```\r\n** (xfdesktop:1243): WARNING **: 07:20:33.972: Failed to get system bus:\r\n    Could not connect: No such file or directory\r\n```\r\nbut it doesn't seem to be a problem for the older xpra package.\r\n\r\nThis is my Dockerfile that works (but uses 3.0.6+dfsg1-1build1 client):\r\n```\r\n# syntax=docker/dockerfile:1\r\n#FROM ubuntu:hirsute\r\nFROM ubuntu:focal\r\nARG DEBIAN_FRONTEND=noninteractive\r\nENV TZ=America/Los_Angeles\r\n\r\n# Use local apt proxy.  Remove if not available.\r\nRUN echo 'Acquire::http { Proxy \"http://172.17.0.1:3142\"; };' > /etc/apt/apt.conf.d/01proxy\r\n\r\nRUN apt-get update\r\nRUN apt-get -y install curl gpg lsb-release\r\n\r\n\r\nRUN apt-get update\r\nRUN apt-get -y upgrade\r\nRUN apt-get -y install xpra tzdata xfce4 ubuntu-desktop vim python3-netifaces sshfs python3-flask\r\nRUN echo \"#!/usr/bin/python3\\nimport netifaces\\nprint('http://%s:10000/' % (netifaces.ifaddresses('eth0')[netifaces.AF_INET][0]['addr']))\" > /usr/local/bin/desktop\r\n\r\n# Install Xpra HTML5 client (only).\r\nRUN curl -sSL https://xpra.org/gpg.asc -o - |gpg --dearmor > /usr/share/keyrings/xpra-archive-keyring.gpg\r\nRUN echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/xpra-archive-keyring.gpg] http://xpra.org/ $(lsb_release -cs) main\" | tee /etc/apt/sources.list.d/xpra.list\r\nRUN apt update\r\nRUN apt-get -y install xpra-html5\r\n\r\nCMD [\"xpra\", \"start-desktop\", \"--daemon=no\", \"--start=startxfce4\", \"--bind-tcp=0.0.0.0:10000\"]\r\n#WORKDIR /root\r\n#COPY startup.py .\r\n#RUN chmod 755 startup.py\r\n#CMD [\"/root/startup.py\"]\r\n\r\nEXPOSE 10000\r\n```\r\n\r\nHow do I get a current version of Xpra working in Focal?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3230/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3224", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3224/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3224/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3224/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3224", "id": 954564399, "node_id": "MDU6SXNzdWU5NTQ1NjQzOTk=", "number": 3224, "title": "Multiple GStreamer-Warnings", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-07-28T07:30:17Z", "updated_at": "2021-08-02T08:36:24Z", "closed_at": "2021-08-01T09:12:06Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "```\r\n\"Xpra-Python3-x86_64_4.3-r29534\\xpra_cmd\" shadow ssh://user@ip/1 --ssh=\"plink -ssh -agent\" -d scaling --env=XPRA_SHADOW_REFRESH_DELAY=200 --title=\"@title@ on @@/@server-display@\" --headerbar=off --opengl=no --bandwidth-limit=6Mbps --bandwidth-detection=no --desktop-scaling=2/3 --webcam=no --speaker=off --microphone=off --pulseaudio=no\r\n\r\nargs=--ssh=\"plink -ssh -agent\" -d scaling --env=XPRA_SHADOW_REFRESH_DELAY=200 --title=\"@title@ on @@/@server-display@\" --headerbar=off --opengl=no --bandwidth-limit=6Mbps --bandwidth-detection=no --desktop-scaling=2/3 --webcam=no --speaker=off --microphone=off --pulseaudio=no\r\nXPRA_CUSTOM_TITLE_BAR=0\r\nXPRA_EXECUTABLE=Xpra-Python3-x86_64_4.2-r29129\r\nXPRA_NETWORK_ADAPTER_TYPE=wifi\r\nXPRA_SCROLL_ENCODING=0\r\n\r\n2021-07-28 10:20:44,929 debug enabled for xpra.client.mixins.display / ('scaling',)\r\n2021-07-28 10:20:45,024 Xpra GTK3 client version 4.3-r29534 (g45f7690db) 64-bit\r\n2021-07-28 10:20:45,212  running on Microsoft Windows 10\r\n2021-07-28 10:20:45,230 can_scale(2/3)=True\r\n2021-07-28 10:20:45,234 debug enabled for xpra.client.scaling_parser / ('scaling',)\r\n2021-07-28 10:20:45,234 parse_scaling(('2/3', 4160, 1440, 0.1, 8.0))\r\n2021-07-28 10:20:45,235 parse_scaling(2/3) parsed items=(0.6666666666666666, 0.6666666666666666)\r\n2021-07-28 10:20:45,235 parse_scaling(2/3)=(0.6666666666666666, 0.6666666666666666)\r\n2021-07-28 10:20:45,236 scaling((0.6666666666666666, 0.6666666666666666))=(0.6666666666666666, 0.6666666666666666)\r\n\r\n(Xpra_Audio.exe:31444): GStreamer-WARNING **: 10:20:47.809: Failed to load plugin 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstlame.dll': 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstlame.dll': The specified module could not be found.\r\n\r\n(Xpra_Audio.exe:31444): GStreamer-WARNING **: 10:20:49.226: Failed to load plugin 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstopus.dll': 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstopus.dll': The specified module could not be found.\r\n\r\n(Xpra_Audio.exe:31444): GStreamer-WARNING **: 10:20:50.216: Failed to load plugin 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstopusparse.dll': 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstopusparse.dll': The specified module could not be found.\r\n\r\n(Xpra_Audio.exe:31444): GStreamer-WARNING **: 10:20:51.485: Failed to load plugin 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstspeex.dll': 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstspeex.dll': The specified module could not be found.\r\n\r\n(Xpra_Audio.exe:31444): GStreamer-WARNING **: 10:20:51.899: Failed to load plugin 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstvorbis.dll': 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstvorbis.dll': The specified module could not be found.\r\n\r\n(Xpra_Audio.exe:31444): GStreamer-WARNING **: 10:20:52.689: Failed to load plugin 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libvorbisenc-2.dll': 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libvorbisenc-2.dll': The specified module could not be found.\r\n\r\n(Xpra_Audio.exe:31444): GStreamer-WARNING **: 10:20:52.935: Failed to load plugin 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstlame.dll': 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstlame.dll': The specified module could not be found.\r\n\r\n(Xpra_Audio.exe:31444): GStreamer-WARNING **: 10:20:53.103: Failed to load plugin 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstopus.dll': 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstopus.dll': The specified module could not be found.\r\n\r\n(Xpra_Audio.exe:31444): GStreamer-WARNING **: 10:20:53.719: Failed to load plugin 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstopusparse.dll': 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstopusparse.dll': The specified module could not be found.\r\n\r\n(Xpra_Audio.exe:31444): GStreamer-WARNING **: 10:20:53.888: Failed to load plugin 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstspeex.dll': 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstspeex.dll': The specified module could not be found.\r\n\r\n(Xpra_Audio.exe:31444): GStreamer-WARNING **: 10:20:54.076: Failed to load plugin 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstvorbis.dll': 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libgstvorbis.dll': The specified module could not be found.\r\n\r\n(Xpra_Audio.exe:31444): GStreamer-WARNING **: 10:20:54.805: Failed to load plugin 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libvorbisenc-2.dll': 'C:\\Users\\stavros.ntentos\\Documents\\xpra-clients\\Xpra-Python3-x86_64_4.3-r29534\\lib\\gstreamer-1.0\\libvorbisenc-2.dll': The specified module could not be found.\r\n2021-07-28 10:20:55,091 GStreamer version 1.18.4 for Python 3.9.6 64-bit\r\n```\r\n\r\n_Also, there seems to be less leniency to high bw/\"network conditions\" in r29534, but I cannot tell for sure_", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3224/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3223", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3223/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3223/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3223/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3223", "id": 953975685, "node_id": "MDU6SXNzdWU5NTM5NzU2ODU=", "number": 3223, "title": "ssh connections 'No existing session' error", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}, {"id": 2681259131, "node_id": "MDU6TGFiZWwyNjgxMjU5MTMx", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/upstream", "name": "upstream", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-27T15:00:04Z", "updated_at": "2022-07-09T10:56:19Z", "closed_at": "2022-07-09T10:55:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Is caused by a paramiko bug: https://github.com/paramiko/paramiko/issues/1390\r\nI am seeing this with Fedora 34 and ssh keys added via gpg (on a yubikey).\r\n\r\nThe fix: https://github.com/paramiko/paramiko/pull/1687 has been waiting for over a year :disappointed: \r\n\r\nThe solution with xpra is to turn off agent and / or keys authentication:\r\n```\r\nxpra --env=XPRA_SSH_KEY_AUTH=0 --env=XPRA_SSH_AGENT_AUTH=0 attach ssh://host/\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3223/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3220", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3220/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3220/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3220/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3220", "id": 952006587, "node_id": "MDU6SXNzdWU5NTIwMDY1ODc=", "number": 3220, "title": "start-desktop always hangs", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2685218208, "node_id": "MDU6TGFiZWwyNjg1MjE4MjA4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/X11", "name": "X11", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-07-24T05:44:12Z", "updated_at": "2021-11-06T09:24:55Z", "closed_at": "2021-11-06T09:24:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "updated to new 4.3-10.r29499. f33 and f34. needing desktop facilities in the near future. invocation:\r\n`xpra start-desktop :19 --start-child=mwm --resize-display=1856x1024`\r\n\r\ninvariably, the resulting desktop hangs sometime shortly after `xpra attach`, always first indicated by failure to respond to mouse. generally, `mwm` (motif window manager) will let me get as far as opening a terminal window from its menu, but then trying to resize the window or move it around the desktop results in hang. breaking the attach and asking `xpra list`, the session is clearly confused, usually noted as \"dead\" or \"unknown\" state, which gets cleaned up, and another `xpra list` shows no sessions. nonetheless, the `Xorg` for the session persists, which it is necessary to kill manually.\r\n\r\nthe problem is not `mwm` as window manager. i've also tried `twm`, as well as full DE with `mate-session`.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3220/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3219", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3219/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3219/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3219/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3219", "id": 951677238, "node_id": "MDU6SXNzdWU5NTE2NzcyMzg=", "number": 3219, "title": "connection lost, and lost, and lost, and...", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-07-23T15:24:49Z", "updated_at": "2021-07-23T16:46:25Z", "closed_at": "2021-07-23T16:46:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "very bad update to latest, in all of f33, f34, and c8:\r\n```\r\npython3-xpra-4.3-10.r29494.fc33.x86_64.rpm\r\npython3-xpra-audio-4.3-10.r29494.fc33.x86_64.rpm\r\npython3-xpra-client-4.3-10.r29494.fc33.x86_64.rpm\r\npython3-xpra-server-4.3-10.r29494.fc33.x86_64.rpm\r\nxpra-4.3-10.r29494.fc33.x86_64.rpm\r\nxpra-common-4.3-10.r29494.fc33.noarch.rpm\r\nxpra-common-client-4.3-10.r29494.fc33.noarch.rpm\r\nxpra-common-server-4.3-10.r29494.fc33.noarch.rpm\r\n```\r\nattempting to open new xpra session fails with repeating lost connection and re-connection. goes on without limit. attaching example logs from both local and remote ssh. note especially in ssh log, \"running, N windows\" and then connection repeatedly lost, where N rises on each re-connect: on slow remote connections, you can see the windows being ever so briefly created, then immediately destroyed before any content can be rendered into them as connection is lost.\r\n\r\nit takes whacking ^C twice to get the cycle to break.\r\n\r\n[xpra-local.txt](https://github.com/Xpra-org/xpra/files/6869704/xpra-local.txt)\r\n[xpra-ssh.txt](https://github.com/Xpra-org/xpra/files/6869706/xpra-ssh.txt)\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3219/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3214", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3214/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3214/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3214/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3214", "id": 950491959, "node_id": "MDU6SXNzdWU5NTA0OTE5NTk=", "number": 3214, "title": "unmodified up-arrow fail, centos-7 server 3.1-10.10xpra1.el7 (macos clients, builtin laptop keybd & USB)", "user": {"login": "sto6", "id": 15792600, "node_id": "MDQ6VXNlcjE1NzkyNjAw", "avatar_url": "https://avatars.githubusercontent.com/u/15792600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sto6", "html_url": "https://github.com/sto6", "followers_url": "https://api.github.com/users/sto6/followers", "following_url": "https://api.github.com/users/sto6/following{/other_user}", "gists_url": "https://api.github.com/users/sto6/gists{/gist_id}", "starred_url": "https://api.github.com/users/sto6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sto6/subscriptions", "organizations_url": "https://api.github.com/users/sto6/orgs", "repos_url": "https://api.github.com/users/sto6/repos", "events_url": "https://api.github.com/users/sto6/events{/privacy}", "received_events_url": "https://api.github.com/users/sto6/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709864, "node_id": "MDU6TGFiZWwyNjc4NzA5ODY0", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on"}, {"id": 2681223172, "node_id": "MDU6TGFiZWwyNjgxMjIzMTcy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/keyboard", "name": "keyboard", "color": "F53A0A", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-07-22T10:00:25Z", "updated_at": "2021-07-23T02:15:15Z", "closed_at": "2021-07-23T02:15:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Been using macos clients with centos-6 servers for years. As soon as I tried centos-7 server: up-arrow does not work.\r\n(I know the page enumerating what to try, and what to send for keyboard issues: I will comply; longer stuff will be attached).\r\nThank you.\r\n`--no-keyboard-sync` : no difference. `--xsettings=yes/no`: no difference.\r\nwith/without explicit `--keyboard-layout=us` : no difference.\r\n\r\nClient is macos: Xpra-Python3-x86_64-4.1.3-r1.pkg (also other clients including Xpra-Python2-x86_64-3.0.6-r25177.pkg).\r\nSame issue on multiple macs: 10.14 laptop built-in keyboard; mac-mini 10.13 with Sun Type 6 USB keyboard.\r\n\r\n**What's special is**: using either or both Shift & Control, the up-arrow DOES work properly.\r\ni.e. in a Terminal, with both modifiers the up-arrow scrolls backwards.\r\nAlso in xev output: only with a modifier do I see the keycode 111.\r\n\r\nserver start:\r\n```\r\nxpra start-desktop :4 --exit-with-children=yes --start-child=startxfce4 --keyboard-layout=us \\\r\n    --resize-display=yes --xsettings=no --desktop-scaling=no --dpi=96\r\n```\r\nclient start:\r\n```\r\nxpra attach --ssh=ssh ssh/centos@my-c7/4 --desktop-fullscreen=yes --desktop-scaling=no --dpi=96 --swap-keys=no\r\n```\r\n\r\n```\r\n$ xmodmap -pm\r\nxmodmap:  up to 4 keys per modifier, (keycodes in parentheses):\r\n\r\nshift       Shift_L (0x32),  Shift_R (0x3e)\r\nlock        Caps_Lock (0x42)\r\ncontrol     Control_L (0x25),  Control_R (0x69)\r\nmod1        Alt_L (0x40),  Alt_R (0x6c),  Alt_L (0xcc),  Meta_L (0xcd)\r\nmod2        Num_Lock (0x4d)\r\nmod3        Super_L (0x85),  Super_R (0x86),  Super_L (0xce)\r\nmod4        Hyper_L (0xcf),  Hyper_R (0xfd)\r\nmod5        ISO_Level3_Shift (0x5c),  Mode_switch (0xcb)\r\n$ setxkbmap -query -verbose\r\nTrying to build keymap using the following components:\r\nkeycodes:   evdev+aliases(qwerty)\r\ntypes:      complete\r\ncompat:     complete\r\nsymbols:    pc+us+inet(evdev)\r\ngeometry:   pc(pc105)\r\nrules:      evdev\r\nmodel:      pc105\r\nlayout:     us\r\n$ setxkbmap -print -verbose\r\nTrying to build keymap using the following components:\r\nkeycodes:   evdev+aliases(qwerty)\r\ntypes:      complete\r\ncompat:     complete\r\nsymbols:    pc+us+inet(evdev)\r\ngeometry:   pc(pc105)\r\nxkb_keymap {\r\n        xkb_keycodes  { include \"evdev+aliases(qwerty)\" };\r\n        xkb_types     { include \"complete\"      };\r\n        xkb_compat    { include \"complete\"      };\r\n        xkb_symbols   { include \"pc+us+inet(evdev)\"     };\r\n        xkb_geometry  { include \"pc(pc105)\"     };\r\n};\r\n```\r\n\r\nxev output annotated:\r\n```\r\n<unmodfiied up-arrow press/release, note all zeros, this CHANGES later:>\r\nKeymapNotify event, serial 24, synthetic NO, window 0x0,\r\n    keys:  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0\r\n           0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0\r\n\r\n<shift up-arrow press/release:>\r\nKeyPress event, serial 25, synthetic NO, window 0x1a00001,\r\n    root 0x389, subw 0x0, time 2511771419, (98,37), root:(649,464),\r\n    state 0x10, keycode 50 (keysym 0xffe1, Shift_L), same_screen YES,\r\n    XLookupString gives 0 bytes:\r\n    XmbLookupString gives 0 bytes:\r\n    XFilterEvent returns: False\r\n\r\nKeyPress event, serial 28, synthetic NO, window 0x1a00001,\r\n    root 0x389, subw 0x0, time 2511773628, (98,37), root:(649,464),\r\n    state 0x11, keycode 111 (keysym 0xff52, Up), same_screen YES,\r\n    XLookupString gives 0 bytes:\r\n    XmbLookupString gives 0 bytes:\r\n    XFilterEvent returns: False\r\n\r\nKeyRelease event, serial 28, synthetic NO, window 0x1a00001,\r\n    root 0x389, subw 0x0, time 2511773628, (98,37), root:(649,464),\r\n    state 0x11, keycode 111 (keysym 0xff52, Up), same_screen YES,\r\n    XLookupString gives 0 bytes:\r\n    XFilterEvent returns: False\r\n\r\n<unmodified down-arrow, press/release:>\r\nKeyPress event, serial 28, synthetic NO, window 0x1a00001,\r\n    root 0x389, subw 0x0, time 2511779533, (98,37), root:(649,464),\r\n    state 0x10, keycode 116 (keysym 0xff54, Down), same_screen YES,\r\n    XLookupString gives 0 bytes:\r\n    XmbLookupString gives 0 bytes:\r\n    XFilterEvent returns: False\r\n\r\nKeyRelease event, serial 28, synthetic NO, window 0x1a00001,\r\n    root 0x389, subw 0x0, time 2511779533, (98,37), root:(649,464),\r\n    state 0x10, keycode 116 (keysym 0xff54, Down), same_screen YES,\r\n    XLookupString gives 0 bytes:\r\n    XFilterEvent returns: False\r\n\r\n<unmodified up-arrow again: note: NO LONGER ALL ZEROS:>\r\nKeymapNotify event, serial 28, synthetic NO, window 0x0,\r\n    keys:  4294967177 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0\r\n           0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0\r\n```\r\n\r\ncentos-7 packages:\r\n```\r\nInstalled Packages\r\nffmpeg-xpra.x86_64              4.3.1-4.el7_9                     @xpra\r\nlibvpx-xpra.x86_64              1.9.0-1.el7_9                     @xpra\r\nlibwebp-xpra.x86_64             1.1.0-1.el7_9                     @xpra\r\npygtkglext.x86_64               1.1.0-31.xpra1.el7_9              @xpra\r\npython2-pyopengl.x86_64         3.1.5-1xpra1.el7_9                @xpra\r\npython2-rencode.x86_64          1.0.6-1.xpra1.el7_9               @xpra\r\npython2-xpra.x86_64             3.1-10.10xpra1.el7                @xpra\r\npython2-xpra-client.x86_64      3.1-10.10xpra1.el7                @xpra\r\npython2-xpra-server.x86_64      3.1-10.10xpra1.el7                @xpra\r\nx264-xpra.x86_64                20210110-1.el7_9                  @xpra\r\nxorg-x11-drv-dummy.x86_64       0.3.8-1.xpra2.el7_9               @xpra\r\nxpra.x86_64                     3.1-10.10xpra1.el7                @xpra\r\nxpra-common.noarch              3.1-10.10xpra1.el7                @xpra\r\nxpra-common-client.noarch       3.1-10.10xpra1.el7                @xpra\r\nxpra-common-server.noarch       3.1-10.10xpra1.el7                @xpra\r\nxpra-html5.noarch               3.0.13-10.r28351xpra1.el7_9       @xpra\r\n```\r\nWorking centos-6 server packages:\r\n```\r\nInstalled Packages\r\nffmpeg-xpra.x86_64                4.2.1-2.el6_6                      @winswitch\r\nlibvpx-xpra.x86_64                1.8.1-1.el6_6                      @winswitch\r\npython-pyopengl.x86_64            3.1.1a1-4.1xpra3.el6_6             @winswitch\r\nx264-xpra.x86_64                  20190929-1.el6_6                   @winswitch\r\nxpra.x86_64                       1.0.14-1.r24088.el6_6              @winswitch\r\nxpra-common.noarch                1.0.14-1.r24088.el6_6              @winswitch\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3214/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3203", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3203/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3203/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3203/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3203", "id": 945090075, "node_id": "MDU6SXNzdWU5NDUwOTAwNzU=", "number": 3203, "title": "xpra top client renders garbage", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2021-07-15T07:34:49Z", "updated_at": "2021-07-27T09:35:27Z", "closed_at": "2021-07-27T09:35:27Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "After 24 hours (and one re-attachment from the Windows client), the xpra top client (which is opened on a second window on the same session it monitors) contains some garbage - most likely color codes from curses.\r\n\r\nIf you think it'll help, I'll post the exact output from the terminal tomorrow (if it freezes)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3203/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3202", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3202/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3202/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3202/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3202", "id": 944298088, "node_id": "MDU6SXNzdWU5NDQyOTgwODg=", "number": 3202, "title": "IDEA menus may appear at an offset ", "user": {"login": "cavedon", "id": 171046, "node_id": "MDQ6VXNlcjE3MTA0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/171046?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cavedon", "html_url": "https://github.com/cavedon", "followers_url": "https://api.github.com/users/cavedon/followers", "following_url": "https://api.github.com/users/cavedon/following{/other_user}", "gists_url": "https://api.github.com/users/cavedon/gists{/gist_id}", "starred_url": "https://api.github.com/users/cavedon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cavedon/subscriptions", "organizations_url": "https://api.github.com/users/cavedon/orgs", "repos_url": "https://api.github.com/users/cavedon/repos", "events_url": "https://api.github.com/users/cavedon/events{/privacy}", "received_events_url": "https://api.github.com/users/cavedon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681274986, "node_id": "MDU6TGFiZWwyNjgxMjc0OTg2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/geometry", "name": "geometry", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-07-14T10:51:27Z", "updated_at": "2021-08-23T17:08:11Z", "closed_at": "2021-07-27T10:52:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using IntelliJ IDEA via Xpra, under some circumstance the menus will appear at an offset (see attached video).\r\n\r\nThe problem starts happening when doing some action that will cause navigating to a different file in the editor view.\r\nThe problem disappears once I move or resize the IDEA window.\r\n\r\nThe problem is reliably reproducible.\r\nThe offset seems to be related to the position of the window on the screen: the further away the main window is from the top left corner of the screen, the greater the offset of the menu is.\r\n\r\nIn addition to the menus appearing at an offset, it looks like that \"some\" parts of the window see the mouse pointer at an offset. E.g. resizing panes needs to be done at an offset.\r\n\r\nOther observations:\r\n- tested with IDEA 2020.3.4 community edition\r\n- OS is Ubuntu 20.04 on amd64, running gnome-shell- changing window manager to i3 did not help\r\n- disabling scaling (for high resolution monitor) did not help\r\n- it happens in the same whether I am using openjdk 1.11 or 1.14\r\n- when running IDEA in Xvfb and connecting to it via x11vnc, the problem does not happen\r\n- when using ssh with X11 forwarding, the problem does not happen\r\n\r\nI cannot rule out it is a Java or IDEA bug, but I was not able to reproduce it without xpra, so I think the debugging should start here.\r\n\r\nHow can I debug this further?\r\n\r\nVideo: https://user-images.githubusercontent.com/171046/125608113-741da315-141b-4dbd-9a3f-f2cbe9846cce.mp4\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3202/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3201", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3201/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3201/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3201/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3201", "id": 944231602, "node_id": "MDU6SXNzdWU5NDQyMzE2MDI=", "number": 3201, "title": "never load menus from the UI thread", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-07-14T09:29:43Z", "updated_at": "2021-07-14T09:33:13Z", "closed_at": "2021-07-14T09:32:15Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "That should already have been the case!", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3201/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3200", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3200/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3200/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3200/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3200", "id": 943568805, "node_id": "MDU6SXNzdWU5NDM1Njg4MDU=", "number": 3200, "title": "Default service file is misconfigured on ubuntu focal", "user": {"login": "Mazwak", "id": 120138, "node_id": "MDQ6VXNlcjEyMDEzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/120138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mazwak", "html_url": "https://github.com/Mazwak", "followers_url": "https://api.github.com/users/Mazwak/followers", "following_url": "https://api.github.com/users/Mazwak/following{/other_user}", "gists_url": "https://api.github.com/users/Mazwak/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mazwak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mazwak/subscriptions", "organizations_url": "https://api.github.com/users/Mazwak/orgs", "repos_url": "https://api.github.com/users/Mazwak/repos", "events_url": "https://api.github.com/users/Mazwak/events{/privacy}", "received_events_url": "https://api.github.com/users/Mazwak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2021-07-13T15:47:01Z", "updated_at": "2021-07-16T04:09:29Z", "closed_at": "2021-07-16T04:09:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nI\u2019m testing xpra and xpra-html5.\r\n\r\nThe first problem I ran into is that the service file is misconfigured.\r\n\r\nThe \u201c`EnvironmentFile`\u201d property points to `/etc/sysconfig/xpra`.\r\n\r\nBut on Debian and Ubuntu, it is `/etc/default/xpra`\r\n\r\nSo by default, the service fails to start with an elusive message :\r\n```\r\ncannot load authentication module '' for '': No module named 'xpra.server.auth._auth'\r\n```\r\nbecause `$TCP_AUTH` is empty.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3200/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3187", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3187/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3187/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3187/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3187", "id": 933858351, "node_id": "MDU6SXNzdWU5MzM4NTgzNTE=", "number": 3187, "title": "vpx image corruption", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2021-06-30T15:54:57Z", "updated_at": "2021-07-16T16:10:52Z", "closed_at": "2021-07-16T16:10:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Could be related to #3167, #3031.\r\nEasily reproducible by running `glxgears` with the following server settings:\r\n```\r\nxpra start \\\r\n    --start=glxgears \\\r\n    --encodings=jpeg,rgb,png \\\r\n    --video-encoders=vpx \\\r\n    --csc-modules=libyuv -d compress\r\n```\r\n(also occurs with `swscale`)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3187/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3181", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3181/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3181/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3181/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3181", "id": 930870691, "node_id": "MDU6SXNzdWU5MzA4NzA2OTE=", "number": 3181, "title": "proxy: [Errno 24] Too many open files", "user": {"login": "goekce", "id": 18174744, "node_id": "MDQ6VXNlcjE4MTc0NzQ0", "avatar_url": "https://avatars.githubusercontent.com/u/18174744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goekce", "html_url": "https://github.com/goekce", "followers_url": "https://api.github.com/users/goekce/followers", "following_url": "https://api.github.com/users/goekce/following{/other_user}", "gists_url": "https://api.github.com/users/goekce/gists{/gist_id}", "starred_url": "https://api.github.com/users/goekce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goekce/subscriptions", "organizations_url": "https://api.github.com/users/goekce/orgs", "repos_url": "https://api.github.com/users/goekce/repos", "events_url": "https://api.github.com/users/goekce/events{/privacy}", "received_events_url": "https://api.github.com/users/goekce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681286082, "node_id": "MDU6TGFiZWwyNjgxMjg2MDgy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/proxy", "name": "proxy", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-06-27T07:43:44Z", "updated_at": "2021-11-05T14:24:42Z", "closed_at": "2021-11-05T14:24:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using 3004e3d, could be related to #912\r\n\r\nAfter one week, on a server with multiple users I have about 70 sessions open. After that the proxy does not accept new connections anymore:\r\n\r\n```\r\nError sending '/usr/share/xpra/www/css/icon.css':\r\nError: cannot accept new connection:\r\n [Errno 24] Too many open files\r\n [Errno 24] Too many open file\r\n```\r\nopen file descriptors:\r\n```\r\nls -al /proc/8592/fd | wc -l\r\n1025\r\n```\r\n\r\n- Is this a bug or normal behavior?\r\n  - if this is not a leak, is it possible to increase this limit?\r\n- is it possible to shutdown idle servers (similar to idle-culler service in Jupyterhub)?", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3181/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3178", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3178/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3178/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3178/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3178", "id": 928055649, "node_id": "MDU6SXNzdWU5MjgwNTU2NDk=", "number": 3178, "title": "no login after user screen is locked ", "user": {"login": "unicorn667", "id": 17709118, "node_id": "MDQ6VXNlcjE3NzA5MTE4", "avatar_url": "https://avatars.githubusercontent.com/u/17709118?v=4", "gravatar_id": "", "url": "https://api.github.com/users/unicorn667", "html_url": "https://github.com/unicorn667", "followers_url": "https://api.github.com/users/unicorn667/followers", "following_url": "https://api.github.com/users/unicorn667/following{/other_user}", "gists_url": "https://api.github.com/users/unicorn667/gists{/gist_id}", "starred_url": "https://api.github.com/users/unicorn667/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/unicorn667/subscriptions", "organizations_url": "https://api.github.com/users/unicorn667/orgs", "repos_url": "https://api.github.com/users/unicorn667/repos", "events_url": "https://api.github.com/users/unicorn667/events{/privacy}", "received_events_url": "https://api.github.com/users/unicorn667/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-06-23T09:31:35Z", "updated_at": "2022-12-09T08:45:32Z", "closed_at": "2021-11-05T14:26:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI have the same issue on RHEL8 and Debian 10. \r\n\r\nAfter the session is locked from the desktop, no unlock is possible. Any idea of this issue?\r\n\r\nBest Regards\r\n\r\nTomcat\r\n\r\n\r\nVersion on Debian  2.4.3\r\n\r\nDebian 10 error \r\n`Jun 23 09:57:47 debian dbus-daemon[6618]: [session uid=1000 pid=6616] Successfully activated service 'org.gnome.Characters.BackgroundService'\r\nJun 23 09:57:47 debian dbus-daemon[6618]: [session uid=1000 pid=6616] Successfully activated service 'org.gnome.Terminal'\r\nJun 23 09:57:47 debian org.gnome.Chara[9177]: JS WARNING: [resource:///org/gnome/Characters/BackgroundService/js/searchProvider.js 50]: Strin\r\ng.toUpperCase is deprecated; use String.prototype.toUpperCase instead\r\nJun 23 09:57:48 debian dbus-daemon[6618]: [session uid=1000 pid=6616] Activating service name='org.freedesktop.secrets' requested by ':1.67'\r\n(uid=1000 pid=9182 comm=\"/usr/bin/seahorse --gapplication-service \")\r\nJun 23 09:57:48 debian org.freedesktop.secrets[6618]: SSH_AUTH_SOCK=/run/user/1000/keyring/ssh\r\nJun 23 09:57:48 debian dbus-daemon[6618]: [session uid=1000 pid=6616] Successfully activated service 'org.gnome.Contacts.SearchProvider'\r\nJun 23 09:57:48 debian dbus-daemon[6618]: [session uid=1000 pid=6616] Successfully activated service 'org.gnome.Documents'\r\nJun 23 09:57:48 debian dbus-daemon[6618]: [session uid=1000 pid=6616] Successfully activated service 'org.gnome.Nautilus'\r\nJun 23 09:57:48 debian dbus-daemon[6618]: [session uid=1000 pid=6616] Successfully activated service 'org.gnome.Calendar'\r\nJun 23 09:57:48 debian gnome-clocks[9186]: g_variant_new_string: assertion 'string != NULL' failed\r\nJun 23 09:57:48 debian gnome-clocks[9186]: g_variant_new_string: assertion 'string != NULL' failed\r\nJun 23 09:57:48 debian gnome-clocks[9186]: g_variant_new_string: assertion 'string != NULL' failed\r\nJun 23 09:57:48 debian gnome-clocks[9186]: g_variant_new_string: assertion 'string != NULL' failed\r\nJun 23 09:57:48 debian gnome-clocks[9186]: g_variant_new_string: assertion 'string != NULL' failed\r\nJun 23 09:57:48 debian gnome-clocks[9186]: g_variant_new_string: assertion 'string != NULL' failed\r\nJun 23 09:57:48 debian gnome-clocks[9186]: g_variant_new_string: assertion 'string != NULL' failed\r\nJun 23 09:57:49 debian PackageKit: resolve transaction /37_eedbdbba from uid 1000 finished with cancelled after 811ms\r\nJun 23 09:57:49 debian gnome-software[7060]: internal error: failed, but no error code: cancelled\r\nJun 23 09:57:49 debian PackageKit: resolve transaction /38_bdaacdac from uid 1000 finished with success after 227ms\r\nJun 23 09:57:51 debian org.gnome.Terminal.desktop[6792]: # watch_fast: \"/org/gnome/terminal/legacy/\" (establishing: 0, active: 0)\r\nJun 23 09:57:51 debian org.gnome.Terminal.desktop[6792]: # unwatch_fast: \"/org/gnome/terminal/legacy/\" (active: 0, establishing: 1)\r\nJun 23 09:57:51 debian org.gnome.Terminal.desktop[6792]: # watch_established: \"/org/gnome/terminal/legacy/\" (establishing: 0)\r\nJun 23 09:58:13 debian seahorse[9182]: gkr-backend.vala:94: couldn't connect to secret service: Error calling StartServiceByName for org.freedesktop.secrets: Timeout was reached\r\n`\r\n\r\n\r\nRHEL 8 Error Log with xpra v4.2-r0 \r\n\r\n`\r\njournal[289465]: Remote error from secret service: org.freedesktop.DBus.Error.ServiceUnknown: The name :1.20 was not provided by any .service files\r\n`\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3178/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3173", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3173/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3173/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3173/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3173", "id": 924621894, "node_id": "MDU6SXNzdWU5MjQ2MjE4OTQ=", "number": 3173, "title": "shortcut key combinations with super key (win key) not working expectly", "user": {"login": "chipzhang", "id": 11641178, "node_id": "MDQ6VXNlcjExNjQxMTc4", "avatar_url": "https://avatars.githubusercontent.com/u/11641178?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chipzhang", "html_url": "https://github.com/chipzhang", "followers_url": "https://api.github.com/users/chipzhang/followers", "following_url": "https://api.github.com/users/chipzhang/following{/other_user}", "gists_url": "https://api.github.com/users/chipzhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/chipzhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chipzhang/subscriptions", "organizations_url": "https://api.github.com/users/chipzhang/orgs", "repos_url": "https://api.github.com/users/chipzhang/repos", "events_url": "https://api.github.com/users/chipzhang/events{/privacy}", "received_events_url": "https://api.github.com/users/chipzhang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681223172, "node_id": "MDU6TGFiZWwyNjgxMjIzMTcy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/keyboard", "name": "keyboard", "color": "F53A0A", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-06-18T07:22:54Z", "updated_at": "2021-12-24T04:58:38Z", "closed_at": "2021-11-06T09:26:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Server/Client: Ubuntu 20.04\r\nXpra version: 4.1\r\n\r\nIn the server desktop, I configure the keyboard shortcuts as follows:\r\npress both win+F1 keys to launch command A;\r\npress single F1 key to launch command B;\r\npress single win key to launch command C.\r\n\r\nThen, in the client desktop, I launch XPRA client window, then press a key combination, to make the xpra client to capture all  keystrokes.\r\n\r\nThen I press Win key + F1 key, expected to launch command A. But it launch command B and command C instead. Actually, all combination key strokes involving the win-key don't work.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3173/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3168", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3168/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3168/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3168/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3168", "id": 920362144, "node_id": "MDU6SXNzdWU5MjAzNjIxNDQ=", "number": 3168, "title": "xpra 3.0.x clients can crash getting the list of printers", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-06-14T12:27:38Z", "updated_at": "2022-02-21T08:15:12Z", "closed_at": "2021-06-14T16:07:47Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Only when connecting to servers that have printing enabled, and even then, not all clients crash.\r\nStrange one.\r\n\r\n```\r\n2021-06-14 18:57:49,437 PRINTER_ENUM_VALUES: {'DEFAULT': 1, 'LOCAL': 2, 'CONNECTIONS': 4, 'NAME': 8, 'REMOTE': 16, 'SHARED': 32, 'NETWORK': 64, 'EXPAND': 16384, 'CONTAINER': 32768, 'ICON1': 65536, 'ICON2': 131072, 'ICON3': 196608, 'ICON4': 262144, 'ICON5': 327680, 'ICON6': 393216, 'ICON7': 458752, 'ICON8': 524288}\r\n2021-06-14 18:57:49,443 PRINTER_FLAGS=LOCAL, SHARED+NETWORK+CONNECTIONS\r\n2021-06-14 18:57:49,443 PRINTER_ENUMS=[['LOCAL'], ['SHARED', 'NETWORK', 'CONNECTIONS']]\r\n2021-06-14 18:57:49,443 init_printing=<function init_printing at 0x0000027b639b3b80>\r\n2021-06-14 18:57:49,443 init_printing(<bound method FilePrintMixin.send_printers of gtk3.client>) printers_modified_callback=None\r\n2021-06-14 18:57:49,443 enum(['LOCAL'])=2=2\r\n2021-06-14 18:57:49,443 querying ['LOCAL'] printers with level=1\r\n2021-06-14 18:57:49,462 EnumPrintersW(..)=0 pcbNeeded=904\r\nSegmentation fault\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3168/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3165", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3165/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3165/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3165/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3165", "id": 919551063, "node_id": "MDU6SXNzdWU5MTk1NTEwNjM=", "number": 3165, "title": "orphaned gst-launch processes hang around forever", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-12T12:50:15Z", "updated_at": "2021-07-13T13:14:33Z", "closed_at": "2021-07-13T13:14:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "f34 server, 4.3-10.r29154.\r\nwhat's with the freakish number of stuck gst-launch processes? some from sessions that came and went days before, or that were briefly lived yesterday as i tried the resize-display patch? note start dates, and all using some amount of cpu time.\r\n```\r\nps aux | egrep xpra\\|PID\r\nUSER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkarl      166808  0.0  0.2 808696 43500 ?        SLl  Jun09   2:14 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      170098  0.0  0.2 808728 43444 ?        SLl  Jun09   2:12 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      171022  0.0  0.2 808696 43676 ?        SLl  Jun09   2:12 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      175051  0.0  0.2 808728 43108 ?        SLl  Jun09   2:09 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      194515  0.0  0.2 808808 46216 ?        SLl  Jun10   1:36 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      198327  0.0  0.2 815456 48088 ?        SLl  Jun10   1:32 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      198554  0.0  0.2 815456 47936 ?        SLl  Jun10   1:32 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      199629  0.0  0.2 808412 45396 ?        SLl  Jun10   1:32 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      199858 12.9  2.9 3932512 476160 ?      Ssl  Jun10 324:00 /usr/libexec/Xorg -noreset -novtswitch -nolisten tcp +extension GLX +extension RANDR +extension RENDER -auth /home/karl/.Xauthority -logfile /run/user/5271/xpra/Xorg.:43.log -configdir /run/user/5271/xpra/xorg.conf.d/199857 -config /etc/xpra/xorg.conf -depth 24 :43\r\nkarl      200644  0.0  0.2 808412 47264 ?        SLl  Jun10   1:32 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      201363  0.0  0.2 808412 47296 ?        SLl  Jun10   1:32 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      201503  0.0  0.2 808412 47484 ?        SLl  Jun10   1:31 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      208389  0.0  0.2 808412 47600 ?        SLl  Jun10   1:17 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      212290 14.3  1.6 9670980 268012 ?      Sl   Jun11 274:25 /usr/bin/python3.9 /usr/bin/xpra start-desktop :43 --start-child=vglrun mate-session --resize-display=1856x1024 --systemd-run=no\r\nkarl      212877  0.2  0.1 415540 26848 ?        Ssl  Jun11   5:24 /usr/bin/python3 /usr/bin/xpra _proxy :43\r\nkarl      212911  0.0  0.2 808444 47420 ?        SLl  Jun11   1:09 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      232734  0.0  0.2 808780 47316 ?        SLl  Jun11   0:33 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      233025  0.0  0.2 808780 47756 ?        SLl  Jun11   0:34 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\nkarl      233286  0.0  0.2 808780 46108 ?        SLl  Jun11   0:34 gst-launch-1.0 -q filesrc location=/usr/share/xpra/bell.wav ! decodebin ! audioconvert ! alsasink\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3163", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3163/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3163/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3163/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3163", "id": 917900325, "node_id": "MDU6SXNzdWU5MTc5MDAzMjU=", "number": 3163, "title": "paramiko ssh config parser can't parse included ssh config files.", "user": {"login": "djerius", "id": 196875, "node_id": "MDQ6VXNlcjE5Njg3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/196875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djerius", "html_url": "https://github.com/djerius", "followers_url": "https://api.github.com/users/djerius/followers", "following_url": "https://api.github.com/users/djerius/following{/other_user}", "gists_url": "https://api.github.com/users/djerius/gists{/gist_id}", "starred_url": "https://api.github.com/users/djerius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djerius/subscriptions", "organizations_url": "https://api.github.com/users/djerius/orgs", "repos_url": "https://api.github.com/users/djerius/repos", "events_url": "https://api.github.com/users/djerius/events{/privacy}", "received_events_url": "https://api.github.com/users/djerius/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-10T20:47:04Z", "updated_at": "2021-06-11T04:07:18Z", "closed_at": "2021-06-11T04:07:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using the ssh  `include` directive in my `.ssh/config` file, which looks like this:\r\n\r\n```\r\nInclude /usr/local/share/home/ssh/*.conf\r\nInclude config.d/*.conf\r\n```\r\n\r\nIt seems that paramiko doesn't understand it. When trying to connect to a host `macabre` which is defined in a configuration file in my ` .ssh/config.d`\r\n\r\nI get (via running `xpra --debug all`\r\n\r\n```\r\n2021-06-10 16:16:59,525 parsed user config '/home/dj/.ssh/config'\r\n2021-06-10 16:16:59,526 1 hosts found\r\n2021-06-10 16:16:59,526 got host config for 'macabre': {'include': '/usr/local/share/home/ssh/*.conf', 'hostname': 'macabre'}\r\n```\r\n\r\nwhich doesn't look quite right, and sure enough, later on:\r\n```\r\nxpra.scripts.config.InitException: cannot get  address of('macabre', 22): [Errno -2] Name or service not known\r\nWarning: failed to connect:\r\n cannot get  address of('macabre', 22): [Errno -2] Name or service not known\r\n```\r\nIt all works if I simply set `--ssh=ssh`.\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3163/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3162", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3162/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3162/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3162/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3162", "id": 917745247, "node_id": "MDU6SXNzdWU5MTc3NDUyNDc=", "number": 3162, "title": "failed to recognize \"resize-display\", but only remotely", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-10T19:10:34Z", "updated_at": "2021-06-11T14:42:35Z", "closed_at": "2021-06-11T05:49:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "f33 client attempting to start server on f34.\r\nboth have beta 4.3-10.r29154 installed.\r\n\r\ncommand line:\r\n`xpra start-desktop ssh://minor/43 --start-child='vglrun mate-session' --resize-display=1856x1024\r\n`\r\nthe resize option is not comprehended at machine \"minor\", but only when used this way.\r\n\r\n```\r\n2021-06-10 14:48:38,885 Xpra GTK3 X11 client version 4.3-r29154 (g14b6b16b3) 64-bit\r\n2021-06-10 14:48:38,923  running on Linux Fedora 33 ThirtyThree\r\n2021-06-10 14:48:38,923  window manager is 'compiz'\r\n2021-06-10 14:48:39,985 GStreamer version 1.18.2 for Python 3.9.5 64-bit\r\n2021-06-10 14:48:40,037 created unix domain socket '/run/user/5271/xpra/clients/godiva.kleinpaste.org-1336307'\r\n2021-06-10 14:48:40,077 OpenGL_accelerate module loaded\r\n2021-06-10 14:48:40,081 Using accelerated ArrayDatatype\r\n2021-06-10 14:48:40,211 OpenGL enabled with NVIDIA GeForce RTX 2070 with Max-Q Design/PCIe/SSE2\r\n2021-06-10 14:48:40,231 Connected (version 2.0, client OpenSSH_8.6)\r\n2021-06-10 14:48:40,288 Authentication (publickey) successful!\r\n2021-06-10 14:48:40,777  SSH: 'xpra initialization error:'\r\n2021-06-10 14:48:40,777  SSH: ' no such option: --resize_display'\r\n2021-06-10 14:48:40,778 SSH EOF on stderr of run-xpra\r\n```\r\n\r\nnote misspelling with underscore.\r\nhowever, working a little harder at the invocation, it is recognized as a local option just fine:\r\n\r\n`ssh minor \"xpra start-desktop :43 --start-child='vglrun mate-session' --resize-display=1856x1024\"\r\n`\r\n\r\nthis works fine. the option is recognized for local interpretation, but not when passed through remotely.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3162/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3150", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3150/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3150/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3150/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3150", "id": 909110335, "node_id": "MDU6SXNzdWU5MDkxMTAzMzU=", "number": 3150, "title": "M1 Macbook support for sound", "user": {"login": "davideger", "id": 8029019, "node_id": "MDQ6VXNlcjgwMjkwMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/8029019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davideger", "html_url": "https://github.com/davideger", "followers_url": "https://api.github.com/users/davideger/followers", "following_url": "https://api.github.com/users/davideger/following{/other_user}", "gists_url": "https://api.github.com/users/davideger/gists{/gist_id}", "starred_url": "https://api.github.com/users/davideger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davideger/subscriptions", "organizations_url": "https://api.github.com/users/davideger/orgs", "repos_url": "https://api.github.com/users/davideger/repos", "events_url": "https://api.github.com/users/davideger/events{/privacy}", "received_events_url": "https://api.github.com/users/davideger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681232498, "node_id": "MDU6TGFiZWwyNjgxMjMyNDk4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/macos", "name": "macos", "color": "A6D7AE", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2021-06-02T05:09:48Z", "updated_at": "2021-11-06T00:41:50Z", "closed_at": "2021-11-05T14:31:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've installed Xpra 4.2 on an M1 Macbook Air running Mac OS X 10.16, and can run a remote firefox on an Ubuntu machine and display it on the mac, but the client is having trouble initializing sound on the mac.  Unfortunately I do not see the file \r\n`Xpra.app/Contents/MacOS/Xpra _sound_query` in the distribution I have, but here is the relevant output with debugging on for the xpra invocation I used -- it looks like the packaged up gstreamer is broken, as all of the plugins seem missing.\r\n\r\n```\r\n$ GST_DEBUG=1 xpra -d sound start ssh://lynn@100.127.48.71/ --start=firefox      \r\n\r\n2021-06-01 21:56:22,180 Xpra GTK3 client version 4.2-r0 64-bit\r\n2021-06-01 21:56:22,215  running on Mac OS X 10.16\r\n2021-06-01 21:56:23,765 query_sound() command=['/Applications/Xpra.app/Contents/Xpra_NoDock.app/Contents/Helpers/Xpra', '--windows=no', '--video-encoders=none', '--csc-modules=none', '--video-decoders=none', '--proxy-video-encoders=none', '_sound_query', '-d', 'sound'], env={'TERM': 'xterm', 'SHELL': '/bin/zsh', 'TMPDIR': '/var/folders/b7/s6ht04c57xs4srrl6ffs52f40000gn/T/', 'WINDOWID': '6291468', 'GTK_IM_MODULE_FILE': '/Applications/Xpra.app/Contents/Resources/etc/gtk-2.0/gtk.immodules', 'LC_ALL': 'C', 'XTERM_SHELL': '/bin/zsh', 'USER': 'eger', 'GST_DEBUG': '1', 'COMMAND_MODE': 'unix2003', 'PANGO_SYSCONFDIR': '/Applications/Xpra.app/Contents/Resources/etc', 'SSH_AUTH_SOCK': '/private/tmp/com.apple.launchd.Ff9IkGa5yH/Listeners', '__CF_USER_TEXT_ENCODING': '0x1F5:0x0:0x0', 'XDG_CONFIG_DIRS': '/Applications/Xpra.app/Contents/Resources/etc/xdg', 'PATH': '/Library/Frameworks/Python.framework/Versions/3.9/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/Library/Apple/usr/bin:/opt/X11/bin:/usr/sbin', 'GSETTINGS_SCHEMA_DIR': '/Applications/Xpra.app/Contents/Resources/share/glib-2.0/schemas/', 'PANGO_RC_FILE': '/Applications/Xpra.app/Contents/Resources/etc/pango/pangorc', '__CFBundleIdentifier': 'org.xquartz.X11', 'GDK_PIXBUF_MODULE_FILE': '/Applications/Xpra.app/Contents/Resources/lib/gdk-pixbuf-2.0/2.10.0/loaders.cache', 'PWD': '/Users/eger', 'LANG': 'C', 'GST_BUNDLE_CONTENTS': '/Applications/Xpra.app/Contents', 'GTK_THEME': 'Adwaita', 'PYTHONHOME': '/Applications/Xpra.app/Contents/Resources', 'XPC_FLAGS': '0x0', 'XTERM_LOCALE': 'C', 'XTERM_VERSION': 'XTerm(367)', 'XPC_SERVICE_NAME': '0', 'SHLVL': '2', 'HOME': '/Users/eger', 'DYLD_LIBRARY_PATH': '/Applications/Xpra.app/Contents/Resources/lib', 'GTK_PATH': '/Applications/Xpra.app/Contents/Resources', 'PYTHONPATH': '/Applications/Xpra.app/Contents/Resources/lib/pygtk/2.0:/Applications/Xpra.app/Contents/Resources/lib/python/:/Applications/Xpra.app/Contents/Resources/lib/python/site-packages.zip:/Applications/Xpra.app/Contents/Resources/lib/python/lib-dynload/:/Applications/Xpra.app/Contents/Resources/lib:', 'LOGNAME': 'eger', 'XDG_DATA_DIRS': '/Applications/Xpra.app/Contents/Resources/share', 'GTK_DATA_PREFIX': '/Applications/Xpra.app/Contents/Resources', 'GI_TYPELIB_PATH': '/Applications/Xpra.app/Contents/Resources/lib/girepository-1.0', 'DISPLAY': '/private/tmp/com.apple.launchd.8ibvGmVp12/org.xquartz:0', 'PANGO_LIBDIR': '/Applications/Xpra.app/Contents/Resources/lib', 'GTK_EXE_PREFIX': '/Applications/Xpra.app/Contents/Resources', 'X11_PREFS_DOMAIN': 'org.xquartz.X11', 'CHARSETALIASDIR': '/Applications/Xpra.app/Contents/Resources/lib', 'PYTHON': '/Applications/Xpra.app/Contents/Resources/bin/Xpra', 'GDK_SCALE': '1', 'GDK_DPI_SCALE': '1', 'GTK_CSD': '0', 'XPRA_SKIP_UI': '1', 'XPRA_FORCE_COLOR_LOG': '1'}, kwargs={'stderr': 2}\r\nOSX: GST_BUNDLE_CONTENTS=/Applications/Xpra.app/Contents\r\nGStreamer 1.x environment: {'GST_DEBUG': '1', 'PATH': '/Library/Frameworks/Python.framework/Versions/3.9/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/Library/Apple/usr/bin:/opt/X11/bin:/usr/sbin', 'GST_BUNDLE_CONTENTS': '/Applications/Xpra.app/Contents', 'GI_TYPELIB_PATH': '/Applications/Xpra.app/Contents/Resources/lib/girepository-1.0', 'GST_PLUGIN_PATH': '/Applications/Xpra.app/Contents/Resources/lib/gstreamer-1.0', 'GST_PLUGIN_SCANNER': '/Applications/Xpra.app/Contents/Resources/bin/gst-plugin-scanner-1.0'}\r\nGStreamer 1.x sys.path=, /Applications/Xpra.app/Contents/Resources/lib/pygtk/2.0, /Applications/Xpra.app/Contents/Resources/lib/python, /Applications/Xpra.app/Contents/Resources/lib/python/site-packages.zip, /Applications/Xpra.app/Contents/Resources/lib/python/lib-dynload, /Applications/Xpra.app/Contents/Resources/lib, /Users/eger, /Applications/Xpra.app/Contents/Resources/lib/python39.zip, /Applications/Xpra.app/Contents/Resources/lib/python3.9, /Applications/Xpra.app/Contents/Resources/lib/python3.9/lib-dynload, /Applications/Xpra.app/Contents/Resources/lib/python/lib/python3.9/site-packages.zip, /Applications/Xpra.app/Contents/Resources/lib/python/lib/python3.9/site-packages\r\nimport gi\r\nGst=<IntrospectionModule 'Gst' from '/Applications/Xpra.app/Contents/Resources/lib/girepository-1.0/Gst-1.0.typelib'>\r\nrun_sound(_sound_query, <function main.<locals>.err at 0x1140eed30>, {'start': [], 'start_child': [], 'start_after_connect': [], 'start_child_after_connect': [], 'start_on_connect': [], 'start_child_on_connect': [], 'start_on_last_client_exit': [], 'start_child_on_last_client_exit': [], 'exec_wrapper': '', 'terminate_children': False, 'exit_with_children': False, 'start_new_commands': True, 'start_via_proxy': False, 'proxy_start_sessions': True, 'dbus_launch': 'dbus-launch --sh-syntax --close-stderr', 'source': [], 'source_start': [], 'start_env': [], 'systemd_run': 'no', 'systemd_run_args': '', 'tcp_proxy': '', 'html': 'auto', 'http_scripts': 'all', 'attach': None, 'file_transfer': 'auto', 'open_files': 'auto', 'open_url': 'auto', 'printing': 'yes', 'file_size_limit': '100M', 'exit_with_client': False, 'idle_timeout': 0, 'server_idle_timeout': 0, 'resize_display': 'no', 'bind': ['auto'], 'bind_tcp': [], 'bind_udp': [], 'bind_ws': [], 'bind_wss': [], 'bind_ssl': [], 'bind_ssh': [], 'bind_rfb': [], 'mdns': True, 'bandwidth_limit': 'auto', 'bandwidth_detection': True, 'readonly': False, 'clipboard': 'yes', 'clipboard_direction': 'both', 'notifications': True, 'system_tray': True, 'cursors': True, 'bell': True, 'webcam': 'no', 'mousewheel': 'on', 'global_menus': True, 'xsettings': 'no', 'mmap': 'yes', 'sharing': None, 'lock': None, 'remote_logging': 'both', 'speaker': 'on', 'speaker_codec': [], 'microphone': 'off', 'microphone_codec': [], 'sound_source': '', 'av_sync': True, 'encodings': ['all'], 'encoding': 'auto', 'video_encoders': [], 'proxy_video_encoders': [], 'csc_modules': [], 'video_decoders': [], 'video_scaling': 'auto', 'min_quality': 30, 'quality': 0, 'min_speed': 30, 'speed': 0, 'auto_refresh_delay': 0.15, 'compressors': ['none', 'lz4', 'lzo', 'zlib', 'brotli'], 'packet_encoders': ['rencode', 'bencode', 'yaml'], 'compression_level': 1, 'opengl': 'probe', 'splash': None, 'headerbar': 'no', 'windows': False, 'session_name': '', 'min_size': '', 'max_size': '', 'desktop_scaling': 'on', 'desktop_fullscreen': False, 'border': 'auto,5:off', 'title': '@title@ on @hostinfo@', 'window_close': 'auto', 'window_icon': '', 'dock_icon': '', 'swap_keys': True, 'tray_icon': '', 'shortcut_modifiers': 'auto', 'key_shortcut': ['Control+Menu:toggle_keyboard_grab', 'Shift+Menu:toggle_pointer_grab', 'Control+F11:toggle_fullscreen', '#+F1:show_menu', '#+F2:show_start_new_command', '#+F3:show_bug_report', '#+F4:quit', '#+F5:show_window_info', '#+F10:magic_key', '#+F11:show_session_info', '#+F12:toggle_debug', '#+plus:scaleup', '#+plusminus:scaleup', '#+minus:scaledown', '#+underscore:scaledown', '#+emdash:scaledown', '#+KP_Add:scaleup', '#+KP_Subtract:scaledown', '#+KP_Multiply:scalereset', '#+bar:scalereset', '#+question:scalingoff', '#+degree:scalereset', 'meta+grave:void', 'meta+shift+asciitilde:void'], 'keyboard_sync': True, 'keyboard_raw': False, 'keyboard_layout': '', 'keyboard_layouts': [], 'keyboard_variant': '', 'keyboard_variants': [], 'keyboard_options': '', 'ssl': 'auto', 'ssl_key': '', 'ssl_cert': '', 'ssl_protocol': 'TLSv1_2', 'ssl_ca_certs': 'default', 'ssl_ca_data': '', 'ssl_ciphers': 'DEFAULT', 'ssl_client_verify_mode': 'optional', 'ssl_server_verify_mode': 'required', 'ssl_verify_flags': 'X509_STRICT', 'ssl_check_hostname': True, 'ssl_server_hostname': '', 'ssl_options': 'ALL,NO_COMPRESSION', 'env': [], 'challenge_handlers': ['all'], 'password_file': [], 'forward_xdg_open': True, 'open_command': 'open', 'modal_windows': False, 'input_method': 'none', 'dpi': 0, 'pixel_depth': 0, 'sync_xvfb': 0, 'client_socket_dirs': ['~/.xpra/clients'], 'socket_dirs': ['~/.xpra'], 'socket_dir': '', 'system_proxy_socket': '/run/xpra/system', 'ssh_upgrade': True, 'rfb_upgrade': 5, 'debug': 'sound', 'ssh': 'auto', 'exit_ssh': True, 'username': 'eger', 'auth': [], 'tcp_auth': [], 'udp_auth': [], 'ws_auth': [], 'wss_auth': [], 'ssl_auth': [], 'ssh_auth': [], 'rfb_auth': [], 'min_port': 1024, 'mmap_group': 'auto', 'socket_permissions': '600', 'pings': 5, 'clipboard_filter_file': '', 'local_clipboard': 'CLIPBOARD', 'remote_clipboard': 'CLIPBOARD', 'remote_xpra': ['xpra', '$XDG_RUNTIME_DIR/xpra/run-xpra', '/usr/local/bin/xpra', '~/.xpra/run-xpra', 'Xpra_cmd.exe'], 'encryption': '', 'encryption_keyfile': '', 'tcp_encryption': '', 'tcp_encryption_keyfile': '', 'display': '', 'wm_name': 'Xpra', 'download_path': '~/Downloads', 'uid': 501, 'gid': 20, 'daemon': False, 'pidfile': '', 'log_file': '$DISPLAY.log', 'log_dir': 'auto', 'chdir': '', 'lpadmin': '/usr/sbin/lpadmin', 'lpinfo': '/usr/sbin/lpinfo', 'pdf_printer': '', 'postscript_printer': 'drv:///sample.drv/generic.ppd', 'add_printer_options': ['-u allow:$USER', '-E', '-o printer-is-shared=false'], 'use_display': 'auto', 'xvfb': 'Xvfb +extension GLX +extension Composite -screen 0  8192x4096x24+32 -nolisten tcp -noreset -auth $XAUTHORITY  -dpi 96', 'displayfd': 0, 'fake_xinerama': 'no', 'bind_vsock': [], 'pulseaudio': False, 'pulseaudio_command': '', 'dbus_proxy': False, 'dbus_control': False, 'pulseaudio_configure_commands': ['pactl set-default-sink Xpra-Speaker', 'pactl set-default-source Xpra-Microphone.monitor'], 'input_devices': 'auto', 'tray': True, 'delay_tray': False, 'vsock_auth': [], 'password': ''}, []) gst=<IntrospectionModule 'Gst' from '/Applications/Xpra.app/Contents/Resources/lib/girepository-1.0/Gst-1.0.typelib'>\r\nfound the following plugins: ['bin', 'pipeline']\r\nget_sink_plugins() no pulsesink: No module named 'xpra.sound.pulseaudio'\r\nmissing ['vorbisenc', 'matroskamux'] from ('vorbisenc', 'matroskamux')\r\nmissing ['vorbisdec', 'matroskademux'] from ('vorbisdec', 'matroskademux')\r\nmissing ['vorbisenc', 'webmmux'] from ('vorbisenc', 'webmmux')\r\nmissing ['vorbisdec', 'matroskademux'] from ('vorbisdec', 'matroskademux')\r\nmissing ['vorbisenc', 'oggmux'] from ('vorbisenc', 'oggmux')\r\nmissing ['vorbisparse', 'vorbisdec', 'oggdemux'] from ('vorbisparse ! vorbisdec', 'oggdemux')\r\nmissing ['vorbisenc'] from ('vorbisenc', None)\r\nmissing ['vorbisparse', 'vorbisdec'] from ('vorbisparse ! vorbisdec', None)\r\nmissing ['flacenc'] from ('flacenc', None)\r\nmissing ['flacparse', 'flacdec'] from ('flacparse ! flacdec', None)\r\nmissing ['flacenc', 'oggmux'] from ('flacenc', 'oggmux')\r\nmissing ['flacparse', 'flacdec', 'oggdemux'] from ('flacparse ! flacdec', 'oggdemux')\r\nmissing ['lamemp3enc'] from ('lamemp3enc', None)\r\nmissing ['mpegaudioparse', 'mad'] from ('mpegaudioparse ! mad', None)\r\nmissing ['lamemp3enc', 'id3v2mux'] from ('lamemp3enc', 'id3v2mux')\r\nmissing ['mpegaudioparse', 'mpg123audiodec', 'id3demux'] from ('mpegaudioparse ! mpg123audiodec', 'id3demux')\r\nmissing ['lamemp3enc'] from ('lamemp3enc', None)\r\nmissing ['mpegaudioparse', 'mpg123audiodec'] from ('mpegaudioparse ! mpg123audiodec', None)\r\nmissing ['lamemp3enc', 'mp4mux'] from ('lamemp3enc', 'mp4mux')\r\nmissing ['mpegaudioparse', 'mad', 'qtdemux'] from ('mpegaudioparse ! mad', 'qtdemux')\r\nmissing ['wavenc'] from ('wavenc', None)\r\nmissing ['wavparse'] from ('wavparse', None)\r\nmissing ['wavenc'] from ('wavenc', None)\r\nmissing ['wavparse'] from ('wavparse', None)\r\nmissing ['wavenc'] from ('wavenc', None)\r\nmissing ['wavparse'] from ('wavparse', None)\r\navoiding opus+ogg on Mac OS X\r\nmissing ['opusdec', 'oggdemux'] from ('opusdec', 'oggdemux')\r\nmissing ['opusenc'] from ('opusenc', None)\r\nmissing ['opusparse', 'opusdec'] from ('opusparse ! opusdec', None)\r\nmissing ['opusenc', 'matroskamux'] from ('opusenc', 'matroskamux')\r\nmissing ['opusdec', 'matroskademux'] from ('opusdec', 'matroskademux')\r\nmissing ['opusenc', 'webmmux'] from ('opusenc', 'webmmux')\r\nmissing ['opusdec', 'matroskademux'] from ('opusdec', 'matroskademux')\r\nmissing ['speexenc', 'oggmux'] from ('speexenc', 'oggmux')\r\nmissing ['speexdec', 'oggdemux'] from ('speexdec', 'oggdemux')\r\nmissing ['wavpackenc'] from ('wavpackenc', None)\r\nmissing ['wavpackparse', 'wavpackdec'] from ('wavpackparse ! wavpackdec', None)\r\nmissing ['faac', 'mp4mux'] from ('faac', 'mp4mux')\r\nmissing ['faad', 'qtdemux'] from ('faad', 'qtdemux')\r\nmissing ['avenc_aac', 'mp4mux'] from ('avenc_aac', 'mp4mux')\r\nmissing ['avdec_aac', 'qtdemux'] from ('avdec_aac', 'qtdemux')\r\ninitialized sound codecs:\r\n  - encoder/decoder       (de)payloader         stream-compressor     \r\nmissing ['osxaudiosrc'] from ('osxaudiosrc',)\r\nmissing ['autoaudiosrc'] from ('autoaudiosrc',)\r\nmissing ['alsasrc'] from ('alsasrc',)\r\nmissing ['osssrc'] from ('osssrc',)\r\nmissing ['oss4src'] from ('oss4src',)\r\nmissing ['jackaudiosrc'] from ('jackaudiosrc',)\r\nmissing ['audiotestsrc'] from ('audiotestsrc',)\r\nget_sink_plugins() no pulsesink: No module named 'xpra.sound.pulseaudio'\r\nget_default_sink_plugin() no pulsesink: No module named 'xpra.sound.pulseaudio'\r\nmissing ['osxaudiosink'] from ('osxaudiosink',)\r\nmissing ['autoaudiosink'] from ('autoaudiosink',)\r\nmissing ['alsasink'] from ('alsasink',)\r\nmissing ['osssink'] from ('osssink',)\r\nmissing ['oss4sink'] from ('oss4sink',)\r\nmissing ['jackaudiosink'] from ('jackaudiosink',)\r\nmissing ['oggmux'] from ('oggmux',)\r\nmissing ['webmmux'] from ('webmmux',)\r\nmissing ['matroskamux'] from ('matroskamux',)\r\nmissing ['mp4mux'] from ('mp4mux',)\r\nmissing ['oggdemux'] from ('oggdemux',)\r\nmissing ['matroskademux'] from ('matroskademux',)\r\nmissing ['matroskademux'] from ('matroskademux',)\r\nmissing ['qtdemux'] from ('qtdemux',)\r\n2021-06-01 21:56:24,478 query_sound() process returned 0\r\n2021-06-01 21:56:24,479 query_sound() out=b'encoders=\\ndecoders=\\nsources=\\nsource.default=\\nsinks=\\nsink.default=\\nmuxers=\\ndemuxers=\\ngst.version=1,18,4,0\\npygst.version=3,32,2\\nplugins=bin,pipeline\\npython.version=3,9,5\\npython.bits=64\\nbundle-metadata=True\\n', err=None\r\n2021-06-01 21:56:24,479 query_sound()={'encoders': [''], 'decoders': [''], 'sources': [''], 'source.default': [''], 'sinks': [''], 'sink.default': [''], 'muxers': [''], 'demuxers': [''], 'gst.version': ['1', '18', '4', '0'], 'pygst.version': ['3', '32', '2'], 'plugins': ['bin', 'pipeline'], 'python.version': ['3', '9', '5'], 'python.bits': b'64', 'bundle-metadata': ['True']}\r\n2021-06-01 21:56:24,479 GStreamer version 1.18.4 for Python 3.9.5 64-bit\r\n2021-06-01 21:56:24,479 sound_option_or_all('speaker-codec', [], ('',))\r\n2021-06-01 21:56:24,480 speaker-codec=\r\n2021-06-01 21:56:24,480 sound_option_or_all('microphone-codec', [], ('',))\r\n2021-06-01 21:56:24,480 microphone-codec=\r\n2021-06-01 21:56:24,480 speaker: codecs=('',), allowed=True, enabled=\r\n2021-06-01 21:56:24,480 microphone: codecs=('',), allowed=True, enabled=, default device=None\r\n2021-06-01 21:56:24,480 av-sync=True\r\n2021-06-01 21:56:34,914 pulseaudio id=1000@bd4ad192b14c43e6829d6808239c0549/648386, server={bd4ad192b14c43e6829d6808239c0549}unix:/run/user/1000/xpra/pulse-3/pulse/native, sound decoders=opus+ogg, vorbis+mka, vorbis+ogg, vorbis, mp3, mp3+id3v2, flac+ogg, aac+mpeg4, wav+lz4, wav+lzo, wav, wavpack, speex+ogg, vorbis, opus+mka, flac, sound encoders=opus, opus+ogg, vorbis+mka, vorbis+ogg, vorbis, mp3, mp3+id3v2, flac+ogg, aac+mpeg4, wav+lz4, wav+lzo, wav, wavpack, speex+ogg, vorbis, opus+mka, flac, mp3+mpeg4, receive=True, send=True\r\n2021-06-01 21:56:34,915 start_receiving_sound() sound sink=None\r\n2021-06-01 21:56:34,916 get_matching_codecs(('',), ('opus', 'opus+ogg', 'vorbis+mka', 'vorbis+ogg', 'vorbis', 'mp3', 'mp3+id3v2', 'flac+ogg', 'aac+mpeg4', 'wav+lz4', 'wav+lzo', 'wav', 'wavpack', 'speex+ogg', 'vorbis', 'opus+mka', 'flac', 'mp3+mpeg4'))=()\r\n2021-06-01 21:56:34,916 start_receiving_sound() matching codecs: \r\n2021-06-01 21:56:34,922 Error: Failed to start speaker forwarding\r\n2021-06-01 21:56:34,922  server supports: opus, opus+ogg, vorbis+mka, vorbis+ogg, vorbis, mp3, mp3+id3v2, flac+ogg, aac+mpeg4, wav+lz4, wav+lzo, wav, wavpack, speex+ogg, vorbis, opus+mka, flac, mp3+mpeg4\r\n2021-06-01 21:56:34,922  client supports: \r\n2021-06-01 21:56:34,922 start_receiving_sound() done, speaker_enabled=False\r\n2021-06-01 21:56:34,936 enabled remote logging\r\n2021-06-01 21:56:34,937 Xpra X11 seamless server version 4.2-r0 64-bit\r\n2021-06-01 21:56:34,937  running on Linux Ubuntu 20.04 focal\r\n2021-06-01 21:56:34,937 init_authenticated_packet_handlers()\r\n2021-06-01 21:56:35,383 running\r\n...\r\n```\r\n\r\nSeparately, some parts of the GTK error out with the attached screenshot trying and failing to dlopen /System/Library/Frameworks/c.framework/c; I'm not sure if it's related.\r\n\r\n<img width=\"474\" alt=\"Screen Shot 2021-06-01 at 10 07 13 PM\" src=\"https://user-images.githubusercontent.com/8029019/120426873-bb638580-c325-11eb-8d32-cd5419e1ca1d.png\">\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3150/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3143", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3143/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3143/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3143/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3143", "id": 904910747, "node_id": "MDU6SXNzdWU5MDQ5MTA3NDc=", "number": 3143, "title": "Unable to start server with version bionic 4.2-r0-1", "user": {"login": "badmin-c", "id": 53256098, "node_id": "MDQ6VXNlcjUzMjU2MDk4", "avatar_url": "https://avatars.githubusercontent.com/u/53256098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/badmin-c", "html_url": "https://github.com/badmin-c", "followers_url": "https://api.github.com/users/badmin-c/followers", "following_url": "https://api.github.com/users/badmin-c/following{/other_user}", "gists_url": "https://api.github.com/users/badmin-c/gists{/gist_id}", "starred_url": "https://api.github.com/users/badmin-c/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/badmin-c/subscriptions", "organizations_url": "https://api.github.com/users/badmin-c/orgs", "repos_url": "https://api.github.com/users/badmin-c/repos", "events_url": "https://api.github.com/users/badmin-c/events{/privacy}", "received_events_url": "https://api.github.com/users/badmin-c/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-05-28T08:08:56Z", "updated_at": "2021-05-28T14:18:40Z", "closed_at": "2021-05-28T14:18:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I connect to xpra using the following command:\r\n```\r\nxpra start ssh:system.domain.de --env=LANG=de_DE.UTF-8 --attach=True --tray=no --exit-with-children=True --start-child=/usr/bin/firefox\r\n```\r\n\r\n```\r\n2021-05-28 09:56:13,826 Xpra GTK3 X11 client version 4.2-r0 64-bit\r\n2021-05-28 09:56:13,959  running on Linux LinuxMint 19.3 tricia\r\n2021-05-28 09:56:13,960  window manager is 'Mutter (Muffin)'\r\n2021-05-28 09:56:14,811 GStreamer version 1.14.5 for Python 3.6.9 64-bit\r\n2021-05-28 09:56:14,861 created unix domain socket '/run/user/1001/xpra/clients/my-desktop-17357'\r\n2021-05-28 09:56:14,946 No OpenGL_accelerate module loaded: No module named 'OpenGL_accelerate'\r\n2021-05-28 09:56:15,206 OpenGL enabled with GeForce RTX 2070/PCIe/SSE2\r\n2021-05-28 09:56:15,296 Connected (version 2.0, client OpenSSH_7.6p1)\r\n2021-05-28 09:56:16,138 Authentication (publickey) successful!\r\n2021-05-28 09:56:16,492  keyboard settings: rules=evdev, model=pc105, layout=de\r\n2021-05-28 09:56:16,497  desktop size is 2560x1440 with 1 screen:\r\n2021-05-28 09:56:16,498   :0.0 (677x381 mm - DPI: 96x96) workarea: 2560x1416\r\n2021-05-28 09:56:16,498     DP-2 (598x336 mm - DPI: 109x109)\r\n2021-05-28 09:56:16,596  SSH: 'Warning: XDG_RUNTIME_DIR is not defined'\r\n2021-05-28 09:56:16,596  SSH: \" and '/run/user/1000' does not exist\"\r\n2021-05-28 09:56:16,596  SSH: \" using '/tmp'\"\r\n2021-05-28 09:56:16,721  SSH: 'Warning: XDG_RUNTIME_DIR is not defined'\r\n2021-05-28 09:56:16,722  SSH: \" and '/run/user/1000' does not exist\"\r\n2021-05-28 09:56:16,722  SSH: \" using '/tmp'\"\r\n2021-05-28 09:56:16,766  SSH: 'failed to initialize Gtk, no display?'\r\n2021-05-28 09:56:36,630  SSH: 'Error: displayfd failed'\r\n2021-05-28 09:56:36,630  SSH: ' did not provide a display number using displayfd'\r\n2021-05-28 09:56:36,631  SSH: 'xpra initialization error:'\r\n2021-05-28 09:56:36,631  SSH: ' failed to identify the new server display!'\r\n2021-05-28 09:56:36,650 SSH EOF on stderr of run-xpra\r\n2021-05-28 09:56:36,654 Error: failed to receive anything, not an xpra server?\r\n2021-05-28 09:56:36,654   could also be the wrong protocol, username, password or port\r\n2021-05-28 09:56:36,654   or the session was not found\r\n2021-05-28 09:56:36,654 Connection lost\r\n2021-05-28 09:56:36,666 removing unix domain socket '/run/user/1001/xpra/clients/my-desktop-17357'\r\n\r\n```\r\nAfter downgrading xpra on system.domain.de to 4.1.1-r28-1 connection works again. Client version does not seem to affect anything.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3143/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3136", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3136/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3136/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3136/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3136", "id": 900227560, "node_id": "MDU6SXNzdWU5MDAyMjc1NjA=", "number": 3136, "title": "Some NVENC presets are unusable on Tesla M40", "user": {"login": "zhaofengli", "id": 2189609, "node_id": "MDQ6VXNlcjIxODk2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2189609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhaofengli", "html_url": "https://github.com/zhaofengli", "followers_url": "https://api.github.com/users/zhaofengli/followers", "following_url": "https://api.github.com/users/zhaofengli/following{/other_user}", "gists_url": "https://api.github.com/users/zhaofengli/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhaofengli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhaofengli/subscriptions", "organizations_url": "https://api.github.com/users/zhaofengli/orgs", "repos_url": "https://api.github.com/users/zhaofengli/repos", "events_url": "https://api.github.com/users/zhaofengli/events{/privacy}", "received_events_url": "https://api.github.com/users/zhaofengli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-25T03:39:56Z", "updated_at": "2021-05-25T17:28:44Z", "closed_at": "2021-05-25T17:28:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "On Tesla M40, the P7 and P6 presets cause CUDA initialization failure (error 8). I was able to work around it with [this patch](https://github.com/zhaofengli/xpra/commit/03eaf9fc2a246785f4d9fb3139e3a8052a058706) to get Xpra to choose the next preset, but perhaps there is a better way to solve this.\r\n\r\n<details>\r\n<summary>\r\nFull logs\r\n</summary>\r\n<pre>\r\n2021-05-25 02:21:47,988 init_context(1250, 444, 'BGRX', ('ARGB', 'BGRA', 'BGRX', 'GBRP', 'GBRP10', 'RGB', 'XRGB', 'YUV420P', 'YUV422P', 'YUV444P', 'YUV444P10', 'r210'), 'h264', 98, 86, (1, 1), {b'eos': True, b'flush': True, b'video_scaling': True, b'video_b_frames': (b'h264',), b'video_max_size': (4096, 4096), b'max-soft-expired': 5, b'send-timestamps': False, b'pillow.version': b'8.2.0', b'jpeg.version': 1, b'webp.version': (1, 1, 0), b'swscale.version': (5, 9, 100), b'cython.version': b'4.2', b'avcodec2.version': (58, 134, 100), b'vpx.version': b'1.10.0', b'min-quality': 30, b'speed': 0, b'min-speed': 30, b'rgb_zlib': True, b'rgb_lz4': True, b'rgb_lzo': False, b'rgb_brotli': False, b'rgb_none': True, b'rgb_formats': (b'RGB', b'RGBX', b'RGBA'), b'full_csc_modes': {b'h264': (b'ARGB', b'BGRA', b'BGRX', b'GBRP', b'RGB', b'XRGB', b'YUV420P', b'YUV422P', b'YUV444P'), b'vp8': (b'YUV420P',), b'h265': (b'BGRX', b'GBRP', b'RGB', b'XRGB', b'YUV420P', b'YUV422P', b'YUV444P'), b'mpeg4': (b'YUV420P',), b'mpeg1': (b'YUV420P',), b'mpeg2': (b'YUV420P',), b'vp9': (b'YUV420P', b'YUV444P'), b'webp': (b'BGRX', b'BGRA')}, b'h264.YUV420P.profile': b'high10', b'h264.fast-decode': False, b'transparency': True})\r\n2021-05-25 02:21:47,988 get_target_pixel_format(98)=BGRX for encoding=h264, scaling=(1, 1), NATIVE_RGB=True, YUV444_CODEC_SUPPORT={'h264': True, 'h265': False}, YUV420_ENABLED=True, YUV444_ENABLED=True, YUV444_THRESHOLD=85, LOSSLESS_ENABLED=True, src_format=BGRX, dst_formats=ARGB, BGRA, BGRX, GBRP, GBRP10, RGB, XRGB, YUV420P, YUV422P, YUV444P, YUV444P10, r210\r\n2021-05-25 02:21:47,989 using lossy h264 compression at 98% quality with pixel format BGRX\r\n2021-05-25 02:21:48,109 CUDA 10.2.0 / PyCUDA 2020.1, found 1 device:\r\n2021-05-25 02:21:48,109   + Tesla M40 @ 0000:42:00.0 (memory: 83% free, compute: 5.2)\r\n2021-05-25 02:21:48,151 selected device Tesla M40 @ 0000:42:00.0\r\n2021-05-25 02:21:48,152 init_cuda() pixel format=BGRX, device_id=0\r\n2021-05-25 02:21:48,152 init_cuda cuda_device=<pycuda._driver.Device object at 0x7fc6d8ac37c0> (Tesla M40 @ 0000:42:00.0)\r\n2021-05-25 02:21:48,272 init_cuda cuda_context=<pycuda._driver.Context object at 0x7fc72145a660>\r\n2021-05-25 02:21:48,272 init_cuda cuda info={'driver': {'version': (10, 2, 0), 'driver_version': 11020}}\r\n2021-05-25 02:21:48,272 init_cuda pycuda info={'version': {'': (2020, 1), 'text': '2020.1'}}\r\n2021-05-25 02:21:48,273 CUDA Output Buffer=0x3378fa0000, pitch=5120\r\n2021-05-25 02:21:48,275 inputBuffer=[0 0 0 ... 0 0 0] (size=2293760)\r\n2021-05-25 02:21:48,275 open_encode_session() cuda_context=<pycuda._driver.Context object at 0x7fc72145a660>, cuda_context_ptr=0x7fc69c2da5c0\r\n2021-05-25 02:21:48,275 open_encode_session() functionList=0x7fc69c416340\r\n2021-05-25 02:21:48,278 success, encoder context=0x7fc69c417380 (1 context in use)\r\n2021-05-25 02:21:48,278 found 2 encoders:\r\n2021-05-25 02:21:48,278 [0] H264\r\n2021-05-25 02:21:48,278 [1] HEVC\r\n2021-05-25 02:21:48,278 codecs=H264, HEVC\r\n2021-05-25 02:21:48,279 c_parseguid(6BC82762-4E63-4CA4-AA85-1E50F321F6BF)={'Data1': 1808279394, 'Data2': 20067, 'Data3': 19620, 'Data4': b'\\xaa\\x85\\x1eP\\xf3!\\xf6\\xbf@\\x95!b\\xc8\\x7f'}\r\n2021-05-25 02:21:48,279 found 17 presets:\r\n2021-05-25 02:21:48,279 * default              P frame interval=1, gop length=30\r\n2021-05-25 02:21:48,279 * low-latency          P frame interval=1, gop length=infinite\r\n2021-05-25 02:21:48,279 * hp                   P frame interval=1, gop length=30\r\n2021-05-25 02:21:48,279 * hq                   P frame interval=1, gop length=30\r\n2021-05-25 02:21:48,279 * bd                   P frame interval=3, gop length=30\r\n2021-05-25 02:21:48,279 * low-latency-hq       P frame interval=1, gop length=infinite\r\n2021-05-25 02:21:48,279 * low-latency-hp       P frame interval=1, gop length=infinite\r\n2021-05-25 02:21:48,280 * streaming            P frame interval=1, gop length=30\r\n2021-05-25 02:21:48,280 * lossless             P frame interval=1, gop length=30\r\n2021-05-25 02:21:48,280 * lossless-hp          P frame interval=1, gop length=30\r\n2021-05-25 02:21:48,280 tuning=ultra-low-latency (3)\r\n2021-05-25 02:21:48,280 * P1                   P frame interval=1, gop length=infinite\r\n2021-05-25 02:21:48,280 tuning=ultra-low-latency (3)\r\n2021-05-25 02:21:48,280 * P2                   P frame interval=1, gop length=infinite\r\n2021-05-25 02:21:48,280 tuning=ultra-low-latency (3)\r\n2021-05-25 02:21:48,280 * P3                   P frame interval=1, gop length=infinite\r\n2021-05-25 02:21:48,280 tuning=ultra-low-latency (3)\r\n2021-05-25 02:21:48,280 * P4                   P frame interval=1, gop length=infinite\r\n2021-05-25 02:21:48,281 tuning=ultra-low-latency (3)\r\n2021-05-25 02:21:48,281 * P5                   P frame interval=1, gop length=infinite\r\n2021-05-25 02:21:48,281 tuning=ultra-low-latency (3)\r\n2021-05-25 02:21:48,281 * P6                   P frame interval=1, gop length=infinite\r\n2021-05-25 02:21:48,281 tuning=ultra-low-latency (3)\r\n2021-05-25 02:21:48,281 * P7                   P frame interval=1, gop length=infinite\r\n2021-05-25 02:21:48,281 presets for 6BC82762-4E63-4CA4-AA85-1E50F321F6BF: default, low-latency, hp, hq, bd, low-latency-hq, low-latency-hp, streaming, lossless, lossless-hp, P1, P2, P3, P4, P5, P6, P7 (pixel format=BGRX)\r\n2021-05-25 02:21:48,281 preset          default: speed=   50, quality=   50 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,281 preset      low-latency: speed=   80, quality=   20 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,281 preset               hp: speed=   60, quality=   40 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,282 preset               hq: speed=   50, quality=   70 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,282 preset               bd: speed=   40, quality=   80 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,282 preset   low-latency-hq: speed=   70, quality=   60 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,282 preset   low-latency-hp: speed=  100, quality=    0 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,282 preset        streaming: speed=-1000, quality=-1000 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,282 preset         lossless: speed=    0, quality=  100 (lossless=True - want lossless=False)\r\n2021-05-25 02:21:48,282 preset      lossless-hp: speed=   30, quality=  100 (lossless=True - want lossless=False)\r\n2021-05-25 02:21:48,282 preset               P1: speed=   50, quality=   10 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,282 preset               P2: speed=   50, quality=   25 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,282 preset               P3: speed=   50, quality=   40 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,282 preset               P4: speed=   50, quality=   55 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,282 preset               P5: speed=   50, quality=   70 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,282 preset               P6: speed=   50, quality=   85 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,283 preset               P7: speed=   50, quality=  100 (lossless=False - want lossless=False)\r\n2021-05-25 02:21:48,283 get_preset(H264) speed=86, quality=98, lossless=False, pixel_format=BGRX, options={216: [('default', 'B2DFB705-4EBD-4C49-9B5F-24A777D3E587')], 246: [('low-latency', '49DF21C5-6DFA-4FEB-9787-6ACC9EFFB726'), ('P3', '36850110-3A07-441F-94D5-3670631F91F6')], 226: [('hp', '60E4C59F-E846-4484-A56D-CD45BE9FDDF6')], 156: [('hq', '34DBA71D-A77B-4B8F-9C3E-B6D5DA24C012'), ('P5', '21C6E6B4-297A-4CBA-998F-B6CBDE72ADE3')], 146: [('bd', '82E3E450-BDBB-4E40-989C-82A90DF9EF32'), ('low-latency-hq', 'C5F733B9-EA97-4CF9-BEC2-BF78A74FD105')], 322: [('low-latency-hp', '67082A44-4BAD-48FA-98EA-93056D150A58')], 336: [('P1', 'FC0A8D3E-45F8-4CF8-80C7-298871590EBF')], 291: [('P2', 'F581CFB8-88D6-4381-93F0-DF13F9C27DAB')], 201: [('P4', '90A7B826-DF06-4862-B9D2-CD6D73A08681')], 111: [('P6', '8E75C279-6299-4AB6-8302-0B215A335CF5')], 78: [('P7', '84848C12-6F71-4C13-931B-53E283F57974')]}\r\n2021-05-25 02:21:48,283 using preset 'P7' for speed=86, quality=98, lossless=0, pixel_format=BGRX\r\n2021-05-25 02:21:48,283 c_parseguid(84848C12-6F71-4C13-931B-53E283F57974)={'Data1': 2223279122, 'Data2': 28529, 'Data3': 19475, 'Data4': b'\\x93\\x1bS\\xe2\\x83\\xf5yt\\xe0\\x8b!b\\xc8\\x7f'}\r\n2021-05-25 02:21:48,283 init_params(H264) using preset=P7\r\n2021-05-25 02:21:48,283 6 profiles:\r\n2021-05-25 02:21:48,283 * 0727BCAA-78C4-4C83-8C2F-EF3DFF267C6A : baseline\r\n2021-05-25 02:21:48,283 * 60B5C1D4-67FE-4790-94D5-C4726D7B6E6D : main\r\n2021-05-25 02:21:48,283 * E7CBC309-4F7A-4B89-AF2A-D537C92BE310 : high\r\n2021-05-25 02:21:48,284 * 40847BF5-33F7-4601-9084-E8FE3C1DB8B7 : stereo\r\n2021-05-25 02:21:48,284 * 7AC663CB-A598-4960-B844-339B261A7D52 : high-444\r\n2021-05-25 02:21:48,284 * BFD6F8E7-233C-4341-8B3E-4818523803F4 : auto\r\n2021-05-25 02:21:48,284 using profile=auto\r\n2021-05-25 02:21:48,284 9 input format types:\r\n2021-05-25 02:21:48,284 * 0x1\r\n2021-05-25 02:21:48,284  + 0x1 : NV12_PL\r\n2021-05-25 02:21:48,284 * 0x10\r\n2021-05-25 02:21:48,284  + 0x10 : YV12_PL\r\n2021-05-25 02:21:48,284 * 0x100\r\n2021-05-25 02:21:48,284  + 0x100 : IYUV_PL\r\n2021-05-25 02:21:48,284 * 0x1000\r\n2021-05-25 02:21:48,285  + 0x1000 : YUV444_PL\r\n2021-05-25 02:21:48,285 * 0x1000000\r\n2021-05-25 02:21:48,285  + 0x1000000 : ARGB\r\n2021-05-25 02:21:48,285 * 0x10000000\r\n2021-05-25 02:21:48,285  + 0x10000000 : ABGR\r\n2021-05-25 02:21:48,285 * 0x4000000\r\n2021-05-25 02:21:48,285  + 0x4000000 : AYUV\r\n2021-05-25 02:21:48,285 * 0x2000000\r\n2021-05-25 02:21:48,285  + 0x2000000 : ARGB10\r\n2021-05-25 02:21:48,285 * 0x20000000\r\n2021-05-25 02:21:48,285  + 0x20000000 : ABGR10\r\n2021-05-25 02:21:48,285 tuning=ultra-low-latency (3)\r\n2021-05-25 02:21:48,286 constQP: 2\r\n2021-05-25 02:21:48,286 chromaFormatIDC(BGRX)=3\r\n2021-05-25 02:21:48,292 init_cuda failed\r\nTraceback (most recent call last):\r\n  File \"xpra/codecs/nvenc/encoder.pyx\", line 1705, in xpra.codecs.nvenc.encoder.Encoder.init_device\r\n  File \"xpra/codecs/nvenc/encoder.pyx\", line 1886, in xpra.codecs.nvenc.encoder.Encoder.init_nvenc\r\n  File \"xpra/codecs/nvenc/encoder.pyx\", line 1900, in xpra.codecs.nvenc.encoder.Encoder.init_encoder\r\n  File \"xpra/codecs/nvenc/encoder.pyx\", line 1487, in xpra.codecs.nvenc.encoder.raiseNVENC\r\nxpra.codecs.nvenc.encoder.NVENCException: %s - returned %i: This indicates that one or more of the parameter passed to the API call is invalid.\r\n2021-05-25 02:21:48,293 threaded_init_device({b'eos': True, b'flush': True, b'video_scaling': True, b'video_b_frames': (b'h264',), b'video_max_size': (4096, 4096), b'max-soft-expired': 5, b'send-timestamps': False, b'pillow.version': b'8.2.0', b'jpeg.version': 1, b'webp.version': (1, 1, 0), b'swscale.version': (5, 9, 100), b'cython.version': b'4.2', b'avcodec2.version': (58, 134, 100), b'vpx.version': b'1.10.0', b'min-quality': 30, b'speed': 0, b'min-speed': 30, b'rgb_zlib': True, b'rgb_lz4': True, b'rgb_lzo': False, b'rgb_brotli': False, b'rgb_none': True, b'rgb_formats': (b'RGB', b'RGBX', b'RGBA'), b'full_csc_modes': {b'h264': (b'ARGB', b'BGRA', b'BGRX', b'GBRP', b'RGB', b'XRGB', b'YUV420P', b'YUV422P', b'YUV444P'), b'vp8': (b'YUV420P',), b'h265': (b'BGRX', b'GBRP', b'RGB', b'XRGB', b'YUV420P', b'YUV422P', b'YUV444P'), b'mpeg4': (b'YUV420P',), b'mpeg1': (b'YUV420P',), b'mpeg2': (b'YUV420P',), b'vp9': (b'YUV420P', b'YUV444P'), b'webp': (b'BGRX', b'BGRA')}, b'h264.YUV420P.profile': b'high10', b'h264.fast-decode': False, b'transparency': True})\r\nTraceback (most recent call last):\r\n  File \"xpra/codecs/nvenc/encoder.pyx\", line 1677, in xpra.codecs.nvenc.encoder.Encoder.threaded_init_device\r\n  File \"xpra/codecs/nvenc/encoder.pyx\", line 1711, in xpra.codecs.nvenc.encoder.Encoder.init_device\r\n  File \"xpra/codecs/nvenc/encoder.pyx\", line 1705, in xpra.codecs.nvenc.encoder.Encoder.init_device\r\n  File \"xpra/codecs/nvenc/encoder.pyx\", line 1886, in xpra.codecs.nvenc.encoder.Encoder.init_nvenc\r\n  File \"xpra/codecs/nvenc/encoder.pyx\", line 1900, in xpra.codecs.nvenc.encoder.Encoder.init_encoder\r\n  File \"xpra/codecs/nvenc/encoder.pyx\", line 1487, in xpra.codecs.nvenc.encoder.raiseNVENC\r\nxpra.codecs.nvenc.encoder.NVENCException: %s - returned %i: This indicates that one or more of the parameter passed to the API call is invalid.\r\n2021-05-25 02:21:48,293 Warning: failed to initialize NVENC device\r\n2021-05-25 02:21:48,293  error 8:\r\n2021-05-25 02:21:48,293  'This indicates that one or more of the parameter passed to the API call is invalid.'\r\n2021-05-25 02:21:48,293 clean() cuda_context=<pycuda._driver.Context object at 0x7fc72145a660>, encoder context=0x7fc69c417380\r\n2021-05-25 02:21:48,294 cuda_clean() freeing CUDA host buffer [0 0 0 ... 0 0 0]\r\n2021-05-25 02:21:48,295 cuda_clean() freeing CUDA output buffer 0x3378fa0000\r\n2021-05-25 02:21:48,295 cuda_clean() destroying encoder 0x7fc69c417380\r\n2021-05-25 02:21:48,295 cuda_clean() (still 0 context in use)\r\n2021-05-25 02:21:48,296 clean() done\r\n</pre>\r\n</details>\r\n\r\n\r\nXpra 4.2\r\nOS: NixOS 21.05\r\nDriver Version: 460.73.01\r\nCUDA Version: 11.2", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3136/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3130", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3130/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3130/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3130/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3130", "id": 896863779, "node_id": "MDU6SXNzdWU4OTY4NjM3Nzk=", "number": 3130, "title": "Sessions are not being resumed / re-connected", "user": {"login": "lm-sig", "id": 54909895, "node_id": "MDQ6VXNlcjU0OTA5ODk1", "avatar_url": "https://avatars.githubusercontent.com/u/54909895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lm-sig", "html_url": "https://github.com/lm-sig", "followers_url": "https://api.github.com/users/lm-sig/followers", "following_url": "https://api.github.com/users/lm-sig/following{/other_user}", "gists_url": "https://api.github.com/users/lm-sig/gists{/gist_id}", "starred_url": "https://api.github.com/users/lm-sig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lm-sig/subscriptions", "organizations_url": "https://api.github.com/users/lm-sig/orgs", "repos_url": "https://api.github.com/users/lm-sig/repos", "events_url": "https://api.github.com/users/lm-sig/events{/privacy}", "received_events_url": "https://api.github.com/users/lm-sig/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681286082, "node_id": "MDU6TGFiZWwyNjgxMjg2MDgy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/proxy", "name": "proxy", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2021-05-19T13:21:49Z", "updated_at": "2021-07-13T14:17:24Z", "closed_at": "2021-07-13T14:17:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the past (Xpra 3.x, 4.0.x) I could disconnect from a Xpra session in the HTML5 client and then re-connect to the same session.\r\n\r\nTesting 4.1.2 I can no longer reconnect to an existing session. The session is still running (ps shows Xorg running, apps running) when I disconnect. A new Xorg, etc. are started when I try to reconnect.\r\n\r\nThe HTML5 client does have the \"Re-connect automatically to the session\" checkbox checked.\r\n\r\nXpra 4.1.2 from the xpra.org official repository:\r\nxpra-4.1.2-10.r78.el8.x86_64\r\nxpra-html5-4.1.2-1.noarch\r\n\r\nServer OS: RHEL 8.4\r\nClient Browser: Firefox 78.10.0esr", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3130/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3128", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3128/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3128/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3128/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3128", "id": 895028243, "node_id": "MDU6SXNzdWU4OTUwMjgyNDM=", "number": 3128, "title": "undecorate window causes a pointer offset on win10", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681259131, "node_id": "MDU6TGFiZWwyNjgxMjU5MTMx", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/upstream", "name": "upstream", "color": "fef2c0", "default": false, "description": ""}, {"id": 2681274986, "node_id": "MDU6TGFiZWwyNjgxMjc0OTg2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/geometry", "name": "geometry", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-05-19T06:09:12Z", "updated_at": "2021-05-19T11:49:59Z", "closed_at": "2021-05-19T10:35:57Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "1. Takes too much time to load for \"such a basic window\" (>1sec)\r\n2. \"decorate\" broken:\r\n\t1. press \"undecorate\", then\r\n\t4. press \"decorate\", then\r\n\t5. press \"decorate\" again\r\n\r\n\ud83d\ude00 ", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3128/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3123", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3123/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3123/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3123/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3123", "id": 885020035, "node_id": "MDU6SXNzdWU4ODUwMjAwMzU=", "number": 3123, "title": "client side memory leak", "user": {"login": "karlkleinpaste", "id": 7548920, "node_id": "MDQ6VXNlcjc1NDg5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7548920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karlkleinpaste", "html_url": "https://github.com/karlkleinpaste", "followers_url": "https://api.github.com/users/karlkleinpaste/followers", "following_url": "https://api.github.com/users/karlkleinpaste/following{/other_user}", "gists_url": "https://api.github.com/users/karlkleinpaste/gists{/gist_id}", "starred_url": "https://api.github.com/users/karlkleinpaste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karlkleinpaste/subscriptions", "organizations_url": "https://api.github.com/users/karlkleinpaste/orgs", "repos_url": "https://api.github.com/users/karlkleinpaste/repos", "events_url": "https://api.github.com/users/karlkleinpaste/events{/privacy}", "received_events_url": "https://api.github.com/users/karlkleinpaste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-05-10T20:15:17Z", "updated_at": "2021-07-13T18:03:35Z", "closed_at": "2021-07-13T18:03:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "i had noticed that my client system's main xpra process was growing severely over the course of a day. so i started a shell one-liner to sample it every half hour. it grows to many Gbytes and, left unattended, will succumb to the OOM killer. observe %MEM+VSZ+RSS.\r\n\r\ninstalled with `python3 ./setup.py install` as of `git pull` early this morning, but i've noticed it happening for a while. about a dozen windows were open, and not opening new ones during this time, nor closing any. (bunch of terminals, couple xemacs, zenity, nvidia-settings, ...)\r\n\r\n```\r\nMon May 10 07:20:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  2.1  7.2 5037996 3282320 pts/0 Sl   May07  90:31 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 07:50:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  2.2  9.0 5859316 4103728 pts/0 Sl   May07  92:16 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 08:20:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  2.2  9.4 6036796 4281904 pts/0 Sl   May07  92:57 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 08:50:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  2.2  9.6 6150800 4338560 pts/0 Sl   May07  93:38 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 09:20:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  2.2  9.8 6182940 4429340 pts/0 Sl   May07  94:16 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 09:50:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  2.2 10.2 6426304 4622008 pts/0 Sl   May07  95:00 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 10:20:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  2.2 10.9 6749452 4940036 pts/0 Sl   May07  95:59 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 10:50:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  2.3 16.9 9488156 7677376 pts/0 Rl   May07 100:42 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 11:20:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  2.4 19.9 10844320 9027892 pts/0 Sl  May07 106:40 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 11:50:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  2.5 23.0 12205196 10396988 pts/0 Sl May07 112:22 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 12:20:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  2.6 25.6 13415244 11600440 pts/0 Sl May07 118:24 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 12:50:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  2.7 30.3 15503772 13700676 pts/0 Sl May07 124:21 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 13:20:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  2.8 33.7 17064076 15250796 pts/0 Sl May07 130:06 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 13:50:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  2.9 37.5 18777648 16972792 pts/0 Sl May07 135:51 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 14:20:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  3.0 39.5 19691312 17883036 pts/0 Sl May07 139:26 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 14:50:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  3.0 40.4 20022820 18270112 pts/0 Sl May07 141:10 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n\r\nMon May 10 15:20:53 EDT 2021\r\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nkkleinpa 22787  3.0 43.8 21618876 19803616 pts/0 Sl May07 142:52 /usr/bin/python3 /usr/local/bin/xpra start ssh://chqkkleinpa/43 --start-child=vglrun mate-terminal\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3123/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3123/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3122", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3122/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3122/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3122/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3122", "id": 883892962, "node_id": "MDU6SXNzdWU4ODM4OTI5NjI=", "number": 3122, "title": "maximized windows do not like being click-drag-moved to a new monitor", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709864, "node_id": "MDU6TGFiZWwyNjc4NzA5ODY0", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on"}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}, {"id": 2681259131, "node_id": "MDU6TGFiZWwyNjgxMjU5MTMx", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/upstream", "name": "upstream", "color": "fef2c0", "default": false, "description": ""}, {"id": 2681274986, "node_id": "MDU6TGFiZWwyNjgxMjc0OTg2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/geometry", "name": "geometry", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-05-10T10:11:01Z", "updated_at": "2021-05-10T17:51:41Z", "closed_at": "2021-05-10T16:48:28Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "C: Win10 / S:Focal\r\n\r\nRepro with:\r\n\r\n- 2 monitors\r\n- Maximize X on one monitor\r\n- Click-drag-move from the title bar to the top of the other monitor (in Windows that will maximize the window on the monitor that the title bar was \"pushed\" to the top)\r\n\r\nExpected:\r\nWindow is moved to the other monitor and remains maximized\r\n\r\nActual:\r\nWindow remains on the original monitor", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3122/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3108", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3108/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3108/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3108/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3108", "id": 875065133, "node_id": "MDU6SXNzdWU4NzUwNjUxMzM=", "number": 3108, "title": "xpra-html5 application menu empty (Debian10)", "user": {"login": "olifre", "id": 166759, "node_id": "MDQ6VXNlcjE2Njc1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/166759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olifre", "html_url": "https://github.com/olifre", "followers_url": "https://api.github.com/users/olifre/followers", "following_url": "https://api.github.com/users/olifre/following{/other_user}", "gists_url": "https://api.github.com/users/olifre/gists{/gist_id}", "starred_url": "https://api.github.com/users/olifre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olifre/subscriptions", "organizations_url": "https://api.github.com/users/olifre/orgs", "repos_url": "https://api.github.com/users/olifre/repos", "events_url": "https://api.github.com/users/olifre/events{/privacy}", "received_events_url": "https://api.github.com/users/olifre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2021-05-03T21:32:51Z", "updated_at": "2021-07-14T14:07:20Z", "closed_at": "2021-07-14T14:07:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is probably a user error, but since I am out of ideas, I'm reporting here:\r\nConnecting to a running xpra 4.1.2 server with an 4.1.2 client, the epplication menu is completely empty. \r\n\r\nTrying the helper directly shows:\r\n```\r\n$ python3  /usr/lib/python3/dist-packages/xpra/platform/xposix/xdg_helper.py\r\n2021-05-03 23:26:24,014 loaded 6 start menu entries from 1 sub-menus in 0.5 seconds\r\n* Applications\r\n  - Comment                       : \r\n  - Entries\r\n  - GenericName                   : \r\n  - Icon                          : debian-applications\r\n  - Name                          : Applications\r\n  - Path                          : Applications\r\n```\r\nThis is a rather minimal Debian 10 container, with `xpra`, some editors, an `xterm` and other basic needs installed. \r\nI also added `menu-xdg` and `hicolor-icon-theme` but to no avail. \r\n\r\nI can confirm `/var/lib/menu-xdg` appears to be filled:\r\n```\r\n...\r\n/var/lib/menu-xdg/desktop-directories/menu-xdg/debian-applications-shells.directory\r\n/var/lib/menu-xdg/desktop-directories/menu-xdg/debian-applications-system-hardware.directory\r\n/var/lib/menu-xdg/desktop-directories/menu-xdg/debian-applications-programming.directory\r\n/var/lib/menu-xdg/menus\r\n/var/lib/menu-xdg/menus/debian-menu.menu\r\n/var/lib/menu-xdg/applications\r\n/var/lib/menu-xdg/applications/menu-xdg\r\n/var/lib/menu-xdg/applications/menu-xdg/X-Debian-Applications-Science-Mathematics-bc.desktop\r\n/var/lib/menu-xdg/applications/menu-xdg/X-Debian-Applications-System-Monitoring-top.desktop\r\n...\r\n```\r\n\r\nAm I missing a package / preparatory step to make the application menu work? \r\nAlso. please feel free to redirect me to the `pyxdg` developers if this turns out to be an issue there. ", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3108/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3105", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3105/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3105/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3105/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3105", "id": 872213087, "node_id": "MDU6SXNzdWU4NzIyMTMwODc=", "number": 3105, "title": "Jetbrains' \"Search Everywhere\" window ends up stale/unrendered", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709860, "node_id": "MDU6TGFiZWwyNjc4NzA5ODYw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}, {"id": 2681274986, "node_id": "MDU6TGFiZWwyNjgxMjc0OTg2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/geometry", "name": "geometry", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2021-04-30T09:22:43Z", "updated_at": "2021-05-20T11:10:20Z", "closed_at": "2021-05-20T07:46:38Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "_There must be another issue like that somewhere, but I cannot find it_\r\n\r\n\"Search Everywhere\" window ends up stale/unrendered partially.\r\n\r\n![xpra-2021-04-16_11-40-39](https://user-images.githubusercontent.com/133706/116674820-cab18500-a9ad-11eb-89de-e8d60cd19726.png)\r\n\r\nThe window appears to be rendered only \"the very first instance\" it appears, and when it becomes the size it will be etc, it seems that only the \"new extra part\" will continue being rendered.\r\n\r\nThe purple background (and the two lines above it) are accurate representations of how rendering looks like. Purple is the `gnome-terminal` background, which happened to be empty; however, even a video from another app (e.g. a browser on the client outside xpra) will be shown there - it is as if there is no window where the purple box is, and as if the two lines above the purple box are frozen.\r\n\r\n\"Nominal setup\": S:Focal/C:Win10, xpra v4.1.x both, 2 monitors on client.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3105/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3096", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3096/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3096/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3096/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3096", "id": 867080760, "node_id": "MDU6SXNzdWU4NjcwODA3NjA=", "number": 3096, "title": "Fedora packaging: xrdb obsoletes xorg-x11-server-utils", "user": {"login": "mjlbach", "id": 13316262, "node_id": "MDQ6VXNlcjEzMzE2MjYy", "avatar_url": "https://avatars.githubusercontent.com/u/13316262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjlbach", "html_url": "https://github.com/mjlbach", "followers_url": "https://api.github.com/users/mjlbach/followers", "following_url": "https://api.github.com/users/mjlbach/following{/other_user}", "gists_url": "https://api.github.com/users/mjlbach/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjlbach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjlbach/subscriptions", "organizations_url": "https://api.github.com/users/mjlbach/orgs", "repos_url": "https://api.github.com/users/mjlbach/repos", "events_url": "https://api.github.com/users/mjlbach/events{/privacy}", "received_events_url": "https://api.github.com/users/mjlbach/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-04-25T18:31:38Z", "updated_at": "2021-04-26T16:19:24Z", "closed_at": "2021-04-26T07:42:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I recently updated to the fedora 34 beta. When I try to install the latest version of xpra, I get  the following dependency conflict (gnome3 depends on xrdb)\r\n\r\n```\r\nsudo wget -O /etc/yum.repos.d/xpra.repo https://xpra.org/repos/Fedora/xpra-beta.repo\r\n\u276f sudo dnf install xpra\r\nLast metadata expiration check: 0:13:36 ago on Sun 25 Apr 2021 11:17:05 AM PDT.\r\nError:\r\n Problem: problem with installed package pipewire-pulseaudio-0.3.26-1.fc34.x86_64\r\n  - package pipewire-pulseaudio-0.3.26-1.fc34.x86_64 conflicts with pulseaudio provided by pulseaudio-14.2-3.fc34.x86_64\r\n  - package pipewire-pulseaudio-0.3.26-1.fc34.x86_64 conflicts with pulseaudio-daemon provided by pulseaudio-14.2-3.fc34.x86_64\r\n  - package pulseaudio-14.2-3.fc34.x86_64 conflicts with pulseaudio-daemon provided by pipewire-pulseaudio-0.3.26-1.fc34.x86_64\r\n  - package pipewire-pulseaudio-0.3.25-1.fc34.x86_64 conflicts with pulseaudio provided by pulseaudio-14.2-3.fc34.x86_64\r\n  - package pipewire-pulseaudio-0.3.25-1.fc34.x86_64 conflicts with pulseaudio-daemon provided by pulseaudio-14.2-3.fc34.x86_64\r\n  - package pulseaudio-14.2-3.fc34.x86_64 conflicts with pulseaudio-daemon provided by pipewire-pulseaudio-0.3.25-1.fc34.x86_64\r\n  - package xpra-4.1.1-1.fc34.x86_64 requires pulseaudio, but none of the providers can be installed\r\n  - conflicting requests\r\n  - package xpra-4.1.2-10.r78.fc34.x86_64 requires python3-xpra-server = 4.1.2-10.r78.fc34, but none of the providers can be installed\r\n  - package xpra-4.1.3-10.r1.fc34.x86_64 requires python3-xpra-server = 4.1.3-10.r1.fc34, but none of the providers can be installed\r\n  - package xpra-4.1.2-10.r14.fc34.x86_64 requires python3-xpra-server = 4.1.2-10.r14.fc34, but none of the providers can be installed\r\n  - package xpra-4.2-10.r28636.fc34.x86_64 requires python3-xpra-server = 4.2-10.r28636.fc34, but none of the providers can be installed\r\n  - package xpra-4.2-10.r28638.fc34.x86_64 requires python3-xpra-server = 4.2-10.r28638.fc34, but none of the providers can be installed\r\n  - package xpra-4.2-10.r28641.fc34.x86_64 requires python3-xpra-server = 4.2-10.r28641.fc34, but none of the providers can be installed\r\n  - package xpra-4.2-10.r28667.fc34.x86_64 requires python3-xpra-server = 4.2-10.r28667.fc34, but none of the providers can be installed\r\n  - package xpra-4.2-10.r28703.fc34.x86_64 requires python3-xpra-server = 4.2-10.r28703.fc34, but none of the providers can be installed\r\n  - package xpra-4.2-10.r28760.fc34.x86_64 requires python3-xpra-server = 4.2-10.r28760.fc34, but none of the providers can be installed\r\n  - package xpra-4.2-10.r28834.fc34.x86_64 requires python3-xpra-server = 4.2-10.r28834.fc34, but none of the providers can be installed\r\n  - package xpra-4.2-10.r28862.fc34.x86_64 requires python3-xpra-server = 4.2-10.r28862.fc34, but none of the providers can be installed\r\n  - package xpra-4.2-10.r28877.fc34.x86_64 requires python3-xpra-server = 4.2-10.r28877.fc34, but none of the providers can be installed\r\n  - package xpra-4.2-10.r28878.fc34.x86_64 requires python3-xpra-server = 4.2-10.r28878.fc34, but none of the providers can be installed\r\n  - package xpra-4.2-10.r28886.fc34.x86_64 requires python3-xpra-server = 4.2-10.r28886.fc34, but none of the providers can be installed\r\n  - package xpra-4.2-10.r28905.fc34.x86_64 requires python3-xpra-server = 4.2-10.r28905.fc34, but none of the providers can be installed\r\n  - package xpra-4.2-10.r28916.fc34.x86_64 requires python3-xpra-server = 4.2-10.r28916.fc34, but none of the providers can be installed\r\n  - package xpra-4.2-10.r28924.fc34.x86_64 requires python3-xpra-server = 4.2-10.r28924.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.1.2-10.r78.fc34.x86_64 requires xpra-common-server = 4.1.2-10.r78.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.1.3-10.r1.fc34.x86_64 requires xpra-common-server = 4.1.3-10.r1.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.1.2-10.r14.fc34.x86_64 requires xpra-common-server = 4.1.2-10.r14.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.2-10.r28636.fc34.x86_64 requires xpra-common-server = 4.2-10.r28636.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.2-10.r28638.fc34.x86_64 requires xpra-common-server = 4.2-10.r28638.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.2-10.r28641.fc34.x86_64 requires xpra-common-server = 4.2-10.r28641.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.2-10.r28667.fc34.x86_64 requires xpra-common-server = 4.2-10.r28667.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.2-10.r28703.fc34.x86_64 requires xpra-common-server = 4.2-10.r28703.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.2-10.r28760.fc34.x86_64 requires xpra-common-server = 4.2-10.r28760.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.2-10.r28834.fc34.x86_64 requires xpra-common-server = 4.2-10.r28834.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.2-10.r28862.fc34.x86_64 requires xpra-common-server = 4.2-10.r28862.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.2-10.r28877.fc34.x86_64 requires xpra-common-server = 4.2-10.r28877.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.2-10.r28878.fc34.x86_64 requires xpra-common-server = 4.2-10.r28878.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.2-10.r28886.fc34.x86_64 requires xpra-common-server = 4.2-10.r28886.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.2-10.r28905.fc34.x86_64 requires xpra-common-server = 4.2-10.r28905.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.2-10.r28916.fc34.x86_64 requires xpra-common-server = 4.2-10.r28916.fc34, but none of the providers can be installed\r\n  - package python3-xpra-server-4.2-10.r28924.fc34.x86_64 requires xpra-common-server = 4.2-10.r28924.fc34, but none of the providers can be installed\r\n  - package xpra-common-server-4.1.2-10.r78.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.1.3-10.r1.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.1.2-10.r14.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.2-10.r28636.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.2-10.r28638.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.2-10.r28641.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.2-10.r28667.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.2-10.r28703.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.2-10.r28760.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.2-10.r28834.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.2-10.r28862.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.2-10.r28877.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.2-10.r28878.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.2-10.r28886.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.2-10.r28905.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.2-10.r28916.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - package xpra-common-server-4.2-10.r28924.fc34.noarch requires xorg-x11-server-utils, but none of the providers can be installed\r\n  - problem with installed package xrdb-1.1.1-2.fc34.x86_64\r\n  - installed package xrdb-1.1.1-2.fc34.x86_64 obsoletes xorg-x11-server-utils < 7.7-40 provided by xorg-x11-server-utils-7.7-39.fc34.x86_64\r\n  - package xrdb-1.1.1-2.fc34.x86_64 obsoletes xorg-x11-server-utils < 7.7-40 provided by xorg-x11-server-utils-7.7-39.fc34.x86_64\r\n(try to add '--allowerasing' to command line to replace conflicting packages or '--skip-broken' to skip uninstallable packages)\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3096/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3093", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3093/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3093/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3093/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3093", "id": 859771524, "node_id": "MDU6SXNzdWU4NTk3NzE1MjQ=", "number": 3093, "title": "Context.set_source_surface() argument 1 must be cairo.Surface, not None", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-04-16T12:31:41Z", "updated_at": "2021-04-30T02:48:57Z", "closed_at": "2021-04-16T14:11:31Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "```py\r\n\"Xpra-Python3-x86_64_4.2-r28905\\xpra_cmd\" attach ssh://user@ip/2 --ssh=\"plink -ssh -agent\" -d notify,bandwidth -d clipboard --modal-windows=no --title=\"@title@ on @@/@server-display@\" --headerbar=off --opengl=no --bandwidth-limit=6Mbps\r\n\r\nXPRA_EXECUTABLE=Xpra-Python3-x86_64_4.2-r28905\r\n\r\n2021-04-16 12:28:26,458 Xpra GTK3 client version 4.2 64-bit\r\n2021-04-16 12:28:26,465  running on Microsoft Windows 10\r\n2021-04-16 12:28:31,868 GStreamer version 1.18.4 for Python 3.8.9 64-bit\r\n2021-04-16 12:28:32,688 created named pipe 'Xpra\\2104'\r\n2021-04-16 12:28:33,284 keyboard layout code 0x409\r\n2021-04-16 12:28:33,301 identified as 'United States - English' : us\r\n2021-04-16 12:28:33,777 make_clipboardmenuitem()\r\n2021-04-16 12:28:34,452  keyboard settings: layout=us\r\n2021-04-16 12:28:34,477  desktop size is 4160x1440 with 1 screen:\r\n2021-04-16 12:28:34,482   Default (1100x381 mm - DPI: 96x96) workarea: 4160x1400\r\n2021-04-16 12:28:34,483     Generic PnP Monitor 1600x900 at 0x534 (309x174 mm - DPI: 132x131) workarea: 1600x860 at 0x534\r\n2021-04-16 12:28:34,484     C32JG5x 2560x1440 at 1600x0 (697x392 mm - DPI: 93x93) workarea: 2560x1400 at 1600x0\r\n2021-04-16 12:28:38,794 DISCARD_TARGETS=re.compile('^NeXT'), re.compile('^com\\\\.apple\\\\.'), re.compile('^CorePasteboardFlavorType'), re.compile('^dyn\\\\.'), re.compile('^resource-transfer-format'), re.compile('^x-special/')\r\n2021-04-16 12:28:38,800 DISCARD_EXTRA_TARGETS=re.compile('^SAVE_TARGETS$'), re.compile('^COMPOUND_TEXT'), re.compile('GTK_TEXT_BUFFER_CONTENTS')\r\n2021-04-16 12:28:38,801 server clipboard: supported=True, direction=both\r\n2021-04-16 12:28:38,803 client clipboard: supported=True, direction=both\r\n2021-04-16 12:28:38,804 parse_clipboard_caps() clipboard enabled=True\r\n2021-04-16 12:28:38,806 enabled remote logging\r\n2021-04-16 12:28:38,808 Xpra GTK3 X11 server version 4.2-r28886 64-bit\r\n2021-04-16 12:28:38,815  running on Linux Ubuntu 20.04 focal\r\n2021-04-16 12:28:38,817 process_ui_capabilities() clipboard_enabled=True\r\n\r\n....\r\n\r\n2021-04-16 11:36:46,154 server is OK again\r\nTraceback (most recent call last):\r\n  File \"E:\\xpra/xpra/client/gtk_base/cairo_backing_base.py\", line 210, in do_paint_scroll\r\nTypeError: Context.set_source_surface() argument 1 must be cairo.Surface, not None\r\nTraceback (most recent call last):\r\n  File \"E:\\xpra/xpra/client/gtk_base/cairo_backing_base.py\", line 210, in do_paint_scroll\r\nTypeError: Context.set_source_surface() argument 1 must be cairo.Surface, not None\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3093/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3093/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3089", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3089/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3089/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3089/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3089", "id": 855747482, "node_id": "MDU6SXNzdWU4NTU3NDc0ODI=", "number": 3089, "title": "'ClientConnectionMuxer' object has no attribute 'x'", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-04-12T09:12:03Z", "updated_at": "2021-04-30T03:19:28Z", "closed_at": "2021-04-12T15:30:21Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I cannot use xdg-open to transfer files, to open urls ... and a bunch of other stuff:\r\n![Screenshot from 2021-04-12 11-58-23](https://user-images.githubusercontent.com/133706/114370475-2eebe080-9b88-11eb-9ceb-8c0f71d430e8.png)\r\n![Screenshot from 2021-04-12 12-01-57](https://user-images.githubusercontent.com/133706/114370478-2f847700-9b88-11eb-8ec4-c3877002e146.png)\r\n![Screenshot from 2021-04-12 12-05-18](https://user-images.githubusercontent.com/133706/114370482-314e3a80-9b88-11eb-86ba-22b88f84f128.png)\r\n\r\nSorry, these are the only 2 crash reports I've found:\r\n[_usr_bin_xpra.1000.crash.zip](https://github.com/Xpra-org/xpra/files/6295340/_usr_bin_xpra.1000.crash.zip)\r\n[_usr_bin_xpra.1000-1.crash.zip](https://github.com/Xpra-org/xpra/files/6295342/_usr_bin_xpra.1000-1.crash.zip)\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3089/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3089/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3085", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3085/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3085/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3085/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3085", "id": 854654511, "node_id": "MDU6SXNzdWU4NTQ2NTQ1MTE=", "number": 3085, "title": "Quality rendering issues", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-04-09T16:00:28Z", "updated_at": "2021-05-18T14:41:24Z", "closed_at": "2021-05-18T14:35:36Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Since Focal, `xpra top` now shows constantly what the server is doing quality/speed/network wise.\r\nAWESOME! Now, if I ever see any qual....\r\n\r\n![Xpra_cmd_2021-04-09_09-57-56](https://user-images.githubusercontent.com/133706/114203968-544ad580-9961-11eb-9b56-b13577fe110f.png)\r\n![Xpra_cmd_2021-04-09_10-33-22](https://user-images.githubusercontent.com/133706/114204124-7fcdc000-9961-11eb-8f10-8cb525b5bd4a.png)\r\n![Xpra_cmd_2021-04-09_10-45-35](https://user-images.githubusercontent.com/133706/114204151-865c3780-9961-11eb-8b76-bc9844faf41d.png) (Here's the xterm we talked about \ud83d\ude09 https://github.com/Xpra-org/xpra/issues/3077#issuecomment-816561108)\r\n![Xpra_cmd_2021-04-09_10-46-25](https://user-images.githubusercontent.com/133706/114204157-8825fb00-9961-11eb-8e98-66f1e735a018.png)\r\n!!!\r\n\r\nThis reminds me of https://github.com/Xpra-org/xpra/issues/3042#issuecomment-815501496. You can _clearly_ see (pun intended), that the quality on the last one is 99% percent!\r\n\r\nI could constantly trigger this by maximizing the terminal on the screen.\r\nI think I was also able to clear it up by switching to another window; after I took the screenshot, the windows were crispy (I think I have mentioned this in another quality-related ticket, but I cannot find right now).\r\n\r\nPS: I just saw that in all of the screenshots, I have been using the 4.1.2 version, and not the latest and greatest \ud83d\ude15\r\n![Xpra_cmd_2021-04-09_10-30-46](https://user-images.githubusercontent.com/133706/114207774-6d558580-9965-11eb-837f-8760c544d370.png)\r\n_PPS: revision 2 \ud83d\ude1b_\r\n\r\nI think I triggered it in 4.2 too; but for some reason, I didn't take more screenshots \ud83d\ude15 \r\nI can try again on Monday.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3085/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3085/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3082", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3082/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3082/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3082/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3082", "id": 854446705, "node_id": "MDU6SXNzdWU4NTQ0NDY3MDU=", "number": 3082, "title": "vpx: vp9 encoding failed: failed to instantiate vp9 encoder with ABI version 23: Invalid parameter", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2021-04-09T11:42:40Z", "updated_at": "2022-03-21T12:04:38Z", "closed_at": "2021-04-09T14:39:51Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "```\r\n\"Xpra-Python3-x86_64_4.2-r28802\\xpra_cmd\" attach ssh://user@ip/4 --ssh=\"plink -ssh -agent\" --modal-windows=no --title=\"@title@ on @@/@server-display@\" --headerbar=off --opengl=no --bandwidth-limit=6Mbps\r\n\r\nXPRA_CUSTOM_TITLE_BAR=0\r\nXPRA_EXECUTABLE=Xpra-Python3-x86_64_4.2-r28802\r\nXPRA_REPAINT_ALL=1\r\nXPRA_SCROLL_ENCODING=0\r\n\r\n2021-04-09 14:00:59,885 Xpra GTK3 client version 4.2 64-bit\r\n2021-04-09 14:00:59,887  running on Microsoft Windows 10\r\n2021-04-09 14:01:01,193 GStreamer version 1.18.4 for Python 3.8.8 64-bit\r\n2021-04-09 14:01:01,456 created named pipe 'Xpra\\10768'\r\n2021-04-09 14:01:01,703 keyboard layout code 0x409\r\n2021-04-09 14:01:01,704 identified as 'United States - English' : us\r\n2021-04-09 14:01:02,864  keyboard settings: layout=us\r\n2021-04-09 14:01:02,873  desktop size is 4160x1440 with 1 screen:\r\n2021-04-09 14:01:02,874   Default (1100x381 mm - DPI: 96x96) workarea: 4160x1400\r\n2021-04-09 14:01:02,874     Generic PnP Monitor 1600x900 at 0x534 (309x174 mm - DPI: 132x131) workarea: 1600x860 at 0x534\r\n2021-04-09 14:01:02,877     C32JG5x 2560x1440 at 1600x0 (697x392 mm - DPI: 93x93) workarea: 2560x1400 at 1600x0\r\n2021-04-09 14:01:27,342 enabled remote logging\r\n2021-04-09 14:01:27,344 Xpra GTK3 X11 server version 4.2-r28836 64-bit\r\n2021-04-09 14:01:27,345  running on Linux Ubuntu 20.04 focal\r\n```\r\n\r\nand server contains:\r\n\r\n```\r\n     99 2021-04-09 12:48:27,175 vpx: vp9 encoding failed: failed to instantiate vp9 encoder with ABI version 23: Invalid parameter\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3082/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3077", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3077/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3077/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3077/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3077", "id": 854198529, "node_id": "MDU6SXNzdWU4NTQxOTg1Mjk=", "number": 3077, "title": "Ubuntu Focal has a hard time starting gnome-terminal", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-04-09T06:12:10Z", "updated_at": "2021-04-30T03:25:35Z", "closed_at": "2021-04-11T13:24:09Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Welcome from the Focal side!\r\n\r\n```console\r\n$ xpra start --use-display=auto :2\r\nWARNING: low display number: 2\r\n You are attempting to run the xpra server\r\n against a low X11 display number: ':2'.\r\n This is generally not what you want.\r\n You should probably use a higher display number\r\n just to avoid any confusion and this warning message.\r\nEntering daemon mode; any further errors will be reported to:\r\n  /run/user/1000/xpra/display-:2-20210409-090136.log\r\n$ vfb failed to start, exiting\r\n\r\n$ bat /run/user/1000/xpra/display-:2-20210409-090136.log\r\nInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1\r\n key2021-04-09 09:01:37,755 cannot access python uinput module:\r\n2021-04-09 09:01:37,756  No module named 'uinput'\r\n(EE) \r\nFatal server error:\r\n(EE) Server is already active for display 2\r\n    If this server is no longer running, remove /tmp/.X2-lock\r\n    and start again.\r\n(EE) \r\n2021-04-09 09:01:37,764 \r\n2021-04-09 09:01:37,764 Xvfb command has terminated! xpra cannot continue\r\n2021-04-09 09:01:37,764  if the display is already running, try a different one,\r\n2021-04-09 09:01:37,764  or use the --use-display flag\r\n2021-04-09 09:01:37,764  full command: Xvfb +extension GLX +extension Composite -screen 0  8192x4096x24+32 -nolisten tcp -noreset -auth $XAUTHORITY  -dpi 96\r\n2021-04-09 09:01:37,764 \r\n$ \r\n```\r\n\r\nIt seems that I have a leftover display from yesterday:\r\n```console\r\n$ ps faxu | grep ':2 '\r\nsntentos   13488  0.0  0.2 1738464 173048 ?      Ssl  \u0391\u03c0\u03c108   0:00  \\_ Xvfb-for-Xpra-:2 +extension GLX +extension Composite -screen 0 8192x4096x24+32 -nolisten tcp -noreset -auth /run/user/1000/gdm/Xauthority -dpi 96 :2\r\nsntentos  275899  0.0  0.0  11580   664 pts/4    S+   09:11   0:00      \\_ grep --color=auto :2 \r\n$ bat display-\\:2-20210408-160201.log \r\n2021-04-08 16:02:02,660 cannot access python uinput module:\r\n2021-04-08 16:02:02,660  No module named 'uinput'\r\nxpra main error:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 126, in main\r\n    return run_mode(script_file, err, options, args, mode, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 401, in run_mode\r\n    return do_run_mode(script_file, error_cb, options, args, mode, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 432, in do_run_mode\r\n    return run_server(script_file, error_cb, options, args, mode, defaults)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 2158, in run_server\r\n    return do_run_server(error_cb, options, mode, script_file, args, desktop_display, progress_cb)\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/server.py\", line 822, in do_run_server\r\n    no_gtk()\r\n  File \"/usr/lib/python3/dist-packages/xpra/scripts/main.py\", line 2322, in no_gtk\r\n    raise Exception(\"the Gtk module is already loaded: %s\" % Gtk)\r\nException: the Gtk module is already loaded: <GtkProxyModule <IntrospectionModule 'Gtk' from '/usr/lib/x86_64-linux-gnu/girepository-1.0/Gtk-3.0.typelib'>>\r\n```\r\n\r\nIf I start xterm first and then gnome-terminal, all is good!\r\n\r\nNote that forcing does not help:\r\n```console\r\n$ xpra --use-display=yes start :2\r\n$ cat /run/user/1000/xpra/display-\\:2-20210409-105347.log \r\nInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 keyInvalid MIT-MAGIC-COOKIE-1 key2021-04-09 10:53:50,137 Error: failed to connect to display :2\r\n2021-04-09 10:53:50,137  could not connect to X server on display ':2' after 3 seconds\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3077/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3077/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3076", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3076/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3076/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3076/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3076", "id": 853473867, "node_id": "MDU6SXNzdWU4NTM0NzM4Njc=", "number": 3076, "title": "kde apps file open makes app frozen", "user": {"login": "kuszinger", "id": 17589451, "node_id": "MDQ6VXNlcjE3NTg5NDUx", "avatar_url": "https://avatars.githubusercontent.com/u/17589451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuszinger", "html_url": "https://github.com/kuszinger", "followers_url": "https://api.github.com/users/kuszinger/followers", "following_url": "https://api.github.com/users/kuszinger/following{/other_user}", "gists_url": "https://api.github.com/users/kuszinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuszinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuszinger/subscriptions", "organizations_url": "https://api.github.com/users/kuszinger/orgs", "repos_url": "https://api.github.com/users/kuszinger/repos", "events_url": "https://api.github.com/users/kuszinger/events{/privacy}", "received_events_url": "https://api.github.com/users/kuszinger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709860, "node_id": "MDU6TGFiZWwyNjc4NzA5ODYw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-04-08T13:27:40Z", "updated_at": "2021-07-13T14:49:20Z", "closed_at": "2021-07-13T14:49:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\n\r\nKde apps (cloudcomapare, qgis) gets frozen after file open - it is kde file open dialog, I think.\r\nDialog opens, file selected, ok pressed. Dialog disappears but app stays frozen.\r\nHow could I debug further, check what the problem is?\r\n\r\nI don't know if it has any relevance, but both are flatpak distributed apps. flatpak list is at the end.\r\n\r\nThanks: Robert\r\n\r\n\r\nSERVER: \r\n```\r\n[kuszi@robert-aspire ~]$ xpra --version\r\nxpra v4.0.6-r28285\r\n[kuszi@robert-aspire ~]$ uname -a\r\nLinux robert-aspire 5.11.6-1-MANJARO #1 SMP PREEMPT Thu Mar 11 19:05:51 UTC 2021 x86_64 GNU/Linux\r\n```\r\n\r\nCLIENT:\r\nWIndows 10 4.1.2 client\r\n```\r\nPython 3.8, 64bit\r\nrevision 78\r\ncommit gb75b0f2c9 from v4.1.x branch\r\nwith 0 local changes\r\nbuilt on Win10-Build-VM by Windows 10 Test\r\n2021-04-06 20:32\r\nusing Cython 0.29.22\r\ngcc (Rev9, Built by MSYS2 project) 10.2.0\r\n\r\n```\r\n\r\n```\r\n\r\n[kuszi@robert-aspire ~]$ flatpak list\r\nN\u00e9v                                   Alkalmaz\u00e1sazonos\u00edt\u00f3                      Verzi\u00f3  \u00c1g     Installation\r\nAnyDesk                               com.anydesk.Anydesk                      6.1.0   stable system\r\nDBeaver Community                     io.dbeaver.DBeaverCommunity              21.0.1  stable system\r\nCloudCompare                          org.cloudcompare.CloudCompare                    stable system\r\nFreedesktop Platform                  org.freedesktop.Platform                 20.08.6 20.08  system\r\ndefault                               org.freedesktop.Platform.GL.default              20.08  system\r\nnvidia-460-39                         \u2026g.freedesktop.Platform.GL.nvidia-460-39         1.4    system\r\nnvidia-460-56                         \u2026g.freedesktop.Platform.GL.nvidia-460-56         1.4    system\r\nIntel                                 org.freedesktop.Platform.VAAPI.Intel             18.08  system\r\nIntel                                 org.freedesktop.Platform.VAAPI.Intel             20.08  system\r\nhtml5-codecs                          org.freedesktop.Platform.html5-codecs            18.08  system\r\nopenh264                              org.freedesktop.Platform.openh264        2.1.0   2.0    system\r\nGNOME Application Platform version 3\u2026 org.gnome.Platform                               3.38   system\r\nAdwaita theme                         org.kde.KStyle.Adwaita                           5.12   system\r\nAdwaita theme                         org.kde.KStyle.Adwaita                           5.15   system\r\nKDE Application Platform              org.kde.Platform                                 5.12   system\r\nKDE Application Platform              org.kde.Platform                                 5.15   system\r\nQGIS asztali alkalmaz\u00e1s               org.qgis.qgis                            3.18.1  stable system\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3076/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3076/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3075", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3075/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3075/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3075/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3075", "id": 852240230, "node_id": "MDU6SXNzdWU4NTIyNDAyMzA=", "number": 3075, "title": "Keyboard variant fails to be properly detected", "user": {"login": "vinipsmaker", "id": 865914, "node_id": "MDQ6VXNlcjg2NTkxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/865914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinipsmaker", "html_url": "https://github.com/vinipsmaker", "followers_url": "https://api.github.com/users/vinipsmaker/followers", "following_url": "https://api.github.com/users/vinipsmaker/following{/other_user}", "gists_url": "https://api.github.com/users/vinipsmaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinipsmaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinipsmaker/subscriptions", "organizations_url": "https://api.github.com/users/vinipsmaker/orgs", "repos_url": "https://api.github.com/users/vinipsmaker/repos", "events_url": "https://api.github.com/users/vinipsmaker/events{/privacy}", "received_events_url": "https://api.github.com/users/vinipsmaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681223172, "node_id": "MDU6TGFiZWwyNjgxMjIzMTcy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/keyboard", "name": "keyboard", "color": "F53A0A", "default": false, "description": ""}, {"id": 2685218208, "node_id": "MDU6TGFiZWwyNjg1MjE4MjA4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/X11", "name": "X11", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-04-07T10:00:56Z", "updated_at": "2021-04-07T16:04:11Z", "closed_at": "2021-04-07T16:04:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm running an ArchLinux box. X11 + awesomewm. X11 started through startx.\r\n\r\nHere's the output from `xpra/platform/keyboard.py`:\r\n\r\n```\r\nModifiers:\r\n* Alt_L                           : mod1\r\n* Caps_Lock                       : lock\r\n* Control_L                       : control\r\n* Control_R                       : control\r\n* Hyper_L                         : mod4\r\n* ISO_Level3_Shift                : mod5\r\n* Meta_L                          : mod1\r\n* Mode_switch                     : mod5\r\n* Num_Lock                        : mod2\r\n* Shift_L                         : shift\r\n* Shift_R                         : shift\r\n* Super_L                         : mod4\r\n* Super_R                         : mod4\r\n\r\nServer Managed                    : None\r\nMissing from pointer events       : mod2\r\n\r\nLayout:     'us'\r\nLayouts:    'us'\r\nVariant:    ''\r\nVariants:\r\nOptions:    caps:capslock\r\n\r\nRepeat:     660, 40\r\n```\r\n\r\nVariant should be colemak which is what I'm using right now.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3075/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3075/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3071", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3071/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3071/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3071/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3071", "id": 849555031, "node_id": "MDU6SXNzdWU4NDk1NTUwMzE=", "number": 3071, "title": "xpra upgrade forgets the server image codecs", "user": {"login": "allo-", "id": 1482341, "node_id": "MDQ6VXNlcjE0ODIzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1482341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allo-", "html_url": "https://github.com/allo-", "followers_url": "https://api.github.com/users/allo-/followers", "following_url": "https://api.github.com/users/allo-/following{/other_user}", "gists_url": "https://api.github.com/users/allo-/gists{/gist_id}", "starred_url": "https://api.github.com/users/allo-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allo-/subscriptions", "organizations_url": "https://api.github.com/users/allo-/orgs", "repos_url": "https://api.github.com/users/allo-/repos", "events_url": "https://api.github.com/users/allo-/events{/privacy}", "received_events_url": "https://api.github.com/users/allo-/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-04-03T01:55:41Z", "updated_at": "2021-04-06T04:44:26Z", "closed_at": "2021-04-06T04:44:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "After an \"xpra upgrade\", the server sends an empty list of picture codecs (At least the info window shows an empty list) and the client uses \"auto\", probably choosing an raw encoding.\r\n\r\n    2021-04-03 03:19:58,445 server does not support png/P encoding and has switched to auto\r\n\r\nXpra 4.1.1 on both sides installed using the debian packages provided by\r\n\r\n    deb https://xpra.org/ bullseye main\r\n\r\non the client and\r\n\r\n    deb https://xpra.org/ buster main\r\n\r\non the server side.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3071/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3071/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3067", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3067/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3067/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3067/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3067", "id": 846314022, "node_id": "MDU6SXNzdWU4NDYzMTQwMjI=", "number": 3067, "title": "xpra.service configuration (for proxy server) uses incorrect environment file path: Hence startup fails.", "user": {"login": "zerofino", "id": 24419916, "node_id": "MDQ6VXNlcjI0NDE5OTE2", "avatar_url": "https://avatars.githubusercontent.com/u/24419916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zerofino", "html_url": "https://github.com/zerofino", "followers_url": "https://api.github.com/users/zerofino/followers", "following_url": "https://api.github.com/users/zerofino/following{/other_user}", "gists_url": "https://api.github.com/users/zerofino/gists{/gist_id}", "starred_url": "https://api.github.com/users/zerofino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zerofino/subscriptions", "organizations_url": "https://api.github.com/users/zerofino/orgs", "repos_url": "https://api.github.com/users/zerofino/repos", "events_url": "https://api.github.com/users/zerofino/events{/privacy}", "received_events_url": "https://api.github.com/users/zerofino/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681229110, "node_id": "MDU6TGFiZWwyNjgxMjI5MTEw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/packaging", "name": "packaging", "color": "CACF75", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-03-31T09:49:08Z", "updated_at": "2021-04-06T17:26:39Z", "closed_at": "2021-04-06T17:26:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "File `/lib/systemd/system/xpra.service` shows:\r\n```\r\nEnvironmentFile=-/etc/sysconfig/xpra\r\n```\r\nBut there is no such path. Instead this one is found:\r\n```\r\n/etc/xpra/xpra.conf\r\n```\r\nThe last is rather empty and should be used to define the environment variables used later in the service specification file, I guess.\r\nCorrection seemed to operate as logs tell, but my system still has more configuration errors before it could run. ", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3067/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3067/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3060", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3060/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3060/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3060/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3060", "id": 837938704, "node_id": "MDU6SXNzdWU4Mzc5Mzg3MDQ=", "number": 3060, "title": "get the correct vertical refresh rate from xrandr", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2685218208, "node_id": "MDU6TGFiZWwyNjg1MjE4MjA4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/X11", "name": "X11", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-22T17:13:45Z", "updated_at": "2021-03-23T10:34:15Z", "closed_at": "2021-03-23T10:34:15Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "As per [Discrepancy between command line XRandR and own code](https://stackoverflow.com/a/38222346/428751), it looks like we need to enumerate the outputs and get the refresh rate from there.\r\n\r\n\r\n```\r\nstatic double\r\nmode_refresh (XRRModeInfo *mode_info)\r\n{\r\n    double rate;\r\n    \r\n    if (mode_info->hTotal && mode_info->vTotal)\r\n\trate = ((double) mode_info->dotClock /\r\n\t\t((double) mode_info->hTotal * (double) mode_info->vTotal));\r\n    else\r\n    \trate = 0;\r\n    return rate;\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3060/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3060/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3043", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3043/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3043/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3043/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3043", "id": 823603255, "node_id": "MDU6SXNzdWU4MjM2MDMyNTU=", "number": 3043, "title": "python-zeroconf API breakage", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-03-06T09:14:44Z", "updated_at": "2021-03-06T09:48:37Z", "closed_at": "2021-03-06T09:48:37Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "More of a problem now that `python3-avahi` has been dropped from Fedora.\r\n\r\nNot the first time they break the API either: #2317\r\n\r\nThis shows up as:\r\n```\r\nDNSText(\r\n  File \"/usr/lib/python3.9/site-packages/zeroconf/__init__.py\", line 648, in __init__\r\n    assert isinstance(text, (bytes, type(None))), \"invalid text: %s (%s)\" % (text, type(text))\r\nAssertionError: invalid text: 0 (<class 'int'>)\r\n```\r\n\r\nBecause we use positional arguments, and the order has changed!", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3043/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3043/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3040", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3040/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3040/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3040/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3040", "id": 821082451, "node_id": "MDU6SXNzdWU4MjEwODI0NTE=", "number": 3040, "title": "Xpra 4.1: SSH does not work on Windows 10 Client", "user": {"login": "shururuun", "id": 50909729, "node_id": "MDQ6VXNlcjUwOTA5NzI5", "avatar_url": "https://avatars.githubusercontent.com/u/50909729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shururuun", "html_url": "https://github.com/shururuun", "followers_url": "https://api.github.com/users/shururuun/followers", "following_url": "https://api.github.com/users/shururuun/following{/other_user}", "gists_url": "https://api.github.com/users/shururuun/gists{/gist_id}", "starred_url": "https://api.github.com/users/shururuun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shururuun/subscriptions", "organizations_url": "https://api.github.com/users/shururuun/orgs", "repos_url": "https://api.github.com/users/shururuun/repos", "events_url": "https://api.github.com/users/shururuun/events{/privacy}", "received_events_url": "https://api.github.com/users/shururuun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2021-03-03T12:52:21Z", "updated_at": "2021-03-05T11:19:41Z", "closed_at": "2021-03-05T11:19:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "When connecting from a Xpra 4.1 Windows 10 Client (64 bit) to a Debian Server via SSH the Xpra client window gets the following error message:\r\n```\r\n_getfullpathname: path should be string, bytes or os.PathLike, not bool\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3040/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3040/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3039", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3039/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3039/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3039/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3039", "id": 820071716, "node_id": "MDU6SXNzdWU4MjAwNzE3MTY=", "number": 3039, "title": "vaapi crash in ffmpeg encoder", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2", "html_url": "https://github.com/Xpra-org/xpra/milestone/2", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2/labels", "id": 6344097, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5Nw==", "number": 2, "title": "4.2", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 50, "closed_issues": 32, "state": "closed", "created_at": "2021-01-23T13:28:45Z", "updated_at": "2023-03-26T13:59:45Z", "due_on": "2021-05-01T07:00:00Z", "closed_at": "2021-07-15T06:54:30Z"}, "comments": 1, "created_at": "2021-03-02T14:29:39Z", "updated_at": "2021-03-07T14:53:03Z", "closed_at": "2021-03-06T17:00:24Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Reproducible with just `xpra/codecs/loader.py`.\r\n\r\n```\r\n2385\t        vaDestroyContext(ctx->hwctx->display, ctx->va_context);\r\n```\r\n\r\n```\r\nTraceback (most recent call first):\r\n  <built-in method init_encoder of xpra.codecs.enc_ffmpeg.encoder.Encoder object at remote 0x7fffe8f74f20>\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/codecs/codec_checks.py\", line 218, in do_testencoding\r\n    e.init_context(W, H, cs_in, [cs_out], encoding, 0, 100, (1, 1), options)\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/codecs/codec_checks.py\", line 147, in testencoding\r\n    do_testencoding(encoder_module, encoding, W, H, full)\r\n  File \"/usr/lib64/python3.9/site-packages/xpra/codecs/codec_checks.py\", line 132, in testencoder\r\n    testencoding(encoder_module, encoding, full)\r\n  <built-in function selftest>\r\n  File \"/home/antoine/projects/xpra-git/./xpra/codecs/loader.py\", line 71, in codec_import_check\r\n    selftest(FULL_SELFTEST)\r\n  File \"/home/antoine/projects/xpra-git/./xpra/codecs/loader.py\", line 141, in xpra_codec_import\r\n    if codec_import_check(name, description, xpra_top_module, xpra_class_module, classname):\r\n  File \"/home/antoine/projects/xpra-git/./xpra/codecs/loader.py\", line 183, in load_codec\r\n    xpra_codec_import(name, description, top_module, class_module, classnames)\r\n  File \"/home/antoine/projects/xpra-git/./xpra/codecs/loader.py\", line 192, in load\r\n    load_codec(name)\r\n  File \"/home/antoine/projects/xpra-git/./xpra/codecs/loader.py\", line 199, in load_codecs\r\n    load(*ENCODER_VIDEO_CODECS)\r\n  File \"/home/antoine/projects/xpra-git/./xpra/codecs/loader.py\", line 317, in main\r\n    load_codecs()\r\n  File \"/home/antoine/projects/xpra-git/./xpra/codecs/loader.py\", line 871, in <module>\r\n```\r\n\r\n```\r\nThread 1 \"python3\" received signal SIGSEGV, Segmentation fault.\r\n0x00007fff9456965d in ff_vaapi_encode_close (avctx=0x5555564c1dc0) at libavcodec/vaapi_encode.c:2385\r\n2385\t        vaDestroyContext(ctx->hwctx->display, ctx->va_context);\r\n(gdb) bt\r\n#0  0x00007fff9456965d in ff_vaapi_encode_close (avctx=0x5555564c1dc0) at libavcodec/vaapi_encode.c:2385\r\n#1  0x00007fff947c0aad in avcodec_open2 (avctx=0x5555564c1dc0, codec=0x7fff94aa2de0 <ff_vp8_vaapi_encoder>, options=options@entry=0x7fffffffbbf0) at libavcodec/utils.c:1022\r\n#2  0x00007fffe42426e9 in __pyx_pf_4xpra_6codecs_10enc_ffmpeg_7encoder_7Encoder_8init_encoder\r\n    (__pyx_v_self=<optimized out>, __pyx_v_quality=<optimized out>, __pyx_v_options=<optimized out>, __pyx_v_speed=<optimized out>) at xpra/codecs/enc_ffmpeg/encoder.c:15867\r\n#3  0x00007ffff7d66d49 in cfunction_call\r\n    (func=<built-in method init_encoder of xpra.codecs.enc_ffmpeg.encoder.Encoder object at remote 0x7fffe8f74f20>, args=<optimized out>, kwargs=<optimized out>)\r\n    at /usr/src/debug/python3.9-3.9.2-1.fc33.x86_64/Objects/methodobject.c:539\r\n#4  0x00007fffe421119e in __Pyx_PyObject_Call\r\n    (func=<built-in method init_encoder of xpra.codecs.enc_ffmpeg.encoder.Encoder object at remote 0x7fffe8f74f20>, arg=(0, 100, <typedict at remote 0x7fffe8f9f180>), kw=0x0)\r\n    at xpra/codecs/enc_ffmpeg/encoder.c:28952\r\n#5  0x00007fffe4234d3d in __pyx_pf_4xpra_6codecs_10enc_ffmpeg_7encoder_7Encoder_init_context\r\n    (__pyx_v_dst_formats=<optimized out>, __pyx_v_scaling=<optimized out>, __pyx_v_options=<typedict at remote 0x7fffe8f9f180>, __pyx_v_speed=100, __pyx_v_quality=0, __pyx_v_encoding=<optimized out>, __pyx_v_src_format=<optimized out>, __pyx_v_height=<optimized out>, __pyx_v_width=<optimized out>, __pyx_v_self=0x7fffe8f74f20) at xpra/codecs/enc_ffmpeg/encoder.c:11468\r\n#6  __pyx_pw_4xpra_6codecs_10enc_ffmpeg_7encoder_7Encoder_1init_context\r\n    (__pyx_v_self=<xpra.codecs.enc_ffmpeg.encoder.Encoder at remote 0x7fffe8f74f20>, __pyx_args=<optimized out>, __pyx_kwds=<optimized out>) at xpra/codecs/enc_ffmpeg/encoder.c:10325\r\n```\r\n\r\nThis was working fine previously... so some update must have broken it.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3039/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3039/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3023", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3023/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3023/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3023/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3023", "id": 811993542, "node_id": "MDU6SXNzdWU4MTE5OTM1NDI=", "number": 3023, "title": "Error: avcodec error decoding 217270 bytes of h264 data: 'no picture'", "user": {"login": "stdedos", "id": 133706, "node_id": "MDQ6VXNlcjEzMzcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/133706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdedos", "html_url": "https://github.com/stdedos", "followers_url": "https://api.github.com/users/stdedos/followers", "following_url": "https://api.github.com/users/stdedos/following{/other_user}", "gists_url": "https://api.github.com/users/stdedos/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdedos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdedos/subscriptions", "organizations_url": "https://api.github.com/users/stdedos/orgs", "repos_url": "https://api.github.com/users/stdedos/repos", "events_url": "https://api.github.com/users/stdedos/events{/privacy}", "received_events_url": "https://api.github.com/users/stdedos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-02-19T12:44:12Z", "updated_at": "2021-05-18T14:19:17Z", "closed_at": "2021-05-18T14:16:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Once in a blue moon:\r\n\r\n```console\r\n$ \"Xpra-Python3-x86_64_4.1-r28319\\xpra_cmd\" attach ssh://user@ip/3 --ssh=\"plink -ssh -agent\" --modal-windows=no --title=\"@title@ on @@/@server-display@\" --headerbar=off --opengl=no --bandwidth-limit=6Mbps\r\n\r\nXPRA_CUSTOM_TITLE_BAR=0\r\nXPRA_EXECUTABLE=Xpra-Python3-x86_64_4.1-r28319\r\nXPRA_REPAINT_ALL=1\r\nXPRA_SCROLL_ENCODING=0\r\n\r\n2021-02-01 09:47:21,910 Xpra GTK3 client version 4.1-r28319 64-bit\r\n2021-02-01 09:47:21,912  running on Microsoft Windows 10\r\n2021-02-01 09:47:23,659 GStreamer version 1.18.1 for Python 3.8.7 64-bit\r\n2021-02-01 09:47:24,456 created named pipe 'Xpra\\14928'\r\n2021-02-01 09:47:25,414 keyboard layout code 0x409\r\n2021-02-01 09:47:25,415 identified as 'United States - English' : us\r\n2021-02-01 09:47:25,792  keyboard settings: layout=us\r\n2021-02-01 09:47:25,795  desktop size is 4160x1440 with 1 screen:\r\n2021-02-01 09:47:25,796   Default (1100x381 mm - DPI: 96x96) workarea: 4160x1400\r\n2021-02-01 09:47:25,796     Generic PnP Monitor 1600x900 at 0x534 (309x174 mm - DPI: 132x131) workarea: 1600x860 at 0x534\r\n2021-02-01 09:47:25,797     C32JG5x 2560x1440 at 1600x0 (697x392 mm - DPI: 93x93) workarea: 2560x1400 at 1600x0\r\n2021-02-01 09:47:43,200 enabled remote logging\r\n2021-02-01 09:47:43,201 Xpra GTK3 X11 server version 3.0.13-r28292 64-bit\r\n2021-02-01 09:47:43,202  running on Linux Ubuntu 16.04 xenial\r\n2021-02-01 09:47:43,208 Attached to ip:22\r\n2021-02-01 09:47:43,215  (press Control-C to detach)\r\n\r\n\r\n(xpra_cmd:14928): Pango-WARNING **: 09:47:43.981: couldn't load font \"Bitstream Vera Sans Not-Rotated 14.662109375\", falling back to \"Sans Not-Rotated 14.662109375\", expect ugly output.\r\n2021-02-01 09:47:45,005 UI thread is now blocked\r\n2021-02-01 09:47:45,064 UI thread is running again, resuming\r\n2021-02-01 09:48:46,778 Warning: static gravity is not handled\r\n2021-02-01 10:00:29,878 Error: avcodec error decoding 217270 bytes of h264 data:\r\n2021-02-01 10:00:29,881  'no picture'\r\n2021-02-01 10:00:29,882  frame 0\r\n2021-02-01 10:00:29,883  frame options:\r\n2021-02-01 10:00:29,884                 delayed = 1\r\n2021-02-01 10:00:29,885                     csc = YUV444P\r\n2021-02-01 10:00:29,886                    type = IDR\r\n2021-02-01 10:00:29,887                   frame = 0\r\n2021-02-01 10:00:29,888             window-size = 1124, 822\r\n2021-02-01 10:00:29,891                     pts = 0\r\n2021-02-01 10:00:29,893                   paint = False\r\n2021-02-01 10:00:29,894                encoding = h264\r\n2021-02-01 10:00:29,895  decoder state:\r\n2021-02-01 10:00:29,896                 version = 58, 91, 100\r\n2021-02-01 10:00:29,897                encoding = h264\r\n2021-02-01 10:00:29,898                 formats = YUV420P, YUV422P, YUV444P, RGB, XRGB, BGRX, ARGB, BGRA, GBRP, GBRP10, YUV444P10, r210, YUV444P10\r\n2021-02-01 10:00:29,899                    type = avcodec\r\n2021-02-01 10:00:29,900                  frames = 0\r\n2021-02-01 10:00:29,903                   width = 940\r\n2021-02-01 10:00:29,904                  height = 658\r\n2021-02-01 10:00:29,905              colorspace = YUV444P\r\n2021-02-01 10:00:29,906       actual_colorspace = YUV444P\r\n2021-02-01 10:00:29,907           decoder_width = 940\r\n2021-02-01 10:00:29,908          decoder_height = 658\r\n```", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3023/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3008", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3008/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3008/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3008/events", "html_url": "https://github.com/Xpra-org/xpra/issues/3008", "id": 794406126, "node_id": "MDU6SXNzdWU3OTQ0MDYxMjY=", "number": 3008, "title": "workaround paramiko bug", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2021-01-26T17:08:12Z", "updated_at": "2021-01-26T17:11:02Z", "closed_at": "2021-01-26T17:11:02Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "On Fedora 33 with `python3-paramiko-2.7.2-1.fc33.noarch`:\r\n```\r\n>>> from paramiko import SSHConfig, ProxyCommand\r\n>>> ssh_config = SSHConfig()\r\n>>> import os\r\n>>> user_config_file = os.path.expanduser(\"~/.ssh/config\")\r\n>>> with open(user_config_file) as f:\r\n>>>     ssh_config.parse(f)\r\n>>> ssh_config.get_hostnames()\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/lib/python3.9/site-packages/paramiko/config.py\", line 322, in get_hostnames\r\n    hosts.update(entry[\"host\"])\r\nKeyError: 'host'\r\n```\r\n\r\nThis causes ssh connections to fail.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/3008/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/3008/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2988", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2988/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2988/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2988/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2988", "id": 792162753, "node_id": "MDU6SXNzdWU3OTIxNjI3NTM=", "number": 2988, "title": "icons not honoured with gnome-shell on wayland", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/3", "html_url": "https://github.com/Xpra-org/xpra/milestone/3", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/3/labels", "id": 6344098, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5OA==", "number": 3, "title": "5.0", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 51, "closed_issues": 12, "state": "open", "created_at": "2021-01-23T13:28:56Z", "updated_at": "2023-03-26T13:32:20Z", "due_on": "2022-01-01T08:00:00Z", "closed_at": null}, "comments": 2, "created_at": "2020-12-27T06:21:58Z", "updated_at": "2022-07-09T15:29:00Z", "closed_at": "2022-07-09T15:29:00Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I'm sure this happened before.\r\n\r\nSince [r12369](../commit/0c2b145a63bd92ec6c72cdb3ae3381a25618f0ce), we can save the icons using `XPRA_SAVE_WINDOW_ICONS=1` and to be safe, disable the icon overlay with `XPRA_ICON_OVERLAY=0`.\r\nSure enough, the icon saved is the correct one.\r\n\r\nI don't think that #2727 is relevant here: it should already be fixed, and wouldn't affect just wayland.\r\n\r\nMaybe related to [r15826](../commit/0d8d8e285b8c049c0e58ebd93bb5cdbcb479d4a3)?\r\n\r\nIt looks to me like wayland decides to use a single icon for all the windows we create, no matter what icon we specify for them.\r\nMaybe we can somehow tell it not to do that?\r\nUsing [Gtk.Application](https://lazka.github.io/pgi-docs/Gtk-3.0/classes/Application.html#Gtk.Application) perhaps? [gtk-3-tutorial : application](https://python-gtk-3-tutorial.readthedocs.io/en/latest/application.html)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2988/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2988/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2987", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2987/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2987/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2987/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2987", "id": 792162737, "node_id": "MDU6SXNzdWU3OTIxNjI3Mzc=", "number": 2987, "title": "screen resize causes crash", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-26T13:52:26Z", "updated_at": "2021-07-17T12:26:39Z", "closed_at": "2021-07-17T12:26:39Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Seen it with a win32 client connected to a Fedora seamless xterm.\r\n\r\nSimply resizing the virtualbox VM's display window causes the server to exit without any warnings or errors.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2987/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2987/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2977", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2977/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2977/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2977/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2977", "id": 792162209, "node_id": "MDU6SXNzdWU3OTIxNjIyMDk=", "number": 2977, "title": "The A-key repeated after changing the Input Source of macOS", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681223172, "node_id": "MDU6TGFiZWwyNjgxMjIzMTcy", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/keyboard", "name": "keyboard", "color": "F53A0A", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/3", "html_url": "https://github.com/Xpra-org/xpra/milestone/3", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/3/labels", "id": 6344098, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5OA==", "number": 3, "title": "5.0", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 51, "closed_issues": 12, "state": "open", "created_at": "2021-01-23T13:28:56Z", "updated_at": "2023-03-26T13:32:20Z", "due_on": "2022-01-01T08:00:00Z", "closed_at": null}, "comments": 4, "created_at": "2020-12-11T11:41:27Z", "updated_at": "2021-02-24T04:03:07Z", "closed_at": "2021-02-24T04:03:07Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "*Issue migrated from trac ticket # 2977*\n\n**component:** keyboard | **priority:** major\n\n#### 2020-12-11 11:41:27: toshi created the issue\n\n\n___\n> I attach the server from Mac mini (M1, 2020) and entered the A-key in the xterm of the server.  The A-key input get repeated, after I change the Input Source (default is Cmd + Space) of macOS.  The A-key is ignored, after the repeating is interrupted.  If I kill the xpra and then reattach, it will recover.\n> ", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2977/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2977/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2905", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2905/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2905/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2905/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2905", "id": 792159874, "node_id": "MDU6SXNzdWU3OTIxNTk4NzQ=", "number": 2905, "title": "xpra shadow server dies and drives 400% CPU", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2679177839, "node_id": "MDU6TGFiZWwyNjc5MTc3ODM5", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/v3.0.x", "name": "v3.0.x", "color": "ededed", "default": false, "description": null}, {"id": 2681222920, "node_id": "MDU6TGFiZWwyNjgxMjIyOTIw", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/shadow", "name": "shadow", "color": "850885", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-10-16T11:28:14Z", "updated_at": "2021-07-17T14:17:27Z", "closed_at": "2021-07-17T14:17:27Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "*Issue migrated from trac ticket # 2905*\n\n**component:** server | **priority:** major\n\n#### 2020-10-16 11:28:14: stdedos created the issue\n\n\n___\n> Server v3.0.12-[r27620](../commit/7eac9a9d283d837589e80430ee4d1c2f49470a3f) started with:\n> \n> ```\n> \"Xpra-Python3-x86_64_4.1-27676\\xpra_cmd\" shadow ssh://user@ip/0 --ssh=\"plink -ssh -agent\" -d ssh --env=XPRA_SHADOW_REFRESH_DELAY=200 --title=\"@title@ on @@/@server-display@\" --opengl=no --bandwidth-limit=6Mbps --desktop-scaling=0.75 --webcam=no --speaker=off --microphone=off --pulseaudio=no\n> \n> args=--ssh=\"plink -ssh -agent\" -d ssh --env=XPRA_SHADOW_REFRESH_DELAY=200 --title=\"@title@ on @@/@server-display@\" --opengl=no --bandwidth-limit=6Mbps --desktop-scaling=0.75 --webcam=no --speaker=off --microphone=off --pulseaudio=no\n> XPRA_CUSTOM_TITLE_BAR=0\n> XPRA_EXECUTABLE=Xpra-Python3-x86_64_4.1-27676\n> XPRA_NETWORK_ADAPTER_TYPE=wifi\n> XPRA_SCROLL_ENCODING=0\n> \n> 2020-10-16 13:25:23,032 parse_ssh_string(plink -ssh -agent)\n> 2020-10-16 13:25:24,148 Xpra GTK3 client version 4.1-27676 64-bit\n> 2020-10-16 13:25:24,153  running on Microsoft Windows 10\n> 2020-10-16 13:25:25,612 GStreamer version 1.18.0 for Python 3.8.6 64-bit\n> 2020-10-16 13:25:26,174 created named pipe 'Xpra\\5392'\n> 2020-10-16 13:25:26,514 keyboard layout code 0x409\n> 2020-10-16 13:25:26,514 identified as 'United States - English' : us\n> 2020-10-16 13:25:26,643 executing ssh command: \"plink\" \"-ssh\" \"-agent\" \"-l\" \"sntentos\" \"-T\" \"172.16.57.121\" \"sh -c 'if [ -x $XDG_RUNTIME_DIR/xpra/run-xpra ]; then $XDG_RUNTIME_DIR/xpra/run-xpra _proxy_shadow_start \":0\" \"--opengl=no\" \"--title=@title@ on @@/@server-display@\" \"--bandwidth-limit=6Mbps\" \"--ssh=plink -ssh -agent\" \"--desktop-scaling=0.75\" \"--debug=ssh\" \"--speaker=off\" \"--env=XPRA_SHADOW_REFRESH_DELAY=200\";elif which \"xpra\" > /dev/null 2>&1; then xpra _proxy_shadow_start \":0\" \"--opengl=no\" \"--title=@title@ on @@/@server-display@\" \"--bandwidth-limit=6Mbps\" \"--ssh=plink -ssh -agent\" \"--desktop-scaling=0.75\" \"--debug=ssh\" \"--speaker=off\" \"--env=XPRA_SHADOW_REFRESH_DELAY=200\";elif [ -x /usr/local/bin/xpra ]; then /usr/local/bin/xpra _proxy_shadow_start \":0\" \"--opengl=no\" \"--title=@title@ on @@/@server-display@\" \"--bandwidth-limit=6Mbps\" \"--ssh=plink -ssh -agent\" \"--desktop-scaling=0.75\" \"--debug=ssh\" \"--speaker=off\" \"--env=XPRA_SHADOW_REFRESH_DELAY=200\";elif [ -x ~/.xpra/run-xpra ]; then ~/.xpra/run-xpra _proxy_shadow_start \":0\" \"--opengl=no\" \"--title=@title@ on @@/@server-display@\" \"--bandwidth-limit=6Mbps\" \"--ssh=plink -ssh -agent\" \"--desktop-scaling=0.75\" \"--debug=ssh\" \"--speaker=off\" \"--env=XPRA_SHADOW_REFRESH_DELAY=200\";elif [ -x Xpra_cmd.exe ]; then Xpra_cmd.exe _proxy_shadow_start \":0\" \"--opengl=no\" \"--title=@title@ on @@/@server-display@\" \"--bandwidth-limit=6Mbps\" \"--ssh=plink -ssh -agent\" \"--desktop-scaling=0.75\" \"--debug=ssh\" \"--speaker=off\" \"--env=XPRA_SHADOW_REFRESH_DELAY=200\";else echo \"no run-xpra command found\"; exit 1; fi'\"\n> 2020-10-16 13:25:26,719 Warning: libqrencode not found\n> 2020-10-16 13:25:26,905  keyboard settings: layout=us\n> 2020-10-16 13:25:26,916  desktop size is 4160x1440 with 1 screen:\n> 2020-10-16 13:25:26,918   Default (1100x381 mm - DPI: 96x96) workarea: 4160x1400\n> 2020-10-16 13:25:26,920     Generic PnP Monitor 1600x900 at 0x534 (309x174 mm - DPI: 131x131) workarea: 1600x860 at 0x534\n> 2020-10-16 13:25:26,921     C32JG5x 2560x1440 at 1600x0 (697x392 mm - DPI: 93x93) workarea: 2560x1400 at 1600x0\n> 2020-10-16 13:25:26,921  downscaled to 75%, virtual screen size: 5547x1920\n> 2020-10-16 13:25:26,922   Default (1100x381 mm - DPI: 128x128) workarea: 5547x1867\n> 2020-10-16 13:25:26,923     Generic PnP Monitor 2133x1200 at 0x712 (309x174 mm - DPI: 175x175) workarea: 2133x1147 at 0x712\n> 2020-10-16 13:25:26,924     C32JG5x 3413x1920 at 2133x0 (697x392 mm - DPI: 124x124) workarea: 3413x1867 at 2133x0\n> ```\n> \n> And it was connected, and left idle. After some time, I assume it died (lost the client log), and it drove both itself (and a vmware-virtual box (!!)) both to 400% CPU.\n> \n> Server gave the #2904 when it was asked to give `xpra-info`.\n> \n> Find attached \"new\" `xpra-info` and the `display.log`\n> ", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2905/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2905/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2898", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2898/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2898/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2898/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2898", "id": 792159624, "node_id": "MDU6SXNzdWU3OTIxNTk2MjQ=", "number": 2898, "title": "support starting new sessions with paramiko ssh proxy server", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2", "html_url": "https://github.com/Xpra-org/xpra/milestone/2", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2/labels", "id": 6344097, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5Nw==", "number": 2, "title": "4.2", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 50, "closed_issues": 32, "state": "closed", "created_at": "2021-01-23T13:28:45Z", "updated_at": "2023-03-26T13:59:45Z", "due_on": "2021-05-01T07:00:00Z", "closed_at": "2021-07-15T06:54:30Z"}, "comments": 1, "created_at": "2020-10-08T15:48:20Z", "updated_at": "2022-02-17T16:58:33Z", "closed_at": "2022-02-17T03:45:07Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Starting a proxy:\r\n```\r\nxpra proxy :100 --bind-tcp=0.0.0.0:10000,auth=allow --no-daemon -d auth,ssh\r\n```\r\nThen trying to start a new session via this proxy:\r\n```\r\nxpra start ssh://localhost:10000/10 --start=xterm -d ssh\r\n```\r\n\r\nFails with:\r\n```\r\nWarning: unsupported xpra subcommand '_proxy_start'\r\n```\r\n\r\nThere's no reason why we can't allow that, even if it is optional (as a socket option?).", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2898/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2892", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2892/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2892/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2892/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2892", "id": 792159467, "node_id": "MDU6SXNzdWU3OTIxNTk0Njc=", "number": 2892, "title": "With start-desktop, mouse position wrong after resizing client window", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681274986, "node_id": "MDU6TGFiZWwyNjgxMjc0OTg2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/geometry", "name": "geometry", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2", "html_url": "https://github.com/Xpra-org/xpra/milestone/2", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2/labels", "id": 6344097, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5Nw==", "number": 2, "title": "4.2", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 50, "closed_issues": 32, "state": "closed", "created_at": "2021-01-23T13:28:45Z", "updated_at": "2023-03-26T13:59:45Z", "due_on": "2021-05-01T07:00:00Z", "closed_at": "2021-07-15T06:54:30Z"}, "comments": 2, "created_at": "2020-10-06T10:51:06Z", "updated_at": "2022-04-26T15:30:14Z", "closed_at": "2022-04-26T15:30:13Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "*Issue migrated from trac ticket # 2892*\n\n**component:** core | **priority:** major\n\n#### 2020-10-06 10:51:06: akorn created the issue\n\n\n___\n> I have a Debian sid client with 4.1-20200915r27467-1 and an OpenSuSE Leap 15.1 server.\n> \n> I start an lxqt desktop using\n> \n> ```\n> xpra start-desktop ssh://user@server --start-child=lxqt-session --exit-with-children\n> ```\n> \n> The client window is too small to be useful by default, so I maximized it.\n> \n> At this point, mouse clicks actually hit an area a few (~10-15) pixels to the right and down of where the mouse pointer is shown.\n> \n> If I resize the client window back to its original size, mouse clicks work as expected again.\n> \n> Using the same Debian sid box that is the client also as the server (i.e. `start-desktop ssh://localhost` from the same client), I can't reproduce the problem.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2892/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2892/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2852", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2852/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2852/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2852/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2852", "id": 792157855, "node_id": "MDU6SXNzdWU3OTIxNTc4NTU=", "number": 2852, "title": "Seamless JetBrains apps do not gain focus", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2679177839, "node_id": "MDU6TGFiZWwyNjc5MTc3ODM5", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/v3.0.x", "name": "v3.0.x", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 21, "created_at": "2020-07-23T13:14:42Z", "updated_at": "2021-11-11T07:56:17Z", "closed_at": "2021-11-11T07:56:17Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "*Issue migrated from trac ticket # 2852*\n\n**component:** client | **priority:** major\n\n#### 2020-07-23 13:14:42: stdedos created the issue\n\n\n___\n> Opposite of #2723\n> \n> ```\n> \"Xpra-Python3-x86_64_4.1-[r27002](../commit/541311ebdeb9b885dee854ce94f3767340a6bc61)\\xpra_cmd\" attach ssh://user@ip/2 --ssh=\"plink -ssh -agent\" --modal-windows=no --title=\"@title@ on @@/@server-display@\" --headerbar=off --opengl=no --bandwidth-limit=6Mbps\n> \n> 2020-07-23 12:56:36,692 Xpra GTK3 client version 4.1-[r27002](../commit/541311ebdeb9b885dee854ce94f3767340a6bc61) 64-bit\n> 2020-07-23 12:56:36,696  running on Microsoft Windows 10\n> 2020-07-23 12:56:37,914 GStreamer version 1.16.2 for Python 3.8.4 64-bit\n> 2020-07-23 12:56:38,670 keyboard layout code 0x409\n> 2020-07-23 12:56:38,671 identified as 'United States - English' : us\n> 2020-07-23 12:56:38,938  keyboard settings: layout=us\n> 2020-07-23 12:56:38,941  desktop size is 4160x1440 with 1 screen:\n> 2020-07-23 12:56:38,941   Default (1100x381 mm - DPI: 96x96) workarea: 4160x1400\n> 2020-07-23 12:56:38,941     Generic PnP Monitor 1600x900 at 0x534 (309x174 mm - DPI: 131x131) workarea: 1600x860 at 0x534\n> 2020-07-23 12:56:38,942     C32JG5x 2560x1440 at 1600x0 (697x392 mm - DPI: 93x93) workarea: 2560x1400 at 1600x0\n> 2020-07-23 12:56:45,718 enabled remote logging\n> 2020-07-23 12:56:45,721 Xpra GTK3 X11 server version 3.0.10-26630 64-bit\n> 2020-07-23 12:56:45,723  running on Linux Ubuntu 16.04 xenial\n> 2020-07-23 12:56:45,741 Attached to ip:22\n> 2020-07-23 12:56:45,746  (press Control-C to detach)\n> \n> \n> (xpra_cmd:12568): Pango-WARNING **: 12:56:46.481: couldn't load font \"Bitstream Vera Sans Not-Rotated 14.662109375\", falling back to \"Sans Not-Rotated 14.662109375\", expect ugly output.\n> 2020-07-23 12:56:47,504 UI thread is now blocked\n> 2020-07-23 12:56:47,921 UI thread is running again, resuming\n> 2020-07-23 14:07:38,138 server is not responding, drawing spinners over the windows\n> 2020-07-23 14:07:39,903 server is OK again\n> 2020-07-23 14:48:19,589 enabled debugging for:\n> 2020-07-23 14:48:19,596  - Logger(xpra.client.client_window_base, focus)\n> 2020-07-23 14:48:19,599  - Logger(xpra.client.mixins.window_manager, focus)\n> 2020-07-23 14:48:19,603  - Logger(xpra.client.gtk_base.gtk_client_window_base, focus, grab)\n> 2020-07-23 14:48:23,620 focus-out-event for wid=8\n> 2020-07-23 14:48:23,623 do_xpra_focus_out_event(<Gdk.EventFocus object at 0x00000000053c6d60 (void at 0x000000001b7a6830)>)\n> 2020-07-23 14:48:23,625 ClientWindow(8) focus_change(ClientWindow(8), <GParamBoolean 'has-toplevel-focus'>) has-toplevel-focus=False, _been_mapped=True\n> 2020-07-23 14:48:23,625 update_focus(8, False) focused=8, grabbed=None\n> 2020-07-23 14:48:23,627 focus-in-event for wid=5063\n> 2020-07-23 14:48:23,629 do_xpra_focus_in_event(<Gdk.EventFocus object at 0x00000000053c6d60 (void at 0x000000001b7c4500)>) been_mapped=True\n> 2020-07-23 14:48:23,630 ClientWindow(5063) focus_change(ClientWindow(5063), <GParamBoolean 'has-toplevel-focus'>) has-toplevel-focus=True, _been_mapped=True\n> 2020-07-23 14:48:23,632 update_focus(5063, True) focused=None, grabbed=None\n> 2020-07-23 14:48:23,637 send_focus(5063)\n> 2020-07-23 14:48:23,639 recheck_focus() wid=8, focused=5063, latest=False\n> 2020-07-23 14:48:23,641 recheck_focus() wid=5063, focused=5063, latest=True\n> 2020-07-23 14:48:28,367 focus-out-event for wid=5063\n> 2020-07-23 14:48:28,385 do_xpra_focus_out_event(<Gdk.EventFocus object at 0x00000000053d3130 (void at 0x000000001b7c45a0)>)\n> 2020-07-23 14:48:28,390 ClientWindow(5063) focus_change(ClientWindow(5063), <GParamBoolean 'has-toplevel-focus'>) has-toplevel-focus=False, _been_mapped=True\n> 2020-07-23 14:48:28,393 update_focus(5063, False) focused=5063, grabbed=None\n> 2020-07-23 14:48:28,397 focus-in-event for wid=8\n> 2020-07-23 14:48:28,399 do_xpra_focus_in_event(<Gdk.EventFocus object at 0x00000000053d3130 (void at 0x000000001b7a6830)>) been_mapped=True\n> 2020-07-23 14:48:28,401 ClientWindow(8) focus_change(ClientWindow(8), <GParamBoolean 'has-toplevel-focus'>) has-toplevel-focus=True, _been_mapped=True\n> 2020-07-23 14:48:28,403 update_focus(8, True) focused=None, grabbed=None\n> 2020-07-23 14:48:28,405 send_focus(8)\n> 2020-07-23 14:48:28,412 recheck_focus() wid=5063, focused=8, latest=False\n> 2020-07-23 14:48:28,415 recheck_focus() wid=8, focused=8, latest=True\n> 2020-07-23 14:48:29,255 focus-out-event for wid=8\n> 2020-07-23 14:48:29,266 do_xpra_focus_out_event(<Gdk.EventFocus object at 0x0000000000787810 (void at 0x000000001b7a6e70)>)\n> 2020-07-23 14:48:29,268 ClientWindow(8) focus_change(ClientWindow(8), <GParamBoolean 'has-toplevel-focus'>) has-toplevel-focus=False, _been_mapped=True\n> 2020-07-23 14:48:29,271 update_focus(8, False) focused=8, grabbed=None\n> 2020-07-23 14:48:29,274 focus-in-event for wid=5063\n> 2020-07-23 14:48:29,276 do_xpra_focus_in_event(<Gdk.EventFocus object at 0x00000000007a53b0 (void at 0x000000001b7eeaa0)>) been_mapped=True\n> 2020-07-23 14:48:29,278 ClientWindow(5063) focus_change(ClientWindow(5063), <GParamBoolean 'has-toplevel-focus'>) has-toplevel-focus=True, _been_mapped=True\n> 2020-07-23 14:48:29,280 update_focus(5063, True) focused=None, grabbed=None\n> 2020-07-23 14:48:29,282 send_focus(5063)\n> 2020-07-23 14:48:29,287 recheck_focus() wid=8, focused=5063, latest=False\n> 2020-07-23 14:48:29,291 recheck_focus() wid=5063, focused=5063, latest=True\n> 2020-07-23 14:48:30,264 update_focus(0, False) focused=5063, grabbed=None\n> 2020-07-23 14:48:30,268 focus-out-event for wid=5063\n> 2020-07-23 14:48:30,269 do_xpra_focus_out_event(<Gdk.EventFocus object at 0x00000000007ab400 (void at 0x000000001b7c4500)>)\n> 2020-07-23 14:48:30,271 ClientWindow(5063) focus_change(ClientWindow(5063), <GParamBoolean 'has-toplevel-focus'>) has-toplevel-focus=False, _been_mapped=True\n> 2020-07-23 14:48:30,272 update_focus(5063, False) focused=None, grabbed=None\n> 2020-07-23 14:48:30,273 recheck_focus() wid=5063, focused=None, latest=False\n> 2020-07-23 14:48:30,288 send_lost_focus() focused=None\n> 2020-07-23 14:48:30,290 send_focus(0)\n> 2020-07-23 14:48:30,351 focus-in-event for wid=5595\n> 2020-07-23 14:48:30,362 do_xpra_focus_in_event(<Gdk.EventFocus object at 0x00000000007ab130 (void at 0x000000001b7eeaa0)>) been_mapped=True\n> 2020-07-23 14:48:30,364 ClientWindow(5595) focus_change(ClientWindow(5595), <GParamBoolean 'has-toplevel-focus'>) has-toplevel-focus=True, _been_mapped=True\n> 2020-07-23 14:48:30,366 update_focus(5595, True) focused=None, grabbed=None\n> 2020-07-23 14:48:30,367 send_focus(5595)\n> 2020-07-23 14:48:30,370 recheck_focus() wid=5595, focused=5595, latest=True\n> 2020-07-23 14:48:30,850 update_focus(0, False) focused=5595, grabbed=None\n> 2020-07-23 14:48:30,864 focus-out-event for wid=5595\n> 2020-07-23 14:48:30,868 do_xpra_focus_out_event(<Gdk.EventFocus object at 0x0000000021978c20 (void at 0x000000001b7a6dd0)>)\n> 2020-07-23 14:48:30,874 ClientWindow(5595) focus_change(ClientWindow(5595), <GParamBoolean 'has-toplevel-focus'>) has-toplevel-focus=False, _been_mapped=True\n> 2020-07-23 14:48:30,877 update_focus(5595, False) focused=None, grabbed=None\n> 2020-07-23 14:48:30,881 send_lost_focus() focused=None\n> 2020-07-23 14:48:30,886 send_focus(0)\n> 2020-07-23 14:48:30,889 recheck_focus() wid=5595, focused=None, latest=False\n> 2020-07-23 14:48:30,944 _unfocus() wid=5595, focused=None\n> 2020-07-23 14:48:30,949 focus-in-event for wid=5063\n> 2020-07-23 14:48:30,952 do_xpra_focus_in_event(<Gdk.EventFocus object at 0x0000000021978c20 (void at 0x000000001b7c4500)>) been_mapped=True\n> 2020-07-23 14:48:30,957 ClientWindow(5063) focus_change(ClientWindow(5063), <GParamBoolean 'has-toplevel-focus'>) has-toplevel-focus=True, _been_mapped=True\n> 2020-07-23 14:48:30,960 update_focus(5063, True) focused=None, grabbed=None\n> 2020-07-23 14:48:30,963 send_focus(5063)\n> 2020-07-23 14:48:30,966 recheck_focus() wid=5063, focused=5063, latest=True\n> 2020-07-23 14:48:34,371 focus-out-event for wid=5063\n> 2020-07-23 14:48:34,382 do_xpra_focus_out_event(<Gdk.EventFocus object at 0x0000000000787ae0 (void at 0x000000001b7eeaa0)>)\n> 2020-07-23 14:48:34,386 ClientWindow(5063) focus_change(ClientWindow(5063), <GParamBoolean 'has-toplevel-focus'>) has-toplevel-focus=False, _been_mapped=True\n> 2020-07-23 14:48:34,389 update_focus(5063, False) focused=5063, grabbed=None\n> 2020-07-23 14:48:34,396 focus-in-event for wid=8\n> 2020-07-23 14:48:34,399 do_xpra_focus_in_event(<Gdk.EventFocus object at 0x0000000000787ae0 (void at 0x000000001b7a6f10)>) been_mapped=True\n> 2020-07-23 14:48:34,401 ClientWindow(8) focus_change(ClientWindow(8), <GParamBoolean 'has-toplevel-focus'>) has-toplevel-focus=True, _been_mapped=True\n> 2020-07-23 14:48:34,403 update_focus(8, True) focused=None, grabbed=None\n> 2020-07-23 14:48:34,408 send_focus(8)\n> 2020-07-23 14:48:34,411 recheck_focus() wid=5063, focused=8, latest=False\n> 2020-07-23 14:48:34,415 recheck_focus() wid=8, focused=8, latest=True\n> 2020-07-23 14:48:34,661 _unfocus() wid=5643, focused=8\n> 2020-07-23 14:48:38,554 disabled debugging for:\n> 2020-07-23 14:48:38,556  - Logger(xpra.client.client_window_base, focus)\n> 2020-07-23 14:48:38,558  - Logger(xpra.client.mixins.window_manager, focus)\n> 2020-07-23 14:48:38,559  - Logger(xpra.client.gtk_base.gtk_client_window_base, focus, grab)\n> ```\n> \n> However, I don't know how to trigger that sequence of events.\n> \n> I know that I had time to:\n> * observe it (LibreOffice to PyCharm, Ctrl+P triggered \"Print\" instead of ala-Sublime \"Go to file ...\"),\n> * switch to terminal, enable client diagnostics\n> * re-trigger it (Triggered \"Complete last command\" on terminal), and\n> * work around it (raise and re-minimize an app).", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2852/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2852/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2708", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2708/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2708/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2708/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2708", "id": 792151202, "node_id": "MDU6SXNzdWU3OTIxNTEyMDI=", "number": 2708, "title": "text mode rendering may become stale", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2679177839, "node_id": "MDU6TGFiZWwyNjc5MTc3ODM5", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/v3.0.x", "name": "v3.0.x", "color": "ededed", "default": false, "description": null}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 58, "created_at": "2020-04-03T13:46:16Z", "updated_at": "2021-07-17T14:57:33Z", "closed_at": "2021-07-17T14:57:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "*Issue migrated from trac ticket # 2708*\n\n**component:** client | **priority:** minor\n\n#### 2020-04-03 13:46:16: stdedos created the issue\n\n\n___\n> For example, if I use multi-caret selection in Sublime Text too quickly (select a text that exists multiple times on the document, press Ctrl+D repeatedly), doing it too fast might end up showing one of the scrolling frames, but the last frame will end up being stale for the text editing area *except* for part of the blinking cursor.\n> \n> The workaround is to \"wiggle\" the scroll position with the mouse - but then that means I need to context switch between the keyboard and the mouse.\n> \n> The other way, to click with the mouse or do some modification with the keyboard, while valid workarounds, do not fit said user scenario.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2708/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2697", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2697/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2697/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2697/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2697", "id": 792150652, "node_id": "MDU6SXNzdWU3OTIxNTA2NTI=", "number": 2697, "title": "Right click ends up on the screen edge", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681274986, "node_id": "MDU6TGFiZWwyNjgxMjc0OTg2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/geometry", "name": "geometry", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2", "html_url": "https://github.com/Xpra-org/xpra/milestone/2", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2/labels", "id": 6344097, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5Nw==", "number": 2, "title": "4.2", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 50, "closed_issues": 32, "state": "closed", "created_at": "2021-01-23T13:28:45Z", "updated_at": "2023-03-26T13:59:45Z", "due_on": "2021-05-01T07:00:00Z", "closed_at": "2021-07-15T06:54:30Z"}, "comments": 21, "created_at": "2020-04-01T14:25:04Z", "updated_at": "2023-03-26T13:59:45Z", "closed_at": "2023-03-26T13:59:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "*Issue migrated from trac ticket # 2697*\n\n**component:** client | **priority:** major\n\n#### 2020-04-01 14:25:04: stdedos created the issue\n\n\n___\n> In some cases (I assume custom right-click menus) I see this for windows on my WQHD monitor:\n> \n> [[Image(xpra_right-click_ends-up-on-the-screen-edge.png)]]\n> \n> Unfortunately, I don't have more info data than these:\n> \n> ```\n> \"Xpra-Python3-x86_64_4.0-[r25894](../commit/19b846eb99133c0526c58dc6390a01873d52acdf)\\xpra_cmd\" attach ssh://user@ip/20 --ssh=\"plink -ssh -agent\" --modal-windows=no --title=\"@title@ on @hostname@/@server-display@\" --opengl=no\n> \n> 2020-04-01 16:20:57,638 Xpra GTK3 client version 4.0-[r25894](../commit/19b846eb99133c0526c58dc6390a01873d52acdf) 64-bit\n> 2020-04-01 16:20:57,640  running on Microsoft Windows 10\n> 2020-04-01 16:20:57,713 Warning: failed to import opencv:\n> 2020-04-01 16:20:57,714  No module named 'cv2'\n> 2020-04-01 16:20:57,714  webcam forwarding is disabled\n> 2020-04-01 16:20:58,418 GStreamer version 1.16.2 for Python 3.8.2 64-bit\n> 2020-04-01 16:20:58,696 keyboard layout code 0x409\n> 2020-04-01 16:20:58,697 identified as 'United States - English' : us\n> 2020-04-01 16:20:59,053  keyboard settings: layout=us\n> 2020-04-01 16:20:59,056  desktop size is 4160x1440 with 1 screen:\n> 2020-04-01 16:20:59,056   Default (1100x381 mm - DPI: 96x96) workarea: 4160x1400\n> 2020-04-01 16:20:59,056     Generic PnP Monitor 1600x900 (309x174 mm - DPI: 131x131) workarea: 1600x860\n> 2020-04-01 16:20:59,056     C32JG5x 2560x1440 at 1600x0 (697x392 mm - DPI: 93x93) workarea: 2560x1400\n> \n> Xenial server $ xpra --version\n> xpra v3.0.8-25767\n> ```\n> \n> Since #2642's spam is toooo damn high", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2697/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2697/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2676", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2676/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2676/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2676/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2676", "id": 792149766, "node_id": "MDU6SXNzdWU3OTIxNDk3NjY=", "number": 2676, "title": "xpra/net/udp_protocol.py line 184: AttributeError: 'UDPClientProtocol' object has no attribute 'send_control_failed'", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681230926, "node_id": "MDU6TGFiZWwyNjgxMjMwOTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/network", "name": "network", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/4", "html_url": "https://github.com/Xpra-org/xpra/milestone/4", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/4/labels", "id": 6344101, "node_id": "MDk6TWlsZXN0b25lNjM0NDEwMQ==", "number": 4, "title": "future", "description": "For things that have not been scheduled yet.", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 69, "closed_issues": 34, "state": "open", "created_at": "2021-01-23T13:29:39Z", "updated_at": "2023-03-26T14:02:46Z", "due_on": "2030-01-01T08:00:00Z", "closed_at": null}, "comments": 17, "created_at": "2020-03-24T10:49:25Z", "updated_at": "2021-05-22T09:00:37Z", "closed_at": "2021-05-22T09:00:37Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "*Issue migrated from trac ticket # 2676*\n\n**component:** network | **priority:** critical | **keywords:** UDP\n\n#### 2020-03-24 10:49:25: nikiwaibel created the issue\n\n\n___\n> hi team, i am new to xpra.\n> \n> due to current covid situation, i do require the UDP transport (have a long distant link and somewhat high delay). yes, i've seen the \"experimental\" note, nevertheless i'd like to report the following:\n> \n> if i use the plain tcp transport, things work fine. if i try to use udp, i get\n> =#### on windows=\n> ```\n> Traceback (most recent call last):\n>   File \"E:\\Xpra\\tags\\v3.0.x\\src/xpra/net/udp_protocol.py\", line 184, in send_control\n> AttributeError: 'UDPClientProtocol' object has no attribute 'send_control_failed'\n> ```\n> =#### on linux=\n> ```\n>   File \"/usr/lib64/python3.7/site-packages/xpra/net/udp_protocol.py\", line 184, in send_control\n>     self._add_packet_to_queue(packet, fail_cb=self.send_control_failed, synchronous=False)\n> AttributeError: 'UDPClientProtocol' object has no attribute 'send_control_failed'\n> ```\n> =====\n> \n> i think this can be easily fixed, in case python is your native language ;-)\n> \n> server: xpra-3.0.7-25627, centos-7.7.1908, kernel-3.10.0-1062.4.1.el7.x86_64\n> ```\n> $ xpra start --start-child=xterm --bind-udp=0.0.0.0:14567 --exit-with-children=yes --webcam=no\n> ```\n> clients:\n> 1) xpra-3.0.7-25627, win10-1909\n> ```\n> $ Xpra_cmd.exe attach udp://10.10.11.23:14567\n> ```\n> 2) xpra-3.0.6-2.fc30.x86_64, fedora-30, kernel-5.5.10-100.fc30.x86_64\n> ```\n> $ xpra attach udp://10.10.11.23:14567\n> ```\n> \n> config: no changes", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2676/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2676/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2675", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2675/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2675/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2675/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2675", "id": 792149728, "node_id": "MDU6SXNzdWU3OTIxNDk3Mjg=", "number": 2675, "title": "PyCharm Search Everywhere \"window\" cannot be moved around", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2679177839, "node_id": "MDU6TGFiZWwyNjc5MTc3ODM5", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/v3.0.x", "name": "v3.0.x", "color": "ededed", "default": false, "description": null}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681274986, "node_id": "MDU6TGFiZWwyNjgxMjc0OTg2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/geometry", "name": "geometry", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2", "html_url": "https://github.com/Xpra-org/xpra/milestone/2", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2/labels", "id": 6344097, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5Nw==", "number": 2, "title": "4.2", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 50, "closed_issues": 32, "state": "closed", "created_at": "2021-01-23T13:28:45Z", "updated_at": "2023-03-26T13:59:45Z", "due_on": "2021-05-01T07:00:00Z", "closed_at": "2021-07-15T06:54:30Z"}, "comments": 7, "created_at": "2020-03-24T08:54:15Z", "updated_at": "2021-05-07T15:39:12Z", "closed_at": "2021-05-07T15:39:11Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "*Issue migrated from trac ticket # 2675*\n\n**component:** client | **priority:** major\n\n#### 2020-03-24 08:54:15: stdedos created the issue\n\n\n___\n> ```\n> \"Xpra-Python3-x86_64_4.0-25747\\xpra_cmd\" attach ssh://user@ip/20 --ssh=\"plink -ssh -agent\" --modal-windows=no --title=\"@title@ on @hostname@/@server-display@\"\n> \n> 2020-03-24 10:17:38,093 Warning: OpenGL probe failed: timeout\n> 2020-03-24 10:17:38,835 Xpra GTK3 client version 4.0-25747 64-bit\n> 2020-03-24 10:17:38,838  running on Microsoft Windows 10\n> 2020-03-24 10:17:38,981 Warning: failed to import opencv:\n> 2020-03-24 10:17:38,983  No module named 'cv2'\n> 2020-03-24 10:17:38,983  webcam forwarding is disabled\n> 2020-03-24 10:17:40,611 GStreamer version 1.16.2 for Python 3.8.2 64-bit\n> 2020-03-24 10:17:41,155 keyboard layout code 0x409\n> 2020-03-24 10:17:41,156 identified as 'United States - English' : us\n> 2020-03-24 10:17:42,013  keyboard settings: layout=us\n> 2020-03-24 10:17:42,018  desktop size is 1600x900 with 1 screen:\n> 2020-03-24 10:17:42,019   Default (423x238 mm - DPI: 96x96) workarea: 1600x860\n> 2020-03-24 10:17:42,019     Generic PnP Monitor (309x174 mm - DPI: 131x131)\n> 2020-03-24 10:17:46,701 enabled remote logging\n> 2020-03-24 10:17:46,704 Xpra GTK3 X11 server version 3.0.8-[r25722](../commit/84a5a81aa1fb41a3dac3b4c78d92b54b13278a5c) 64-bit\n> 2020-03-24 10:17:46,709  running on Linux Ubuntu 16.04 xenial\n> 2020-03-24 10:17:46,727 Attached to ip:22\n> 2020-03-24 10:17:46,731  (press Control-C to detach)\n> \n> \n> (xpra_cmd:2904): Pango-WARNING **: 10:17:47.423: couldn't load font \"Bitstream Vera Sans Not-Rotated 14.662109375\", falling back to \"Sans Not-Rotated 14.662109375\", expect ugly output.\n> 2020-03-24 10:17:47,984 sound output using 'opus' audio codec\n> 2020-03-24 10:17:48,460 UI thread is now blocked\n> 2020-03-24 10:17:48,509 UI thread is running again, resuming\n> 2020-03-24 10:18:03,899 Warning: static gravity is not handled\n> 2020-03-24 10:18:49,271 Warning: failed to set clipboard data\n> 2020-03-24 10:18:49,276  OpenClipboard: too many failed attempts, giving up\n> ```\n> \n> In PyCharm EAP:\n> \n> - Press `Shift Shift` (press `Shift`, release, press `Shift`)\n> * Try to move that window *anywhere*\n> \n> The window is \"somewhat\" following the cursor, but it's jumpy.\n> \n> (All JetBrains tools \"share\" underlying code, so it doesn't really matter which one you use)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2675/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2675/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2658", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2658/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2658/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2658/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2658", "id": 792148771, "node_id": "MDU6SXNzdWU3OTIxNDg3NzE=", "number": 2658, "title": "Re-attaching a client session puts the window off-monitor", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}, {"id": 2681274986, "node_id": "MDU6TGFiZWwyNjgxMjc0OTg2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/geometry", "name": "geometry", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2", "html_url": "https://github.com/Xpra-org/xpra/milestone/2", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2/labels", "id": 6344097, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5Nw==", "number": 2, "title": "4.2", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 50, "closed_issues": 32, "state": "closed", "created_at": "2021-01-23T13:28:45Z", "updated_at": "2023-03-26T13:59:45Z", "due_on": "2021-05-01T07:00:00Z", "closed_at": "2021-07-15T06:54:30Z"}, "comments": 14, "created_at": "2020-03-20T07:25:17Z", "updated_at": "2021-05-17T18:10:46Z", "closed_at": "2021-05-17T18:10:46Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "*Issue migrated from trac ticket # 2658*\n\n**component:** client | **priority:** minor\n\n#### 2020-03-20 07:25:17: stdedos created the issue\n\n\n___\n> *from #2643*\n> \n> With the same geometry:\n> [[Image(xpra-geometry-ApplicationFrameHost_2020-03-20_09-17-15.png)]]\n> \n> Re-attaching a gnome-terminal and a libre-office gives me this\n> \n> [[Image(Xpra-reattach_cmd_2020-03-20_09-19-49.png)]]\n> \n> (the black is not mine, it's coming from ShareX. The screenshot application \"identifies\" bounding boxes for application windows and not only that; the should be the libre-office that's outside of the monitor)\n> \n> Window state at this moment is maximized.\n> \n> ```\n> \"Xpra-Python3-x86_64_4.0-[r25669](../commit/de2a5fe3924ed17664d901d66169a09118b7c4ed)\\xpra_cmd\" attach ssh://user@ip/20 --ssh=\"plink -ssh -agent\" --modal-windows=no\n> \n> 2020-03-20 09:15:09,027 Xpra GTK3 client version 4.0-[r25669](../commit/de2a5fe3924ed17664d901d66169a09118b7c4ed) 64-bit\n> 2020-03-20 09:15:09,027  running on Microsoft Windows 10\n> 2020-03-20 09:15:09,120 Warning: failed to import opencv:\n> 2020-03-20 09:15:09,120  No module named 'cv2'\n> 2020-03-20 09:15:09,120  webcam forwarding is disabled\n> 2020-03-20 09:15:10,069 GStreamer version 1.16.2 for Python 3.8.2 64-bit\n> 2020-03-20 09:15:10,380 keyboard layout code 0x409\n> 2020-03-20 09:15:10,380 identified as 'United States - English' : us\n> 2020-03-20 09:15:10,583 OpenGL_accelerate module loaded\n> 2020-03-20 09:15:10,629 Using accelerated ArrayDatatype\n> 2020-03-20 09:15:11,532 Warning: vendor 'Intel' is greylisted,\n> 2020-03-20 09:15:11,532  you may want to turn off OpenGL if you encounter bugs\n> 2020-03-20 09:15:11,548 OpenGL enabled with Intel(R) HD Graphics 4000\n> 2020-03-20 09:15:11,812  keyboard settings: layout=us\n> 2020-03-20 09:15:11,812  desktop size is 3520x1081 with 1 screen:\n> 2020-03-20 09:15:11,812   Default (931x286 mm - DPI: 96x96) workarea: 3520x1041\n> 2020-03-20 09:15:11,812     Generic PnP Monitor 1600x900 at 0x181 (309x174 mm - DPI: 131x131) workarea: 1600x860\n> 2020-03-20 09:15:11,812     C32JG5x 1920x1080 at 1600x0 (697x392 mm - DPI: 69x69) workarea: 1920x1040\n> 2020-03-20 09:15:18,644 enabled remote logging\n> 2020-03-20 09:15:18,644 Xpra GTK3 X11 server version 3.0.7-25627 64-bit\n> 2020-03-20 09:15:18,644  running on Linux Ubuntu 16.04 xenial\n> ```\n> ", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2658/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2651", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2651/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2651/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2651/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2651", "id": 792148546, "node_id": "MDU6SXNzdWU3OTIxNDg1NDY=", "number": 2651, "title": "Maximized windows derived from gnome-terminal do not re-attach as maximized", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2678709864, "node_id": "MDU6TGFiZWwyNjc4NzA5ODY0", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on"}, {"id": 2679177839, "node_id": "MDU6TGFiZWwyNjc5MTc3ODM5", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/v3.0.x", "name": "v3.0.x", "color": "ededed", "default": false, "description": null}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681274986, "node_id": "MDU6TGFiZWwyNjgxMjc0OTg2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/geometry", "name": "geometry", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2", "html_url": "https://github.com/Xpra-org/xpra/milestone/2", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2/labels", "id": 6344097, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5Nw==", "number": 2, "title": "4.2", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 50, "closed_issues": 32, "state": "closed", "created_at": "2021-01-23T13:28:45Z", "updated_at": "2023-03-26T13:59:45Z", "due_on": "2021-05-01T07:00:00Z", "closed_at": "2021-07-15T06:54:30Z"}, "comments": 2, "created_at": "2020-03-16T19:12:32Z", "updated_at": "2022-07-09T16:35:57Z", "closed_at": "2022-07-09T16:35:56Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "*Issue migrated from trac ticket # 2651*\n\n**component:** client | **priority:** minor\n\n#### 2020-03-16 19:12:32: stdedos created the issue\n\n\n___\n> *During #2649*\n> \n> \"Maximized windows derived from gnome-terminal do not re-attach as maximized\". I am not sure what further to add.\n> \n> [[Image(xpra-reconnect-does_not_cleanly_maximize.png)]]\n> \n> This is my non-shadow session that I start a gnome-terminal, and then add stuff on-demand.\n> \n> \"Feels\" to me as a recent regression, so I'd keep my research around ![r256](../commit/996a397b6990b3239de582255dfc4d46c3397edd)!** for starters.\n> \n> I'm fine if you want to solve this by canceling maximized mode during re-attaching (if too complicated to solve).", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2651/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2642", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2642/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2642/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2642/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2642", "id": 792147972, "node_id": "MDU6SXNzdWU3OTIxNDc5NzI=", "number": 2642, "title": "No matching CSC module found", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2679177839, "node_id": "MDU6TGFiZWwyNjc5MTc3ODM5", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/v3.0.x", "name": "v3.0.x", "color": "ededed", "default": false, "description": null}, {"id": 2681226488, "node_id": "MDU6TGFiZWwyNjgxMjI2NDg4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/encoding", "name": "encoding", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2020-03-13T14:37:02Z", "updated_at": "2021-11-06T09:44:52Z", "closed_at": "2021-11-06T09:44:51Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "*Issue migrated from trac ticket # 2642*\n\n**component:** client | **priority:** minor\n\n#### 2020-03-13 14:37:02: stdedos created the issue\n\n\n___\n> Log output is too massive, attaching it.\n> \n> No idea what caused it, since it didn't cause any disruption (apart from the looming #2617).\n> \n> This would be my most massive usage of xpra client to-date;\n> \n> \n> ```\n>                                         Xpra top 3.0.7-25609\n> Xpra GTK3 X11 server 64-bit\n> xpra top - 16:32:13 up 1 day, 6:42:46,  1 users, load average: 1.52, 2.19, 2.12\n> 8 threads\n> cursor at 2030x358\n> \n>  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n>  \u2502Python/GTK3 client version 4.0-[r25603](../commit/772e6a7edbcdfd1b09b16a5c0863669aa8286e56)                                                             \u2502\n>  \u2502batch delay: 994 (909)                                                                            \u2502\n>  \u2502latency: 0 (0)                                                                                    \u2502\n>  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n> \n> 5 windows\n>  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n>  \u2502quartz@h: ~                                                                                       \u2502\n>  \u25021920x1002 at 1600,23 - gravity=1, base-size=(12, 50), minimum-size=(298, 79), increment=(9, 17)   \u2502\n>  \u2502focused, maximized                                                                                \u2502\n>  \u2502NORMAL                                                                                            \u2502\n>  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n>  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n>  \u2502Terminal                                                                                          \u2502\n>  \u2502166x158 at 1601,79                                                                                \u2502\n>  \u2502grabbed, override-redirect                                                                        \u2502\n>  \u2502POPUP_MENU                                                                                        \u2502\n>  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n>  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n>  \u25022020-Mar.xlsx - LibreOffice Calc                                                                  \u2502\n>  \u25021920x1017 at 1600,23 - gravity=10, base-size=(0, 0), minimum-size=(136, 39)                       \u2502\n>  \u2502maximized                                                                                         \u2502\n>  \u2502NORMAL                                                                                            \u2502\n>  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n>  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n>  \u2502atf \u00e2   qwertyuiop[asdfghjkl;cvbnmk,l;fghjkl                                                      \u2502\n>  \u25021920x1017 at 1600,23 - gravity=1, minimum-size=(324, 39), position=(2141, 74)                     \u2502\n>  \u2502hidden, iconic                                                                                    \u2502\n>  \u2502NORMAL                                                                                            \u2502\n>  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n>  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n>  \u2502LibreOffice 6.4                                                                                   \u2502\n>  \u25021x1 at -99,-99                                                                                    \u2502\n>  \u2502override-redirect                                                                                 \u2502\n>  \u2502NORMAL                                                                                            \u2502\n>  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n> ```\n> ", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2642/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2595", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2595/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2595/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2595/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2595", "id": 792145561, "node_id": "MDU6SXNzdWU3OTIxNDU1NjE=", "number": 2595, "title": "popup menu appears on wrong screen", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681274986, "node_id": "MDU6TGFiZWwyNjgxMjc0OTg2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/geometry", "name": "geometry", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2", "html_url": "https://github.com/Xpra-org/xpra/milestone/2", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2/labels", "id": 6344097, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5Nw==", "number": 2, "title": "4.2", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 50, "closed_issues": 32, "state": "closed", "created_at": "2021-01-23T13:28:45Z", "updated_at": "2023-03-26T13:59:45Z", "due_on": "2021-05-01T07:00:00Z", "closed_at": "2021-07-15T06:54:30Z"}, "comments": 4, "created_at": "2020-02-14T13:51:12Z", "updated_at": "2022-04-26T15:40:24Z", "closed_at": "2022-04-26T15:40:23Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "*Issue migrated from trac ticket # 2595*\n\n**component:** client | **priority:** major | **keywords:** multi-screen\n\n#### 2020-02-14 13:51:12: t-om created the issue\n\n\n___\n> After upgrading Client from 2.5 to 3.0.6, I am experiencing problems with multiple-screen setup that were not before there. Typically I have two external screens and one laptop screen and sometimes child window menus (e.g. right-click on terminator) appear in different screen than the child window. Sometimes maximizing a child window in certain screen moves it to another screen. I am sorry not being able to provide more information but perhaps this ticket helps in paying attention to possible causes.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2595/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2537", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2537/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2537/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2537/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2537", "id": 792142922, "node_id": "MDU6SXNzdWU3OTIxNDI5MjI=", "number": 2537, "title": "failed upgrades should preserve sockets", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/4", "html_url": "https://github.com/Xpra-org/xpra/milestone/4", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/4/labels", "id": 6344101, "node_id": "MDk6TWlsZXN0b25lNjM0NDEwMQ==", "number": 4, "title": "future", "description": "For things that have not been scheduled yet.", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 69, "closed_issues": 34, "state": "open", "created_at": "2021-01-23T13:29:39Z", "updated_at": "2023-03-26T14:02:46Z", "due_on": "2030-01-01T08:00:00Z", "closed_at": null}, "comments": 2, "created_at": "2020-01-01T09:59:52Z", "updated_at": "2022-04-03T15:53:31Z", "closed_at": "2022-04-03T15:53:31Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "We currently delete the previous server sockets and if the upgrade fails then we are left with no sockets..\r\n\r\nNot easy to solve.\r\nOptions:\r\n* pass sockets from the old server to the new one with [sendfd](https://manned.org/sendfd.3) - would require connecting to the old server using unix-domain-sockets, which may not be possible or require authentication, but this would allow us to preserve all the different sockets\r\n* delay creating sockets until we have taken over the display - but if we fail to create them, then we will have to exit and leave the vfb running?\r\n* temporarily move them out of the way, and move them back if we fail - easier?\r\n\r\nOther issues:\r\n* backwards and forwards compatibility\r\n* request clients to re-connect? (to the same address only?)", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2537/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2091", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2091/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2091/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2091/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2091", "id": 792121967, "node_id": "MDU6SXNzdWU3OTIxMjE5Njc=", "number": 2091, "title": "xdummy: xorg server slow to parse modeline config", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/3", "html_url": "https://github.com/Xpra-org/xpra/milestone/3", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/3/labels", "id": 6344098, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5OA==", "number": 3, "title": "5.0", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 51, "closed_issues": 12, "state": "open", "created_at": "2021-01-23T13:28:56Z", "updated_at": "2023-03-26T13:32:20Z", "due_on": "2022-01-01T08:00:00Z", "closed_at": null}, "comments": 4, "created_at": "2018-12-27T20:41:18Z", "updated_at": "2022-07-07T17:11:07Z", "closed_at": "2022-07-07T17:11:07Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Now that we have thousands of modelines in the xdummy config ([r16160](../commit/f2843eb500138e5d18e61c71dbab20a2586d760b)), the server can take too long to startup. ie: [r20970](../commit/72bcf7ee5d0b943a8429e791ae3ec8e739e77928)\r\nThis is more of a problem on low-power devices: #1777\r\n\r\nThis was recorded in #1557#comment:11: *This makes the Xdummy server a little bit slower to start, so [r16252](../commit/9a09f5db7cd324229c54843a194f5ecde4ab9288) increases the timeout used in the automated tests.*\r\n\r\nLooking at the Xorg server code, there is a 3-level nested loop on modelines in `xf86ValidateModes`.\r\n\r\nThe middle loop reads: *If the supplied mode names don't produce a valid mode, scan through unconsidered modePool members until one survives validation.  This is done in decreasing order by mode pixel area.*\r\nThe innermost loop, never actually triggers anything, its docstring says: *Deal with the case where this mode wasn't considered because of a builtin mode of the same name*\r\nWith a thousand modeline entries, we can end up running the `strcmp` millions of times...\r\n\r\nWe should be able to re-work that code to achieve the same results with a lot less CPU time.\r\nOn a decent CPU this can take multiple seconds, it should be doable under 100ms.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2091/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2091/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2008", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2008/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2008/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2008/events", "html_url": "https://github.com/Xpra-org/xpra/issues/2008", "id": 792117285, "node_id": "MDU6SXNzdWU3OTIxMTcyODU=", "number": 2008, "title": "intellij pop-ups appear in the wrong place sometimes", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681274986, "node_id": "MDU6TGFiZWwyNjgxMjc0OTg2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/geometry", "name": "geometry", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2", "html_url": "https://github.com/Xpra-org/xpra/milestone/2", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/2/labels", "id": 6344097, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5Nw==", "number": 2, "title": "4.2", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 50, "closed_issues": 32, "state": "closed", "created_at": "2021-01-23T13:28:45Z", "updated_at": "2023-03-26T13:59:45Z", "due_on": "2021-05-01T07:00:00Z", "closed_at": "2021-07-15T06:54:30Z"}, "comments": 9, "created_at": "2018-10-25T11:17:45Z", "updated_at": "2021-05-17T18:29:51Z", "closed_at": "2021-05-17T18:29:51Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "*Issue migrated from trac ticket # 2008*\n\n**component:** java | **priority:** minor\n\n#### 2018-10-25 11:17:45: facboy created the issue\n\n\n___\n> xpra occasionally lose track of where Intellij's pop-ups are supposed to appear. eg you right-click and the pop-up appears way over on the right of the screen instead of under the mouse.  Resizing the window seems to fix it for a while.\n> \n> I am running two monitors on the client if that makes a difference, and I have multiple intellij windows (different projects) open.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/2008/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/2008/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/1467", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/1467/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/1467/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/1467/events", "html_url": "https://github.com/Xpra-org/xpra/issues/1467", "id": 792085876, "node_id": "MDU6SXNzdWU3OTIwODU4NzY=", "number": 1467, "title": "dummy driver randr limitation", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681259131, "node_id": "MDU6TGFiZWwyNjgxMjU5MTMx", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/upstream", "name": "upstream", "color": "fef2c0", "default": false, "description": ""}, {"id": 2681290878, "node_id": "MDU6TGFiZWwyNjgxMjkwODc4", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/linux", "name": "linux", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/3", "html_url": "https://github.com/Xpra-org/xpra/milestone/3", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/3/labels", "id": 6344098, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5OA==", "number": 3, "title": "5.0", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 51, "closed_issues": 12, "state": "open", "created_at": "2021-01-23T13:28:56Z", "updated_at": "2023-03-26T13:32:20Z", "due_on": "2022-01-01T08:00:00Z", "closed_at": null}, "comments": 2, "created_at": "2017-03-16T11:18:48Z", "updated_at": "2022-04-10T13:47:04Z", "closed_at": "2022-04-10T13:47:04Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Discovered by re-arranging the dual monitor layout of a win7 VM and moving the primary monitor to the right. (the left hand side one must be at least 1080p - or whatever the initial display size is set to)\r\nWhen new windows are created without requesting a specific location (ie: xterm), they are mapped onto the primary monitor by MS Windows.\r\nThe window then fails to respond to any click events until it is moved at least one pixel into the original display size. (ie: 1080p)\r\n\r\nThis is reminiscent of the problems fixed by [/browser/xpra/trunk/rpmbuild/0003-fix-pointer-limits.patch?rev=8060 0003-fix-pointer-limits.patch] which was added in [r8060](../commit/871e8c71f779f1a31e68f622b7031fb936ed7256).\r\n\r\nWhat is strange is that starting an application **after** the server's dummy screen has been resized works fine. The problem only occurs if the application is started on a display which is smaller than the eventual client display dimensions.\r\nAs if the application (or the X11 server's internal data structures for this application) were using out of date monitor geometry data.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/1467/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/1467/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/1354", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/1354/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/1354/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/1354/events", "html_url": "https://github.com/Xpra-org/xpra/issues/1354", "id": 792079621, "node_id": "MDU6SXNzdWU3OTIwNzk2MjE=", "number": 1354, "title": "maximizing browsers on multi-display setup is sizing wrongly", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222547, "node_id": "MDU6TGFiZWwyNjgxMjIyNTQ3", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/client", "name": "client", "color": "37566C", "default": false, "description": ""}, {"id": 2681224926, "node_id": "MDU6TGFiZWwyNjgxMjI0OTI2", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/win32", "name": "win32", "color": "f9d0c4", "default": false, "description": "MS Windows OS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/3", "html_url": "https://github.com/Xpra-org/xpra/milestone/3", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/3/labels", "id": 6344098, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5OA==", "number": 3, "title": "5.0", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 51, "closed_issues": 12, "state": "open", "created_at": "2021-01-23T13:28:56Z", "updated_at": "2023-03-26T13:32:20Z", "due_on": "2022-01-01T08:00:00Z", "closed_at": null}, "comments": 1, "created_at": "2016-11-10T22:36:46Z", "updated_at": "2022-04-10T13:52:04Z", "closed_at": "2022-04-10T13:52:04Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "*Issue migrated from trac ticket # 1354*\n\n**component:** client | **priority:** minor | **resolution:** fixed\n\n#### 2016-11-10 22:36:46: afarr created the issue\n\n\n___\n> Testing with both 1.0 [r14402](../commit/30c38e622234593df185b1fc7a969209511a46f9) fedora 23 server against a 1.0 [r14397](../commit/efb1d86cb715f002b938fac923b8a69c94749616) windows client and 0.17.1 r 12453 fedora 23 server against a 0.17.5 13487 windows client... with two displays, I'm finding that maximizing a browser window (chrome, firefox) causes it to size across both displays... but only if I maximize from the left-most display.\n> \n> Fullscreen with videos behaves as expected.\n> \n> I'll attach client-side logs for both combinations with `-d window`... looks like there's a `init_max_window_size(..) max-window-size changed from (0, 0) to (4096, 4096), because of max viewport dims (8192, 8192) and max backing dims (4096, 4096)` call being made in each case, with a desktop/display set up of:\n> \n> ```\n>  desktop size is 3840x1080 with 1 screen:\n>   Default (1016x285 mm - DPI: 96x96) workarea: 3840x1040\n>     DISPLAY1 1920x1080 at 1920x0 (621x341 mm - DPI: 78x80) workarea: 1920x1040\n>     DISPLAY2 1920x1080 (621x341 mm - DPI: 78x80) workarea: 1920x1040\n> ```\n> \n> - Another extremely interesting note... this only happens when both displays are very close to the same size (both 1920 x 1080; one 1920 x 1080 and the other 1920 x 1200; one 1920x1080 the other 1920x1440; 1920x1080 & 2048x1536... but as soon as I reach 1920x1080 & 2560x1440 the maximize begins to behave as expected.", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/1354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/1354/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/1351", "repository_url": "https://api.github.com/repos/Xpra-org/xpra", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/issues/1351/labels{/name}", "comments_url": "https://api.github.com/repos/Xpra-org/xpra/issues/1351/comments", "events_url": "https://api.github.com/repos/Xpra-org/xpra/issues/1351/events", "html_url": "https://github.com/Xpra-org/xpra/issues/1351", "id": 792079491, "node_id": "MDU6SXNzdWU3OTIwNzk0OTE=", "number": 1351, "title": "resizing xeyes is very bumpy", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2678709835, "node_id": "MDU6TGFiZWwyNjc4NzA5ODM1", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2681222683, "node_id": "MDU6TGFiZWwyNjgxMjIyNjgz", "url": "https://api.github.com/repos/Xpra-org/xpra/labels/server", "name": "server", "color": "530B07", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Xpra-org/xpra/milestones/3", "html_url": "https://github.com/Xpra-org/xpra/milestone/3", "labels_url": "https://api.github.com/repos/Xpra-org/xpra/milestones/3/labels", "id": 6344098, "node_id": "MDk6TWlsZXN0b25lNjM0NDA5OA==", "number": 3, "title": "5.0", "description": "", "creator": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "open_issues": 51, "closed_issues": 12, "state": "open", "created_at": "2021-01-23T13:28:56Z", "updated_at": "2023-03-26T13:32:20Z", "due_on": "2022-01-01T08:00:00Z", "closed_at": null}, "comments": 3, "created_at": "2016-10-31T11:32:22Z", "updated_at": "2021-11-06T12:13:03Z", "closed_at": "2021-11-06T12:13:03Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "And it can take minutes!\r\nIt seems to take a very long time to go through every resize increment. So when enlarging the window a lot, it takes hundreds of steps, repainting each time and probably also re-calculating the shape mask (#501).\r\nDisabling xshape does not help.\r\nMaybe this needs `_NET_WM_SYNC_REQUEST` (#723).", "reactions": {"url": "https://api.github.com/repos/Xpra-org/xpra/issues/1351/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Xpra-org/xpra/issues/1351/timeline", "performed_via_github_app": null, "state_reason": "completed"}]