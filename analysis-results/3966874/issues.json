[{"url": "https://api.github.com/repos/nltk/nltk/issues/3100", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/3100/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/3100/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/3100/events", "html_url": "https://github.com/nltk/nltk/pull/3100", "id": 1516437905, "node_id": "PR_kwDOAASTVs5Gfcg8", "number": 3100, "title": "Resolve RCE vulnerability in local WordNet browser", "user": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 719374994, "node_id": "MDU6TGFiZWw3MTkzNzQ5OTQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/GUI", "name": "GUI", "color": "f9b3d9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-02T14:09:06Z", "updated_at": "2023-01-02T14:42:23Z", "closed_at": "2023-01-02T14:42:20Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/3100", "html_url": "https://github.com/nltk/nltk/pull/3100", "diff_url": "https://github.com/nltk/nltk/pull/3100.diff", "patch_url": "https://github.com/nltk/nltk/pull/3100.patch", "merged_at": "2023-01-02T14:42:20Z"}, "body": "Hello!\r\n\r\n## Pull Request overview\r\n* Remove a Remote Code Execution vulnerability in the local WordNet browser. If the following image is not familiar to you, then you are not affected:\r\n![image](https://user-images.githubusercontent.com/37621491/210241228-f664090f-0f01-4bed-8791-9bbed7f9ba05.png)\r\n* Resolve a small typo: where -> were.\r\n\r\n## Details\r\nThe WordNet local browser from the above screenshot works using links such as `localhost:8000/lookup_hw804512ha...`, where the contents of the URL after `lookup_` is a base64 encoded pickle dump of a tuple with a string word and a dictionary of synset keys to sets of synset relation identifiers. After browsing to such a URL, the Python backend `pickle.loads` the base64 encoded string in an unsafe manner. The base64 string can be any pickle dumped code, which may be executed upon loading.\r\n\r\n## Reproduction\r\nThe wordnet browser app can be started like so:\r\n\r\n```python\r\nimport nltk\r\nnltk.app.wordnet()\r\n```\r\nAfterwards, browsing to a malicious link, or coming across an `img` tag online with a src as `localhost:8000/lookup_...` can trigger the vulnerability, which can then execute any code encoded in the base64 string, such as `os.command()`.\r\n\r\n## The fix\r\nThis can be resolved by using a custom unpickler that overrides [`Unpickler.find_class`](https://docs.python.org/3.7/library/pickle.html#pickle.Unpickler.find_class), as explained [here](https://docs.python.org/3.7/library/pickle.html#pickle-restrict). For NLTK, I have restricted all functions and classes from being executed or used in the base64 encoded string. This prevents use of e.g. `os.command`.\r\n\r\n## Note\r\nWe intend to remove the WordNet browser from NLTK and move it to https://github.com/nltk/nltk_contrib/. This PR exists so that users have at least one version that should not have these vulnerabilities, before the functionality is removed altogether.\r\n\r\n- Tom Aarsen", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/3100/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/3100/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/3098", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/3098/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/3098/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/3098/events", "html_url": "https://github.com/nltk/nltk/pull/3098", "id": 1513969794, "node_id": "PR_kwDOAASTVs5GXFkL", "number": 3098, "title": "Fix a bug that left out the last section/heading.", "user": {"login": "elespike", "id": 14970655, "node_id": "MDQ6VXNlcjE0OTcwNjU1", "avatar_url": "https://avatars.githubusercontent.com/u/14970655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elespike", "html_url": "https://github.com/elespike", "followers_url": "https://api.github.com/users/elespike/followers", "following_url": "https://api.github.com/users/elespike/following{/other_user}", "gists_url": "https://api.github.com/users/elespike/gists{/gist_id}", "starred_url": "https://api.github.com/users/elespike/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elespike/subscriptions", "organizations_url": "https://api.github.com/users/elespike/orgs", "repos_url": "https://api.github.com/users/elespike/repos", "events_url": "https://api.github.com/users/elespike/events{/privacy}", "received_events_url": "https://api.github.com/users/elespike/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2022-12-29T18:46:55Z", "updated_at": "2023-01-03T18:47:58Z", "closed_at": "2023-01-03T10:31:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/3098", "html_url": "https://github.com/nltk/nltk/pull/3098", "diff_url": "https://github.com/nltk/nltk/pull/3098.diff", "patch_url": "https://github.com/nltk/nltk/pull/3098.patch", "merged_at": "2023-01-03T10:31:41Z"}, "body": "Also refactored the logic a bit.\r\n\r\nHere's an alternative using `itertools.groupby`, in case you prefer it:\r\n```python\r\nsections, block = list(), list()\r\nfor k, g in groupby(self.parser.parse(stream.read()), key=lambda t: t.level == 0 and t.type == 'heading_open'):\r\n    if k or block:\r\n        block.extend(g)\r\n    if not k and block:\r\n        sections.append(block)\r\n        block = list()\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/3098/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/3098/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/3096", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/3096/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/3096/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/3096/events", "html_url": "https://github.com/nltk/nltk/pull/3096", "id": 1512804738, "node_id": "PR_kwDOAASTVs5GTKIN", "number": 3096, "title": "Resolve XSS vulnerability in local Wordnet browser", "user": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 719374994, "node_id": "MDU6TGFiZWw3MTkzNzQ5OTQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/GUI", "name": "GUI", "color": "f9b3d9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-12-28T13:34:40Z", "updated_at": "2023-01-13T12:59:33Z", "closed_at": "2022-12-28T13:58:43Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/3096", "html_url": "https://github.com/nltk/nltk/pull/3096", "diff_url": "https://github.com/nltk/nltk/pull/3096.diff", "patch_url": "https://github.com/nltk/nltk/pull/3096.patch", "merged_at": "2022-12-28T13:58:43Z"}, "body": "Hello!\r\n\r\n## Pull Request overview\r\n* Resolve Cross Site Scripting vulnerability in `nltk.app.wordnet_app`. This ***only*** affected users of this browser interface to Wordnet, and ***not*** other users of Wordnet. If the following image is not familiar to you, then you are not affected:\r\n\r\n![image](https://user-images.githubusercontent.com/37621491/209820009-db046398-df78-41cf-ac15-a014762c00b2.png)\r\n\r\n\r\n## Details\r\nWhenever an unknown path was supplied in the localhost, e.g. `http://localhost:8000/<script>alert(1)</script>.html`, then the wordnet app would try to find a file called `<script>alert(1)</script>.html`, be unable to do so, and then report back with an error on the website saying that `\"Internal error: Path for static page '<script>alert(1)</script>' is unknown\"`. However, this page was loaded as HTML, so the script would be executed.\r\n\r\nI don't believe that there is a real attack vector here, as the pages that are normally seen are directly from Wordnet, so one of the Wordnet URLs would need to be modified into a malicious link. That said, there is no reason not to fix this.\r\n\r\n## Reproducing\r\nThe wordnet browser app can be started like so:\r\n```python\r\nimport nltk\r\nnltk.app.wordnet()\r\n```\r\nThen, browsing to `http://localhost:8000/<script>alert(1)</script>.html` would cause the following popup to appear:\r\n![image](https://user-images.githubusercontent.com/37621491/209820250-234c5fee-1e3e-4477-93d4-d6fea8eb23ed.png)\r\n\r\n\r\n## The fix\r\nBy setting the `Content-type` to `text/plain` when an unknown path is used, we prevent any code from being executed. \r\n\r\n## After the fix\r\nWhen running the reproduction code, we now see:\r\n![image](https://user-images.githubusercontent.com/37621491/209820150-8bd0c58d-48ce-46a0-8ff4-feeda6b1c934.png)\r\nAnd no popup.\r\n\r\nThis vulnerability was disclosed according to our [security policy](https://github.com/nltk/nltk/blob/develop/SECURITY.md), and we are thankful for that.\r\n\r\n- Tom Aarsen", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/3096/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/3096/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/3074", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/3074/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/3074/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/3074/events", "html_url": "https://github.com/nltk/nltk/issues/3074", "id": 1468420882, "node_id": "I_kwDOAASTVs5XhlMS", "number": 3074, "title": "AttributeError: 'itertools.chain' object has no attribute 'lookup'", "user": {"login": "JaehyunsLee", "id": 51414823, "node_id": "MDQ6VXNlcjUxNDE0ODIz", "avatar_url": "https://avatars.githubusercontent.com/u/51414823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JaehyunsLee", "html_url": "https://github.com/JaehyunsLee", "followers_url": "https://api.github.com/users/JaehyunsLee/followers", "following_url": "https://api.github.com/users/JaehyunsLee/following{/other_user}", "gists_url": "https://api.github.com/users/JaehyunsLee/gists{/gist_id}", "starred_url": "https://api.github.com/users/JaehyunsLee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JaehyunsLee/subscriptions", "organizations_url": "https://api.github.com/users/JaehyunsLee/orgs", "repos_url": "https://api.github.com/users/JaehyunsLee/repos", "events_url": "https://api.github.com/users/JaehyunsLee/events{/privacy}", "received_events_url": "https://api.github.com/users/JaehyunsLee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 81645781, "node_id": "MDU6TGFiZWw4MTY0NTc4MQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/language-model", "name": "language-model", "color": "d4c5f9", "default": false, "description": ""}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-29T17:09:02Z", "updated_at": "2022-12-06T21:17:34Z", "closed_at": "2022-12-06T21:17:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "nltk version: 3.7.\r\npython version: 3.9.15\r\nFrom the following code:\r\n\r\n```\r\npadded_line = [list(pad_both_ends(word_tokenize(input_text), n=N))]\r\ntrain_data, vocab = padded_everygram_pipeline(order=N, text=padded_line)\r\nlm = Lidstone(gamma=0.2, vocabulary=vocab, order=N)\r\nlm.fit(text=train_data)\r\n```\r\n\r\nwhere input_text is a long string and N as in the Ngram model. From the last line of code above, I get the following error:\r\n\r\n>lm.fit(text=train_data)\r\n>  File \"env\\lib\\site-packages\\nltk\\lm\\api.py\", line 110, in fit\r\n>  self.counts.update(self.vocab.lookup(sent) for sent in text)\r\n>  File \"env\\lib\\site-packages\\nltk\\lm\\counter.py\", line 115, in update\r\n>    for sent in ngram_text:\r\n>  File \"env\\lib\\site-packages\\nltk\\lm\\api.py\", line 110, in <genexpr>\r\n>    self.counts.update(self.vocab.lookup(sent) for sent in text)\r\n> AttributeError: 'itertools.chain' object has no attribute 'lookup'\r\n\r\nCan anyone fix this error for me?", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/3074/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/3074/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/3069", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/3069/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/3069/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/3069/events", "html_url": "https://github.com/nltk/nltk/issues/3069", "id": 1437985527, "node_id": "I_kwDOAASTVs5Vter3", "number": 3069, "title": "`TreebankWordDetokenizer` inconsistent with recombining contractions", "user": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-07T08:50:10Z", "updated_at": "2022-11-30T02:10:11Z", "closed_at": "2022-11-30T02:10:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Hello!\r\n\r\n## Details\r\nSome quick tests I ran:\r\n```python\r\nfrom nltk.tokenize import TreebankWordDetokenizer\r\n>>> TreebankWordDetokenizer().tokenize([\"Do\", \"n't\"])\r\n\"Do n't\"\r\n>>> TreebankWordDetokenizer().tokenize([\"Do\", \"n't\", \"want\"])\r\n\"Don't want\"\r\n>>> TreebankWordDetokenizer().tokenize([\"I\", \"'ve\"])  \r\n\"I 've\"\r\n>>> TreebankWordDetokenizer().tokenize([\"I\", \"'ve\", \"seen\"])\r\n\"I've seen\"\r\n```\r\nAnd a quick testing script I wrote:\r\n```python\r\nfrom nltk.tokenize import TreebankWordDetokenizer, TreebankWordTokenizer\r\n\r\ntests = [\r\n    \"Don't\",\r\n    \"Don't.\",\r\n    \"Don't bother\",\r\n    \"I've\",\r\n    \"I've.\",\r\n    \"I've not\",\r\n]\r\n\r\ntokenizer = TreebankWordTokenizer()\r\ndetokenizer = TreebankWordDetokenizer()\r\n\r\nfor test in tests:\r\n    tokenized = tokenizer.tokenize(test)\r\n    tetokenized = detokenizer.detokenize(tokenized)\r\n    \r\n    print(f\"{test=}\")\r\n    print(f\"{tokenized=}\")\r\n    print(f\"{tetokenized=}\\n\")\r\n```\r\nWith the following output (annotated by me):\r\n```python\r\ntest=\"Don't\"\r\ntokenized=['Do', \"n't\"]\r\ntetokenized=\"Do n't\" # Wrong\r\n\r\ntest=\"Don't.\"\r\ntokenized=['Do', \"n't\", '.']\r\ntetokenized=\"Don't.\" # Right\r\n\r\ntest=\"Don't bother\"\r\ntokenized=['Do', \"n't\", 'bother']\r\ntetokenized=\"Don't bother\" # Right\r\n\r\ntest=\"I've\"\r\ntokenized=['I', \"'ve\"]\r\ntetokenized=\"I 've\" # Wrong\r\n\r\ntest=\"I've.\"\r\ntokenized=['I', \"'ve\", '.']\r\ntetokenized=\"I've.\" # Right\r\n\r\ntest=\"I've not\"\r\ntokenized=['I', \"'ve\", 'not']\r\ntetokenized=\"I've not\" # Right\r\n```\r\n\r\n- Tom Aarsen", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/3069/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/3069/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/3051", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/3051/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/3051/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/3051/events", "html_url": "https://github.com/nltk/nltk/issues/3051", "id": 1385173946, "node_id": "I_kwDOAASTVs5SkBO6", "number": 3051, "title": "Wordnet2021 won't load", "user": {"login": "alcinos", "id": 7438704, "node_id": "MDQ6VXNlcjc0Mzg3MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7438704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alcinos", "html_url": "https://github.com/alcinos", "followers_url": "https://api.github.com/users/alcinos/followers", "following_url": "https://api.github.com/users/alcinos/following{/other_user}", "gists_url": "https://api.github.com/users/alcinos/gists{/gist_id}", "starred_url": "https://api.github.com/users/alcinos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alcinos/subscriptions", "organizations_url": "https://api.github.com/users/alcinos/orgs", "repos_url": "https://api.github.com/users/alcinos/repos", "events_url": "https://api.github.com/users/alcinos/events{/privacy}", "received_events_url": "https://api.github.com/users/alcinos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718744080, "node_id": "MDU6TGFiZWw3MTg3NDQwODA=", "url": "https://api.github.com/repos/nltk/nltk/labels/wordnet", "name": "wordnet", "color": "3861d1", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-09-25T21:43:36Z", "updated_at": "2022-12-13T21:39:32Z", "closed_at": "2022-12-13T21:39:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "On a fresh install, this is what I did:\r\n\r\n```\r\n> import nltk\r\n> nltk.__version__\r\n'3.7'\r\n> nltk.download('wordnet2021')\r\n> nltk.download('omw-1.4')\r\n> from nltk.corpus import wordnet2021 as wn\r\n> wn.synsets(\"dog\")\r\n```\r\nI get the following traceback:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.10/site-packages/nltk/data.py\", line 403, in __init__\r\n    zipfile.getinfo(entry)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.10/zipfile.py\", line 1439, in getinfo\r\n    raise KeyError(\r\nKeyError: \"There is no item named 'wordnet/index.sense' in the archive\"\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.10/site-packages/nltk/corpus/util.py\", line 121, in __getattr__\r\n    self.__load()\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.10/site-packages/nltk/corpus/util.py\", line 89, in __load\r\n    corpus = self.__reader_cls(root, *self.__args, **self.__kwargs)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.10/site-packages/nltk/corpus/reader/wordnet.py\", line 1201, in __init__\r\n    self.map30 = self.map_wn30()\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.10/site-packages/nltk/corpus/reader/wordnet.py\", line 1226, in map_wn30\r\n    sk1 = self.corpus2sk(\"wordnet\")\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.10/site-packages/nltk/corpus/reader/wordnet.py\", line 1212, in corpus2sk\r\n    with self.open(fn) as fp:\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.10/site-packages/nltk/corpus/reader/api.py\", line 231, in open\r\n    stream = self._root.join(file).open(encoding)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.10/site-packages/nltk/data.py\", line 451, in join\r\n    return ZipFilePathPointer(self._zipfile, entry)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.10/site-packages/nltk/compat.py\", line 41, in _decorator\r\n    return init_func(*args, **kwargs)\r\n  File \"/home/user/miniconda3/envs/test_env/lib/python3.10/site-packages/nltk/data.py\", line 415, in __init__\r\n    raise OSError(\r\nOSError: Zipfile '/home/user/nltk_data/corpora/wordnet2021.zip' does not contain 'wordnet/index.sense'\r\n```\r\n\r\nThis can be worked-around by removing the mapping to wn30, which I don't care about anyways. Specifically, I changed `nltk/corpus/reader/wordnet.py:1201` to \r\n```\r\nself.map30 = None\r\n``` \r\nwhich allows the error to go away and the library to be usable.\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/3051/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/3051/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/3044", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/3044/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/3044/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/3044/events", "html_url": "https://github.com/nltk/nltk/pull/3044", "id": 1359853630, "node_id": "PR_kwDOAASTVs4-Q6Yn", "number": 3044, "title": "Read `bool` field from Verbnet", "user": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-02T08:11:08Z", "updated_at": "2022-09-05T12:06:59Z", "closed_at": "2022-09-05T12:06:05Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/3044", "html_url": "https://github.com/nltk/nltk/pull/3044", "diff_url": "https://github.com/nltk/nltk/pull/3044.diff", "patch_url": "https://github.com/nltk/nltk/pull/3044.patch", "merged_at": "2022-09-05T12:06:05Z"}, "body": "Fixes #2996\r\n\r\nHello!\r\n\r\n## Pull request overview\r\n* Read `bool` field from VerbNet, and store the data as a `negated` field in the semantics.\r\n* Fix the printing of this data.\r\n\r\n## The issue\r\nSee the following snippet for a segment of `murder-42.1.xml`, a Verbnet file:\r\n```xml\r\n...\r\n            <SEMANTICS>\r\n                <PRED value=\"cause\">\r\n                    <ARGS>\r\n                        <ARG type=\"ThemRole\" value=\"Agent\"/>\r\n                        <ARG type=\"Event\" value=\"E\"/>\r\n                    </ARGS>\r\n                </PRED>\r\n                <PRED value=\"alive\">\r\n                    <ARGS>\r\n                        <ARG type=\"Event\" value=\"start(E)\"/>\r\n                        <ARG type=\"ThemRole\" value=\"Patient\"/>\r\n                    </ARGS>\r\n                </PRED>\r\n                <PRED bool=\"!\" value=\"alive\">\r\n                    <ARGS>\r\n                        <ARG type=\"Event\" value=\"result(E)\"/>\r\n                        <ARG type=\"ThemRole\" value=\"Patient\"/>\r\n                    </ARGS>\r\n                </PRED>\r\n            </SEMANTICS>\r\n...\r\n```\r\nNote the `bool=\"!\"` on the last predicate. This means that the result of the event is that the Patient is *not* alive, while the patient starts as alive, as shown in the predicate before. However, this bool field is never read by the NLTK `VerbnetCorpusReader`.\r\n\r\nConsequently, printing the frames of `murder-42.1` gives:\r\n```python\r\n>>> from nltk.corpus import verbnet\r\n>>> print(verbnet.pprint_frames(\"murder-42.1\"))\r\nBasic Transitive\r\n  Example: Brutus murdered Julius Cesar.\r\n  Syntax: NP[Agent] VERB NP[Patient]\r\n  Semantics:\r\n    * cause(Agent, E)\r\n    * alive(start(E), Patient)\r\n    * alive(result(E), Patient)\r\nNP-PP (Instrument-PP)\r\n  Example: Caesar killed Brutus with a knife.\r\n  Syntax: NP[Agent] VERB NP[Patient] PREP[with] NP[Instrument]\r\n  Semantics:\r\n    * cause(Agent, E)\r\n    * alive(start(E), Patient)\r\n    * alive(result(E), Patient)\r\n    * use(during(E), Agent, Instrument)\r\n```\r\nNote that both the start and result is just `alive`, which is in conflict with the [official semantics of murder-42.1](https://verbs.colorado.edu/verb-index/vn3.3/vn/murder-42.1.php), which clearly shows `\u00acalive(result(E), Patient)`.\r\n\r\n## Changes\r\nThe `_get_semantics_within_frame` method, responsible for reading this data, now also outputs a `\"negated\"` field in its dictionary, set to `True` if there is a `bool=\"!\"` on that predicate, and `False` otherwise. This `\"negated\"` field is then used in `_pprint_semantics_within_frame`, where a `\u00ac` is prepended to the predicate value.\r\n\r\n## Results\r\n```python\r\n>>> from nltk.corpus import verbnet\r\n>>> print(verbnet.pprint_frames(\"murder-42.1\"))\r\nBasic Transitive\r\n  Example: Brutus murdered Julius Cesar.\r\n  Syntax: NP[Agent] VERB NP[Patient]\r\n  Semantics:\r\n    * cause(Agent, E)\r\n    * alive(start(E), Patient)\r\n    * \u00acalive(result(E), Patient)\r\nNP-PP (Instrument-PP)\r\n  Example: Caesar killed Brutus with a knife.\r\n  Syntax: NP[Agent] VERB NP[Patient] PREP[with] NP[Instrument]\r\n  Semantics:\r\n    * cause(Agent, E)\r\n    * alive(start(E), Patient)\r\n    * \u00acalive(result(E), Patient)\r\n    * use(during(E), Agent, Instrument)\r\n```\r\n\r\nThis `negated` value is also returned by `verbnet.frames` now:\r\n```python\r\n>>> from nltk.corpus import verbnet\r\n>>> from pprint import pprint\r\n>>> pprint(verbnet.frames(\"murder-42.1\"))\r\n[{'description': {'primary': 'Basic Transitive', 'secondary': ''},\r\n  'example': 'Brutus murdered Julius Cesar.',\r\n  'semantics': [{'arguments': [{'type': 'ThemRole', 'value': 'Agent'},\r\n                               {'type': 'Event', 'value': 'E'}],\r\n                 'negated': False,\r\n                 'predicate_value': 'cause'},\r\n                {'arguments': [{'type': 'Event', 'value': 'start(E)'},\r\n                               {'type': 'ThemRole', 'value': 'Patient'}],\r\n                 'negated': False,\r\n                 'predicate_value': 'alive'},\r\n                {'arguments': [{'type': 'Event', 'value': 'result(E)'},\r\n                               {'type': 'ThemRole', 'value': 'Patient'}],\r\n                 'negated': True,\r\n                 'predicate_value': 'alive'}],\r\n  'syntax': [{'modifiers': {'selrestrs': [], 'synrestrs': [], 'value': 'Agent'},\r\n              'pos_tag': 'NP'},\r\n             {'modifiers': {'selrestrs': [], 'synrestrs': [], 'value': ''},\r\n              'pos_tag': 'VERB'},\r\n             {'modifiers': {'selrestrs': [],\r\n                            'synrestrs': [],\r\n                            'value': 'Patient'},\r\n              'pos_tag': 'NP'}]},\r\n {'description': {'primary': 'NP-PP', 'secondary': 'Instrument-PP'},\r\n  'example': 'Caesar killed Brutus with a knife.',\r\n  'semantics': [{'arguments': [{'type': 'ThemRole', 'value': 'Agent'},\r\n                               {'type': 'Event', 'value': 'E'}],\r\n                 'negated': False,\r\n                 'predicate_value': 'cause'},\r\n                {'arguments': [{'type': 'Event', 'value': 'start(E)'},\r\n                               {'type': 'ThemRole', 'value': 'Patient'}],\r\n                 'negated': False,\r\n                 'predicate_value': 'alive'},\r\n                {'arguments': [{'type': 'Event', 'value': 'result(E)'},\r\n                               {'type': 'ThemRole', 'value': 'Patient'}],\r\n                 'negated': True,\r\n                 'predicate_value': 'alive'},\r\n                {'arguments': [{'type': 'Event', 'value': 'during(E)'},\r\n                               {'type': 'ThemRole', 'value': 'Agent'},\r\n                               {'type': 'ThemRole', 'value': 'Instrument'}],\r\n                 'negated': False,\r\n                 'predicate_value': 'use'}],\r\n  'syntax': [{'modifiers': {'selrestrs': [], 'synrestrs': [], 'value': 'Agent'},\r\n              'pos_tag': 'NP'},\r\n             {'modifiers': {'selrestrs': [], 'synrestrs': [], 'value': ''},\r\n              'pos_tag': 'VERB'},\r\n             {'modifiers': {'selrestrs': [],\r\n                            'synrestrs': [],\r\n                            'value': 'Patient'},\r\n              'pos_tag': 'NP'},\r\n             {'modifiers': {'selrestrs': [], 'synrestrs': [], 'value': 'with'},\r\n              'pos_tag': 'PREP'},\r\n             {'modifiers': {'selrestrs': [],\r\n                            'synrestrs': [],\r\n                            'value': 'Instrument'},\r\n              'pos_tag': 'NP'}]}]\r\n```\r\n\r\nI'm open to changing the `\"negated\"` dictionary key to something else, but I figured it was more descriptive than `\"bool\"`.\r\n\r\nThank you @TMPxyz for raising #2996. As you seem familiar with Verbnet, perhaps you could review these changes briefly, and/or give your thoughts?\r\n\r\n- Tom Aarsen", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/3044/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/3044/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/3043", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/3043/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/3043/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/3043/events", "html_url": "https://github.com/nltk/nltk/pull/3043", "id": 1358826608, "node_id": "PR_kwDOAASTVs4-Nc53", "number": 3043, "title": "Resolve CoreNLP Regression", "user": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718743421, "node_id": "MDU6TGFiZWw3MTg3NDM0MjE=", "url": "https://api.github.com/repos/nltk/nltk/labels/parsing", "name": "parsing", "color": "94e06d", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-01T13:10:54Z", "updated_at": "2022-09-01T14:41:35Z", "closed_at": "2022-09-01T13:37:27Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/3043", "html_url": "https://github.com/nltk/nltk/pull/3043", "diff_url": "https://github.com/nltk/nltk/pull/3043.diff", "patch_url": "https://github.com/nltk/nltk/pull/3043.patch", "merged_at": "2022-09-01T13:37:26Z"}, "body": "Hello!\r\n\r\n### Pull request overview\r\n* #2993 introduced `strict_json` in `CoreNLPServer`, but tries to use it in `GenericCoreNLPParser`.\r\n\r\n### How to reproduce\r\n```python\r\nfrom nltk.parse.corenlp import CoreNLPServer, CoreNLPParser\r\n\r\nwith CoreNLPServer() as server:\r\n    sentence = \"This is my sentence, which I'd like to get parsed.\"\r\n    parser = CoreNLPParser(server.url)\r\n    next(parser.parse_text(sentence)).pretty_print()\r\n```\r\n\r\n### Before this PR\r\n```\r\nTraceback (most recent call last):\r\n  File \"c:\\GitHub\\nltk\\nltk_0002.py\", line 6, in <module>\r\n    next(parser.parse_text(sentence)).pretty_print()\r\n  File \"c:\\GitHub\\nltk\\nltk\\parse\\corenlp.py\", line 298, in parse_text\r\n    parsed_data = self.api_call(text, *args, **kwargs)\r\n  File \"c:\\GitHub\\nltk\\nltk\\parse\\corenlp.py\", line 252, in api_call\r\n    return response.json(strict=self.strict_json)\r\nAttributeError: 'CoreNLPParser' object has no attribute 'strict_json'\r\n```\r\n\r\n### After this PR\r\n```\r\n                                     ROOT                                     \r\n                                      |\r\n                                      S                                       \r\n  ____________________________________|____________________________________   \r\n |        VP                                                               |  \r\n |     ___|_________________                                               |  \r\n |    |                     NP                                             |  \r\n |    |         ____________|_________                                     |  \r\n |    |        |            |        SBAR                                  |  \r\n |    |        |            |     ____|________                            |  \r\n |    |        |            |    |             S                           |  \r\n |    |        |            |    |     ________|____                       |  \r\n |    |        |            |    |    |             VP                     |  \r\n |    |        |            |    |    |     ________|___                   |\r\n |    |        |            |    |    |    |            VP                 |\r\n |    |        |            |    |    |    |    ________|___               |\r\n |    |        |            |    |    |    |   |            S              |\r\n |    |        |            |    |    |    |   |            |              |\r\n |    |        |            |    |    |    |   |            VP             |\r\n |    |        |            |    |    |    |   |     _______|___           |\r\n |    |        |            |    |    |    |   |    |           VP         |\r\n |    |        |            |    |    |    |   |    |        ___|____      |\r\n NP   |        NP           |   WHNP  NP   |   |    |       |        VP    |\r\n |    |    ____|_____       |    |    |    |   |    |       |        |     |\r\n DT  VBZ PRP$        NN     ,   WDT  PRP  VBD  VB   TO      VB      VBN    .\r\n |    |   |          |      |    |    |    |   |    |       |        |     |\r\nThis  is  my      sentence  ,  which  I    'd like  to     get     parsed  .\r\n```\r\n\r\nI've simply moved `strict_json` fully to `GenericCoreNLPParser`.\r\n\r\n- Tom Aarsen", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/3043/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/3043/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/3042", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/3042/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/3042/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/3042/events", "html_url": "https://github.com/nltk/nltk/pull/3042", "id": 1358558002, "node_id": "PR_kwDOAASTVs4-Mihz", "number": 3042, "title": "Greatly improve time efficiency of `SyllableTokenizer` when tokenizing numbers", "user": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-01T09:44:48Z", "updated_at": "2022-09-01T16:59:43Z", "closed_at": "2022-09-01T13:38:48Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/3042", "html_url": "https://github.com/nltk/nltk/pull/3042", "diff_url": "https://github.com/nltk/nltk/pull/3042.diff", "patch_url": "https://github.com/nltk/nltk/pull/3042.patch", "merged_at": "2022-09-01T13:38:48Z"}, "body": "Resolves #3041\r\n\r\n## Pull request overview\r\n* Greatly improve time efficiency of `SyllableTokenizer` when tokenizing numbers.\r\n* Slightly improve time efficiency of `SyllableTokenizer` when tokenizing most inputs.\r\n* Improve output of `SyllableTokenizer` when used on numbers.\r\n  * Before: `\"2014\"` -> `['20', '1', '4']`\r\n  * After: `\"2014\"` -> `['2014']`\r\n* Add a test to showcase the change in output.\r\n\r\n## Issue\r\nAs can be seen in #3041, tokenizing numbers with `SyllableTokenizer` is quite slow. My experiments showed me that doubling the length of a number-only string increases the time to tokenize that string by significantly more than twice. The primary issues lies in `assign_values`:\r\nhttps://github.com/nltk/nltk/blob/13cea29c3f99db93296b10c6333368f88be4135d/nltk/tokenize/sonority_sequencing.py#L85-L110\r\n\r\nThe first case of the `except` branch has a warning, i.e. that the character is unknown to the tokenizer. The value is then assigned to be equivalent to a vowel, and crucially, is added to `self.vowels`. If the input text is simply `\"9\" * 1000`, then this `assign_values` method will fill `self.vowels` to be `aeouiy999...` with 1000 `\"9\"`'s. The remainder of the methods of this class will e.g. do membership checks with this `self.vowels`, use `self.vowels` to build a regex pattern, or loop over `self.vowels` directly. Long story short, this all gets much, much slower.\r\n\r\n## Changes\r\nWe want `self.vowels` to be a kind of set: we don't want any duplication in here. So, I've modified the method to only add to `self.vowels` if the character isn't already in `self.vowels`. Furthermore, I'm now treating numbers like punctuation. \r\nFurthermore, I've modified `validate_syllables` slightly. I just create a pattern before the start of the loop, rather than re-building a regex in the loop itself. \r\n\r\n## Performance\r\n<details>\r\n<summary>Performance comparison, before and after</summary>\r\n\r\nI've created a small script to track the time-efficiency:\r\n```python\r\nimport time\r\nfrom nltk import SyllableTokenizer\r\n\r\ntokenizer = SyllableTokenizer()\r\nfor length in [10**i for i in range(2, 7)]:\r\n    token = \"9\"\r\n    text = token * (length // len(token))\r\n    start_t = time.time()\r\n    output = tokenizer.tokenize(text)\r\n    print(f\"Text: \\\"{token}...{token}\\\" Length: {length: <7} Time: {time.time() - start_t:.8f}s Output Length: {len(output)}\")\r\n```\r\nThe `token = \"9\"` line gets modified during these tests, i.e. `Test for \"ab\"` refers to using `\"ab\"` as the `token` in this script.\r\n\r\n### Before this PR\r\n**Test for \"9\"**\r\n```\r\nc:\\GitHub\\nltk\\nltk\\tokenize\\sonority_sequencing.py:102: UserWarning: Character not defined in sonority_hierarchy, assigning as vowel: '9'\r\n  warnings.warn(\r\nText: \"9...9\" Length: 100     Time: 0.00096536s Output Length: 99\r\nText: \"9...9\" Length: 1000    Time: 0.03122854s Output Length: 999\r\nText: \"9...9\" Length: 10000   Time: 2.04415488s Output Length: 9999\r\n[I terminated the script after a minute or so]\r\n```\r\n**Test for \"a\"**\r\n```\r\nText: \"a...a\" Length: 100     Time: 0.00100040s Output Length: 99\r\nText: \"a...a\" Length: 1000    Time: 0.00199938s Output Length: 999\r\nText: \"a...a\" Length: 10000   Time: 0.01996183s Output Length: 9999\r\nText: \"a...a\" Length: 100000  Time: 0.26595378s Output Length: 99999\r\nText: \"a...a\" Length: 1000000 Time: 1.77999187s Output Length: 999999\r\n```\r\n**Test for \"b\"**\r\n```\r\nText: \"b...b\" Length: 100     Time: 0.00000000s Output Length: 1\r\nText: \"b...b\" Length: 1000    Time: 0.00037980s Output Length: 1\r\nText: \"b...b\" Length: 10000   Time: 0.00175548s Output Length: 1\r\nText: \"b...b\" Length: 100000  Time: 0.03833652s Output Length: 1\r\nText: \"b...b\" Length: 1000000 Time: 0.19865584s Output Length: 1\r\n```\r\n**Test for \"ab\"**\r\n```\r\nText: \"ab...ab\" Length: 100     Time: 0.00033975s Output Length: 50\r\nText: \"ab...ab\" Length: 1000    Time: 0.00164914s Output Length: 500\r\nText: \"ab...ab\" Length: 10000   Time: 0.01277876s Output Length: 5000\r\nText: \"ab...ab\" Length: 100000  Time: 0.16249561s Output Length: 50000\r\nText: \"ab...ab\" Length: 1000000 Time: 1.18614769s Output Length: 500000\r\n```\r\n\r\n### After this PR\r\n**Test for \"9\"**\r\n```\r\nText: \"9...9\" Length: 100     Time: 0.00000000s Output Length: 1\r\nText: \"9...9\" Length: 1000    Time: 0.00000000s Output Length: 1\r\nText: \"9...9\" Length: 10000   Time: 0.00303316s Output Length: 1\r\nText: \"9...9\" Length: 100000  Time: 0.06793642s Output Length: 1\r\nText: \"9...9\" Length: 1000000 Time: 0.35292196s Output Length: 1\r\n```\r\n**Verdict:** Enormously faster, but note that e.g. `2014` is now tokenized into `[\"2014\"]` instead of `[\"20\", \"1\", \"4\"]`. I would call this a big improvement.\r\n\r\n**Test for \"a\"**\r\n```\r\nText: \"a...a\" Length: 100     Time: 0.00032091s Output Length: 99\r\nText: \"a...a\" Length: 1000    Time: 0.00131679s Output Length: 999\r\nText: \"a...a\" Length: 10000   Time: 0.01204681s Output Length: 9999\r\nText: \"a...a\" Length: 100000  Time: 0.18806863s Output Length: 99999\r\nText: \"a...a\" Length: 1000000 Time: 1.28347945s Output Length: 999999\r\n```\r\n**Verdict:** Small improvement, likely due to the `re.compile` change.\r\n\r\n**Test for \"b\"**\r\n```\r\nText: \"b...b\" Length: 100     Time: 0.00000000s Output Length: 1\r\nText: \"b...b\" Length: 1000    Time: 0.00000000s Output Length: 1\r\nText: \"b...b\" Length: 10000   Time: 0.00199986s Output Length: 1\r\nText: \"b...b\" Length: 100000  Time: 0.03462195s Output Length: 1\r\nText: \"b...b\" Length: 1000000 Time: 0.18890190s Output Length: 1\r\n```\r\n**Verdict:** Equivalent.\r\n\r\n**Test for \"ab\"**\r\n```\r\nText: \"ab...ab\" Length: 100     Time: 0.00000000s Output Length: 50\r\nText: \"ab...ab\" Length: 1000    Time: 0.00116086s Output Length: 500\r\nText: \"ab...ab\" Length: 10000   Time: 0.00857925s Output Length: 5000\r\nText: \"ab...ab\" Length: 100000  Time: 0.11815405s Output Length: 50000\r\nText: \"ab...ab\" Length: 1000000 Time: 0.89497209s Output Length: 500000\r\n```\r\n**Verdict:** Small improvement, likely due to the `re.compile` change.\r\n\r\n</details>\r\n\r\n## Consequences\r\nBeyond being much faster, this also affects the tokenized output:\r\n```python\r\nfrom nltk.tokenize import SyllableTokenizer\r\nfrom nltk import word_tokenize\r\ntokenizer = SyllableTokenizer()\r\ntext = \"This is a foobar-like sentence from 2014.\"\r\nprint([tokenizer.tokenize(token) for token in word_tokenize(text)])\r\n```\r\nOutput before this PR:\r\n```\r\nc:\\GitHub\\nltk\\nltk\\tokenize\\sonority_sequencing.py:102: UserWarning: Character not defined in sonority_hierarchy, assigning as vowel: '2'\r\n  warnings.warn(\r\nc:\\GitHub\\nltk\\nltk\\tokenize\\sonority_sequencing.py:102: UserWarning: Character not defined in sonority_hierarchy, assigning as vowel: '0'\r\n  warnings.warn(\r\nc:\\GitHub\\nltk\\nltk\\tokenize\\sonority_sequencing.py:102: UserWarning: Character not defined in sonority_hierarchy, assigning as vowel: '1'\r\n  warnings.warn(\r\nc:\\GitHub\\nltk\\nltk\\tokenize\\sonority_sequencing.py:102: UserWarning: Character not defined in sonority_hierarchy, assigning as vowel: '4'\r\n  warnings.warn(\r\n[['This'], ['is'], ['a'], ['foo', 'bar', '-', 'li', 'ke'], ['sen', 'ten', 'ce'], ['from'], ['20', '1', '4'], ['.']]\r\n```\r\nOutput after this PR:\r\n```\r\n[['This'], ['is'], ['a'], ['foo', 'bar', '-', 'li', 'ke'], ['sen', 'ten', 'ce'], ['from'], ['2014'], ['.']]\r\n```\r\n\r\nThank you @BLKSerene for pointing out this issue.\r\n\r\n- Tom Aarsen", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/3042/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/3042/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/3041", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/3041/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/3041/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/3041/events", "html_url": "https://github.com/nltk/nltk/issues/3041", "id": 1351164818, "node_id": "I_kwDOAASTVs5QiSOS", "number": 3041, "title": "Sonority sequencing syllable tokenizer performs significantly slower on numbers than on words", "user": {"login": "BLKSerene", "id": 23695743, "node_id": "MDQ6VXNlcjIzNjk1NzQz", "avatar_url": "https://avatars.githubusercontent.com/u/23695743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BLKSerene", "html_url": "https://github.com/BLKSerene", "followers_url": "https://api.github.com/users/BLKSerene/followers", "following_url": "https://api.github.com/users/BLKSerene/following{/other_user}", "gists_url": "https://api.github.com/users/BLKSerene/gists{/gist_id}", "starred_url": "https://api.github.com/users/BLKSerene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BLKSerene/subscriptions", "organizations_url": "https://api.github.com/users/BLKSerene/orgs", "repos_url": "https://api.github.com/users/BLKSerene/repos", "events_url": "https://api.github.com/users/BLKSerene/events{/privacy}", "received_events_url": "https://api.github.com/users/BLKSerene/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-25T16:27:09Z", "updated_at": "2022-09-01T13:38:49Z", "closed_at": "2022-09-01T13:38:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The sonority sequencing syllable tokenizer (`nltk.SyllableTokenizer`) performs significantly slower on numbers than on words. It seems that the time complexity for words is O(n), which is okay, but O(n^2) for numbers, which is not so good.\r\n\r\n```\r\n>>> timeit.timeit('t.tokenize(\"99\")', setup='import nltk; t = nltk.SyllableTokenizer()', number = 100)\r\n0.03364099999998871\r\n>>> timeit.timeit('t.tokenize(\"thisisanextremelylongword\")', setup='import nltk; t = nltk.SyllableTokenizer()', number = 100)\r\n0.002708099999949809\r\n>>> timeit.timeit('t.tokenize(\"99\")', setup='import nltk; t = nltk.SyllableTokenizer()', number = 1000)\r\n2.5833234000000402\r\n>>> timeit.timeit('t.tokenize(\"thisisanextremelylongword\")', setup='import nltk; t = nltk.SyllableTokenizer()', number = 1000)\r\n0.023796200000106182\r\n>>> timeit.timeit('t.tokenize(\"99\")', setup='import nltk; t = nltk.SyllableTokenizer()', number = 10000)\r\n264.43897390000006\r\n>>> timeit.timeit('t.tokenize(\"thisisanextremelylongword\")', setup='import nltk; t = nltk.SyllableTokenizer()', number = 10000)\r\n0.24109669999984362\r\n```\r\n\r\nOS: Windows 10 x64\r\nPython: 3.8.10 x64\r\nNLTK: 3.7", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/3041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/3041/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/3037", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/3037/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/3037/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/3037/events", "html_url": "https://github.com/nltk/nltk/issues/3037", "id": 1350091208, "node_id": "I_kwDOAASTVs5QeMHI", "number": 3037, "title": "Incorrect encoding in `UdhrCorpusReader` corpus reader", "user": {"login": "hamiltonianflow", "id": 90034325, "node_id": "MDQ6VXNlcjkwMDM0MzI1", "avatar_url": "https://avatars.githubusercontent.com/u/90034325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hamiltonianflow", "html_url": "https://github.com/hamiltonianflow", "followers_url": "https://api.github.com/users/hamiltonianflow/followers", "following_url": "https://api.github.com/users/hamiltonianflow/following{/other_user}", "gists_url": "https://api.github.com/users/hamiltonianflow/gists{/gist_id}", "starred_url": "https://api.github.com/users/hamiltonianflow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hamiltonianflow/subscriptions", "organizations_url": "https://api.github.com/users/hamiltonianflow/orgs", "repos_url": "https://api.github.com/users/hamiltonianflow/repos", "events_url": "https://api.github.com/users/hamiltonianflow/events{/privacy}", "received_events_url": "https://api.github.com/users/hamiltonianflow/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-08-24T22:31:23Z", "updated_at": "2022-09-01T08:27:40Z", "closed_at": "2022-09-01T08:27:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "There are problems with encoding of Polish characters in `Polish-Latin2` and `Polish_Polski-Latin2` files in the `udhr` corpus. When importing the text using the corpus reader, one obtains the improperly rendered characters. For example\r\n\r\n```python\r\n>>> from nltk.corpus import udhr\r\n>>> udhr.raw('Polish-Latin2')[141:164]\r\n'jednomy\\x9clnie Powszechn\u0161'\r\n```\r\nThe character `\\x9c` should be rendered correctly as `\u015b`, while the character `\u0161` as `\u0105`. The encoding that `nltk` reader uses for those files is `ISO-8859`:\r\n\r\n```python\r\n>>> udhr.encoding('Polish-Latin2')\r\n'ISO-8859-2'\r\n```\r\n\r\nHowever, the files themselves are encoded in `WINDOWS 1250`, as can be seen by re-encoding them with that encoding.\r\n\r\n```python\r\n>>> bytes(udhr.raw('Polish-Latin2'), 'ISO-8859-2').decode('cp1250')[141:164]\r\n'jednomy\u015blnie Powszechn\u0105'\r\n```\r\n\r\nWhile the code above invloves to `Polish-Latin2` same issue concerns `Polish_Polski-Latin2`.\r\n\r\nModifying `UdhrCorpusReader.ENCODINGS` in `nltk/corpus/reader/udhr.py` resolves the issue.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/3037/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/3037/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/3035", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/3035/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/3035/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/3035/events", "html_url": "https://github.com/nltk/nltk/issues/3035", "id": 1347576490, "node_id": "I_kwDOAASTVs5QUmKq", "number": 3035, "title": "Acronyms with periods at the end of the sentence are tokenized incorrectly", "user": {"login": "BLKSerene", "id": 23695743, "node_id": "MDQ6VXNlcjIzNjk1NzQz", "avatar_url": "https://avatars.githubusercontent.com/u/23695743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BLKSerene", "html_url": "https://github.com/BLKSerene", "followers_url": "https://api.github.com/users/BLKSerene/followers", "following_url": "https://api.github.com/users/BLKSerene/following{/other_user}", "gists_url": "https://api.github.com/users/BLKSerene/gists{/gist_id}", "starred_url": "https://api.github.com/users/BLKSerene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BLKSerene/subscriptions", "organizations_url": "https://api.github.com/users/BLKSerene/orgs", "repos_url": "https://api.github.com/users/BLKSerene/repos", "events_url": "https://api.github.com/users/BLKSerene/events{/privacy}", "received_events_url": "https://api.github.com/users/BLKSerene/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}, {"id": 789518993, "node_id": "MDU6TGFiZWw3ODk1MTg5OTM=", "url": "https://api.github.com/repos/nltk/nltk/labels/need-help", "name": "need-help", "color": "e0609e", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-08-23T08:50:04Z", "updated_at": "2022-12-13T21:41:31Z", "closed_at": "2022-12-13T21:41:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If acronyms with periods are at the end of the sentence, `TreebankWordTokenizer` and `NLTKWordTokenizer` would split the last period (which serves both as part of the acronym and as a full stop):\r\n\r\n```\r\n>>> import nltk\r\n>>> nltk.TreebankWordTokenizer().tokenize('I have been to U.S.A.')\r\n['I', 'have', 'been', 'to', 'U.S.A', '.']\r\n>>> nltk.NLTKWordTokenizer().tokenize('I have been to U.S.A.')\r\n['I', 'have', 'been', 'to', 'U.S.A', '.']\r\n```\r\n\r\nSentences with acronyms at the start or middle are handled correctly:\r\n\r\n```\r\n>>> nltk.TreebankWordTokenizer().tokenize('U.S.A. is a north American country.')\r\n['U.S.A.', 'is', 'a', 'north', 'American', 'country', '.']\r\n>>> nltk.NLTKWordTokenizer().tokenize('U.S.A. is a north American country.')\r\n['U.S.A.', 'is', 'a', 'north', 'American', 'country', '.']\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/3035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/3035/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2996", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2996/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2996/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2996/events", "html_url": "https://github.com/nltk/nltk/issues/2996", "id": 1227814670, "node_id": "I_kwDOAASTVs5JLvcO", "number": 2996, "title": "Verbnet reader doesn't process the semantics predicate bool field", "user": {"login": "TMPxyz", "id": 6214920, "node_id": "MDQ6VXNlcjYyMTQ5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/6214920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TMPxyz", "html_url": "https://github.com/TMPxyz", "followers_url": "https://api.github.com/users/TMPxyz/followers", "following_url": "https://api.github.com/users/TMPxyz/following{/other_user}", "gists_url": "https://api.github.com/users/TMPxyz/gists{/gist_id}", "starred_url": "https://api.github.com/users/TMPxyz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TMPxyz/subscriptions", "organizations_url": "https://api.github.com/users/TMPxyz/orgs", "repos_url": "https://api.github.com/users/TMPxyz/repos", "events_url": "https://api.github.com/users/TMPxyz/events{/privacy}", "received_events_url": "https://api.github.com/users/TMPxyz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-05-06T12:37:39Z", "updated_at": "2022-09-05T12:06:06Z", "closed_at": "2022-09-05T12:06:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "The current verbnet reader doesn't read the `bool` attribute of `'VNCLASS/FRAMES/FRAME/SEMANTICS/PRED'` element, it doesn't handle the negative case in `pprint_frames` either.\r\n\r\nTake the [`murder-42.1.xml`](https://verbs.colorado.edu/verb-index/vn3.3/vn/murder-42.1.php) as example, the `PRED` element has a `bool` attribute. `pprint_frames()` should print `\u00acalive` instead of `alive` here.\r\n\r\n```\r\n<PRED bool=\"!\" value=\"alive\">\r\n      <ARGS>\r\n            <ARG type=\"Event\" value=\"result(E)\"/>\r\n            <ARG type=\"ThemRole\" value=\"Patient\"/>\r\n      </ARGS>\r\n</PRED>\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2996/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2996/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2934", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2934/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2934/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2934/events", "html_url": "https://github.com/nltk/nltk/issues/2934", "id": 1112821158, "node_id": "I_kwDOAASTVs5CVE2m", "number": 2934, "title": "Potential bug in sentence tokenizer since 3.6.6", "user": {"login": "radcheb", "id": 5963615, "node_id": "MDQ6VXNlcjU5NjM2MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/5963615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/radcheb", "html_url": "https://github.com/radcheb", "followers_url": "https://api.github.com/users/radcheb/followers", "following_url": "https://api.github.com/users/radcheb/following{/other_user}", "gists_url": "https://api.github.com/users/radcheb/gists{/gist_id}", "starred_url": "https://api.github.com/users/radcheb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/radcheb/subscriptions", "organizations_url": "https://api.github.com/users/radcheb/orgs", "repos_url": "https://api.github.com/users/radcheb/repos", "events_url": "https://api.github.com/users/radcheb/events{/privacy}", "received_events_url": "https://api.github.com/users/radcheb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-01-24T15:50:45Z", "updated_at": "2022-07-04T05:40:03Z", "closed_at": "2022-07-04T05:40:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "We use `nltk` tokenizer `tokenizers/punkt/english.pickle` to split relatively long text into sentences.\r\nAfter we upgrading to 3.6.6, we noticed at least one change in the tokenizer results which looks rather like a bug\r\nGiven this simple text example:\r\n```\r\n1. This is R .\r\n2. This is A .\r\n3. That's all\r\n```\r\n\r\nWe expect those sentences:\r\n```json\r\n[\r\n  \"1.\", \r\n  \"This is R .\",\r\n  \"2.\", \r\n  \"This is A .\",\r\n  \"3.\",\r\n  \"That's all\"\r\n]\r\n```\r\nHowever since `3.6.6` we got these sentences:\r\n```json\r\n[\r\n  \"1.\", \r\n  \"This is R .\\n2.\", \r\n  \"This is A .\",\r\n  \"3.\",\r\n  \"That's all\"\r\n]\r\n```\r\n\r\nThis may looks very insignificant but may has some effect on sensible transformer-based nlp models...\r\n\r\nHere is the whole code to reproduce it:\r\n```python\r\nimport nltk\r\n\r\ntext = \"\"\"1. This is R .\r\n2. This is A .\r\n3. That's all\"\"\"\r\n\r\ntokenizer = nltk.data.load('tokenizers/punkt/english.pickle')\r\ntokenizer.tokenize(text)\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2934/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2934/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2932", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2932/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2932/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2932/events", "html_url": "https://github.com/nltk/nltk/issues/2932", "id": 1110267483, "node_id": "I_kwDOAASTVs5CLVZb", "number": 2932, "title": "nltk.tokenize.word_tokenize crash with leading terminal punctuation", "user": {"login": "itzsimpl", "id": 4784070, "node_id": "MDQ6VXNlcjQ3ODQwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/4784070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itzsimpl", "html_url": "https://github.com/itzsimpl", "followers_url": "https://api.github.com/users/itzsimpl/followers", "following_url": "https://api.github.com/users/itzsimpl/following{/other_user}", "gists_url": "https://api.github.com/users/itzsimpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/itzsimpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itzsimpl/subscriptions", "organizations_url": "https://api.github.com/users/itzsimpl/orgs", "repos_url": "https://api.github.com/users/itzsimpl/repos", "events_url": "https://api.github.com/users/itzsimpl/events{/privacy}", "received_events_url": "https://api.github.com/users/itzsimpl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-21T09:49:26Z", "updated_at": "2022-01-21T10:00:47Z", "closed_at": "2022-01-21T10:00:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "If text starts with a terminal punctuation mark (.!?) followed by space, nltk.tokenize.word_tokenize(text) will crash.\r\n```\r\n>>> word_tokenize('? who')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/ceph/hpc/home/ilb/.local/lib/python3.8/site-packages/nltk/tokenize/__init__.py\", line 129, in word_tokenize\r\n    sentences = [text] if preserve_line else sent_tokenize(text, language)\r\n  File \"/ceph/hpc/home/ilb/.local/lib/python3.8/site-packages/nltk/tokenize/__init__.py\", line 107, in sent_tokenize\r\n    return tokenizer.tokenize(text)\r\n  File \"/ceph/hpc/home/ilb/.local/lib/python3.8/site-packages/nltk/tokenize/punkt.py\", line 1276, in tokenize\r\n    return list(self.sentences_from_text(text, realign_boundaries))\r\n  File \"/ceph/hpc/home/ilb/.local/lib/python3.8/site-packages/nltk/tokenize/punkt.py\", line 1332, in sentences_from_text\r\n    return [text[s:e] for s, e in self.span_tokenize(text, realign_boundaries)]\r\n  File \"/ceph/hpc/home/ilb/.local/lib/python3.8/site-packages/nltk/tokenize/punkt.py\", line 1332, in <listcomp>\r\n    return [text[s:e] for s, e in self.span_tokenize(text, realign_boundaries)]\r\n  File \"/ceph/hpc/home/ilb/.local/lib/python3.8/site-packages/nltk/tokenize/punkt.py\", line 1322, in span_tokenize\r\n    for sentence in slices:\r\n  File \"/ceph/hpc/home/ilb/.local/lib/python3.8/site-packages/nltk/tokenize/punkt.py\", line 1421, in _realign_boundaries\r\n    for sentence1, sentence2 in _pair_iter(slices):\r\n  File \"/ceph/hpc/home/ilb/.local/lib/python3.8/site-packages/nltk/tokenize/punkt.py\", line 318, in _pair_iter\r\n    prev = next(iterator)\r\n  File \"/ceph/hpc/home/ilb/.local/lib/python3.8/site-packages/nltk/tokenize/punkt.py\", line 1395, in _slices_from_text\r\n    for match, context in self._match_potential_end_contexts(text):\r\n  File \"/ceph/hpc/home/ilb/.local/lib/python3.8/site-packages/nltk/tokenize/punkt.py\", line 1382, in _match_potential_end_contexts\r\n    before_words[match] = split[-1]\r\nIndexError: list index out of range\r\n```\r\n\r\nit will not, however, if there is no space after the punctuation\r\n```\r\n>>> word_tokenize('?who')\r\n['?', 'who']\r\n>>> word_tokenize('.who')\r\n['.who']\r\n>>> word_tokenize('!who')\r\n['!', 'who']\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2932/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2932/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2925", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2925/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2925/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2925/events", "html_url": "https://github.com/nltk/nltk/issues/2925", "id": 1088385118, "node_id": "I_kwDOAASTVs5A33Be", "number": 2925, "title": "NLTK word_tokenize throws IndexError: list index out of range", "user": {"login": "Bernhard-Steindl", "id": 29012991, "node_id": "MDQ6VXNlcjI5MDEyOTkx", "avatar_url": "https://avatars.githubusercontent.com/u/29012991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bernhard-Steindl", "html_url": "https://github.com/Bernhard-Steindl", "followers_url": "https://api.github.com/users/Bernhard-Steindl/followers", "following_url": "https://api.github.com/users/Bernhard-Steindl/following{/other_user}", "gists_url": "https://api.github.com/users/Bernhard-Steindl/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bernhard-Steindl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bernhard-Steindl/subscriptions", "organizations_url": "https://api.github.com/users/Bernhard-Steindl/orgs", "repos_url": "https://api.github.com/users/Bernhard-Steindl/repos", "events_url": "https://api.github.com/users/Bernhard-Steindl/events{/privacy}", "received_events_url": "https://api.github.com/users/Bernhard-Steindl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-12-24T13:35:21Z", "updated_at": "2021-12-28T23:39:18Z", "closed_at": "2021-12-28T23:39:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am working on some NLP experiments, where I want to tokenize some texts from users.\r\nFor that I am using NLTK right now, but I noticed an unexpected behavior when tokenizing a raw user input string.\r\nI am not sure if this is a bug of NLTK or if I should provide some pre-processed string. Before, I had no problems using NLTK for tokenization of pre-processed datasets, but with raw user input I run into problems. <br>\r\nDo you have an explanation of the problem or can you give me a hint on how to pre-process my user inputs before applying NLTK `word_tokenize`?\r\n\r\nI have provided a minimal reproducible example. I set up a conda environment for python 3.9 and `nltk==3.6.6`.\r\n```bash\r\nconda create -n \"example_nltk\" python=3.9 -y\r\nconda activate example_nltk\r\npip install nltk==3.6.6\r\n```\r\nThen I create and run the following python file:\r\n```python\r\nimport nltk\r\nfrom nltk import word_tokenize\r\nnltk.download(\"punkt\")\r\nnltk.download(\"wordnet\")\r\nnltk.download(\"omw-1.4\")\r\n\r\ntext = '? so ein schwachsinn! rot f\u00fcr: dummes post. salzburg gewinnt \u00f6fb-cup gegen rapid'\r\nword_tokenize(text, language='german')\r\n```\r\nThe script throws an `IndexError: list index out of range` when running the function `word_tokenize(text, language='german')`.\r\nThe error occurs in the `punkt.py` file in the function `_match_potential_end_contexts` for line `before_words[match] = split[-1]`, because the variable `split` is empty (`[]`).\r\n\r\nDo you have a suggestion for me how to proceed? Am I doing something wrong? Should I process the raw user input before supplying the input to NLTK's `word_tokenize`?\r\n\r\nThank you for your support!\r\n\r\nHere the full traceback for details:\r\n```\r\nTraceback (most recent call last):\r\n  File \"nltk_test.py\", line 8, in <module>\r\n    word_tokenize(text, language='german')\r\n  File \"/Users/user/anaconda3/envs/example_nltk/lib/python3.9/site-packages/nltk/tokenize/__init__.py\", line 129, in word_tokenize\r\n    sentences = [text] if preserve_line else sent_tokenize(text, language)\r\n  File \"/Users/user/anaconda3/envs/example_nltk/lib/python3.9/site-packages/nltk/tokenize/__init__.py\", line 107, in sent_tokenize\r\n    return tokenizer.tokenize(text)\r\n  File \"/Users/user/anaconda3/envs/example_nltk/lib/python3.9/site-packages/nltk/tokenize/punkt.py\", line 1276, in tokenize\r\n    return list(self.sentences_from_text(text, realign_boundaries))\r\n  File \"/Users/user/anaconda3/envs/example_nltk/lib/python3.9/site-packages/nltk/tokenize/punkt.py\", line 1332, in sentences_from_text\r\n    return [text[s:e] for s, e in self.span_tokenize(text, realign_boundaries)]\r\n  File \"/Users/user/anaconda3/envs/example_nltk/lib/python3.9/site-packages/nltk/tokenize/punkt.py\", line 1332, in <listcomp>\r\n    return [text[s:e] for s, e in self.span_tokenize(text, realign_boundaries)]\r\n  File \"/Users/user/anaconda3/envs/example_nltk/lib/python3.9/site-packages/nltk/tokenize/punkt.py\", line 1322, in span_tokenize\r\n    for sentence in slices:\r\n  File \"/Users/user/anaconda3/envs/example_nltk/lib/python3.9/site-packages/nltk/tokenize/punkt.py\", line 1421, in _realign_boundaries\r\n    for sentence1, sentence2 in _pair_iter(slices):\r\n  File \"/Users/user/anaconda3/envs/example_nltk/lib/python3.9/site-packages/nltk/tokenize/punkt.py\", line 318, in _pair_iter\r\n    prev = next(iterator)\r\n  File \"/Users/user/anaconda3/envs/example_nltk/lib/python3.9/site-packages/nltk/tokenize/punkt.py\", line 1395, in _slices_from_text\r\n    for match, context in self._match_potential_end_contexts(text):\r\n  File \"/Users/user/anaconda3/envs/example_nltk/lib/python3.9/site-packages/nltk/tokenize/punkt.py\", line 1382, in _match_potential_end_contexts\r\n    before_words[match] = split[-1]\r\nIndexError: list index out of range\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2925/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2925/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2921", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2921/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2921/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2921/events", "html_url": "https://github.com/nltk/nltk/issues/2921", "id": 1085811233, "node_id": "I_kwDOAASTVs5AuCoh", "number": 2921, "title": "Sentence tokenizer fails when sentence.startswith('. ')", "user": {"login": "zqwerty", "id": 12478606, "node_id": "MDQ6VXNlcjEyNDc4NjA2", "avatar_url": "https://avatars.githubusercontent.com/u/12478606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zqwerty", "html_url": "https://github.com/zqwerty", "followers_url": "https://api.github.com/users/zqwerty/followers", "following_url": "https://api.github.com/users/zqwerty/following{/other_user}", "gists_url": "https://api.github.com/users/zqwerty/gists{/gist_id}", "starred_url": "https://api.github.com/users/zqwerty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zqwerty/subscriptions", "organizations_url": "https://api.github.com/users/zqwerty/orgs", "repos_url": "https://api.github.com/users/zqwerty/repos", "events_url": "https://api.github.com/users/zqwerty/events{/privacy}", "received_events_url": "https://api.github.com/users/zqwerty/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-21T13:03:05Z", "updated_at": "2021-12-28T23:39:39Z", "closed_at": "2021-12-28T23:38:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nfrom nltk.tokenize import sent_tokenize\r\nsent_tokenize('. a')\r\n```\r\nwill trigger IndexError from `punkt.py:_realign_boundaries`. But `sent_tokenize('. ')` will not.\r\n\r\nEnvs:\r\npython=3.6\r\nnltk=3.6.6", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2921/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2921/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2906", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2906/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2906/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2906/events", "html_url": "https://github.com/nltk/nltk/pull/2906", "id": 1074442025, "node_id": "PR_kwDOAASTVs4vjmBE", "number": 2906, "title": "Resolve ReDoS opportunity by fixing incorrectly specified regex", "user": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-08T13:59:49Z", "updated_at": "2021-12-08T14:20:03Z", "closed_at": "2021-12-08T14:19:56Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2906", "html_url": "https://github.com/nltk/nltk/pull/2906", "diff_url": "https://github.com/nltk/nltk/pull/2906.diff", "patch_url": "https://github.com/nltk/nltk/pull/2906.patch", "merged_at": "2021-12-08T14:19:56Z"}, "body": "Hello!\r\n\r\n## Pull request overview\r\n* Resolve slight ReDoS in some RegexpTaggers throughout NLTK.\r\n* Modified doctests to accompany the changed regex.\r\n\r\n## The regex\r\nThe original regex was `^-?[0-9]+(.[0-9]+)?$`, which is vulnerable to a ReDoS due to `[0-9]+` followed by any character (due to `.`), and then again `[0-9]+`. However, this original regex does not seem to match what it was intended for: Matching cardinal numbers. The regex seems to want to match:\r\n* Perhaps a `-`\r\n* A non-zero amount of numbers.\r\n* Perhaps a `.` followed by a non-zero amount of numbers.\r\n\r\nThis would match e.g. `3`, `-4` and `3.12`. However, the regex actually does not match a dot directly, it matches any number. This means that `-3a12` is also allowed, which we would rather not have. I believe the original designer of the regex meant to use `\\.`, but used `.` instead, and did not realise the small mistake.\r\n\r\n### ReDoS reproduction:\r\n```python\r\npattern = re.compile(r\"^-?[0-9]+(.[0-9]+)?$\")\r\n\r\nfor length in (2**i for i in range(12, 24)):\r\n    s = \"-\"\r\n    s += \"0\" * length\r\n    s += \"q\"\r\n\r\n    t = time.time()\r\n    re.search(pattern, s)\r\n    print(f\"Searching took {time.time() - t:.8}s for length {length}.\")\r\n```\r\noutputs\r\n```\r\nSearching took 0.17596316s for length 4096.\r\nSearching took 0.66382051s for length 8192.\r\nSearching took 2.8454814s for length 16384.\r\nSearching took 10.864819s for length 32768.\r\nSearching took 44.40001s for length 65536.\r\nSearching took 176.56144s for length 131072.\r\n...\r\n```\r\nAfter several minutes I stopped the execution.\r\n\r\n## The fix\r\nSimply adding a `\\` before the `.` should fix the problem.\r\n\r\n## The consequences\r\nThe regex will no longer be vulnerable to a ReDoS. Beyond that, `-3a12` will no longer be considered a cardinal number in the RegexpTagger examples throughout NLTK. This is desirable behaviour, with one small subjective exception: `3e12` will no longer be considered a cardinal number, even though one could argue that it is. \r\nIf we want to still consider it one, then we can of course go for `^-?[0-9]+([e\\.][0-9]+)?$`, but I really don't think it matters. \r\n\r\n### ReDoS reproduction\r\n```python\r\npattern = re.compile(r\"^-?[0-9]+(\\.[0-9]+)?$\")\r\n\r\nfor length in (2**i for i in range(12, 24)):\r\n    s = \"-\"\r\n    s += \"0\" * length\r\n    s += \"q\"\r\n\r\n    t = time.time()\r\n    re.search(pattern, s)\r\n    print(f\"Searching took {time.time() - t:.8}s for length {length}.\")\r\n```\r\n\r\nnow outputs\r\n```\r\nSearching took 0.0s for length 4096.\r\nSearching took 0.0010306835s for length 8192.  \r\nSearching took 0.00096130371s for length 16384.\r\nSearching took 0.0020515919s for length 32768. \r\nSearching took 0.0029797554s for length 65536. \r\nSearching took 0.0060167313s for length 131072.\r\nSearching took 0.013041735s for length 262144.\r\nSearching took 0.026050091s for length 524288.\r\nSearching took 0.051049709s for length 1048576.\r\nSearching took 0.09999752s for length 2097152.\r\nSearching took 0.20596671s for length 4194304.\r\nSearching took 0.40702796s for length 8388608.\r\n```\r\nAs is correct for a simple regex, the execution time of the regex is linear in the length of the input. This was not the case before.\r\n\r\n---\r\n\r\nThanks to @scara31 for making us aware of this vulnerability through proper means.\r\n\r\n- Tom Aarsen", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2906/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2906/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2904", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2904/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2904/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2904/events", "html_url": "https://github.com/nltk/nltk/issues/2904", "id": 1073541782, "node_id": "I_kwDOAASTVs4__PKW", "number": 2904, "title": "Downloader fails when download_dir is a nested folder that doesn't exist", "user": {"login": "swierh", "id": 19287354, "node_id": "MDQ6VXNlcjE5Mjg3MzU0", "avatar_url": "https://avatars.githubusercontent.com/u/19287354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swierh", "html_url": "https://github.com/swierh", "followers_url": "https://api.github.com/users/swierh/followers", "following_url": "https://api.github.com/users/swierh/following{/other_user}", "gists_url": "https://api.github.com/users/swierh/gists{/gist_id}", "starred_url": "https://api.github.com/users/swierh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swierh/subscriptions", "organizations_url": "https://api.github.com/users/swierh/orgs", "repos_url": "https://api.github.com/users/swierh/repos", "events_url": "https://api.github.com/users/swierh/events{/privacy}", "received_events_url": "https://api.github.com/users/swierh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019200, "node_id": "MDU6TGFiZWwxNDAxOTIwMA==", "url": "https://api.github.com/repos/nltk/nltk/labels/good%20first%20issue", "name": "good first issue", "color": "02e10c", "default": true, "description": ""}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 719083862, "node_id": "MDU6TGFiZWw3MTkwODM4NjI=", "url": "https://api.github.com/repos/nltk/nltk/labels/installation", "name": "installation", "color": "f7731b", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-12-07T16:23:00Z", "updated_at": "2021-12-13T22:55:40Z", "closed_at": "2021-12-13T22:55:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\nWhen the download folder doesn't exist, it is created by the downloader. But when that folder is nested, the creation fails.\r\n\r\n### Code example\r\n\r\n```python\r\nnltk.download(\"punkt\", force=True, download_dir=\"some/nested/folder\")\r\n```\r\n\r\nWill give the following error:\r\n\r\n```\r\nFile \"my_env/lib/python3.7/site-packages/nltk/downloader.py\", line 776, in download\r\n    for msg in self.incr_download(info_or_id, download_dir, force):\r\n  File \"my_env/lib/python3.7/site-packages/nltk/downloader.py\", line 641, in incr_download\r\n    yield from self._download_package(info, download_dir, force)\r\n  File \"my_env/lib/python3.7/site-packages/nltk/downloader.py\", line 698, in _download_package\r\n    os.mkdir(download_dir)\r\nFileNotFoundError: [Errno 2] No such file or directory: 'some/nested/folder'\r\n```\r\n\r\n### Suggested solution\r\n\r\nThe following line throws the error: https://github.com/nltk/nltk/blob/develop/nltk/downloader.py#L698\r\n\r\n`os.makedirs(download_dir)` could be used instead of `os.mkdir(download_dir)`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2904/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2904/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2897", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2897/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2897/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2897/events", "html_url": "https://github.com/nltk/nltk/pull/2897", "id": 1065191985, "node_id": "PR_kwDOAASTVs4vFvkZ", "number": 2897, "title": "Fix decode error for bllip parser", "user": {"login": "dannysepler", "id": 3710083, "node_id": "MDQ6VXNlcjM3MTAwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/3710083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dannysepler", "html_url": "https://github.com/dannysepler", "followers_url": "https://api.github.com/users/dannysepler/followers", "following_url": "https://api.github.com/users/dannysepler/following{/other_user}", "gists_url": "https://api.github.com/users/dannysepler/gists{/gist_id}", "starred_url": "https://api.github.com/users/dannysepler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dannysepler/subscriptions", "organizations_url": "https://api.github.com/users/dannysepler/orgs", "repos_url": "https://api.github.com/users/dannysepler/repos", "events_url": "https://api.github.com/users/dannysepler/events{/privacy}", "received_events_url": "https://api.github.com/users/dannysepler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718743421, "node_id": "MDU6TGFiZWw3MTg3NDM0MjE=", "url": "https://api.github.com/repos/nltk/nltk/labels/parsing", "name": "parsing", "color": "94e06d", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-11-28T05:22:07Z", "updated_at": "2022-01-05T18:30:05Z", "closed_at": "2021-12-16T13:55:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2897", "html_url": "https://github.com/nltk/nltk/pull/2897", "diff_url": "https://github.com/nltk/nltk/pull/2897.diff", "patch_url": "https://github.com/nltk/nltk/pull/2897.patch", "merged_at": "2021-12-16T13:55:18Z"}, "body": "Closes #1920 \r\n\r\nThis was fairly trivial to fix, but this seems like it was broken since py3 was rolled out. Do we know why _more_ people didn't complain about this? Is it possible that this parser isn't being used at the moment?\r\n\r\nI also added a very simple unit test, to capture simple breakages in the `BllipParser` for next time", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2897/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2897/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2891", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2891/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2891/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2891/events", "html_url": "https://github.com/nltk/nltk/issues/2891", "id": 1062953925, "node_id": "I_kwDOAASTVs4_W2PF", "number": 2891, "title": "Link to book in python documentation wrong", "user": {"login": "0-wiz-0", "id": 2221844, "node_id": "MDQ6VXNlcjIyMjE4NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2221844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0-wiz-0", "html_url": "https://github.com/0-wiz-0", "followers_url": "https://api.github.com/users/0-wiz-0/followers", "following_url": "https://api.github.com/users/0-wiz-0/following{/other_user}", "gists_url": "https://api.github.com/users/0-wiz-0/gists{/gist_id}", "starred_url": "https://api.github.com/users/0-wiz-0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0-wiz-0/subscriptions", "organizations_url": "https://api.github.com/users/0-wiz-0/orgs", "repos_url": "https://api.github.com/users/0-wiz-0/repos", "events_url": "https://api.github.com/users/0-wiz-0/events{/privacy}", "received_events_url": "https://api.github.com/users/0-wiz-0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 23593492, "node_id": "MDU6TGFiZWwyMzU5MzQ5Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-24T22:14:08Z", "updated_at": "2021-11-28T13:59:27Z", "closed_at": "2021-11-28T13:59:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Not sure if this is a bug in the documentation or in the DNS/web server setup.\r\nThe python documentation for nltk says:\r\n```\r\n    Steven Bird, Ewan Klein, and Edward Loper (2009).\r\n    Natural Language Processing with Python.  O'Reilly Media Inc.\r\n    http://nltk.org/book\r\n```\r\nbut this link does not work, `https://www.nltk.org/book/` does.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2891/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2891/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2877", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2877/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2877/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2877/events", "html_url": "https://github.com/nltk/nltk/pull/2877", "id": 1045185666, "node_id": "PR_kwDOAASTVs4uHWxW", "number": 2877, "title": " Fixed several TreebankWordTokenizer and NLTKWordTokenizer bugs", "user": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 112364689, "node_id": "MDU6TGFiZWwxMTIzNjQ2ODk=", "url": "https://api.github.com/repos/nltk/nltk/labels/enhancement", "name": "enhancement", "color": "006b75", "default": true, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}, {"id": 3375728364, "node_id": "LA_kwDOAASTVs7JNYbs", "url": "https://api.github.com/repos/nltk/nltk/labels/needs%20review", "name": "needs review", "color": "9B6501", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-04T20:43:49Z", "updated_at": "2021-11-07T19:21:54Z", "closed_at": "2021-11-06T23:34:16Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2877", "html_url": "https://github.com/nltk/nltk/pull/2877", "diff_url": "https://github.com/nltk/nltk/pull/2877.diff", "patch_url": "https://github.com/nltk/nltk/pull/2877.patch", "merged_at": "2021-11-06T23:34:16Z"}, "body": "Resolves #1750, resolves #2076, resolves #2876\r\n\r\nHello!\r\n\r\n### Pull request overview\r\n* (Bug 1) Correct tokenisation error when using `''` (two single quotes) as starting quotes.\r\n* (Bug 2) Resolved issue with `'wanna'` in MacIntyreContractions for TreebankWordTokenizer and NLTKWordTokenizer. \r\n* Implement `span_tokenize` in NLTKWordTokenizer, just like in TreebankWordTokenizer.\r\n* Allow TreebankWordDetokenizer to be imported with `from nltk.tokenize import TreebankWordDetokenizer`.\r\n\r\n## Bug 1\r\nRelevant issues: #1750 and #2076\r\n### Reproduction\r\n```python\r\nfrom nltk.tokenize import TreebankWordTokenizer\r\ntokenizer = TreebankWordTokenizer()\r\ntext = \"''Hello'\\\"\"\r\nprint(list(tokenizer.span_tokenize(text)))\r\n```\r\nproduces\r\n```python\r\nTraceback (most recent call last):\r\n  File \"[sic]\\nltk\\tokenize\\util.py\", line 290, in align_tokens\r\n    start = sentence.index(token, point)\r\nValueError: substring not found\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"[sic]\\nltk_1750.py\", line 42, in <module>\r\n    print(list(tokenizer.span_tokenize(text)))\r\n  File \"[sic]\\nltk\\tokenize\\treebank.py\", line 190, in span_tokenize\r\n    yield from align_tokens(tokens, text)\r\n  File \"[sic]\\nltk\\tokenize\\util.py\", line 292, in align_tokens\r\n    raise ValueError(f'substring \"{token}\" not found in \"{sentence}\"') from e\r\nValueError: substring \"''\" not found in \"''Hello'\"\"\r\n```\r\n### Details & The fix\r\nThe true cause here is that the `span_tokenize` method expects tokens with quotes to be exclusively `''`, `\"` or ``:\r\nhttps://github.com/nltk/nltk/blob/ec1d49da924a69dcaaac8fceb64a34fcd3f9f1e0/nltk/tokenize/treebank.py#L183-L186\r\n\r\nThis is because `span_tokenize` assumes that the tokenized output will always split off these quotes into separate tokens. However, this is not the case currently. For example:\r\n```python\r\nfrom nltk.tokenize import TreebankWordTokenizer\r\ntokenizer = TreebankWordTokenizer()\r\ntext = \"''Hello''\"\r\nprint(tokenizer.tokenize(text))\r\n```\r\nproduces\r\n```python\r\n[\"''Hello\", \"''\"]\r\n```\r\nThis is the true underlying bug. This bug exists in both TreebankWordTokenizer and NLTKWordTokenizer!\r\nThe cause is the following ENDING_QUOTES rule:\r\nhttps://github.com/nltk/nltk/blob/ec1d49da924a69dcaaac8fceb64a34fcd3f9f1e0/nltk/tokenize/treebank.py#L90\r\n\r\n`(\\S)(\\'\\')` requires a non-whitespace character before the `''`. Only then will it separate the quote and what comes before - and crucially: only then will it place a space on the right-hand side of the `''`. I don't believe this non-whitespace character requirement to matter. We can remove it, and create:\r\n```python\r\n    (re.compile(r\"''\"), \" '' \"),\r\n```\r\nUpon making this change, the last mentioned program outputs:\r\n```python\r\n[\"''\", \"Hello\", \"''\"]\r\n```\r\nAnd the issues reported for `span_tokenize` disappear like expected. \r\n\r\n### Undesired consequences of the fix\r\nThis PR improves tokenization by separating these quotes in a better way, but it does have an undesired consequence: TreebankWordDetokenizer doesn't work as well as a result. Or rather, TreebankWordDetokenizer works identically, but the output of the tokenizer has changed somewhat. This is a consequence:\r\n```python\r\nfrom nltk.tokenize.treebank import TreebankWordDetokenizer\r\ndetokenizer = TreebankWordDetokenizer()\r\nprint(detokenizer.detokenize([\"''\", \"Hello\", \"''\"]))\r\n```\r\nproduces\r\n```\r\n\" Hello\"\r\n```\r\nThis is because the Detokenizer doesn't consider `''` as a start of quotation, but only as the end. After all, if we let it detokenize `[\"one\", \"''\", \"two\"]`, how would it know whether `one\" two` or `one \"two` is correct? It defaults to `one\" two`, as `\"` is generally an ending quote, with \"``\" as a beginning quote.\r\n\r\n### Notes for Bug 1\r\nThis PR modifies both NLTKWordTokenizer *and* TreebankWordTokenizer. I recognise that it might be preferable to keep the latter true to the original (as much as possible). If we want to do that, then I can simply revert the changes there. But do note that then the issues for `span_tokenize` will not be solved.\r\nThese issues can also be solved in different ways, though. We can also direct users to the (new) NLTKWordTokenizer's `span_tokenize` which this PR adds, but I'm not a great fan of that. \r\n\r\n---\r\n\r\n## Bug 2\r\nRelevant issue: #2876\r\n### Reproduction\r\n```python\r\nfrom nltk.tokenize.treebank import TreebankWordTokenizer, TreebankWordDetokenizer\r\n\r\ntokens = TreebankWordTokenizer().tokenize(\"I wanna watch something\")\r\nprint(tokens)\r\nsentence = TreebankWordDetokenizer().detokenize(tokens)\r\nprint(sentence)\r\n```\r\nproduces\r\n```\r\nI wannawatch something\r\n```\r\n\r\n### Details & The fix\r\nThis issue originates from the last line of this set of CONTRACTION regexes:\r\nhttps://github.com/nltk/nltk/blob/ec1d49da924a69dcaaac8fceb64a34fcd3f9f1e0/nltk/tokenize/destructive.py#L19-L28\r\n\r\nWhere the rule requires the phrase to end in a whitespace with `\\s` (which is one character big), rather than `\\b` (word boundary, 0 characters big). The issue is that the Detokenizer considers the whitespace (e.g. a space) to be a part of the regex rule match. This is then replaced, while it shouldn't be. \r\n\r\nA simple solution is to just use `\\b`. However, this will fail for the edge case of `wanna-be`, where `wanna` should not be split.\r\n\r\nSo, another solution is to still check for `\\s`, but don't include it in the match. This can be done with a positive lookahead:\r\n```python\r\n    r\"(?i)\\b(wan)(?#X)(na)(?=\\s)\", \r\n```\r\nAfter this fix, both `wanna watch` and `wanna-be` work properly. There is a test for both of these cases.\r\n\r\n---\r\n\r\n## Added `span_tokenize` to NLTKWordTokenizer\r\nAs NLTKWordTokenizer is merely NLTK's improved version of TreebankWordTokenizer, it kind of surprised me that NLTKWordTokenizer didn't already provide all methods that TreebankWordTokenizer has. Because both classes are so similar, both methods are identical. \r\nHowever, if we choose not to update TreebankWordTokenizer, then `span_tokenize` for TreebankWordTokenizer will be broken, while the one for NLTKWordTokenizer should still work. I took the doctests from TreebankWordTokenizer's `span_tokenize`, and added them in `tokenize.doctest` too.\r\n\r\n## Improved accessibility of TreebankWordDetokenizer\r\nCurrently, TreebankWordDetokenizer can only be imported with:\r\n```python\r\nfrom nltk.tokenize.treebank import TreebankWordDetokenizer \r\n```\r\nI've added TreebankWordDetokenizer to `nltk/tokenize/__init__.py`, allowing users to import it like so:\r\n```python\r\nfrom nltk.tokenize import TreebankWordDetokenizer \r\n# or even\r\nfrom nltk import TreebankWordDetokenizer \r\n```\r\n\r\n## Future changes\r\nCreate some common interface for NLTKWordTokenizer and TreebankWordTokenizer. There is a good bit of code reuse, especially the new `span_tokenize`.\r\n\r\n- Tom Aarsen", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2877/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2877/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2876", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2876/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2876/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2876/events", "html_url": "https://github.com/nltk/nltk/issues/2876", "id": 1044719667, "node_id": "I_kwDOAASTVs4-RSgz", "number": 2876, "title": "TreebankWordDetokenizer is not always an inverse of TreebankWordTokenizer", "user": {"login": "kazet", "id": 1233067, "node_id": "MDQ6VXNlcjEyMzMwNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1233067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kazet", "html_url": "https://github.com/kazet", "followers_url": "https://api.github.com/users/kazet/followers", "following_url": "https://api.github.com/users/kazet/following{/other_user}", "gists_url": "https://api.github.com/users/kazet/gists{/gist_id}", "starred_url": "https://api.github.com/users/kazet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kazet/subscriptions", "organizations_url": "https://api.github.com/users/kazet/orgs", "repos_url": "https://api.github.com/users/kazet/repos", "events_url": "https://api.github.com/users/kazet/events{/privacy}", "received_events_url": "https://api.github.com/users/kazet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-11-04T12:38:16Z", "updated_at": "2021-11-06T23:34:16Z", "closed_at": "2021-11-06T23:34:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "For example, for the following script:\r\n\r\n```python\r\n\r\nimport nltk\r\nimport nltk.tokenize\r\n\r\ntokens = nltk.tokenize.TreebankWordTokenizer().tokenize(\"I wanna watch something\")\r\nprint(tokens)\r\nsentence = nltk.tokenize.treebank.TreebankWordDetokenizer().detokenize(tokens)\r\nprint(sentence)\r\n```\r\n\r\nThe result is:\r\n```\r\n['I', 'wan', 'na', 'watch', 'something']\r\nI wannawatch something\r\n```\r\n\r\nThe detokenized sentence should be: `I wanna watch something`", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2876/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2869", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2869/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2869/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2869/events", "html_url": "https://github.com/nltk/nltk/pull/2869", "id": 1037308718, "node_id": "PR_kwDOAASTVs4tvGWX", "number": 2869, "title": "Resolved serious ReDoS in PunktSentenceTokenizer", "user": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-10-27T11:33:57Z", "updated_at": "2021-11-26T12:00:11Z", "closed_at": "2021-11-26T11:58:20Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2869", "html_url": "https://github.com/nltk/nltk/pull/2869", "diff_url": "https://github.com/nltk/nltk/pull/2869.diff", "patch_url": "https://github.com/nltk/nltk/pull/2869.patch", "merged_at": "2021-11-26T11:58:19Z"}, "body": "Resolves #2866 \r\n\r\nHello!\r\n\r\n### Pull request overview\r\n* Resolved serious Regular Expression Denial of Service (ReDoS) issue in PunktSentenceTokenizer.\r\n  * This has severe consequences for the commonly used `sent_tokenize` and `word_tokenize`.\r\n\r\n## The consequences of the ReDoS\r\nThe ReDoS is described in #2866, where an example of a malicious string is given. The consequences can be seen with this script:\r\n```python\r\nn = 8\r\nfor length in [10**i for i in range(2, n)]:\r\n    text = \"a\" * length\r\n    start_t = time.time()\r\n    word_tokenize(text)\r\n    print(f\"A length of {length:<{n}} takes {time.time() - start_t:.4f}s\")\r\n```\r\nWhich outputs:\r\n```\r\nA length of 100      takes 0.0060s\r\nA length of 1000     takes 0.0060s\r\nA length of 10000    takes 0.6320s\r\nA length of 100000   takes 56.3322s\r\n...\r\n```\r\nThis is before I canceled the execution of the program after running it for several hours.\r\n\r\n## Potential malicious inputs\r\nAny long sequence of any non-whitespace characters except `.`, `?` or `!` will be malicious input to the regex. A quick example is simply:\r\n```python\r\n\"a\" * 100000\r\n```\r\nIt takes `word_tokenize` 56.3322 seconds to tokenize this input.\r\n\r\n## The details of the ReDoS\r\nThe ReDoS is caused by this regex: \r\nhttps://github.com/nltk/nltk/blob/ad3c84c792453a44f2d195e5263e72b315774478/nltk/tokenize/punkt.py#L268-L278\r\n\r\nAfter being formatted with the default values, this becomes:\r\n```python\r\n_period_context_fmt = r\"\"\"\r\n\\S*                             # some word material\r\n[\\.\\?!]                         # a potential sentence ending\r\n(?=(?P<after_tok>\r\n    (?:[)\\\";}\\]\\*:@\\'\\({\\[!\\?]  # either other punctuation\r\n    |\r\n    \\s+(?P<next_tok>\\S+)        # or whitespace and some other token\r\n))\"\"\"\r\n```\r\nThe vulnerability is already at the very start of the regex. The following regex is also vulnerable:\r\n```python\r\n_period_context_fmt = r\"\"\"\r\n\\S*                             # some word material\r\n[\\.\\?!]                         # a potential sentence ending\r\n\"\"\"\r\n```\r\nThe issue is that the Python regex engine will start matching tokens with `\\S*` (i.e. any non-whitespace), and only recognize that it failed to find a `.`, `?` or a `! ` when it either reaches a whitespace character. So, with an input of a thousand characters of `\"a\"`, then the regex engine will start matching from the very first `\"a\"`, and only recognize that it won't be able to match this way after matching the full 1000 `\"a\"`'s. Then, it will backtrack all the way back to the first `\"a\"`, skip it, and try the entire thing again from the second `\"a\"`, now matching 999 characters before realising this won't work. This will continue until finally realising that the regex will not match the string at all. \r\nGiven an input string of length `n`, this will take `(n^2 + n) / 2` steps. With other words, `word_tokenize` becomes at least O(n^2) time complexity, while a performance of O(n) should be reachable for most regex problems.\r\n\r\n## The fix\r\nThe fix seems elementary:\r\n* Remove `\\S*` from the regex, then the regex engine will only start trying to match when it actually finds a potential end of sentence token (i.e. `.`, `!` or `?` by default).\r\n* Then, use a simply regex like `\\S*$` to match the final word before the end of sentence token.\r\n\r\nAnd this works very well, with one small but crucial detail: `re.finditer` will find all *non-overlapping* matches, and we've now reduced the size of each match. See the consequences with this example:\r\n#### On the `develop` branch\r\n```python\r\n>>> pst = PunktSentenceTokenizer()\r\n>>> text = \"Very bad acting!!! I promise.\"\r\n>>> list(pst._lang_vars.period_context_re().finditer(text)) # doctest: +SKIP\r\n[<re.Match object; span=(9, 18), match='acting!!!'>]\r\n```\r\n#### After removing `\\S*` from the regex\r\n```python\r\n>>> pst = PunktSentenceTokenizer()\r\n>>> text = \"Very bad acting!!! I promise.\"\r\n>>> list(pst._lang_vars.period_context_re().finditer(text)) # doctest: +NORMALIZE_WHITESPACE\r\n[<re.Match object; span=(15, 16), match='!'>,\r\n<re.Match object; span=(16, 17), match='!'>,\r\n<re.Match object; span=(17, 18), match='!'>]\r\n```\r\nIn short, we need to manually remove these overlapping cases. This is what the new `_match_potential_end_contexts` method is for. I can't come up with a regex-only solution for this problem.\r\n\r\n## Results\r\nUpon running the script again, but now with the fix in place, we get:\r\n```python\r\nA length of 100      takes 0.0070s\r\nA length of 1000     takes 0.0010s\r\nA length of 10000    takes 0.0060s\r\nA length of 100000   takes 0.0400s\r\nA length of 1000000  takes 0.3520s\r\nA length of 10000000 takes 3.4641s\r\n```\r\nAs you can see, the performance is significantly better, and more in tune with the expected O(n).\r\n\r\nBeyond that, the performance of normal sentences (i.e. with dots) is in line with the original performance.\r\n\r\nIf all is well, then only the performance is (positively) impacted.\r\n\r\n## Note\r\nI believe that this PR does **not** require re-training of the Punkt models.\r\n\r\n- Tom Aarsen", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2869/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2869/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2866", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2866/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2866/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2866/events", "html_url": "https://github.com/nltk/nltk/issues/2866", "id": 1036775249, "node_id": "I_kwDOAASTVs49y-9R", "number": 2866, "title": "word_tokenize/EN hangs on incorrect strings", "user": {"login": "raffienficiaud", "id": 6357107, "node_id": "MDQ6VXNlcjYzNTcxMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/6357107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raffienficiaud", "html_url": "https://github.com/raffienficiaud", "followers_url": "https://api.github.com/users/raffienficiaud/followers", "following_url": "https://api.github.com/users/raffienficiaud/following{/other_user}", "gists_url": "https://api.github.com/users/raffienficiaud/gists{/gist_id}", "starred_url": "https://api.github.com/users/raffienficiaud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raffienficiaud/subscriptions", "organizations_url": "https://api.github.com/users/raffienficiaud/orgs", "repos_url": "https://api.github.com/users/raffienficiaud/repos", "events_url": "https://api.github.com/users/raffienficiaud/events{/privacy}", "received_events_url": "https://api.github.com/users/raffienficiaud/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}, {"id": 1641876486, "node_id": "MDU6TGFiZWwxNjQxODc2NDg2", "url": "https://api.github.com/repos/nltk/nltk/labels/critical", "name": "critical", "color": "ff2050", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-10-26T21:56:15Z", "updated_at": "2021-11-26T11:58:19Z", "closed_at": "2021-11-26T11:58:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi NLTK team,\r\n\r\nI have a string that I pass to `word_tokenize` (which uses `PunktSentenceTokenizer` under the hood), and the call hangs. The string in question is taken from Wikipedia and is the result of some vandalism. It can be generated by this\r\n\r\n```\r\ntext = 'swirley thing w' + 'e' * (884779 - len('swirley thing w'))\r\n```\r\n\r\nThe call seems to hang, I did not go deep too much but after running this for a couple of hours I just stopped the process. \r\nWhat would be an ok solution to process this in a robust fashion? I have a pipeline that has correct sentences as well as, from time to time, this kind of sentences.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2866/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2863", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2863/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2863/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2863/events", "html_url": "https://github.com/nltk/nltk/pull/2863", "id": 1032754262, "node_id": "PR_kwDOAASTVs4tgg1H", "number": 2863, "title": "Partition `tree.py` module into `tree` package + pickle fix", "user": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2021-10-21T17:34:35Z", "updated_at": "2021-11-12T14:54:21Z", "closed_at": "2021-11-12T13:31:54Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2863", "html_url": "https://github.com/nltk/nltk/pull/2863", "diff_url": "https://github.com/nltk/nltk/pull/2863.diff", "patch_url": "https://github.com/nltk/nltk/pull/2863.patch", "merged_at": "2021-11-12T13:31:54Z"}, "body": "Resolves #2478, resolves #1324\r\n\r\nHello!\r\n\r\n### Pull request overview\r\n* Allow unpickling of `ParentedTree` objects for Python 3.7+. Please see 938a64b9761a406659b9af8fb0aca5653eed8c5f to inspect only these changes.\r\n* Created a doctest to show that pickling now works correctly.\r\n* Partitioned the large (1800 lines) [tree.py](https://github.com/nltk/nltk/blob/develop/nltk/tree.py) top-level module into a `tree` package.\r\n\r\n## Details\r\nThis PR contains two main changes, which are fairly unrelated beyond their location. As a result, if one change is welcomed, while the other isn't, then I'll happily remove one of the sections.\r\n\r\n### Allow unpickling of `ParentedTree` objects for Python 3.7+\r\nFor context, this is in response to #2478, which shows that\r\n```python\r\nimport pickle\r\nfrom nltk.tree import ParentedTree\r\n\r\ntree = ParentedTree.fromstring('(S (NN x) (NP x) (NN x))')\r\npickled = pickle.dumps(tree)\r\ntree_2 = pickle.loads(pickled)\r\n\r\nprint(tree)\r\nprint(tree_2)\r\n```\r\nwill throw an error for Python 3.7+. The `pickle` unpickling behaviour seems very strange, but my understanding of it seems to be that in Python 3.7+ onwards, the `__new__` method gets called with some bogus parameters. \r\nBeyond that, the `_parent` and `_label` parameters aren't set properly on the child of some parent object (yet), and then `_setparent` will complain.\r\n\r\nThe long and short of it is that adding `__getnewargs__` as used by `pickle` (see https://docs.python.org/3.9/library/pickle.html#pickling-class-instances) will specify the correct parameters for `__new__` when unpickling, and then checking whether the child even has a `_parent` attribute further fixes the issue entirely. \r\n\r\nI've added a doctest for this under `tree.doctest` which shows that this now works correctly for all supported Python versions. \r\n\r\nYou can check these changes in 938a64b9761a406659b9af8fb0aca5653eed8c5f. I would recommend doing so, as this PR is kind of large otherwise.\r\n\r\n### Partitioning the `tree.py` module into a `tree` package\r\nI noticed that `tree.py` was a collection of many Tree related classes, which together made up this really long file. I'm not a particular fan of this - as I prefer different kinds of classes to be in different files. Currently, `nltk.tree` provides the following classes and methods:\r\n* nltk.tree:\r\n  * ImmutableProbabilisticTree\r\n  * ImmutableTree\r\n  * ProbabilisticTree\r\n  * Tree\r\n  * bracket_parse\r\n  * sinica_parse\r\n  * ParentedTree\r\n  * MultiParentedTree\r\n  * ImmutableParentedTree\r\n  * ImmutableMultiParentedTree\r\n\r\nAfter this change, these methods and classes arrive from these files:\r\n* nltk.tree.tree:\r\n  * Tree\r\n* nltk.tree.immutable\r\n  * ImmutableProbabilisticTree\r\n  * ImmutableTree\r\n  * ImmutableParentedTree\r\n  * ImmutableMultiParentedTree\r\n* nltk.tree.parented\r\n  * ParentedTree\r\n  * MultiParentedTree\r\n* nltk.tree.probabilistic\r\n  * ProbabilisticTree\r\n* nltk.tree.parse\r\n  * bracket_parse\r\n  * sinica_parse\r\n\r\nIt's important to note that all of these methods and classes can still be imported with either `from nltk import ParentedTree` or `ntk.tree import ParentedTree`. This change is purely for code quality and restructuring the codebase a bit, and should not affect users (unless I made a mistake!).\r\n\r\nBeyond moving these classes to files, the only real changes I made was to move the import of the classes from `nltk.tree.immutable` into the `_frozen_class` method. For example for `Tree`:\r\n```python\r\n    def _frozen_class(self):\r\n        from nltk.tree.immutable import ImmutableTree\r\n\r\n        return ImmutableTree\r\n```\r\nThis is to avoid a circular import. \r\n\r\n## Discussion\r\nThere are two other tree-related files which perhaps ought to be moved into the new `tree` package: `treeprettyprinter.py` and `treetransforms.py`. If we didn't have to worry about people's codebases breaking upon updating, then I would move both of these files into `tree`, and rename them to `prettyprinter.py` and `transforms.py` respectively. \r\nHowever, doing so would mean that these files need to be imported in a new way, which is a breaking change. Instead of the current way of:\r\n```python\r\nfrom nltk.treeprettyprinter import TreePrettyPrinter\r\n\r\nfrom nltk.treetransforms import chomsky_normal_form\r\n```\r\nUsers would need to do\r\n```python\r\nfrom nltk.tree.prettyprinter import TreePrettyPrinter\r\n# or\r\nfrom nltk.tree import TreePrettyPrinter\r\n# or\r\nfrom nltk import TreePrettyPrinter\r\n\r\nfrom nltk.tree.transforms import chomsky_normal_form\r\n# or\r\nfrom nltk.tree import chomsky_normal_form\r\n# or\r\nfrom nltk import chomsky_normal_form\r\n```\r\nPerhaps there is a way to move the files while still supporting the old imports? For example by writing some hack into `nltk/__init__.py`? \r\n\r\n---\r\n\r\nThank you @movabo for letting us know about the bug, and thank you @hitt08 for pointing me to it while I had some spare time to look into it.\r\n\r\n- Tom Aarsen", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2863/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2863/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2849", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2849/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2849/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2849/events", "html_url": "https://github.com/nltk/nltk/pull/2849", "id": 1019938040, "node_id": "PR_kwDOAASTVs4s40nn", "number": 2849, "title": "fix: levenstein distance for duplicated letters", "user": {"login": "p9f", "id": 20539361, "node_id": "MDQ6VXNlcjIwNTM5MzYx", "avatar_url": "https://avatars.githubusercontent.com/u/20539361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/p9f", "html_url": "https://github.com/p9f", "followers_url": "https://api.github.com/users/p9f/followers", "following_url": "https://api.github.com/users/p9f/following{/other_user}", "gists_url": "https://api.github.com/users/p9f/gists{/gist_id}", "starred_url": "https://api.github.com/users/p9f/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/p9f/subscriptions", "organizations_url": "https://api.github.com/users/p9f/orgs", "repos_url": "https://api.github.com/users/p9f/repos", "events_url": "https://api.github.com/users/p9f/events{/privacy}", "received_events_url": "https://api.github.com/users/p9f/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 975531894, "node_id": "MDU6TGFiZWw5NzU1MzE4OTQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/metrics", "name": "metrics", "color": "f442c8", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2021-10-07T11:33:46Z", "updated_at": "2021-10-27T05:08:09Z", "closed_at": "2021-10-27T05:07:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2849", "html_url": "https://github.com/nltk/nltk/pull/2849", "diff_url": "https://github.com/nltk/nltk/pull/2849.diff", "patch_url": "https://github.com/nltk/nltk/pull/2849.patch", "merged_at": "2021-10-27T05:07:52Z"}, "body": "Fix a bug where a duplicated letter was not contributing to the\r\ndistance, if transposition was set to true and duplicated letter was the\r\nleft argument.\r\n\r\n```python3\r\nedit_distance(\"duuplicated\", \"duplicated\", transpositions=False)\r\nedit_distance(\"duplicated\", \"duuplicated\", transpositions=False)\r\nedit_distance(\"duuplicated\", \"duplicated\", transpositions=True)\r\n# all return 1 - correct\r\n\r\nedit_distance(\"duplicated\", \"duuplicated\", transpositions=True)\r\n# returns 0 - incorrect\r\n```\r\n\r\nI believe it is a bug introduced three weeks ago by PR [2736].\r\n\r\nThe fix makes nltk implementation closer to the [wikipedia] pseudo code,\r\nwhich should make further reviews / iteration easier I believe.\r\n\r\n[2736]: https://github.com/nltk/nltk/pull/2736\r\n[wikipedia]: https://en.wikipedia.org/wiki/Damerau%E2%80%93Levenshtein_distance#Distance_with_adjacent_transpositions\r\n\r\nshould fix https://github.com/nltk/nltk/issues/2848", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2849/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2849/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2848", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2848/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2848/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2848/events", "html_url": "https://github.com/nltk/nltk/issues/2848", "id": 1019937124, "node_id": "I_kwDOAASTVs48ywFk", "number": 2848, "title": "Invalid levenstein distance for duplicated letters", "user": {"login": "p9f", "id": 20539361, "node_id": "MDQ6VXNlcjIwNTM5MzYx", "avatar_url": "https://avatars.githubusercontent.com/u/20539361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/p9f", "html_url": "https://github.com/p9f", "followers_url": "https://api.github.com/users/p9f/followers", "following_url": "https://api.github.com/users/p9f/following{/other_user}", "gists_url": "https://api.github.com/users/p9f/gists{/gist_id}", "starred_url": "https://api.github.com/users/p9f/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/p9f/subscriptions", "organizations_url": "https://api.github.com/users/p9f/orgs", "repos_url": "https://api.github.com/users/p9f/repos", "events_url": "https://api.github.com/users/p9f/events{/privacy}", "received_events_url": "https://api.github.com/users/p9f/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 975531894, "node_id": "MDU6TGFiZWw5NzU1MzE4OTQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/metrics", "name": "metrics", "color": "f442c8", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-07T11:32:41Z", "updated_at": "2021-10-27T05:07:52Z", "closed_at": "2021-10-27T05:07:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When a letter is duplicated,\r\nWhen transpositions is allowed,\r\nWhen a duplicated letter is present on the right argument,\r\n\r\nThen the duplicated letter does not contribute to the distance which is wrong - should be 1 (deletion).\r\n\r\n```python3\r\nfrom nltk.distance import edit_distance\r\n\r\nedit_distance(\"duuplicated\", \"duplicated\", transpositions=False)\r\nedit_distance(\"duplicated\", \"duuplicated\", transpositions=False)\r\nedit_distance(\"duuplicated\", \"duplicated\", transpositions=True)\r\n# all return 1 - correct\r\n\r\nedit_distance(\"duplicated\", \"duuplicated\", transpositions=True)\r\n# returns 0 - incorrect\r\n```\r\n\r\n(tested on version 3.6.4)\r\n\r\n\r\nI believe this is a bug introduced by https://github.com/nltk/nltk/pull/2736/files.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2848/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2848/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2839", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2839/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2839/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2839/events", "html_url": "https://github.com/nltk/nltk/pull/2839", "id": 1014554901, "node_id": "PR_kwDOAASTVs4snAty", "number": 2839, "title": "Fix Bleu Score smoothing function from taking log(0)", "user": {"login": "h0rv", "id": 45851384, "node_id": "MDQ6VXNlcjQ1ODUxMzg0", "avatar_url": "https://avatars.githubusercontent.com/u/45851384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h0rv", "html_url": "https://github.com/h0rv", "followers_url": "https://api.github.com/users/h0rv/followers", "following_url": "https://api.github.com/users/h0rv/following{/other_user}", "gists_url": "https://api.github.com/users/h0rv/gists{/gist_id}", "starred_url": "https://api.github.com/users/h0rv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h0rv/subscriptions", "organizations_url": "https://api.github.com/users/h0rv/orgs", "repos_url": "https://api.github.com/users/h0rv/repos", "events_url": "https://api.github.com/users/h0rv/events{/privacy}", "received_events_url": "https://api.github.com/users/h0rv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 975531894, "node_id": "MDU6TGFiZWw5NzU1MzE4OTQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/metrics", "name": "metrics", "color": "f442c8", "default": false, "description": ""}, {"id": 3375728364, "node_id": "LA_kwDOAASTVs7JNYbs", "url": "https://api.github.com/repos/nltk/nltk/labels/needs%20review", "name": "needs review", "color": "9B6501", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-10-03T22:05:22Z", "updated_at": "2021-10-14T10:56:24Z", "closed_at": "2021-10-14T10:35:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2839", "html_url": "https://github.com/nltk/nltk/pull/2839", "diff_url": "https://github.com/nltk/nltk/pull/2839.diff", "patch_url": "https://github.com/nltk/nltk/pull/2839.patch", "merged_at": "2021-10-14T10:35:15Z"}, "body": "This PR pertains to the issue #2838. The issues problem was already fixed on the develop branch but created a new problem. The fix allowed the function to return 0 and then the logs were taken of the returned list values. I fixed it just by checking if the list elements are greater than 0. ", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2839/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2838", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2838/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2838/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2838/events", "html_url": "https://github.com/nltk/nltk/issues/2838", "id": 1014419941, "node_id": "I_kwDOAASTVs48dtHl", "number": 2838, "title": "ZeroDivisionError when using SmoothingFunction's method4 with a single word as hypothesis", "user": {"login": "KristiyanVachev", "id": 6071722, "node_id": "MDQ6VXNlcjYwNzE3MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/6071722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KristiyanVachev", "html_url": "https://github.com/KristiyanVachev", "followers_url": "https://api.github.com/users/KristiyanVachev/followers", "following_url": "https://api.github.com/users/KristiyanVachev/following{/other_user}", "gists_url": "https://api.github.com/users/KristiyanVachev/gists{/gist_id}", "starred_url": "https://api.github.com/users/KristiyanVachev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KristiyanVachev/subscriptions", "organizations_url": "https://api.github.com/users/KristiyanVachev/orgs", "repos_url": "https://api.github.com/users/KristiyanVachev/repos", "events_url": "https://api.github.com/users/KristiyanVachev/events{/privacy}", "received_events_url": "https://api.github.com/users/KristiyanVachev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019200, "node_id": "MDU6TGFiZWwxNDAxOTIwMA==", "url": "https://api.github.com/repos/nltk/nltk/labels/good%20first%20issue", "name": "good first issue", "color": "02e10c", "default": true, "description": ""}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 975531894, "node_id": "MDU6TGFiZWw5NzU1MzE4OTQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/metrics", "name": "metrics", "color": "f442c8", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-03T14:49:14Z", "updated_at": "2021-10-14T10:35:15Z", "closed_at": "2021-10-14T10:35:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using the SmoothingFunction's [method4](https://www.kite.com/python/docs/nltk.bleu_score.SmoothingFunction.method4) with a a single word as a hypothesis  I get the following error. Which is of course because math.log(1) is 0. \r\nI ended up using just method2 or method1 which doesn't use the function that throws the error, but I guess it would be useful to report it, as some other poor soul may stumble with it. \r\n\r\n```\r\nfrom nltk.translate.bleu_score import sentence_bleu\r\nfrom nltk.translate.bleu_score import SmoothingFunction\r\n\r\nrefs = [['short', 'skirts'], ['too', 'expensive'], ['girls', 'wearing'], ['being', 'laughed', 'at']]\r\nhyp = ['too']\r\n\r\nchencherry = SmoothingFunction()\r\nsentence_bleu(refs, hyp, weights=(1, 0, 0, 0), smoothing_function=chencherry.method4)\r\n\r\n```\r\n\r\n```\r\nZeroDivisionError                         Traceback (most recent call last)\r\n<ipython-input-130-00301cf17f56> in <module>()\r\n      6 \r\n      7 chencherry = SmoothingFunction()\r\n----> 8 sentence_bleu(refs, hyp, weights=(1, 0, 0, 0), smoothing_function=chencherry.method4)\r\n\r\n2 frames\r\n/usr/local/lib/python3.7/dist-packages/nltk/translate/bleu_score.py in sentence_bleu(references, hypothesis, weights, smoothing_function, auto_reweigh, emulate_multibleu)\r\n     87     return corpus_bleu([references], [hypothesis],\r\n     88                         weights, smoothing_function, auto_reweigh,\r\n---> 89                         emulate_multibleu)\r\n     90 \r\n     91 \r\n\r\n/usr/local/lib/python3.7/dist-packages/nltk/translate/bleu_score.py in corpus_bleu(list_of_references, hypotheses, weights, smoothing_function, auto_reweigh, emulate_multibleu)\r\n    197     #       smoothing method allows.\r\n    198     p_n = smoothing_function(p_n, references=references, hypothesis=hypothesis,\r\n--> 199                              hyp_len=hyp_len, emulate_multibleu=emulate_multibleu)\r\n    200     s = (w * math.log(p_i) for i, (w, p_i) in enumerate(zip(weights, p_n)))\r\n    201     s =  bp * math.exp(math.fsum(s))\r\n\r\n/usr/local/lib/python3.7/dist-packages/nltk/translate/bleu_score.py in method4(self, p_n, references, hypothesis, hyp_len, *args, **kwargs)\r\n    542         for i, p_i in enumerate(p_n):\r\n    543             if p_i.numerator == 0 and hyp_len != 0:\r\n--> 544                 incvnt = i+1 * self.k / math.log(hyp_len) # Note that this K is different from the K from NIST.\r\n    545                 p_n[i] = 1 / incvnt\r\n    546         return p_n\r\n\r\nZeroDivisionError: float division by zero\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2838/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2838/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2833", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2833/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2833/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2833/events", "html_url": "https://github.com/nltk/nltk/issues/2833", "id": 1012970838, "node_id": "I_kwDOAASTVs48YLVW", "number": 2833, "title": "[3.6.4] AttributeError: module 'regex' has no attribute 'Pattern'", "user": {"login": "astariul", "id": 43774355, "node_id": "MDQ6VXNlcjQzNzc0MzU1", "avatar_url": "https://avatars.githubusercontent.com/u/43774355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/astariul", "html_url": "https://github.com/astariul", "followers_url": "https://api.github.com/users/astariul/followers", "following_url": "https://api.github.com/users/astariul/following{/other_user}", "gists_url": "https://api.github.com/users/astariul/gists{/gist_id}", "starred_url": "https://api.github.com/users/astariul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/astariul/subscriptions", "organizations_url": "https://api.github.com/users/astariul/orgs", "repos_url": "https://api.github.com/users/astariul/repos", "events_url": "https://api.github.com/users/astariul/events{/privacy}", "received_events_url": "https://api.github.com/users/astariul/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 1641876486, "node_id": "MDU6TGFiZWwxNjQxODc2NDg2", "url": "https://api.github.com/repos/nltk/nltk/labels/critical", "name": "critical", "color": "ff2050", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-10-01T06:57:33Z", "updated_at": "2021-10-11T07:20:33Z", "closed_at": "2021-10-11T07:20:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since I upgraded `nltk` from `3.6.2` to `3.6.4`, the following code :\r\n\r\n```python\r\nfrom nltk.tokenize.casual import TweetTokenizer, casual_tokenize\r\n```\r\n\r\nraises the following error :\r\n\r\n> Traceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/user/miniconda3/envs/test/lib/python3.7/site-packages/nltk/__init__.py\", line 137, in <module>\r\n    from nltk.text import *\r\n  File \"/home/user/miniconda3/envs/test/lib/python3.7/site-packages/nltk/text.py\", line 29, in <module>\r\n    from nltk.tokenize import sent_tokenize\r\n  File \"/home/user/miniconda3/envs/test/lib/python3.7/site-packages/nltk/tokenize/__init__.py\", line 65, in <module>\r\n    from nltk.tokenize.casual import TweetTokenizer, casual_tokenize\r\n  File \"/home/user/miniconda3/envs/test/lib/python3.7/site-packages/nltk/tokenize/casual.py\", line 272, in <module>\r\n    class TweetTokenizer:\r\n  File \"/home/user/miniconda3/envs/test/lib/python3.7/site-packages/nltk/tokenize/casual.py\", line 357, in TweetTokenizer\r\n    def WORD_RE(self) -> regex.Pattern:\r\n**AttributeError: module 'regex' has no attribute 'Pattern'**", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2833/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2833/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2823", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2823/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2823/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2823/events", "html_url": "https://github.com/nltk/nltk/pull/2823", "id": 1008443549, "node_id": "PR_kwDOAASTVs4sVAA2", "number": 2823, "title": "Breaking issue - Fix regression from #2819", "user": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 719083862, "node_id": "MDU6TGFiZWw3MTkwODM4NjI=", "url": "https://api.github.com/repos/nltk/nltk/labels/installation", "name": "installation", "color": "f7731b", "default": false, "description": null}, {"id": 1118709607, "node_id": "MDU6TGFiZWwxMTE4NzA5NjA3", "url": "https://api.github.com/repos/nltk/nltk/labels/internals", "name": "internals", "color": "77359e", "default": false, "description": ""}, {"id": 1641876486, "node_id": "MDU6TGFiZWwxNjQxODc2NDg2", "url": "https://api.github.com/repos/nltk/nltk/labels/critical", "name": "critical", "color": "ff2050", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-27T18:08:03Z", "updated_at": "2021-09-27T18:18:31Z", "closed_at": "2021-09-27T18:18:01Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2823", "html_url": "https://github.com/nltk/nltk/pull/2823", "diff_url": "https://github.com/nltk/nltk/pull/2823.diff", "patch_url": "https://github.com/nltk/nltk/pull/2823.patch", "merged_at": "2021-09-27T18:18:01Z"}, "body": "Hello!\r\n\r\n### Pull request overview\r\n* Fix breaking issue from #2819 \r\n\r\n### The bug\r\nNLTK can no longer be imported without having installed `\"wordnet\"`, and wordnet cannot be downloaded without `nltk` being imported. This prevents users from using NLTK whatsoever. \r\nAfter deleting the `wordnet` and `wordnet_ic` folders from my `nltk_data` folder, and importing NLTK, this is the result:\r\n```python\r\n>>> import nltk\r\nTraceback (most recent call last):\r\n  File \"[sic]\\nltk\\corpus\\util.py\", line 84, in __load       \r\n    root = nltk.data.find(f\"{self.subdir}/{zip_name}\")\r\n  File \"[sic]\\nltk\\data.py\", line 583, in find\r\n    raise LookupError(resource_not_found)\r\nLookupError: \r\n**********************************************************************\r\n  Resource wordnet not found.\r\n  Please use the NLTK Downloader to obtain the resource:\r\n\r\n  >>> import nltk\r\n  >>> nltk.download('wordnet')\r\n  \r\n  For more information see: https://www.nltk.org/data.html\r\n\r\n  Attempted to load corpora/wordnet.zip/wordnet/\r\n\r\n  Searched in:\r\n    - '[sic]/nltk_data'\r\n    - '[sic]\\\\Python39\\\\nltk_data'\r\n    - '[sic]\\\\Python39\\\\share\\\\nltk_data'\r\n    - '[sic]\\\\Python39\\\\lib\\\\nltk_data'\r\n    - '[sic]\\\\AppData\\\\Roaming\\\\nltk_data'\r\n    - 'C:\\\\nltk_data'\r\n    - 'D:\\\\nltk_data'\r\n    - 'E:\\\\nltk_data'\r\n**********************************************************************\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"[sic]\\nltk\\__init__.py\", line 153, in <module>\r\n    from nltk.translate import *\r\n  File \"[sic]\\nltk\\translate\\__init__.py\", line 24, in <module>\r\n    from nltk.translate.meteor_score import meteor_score as meteor\r\n  File \"[sic]\\nltk\\translate\\meteor_score.py\", line 13, in <module>\r\n    from nltk.stem.porter import PorterStemmer\r\n  File \"[sic]\\nltk\\stem\\__init__.py\", line 34, in <module>\r\n    from nltk.stem.wordnet import WordNetLemmatizer\r\n  File \"[sic]\\nltk\\stem\\wordnet.py\", line 12, in <module>\r\n    class WordNetLemmatizer:\r\n  File \"[sic]\\nltk\\stem\\wordnet.py\", line 33, in WordNetLemmatizer\r\n    def lemmatize(self, word: str, pos: str = wn.NOUN) -> str:\r\n  File \"[sic]\\nltk\\corpus\\util.py\", line 121, in __getattr__\r\n    self.__load()\r\n  File \"[sic]\\nltk\\corpus\\util.py\", line 86, in __load\r\n    raise e\r\n  File \"[sic]\\nltk\\corpus\\util.py\", line 81, in __load\r\n    root = nltk.data.find(f\"{self.subdir}/{self.__name}\")\r\n  File \"[sic]\\nltk\\data.py\", line 583, in find\r\n    raise LookupError(resource_not_found)\r\nLookupError:\r\n**********************************************************************\r\n  Resource wordnet not found.\r\n  Please use the NLTK Downloader to obtain the resource:\r\n\r\n  >>> import nltk\r\n  >>> nltk.download('wordnet')\r\n\r\n  For more information see: https://www.nltk.org/data.html\r\n\r\n  Attempted to load corpora/wordnet\r\n\r\n  Searched in:\r\n    - '[sic]/nltk_data'\r\n    - '[sic]\\\\Python39\\\\nltk_data'\r\n    - '[sic]\\\\Python39\\\\share\\\\nltk_data'\r\n    - '[sic]\\\\Python39\\\\lib\\\\nltk_data'\r\n    - '[sic]\\\\AppData\\\\Roaming\\\\nltk_data'\r\n    - 'C:\\\\nltk_data'\r\n    - 'D:\\\\nltk_data'\r\n    - 'E:\\\\nltk_data'\r\n**********************************************************************\r\n\r\n>>> import nltk\r\nTraceback (most recent call last):\r\n  File \"[sic]\\nltk\\corpus\\util.py\", line 84, in __load\r\n    root = nltk.data.find(f\"{self.subdir}/{zip_name}\")\r\n  File \"[sic]\\nltk\\data.py\", line 583, in find\r\n    raise LookupError(resource_not_found)\r\nLookupError:\r\n**********************************************************************\r\n  Resource wordnet not found.\r\n  Please use the NLTK Downloader to obtain the resource:\r\n\r\n  >>> import nltk\r\n  >>> nltk.download('wordnet')\r\n\r\n  For more information see: https://www.nltk.org/data.html\r\n\r\n  Attempted to load corpora/wordnet.zip/wordnet/\r\n\r\n  Searched in:\r\n    - '[sic]/nltk_data'\r\n    - '[sic]\\\\Python39\\\\nltk_data'\r\n    - '[sic]\\\\Python39\\\\share\\\\nltk_data'\r\n    - '[sic]\\\\Python39\\\\lib\\\\nltk_data'\r\n    - '[sic]\\\\AppData\\\\Roaming\\\\nltk_data'\r\n    - 'C:\\\\nltk_data'\r\n    - 'D:\\\\nltk_data'\r\n    - 'E:\\\\nltk_data'\r\n**********************************************************************\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"[sic]\\nltk\\__init__.py\", line 155, in <module>\r\n    from nltk.stem import *\r\n  File \"[sic]\\nltk\\stem\\__init__.py\", line 34, in <module>\r\n    from nltk.stem.wordnet import WordNetLemmatizer\r\n  File \"[sic]\\nltk\\stem\\wordnet.py\", line 12, in <module>\r\n    class WordNetLemmatizer:\r\n  File \"[sic]\\nltk\\stem\\wordnet.py\", line 33, in WordNetLemmatizer\r\n    def lemmatize(self, word: str, pos: str = wn.NOUN) -> str:\r\n  File \"[sic]\\nltk\\corpus\\util.py\", line 121, in __getattr__\r\n    self.__load()\r\n  File \"[sic]\\nltk\\corpus\\util.py\", line 86, in __load\r\n    raise e\r\n  File \"[sic]\\nltk\\corpus\\util.py\", line 81, in __load\r\n    root = nltk.data.find(f\"{self.subdir}/{self.__name}\")\r\n  File \"[sic]\\nltk\\data.py\", line 583, in find\r\n    raise LookupError(resource_not_found)\r\nLookupError:\r\n**********************************************************************\r\n  Resource wordnet not found.\r\n  Please use the NLTK Downloader to obtain the resource:\r\n\r\n  >>> import nltk\r\n  >>> nltk.download('wordnet')\r\n\r\n  For more information see: https://www.nltk.org/data.html\r\n\r\n  Attempted to load corpora/wordnet\r\n\r\n  Searched in:\r\n    - '[sic]/nltk_data'\r\n    - '[sic]\\\\Python39\\\\nltk_data'\r\n    - '[sic]\\\\Python39\\\\share\\\\nltk_data'\r\n    - '[sic]\\\\Python39\\\\lib\\\\nltk_data'\r\n    - '[sic]\\\\AppData\\\\Roaming\\\\nltk_data'\r\n    - 'C:\\\\nltk_data'\r\n    - 'D:\\\\nltk_data'\r\n    - 'E:\\\\nltk_data'\r\n**********************************************************************\r\n```\r\n\r\nThe core of the bug can be found in this line:\r\n```python\r\n  File \"[sic]\\nltk\\stem\\wordnet.py\", line 33, in WordNetLemmatizer\r\n    def lemmatize(self, word: str, pos: str = wn.NOUN) -> str:\r\n  File \"[sic]\\nltk\\corpus\\util.py\", line 121, in __getattr__\r\n    self.__load()\r\n```\r\n\r\nMy recent changes from #2819 has converted\r\n```python\r\nfrom nltk.corpus import wordnet\r\nfrom nltk.corpus.reader.wordnet import NOUN\r\n\r\n...\r\n\r\n   def lemmatize(self, word, pos=NOUN):\r\n...\r\n```\r\nto\r\n```python\r\nfrom nltk.corpus import wordnet as wn\r\n\r\n...\r\n\r\n   def lemmatize(self, word: str, pos: str = wn.NOUN) -> str:\r\n...\r\n```\r\n\r\nThis change seems innocuous, with no real consequences whatsoever - but it seems that using `wn.NOUN` forces the `WordNetCorpusReader` to load. This is not a problem if `wordnet` is already downloaded. But, if it isn't, then an exception gets thrown, telling the user to download `wordnet`.\r\nHowever, this cannot be done when `import nltk` throws an exception, and then\r\n```python\r\n>>> import nltk\r\n>>> nltk.download(\"wordnet\")\r\n```\r\ncannot be executed.\r\n\r\n### The fix\r\nSimply replace `wn.NOUN` with `\"n\"`, which is clearer (people recognise strings, but not `wn.NOUN`), but removes the \"mental link\" to the wordnet global variables. Perhaps there's a way to use `NOUN` again without loading the corpus loader.\r\n\r\n---\r\n\r\nBy the way, the reason the tests never picked this up, is because `nltk_data` is cached. As a result, loading `wordnet` doesn't give issues. However, if the cache ever needed renewing, then it would start complaining.\r\n\r\nI must say that I never imagined these consequences. \r\n\r\n- Tom Aarsen", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2823/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2821", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2821/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2821/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2821/events", "html_url": "https://github.com/nltk/nltk/pull/2821", "id": 1008311151, "node_id": "PR_kwDOAASTVs4sUl8F", "number": 2821, "title": "Resolved NameError bug in raising Exception for RegexpTagger", "user": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718740438, "node_id": "MDU6TGFiZWw3MTg3NDA0Mzg=", "url": "https://api.github.com/repos/nltk/nltk/labels/tagger", "name": "tagger", "color": "a2d4e8", "default": false, "description": null}, {"id": 3375728364, "node_id": "LA_kwDOAASTVs7JNYbs", "url": "https://api.github.com/repos/nltk/nltk/labels/needs%20review", "name": "needs review", "color": "9B6501", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-27T15:47:18Z", "updated_at": "2021-09-27T22:09:12Z", "closed_at": "2021-09-27T21:48:41Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2821", "html_url": "https://github.com/nltk/nltk/pull/2821", "diff_url": "https://github.com/nltk/nltk/pull/2821.diff", "patch_url": "https://github.com/nltk/nltk/pull/2821.patch", "merged_at": "2021-09-27T21:48:41Z"}, "body": "Resolves #2817\r\n\r\nHello!\r\n\r\n### Pull request overview\r\n* Resolved `NameError` that would be thrown if RegexpTagger encountered an Exception.\r\n* Added Python 3.5+ typing to the RegexpTagger constructor.\r\n\r\n### The bug\r\nThe bug in question was mentioned in #2817, but was perhaps not made clear enough, as this issue also advocates for checking whether the input is of the right type, which is not something I believe in (See the bottom of this PR for more info). However, I would like to reiterate that there is actually a bug here. In short, whenever RegexpTagger is initialised with a value of `regexps` that throws an Exception, then *another* unplanned Exception is thrown with the following traceback:\r\n```\r\n[sic]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"[sic]\\nltk_2817.py\", line 8, in <module>\r\n    tagger = RegexpTagger(regexps)\r\n  File \"[sic]\\nltk\\tag\\sequential.py\", line 549, in __init__\r\n    \"Invalid RegexpTagger regexp:\", str(e), \"regexp:\", regexp, \"tag:\", tag\r\nNameError: name 'regexp' is not defined\r\n```\r\n\r\nThe code in question is this:\r\nhttps://github.com/nltk/nltk/blob/43f3e3096ade1a2564a20a66172d53bd140ac983/nltk/tag/sequential.py#L536-L550\r\n\r\nThis exact Exception is thrown because `regexp` nor `tag` can be accessed from within the `except` branch of the `try-except`. Note:  This doesn't only occur when the list is empty (in fact, no Exception is thrown when the list is empty). These variables simply cannot be accessed, ever.\r\n\r\n### How to reproduce\r\n```python\r\nfrom nltk.tag import RegexpTagger\r\n# Note: The last regular expression is faulty - the slash before the i doesn't work\r\nregexps = [(r'^-?[0-]', 'CD'), (r'(The|the|A|a|An|an)$', 'AT'), (\"\\i{,2}\", \"CD\")]\r\ntagger = RegexpTagger(regexps)\r\n```\r\nThis outputs:\r\n```\r\nTraceback (most recent call last):\r\n  File \"[sic]\\nltk\\tag\\sequential.py\", line 540, in __init__\r\n    self._regexps = [\r\n  File \"[sic]\\nltk\\tag\\sequential.py\", line 542, in <listcomp>\r\n    re.compile(regexp),\r\n  File \"[sic]\\Python39\\lib\\re.py\", line 252, in compile\r\n    return _compile(pattern, flags)\r\n  File \"[sic]\\Python39\\lib\\re.py\", line 304, in _compile\r\n    p = sre_compile.compile(pattern, flags)\r\n  File \"[sic]\\Python39\\lib\\sre_compile.py\", line 764, in compile \r\n    p = sre_parse.parse(p, flags)\r\n  File \"[sic]\\Python39\\lib\\sre_parse.py\", line 948, in parse     \r\n    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)\r\n  File \"[sic]\\Python39\\lib\\sre_parse.py\", line 443, in _parse_sub\r\n    itemsappend(_parse(source, state, verbose, nested + 1,\r\n  File \"[sic]\\Python39\\lib\\sre_parse.py\", line 525, in _parse    \r\n    code = _escape(source, this, state)\r\n  File \"[sic]\\Python39\\lib\\sre_parse.py\", line 426, in _escape   \r\n    raise source.error(\"bad escape %s\" % escape, len(escape))\r\nre.error: bad escape \\i at position 0\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"[sic]\\nltk_2817.py\", line 8, in <module>\r\n    tagger = RegexpTagger(regexps)\r\n  File \"[sic]\\nltk\\tag\\sequential.py\", line 549, in __init__\r\n    \"Invalid RegexpTagger regexp:\", str(e), \"regexp:\", regexp, \"tag:\", tag\r\nNameError: name 'regexp' is not defined\r\n```\r\nWe get this same uninformative `NameError` regardless of how valid or invalid the thrown Exception is.\r\nHere we would like to get a useful Exception that shows which `regexp` and `tag` caused the issue.\r\n\r\n### The fix\r\nI've turned the list comprehension into a regular for loop, and moved the try-except into the for loop. This way, the variables are always known, so we can produce useful Exceptions. I've *slightly* modified the Exception, and added Python 3.5+ typing to the constructor.\r\n\r\nNow, the aforementioned program outputs the following useful exception:\r\n```\r\n[sic]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"[sic]\\nltk_2817.py\", line 8, in <module>\r\n    tagger = RegexpTagger(regexps)\r\n  File \"[sic]\\nltk\\tag\\sequential.py\", line 546, in __init__\r\n    raise Exception(\r\nException: Invalid RegexpTagger regexp: bad escape \\i at position 0\r\n- regexp: '\\\\i{,2}'\r\n- tag: 'CD'\r\n```\r\n\r\n---\r\n\r\n### Other changes\r\nI've also added Python 3.5+ typing to the RegexpTagger construct, to guide developers their IDE's to suggest the right input type.\r\n\r\n---\r\n\r\nThank you to @12mohaned for raising this issue. Regarding your issue - many Python developers believe in \"Garbage in - garbage out\". If the documentation is clear, and a user fails to follow it, then that is their problem. **That said**, you also pointed out a real bug, which is that NLTK fails to construct a string used in throwing the Exception.\r\n\r\nYour example of \r\n```python\r\nregexps = [(r'^-?[0-]', 'CD'), (r'(The|the|A|a|An|an)$', 'AT'), (r'.*able$',)]\r\n```\r\nnow throws:\r\n```\r\nTraceback (most recent call last):\r\n  File \"[sic]\\nltk_2817.py\", line 9, in <module>\r\n    tagger = RegexpTagger(regexps)\r\n  File \"[sic]\\nltk\\tag\\sequential.py\", line 542, in __init__\r\n    for regexp, tag in regexps:\r\nValueError: not enough values to unpack (expected 2, got 1)\r\n```\r\nWhich should indicate to the developers that they're doing something wrong.\r\n\r\n- Tom Aarsen", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2821/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2821/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2816", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2816/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2816/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2816/events", "html_url": "https://github.com/nltk/nltk/pull/2816", "id": 1006627903, "node_id": "PR_kwDOAASTVs4sP1pa", "number": 2816, "title": "Resolved ReDoS vulnerability in Corpus Reader", "user": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 3375728364, "node_id": "LA_kwDOAASTVs7JNYbs", "url": "https://api.github.com/repos/nltk/nltk/labels/needs%20review", "name": "needs review", "color": "9B6501", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-24T16:21:08Z", "updated_at": "2021-09-30T12:13:25Z", "closed_at": "2021-09-24T23:14:32Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2816", "html_url": "https://github.com/nltk/nltk/pull/2816", "diff_url": "https://github.com/nltk/nltk/pull/2816.diff", "patch_url": "https://github.com/nltk/nltk/pull/2816.patch", "merged_at": "2021-09-24T23:14:32Z"}, "body": "Hello!\r\n\r\n### Pull request overview\r\n- Resolved Regular Expression Denial Of Service vulnerability in the CorpusReader for the Comparative Sentences Dataset.\r\n- Added performance tests hinting that the ReDoS is removed.\r\n\r\n#### Background\r\n[Wikipedia page for ReDoS](https://en.wikipedia.org/wiki/ReDoS).\r\n\r\n### The ReDoS\r\nThe regular expression vulnerable to a ReDoS is compiled here:\r\nhttps://github.com/nltk/nltk/blob/23f4b1c4b4006b0cb3ec278e801029557cec4e82/nltk/corpus/reader/comparative_sents.py#L48\r\nAnd only used once, right here:\r\nhttps://github.com/nltk/nltk/blob/23f4b1c4b4006b0cb3ec278e801029557cec4e82/nltk/corpus/reader/comparative_sents.py#L259\r\n\r\n### Regex breakdown\r\n\r\nIn full:\r\n```python\r\n\\((?!.*\\()(.*)\\)$\r\n```\r\nIt consists of 4 segments, described here:\r\n\r\n<table>\r\n<tr>\r\n<th>\r\nRegex section\r\n</th>\r\n<th>\r\nExplanation\r\n</th>\r\n</tr>\r\n\r\n<tr>\r\n<td>\r\n\r\n```python\r\n\\(\r\n```\r\n\r\n</td>\r\n<td>\r\n\r\nMatch the character `(` exactly.\r\n\r\n</td>\r\n</tr>\r\n<tr>\r\n<td>\r\n\r\n```python\r\n(?!.*\\()\r\n```\r\n\r\n</td>\r\n<td>\r\n\r\nNegative lookahead. Makes sure that `.*\\(` can **not** be matched. In short, this means that the remainder of the match (after the previous segment) can **not** contain another `(`.\r\n\r\n</td>\r\n</tr>\r\n<tr>\r\n<td>\r\n\r\n```python\r\n(.*)\r\n```\r\n\r\n</td>\r\n<td>\r\nMatches any number of characters, and places them in a group for extraction.\r\n</td>\r\n</tr>\r\n<tr>\r\n<td>\r\n\r\n```python\r\n\\)$\r\n```\r\n\r\n</td>\r\n<td>\r\n\r\nMatch the character `)` exactly, and ensure that this is the end of the line.\r\n\r\n</td>\r\n</tr>\r\n</table>\r\n\r\n### What does this regex try to do?\r\nIt tries to find information within the brackets in each line in e.g.\r\n```\r\n1_its 2_models 3_fast-forward 3_rewind (more)\r\n 1_4.5 gb 2_0.7 gb (nicer)\r\n1_mirror 2_silver 3_finish (more)\r\n 1_dvd players 3_quality 2_this (better)\r\n 1_panasonics 1_toshibas 1_sonys (cheaper)\r\n```\r\ni.e. extract `more`, `nicer`, `more`, `better`, `cheaper`. This is what segments 1, 3 and 4 do. Segment 2 ensures that the starting `(` is the most right-most `(` in the entire input. This way, in e.g.\r\n```\r\n1_its 2_models (3_fast-forward) 3_rewind (more)\r\n```\r\nOnly `more` is extracted.\r\n\r\nThe ReDoS comes from the combination of the two `.*`'s, and likely results from naive backtracking in Python's regular expression engine.\r\n\r\n### The fix\r\nThe new regex looks like so:\r\n```python\r\nKEYWORD = re.compile(r\"\\(([^\\(]*)\\)$\")\r\n```\r\nIt's fairly similar to the previous regex. Segments 1 and 4 are reused, while segment 2 is removed, and segment 3 is modified.\r\nSegment 3 is now:\r\n```\r\n([^\\(]*)\r\n```\r\nThis regular expression will now, rather than match anything, match anything *except `(`*. Because the `$` at the end anchors us at the end of the line, this is still guaranteed to only get the last case of e.g. `... (more)`.\r\n\r\nI've quickly tested this new regex with all lines in the Comparative Sentences Dataset, and it finds just as many matches as the old regex. I believe it's identical in output, and only differs in performance.\r\n\r\n---\r\n\r\n### Tests\r\nIn order to help convince that this has actually resolved the issue, I've created a doctest in corpus.doctest. It will:\r\n* Perform `KEYWORD.findall(payload)` 9 times with a malicious payload of 4000 characters. Then, take the mean execution time between these 9 calls. This is dubbed the short mean.\r\n* Perform `KEYWORD.findall(payload)` 9 times with a malicious payload of 40000 (!) characters. Then, take the mean execution time between these 9 calls. This is dubbed the long mean.\r\n* If the regular expression execution time is linear to the size of the input (as it should be in such a relatively simple regex), then the long mean should be roughly 10 times as big as the short mean.\r\n  To play it safe, we ensure that the long mean is at most 30 times as big. A value of 30 seems to work fine.\r\n  When the ReDoS was still intact, the long mean would be rougly 80 times as big, which definitely indicates that the regex is not linear in execution time.\r\n\r\n---\r\n\r\nThank you for reporting this vulnerability through our team email. \r\n\r\n- Tom Aarsen", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2816/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2816/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2803", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2803/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2803/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2803/events", "html_url": "https://github.com/nltk/nltk/pull/2803", "id": 993869151, "node_id": "MDExOlB1bGxSZXF1ZXN0NzMxOTUwNzc4", "number": 2803, "title": "build: add matplotlib in deps section", "user": {"login": "12mohaned", "id": 30902228, "node_id": "MDQ6VXNlcjMwOTAyMjI4", "avatar_url": "https://avatars.githubusercontent.com/u/30902228?v=4", "gravatar_id": "", "url": "https://api.github.com/users/12mohaned", "html_url": "https://github.com/12mohaned", "followers_url": "https://api.github.com/users/12mohaned/followers", "following_url": "https://api.github.com/users/12mohaned/following{/other_user}", "gists_url": "https://api.github.com/users/12mohaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/12mohaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/12mohaned/subscriptions", "organizations_url": "https://api.github.com/users/12mohaned/orgs", "repos_url": "https://api.github.com/users/12mohaned/repos", "events_url": "https://api.github.com/users/12mohaned/events{/privacy}", "received_events_url": "https://api.github.com/users/12mohaned/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 486810128, "node_id": "MDU6TGFiZWw0ODY4MTAxMjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/tests", "name": "tests", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-11T15:41:45Z", "updated_at": "2021-10-04T08:52:40Z", "closed_at": "2021-09-13T04:33:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2803", "html_url": "https://github.com/nltk/nltk/pull/2803", "diff_url": "https://github.com/nltk/nltk/pull/2803.diff", "patch_url": "https://github.com/nltk/nltk/pull/2803.patch", "merged_at": "2021-09-13T04:33:53Z"}, "body": "Add dependency for missing package **Matplotlib**", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2803/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2772", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2772/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2772/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2772/events", "html_url": "https://github.com/nltk/nltk/pull/2772", "id": 958910598, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAyMTA2NTIw", "number": 2772, "title": "Fixed issue on platforms that use `\\r\\n` line-endings when writing CSV files", "user": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718738467, "node_id": "MDU6TGFiZWw3MTg3Mzg0Njc=", "url": "https://api.github.com/repos/nltk/nltk/labels/windows%20related", "name": "windows related", "color": "fce4ba", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-08-03T09:19:07Z", "updated_at": "2021-08-03T12:42:26Z", "closed_at": "2021-08-03T12:42:26Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2772", "html_url": "https://github.com/nltk/nltk/pull/2772", "diff_url": "https://github.com/nltk/nltk/pull/2772.diff", "patch_url": "https://github.com/nltk/nltk/pull/2772.patch", "merged_at": "2021-08-03T12:42:25Z"}, "body": "Hello!\r\n\r\n### Pull request overview\r\n- Currently, tests in `test_json2csv_corpus.py` that use `files_are_identical` fail on Windows.\r\n  This issue is caused by `csv.writer` on files opened without specifying `newline=\"\"`. This PR fixes this issue.\r\n\r\nRelevant documentation: https://docs.python.org/3/library/csv.html#id3\r\n\r\n---\r\n\r\n### Overview\r\nWhen I boot to my Windows install, and run the NLTK tests, I get the following (truncated) output:\r\n\r\n```python\r\n========================================================== short test summary info ========================================================== \r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_textoutput - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_tweet_metadata - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_user_metadata - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_tweet_hashtag - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_tweet_usermention - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_tweet_media - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_tweet_url - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_userurl - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_tweet_place - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_tweet_place_boundingbox - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_retweet_original_tweet - AssertionError: assert False\r\n==================================== 11 failed, 361 passed, 39 skipped, 9 xfailed, 7 warnings in 28.15s =====================================\r\n```\r\n\r\n<details>\r\n<summary>See the full output here</summary>\r\n\r\n```python\r\n============================================================ test session starts ============================================================\r\nplatform win32 -- Python 3.9.4, pytest-6.2.4, py-1.10.0, pluggy-0.13.1\r\nrootdir: C:\\GitHub\\nltk\r\nplugins: cov-2.12.1, mock-3.6.1\r\ncollected 420 items\r\n\r\nnltk\\test\\unit\\test_aline.py ..                                                                                                        [  0%]\r\nnltk\\test\\unit\\test_brill.py s.                                                                                                        [  0%]\r\nnltk\\test\\unit\\test_cfd_mutation.py ...                                                                                                [  1%] \r\nnltk\\test\\unit\\test_cfg2chomsky.py ..                                                                                                  [  2%]\r\nnltk\\test\\unit\\test_chunk.py .                                                                                                         [  2%]\r\nnltk\\test\\unit\\test_classify.py ss                                                                                                     [  2%] \r\nnltk\\test\\unit\\test_collocations.py ...                                                                                                [  3%] \r\nnltk\\test\\unit\\test_concordance.py ....                                                                                                [  4%]\r\nnltk\\test\\unit\\test_corenlp.py ssssss                                                                                                  [  5%] \r\nnltk\\test\\unit\\test_corpora.py ...........ssssssss                                                                                     [ 10%]\r\nnltk\\test\\unit\\test_corpus_views.py ..                                                                                                 [ 10%]\r\nnltk\\test\\unit\\test_data.py ..                                                                                                         [ 11%] \r\nnltk\\test\\unit\\test_disagreement.py ....                                                                                               [ 12%]\r\nnltk\\test\\unit\\test_freqdist.py .                                                                                                      [ 12%]\r\nnltk\\test\\unit\\test_hmm.py ...                                                                                                         [ 13%] \r\nnltk\\test\\unit\\test_json2csv_corpus.py FFFFFFFFFFF.                                                                                    [ 16%]\r\nnltk\\test\\unit\\test_json_serialization.py ......                                                                                       [ 17%]\r\nnltk\\test\\unit\\test_metrics.py ...                                                                                                     [ 18%] \r\nnltk\\test\\unit\\test_naivebayes.py .                                                                                                    [ 18%] \r\nnltk\\test\\unit\\test_nombank.py ...                                                                                                     [ 19%]\r\nnltk\\test\\unit\\test_pl196x.py .                                                                                                        [ 19%] \r\nnltk\\test\\unit\\test_pos_tag.py ......                                                                                                  [ 20%]\r\nnltk\\test\\unit\\test_ribes.py .....                                                                                                     [ 22%]\r\nnltk\\test\\unit\\test_rte_classify.py ...s                                                                                               [ 23%]\r\nnltk\\test\\unit\\test_seekable_unicode_stream_reader.py ......                                                                           [ 24%]\r\nnltk\\test\\unit\\test_senna.py ssss                                                                                                      [ 25%] \r\nnltk\\test\\unit\\test_stem.py ..........                                                                                                 [ 27%]\r\nnltk\\test\\unit\\test_tag.py .                                                                                                           [ 28%] \r\nnltk\\test\\unit\\test_tgrep.py .............................                                                                             [ 35%]\r\nnltk\\test\\unit\\test_tokenize.py ssssssssssssssss                                                                                       [ 38%]\r\nnltk\\test\\unit\\test_twitter_auth.py ..........                                                                                         [ 41%]\r\nnltk\\test\\unit\\test_util.py .....                                                                                                      [ 42%]\r\nnltk\\test\\unit\\test_wordnet.py .............                                                                                           [ 45%]\r\nnltk\\test\\unit\\lm\\test_counter.py ...............                                                                                      [ 49%]\r\nnltk\\test\\unit\\lm\\test_models.py ............................................................x.......x.......x.......x.......x.......x [ 73%]\r\n.......x.......x.......x.......                                                                                                        [ 80%]\r\nnltk\\test\\unit\\lm\\test_preprocessing.py .                                                                                              [ 80%] \r\nnltk\\test\\unit\\lm\\test_vocabulary.py .....s..............                                                                              [ 85%]\r\nnltk\\test\\unit\\translate\\test_bleu.py ............                                                                                     [ 88%]\r\nnltk\\test\\unit\\translate\\test_gdfa.py .                                                                                                [ 88%]\r\nnltk\\test\\unit\\translate\\test_ibm1.py ...                                                                                              [ 89%] \r\nnltk\\test\\unit\\translate\\test_ibm2.py ...                                                                                              [ 90%]\r\nnltk\\test\\unit\\translate\\test_ibm3.py ...                                                                                              [ 90%]\r\nnltk\\test\\unit\\translate\\test_ibm4.py ...                                                                                              [ 91%] \r\nnltk\\test\\unit\\translate\\test_ibm5.py ....                                                                                             [ 92%]\r\nnltk\\test\\unit\\translate\\test_ibm_model.py ............                                                                                [ 95%]\r\nnltk\\test\\unit\\translate\\test_meteor.py .                                                                                              [ 95%] \r\nnltk\\test\\unit\\translate\\test_nist.py .                                                                                                [ 95%]\r\nnltk\\test\\unit\\translate\\test_stack_decoder.py ..................                                                                      [100%]\r\n\r\n================================================================= FAILURES ================================================================== \r\n______________________________________________________________ test_textoutput ______________________________________________________________ \r\n\r\ntmp_path = WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_textoutput0')\r\ninfile = ['{\"in_reply_to_status_id\": null, \"contributors\": null, \"filter_level\": \"low\", \"coordinates\": null, \"id_str\": \"5938910...ls\": []}, \"source\": \"<a href=\\\\\"http://tapbots.com/tweetbot\\\\\" rel=\\\\\"nofollow\\\\\">Tweetbot for i\\\\u039fS</a>\"}\\n', ...]\r\n\r\n    def test_textoutput(tmp_path, infile):\r\n        ref_fn = subdir / 'tweets.20150430-223406.text.csv.ref'\r\n        outfn = tmp_path / 'tweets.20150430-223406.text.csv'\r\n        json2csv(infile, outfn, ['text'], gzip_compress=False)\r\n>       assert files_are_identical(outfn, ref_fn)\r\nE       AssertionError: assert False\r\nE        +  where False = files_are_identical(WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_textoutput0/tweets.20150430-223406.text.csv'), WindowsPath('C:/GitHub/nltk/nltk/test/unit/files/tweets.20150430-223406.text.csv.ref'))\r\n\r\nnltk\\test\\unit\\test_json2csv_corpus.py:42: AssertionError\r\n____________________________________________________________ test_tweet_metadata ____________________________________________________________ \r\n\r\ntmp_path = WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_tweet_metadata0')\r\ninfile = ['{\"in_reply_to_status_id\": null, \"contributors\": null, \"filter_level\": \"low\", \"coordinates\": null, \"id_str\": \"5938910...ls\": []}, \"source\": \"<a href=\\\\\"http://tapbots.com/tweetbot\\\\\" rel=\\\\\"nofollow\\\\\">Tweetbot for i\\\\u039fS</a>\"}\\n', ...]\r\n\r\n    def test_tweet_metadata(tmp_path, infile):\r\n        ref_fn = subdir / 'tweets.20150430-223406.tweet.csv.ref'\r\n        fields = [\r\n            'created_at',\r\n            'favorite_count',\r\n            'id',\r\n            'in_reply_to_status_id',\r\n            'in_reply_to_user_id',\r\n            'retweet_count',\r\n            'retweeted',\r\n            'text',\r\n            'truncated',\r\n            'user.id',\r\n        ]\r\n\r\n        outfn = tmp_path / 'tweets.20150430-223406.tweet.csv'\r\n        json2csv(infile, outfn, fields, gzip_compress=False)\r\n>       assert files_are_identical(outfn, ref_fn)\r\nE       AssertionError: assert False\r\nE        +  where False = files_are_identical(WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_tweet_metadata0/tweets.20150430-223406.tweet.csv'), WindowsPath('C:/GitHub/nltk/nltk/test/unit/files/tweets.20150430-223406.tweet.csv.ref'))\r\n\r\nnltk\\test\\unit\\test_json2csv_corpus.py:62: AssertionError\r\n____________________________________________________________ test_user_metadata _____________________________________________________________ \r\n\r\ntmp_path = WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_user_metadata0')\r\ninfile = ['{\"in_reply_to_status_id\": null, \"contributors\": null, \"filter_level\": \"low\", \"coordinates\": null, \"id_str\": \"5938910...ls\": []}, \"source\": \"<a href=\\\\\"http://tapbots.com/tweetbot\\\\\" rel=\\\\\"nofollow\\\\\">Tweetbot for i\\\\u039fS</a>\"}\\n', ...]\r\n\r\n    def test_user_metadata(tmp_path, infile):\r\n        ref_fn = subdir / 'tweets.20150430-223406.user.csv.ref'\r\n        fields = ['id', 'text', 'user.id', 'user.followers_count', 'user.friends_count']\r\n\r\n        outfn = tmp_path / 'tweets.20150430-223406.user.csv'\r\n        json2csv(infile, outfn, fields, gzip_compress=False)\r\n>       assert files_are_identical(outfn, ref_fn)\r\nE       AssertionError: assert False\r\nE        +  where False = files_are_identical(WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_user_metadata0/tweets.20150430-223406.user.csv'), WindowsPath('C:/GitHub/nltk/nltk/test/unit/files/tweets.20150430-223406.user.csv.ref'))\r\n\r\nnltk\\test\\unit\\test_json2csv_corpus.py:71: AssertionError\r\n____________________________________________________________ test_tweet_hashtag _____________________________________________________________ \r\n\r\ntmp_path = WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_tweet_hashtag0')\r\ninfile = ['{\"in_reply_to_status_id\": null, \"contributors\": null, \"filter_level\": \"low\", \"coordinates\": null, \"id_str\": \"5938910...ls\": []}, \"source\": \"<a href=\\\\\"http://tapbots.com/tweetbot\\\\\" rel=\\\\\"nofollow\\\\\">Tweetbot for i\\\\u039fS</a>\"}\\n', ...]\r\n\r\n    def test_tweet_hashtag(tmp_path, infile):\r\n        ref_fn = subdir / 'tweets.20150430-223406.hashtag.csv.ref'\r\n        outfn = tmp_path / 'tweets.20150430-223406.hashtag.csv'\r\n        json2csv_entities(\r\n            infile,\r\n            outfn,\r\n            ['id', 'text'],\r\n            'hashtags',\r\n            ['text'],\r\n            gzip_compress=False,\r\n        )\r\n>       assert files_are_identical(outfn, ref_fn)\r\nE       AssertionError: assert False\r\nE        +  where False = files_are_identical(WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_tweet_hashtag0/tweets.20150430-223406.hashtag.csv'), WindowsPath('C:/GitHub/nltk/nltk/test/unit/files/tweets.20150430-223406.hashtag.csv.ref'))\r\n\r\nnltk\\test\\unit\\test_json2csv_corpus.py:85: AssertionError\r\n__________________________________________________________ test_tweet_usermention ___________________________________________________________ \r\n\r\ntmp_path = WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_tweet_usermention0')\r\ninfile = ['{\"in_reply_to_status_id\": null, \"contributors\": null, \"filter_level\": \"low\", \"coordinates\": null, \"id_str\": \"5938910...ls\": []}, \"source\": \"<a href=\\\\\"http://tapbots.com/tweetbot\\\\\" rel=\\\\\"nofollow\\\\\">Tweetbot for i\\\\u039fS</a>\"}\\n', ...]\r\n\r\n    def test_tweet_usermention(tmp_path, infile):\r\n        ref_fn = subdir / 'tweets.20150430-223406.usermention.csv.ref'\r\n        outfn = tmp_path / 'tweets.20150430-223406.usermention.csv'\r\n        json2csv_entities(\r\n            infile,\r\n            outfn,\r\n            ['id', 'text'],\r\n            'user_mentions',\r\n            ['id', 'screen_name'],\r\n            gzip_compress=False,\r\n        )\r\n>       assert files_are_identical(outfn, ref_fn)\r\nE       AssertionError: assert False\r\nE        +  where False = files_are_identical(WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_tweet_usermention0/tweets.20150430-223406.usermention.csv'), WindowsPath('C:/GitHub/nltk/nltk/test/unit/files/tweets.20150430-223406.usermention.csv.ref'))\r\n\r\nnltk\\test\\unit\\test_json2csv_corpus.py:99: AssertionError\r\n_____________________________________________________________ test_tweet_media ______________________________________________________________ \r\n\r\ntmp_path = WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_tweet_media0')\r\ninfile = ['{\"in_reply_to_status_id\": null, \"contributors\": null, \"filter_level\": \"low\", \"coordinates\": null, \"id_str\": \"5938910...ls\": []}, \"source\": \"<a href=\\\\\"http://tapbots.com/tweetbot\\\\\" rel=\\\\\"nofollow\\\\\">Tweetbot for i\\\\u039fS</a>\"}\\n', ...]\r\n\r\n    def test_tweet_media(tmp_path, infile):\r\n        ref_fn = subdir / 'tweets.20150430-223406.media.csv.ref'\r\n        outfn = tmp_path / 'tweets.20150430-223406.media.csv'\r\n        json2csv_entities(\r\n            infile,\r\n            outfn,\r\n            ['id'],\r\n            'media',\r\n            ['media_url', 'url'],\r\n            gzip_compress=False,\r\n        )\r\n\r\n>       assert files_are_identical(outfn, ref_fn)\r\nE       AssertionError: assert False\r\nE        +  where False = files_are_identical(WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_tweet_media0/tweets.20150430-223406.media.csv'), WindowsPath('C:/GitHub/nltk/nltk/test/unit/files/tweets.20150430-223406.media.csv.ref'))\r\n\r\nnltk\\test\\unit\\test_json2csv_corpus.py:114: AssertionError\r\n______________________________________________________________ test_tweet_url _______________________________________________________________ \r\n\r\ntmp_path = WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_tweet_url0')\r\ninfile = ['{\"in_reply_to_status_id\": null, \"contributors\": null, \"filter_level\": \"low\", \"coordinates\": null, \"id_str\": \"5938910...ls\": []}, \"source\": \"<a href=\\\\\"http://tapbots.com/tweetbot\\\\\" rel=\\\\\"nofollow\\\\\">Tweetbot for i\\\\u039fS</a>\"}\\n', ...]\r\n\r\n    def test_tweet_url(tmp_path, infile):\r\n        ref_fn = subdir / 'tweets.20150430-223406.url.csv.ref'\r\n        outfn = tmp_path / 'tweets.20150430-223406.url.csv'\r\n        json2csv_entities(\r\n            infile,\r\n            outfn,\r\n            ['id'],\r\n            'urls',\r\n            ['url', 'expanded_url'],\r\n            gzip_compress=False,\r\n        )\r\n\r\n>       assert files_are_identical(outfn, ref_fn)\r\nE       AssertionError: assert False\r\nE        +  where False = files_are_identical(WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_tweet_url0/tweets.20150430-223406.url.csv'), WindowsPath('C:/GitHub/nltk/nltk/test/unit/files/tweets.20150430-223406.url.csv.ref'))\r\n\r\nnltk\\test\\unit\\test_json2csv_corpus.py:129: AssertionError\r\n_______________________________________________________________ test_userurl ________________________________________________________________ \r\n\r\ntmp_path = WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_userurl0')\r\ninfile = ['{\"in_reply_to_status_id\": null, \"contributors\": null, \"filter_level\": \"low\", \"coordinates\": null, \"id_str\": \"5938910...ls\": []}, \"source\": \"<a href=\\\\\"http://tapbots.com/tweetbot\\\\\" rel=\\\\\"nofollow\\\\\">Tweetbot for i\\\\u039fS</a>\"}\\n', ...]\r\n\r\n    def test_userurl(tmp_path, infile):\r\n        ref_fn = subdir / 'tweets.20150430-223406.userurl.csv.ref'\r\n        outfn = tmp_path / 'tweets.20150430-223406.userurl.csv'\r\n        json2csv_entities(\r\n            infile,\r\n            outfn,\r\n            ['id', 'screen_name'],\r\n            'user.urls',\r\n            ['url', 'expanded_url'],\r\n            gzip_compress=False,\r\n        )\r\n\r\n>       assert files_are_identical(outfn, ref_fn)\r\nE       AssertionError: assert False\r\nE        +  where False = files_are_identical(WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_userurl0/tweets.20150430-223406.userurl.csv'), WindowsPath('C:/GitHub/nltk/nltk/test/unit/files/tweets.20150430-223406.userurl.csv.ref'))\r\n\r\nnltk\\test\\unit\\test_json2csv_corpus.py:144: AssertionError\r\n_____________________________________________________________ test_tweet_place ______________________________________________________________ \r\n\r\ntmp_path = WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_tweet_place0')\r\ninfile = ['{\"in_reply_to_status_id\": null, \"contributors\": null, \"filter_level\": \"low\", \"coordinates\": null, \"id_str\": \"5938910...ls\": []}, \"source\": \"<a href=\\\\\"http://tapbots.com/tweetbot\\\\\" rel=\\\\\"nofollow\\\\\">Tweetbot for i\\\\u039fS</a>\"}\\n', ...]\r\n\r\n    def test_tweet_place(tmp_path, infile):\r\n        ref_fn = subdir / 'tweets.20150430-223406.place.csv.ref'\r\n        outfn = tmp_path / 'tweets.20150430-223406.place.csv'\r\n        json2csv_entities(\r\n            infile,\r\n            outfn,\r\n            ['id', 'text'],\r\n            'place',\r\n            ['name', 'country'],\r\n            gzip_compress=False,\r\n        )\r\n\r\n>       assert files_are_identical(outfn, ref_fn)\r\nE       AssertionError: assert False\r\nE        +  where False = files_are_identical(WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_tweet_place0/tweets.20150430-223406.place.csv'), WindowsPath('C:/GitHub/nltk/nltk/test/unit/files/tweets.20150430-223406.place.csv.ref'))\r\n\r\nnltk\\test\\unit\\test_json2csv_corpus.py:159: AssertionError\r\n_______________________________________________________ test_tweet_place_boundingbox ________________________________________________________ \r\n\r\ntmp_path = WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_tweet_place_boundingbox0')\r\ninfile = ['{\"in_reply_to_status_id\": null, \"contributors\": null, \"filter_level\": \"low\", \"coordinates\": null, \"id_str\": \"5938910...ls\": []}, \"source\": \"<a href=\\\\\"http://tapbots.com/tweetbot\\\\\" rel=\\\\\"nofollow\\\\\">Tweetbot for i\\\\u039fS</a>\"}\\n', ...]\r\n\r\n    def test_tweet_place_boundingbox(tmp_path, infile):\r\n        ref_fn = subdir / 'tweets.20150430-223406.placeboundingbox.csv.ref'\r\n        outfn = tmp_path / 'tweets.20150430-223406.placeboundingbox.csv'\r\n        json2csv_entities(\r\n            infile,\r\n            outfn,\r\n            ['id', 'name'],\r\n            'place.bounding_box',\r\n            ['coordinates'],\r\n            gzip_compress=False,\r\n        )\r\n\r\n>       assert files_are_identical(outfn, ref_fn)\r\nE       AssertionError: assert False\r\nE        +  where False = files_are_identical(WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_tweet_place_boundingbox0/tweets.20150430-223406.placeboundingbox.csv'), WindowsPath('C:/GitHub/nltk/nltk/test/unit/files/tweets.20150430-223406.placeboundingbox.csv.ref'))\r\n\r\nnltk\\test\\unit\\test_json2csv_corpus.py:174: AssertionError\r\n________________________________________________________ test_retweet_original_tweet ________________________________________________________ \r\n\r\ntmp_path = WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_retweet_original_tweet0')\r\ninfile = ['{\"in_reply_to_status_id\": null, \"contributors\": null, \"filter_level\": \"low\", \"coordinates\": null, \"id_str\": \"5938910...ls\": []}, \"source\": \"<a href=\\\\\"http://tapbots.com/tweetbot\\\\\" rel=\\\\\"nofollow\\\\\">Tweetbot for i\\\\u039fS</a>\"}\\n', ...]\r\n\r\n    def test_retweet_original_tweet(tmp_path, infile):\r\n        ref_fn = subdir / 'tweets.20150430-223406.retweet.csv.ref'\r\n        outfn = tmp_path / 'tweets.20150430-223406.retweet.csv'\r\n        json2csv_entities(\r\n            infile,\r\n            outfn,\r\n            ['id'],\r\n            'retweeted_status',\r\n            [\r\n                'created_at',\r\n                'favorite_count',\r\n                'id',\r\n                'in_reply_to_status_id',\r\n                'in_reply_to_user_id',\r\n                'retweet_count',\r\n                'text',\r\n                'truncated',\r\n                'user.id',\r\n            ],\r\n            gzip_compress=False,\r\n        )\r\n\r\n>       assert files_are_identical(outfn, ref_fn)\r\nE       AssertionError: assert False\r\nE        +  where False = files_are_identical(WindowsPath('C:/Users/Tom/AppData/Local/Temp/pytest-of-Tom/pytest-3/test_retweet_original_tweet0/tweets.20150430-223406.retweet.csv'), WindowsPath('C:/GitHub/nltk/nltk/test/unit/files/tweets.20150430-223406.retweet.csv.ref'))\r\n\r\nnltk\\test\\unit\\test_json2csv_corpus.py:199: AssertionError\r\n============================================================= warnings summary ============================================================== \r\nnltk/test/unit/test_tokenize.py::TestTokenize::test_tweet_tokenizer\r\n  C:\\GitHub\\nltk\\nltk\\test\\unit\\test_tokenize.py:21: DeprecationWarning:\r\n  The StanfordTokenizer will be deprecated in version 3.2.5.\r\n  Please use nltk.parse.corenlp.CoreNLPTokenizer instead.'\r\n    seg = StanfordSegmenter()\r\n\r\nnltk/test/unit/translate/test_bleu.py::TestBLEU::test_partial_matches_hypothesis_longer_than_reference\r\nnltk/test/unit/translate/test_bleu.py::TestBLEUFringeCases::test_case_where_n_is_bigger_than_hypothesis_length\r\nnltk/test/unit/translate/test_bleu.py::TestBLEUFringeCases::test_case_where_n_is_bigger_than_hypothesis_length\r\nnltk/test/unit/translate/test_bleu.py::TestBLEUFringeCases::test_reference_or_hypothesis_shorter_than_fourgrams\r\n  C:\\GitHub\\nltk\\nltk\\translate\\bleu_score.py:515: UserWarning:\r\n  The hypothesis contains 0 counts of 4-gram overlaps.\r\n  Therefore the BLEU score evaluates to 0, independently of\r\n  how many N-gram overlaps of lower order it contains.\r\n  Consider using lower n-gram order or use SmoothingFunction()\r\n    warnings.warn(_msg)\r\n\r\nnltk/test/unit/translate/test_bleu.py::TestBLEUFringeCases::test_reference_or_hypothesis_shorter_than_fourgrams\r\n  C:\\GitHub\\nltk\\nltk\\translate\\bleu_score.py:515: UserWarning:\r\n  The hypothesis contains 0 counts of 2-gram overlaps.\r\n  Therefore the BLEU score evaluates to 0, independently of\r\n  how many N-gram overlaps of lower order it contains.\r\n  Consider using lower n-gram order or use SmoothingFunction()\r\n    warnings.warn(_msg)\r\n\r\nnltk/test/unit/translate/test_bleu.py::TestBLEUFringeCases::test_reference_or_hypothesis_shorter_than_fourgrams\r\n  C:\\GitHub\\nltk\\nltk\\translate\\bleu_score.py:515: UserWarning:\r\n  The hypothesis contains 0 counts of 3-gram overlaps.\r\n  Therefore the BLEU score evaluates to 0, independently of\r\n  how many N-gram overlaps of lower order it contains.\r\n  Consider using lower n-gram order or use SmoothingFunction()\r\n    warnings.warn(_msg)\r\n\r\n-- Docs: https://docs.pytest.org/en/stable/warnings.html\r\n========================================================== short test summary info ========================================================== \r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_textoutput - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_tweet_metadata - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_user_metadata - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_tweet_hashtag - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_tweet_usermention - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_tweet_media - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_tweet_url - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_userurl - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_tweet_place - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_tweet_place_boundingbox - AssertionError: assert False\r\nFAILED nltk/test/unit/test_json2csv_corpus.py::test_retweet_original_tweet - AssertionError: assert False\r\n==================================== 11 failed, 361 passed, 39 skipped, 9 xfailed, 7 warnings in 28.15s =====================================\r\n```\r\n\r\n</details>\r\n\r\nAll of these failed tests are caused by `files_are_identical(pathA, pathB)` returning False, while they do return True on Ubuntu and MacOS. \r\nThe files that are being compared all only differ in one way, which is best described with an example:\r\nSample of the newly generated file:\r\n```\r\nid,retweeted_status.created_at,retweeted_status.favorite_count,retweeted_status.id,retweeted_status.in_reply_to_status_id,retweeted_status.in_reply_to_user_id,retweeted_status.retweet_count,retweeted_status.text,retweeted_status.truncated,retweeted_status.user.id\r\n\r\n593891099434983425,Thu Apr 30 21:11:02 +0000 2015,3,593885295323521025,,,11,Indirect cost of the UK being in the EU is estimated to be costing Britain \u00a3170 billion per year! #BetterOffOut #UKIP,False,929903647\r\n\r\n593891099388846080,Thu Apr 30 19:25:17 +0000 2015,68,593858679256002560,,,225,The economy was growing 3 times faster on the day David Cameron became Prime Minister than it is today.. #BBCqt http://t.co/yKornG2YDo,False,168090600\r\n\r\n593891100429045760,Thu Apr 30 15:50:02 +0000 2015,6,593804511371776000,,,3,the UKIP east lothian candidate looks about 16 and still has an msn addy http://t.co/7eIU0c5Fm1,False,317875569\r\n\r\n593891100768784384,Thu Apr 30 14:06:14 +0000 2015,114,593778387065384960,,,581,UKIP's housing spokesman rakes in \u00a3800k in housing benefit from migrants.  http://t.co/GVwb9Rcb4w http://t.co/c1AZxcLhbH,False,262604305\r\n\r\n```\r\nSample of the desired, reference file:\r\n```\r\nid,retweeted_status.created_at,retweeted_status.favorite_count,retweeted_status.id,retweeted_status.in_reply_to_status_id,retweeted_status.in_reply_to_user_id,retweeted_status.retweet_count,retweeted_status.text,retweeted_status.truncated,retweeted_status.user.id\r\n593891099434983425,Thu Apr 30 21:11:02 +0000 2015,3,593885295323521025,,,11,Indirect cost of the UK being in the EU is estimated to be costing Britain \u00a3170 billion per year! #BetterOffOut #UKIP,False,929903647\r\n593891099388846080,Thu Apr 30 19:25:17 +0000 2015,68,593858679256002560,,,225,The economy was growing 3 times faster on the day David Cameron became Prime Minister than it is today.. #BBCqt http://t.co/yKornG2YDo,False,168090600\r\n593891100429045760,Thu Apr 30 15:50:02 +0000 2015,6,593804511371776000,,,3,the UKIP east lothian candidate looks about 16 and still has an msn addy http://t.co/7eIU0c5Fm1,False,317875569\r\n593891100768784384,Thu Apr 30 14:06:14 +0000 2015,114,593778387065384960,,,581,UKIP's housing spokesman rakes in \u00a3800k in housing benefit from migrants.  http://t.co/GVwb9Rcb4w http://t.co/c1AZxcLhbH,False,262604305\r\n```\r\n\r\nThese issues exist with tests for `json2csv`, which is this:\r\nhttps://github.com/nltk/nltk/blob/1244ab9fc4b130ae20127267d49eea506e30a9ae/nltk/twitter/common.py#L87-L129\r\n\r\nThis file gets its writer from `_outf_writer`:\r\nhttps://github.com/nltk/nltk/blob/1244ab9fc4b130ae20127267d49eea506e30a9ae/nltk/twitter/common.py#L138-L144\r\n\r\nThe issue comes from this second function. According to the `csv` documentation [here](https://docs.python.org/3/library/csv.html#id3), when opening (or creating) a file to be written in by the `csv` writer, then if `newline=''` is *not* specified, newlines embedded inside quoted fields will not be interpreted correctly, and on platforms that use `\\r\\n` linendings on write an extra `\\r` will be added. It should always be safe to specify `newline=''`, since the csv module does its own (universal) newline handling.\r\n\r\nIn short, the solution is to specify `newline=\"\"` within both `open` functions. After this fix, the tests run correctly again, just like on Ubuntu and MacOS. Naturally, the tests also pass on those OSes.\r\nThe output for `pytest` is now:\r\n```\r\n========================================== 372 passed, 39 skipped, 9 xfailed, 7 warnings in 28.36s ==========================================\r\n```\r\n\r\n---\r\n\r\n### What now?\r\nWe should take this as an opportunity to consider whether we also want to support CI tests for Windows. Currently, the tests are ran on `ubuntu-latest` and `macos-latest`. We might want to also add `windows-latest`. I can add this functionality if it is desired.\r\n\r\n---\r\n\r\n- Tom Aarsen", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2772/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2772/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2751", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2751/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2751/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2751/events", "html_url": "https://github.com/nltk/nltk/issues/2751", "id": 950415908, "node_id": "MDU6SXNzdWU5NTA0MTU5MDg=", "number": 2751, "title": "Is not the max of meteor score 100?  (nltk.translate.meteor_score)", "user": {"login": "zengxiang68", "id": 68835157, "node_id": "MDQ6VXNlcjY4ODM1MTU3", "avatar_url": "https://avatars.githubusercontent.com/u/68835157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zengxiang68", "html_url": "https://github.com/zengxiang68", "followers_url": "https://api.github.com/users/zengxiang68/followers", "following_url": "https://api.github.com/users/zengxiang68/following{/other_user}", "gists_url": "https://api.github.com/users/zengxiang68/gists{/gist_id}", "starred_url": "https://api.github.com/users/zengxiang68/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zengxiang68/subscriptions", "organizations_url": "https://api.github.com/users/zengxiang68/orgs", "repos_url": "https://api.github.com/users/zengxiang68/repos", "events_url": "https://api.github.com/users/zengxiang68/events{/privacy}", "received_events_url": "https://api.github.com/users/zengxiang68/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 975531894, "node_id": "MDU6TGFiZWw5NzU1MzE4OTQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/metrics", "name": "metrics", "color": "f442c8", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-07-22T08:21:34Z", "updated_at": "2021-07-31T03:14:17Z", "closed_at": "2021-07-31T03:14:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I used [nltk.translate.meteor_score](https://github.com/nltk/nltk/blob/develop/nltk/translate/meteor_score.py) to calculate the meteor score of a example, strangely I got a score of 105.6. \r\nIs not the max of meteor score 100?\r\n\r\nThe example is following:\r\n\r\n> **candidate:**   creates or updates a virtual machine scale set\r\n**reference:**   create or update a vm scale set\r\n**METEOR score:**   105.6\r\n\r\nIs there anyone know that? Thank you very much!", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2751/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2751/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2729", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2729/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2729/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2729/events", "html_url": "https://github.com/nltk/nltk/issues/2729", "id": 920931127, "node_id": "MDU6SXNzdWU5MjA5MzExMjc=", "number": 2729, "title": "Meteor unmatched-lists calculation", "user": {"login": "yunju63", "id": 44551410, "node_id": "MDQ6VXNlcjQ0NTUxNDEw", "avatar_url": "https://avatars.githubusercontent.com/u/44551410?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yunju63", "html_url": "https://github.com/yunju63", "followers_url": "https://api.github.com/users/yunju63/followers", "following_url": "https://api.github.com/users/yunju63/following{/other_user}", "gists_url": "https://api.github.com/users/yunju63/gists{/gist_id}", "starred_url": "https://api.github.com/users/yunju63/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yunju63/subscriptions", "organizations_url": "https://api.github.com/users/yunju63/orgs", "repos_url": "https://api.github.com/users/yunju63/repos", "events_url": "https://api.github.com/users/yunju63/events{/privacy}", "received_events_url": "https://api.github.com/users/yunju63/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 975531894, "node_id": "MDU6TGFiZWw5NzU1MzE4OTQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/metrics", "name": "metrics", "color": "f442c8", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-06-15T02:41:51Z", "updated_at": "2021-08-13T02:21:02Z", "closed_at": "2021-08-13T02:21:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nI think [unmatched-lists calculation by _enum_stem_match()](https://github.com/nltk/nltk/blob/e4444c9b15762e6d86f5f6c4f5faadb87632c72a/nltk/translate/meteor_score.py#L109) is wrong,\r\n```\r\nenum_unmat_hypo_list = (\r\n        list(zip(*enum_unmat_hypo_list)) if len(enum_unmat_hypo_list) > 0 else []\r\n    )\r\nenum_hypothesis_list = list(\r\n        filter(lambda x: x[0] not in enum_unmat_hypo_list, enum_hypothesis_list)\r\n    )\r\n```\r\nbecause the upper zip(*) generates [(unmatched indices), (unmatched stems)]\r\nbut what we want is to filter by (unmatched indices).\r\nAlso, \"not in\" would filter **out** unmatched, not the opposite.\r\n\r\nWhen I fix the calculation to:\r\n```\r\nenum_unmat_hypo_list = (\r\n        list(zip(*enum_unmat_hypo_list))[0] if len(enum_unmat_hypo_list) > 0 else []\r\n    )\r\nenum_hypothesis_list = list(\r\n       filter(lambda x: x[0] in enum_unmat_hypo_list, enum_hypothesis_list)\r\n    )\r\n```\r\n\r\nthe score below is 0.655 with matches = [(0, 0), (1, 2), (2, 3)]\r\n(Before fixing, it was 0.809 with matches = [(0, 0), (1, 2), (1, 2), (2, 3)] which contains duplicated elements)\r\n```\r\nhypothesis = 'I likes pizza'\r\nreference = 'I really like pizza'\r\nsingle_meteor_score(reference, hypothesis)\r\n```\r\n\r\n\r\nI would like to know if this is wrong.\r\nThanks.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2729/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2669", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2669/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2669/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2669/events", "html_url": "https://github.com/nltk/nltk/issues/2669", "id": 820251040, "node_id": "MDU6SXNzdWU4MjAyNTEwNDA=", "number": 2669, "title": "nltk.translate.sentence_bleu function not working ", "user": {"login": "MBadriNarayanan", "id": 58718023, "node_id": "MDQ6VXNlcjU4NzE4MDIz", "avatar_url": "https://avatars.githubusercontent.com/u/58718023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MBadriNarayanan", "html_url": "https://github.com/MBadriNarayanan", "followers_url": "https://api.github.com/users/MBadriNarayanan/followers", "following_url": "https://api.github.com/users/MBadriNarayanan/following{/other_user}", "gists_url": "https://api.github.com/users/MBadriNarayanan/gists{/gist_id}", "starred_url": "https://api.github.com/users/MBadriNarayanan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MBadriNarayanan/subscriptions", "organizations_url": "https://api.github.com/users/MBadriNarayanan/orgs", "repos_url": "https://api.github.com/users/MBadriNarayanan/repos", "events_url": "https://api.github.com/users/MBadriNarayanan/events{/privacy}", "received_events_url": "https://api.github.com/users/MBadriNarayanan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 113906330, "node_id": "MDU6TGFiZWwxMTM5MDYzMzA=", "url": "https://api.github.com/repos/nltk/nltk/labels/SMT", "name": "SMT", "color": "bfdadc", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-02T17:56:39Z", "updated_at": "2021-08-17T14:37:46Z", "closed_at": "2021-08-17T14:37:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "For sentences of length less than 4, sentence_bleu is not being calculated properly. If length is less than 4, BLEU value is greater than 1. Refer image below\r\n![Bleu_Score](https://user-images.githubusercontent.com/58718023/109692397-7b69f680-7bae-11eb-8a5c-dc3ab9e5507a.png)\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2669/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2669/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2584", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2584/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2584/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2584/events", "html_url": "https://github.com/nltk/nltk/issues/2584", "id": 681891789, "node_id": "MDU6SXNzdWU2ODE4OTE3ODk=", "number": 2584, "title": "Cannot import all translation modules", "user": {"login": "weissercn", "id": 6479653, "node_id": "MDQ6VXNlcjY0Nzk2NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/6479653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weissercn", "html_url": "https://github.com/weissercn", "followers_url": "https://api.github.com/users/weissercn/followers", "following_url": "https://api.github.com/users/weissercn/following{/other_user}", "gists_url": "https://api.github.com/users/weissercn/gists{/gist_id}", "starred_url": "https://api.github.com/users/weissercn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weissercn/subscriptions", "organizations_url": "https://api.github.com/users/weissercn/orgs", "repos_url": "https://api.github.com/users/weissercn/repos", "events_url": "https://api.github.com/users/weissercn/events{/privacy}", "received_events_url": "https://api.github.com/users/weissercn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-19T14:35:14Z", "updated_at": "2021-08-18T07:57:26Z", "closed_at": "2021-08-18T07:57:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Some submodules under translate are implemented and described in the documentation, but cannot be imported and used. \r\n\r\nimport nltk\r\nnltk.translate.gleu_score.corpus_gleu\r\n\r\nfails with this error:\r\nAttributeError: module 'nltk.translate' has no attribute 'gleu_score'", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2584/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2519", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2519/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2519/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2519/events", "html_url": "https://github.com/nltk/nltk/issues/2519", "id": 586864934, "node_id": "MDU6SXNzdWU1ODY4NjQ5MzQ=", "number": 2519, "title": "PunktSentenceTokenizer doesn't work with custom end sentence character", "user": {"login": "kkkppp", "id": 4020633, "node_id": "MDQ6VXNlcjQwMjA2MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4020633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kkkppp", "html_url": "https://github.com/kkkppp", "followers_url": "https://api.github.com/users/kkkppp/followers", "following_url": "https://api.github.com/users/kkkppp/following{/other_user}", "gists_url": "https://api.github.com/users/kkkppp/gists{/gist_id}", "starred_url": "https://api.github.com/users/kkkppp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kkkppp/subscriptions", "organizations_url": "https://api.github.com/users/kkkppp/orgs", "repos_url": "https://api.github.com/users/kkkppp/repos", "events_url": "https://api.github.com/users/kkkppp/events{/privacy}", "received_events_url": "https://api.github.com/users/kkkppp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-24T10:45:58Z", "updated_at": "2021-08-03T12:33:51Z", "closed_at": "2021-08-03T12:33:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Example:\r\n\r\n```\r\nimport nltk\r\nfrom nltk.tokenize.punkt import PunktLanguageVars\r\n\r\nclass ExtLangVars(PunktLanguageVars):\r\n    sent_end_chars = ('.', '?', '!', '^')\r\n\r\npunkt_tk = nltk.data.load('tokenizers/punkt/english.pickle')\r\npunkt_tk._lang_vars = ExtLangVars()\r\n\r\ntxt1 = 'Subject: Some subject. Attachments: Some attachemnts'\r\ntxt2 = 'Subject: Some subject^ Attachments: Some attachemnts'\r\n\r\nr = punkt_tk.tokenize(txt1)\r\nprint(r)\r\n\r\nr = punkt_tk.tokenize(txt2)\r\nprint(r)\r\n\r\nd = punkt_tk.debug_decisions(txt1)\r\nfor x in d:\r\n    print(nltk.tokenize.punkt.format_debug_decision(x))\r\n\r\n#d = punkt_tk.debug_decisions(txt2)\r\n#for x in d:\r\n#    print(nltk.tokenize.punkt.format_debug_decision(x))\r\n\r\n```\r\nAlso if you uncomment last lines, it will fail with index out of bounds. I think it's because of hardcoded \r\n\r\n`        self.period_final = tok.endswith('.')`\r\n\r\nin PunktToken. Tried many ways to work around this, but no luck. Any suggestions would be appreciated.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2519/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2356", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2356/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2356/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2356/events", "html_url": "https://github.com/nltk/nltk/issues/2356", "id": 476657736, "node_id": "MDU6SXNzdWU0NzY2NTc3MzY=", "number": 2356, "title": "`samples` keyword arg ignored in `FreqDist.tabulate`", "user": {"login": "rwbogl", "id": 13404951, "node_id": "MDQ6VXNlcjEzNDA0OTUx", "avatar_url": "https://avatars.githubusercontent.com/u/13404951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rwbogl", "html_url": "https://github.com/rwbogl", "followers_url": "https://api.github.com/users/rwbogl/followers", "following_url": "https://api.github.com/users/rwbogl/following{/other_user}", "gists_url": "https://api.github.com/users/rwbogl/gists{/gist_id}", "starred_url": "https://api.github.com/users/rwbogl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rwbogl/subscriptions", "organizations_url": "https://api.github.com/users/rwbogl/orgs", "repos_url": "https://api.github.com/users/rwbogl/repos", "events_url": "https://api.github.com/users/rwbogl/events{/privacy}", "received_events_url": "https://api.github.com/users/rwbogl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-08-05T05:02:53Z", "updated_at": "2020-10-06T09:34:37Z", "closed_at": "2020-10-06T09:34:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "It looks like the `samples` keyword argument mentioned in the docstring of `FreqDist.tabulate()` is ignored. Is this the intended behavior?\r\n\r\nHere are the arguments from [the docstring](https://github.com/nltk/nltk/blob/1805fe870635afb7ef16d4ff5373e1c3d97c9107/nltk/probability.py#L308):\r\n\r\n>:param samples: The samples to plot (default is all samples)\r\n>:type samples: list\r\n>:param cumulative: A flag to specify whether the freqs are cumulative (default = False)\r\n>:type title: bool\r\n\r\nHere's an example of `samples` being ignored:\r\n\r\n```python\r\nfrom nltk import FreqDist\r\n\r\nfd = FreqDist([\"foo\", \"bar\"])\r\n# I expect to get just \"foo\", but get \"foo\" *and* \"bar\".\r\nfd.tabulate(samples=[\"foo\"])\r\n```\r\n\r\nThis is different from what `ConditionalFreqDist.tabulate()` does, so I'm not sure what's intended here. Either way, it would be nice for the docstring to be clearer.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2356/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2356/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2342", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2342/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2342/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2342/events", "html_url": "https://github.com/nltk/nltk/pull/2342", "id": 470880441, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjk5NzA2MTAw", "number": 2342, "title": "Missing denominator in smoothing function 4 for BLEU scores.", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 113906330, "node_id": "MDU6TGFiZWwxMTM5MDYzMzA=", "url": "https://api.github.com/repos/nltk/nltk/labels/SMT", "name": "SMT", "color": "bfdadc", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-22T03:57:04Z", "updated_at": "2019-08-27T01:00:34Z", "closed_at": "2019-07-22T04:22:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2342", "html_url": "https://github.com/nltk/nltk/pull/2342", "diff_url": "https://github.com/nltk/nltk/pull/2342.diff", "patch_url": "https://github.com/nltk/nltk/pull/2342.patch", "merged_at": "2019-07-22T04:22:37Z"}, "body": "Patching #2341", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2342/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2342/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2336", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2336/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2336/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2336/events", "html_url": "https://github.com/nltk/nltk/pull/2336", "id": 467927460, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjk3NDU4ODgw", "number": 2336, "title": "Fixes some spurious typos and checks", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 910625822, "node_id": "MDU6TGFiZWw5MTA2MjU4MjI=", "url": "https://api.github.com/repos/nltk/nltk/labels/CI", "name": "CI", "color": "76dbed", "default": false, "description": ""}, {"id": 1350391193, "node_id": "MDU6TGFiZWwxMzUwMzkxMTkz", "url": "https://api.github.com/repos/nltk/nltk/labels/LGTM", "name": "LGTM", "color": "661ae0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-15T03:35:29Z", "updated_at": "2019-08-19T01:58:59Z", "closed_at": "2019-07-15T09:20:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2336", "html_url": "https://github.com/nltk/nltk/pull/2336", "diff_url": "https://github.com/nltk/nltk/pull/2336.diff", "patch_url": "https://github.com/nltk/nltk/pull/2336.patch", "merged_at": "2019-07-15T09:20:41Z"}, "body": "This should fix: \r\n\r\n - Typo in triple quotes docstring breaking builds after merging https://github.com/nltk/nltk/pull/2324 \r\n\r\n - Ensure that checks for word list is deterministic https://travis-ci.org/nltk/nltk/jobs/558729591#L2766\r\n\r\n - Wordnet lemma checks should be deterministric https://travis-ci.org/nltk/nltk/jobs/558729591#L2776 \r\n\r\n - Extended inaugural speeches has extended no. of tokens. https://travis-ci.org/nltk/nltk/jobs/558729591#L2755 from https://github.com/nltk/nltk_data/pull/135 ", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2336/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2335", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2335/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2335/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2335/events", "html_url": "https://github.com/nltk/nltk/issues/2335", "id": 467556122, "node_id": "MDU6SXNzdWU0Njc1NTYxMjI=", "number": 2335, "title": "nltk wordnet concurrency error WordNetError", "user": {"login": "ndvbd", "id": 845175, "node_id": "MDQ6VXNlcjg0NTE3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/845175?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndvbd", "html_url": "https://github.com/ndvbd", "followers_url": "https://api.github.com/users/ndvbd/followers", "following_url": "https://api.github.com/users/ndvbd/following{/other_user}", "gists_url": "https://api.github.com/users/ndvbd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndvbd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndvbd/subscriptions", "organizations_url": "https://api.github.com/users/ndvbd/orgs", "repos_url": "https://api.github.com/users/ndvbd/repos", "events_url": "https://api.github.com/users/ndvbd/events{/privacy}", "received_events_url": "https://api.github.com/users/ndvbd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718744080, "node_id": "MDU6TGFiZWw3MTg3NDQwODA=", "url": "https://api.github.com/repos/nltk/nltk/labels/wordnet", "name": "wordnet", "color": "3861d1", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-07-12T18:58:36Z", "updated_at": "2020-03-13T16:22:16Z", "closed_at": "2020-03-13T16:22:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running wordnet in multiple threads I get strange errors. \r\nI am trying to get the synsets of a word. \r\nIs Wordnet thread safe? Is there a way to solve it? If there is not immediate solution, where is the database of all words and their functions (verb/adjective/noun) stored?\r\n\r\nThe exceptions look like this:\r\n\r\n```\r\nraise WordNetError('line %r: %s' % (data_file_line, e))\r\n  File \"/usr/local/lib/python2.7/dist-packages/nltk/corpus/reader/wordnet.py\", line 1342, in synset_from_pos_and_offs\r\net\r\n    assert synset._offset == offset\r\n*******************************************WordNetError: line u'02203362 40 v 03 have 0 have_got 0 hold 0 013 + 13244109 n 0303 + 10529202630189 42 v 02 have 0 feature 0 023 $ 02203362 v 0000 $ 02204692 v 0000 + 05601758 n 0201 + 05849789 n 0201 ! 02632353 v 0102 ~ 00047610 v 0000 ~ 00047745 v 0000 ~ 01123609 v 0000 ~ 02630734 v 0000 ~ 02630871 v 0000 ~ 02631005 v 0000 ~ 02631163 v 0000 ~ 02631349 v 0000 ~ 02631659 v 0000 ~ 02632167 v 0000 ~ 02636132 v 0000 ~ 02715456 v 0000 ~ 02715595 v 0000 ~ 02715812 v 0000 ~ 02717102 v 0000 ~ 02730813 v 0000 ~ 02740034 v 000at can only carry a small sail\"  \\n': need more than 1 value to unpack\r\nAssertionError\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2335/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2335/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2334", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2334/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2334/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2334/events", "html_url": "https://github.com/nltk/nltk/issues/2334", "id": 465653864, "node_id": "MDU6SXNzdWU0NjU2NTM4NjQ=", "number": 2334, "title": "TypeError in FreqDist.tabulate for bigrams", "user": {"login": "danuker", "id": 74835, "node_id": "MDQ6VXNlcjc0ODM1", "avatar_url": "https://avatars.githubusercontent.com/u/74835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danuker", "html_url": "https://github.com/danuker", "followers_url": "https://api.github.com/users/danuker/followers", "following_url": "https://api.github.com/users/danuker/following{/other_user}", "gists_url": "https://api.github.com/users/danuker/gists{/gist_id}", "starred_url": "https://api.github.com/users/danuker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danuker/subscriptions", "organizations_url": "https://api.github.com/users/danuker/orgs", "repos_url": "https://api.github.com/users/danuker/repos", "events_url": "https://api.github.com/users/danuker/events{/privacy}", "received_events_url": "https://api.github.com/users/danuker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 22487250, "node_id": "MDU6TGFiZWwyMjQ4NzI1MA==", "url": "https://api.github.com/repos/nltk/nltk/labels/python3", "name": "python3", "color": "b3fca6", "default": false, "description": ""}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-07-09T08:51:19Z", "updated_at": "2021-09-03T12:45:40Z", "closed_at": "2021-09-03T12:45:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use the following code:\r\n\r\n```python\r\nwith open(corpus_filename) as corpus_f:\r\n    tokens = preprocess(corpus_f.read())\r\n    bgs = nltk.bigrams(tokens)\r\n    fdist =  nltk.FreqDist(bgs)\r\n    print(fdist.tabulate())\r\n```\r\n\r\nWhat happens is the `tabulate` method can't format the tuples generated by `bigrams`:\r\n`width = max(len(\"%s\" % s) for s in samples)`\r\n\r\nWhen it gets to any key like `('hello', 'world)`, it breaks:\r\n```python\r\nTraceback (most recent call last):\r\n  File \"learner.py\", line 32, in <module>\r\n    print(fdist.tabulate())\r\n  File \"<edited>/env/lib/python3.7/site-packages/nltk/probability.py\", line 333, in tabulate\r\n    width = max(len(\"%s\" % s) for s in samples)\r\n  File \"<edited>/env/lib/python3.7/site-packages/nltk/probability.py\", line 333, in <genexpr>\r\n    width = max(len(\"%s\" % s) for s in samples)\r\nTypeError: not all arguments converted during string formatting\r\n```\r\n\r\nThis is because the string formatting doesn't work:\r\n```bash\r\n$ ipython\r\nPython 3.7.3 (default, Apr  3 2019, 05:39:12) \r\nType 'copyright', 'credits' or 'license' for more information\r\nIPython 7.6.1 -- An enhanced Interactive Python. Type '?' for help.\r\n\r\nIn [1]: \"%s\" % ('hello', 'world')                                                                                                                                                             \r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-1-60c0688ae365> in <module>\r\n----> 1 \"%s\" % ('hello', 'world')\r\n\r\nTypeError: not all arguments converted during string formatting\r\n\r\nIn [2]: \"{}\".format(('hello', 'world'))                                                                                                                                                       \r\nOut[2]: \"('hello', 'world')\"\r\n```\r\n\r\nWould it be OK to replace the `%s` formatting with the [\"new style\" string formatting operator](https://pyformat.info/)?", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2334/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2334/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2332", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2332/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2332/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2332/events", "html_url": "https://github.com/nltk/nltk/issues/2332", "id": 464617630, "node_id": "MDU6SXNzdWU0NjQ2MTc2MzA=", "number": 2332, "title": "ZeroDivisionError: in nltk.lm", "user": {"login": "hzhwcmhf", "id": 1344510, "node_id": "MDQ6VXNlcjEzNDQ1MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1344510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hzhwcmhf", "html_url": "https://github.com/hzhwcmhf", "followers_url": "https://api.github.com/users/hzhwcmhf/followers", "following_url": "https://api.github.com/users/hzhwcmhf/following{/other_user}", "gists_url": "https://api.github.com/users/hzhwcmhf/gists{/gist_id}", "starred_url": "https://api.github.com/users/hzhwcmhf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hzhwcmhf/subscriptions", "organizations_url": "https://api.github.com/users/hzhwcmhf/orgs", "repos_url": "https://api.github.com/users/hzhwcmhf/repos", "events_url": "https://api.github.com/users/hzhwcmhf/events{/privacy}", "received_events_url": "https://api.github.com/users/hzhwcmhf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 81645781, "node_id": "MDU6TGFiZWw4MTY0NTc4MQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/language-model", "name": "language-model", "color": "d4c5f9", "default": false, "description": ""}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-05T12:26:25Z", "updated_at": "2019-08-12T13:09:32Z", "closed_at": "2019-08-12T13:09:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems KneserNeyInterpolated can't handle unseen prefixes\r\n\r\nto reproduce the error:\r\n\r\n```\r\nfrom functools import partial\r\n\r\nfrom nltk.lm import KneserNeyInterpolated\r\nfrom nltk.lm.preprocessing import pad_both_ends\r\nfrom nltk.util import everygrams\r\nfrom itertools import chain\r\nflatten = chain.from_iterable\r\n\r\ndata = [[\"i\", \"don'\", 't', \"go\"], [\"i\", \"dont\", \"know\"], [\"i\", \"don'\", 't', \"go\", \"what\"]]\r\nngram = 4\r\npadding_fn = partial(pad_both_ends, n=ngram)\r\ntrain_data = (everygrams(list(padding_fn(sent)), max_len=ngram) for sent in data)\r\n\r\nvocab = flatten(map(padding_fn, data))\r\nmodel = KneserNeyInterpolated(ngram)\r\nmodel.fit(train_data, vocab)\r\n\r\nmodel.score('what', ['i', 'dont', 'go'])\r\n```\r\n\r\nI get\r\n```\r\n~\\Anaconda3\\lib\\site-packages\\nltk\\lm\\smoothing.py in alpha(self, word, prefix_counts)\r\n     55 \r\n     56     def alpha(self, word, prefix_counts):\r\n---> 57         return max(prefix_counts[word] - self.discount, 0.0) / prefix_counts.N()\r\n     58 \r\n     59     def gamma(self, prefix_counts):\r\n\r\nZeroDivisionError: float division by zero\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2332/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2332/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2303", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2303/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2303/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2303/events", "html_url": "https://github.com/nltk/nltk/issues/2303", "id": 446632003, "node_id": "MDU6SXNzdWU0NDY2MzIwMDM=", "number": 2303, "title": "TreebankWordTokenizer [BUG]", "user": {"login": "stefanondisponibile", "id": 20441825, "node_id": "MDQ6VXNlcjIwNDQxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/20441825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefanondisponibile", "html_url": "https://github.com/stefanondisponibile", "followers_url": "https://api.github.com/users/stefanondisponibile/followers", "following_url": "https://api.github.com/users/stefanondisponibile/following{/other_user}", "gists_url": "https://api.github.com/users/stefanondisponibile/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefanondisponibile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefanondisponibile/subscriptions", "organizations_url": "https://api.github.com/users/stefanondisponibile/orgs", "repos_url": "https://api.github.com/users/stefanondisponibile/repos", "events_url": "https://api.github.com/users/stefanondisponibile/events{/privacy}", "received_events_url": "https://api.github.com/users/stefanondisponibile/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019200, "node_id": "MDU6TGFiZWwxNDAxOTIwMA==", "url": "https://api.github.com/repos/nltk/nltk/labels/good%20first%20issue", "name": "good first issue", "color": "02e10c", "default": true, "description": ""}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-21T13:51:29Z", "updated_at": "2021-06-18T07:25:57Z", "closed_at": "2021-06-18T07:25:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Looks like there's a broken regexp on Treebank's `PUNCTUATION` patterns:\r\n\r\n```\r\n([^\\.])(\\.)([\\]\\)}>\"\\']*)\\s*$\r\n```\r\nshould `\"` be escaped?\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2303/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2299", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2299/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2299/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2299/events", "html_url": "https://github.com/nltk/nltk/issues/2299", "id": 444299422, "node_id": "MDU6SXNzdWU0NDQyOTk0MjI=", "number": 2299, "title": "collocations function returns error", "user": {"login": "martinevanschouwenburg", "id": 50655331, "node_id": "MDQ6VXNlcjUwNjU1MzMx", "avatar_url": "https://avatars.githubusercontent.com/u/50655331?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinevanschouwenburg", "html_url": "https://github.com/martinevanschouwenburg", "followers_url": "https://api.github.com/users/martinevanschouwenburg/followers", "following_url": "https://api.github.com/users/martinevanschouwenburg/following{/other_user}", "gists_url": "https://api.github.com/users/martinevanschouwenburg/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinevanschouwenburg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinevanschouwenburg/subscriptions", "organizations_url": "https://api.github.com/users/martinevanschouwenburg/orgs", "repos_url": "https://api.github.com/users/martinevanschouwenburg/repos", "events_url": "https://api.github.com/users/martinevanschouwenburg/events{/privacy}", "received_events_url": "https://api.github.com/users/martinevanschouwenburg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019200, "node_id": "MDU6TGFiZWwxNDAxOTIwMA==", "url": "https://api.github.com/repos/nltk/nltk/labels/good%20first%20issue", "name": "good first issue", "color": "02e10c", "default": true, "description": ""}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}, {"id": 1004152779, "node_id": "MDU6TGFiZWwxMDA0MTUyNzc5", "url": "https://api.github.com/repos/nltk/nltk/labels/text", "name": "text", "color": "bfdbfc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2019-05-15T08:19:00Z", "updated_at": "2021-09-05T12:58:53Z", "closed_at": "2021-09-05T12:58:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was going through chapter 1 of the book and the collocations function returns an error. It seems like line 440 in text.py is redundant, since the collocation_list function has been introduced. I fixed the issue by rewriting the current line 440 and line 441 in text.py.\r\n\r\nold code:\r\n collocation_strings = [w1 + ' ' + w2 for w1, w2 in self.collocation_list(num, window_size)]*\r\n print(tokenwrap(collocation_strings, separator=\"; \"))\r\n\r\nnew code:\r\nprint(tokenwrap(self.collocation_list(), separator=\"; \"))\r\n ", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2299/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2299/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2295", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2295/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2295/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2295/events", "html_url": "https://github.com/nltk/nltk/issues/2295", "id": 442040799, "node_id": "MDU6SXNzdWU0NDIwNDA3OTk=", "number": 2295, "title": "Treebank detokenizer fails to undo quote conversion", "user": {"login": "Dobatymo", "id": 7647594, "node_id": "MDQ6VXNlcjc2NDc1OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7647594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dobatymo", "html_url": "https://github.com/Dobatymo", "followers_url": "https://api.github.com/users/Dobatymo/followers", "following_url": "https://api.github.com/users/Dobatymo/following{/other_user}", "gists_url": "https://api.github.com/users/Dobatymo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dobatymo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dobatymo/subscriptions", "organizations_url": "https://api.github.com/users/Dobatymo/orgs", "repos_url": "https://api.github.com/users/Dobatymo/repos", "events_url": "https://api.github.com/users/Dobatymo/events{/privacy}", "received_events_url": "https://api.github.com/users/Dobatymo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-05-09T04:10:52Z", "updated_at": "2020-12-12T21:05:57Z", "closed_at": "2020-12-12T21:05:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python 3.7.2 (tags/v3.7.2:9a3ffc0492, Dec 23 2018, 23:09:28) [MSC v.1916 64 bit (AMD64)] on win32\r\nNLTK version: 3.4.1\r\n\r\nQuotes `\"` are converted to ` `` ` or `''` by the treebank tokenizer. The detokenizer is supposed to revert its regexes but fails to do so for these quotes. The space is lost also.\r\n\r\n```python\r\n>>> from nltk.tokenize.treebank import TreebankWordTokenizer, TreebankWordDetokenizer\r\n>>> tmp = TreebankWordTokenizer().tokenize('How \"are\" you?')\r\n>>> tmp\r\n['How', '``', 'are', \"''\", 'you', '?']\r\n>>> TreebankWordDetokenizer().tokenize(tmp)\r\n'How``are\"you?'\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2295/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2275", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2275/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2275/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2275/events", "html_url": "https://github.com/nltk/nltk/issues/2275", "id": 435784683, "node_id": "MDU6SXNzdWU0MzU3ODQ2ODM=", "number": 2275, "title": "OMW lemmas sometimes has additional underscore", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718744080, "node_id": "MDU6TGFiZWw3MTg3NDQwODA=", "url": "https://api.github.com/repos/nltk/nltk/labels/wordnet", "name": "wordnet", "color": "3861d1", "default": false, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-22T16:13:32Z", "updated_at": "2019-05-09T09:00:05Z", "closed_at": "2019-05-09T09:00:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "OMW lemmas sometimes has additional underscore, e.g. `preobrat_v_mi\u0161ljenju_` in:\r\n\r\n```python\r\n>>> from nltk.corpus import wordnet as wn\r\n>>> wn.synset('about-face.n.02')\r\nSynset('about-face.n.02')\r\n>>> wn.synset('about-face.n.02').lemma_names(lang='slv')\r\n['popolna_sprememba_v_mi\u0161ljenju', 'popoln_obrat', 'preobrat', 'preobrat_v_mi\u0161ljenju_']\r\n```\r\n\r\nFrom the raw file there isn't any tailing underscore:\r\n\r\n```\r\n~/nltk_data/corpora/omw/slv$ grep -n \"preobrat v mi\u0161ljenju\" wn-data-slv.tab  \r\n2383:00163406-n\tslv:lemma\tpreobrat v mi\u0161ljenju \r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2275/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2265", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2265/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2265/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2265/events", "html_url": "https://github.com/nltk/nltk/issues/2265", "id": 433585485, "node_id": "MDU6SXNzdWU0MzM1ODU0ODU=", "number": 2265, "title": "Wordnet gloss parsing issues", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718744080, "node_id": "MDU6TGFiZWw3MTg3NDQwODA=", "url": "https://api.github.com/repos/nltk/nltk/labels/wordnet", "name": "wordnet", "color": "3861d1", "default": false, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-04-16T05:06:15Z", "updated_at": "2020-04-08T07:06:24Z", "closed_at": "2019-05-09T09:00:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "From https://github.com/nltk/nltk/blob/develop/nltk/corpus/reader/wordnet.py#L1396, it looks like the line parsing wasn't done correctly for the example vs the definition of the Synset gloss:\r\n\r\n```python\r\n\t     # parse out the definitions and examples from the gloss\r\n            columns_str, gloss = data_file_line.split('|')\r\n            gloss = gloss.strip()\r\n            definitions = []\r\n            for gloss_part in gloss.split(';'):\r\n                gloss_part = gloss_part.strip()\r\n                if gloss_part.startswith('\"'):\r\n                    synset._examples.append(gloss_part.strip('\"'))\r\n                else:\r\n                    definitions.append(gloss_part)\r\n            synset._definition = '; '.join(definitions)\r\n```\r\n\r\nAs a sanity check, from\r\n\r\n```python\r\nfrom nltk.corpus import wordnet\r\n\r\nfor ss in wordnet.all_synsets():\r\n    if '\"' in ss.definition():\r\n        print(ss, ss.definition())\r\n```\r\n\r\nthere are these problematic ones:\r\n\r\n```\r\nSynset('long.s.09') having or being more than normal or necessary:\"long on brains\"\r\nSynset('unobjectionable.s.03') not objectionable; it's the means that one can't accept\"\r\nSynset('faulty.s.02') characterized by errors; not agreeing with a model or not following established rules; the wrong side of the road\"\r\nSynset('dead.s.17') devoid of activity; nothing ever happens here\"\r\nSynset('active.a.10') expressing that the subject of the sentence has the semantic function of actor: \"Hemingway favors active constructions\"\r\nSynset('intercalary.s.01') having a day or month inserted to make the calendar year correspond to the solar year: \"Feb. 29 is an intercalary day\"\r\nSynset('aggressive.a.01') having or showing determination and energetic pursuit of your ends; positive in his convictions\"\r\nSynset('slain.s.01') killed; `slain' is formal or literary as in \"slain warriors\"\r\nSynset('out_of_play.s.01') (of a ball) \"a ball that is out of play is dead\"\r\nSynset('fast_asleep.s.01') sleeping deeply; he's sound asleep\"\r\nSynset('bashful.s.01') self-consciously timid; lowering my head, I looked at the wall\"- Ezra Pound\r\nSynset('gutsy.a.01') marked by courage and determination in the face of difficulties or danger; robust and uninhibited; it was a gutsy thing to do\"\r\nSynset('cautious.a.01') showing careful forethought; never making swift decisions\"\r\nSynset('certificated.s.01') furnished with or authorized by a certificate: \"certificated teachers\"\r\nSynset('ineluctable.s.01') impossible to avoid or evade:\"inescapable conclusion\"\r\nSynset('fixed.s.04') incapable of being changed or moved or undone; e.g. \"frozen prices\"\r\nSynset('irritating.s.03') causing physical discomfort; they can be very painful\"\r\nSynset('crisp.s.06') brief and to the point; effectively cut short; `yes'\"\r\nSynset('coordinating.a.01') serving to connect two grammatical constituents of identical construction; and so is `or' in `will you go or stay?'\"\r\nSynset('adjacent.s.02') having a common boundary or edge; abutting; touching; Massachusetts and Conncecticut\"\r\nSynset('received.s.02') widely accepted as true or worthy; surveys show otherwise\"- Economist\r\nSynset('thoughtless.s.02') without care or thought for others; `Let them eat cake'\"\r\nSynset('dimensional.s.02') having dimension--the quality or character or stature proper to a person; he is pasty, bland, faceless\"- Norman Cousins\r\nSynset('made.s.01') produced by a manufacturing process; rope and nails\"\r\nSynset('original.s.04') not derived or copied or translated from something else; not an adaptation\"\r\nSynset('hard-to-please.s.01') (of persons) \"his father was a hard-to-please taskmaster\"\r\nSynset('erratic.s.03') likely to perform unpredictably; sometimes it would start and sometimes it wouldn't\"\r\nSynset('commutative.s.01') (of a binary operation) independent of order; as in e.g. \"a x b = b x a\"\r\nSynset('unselective.s.01') not selective or discriminating; her choices seemed completely random\"\r\nSynset('dry.s.16') practicing complete abstinence from alcoholic beverages; I happen to be teetotal\"\r\nSynset('humdrum.s.02') tediously repetitious or lacking in variety; all work and no play\"\r\nSynset('outside.s.03') originating or belonging beyond some bounds:\"the outside world\"\r\nSynset('weird.s.02') strikingly odd or unusual; some weird effect of shadow\"- Bram Stoker\r\nSynset('adamant.s.01') impervious to pleas, persuasion, requests, reason; she would have none of him\"- W.Churchill\r\nSynset('domesticated.s.02') accustomed to home life; others find gratification in it\"\r\nSynset('former.a.01') referring to the first of two things or persons mentioned (or the earlier one or ones of several); I prefer the former version to the latter one\"\r\nSynset('undrained.a.01') not drained; keep them undrained\"\r\nSynset('structural.s.03') affecting or involved in structure or construction; not ornamental elements\"\r\nSynset('dry.a.07') without a mucous or watery discharge; a small child with a dry nose\"\r\nSynset('divine.s.03') being or having the nature of a god; 'tis God-like to create\"-J.G.Saxe\r\nSynset('mundane.s.03') belonging to this earth or world; not ideal or heavenly; yet a mundane wonder of unimagined kind\"\r\nSynset('doughy.s.01') having the consistency of dough because of insufficient leavening or improper cooking; it's a doughy mess\"\r\nSynset('burdensome.s.01') not easily borne; wearing; I only had to greet the guests\"\r\nSynset('fooling.s.01') characterized by a feeling of irresponsibility; it is no fooling matter\"\r\nSynset('heedless.a.01') marked by or paying little heed or attention; we know now that it is bad economics\"--Franklin D. Roosevelt\r\nSynset('inhumane.a.01') lacking and reflecting lack of pity or compassion; this explains much of the misery and suffering in the world\"\r\nSynset('humorless.a.01') lacking humor; a wink of warning\"- Truman Capote\r\nSynset('infectious.a.02') easily spread; children catch it from their elders\"- Bertrand Russell\r\nSynset('apathetic.s.02') marked by a lack of interest; it is simply indifferent\"\r\nSynset('enormous.s.01') extraordinarily large in size or extent or amount or power or degree; that a whole civilization should be dependent on technology\"- Walter Lippman\r\nSynset('lowercase.a.01') relating to small (not capitalized) letters that were kept in the lower half of a compositor's type case; a and b and c etc\"\r\nSynset('uppercase.a.01') relating to capital letters which were kept in the top half of a compositor's type case; X and Y and Z etc\"\r\nSynset('meaty.a.01') like or containing meat; let's have a meaty meal\"\r\nSynset('fake.s.02') not genuine or real; being an imitation of the genuine article; it's real synthetic fur\"\r\nSynset('obedient.a.01') dutifully complying with the commands or instructions of those in authority; the refractory remain unburdened\"- Edmund Burke\r\nSynset('three-piece.a.01') (of clothing) made in or consisting of three parts or pieces; jacket and trousers and vest\"\r\nSynset('laid.s.01') set down according to a plan:\"a carefully laid table with places set for four people\"\r\nSynset('impotent.a.01') lacking power or ability; morality without technology is impotent\"- Freeman J.Dyson\r\nSynset('attendant.s.01') being present (at meeting or event etc.) \"attendant members of the congreation\"\r\nSynset('insular.s.02') suggestive of the isolated life of an island; so deeply private as to seem inaccessible to the scrutiny of a novelist\"- Leonard Michaels\r\nSynset('skin-deep.s.01') penetrating no deeper than the skin: \"her beauty is only skin-deep\"\r\nSynset('for_sure.s.01') not open to doubt; that was for sure\"\r\nSynset('real.a.01') being or occurring in fact or actuality; having verified existence; not illusory; not ghosts\"\r\nSynset('proper.s.02') having all the qualities typical of the thing specified; not just a snack\"\r\nSynset('treated.a.02') given medical care or treatment; if left untreated it lasts two weeks\"\r\nSynset('infirm.s.02') lacking firmness of will or character or purpose; give me the daggers\" - Shakespeare\r\nSynset('flimsy.s.03') lacking substance or significance; a fragile claim to fame\"\r\nSynset('double.s.01') having more than one decidedly dissimilar aspects or qualities; public preaching and private influence\"- R.W.Emerson\r\nSynset('unsized.a.02') not fashioned to sizes; one size fits all\"\r\nSynset('antisocial.s.01') shunning contact with others; just shy\"\r\nSynset('solved.a.01') explained or answered; problems resolved and unresolved\"\r\nSynset('unacceptable.s.04') not conforming to standard usage; `You can access your cash at any of 300 automatic tellers'\"\r\nSynset('ocular.s.03') visible; give me the ocular proof\"- Shakespeare\r\nSynset('well.a.01') in good health especially after having suffered illness or injury; at least I feel well\"\r\nSynset('auricular.a.02') relating to or perceived by or shaped like the organ of hearing; I must hear what I read\"- George Santayana\r\nSynset('igneous.a.01') produced under conditions involving intense heat; especially from molten magma\"\r\nSynset('functional.a.03') relating to or based on function especially as opposed to structure; it is a functional one\"\r\nSynset('canonist.a.01') pertaining to or characteristic of a body of rules and principles accepted as axiomatic; e.g. \"canonist communism\"\r\nSynset('classificatory.a.01') relating to or involving classification:\"classificatory criteria\"\r\nSynset('vietnamese.a.01') of or relating to or characteristic of Vietnam or its people or its language; the Vietnamese tones\"\r\nSynset('sometimes.r.01') on certain occasions or in certain cases but not always; at other times for six months\"\r\nSynset('anyhow.r.01') used to indicate that a statement explains or supports a previous statement; anyhow, they're quiet\"; anyway, it's gone\"; in any case, there was a brief scuffle\"\r\nSynset('as_it_is.r.01') in the actual state of affairs and often contrary to expectations; as it is he was severely injured\"\r\nSynset('only.r.05') except that; only this time she came out better\"\r\nSynset('however.r.02') by contrast; on the other hand; the second, however, took hours\"\r\nSynset('besides.r.01') making an additional point; anyway; besides, we can't afford it\"\r\nSynset('furthermore.r.01') in addition; furthermore, their quality is improving\"; moreover, mice nested there\"\r\nSynset('further.r.02') in addition or furthermore; further, they should be here already\"\r\nSynset('rather.r.01') on the contrary; rather (or instead), he wrote her a letter\"\r\nSynset('enough.r.01') as much as necessary; (`plenty' is nonstandard) \"I've had plenty, thanks\"\r\nSynset('contrarily.r.02') contrary to expectations; on the contrary, he went out with his friends\"\r\nSynset('fearfully.r.01') in fear, \"she hurried down the stairs fearfully\"\r\nSynset('testily.r.01') in a petulant manner; `Go away!'\"\r\nSynset('arrogantly.r.01') in an arrogant manner; afraid of her husband and yet arrogantly proud that she had a husband strong and fierce enough to make her afraid\"\r\nSynset('boorishly.r.01') like a boor, \"he behaved boorishly at the party\"\r\nSynset('indecisively.r.02') without finality; inconclusively; neither side had clearly won but neither side admitted defeat\"\r\nSynset('ecologically.r.01') with respect to ecology; economically, it is a disaster\"\r\nSynset('inspirationally.r.01') with inspiration; in an inspiring manner, \"he talked inspirationally\"\r\nSynset('irreverently.r.02') in an irreverent manner; clergymen had been turned from their cures, and churches irreverently used\"\r\nSynset('perchance.r.01') through chance, \"To sleep, perchance to dream..\"\r\nSynset('singularly.r.01') in a singular manner or to a singular degree; he acquired three wives and fourteen children during his Portuguese embassy alone\"\r\nSynset('therewithal.r.01') together with all that; besides; and therewithal remit thy other forfeits\"- Shakespeare\r\nSynset('untying.n.01') loosening the ties that fasten something; the untying is easy\"\r\nSynset('substitution.n.02') the act of putting one thing or person in the place of another: \"he sent Smith in for Jones but the substitution came too late to help\"\r\nSynset('stride.n.03') significant progress (especially in the phrase \"make strides\")\r\nSynset('putt.n.01') hitting a golf ball that is on the green using a putter; he didn't sink a single putt over three feet\"\r\nSynset('behalf.n.01') as the agent of or on someone's part (usually expressed as \"on behalf of\" rather than \"in behalf of\"); \r\nSynset('duty.n.01') the social force that binds you to the courses of action demanded by that force; every opportunity, an obligation; every possession, a duty\"- John D.Rockefeller Jr\r\nSynset('mobilization.n.01') act of assembling and putting into readiness for war or other emergency: \"mobilization of the troops\"\r\nSynset('carrot.n.04') promise of reward as in \"carrot and stick\"; \r\nSynset('vengeance.n.01') the act of taking revenge (harming someone in retaliation for something harmful that they have done) especially in the next life; I will repay, saith the Lord\"--Romans 12:19\r\nSynset('cow.n.01') female of domestic cattle: \"`moo-cow' is a child's term\"\r\nSynset('job.n.03') a workplace; as in the expression \"on the job\"; \r\nSynset('worsted.n.01') a woolen fabric with a hard textured surface and no nap; woven of worsted yarns \"he wore a worsted suit\"\r\nSynset('adequacy.n.01') the quality of being able to meet a need satisfactorily: \"he questioned the adequacy of the usual sentimental interpretation of the Golden Rule\"\r\nSynset('quaintness.n.01') the quality of being quaint and old-fashioned; its quaintness was appealing\"\r\nSynset('scope.n.01') an area in which something acts or operates or has power or control: \"the range of a supersonic jet\"\r\nSynset('gamut.n.01') a complete extent or range: \"a face that expressed a gamut of emotions\"\r\nSynset('evil.n.02') that which causes harm or destruction or misfortune; the good is oft interred with their bones\"- Shakespeare\r\nSynset('right.n.01') an abstract idea of that which is due to a person or governmental body by law or tradition or nature; it is something that nobody can take away\"\r\nSynset('writer's_block.n.01') an inability to write; the words wouldn't come\"\r\nSynset('conversion.n.02') a change in the units or form of an expression: \"conversion from Fahrenheit to Centigrade\"\r\nSynset('exception.n.02') an instance that does not conform to a rule or generalization; the only exception was her last child\"\r\nSynset('attractive_nuisance.n.01') anything on your premises that might attract children into danger or harm; they should fence it in\"\r\nSynset('roundup.n.02') a summary list; as in e.g. \"a news roundup\"\r\nSynset('capital.n.04') one of the large alphabetic characters used as the first letter in writing or printing proper names and sometimes for emphasis; capitals were kept in the upper half of the type case and so became known as upper-case letters\"\r\nSynset('indirect_discourse.n.01') a report of a discourse in which deictic terms are modified appropriately (e.g., \"he said `I am a fool' would be modified to `he said he is a fool'\")\r\nSynset('direct_discourse.n.01') a report of the exact words used in a discourse (e.g., \"he said `I am a fool'\")\r\nSynset('call.n.04') a demand especially in the phrase \"the call of duty\"\r\nSynset('unknown_quantity.n.01') a factor in a given situation whose bearing and importance is not apparent; he's still an unknown quantity\"\r\nSynset('post_office.n.01') a local branch where postal services are available\"\r\nSynset('conferee.n.01') a person on whom something is bestowed; the conferees were...\"\r\nSynset('dribbler.n.02') a person who dribbles; he needs a bib\"\r\nSynset('fast_buck.n.01') quick or easy earnings, \"they are traders out to make a fast buck\"\r\nSynset('ultimacy.n.01') the state or degree of being ultimate; the final or most extreme in degree or size or time or distance, \"the ultimacy of these social values\"\r\nSynset('oppression.n.02') the state of being kept down by unjust use of force or authority: \"after years of oppression they finally revolted\"\r\nSynset('lap_of_the_gods.n.01') beyond human control or responsibility; it's in the lap of the gods now\"\r\nSynset('diversification.n.02') the condition of being varied; every day it is the same\"\r\nSynset('chip_away.v.01') remove or withdraw gradually: \"These new customs are chipping away at the quality of life\"\r\nSynset('limit.v.02') restrict or confine, \"I limit you to two visits to the pub a day\"\r\nSynset('puff.v.07') to swell or cause to enlarge, \"Her faced puffed up from the drugs\"\r\nSynset('focus.v.05') put (an image) into focus; we cannot enjoy the movie\"\r\nSynset('come.v.06') be found or available; The furniture comes unassembled\"\r\nSynset('switch.v.04') make a shift in or exchange of; then we switched\"\r\nSynset('complete.v.01') come or bring to a finish or an end; others finished in over 4 hours\"\r\nSynset('study.v.05') learn by reading books; I must hit the books now\"\r\nSynset('draw_out.v.01') cause to speak, \"Can you draw her out--she is always so quiet\"\r\nSynset('threaten.v.02') to utter intentions of injury or punishment against:\"He threatened me when I tried to call the police\"\r\nSynset('threaten.v.03') to be a menacing indication of something:\"The clouds threaten rain\"\r\nSynset('drop.v.06') utter with seeming casualness; drop names\"\r\nSynset('decline.v.07') inflect for number, gender, case, etc., \"in many languages, speakers decline nouns, pronouns, and adjectives\"\r\nSynset('notate.v.01') put into notation, as of music or choreography; in the old days, the steps had to be memorized\"\r\nSynset('compromise.v.01') make a compromise; arrive at a compromise; we all must compromise\"\r\nSynset('sign_up.v.02') join a club, an activity, etc. with the intention to join or participate, \"Sign up for yoga classes\"\r\nSynset('beset.v.02') assail or attack on all sides: \"The zebra was beset by leopards\"\r\nSynset('live_out.v.02') work in a house where one does not live; he can easily commute from his home\"\r\nSynset('pleat.v.02') fold into pleats, \"Pleat the cloth\"\r\nSynset('knock.v.01') deliver a sharp blow or push :\"He knocked the glass clear across the room\"\r\nSynset('prepose.v.01') place before another constituent in the sentence; Japanese postposes them\"\r\nSynset('strew.v.01') spread by scattering (\"straw\" is archaic)\r\nSynset('dribble.v.03') propel, \"Carry the ball\"\r\nSynset('croquet.v.01') drive away by hitting with one's ball, \"croquet the opponent's ball\"\r\nSynset('hitch.v.05') connect to a vehicle: \"hitch the trailer to the car\"\r\nSynset('bear.v.05') bring forth, \"The apple tree bore delicious apples this year\"\r\nSynset('manufacture.v.01') put together out of artificial or natural components or parts; He manufactured a popular cereal\"\r\nSynset('recite.v.03') render verbally, \"recite a poem\"\r\nSynset('conduct.v.02') lead, as in the performance of a composition; Barenboim conducted the Chicago symphony for years\"\r\nSynset('stay.v.02') stay put (in a certain place); we are not moving to Cincinnati\"\r\nSynset('wallow.v.02') roll around, \"pigs were wallowing in the mud\"\r\nSynset('push.v.01') move with force, \"He pushed the table into a corner\"\r\nSynset('arouse.v.06') to begin moving, \"As the thunder started the sleeping children began to stir\"\r\nSynset('crawl.v.05') swim by doing the crawl; they often don't know how to crawl\"\r\nSynset('ascend.v.01') travel up, \"We ascended the mountain\"\r\nSynset('sink.v.04') go under, \"The raft sank and its occupants drowned\"\r\nSynset('roll_up.v.03') arrive in a vehicle: \"He rolled up in a black Mercedes\"\r\nSynset('reach.v.07') reach a goal, e.g., \"make the first team\"\r\nSynset('feel.v.06') undergo passive experience of:\"We felt the effects of inflation\"\r\nSynset('refocus.v.01') focus once again; The physicist refocused the light beam\"\r\nSynset('trust.v.06') extend credit to; I won't pay her debts anymore\"\r\nSynset('baby-sit.v.02') work or act as a baby-sitter; I have too much homework to do\"\r\nSynset('imprison.v.02') confine as if in a prison; he does not let them go out without a chaperone\"\r\nSynset('coerce.v.01') to cause to do through pressure or necessity, by physical, moral or intellectual means :\"She forced him to take a job in the city\"\r\nSynset('form.v.02') to compose or represent:\"This wall forms the background of the stage setting\"\r\nSynset('keep.v.01') keep in a certain state, position, or activity; e.g., \"keep clean\"\r\nSynset('enclose.v.02') close in; darkness enclosed him\"\r\nSynset('be.v.05') happen, occur, take place; this was during the visit to my parents' house\"\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2265/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2204", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2204/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2204/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2204/events", "html_url": "https://github.com/nltk/nltk/issues/2204", "id": 391472154, "node_id": "MDU6SXNzdWUzOTE0NzIxNTQ=", "number": 2204, "title": "ZeroDivisionError when computing bleu_score", "user": {"login": "betterenvi", "id": 7322597, "node_id": "MDQ6VXNlcjczMjI1OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7322597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/betterenvi", "html_url": "https://github.com/betterenvi", "followers_url": "https://api.github.com/users/betterenvi/followers", "following_url": "https://api.github.com/users/betterenvi/following{/other_user}", "gists_url": "https://api.github.com/users/betterenvi/gists{/gist_id}", "starred_url": "https://api.github.com/users/betterenvi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/betterenvi/subscriptions", "organizations_url": "https://api.github.com/users/betterenvi/orgs", "repos_url": "https://api.github.com/users/betterenvi/repos", "events_url": "https://api.github.com/users/betterenvi/events{/privacy}", "received_events_url": "https://api.github.com/users/betterenvi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 113906330, "node_id": "MDU6TGFiZWwxMTM5MDYzMzA=", "url": "https://api.github.com/repos/nltk/nltk/labels/SMT", "name": "SMT", "color": "bfdadc", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-12-16T14:23:55Z", "updated_at": "2021-10-27T21:13:53Z", "closed_at": "2021-10-27T21:13:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python version: 3.5\r\nNLTK version: 3.2.5\r\n```txt\r\n  File \"/usr/local/lib/python3.5/dist-packages/nltk/translate/bleu_score.py\", line 89, in sentence_bleu\r\n    emulate_multibleu)\r\n  File \"/usr/local/lib/python3.5/dist-packages/nltk/translate/bleu_score.py\", line 199, in corpus_bleu\r\n    hyp_len=hyp_len, emulate_multibleu=emulate_multibleu)\r\n  File \"/usr/local/lib/python3.5/dist-packages/nltk/translate/bleu_score.py\", line 544, in method4\r\n    incvnt = i+1 * self.k / math.log(hyp_len) # Note that this K is different from the K from NIST.\r\nZeroDivisionError: float division by zero\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2204/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2165", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2165/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2165/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2165/events", "html_url": "https://github.com/nltk/nltk/pull/2165", "id": 375093642, "node_id": "MDExOlB1bGxSZXF1ZXN0MjI2NjIwMzQ2", "number": 2165, "title": "fix ResourceWarning: unclosed file", "user": {"login": "purificant", "id": 4669013, "node_id": "MDQ6VXNlcjQ2NjkwMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4669013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/purificant", "html_url": "https://github.com/purificant", "followers_url": "https://api.github.com/users/purificant/followers", "following_url": "https://api.github.com/users/purificant/following{/other_user}", "gists_url": "https://api.github.com/users/purificant/gists{/gist_id}", "starred_url": "https://api.github.com/users/purificant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/purificant/subscriptions", "organizations_url": "https://api.github.com/users/purificant/orgs", "repos_url": "https://api.github.com/users/purificant/repos", "events_url": "https://api.github.com/users/purificant/events{/privacy}", "received_events_url": "https://api.github.com/users/purificant/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 22487250, "node_id": "MDU6TGFiZWwyMjQ4NzI1MA==", "url": "https://api.github.com/repos/nltk/nltk/labels/python3", "name": "python3", "color": "b3fca6", "default": false, "description": ""}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-10-29T16:07:16Z", "updated_at": "2021-02-25T09:52:56Z", "closed_at": "2018-11-10T01:10:25Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2165", "html_url": "https://github.com/nltk/nltk/pull/2165", "diff_url": "https://github.com/nltk/nltk/pull/2165.diff", "patch_url": "https://github.com/nltk/nltk/pull/2165.patch", "merged_at": "2018-11-10T01:10:25Z"}, "body": "Fix for issue https://github.com/nltk/nltk/issues/1928\r\n\r\nThis approach closes opened resources during garbage collection.\r\n\r\nHow to reproduce:\r\n\r\n```bash\r\npython -Wd -c \"import nltk; print(nltk.corpus.stopwords.words('english'))\"\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2165/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2165/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2119", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2119/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2119/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2119/events", "html_url": "https://github.com/nltk/nltk/issues/2119", "id": 359744694, "node_id": "MDU6SXNzdWUzNTk3NDQ2OTQ=", "number": 2119, "title": "Odd StringIO imports in nltk.compat", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 22487250, "node_id": "MDU6TGFiZWwyMjQ4NzI1MA==", "url": "https://api.github.com/repos/nltk/nltk/labels/python3", "name": "python3", "color": "b3fca6", "default": false, "description": ""}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 486810128, "node_id": "MDU6TGFiZWw0ODY4MTAxMjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/tests", "name": "tests", "color": "fbca04", "default": false, "description": null}, {"id": 718785550, "node_id": "MDU6TGFiZWw3MTg3ODU1NTA=", "url": "https://api.github.com/repos/nltk/nltk/labels/pythonic", "name": "pythonic", "color": "66e88d", "default": false, "description": null}, {"id": 738078305, "node_id": "MDU6TGFiZWw3MzgwNzgzMDU=", "url": "https://api.github.com/repos/nltk/nltk/labels/python2.7", "name": "python2.7", "color": "7be833", "default": false, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-09-13T05:09:39Z", "updated_at": "2020-03-13T16:08:29Z", "closed_at": "2020-03-13T16:08:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In `nltk.compat`[https://github.com/nltk/nltk/blob/develop/nltk/compat.py], there's a `UnicodeWriter` class that uses `StringIO` but it's unclear why are there multiple `cStringIO` and `StringIO` imported but only `cStringIO` is used by the writer.\r\n\r\nSpecifically from https://github.com/nltk/nltk/blob/develop/nltk/compat.py#L39\r\n\r\n```python\r\n    try:\r\n        from cStringIO import StringIO\r\n    except ImportError:\r\n        from StringIO import StringIO\r\n    BytesIO = StringIO\r\n\r\n    from datetime import tzinfo, timedelta\r\n\r\n    ZERO = timedelta(0)\r\n    HOUR = timedelta(hours=1)\r\n\r\n    # A UTC class for python 2.7\r\n    class UTC(tzinfo):\r\n        \"\"\"UTC\"\"\"\r\n\r\n        def utcoffset(self, dt):\r\n            return ZERO\r\n\r\n        def tzname(self, dt):\r\n            return \"UTC\"\r\n\r\n        def dst(self, dt):\r\n            return ZERO\r\n\r\n    UTC = UTC()\r\n\r\n    import csv\r\n    import codecs\r\n    import cStringIO\r\n\r\n    class UnicodeWriter:\r\n        \"\"\"\r\n        A CSV writer which will write rows to CSV file \"f\",\r\n        which is encoded in the given encoding.\r\n        see https://docs.python.org/2/library/csv.html\r\n        \"\"\"\r\n\r\n        def __init__(self, f, dialect=csv.excel, encoding=\"utf-8\",\r\n                     errors='replace', **kwds):\r\n            # Redirect output to a queue\r\n            self.queue = cStringIO.StringIO()\r\n            self.writer = csv.writer(self.queue, dialect=dialect, **kwds)\r\n            self.stream = f\r\n            encoder_cls = codecs.getincrementalencoder(encoding)\r\n            self.encoder = encoder_cls(errors=errors)\r\n```\r\n\r\n\r\n**Shouldn't the `UnicodeWriter` just use the StringIO?** Esp. when Python3 default is StringIO.\r\n\r\n```\r\n$ python2\r\nPython 2.7.14 (v2.7.14:84471935ed, Sep 16 2017, 12:01:12) \r\n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import cStringIO\r\n\r\n$ python3\r\nPython 3.6.4rc1 (v3.6.4rc1:3398dcb14f, Dec  5 2017, 00:58:30) \r\n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import cStringIO\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'cStringIO'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2119/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2119/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2102", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2102/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2102/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2102/events", "html_url": "https://github.com/nltk/nltk/issues/2102", "id": 355815058, "node_id": "MDU6SXNzdWUzNTU4MTUwNTg=", "number": 2102, "title": "TreePrettyPrinter throws TypeError when Tree.leaves() are list of tuples", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019200, "node_id": "MDU6TGFiZWwxNDAxOTIwMA==", "url": "https://api.github.com/repos/nltk/nltk/labels/good%20first%20issue", "name": "good first issue", "color": "02e10c", "default": true, "description": ""}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718743421, "node_id": "MDU6TGFiZWw3MTg3NDM0MjE=", "url": "https://api.github.com/repos/nltk/nltk/labels/parsing", "name": "parsing", "color": "94e06d", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-31T02:13:29Z", "updated_at": "2018-11-11T21:49:06Z", "closed_at": "2018-11-11T21:49:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When the `Tree.leaves()` are made up of list of tuples, e.g. `[('the', 'DT'), ('cat', 'NN')])]`, `Tree.pretty_print()` that calls the `TreePrettyPrinter` throws a `TypeError`, e.g.\r\n\r\n```python\r\nimport nltk \r\nsentence = [(\"the\", \"DT\"), (\"little\", \"JJ\"), (\"yellow\", \"JJ\"), (\"dog\", \"NN\"), (\"barked\",\"VBD\"), (\"at\", \"IN\"), (\"the\", \"DT\"), (\"cat\", \"NN\")]\r\n\r\npattern = \"\"\"NP: {<DT>?<JJ>*<NN>}\r\nVBD: {<VBD>}\r\nIN: {<IN>}\"\"\"\r\nNPChunker = nltk.RegexpParser(pattern) \r\nresult = NPChunker.parse(sentence)\r\nresult.pretty_print()\r\n```\r\n\r\n[out]:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-32-306ca23c9095> in <module>()\r\n      7 NPChunker = nltk.RegexpParser(pattern)\r\n      8 result = NPChunker.parse(sentence)\r\n----> 9 result.pretty_print()\r\n\r\n/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/nltk/tree.py in pretty_print(self, sentence, highlight, stream, **kwargs)\r\n    697         \"\"\"\r\n    698         from nltk.treeprettyprinter import TreePrettyPrinter\r\n--> 699         print(TreePrettyPrinter(self, sentence, highlight).text(**kwargs),\r\n    700               file=stream)\r\n    701 \r\n\r\n/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/nltk/treeprettyprinter.py in __init__(self, tree, sentence, highlight)\r\n     95                             if not isinstance(b, Tree):\r\n     96                                 a[n] = len(sentence)\r\n---> 97                                 sentence.append('%s' % b)\r\n     98         self.nodes, self.coords, self.edges, self.highlight = self.nodecoords(\r\n     99                 tree, sentence, highlight)\r\n\r\nTypeError: not all arguments converted during string formatting\r\n```\r\n\r\nMore details on https://stackoverflow.com/questions/52107352/how-can-i-pretty-print-a-nltk-tree-object ", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2102/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2090", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2090/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2090/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2090/events", "html_url": "https://github.com/nltk/nltk/issues/2090", "id": 352643493, "node_id": "MDU6SXNzdWUzNTI2NDM0OTM=", "number": 2090, "title": "Zipfile as corpus fails unless a subdirectory is appended to the filename", "user": {"login": "meldavis", "id": 9271152, "node_id": "MDQ6VXNlcjkyNzExNTI=", "avatar_url": "https://avatars.githubusercontent.com/u/9271152?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meldavis", "html_url": "https://github.com/meldavis", "followers_url": "https://api.github.com/users/meldavis/followers", "following_url": "https://api.github.com/users/meldavis/following{/other_user}", "gists_url": "https://api.github.com/users/meldavis/gists{/gist_id}", "starred_url": "https://api.github.com/users/meldavis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meldavis/subscriptions", "organizations_url": "https://api.github.com/users/meldavis/orgs", "repos_url": "https://api.github.com/users/meldavis/repos", "events_url": "https://api.github.com/users/meldavis/events{/privacy}", "received_events_url": "https://api.github.com/users/meldavis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-21T17:44:55Z", "updated_at": "2018-11-14T02:30:19Z", "closed_at": "2018-11-14T02:30:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am adding another issue because I could not reopen #1986.\r\n\r\nIssue #1986 is still broken.   The fix did remove the exception; however, now the corpus fails to return any data.    Note that this issue applies to all corpus; I am using the Twitter Corpus as an example.\r\n\r\nThe issue is using a zip file as a corpus fails, unless a subdirectory is appended to the zip's filename.\r\nExample: ```twitter_samples.zip``` will fail; but ```twitter_samples.zip/twitter_samples/``` will work.\r\n\r\nPython: 3.7.0\r\nNLTK: 3.3.0\r\nOS: Windows 10 x64\r\n\r\n\r\n## Example using Twitter Corpus\r\n### Appending a subdirectory to the zip filename\r\n``` python\r\nfrom nltk.corpus.reader import TwitterCorpusReader\r\nc = TwitterCorpusReader(root='twitter_samples.zip/twitter_samples/', fileids=\"negative_tweets.json\")\r\nprint(c.abspaths())\r\nprint(c.fileids())\r\n```\r\nThis correctly reports\r\n ```\r\n[ZipFilePathPointer('D:\\\\Projects\\\\corpus\\\\twitter_samples.zip', 'twitter_samples/negative_tweets.json')]\r\n['negative_tweets.json']\r\n```\r\n\r\n### Using a zipfile as a corpus root produces no data\r\n```\r\nc = TwitterCorpusReader(root='twitter_samples.zip', fileids=\"twitter_samples/negative_tweets.json\")\r\nprint(c.abspaths())\r\nprint(c.fileids())\r\n```\r\nThis incorrectly reports an empty set: \r\n```\r\n[]\r\n[]\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2090/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2090/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2088", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2088/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2088/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2088/events", "html_url": "https://github.com/nltk/nltk/issues/2088", "id": 352089995, "node_id": "MDU6SXNzdWUzNTIwODk5OTU=", "number": 2088, "title": "find_concordance() return empty list for left_context", "user": {"login": "BLKSerene", "id": 23695743, "node_id": "MDQ6VXNlcjIzNjk1NzQz", "avatar_url": "https://avatars.githubusercontent.com/u/23695743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BLKSerene", "html_url": "https://github.com/BLKSerene", "followers_url": "https://api.github.com/users/BLKSerene/followers", "following_url": "https://api.github.com/users/BLKSerene/following{/other_user}", "gists_url": "https://api.github.com/users/BLKSerene/gists{/gist_id}", "starred_url": "https://api.github.com/users/BLKSerene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BLKSerene/subscriptions", "organizations_url": "https://api.github.com/users/BLKSerene/orgs", "repos_url": "https://api.github.com/users/BLKSerene/repos", "events_url": "https://api.github.com/users/BLKSerene/events{/privacy}", "received_events_url": "https://api.github.com/users/BLKSerene/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019200, "node_id": "MDU6TGFiZWwxNDAxOTIwMA==", "url": "https://api.github.com/repos/nltk/nltk/labels/good%20first%20issue", "name": "good first issue", "color": "02e10c", "default": true, "description": ""}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-08-20T11:12:42Z", "updated_at": "2018-09-19T00:06:42Z", "closed_at": "2018-09-19T00:06:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nif offsets:\r\n            for i in offsets:\r\n                query_word = self._tokens[i]\r\n                # Find the context of query word.\r\n                left_context = self._tokens[i-context:i]\r\n```\r\n\r\nWhen the first occurrence of the search term is at the beginning of the text (for example at offset 7), suppose the width parameter is set to 20, then [i-context:i] would be evaluated as [-13:7].\r\nIn this case, if the text consists more than 20 words, the variable left_context would be an empty list, rather than a list containing the first 7 words of the text.\r\n\r\nA simple fix would do:\r\n\r\n```\r\nif offsets:\r\n    for i in offsets:\r\n        query_word = self._tokens[i]\r\n        # Find the context of query word.\r\n        if i - context < 0:\r\n            left_context = self._tokens[:i]\r\n        else:\r\n            left_context = self._tokens[i-context:i]\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2088/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2083", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2083/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2083/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2083/events", "html_url": "https://github.com/nltk/nltk/issues/2083", "id": 350666768, "node_id": "MDU6SXNzdWUzNTA2NjY3Njg=", "number": 2083, "title": "corpus BLEU score have a minor issue when smoothing", "user": {"login": "wwt17", "id": 10792281, "node_id": "MDQ6VXNlcjEwNzkyMjgx", "avatar_url": "https://avatars.githubusercontent.com/u/10792281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wwt17", "html_url": "https://github.com/wwt17", "followers_url": "https://api.github.com/users/wwt17/followers", "following_url": "https://api.github.com/users/wwt17/following{/other_user}", "gists_url": "https://api.github.com/users/wwt17/gists{/gist_id}", "starred_url": "https://api.github.com/users/wwt17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wwt17/subscriptions", "organizations_url": "https://api.github.com/users/wwt17/orgs", "repos_url": "https://api.github.com/users/wwt17/repos", "events_url": "https://api.github.com/users/wwt17/events{/privacy}", "received_events_url": "https://api.github.com/users/wwt17/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 113906330, "node_id": "MDU6TGFiZWwxMTM5MDYzMzA=", "url": "https://api.github.com/repos/nltk/nltk/labels/SMT", "name": "SMT", "color": "bfdadc", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-15T02:44:59Z", "updated_at": "2018-08-15T06:06:38Z", "closed_at": "2018-08-15T06:06:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "[Here](https://github.com/nltk/nltk/blob/ecced11335a8942beeab4ed9020eb93f18457d10/nltk/translate/bleu_score.py#L210) should be `hyp_lengths` rather than `hyp_len`.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2083/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2083/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2076", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2076/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2076/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2076/events", "html_url": "https://github.com/nltk/nltk/issues/2076", "id": 347677130, "node_id": "MDU6SXNzdWUzNDc2NzcxMzA=", "number": 2076, "title": "TreebankWordTokenizer span_tokenize still throwing exception for some corner-cases", "user": {"login": "gkucsko", "id": 5068315, "node_id": "MDQ6VXNlcjUwNjgzMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/5068315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gkucsko", "html_url": "https://github.com/gkucsko", "followers_url": "https://api.github.com/users/gkucsko/followers", "following_url": "https://api.github.com/users/gkucsko/following{/other_user}", "gists_url": "https://api.github.com/users/gkucsko/gists{/gist_id}", "starred_url": "https://api.github.com/users/gkucsko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gkucsko/subscriptions", "organizations_url": "https://api.github.com/users/gkucsko/orgs", "repos_url": "https://api.github.com/users/gkucsko/repos", "events_url": "https://api.github.com/users/gkucsko/events{/privacy}", "received_events_url": "https://api.github.com/users/gkucsko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-05T07:39:31Z", "updated_at": "2021-11-06T23:34:16Z", "closed_at": "2021-11-06T23:34:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "very similar to #1865, there are still unhandled inputs to TreebankWordTokenizer that will cause span_tokenize to throw:\r\n```\r\n>>> from nltk.tokenize import TreebankWordTokenizer\r\n>>> s = u\"\\'\\'good muffins\\\"\"\r\n>>> list(TreebankWordTokenizer().span_tokenize(s))\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"nltk/tokenize/treebank.py\", line 198, in span_tokenize\r\n    for tok in align_tokens(tokens, text):\r\n  File \"nltk/tokenize/util.py\", line 258, in align_tokens\r\n    raise ValueError('substring \"{}\" not found in \"{}\"'.format(token, sentence))\r\nValueError: substring \"''\" not found in \"''good muffins\"\"\r\n```\r\na working fix could be:\r\n```\r\nline 190 in tokenize.treebank.py:\r\nmatched = [m.group() for m in re.finditer(r\"\\`\\`|(?<!^)\\'\\'|^\\'\\'(?=\\s)|\\\"\", text)]\r\n```\r\ni don't like the extra look arounds, but at least this wouldn't change anything about the current implementation. happy to submit a merge req if it's helpful!", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2076/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2076/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2063", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2063/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2063/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2063/events", "html_url": "https://github.com/nltk/nltk/issues/2063", "id": 340773728, "node_id": "MDU6SXNzdWUzNDA3NzM3Mjg=", "number": 2063, "title": "ConditionalFreqDist keys are mutated on call to plot", "user": {"login": "rmNULL", "id": 8173131, "node_id": "MDQ6VXNlcjgxNzMxMzE=", "avatar_url": "https://avatars.githubusercontent.com/u/8173131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmNULL", "html_url": "https://github.com/rmNULL", "followers_url": "https://api.github.com/users/rmNULL/followers", "following_url": "https://api.github.com/users/rmNULL/following{/other_user}", "gists_url": "https://api.github.com/users/rmNULL/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmNULL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmNULL/subscriptions", "organizations_url": "https://api.github.com/users/rmNULL/orgs", "repos_url": "https://api.github.com/users/rmNULL/repos", "events_url": "https://api.github.com/users/rmNULL/events{/privacy}", "received_events_url": "https://api.github.com/users/rmNULL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-12T19:47:00Z", "updated_at": "2020-05-17T13:48:30Z", "closed_at": "2020-05-17T13:47:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Brief\r\n`ConditionalFreqDist` modifies the conditions(keys) when a non-existing key \r\nis passed as a `conditions` keyword argument to `tabulate()`/`plot()`.\r\n\r\nLook at an\r\n### Example  \r\n![nltk-condist](https://user-images.githubusercontent.com/8173131/42654522-7dd6451a-8636-11e8-993a-fd10889dc211.png)\r\n\r\nThis undocumented behaviour appears a bug to me.\r\n\r\n---\r\n\r\n### Why is this happening to me ? \r\n**Note**,  please do correct(my blabbering).\r\nThe culprits behind this behaviour hide in [plot](https://github.com/nltk/nltk/blob/ecced11335a8942beeab4ed9020eb93f18457d10/nltk/probability.py#L1859) and [tabulate](https://github.com/nltk/nltk/blob/ecced11335a8942beeab4ed9020eb93f18457d10/nltk/probability.py#L1903) (forgive for stating the obvious). \r\n\r\nAs `ConditionalFreqDist` is inherited from `defaultdict`, when we do a `self[c]`(links above), \r\nnew key is created as a side-effect. This can be seen in an example below.\r\n\r\n![default-dict](https://user-images.githubusercontent.com/8173131/42655543-1b815644-863a-11e8-89c2-01ee3e29eb8f.png)\r\n\r\n__Thank You__", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2063/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2063/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2026", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2026/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2026/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2026/events", "html_url": "https://github.com/nltk/nltk/pull/2026", "id": 325032575, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg5NDY3NDI2", "number": 2026, "title": "Fixed print_concordance()", "user": {"login": "Coykto", "id": 12993909, "node_id": "MDQ6VXNlcjEyOTkzOTA5", "avatar_url": "https://avatars.githubusercontent.com/u/12993909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Coykto", "html_url": "https://github.com/Coykto", "followers_url": "https://api.github.com/users/Coykto/followers", "following_url": "https://api.github.com/users/Coykto/following{/other_user}", "gists_url": "https://api.github.com/users/Coykto/gists{/gist_id}", "starred_url": "https://api.github.com/users/Coykto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Coykto/subscriptions", "organizations_url": "https://api.github.com/users/Coykto/orgs", "repos_url": "https://api.github.com/users/Coykto/repos", "events_url": "https://api.github.com/users/Coykto/events{/privacy}", "received_events_url": "https://api.github.com/users/Coykto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-05-21T19:31:56Z", "updated_at": "2018-05-24T02:34:36Z", "closed_at": "2018-05-24T02:34:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2026", "html_url": "https://github.com/nltk/nltk/pull/2026", "diff_url": "https://github.com/nltk/nltk/pull/2026.diff", "patch_url": "https://github.com/nltk/nltk/pull/2026.patch", "merged_at": "2018-05-24T02:34:18Z"}, "body": "by changing return of the find_concordance() function. It now returns full (not trimmed by \"lines\" argument value) concordance_list. Number of lines printed by print_concordance() is now determined inside that function.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2026/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2026/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/2007", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/2007/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/2007/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/2007/events", "html_url": "https://github.com/nltk/nltk/pull/2007", "id": 316649596, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgzMzE3Mzcz", "number": 2007, "title": "Install matplotlib explicitly after pip install -r", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 910625822, "node_id": "MDU6TGFiZWw5MTA2MjU4MjI=", "url": "https://api.github.com/repos/nltk/nltk/labels/CI", "name": "CI", "color": "76dbed", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-04-23T03:24:56Z", "updated_at": "2018-04-23T10:09:12Z", "closed_at": "2018-04-23T05:27:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/2007", "html_url": "https://github.com/nltk/nltk/pull/2007", "diff_url": "https://github.com/nltk/nltk/pull/2007.diff", "patch_url": "https://github.com/nltk/nltk/pull/2007.patch", "merged_at": "2018-04-23T05:27:43Z"}, "body": "Removed the usage of `--allow-external`, instead just install in a separate line in the shell script.\r\n\r\n```\r\npip install -U -r pip-req.txt\r\npip install -U matplotlib\r\n```\r\n\r\nI think putting it in a separate line is clearer than the alternative to repeat the dependency of the library as itself, something like:\r\n\r\n```\r\npip install -U -r pip-req.txt \u2014allow-external matplotlib matplotlib\r\n```\r\n\r\nThat should clear up the problem on CI https://nltk.ci.cloudbees.com/job/pull_request_tests/PYV=2.7.14,jdk=jdk8latestOnlineInstall/669/console ", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/2007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/2007/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1996", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1996/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1996/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1996/events", "html_url": "https://github.com/nltk/nltk/issues/1996", "id": 309892460, "node_id": "MDU6SXNzdWUzMDk4OTI0NjA=", "number": 1996, "title": "[Enhancement] nltk.cluster.kmeans.KMeansClusterer Runs Too Slow", "user": {"login": "Fnjn", "id": 15572906, "node_id": "MDQ6VXNlcjE1NTcyOTA2", "avatar_url": "https://avatars.githubusercontent.com/u/15572906?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fnjn", "html_url": "https://github.com/Fnjn", "followers_url": "https://api.github.com/users/Fnjn/followers", "following_url": "https://api.github.com/users/Fnjn/following{/other_user}", "gists_url": "https://api.github.com/users/Fnjn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fnjn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fnjn/subscriptions", "organizations_url": "https://api.github.com/users/Fnjn/orgs", "repos_url": "https://api.github.com/users/Fnjn/repos", "events_url": "https://api.github.com/users/Fnjn/events{/privacy}", "received_events_url": "https://api.github.com/users/Fnjn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 888120541, "node_id": "MDU6TGFiZWw4ODgxMjA1NDE=", "url": "https://api.github.com/repos/nltk/nltk/labels/cluster", "name": "cluster", "color": "2b5196", "default": false, "description": ""}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-29T20:27:33Z", "updated_at": "2020-03-13T16:09:51Z", "closed_at": "2020-03-13T16:09:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "nltk.cluster.kmeans.KMeansClusterer takes a very very long time to run kmeans on my 5000 points data. This issue is also mentioned in [a stackoverflow comment](https://stackoverflow.com/questions/5529625/is-it-possible-to-specify-your-own-distance-function-using-scikit-learn-k-means#comment70579730_39442355) a year ago. I think the problem lies in overusing for-loop. Since numpy is an optional dependency of NLTK,  I think it would be helpful to provide a much efficient matrix based(numpy) implementation of kmeans.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1996/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1996/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1986", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1986/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1986/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1986/events", "html_url": "https://github.com/nltk/nltk/issues/1986", "id": 306936352, "node_id": "MDU6SXNzdWUzMDY5MzYzNTI=", "number": 1986, "title": "Zipfile as corpus raises exception unless subdirectory is appended to filename", "user": {"login": "meldavis", "id": 9271152, "node_id": "MDQ6VXNlcjkyNzExNTI=", "avatar_url": "https://avatars.githubusercontent.com/u/9271152?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meldavis", "html_url": "https://github.com/meldavis", "followers_url": "https://api.github.com/users/meldavis/followers", "following_url": "https://api.github.com/users/meldavis/following{/other_user}", "gists_url": "https://api.github.com/users/meldavis/gists{/gist_id}", "starred_url": "https://api.github.com/users/meldavis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meldavis/subscriptions", "organizations_url": "https://api.github.com/users/meldavis/orgs", "repos_url": "https://api.github.com/users/meldavis/repos", "events_url": "https://api.github.com/users/meldavis/events{/privacy}", "received_events_url": "https://api.github.com/users/meldavis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 22487250, "node_id": "MDU6TGFiZWwyMjQ4NzI1MA==", "url": "https://api.github.com/repos/nltk/nltk/labels/python3", "name": "python3", "color": "b3fca6", "default": false, "description": ""}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718785550, "node_id": "MDU6TGFiZWw3MTg3ODU1NTA=", "url": "https://api.github.com/repos/nltk/nltk/labels/pythonic", "name": "pythonic", "color": "66e88d", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-20T16:15:14Z", "updated_at": "2018-08-21T16:40:31Z", "closed_at": "2018-04-29T23:21:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Unable to use a zipfile as a corpus unless a subdirectory is appended to the zipfile name.  A root name like 'twitter_samples.zip' will raise an exception.  But 'twitter_samples.zip/twitter_samples/' will work.\r\n\r\n\r\nUsing python 3.6.4, NLTK 3.2.5, Windows.\r\n\r\n## Example using the twitter corpus.  \r\n\r\n#### Fails with exception\r\n```\r\nfrom nltk.corpus.reader import TwitterCorpusReader\r\nTwitterCorpusReader(root='twitter_samples.zip', fileids=\"twitter_samples/negative_tweets.json\")\r\n```\r\n#### This works\r\n```\r\nTwitterCorpusReader(root='twitter_samples.zip/twitter_samples/', fileids=\"negative_tweets.json\")\r\n```\r\n\r\n## Traceback\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Apps\\Tools\\python\\conda3\\envs\\nlp\\lib\\site-packages\\nltk\\corpus\\reader\\twitter.py\", line 74, in __init__\r\n    CorpusReader.__init__(self, root, fileids, encoding)\r\n  File \"C:\\Apps\\Tools\\python\\conda3\\envs\\nlp\\lib\\site-packages\\nltk\\corpus\\reader\\api.py\", line 82, in __init__\r\n    root = ZipFilePathPointer(zipfile, zipentry)\r\n  File \"C:\\Apps\\Tools\\python\\conda3\\envs\\nlp\\lib\\site-packages\\nltk\\compat.py\", line 221, in _decorator\r\n    return init_func(*args, **kwargs)\r\n  File \"C:\\Apps\\Tools\\python\\conda3\\envs\\nlp\\lib\\site-packages\\nltk\\data.py\", line 506, in __init__\r\n    (zipfile.filename, entry))\r\nOSError: Zipfile 'C:\\\\Projects\\\\mfd\\\\nlp\\\\twitter_samples.zip' does not contain '.'\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1986/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1986/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1965", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1965/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1965/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1965/events", "html_url": "https://github.com/nltk/nltk/pull/1965", "id": 300082825, "node_id": "MDExOlB1bGxSZXF1ZXN0MTcxMjY0ODY3", "number": 1965, "title": "Fixed issue #1915, where UAS and LAS were swapped", "user": {"login": "anlandu", "id": 18120855, "node_id": "MDQ6VXNlcjE4MTIwODU1", "avatar_url": "https://avatars.githubusercontent.com/u/18120855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anlandu", "html_url": "https://github.com/anlandu", "followers_url": "https://api.github.com/users/anlandu/followers", "following_url": "https://api.github.com/users/anlandu/following{/other_user}", "gists_url": "https://api.github.com/users/anlandu/gists{/gist_id}", "starred_url": "https://api.github.com/users/anlandu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anlandu/subscriptions", "organizations_url": "https://api.github.com/users/anlandu/orgs", "repos_url": "https://api.github.com/users/anlandu/repos", "events_url": "https://api.github.com/users/anlandu/events{/privacy}", "received_events_url": "https://api.github.com/users/anlandu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-26T01:27:32Z", "updated_at": "2018-11-11T21:46:57Z", "closed_at": "2018-11-11T21:46:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/1965", "html_url": "https://github.com/nltk/nltk/pull/1965", "diff_url": "https://github.com/nltk/nltk/pull/1965.diff", "patch_url": "https://github.com/nltk/nltk/pull/1965.patch", "merged_at": "2018-11-11T21:46:57Z"}, "body": "Per [this issue](https://github.com/nltk/nltk/issues/1915), swapped UAS and LAS output. Am fairly new to contributing, so any and all feedback welcome (let me know if you'd like a unit test!)", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1965/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1965/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1955", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1955/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1955/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1955/events", "html_url": "https://github.com/nltk/nltk/issues/1955", "id": 297214706, "node_id": "MDU6SXNzdWUyOTcyMTQ3MDY=", "number": 1955, "title": "Misspelled function parameter for MosesTokenizer: agressive_dash_splits", "user": {"login": "goodmami", "id": 1428419, "node_id": "MDQ6VXNlcjE0Mjg0MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1428419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goodmami", "html_url": "https://github.com/goodmami", "followers_url": "https://api.github.com/users/goodmami/followers", "following_url": "https://api.github.com/users/goodmami/following{/other_user}", "gists_url": "https://api.github.com/users/goodmami/gists{/gist_id}", "starred_url": "https://api.github.com/users/goodmami/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goodmami/subscriptions", "organizations_url": "https://api.github.com/users/goodmami/orgs", "repos_url": "https://api.github.com/users/goodmami/repos", "events_url": "https://api.github.com/users/goodmami/events{/privacy}", "received_events_url": "https://api.github.com/users/goodmami/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 23593492, "node_id": "MDU6TGFiZWwyMzU5MzQ5Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-02-14T19:21:38Z", "updated_at": "2018-04-24T01:17:00Z", "closed_at": "2018-04-24T01:17:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Just a minor issue. The `agressive_dash_splits` is misspelled. It should be `aggressive_dash_splits`. Or maybe use `hyphen` instead of `dash` to be consistent with both the `AGGRESSIVE_HYPHEN_SPLIT` class member and with `tokenizer.perl`.\r\n\r\nhttp://www.nltk.org/api/nltk.tokenize.html#nltk.tokenize.moses.MosesTokenizer.tokenize\r\n\r\nAlso this functionality does not appear to be tested.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1955/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1955/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1946", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1946/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1946/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1946/events", "html_url": "https://github.com/nltk/nltk/issues/1946", "id": 291646212, "node_id": "MDU6SXNzdWUyOTE2NDYyMTI=", "number": 1946, "title": "present is spelled wrong - causes issue at least on line 535", "user": {"login": "lukedorney", "id": 12764067, "node_id": "MDQ6VXNlcjEyNzY0MDY3", "avatar_url": "https://avatars.githubusercontent.com/u/12764067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukedorney", "html_url": "https://github.com/lukedorney", "followers_url": "https://api.github.com/users/lukedorney/followers", "following_url": "https://api.github.com/users/lukedorney/following{/other_user}", "gists_url": "https://api.github.com/users/lukedorney/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukedorney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukedorney/subscriptions", "organizations_url": "https://api.github.com/users/lukedorney/orgs", "repos_url": "https://api.github.com/users/lukedorney/repos", "events_url": "https://api.github.com/users/lukedorney/events{/privacy}", "received_events_url": "https://api.github.com/users/lukedorney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718746024, "node_id": "MDU6TGFiZWw3MTg3NDYwMjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/stem/lemma", "name": "stem/lemma", "color": "53bab8", "default": false, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-25T17:10:01Z", "updated_at": "2018-04-01T20:41:46Z", "closed_at": "2018-04-01T20:41:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/nltk/nltk/blob/2d925b8816842630f40dc2ca562131ef1161bfc2/nltk/stem/snowball.py#L406", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1946/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1932", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1932/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1932/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1932/events", "html_url": "https://github.com/nltk/nltk/issues/1932", "id": 286777868, "node_id": "MDU6SXNzdWUyODY3Nzc4Njg=", "number": 1932, "title": "Jenkins is breaking because Stanford and Senna pages are timing out", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356472, "node_id": "MDU6TGFiZWwyOTM1NjQ3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/admin", "name": "admin", "color": "444444", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 486810128, "node_id": "MDU6TGFiZWw0ODY4MTAxMjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/tests", "name": "tests", "color": "fbca04", "default": false, "description": null}, {"id": 718741986, "node_id": "MDU6TGFiZWw3MTg3NDE5ODY=", "url": "https://api.github.com/repos/nltk/nltk/labels/stanford%20api", "name": "stanford api", "color": "f4473a", "default": false, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-08T15:17:57Z", "updated_at": "2018-01-09T22:41:28Z", "closed_at": "2018-01-09T22:41:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It looks like Jenkin is breaking because old Stanford tools pages are timing out https://nltk.ci.cloudbees.com/job/pull_request_tests/564/TOXENV=py34-jenkins,jdk=jdk8latestOnlineInstall/console \r\n\r\n[`Jenkins.sh`](https://github.com/nltk/nltk/blob/develop/jenkins.sh#L34) is trying to curl the timeout page to get the direct link to the tools. \r\n\r\nWe're having trouble doing:\r\n\r\n```\r\ncurl -s 'https://nlp.stanford.edu/software/lex-parser.shtml'\r\n```\r\n\r\nThe direct links to the Stanford tools still works, but it's extremely slow and it still gets timeout:\r\n\r\n - https://nlp.stanford.edu/software/stanford-parser-full-2017-06-09.zip\r\n - https://nlp.stanford.edu/software/stanford-postagger-full-2017-06-09.zip\r\n\r\n\r\n-----\r\n\r\nSimilarly the [old senna link](https://github.com/nltk/nltk/blob/develop/jenkins.sh#L55) is timing out, we should use this instead:\r\n\r\n - https://ronan.collobert.com/senna/senna-v3.0.tgz\r\n  ", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1932/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1932/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1928", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1928/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1928/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1928/events", "html_url": "https://github.com/nltk/nltk/issues/1928", "id": 285698420, "node_id": "MDU6SXNzdWUyODU2OTg0MjA=", "number": 1928, "title": "Unclosed file in stopwords corpora", "user": {"login": "iliaschalkidis", "id": 1626984, "node_id": "MDQ6VXNlcjE2MjY5ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1626984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliaschalkidis", "html_url": "https://github.com/iliaschalkidis", "followers_url": "https://api.github.com/users/iliaschalkidis/followers", "following_url": "https://api.github.com/users/iliaschalkidis/following{/other_user}", "gists_url": "https://api.github.com/users/iliaschalkidis/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliaschalkidis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliaschalkidis/subscriptions", "organizations_url": "https://api.github.com/users/iliaschalkidis/orgs", "repos_url": "https://api.github.com/users/iliaschalkidis/repos", "events_url": "https://api.github.com/users/iliaschalkidis/events{/privacy}", "received_events_url": "https://api.github.com/users/iliaschalkidis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019200, "node_id": "MDU6TGFiZWwxNDAxOTIwMA==", "url": "https://api.github.com/repos/nltk/nltk/labels/good%20first%20issue", "name": "good first issue", "color": "02e10c", "default": true, "description": ""}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 112364689, "node_id": "MDU6TGFiZWwxMTIzNjQ2ODk=", "url": "https://api.github.com/repos/nltk/nltk/labels/enhancement", "name": "enhancement", "color": "006b75", "default": true, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718785550, "node_id": "MDU6TGFiZWw3MTg3ODU1NTA=", "url": "https://api.github.com/repos/nltk/nltk/labels/pythonic", "name": "pythonic", "color": "66e88d", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-01-03T14:13:53Z", "updated_at": "2018-11-12T05:25:33Z", "closed_at": "2018-11-12T05:25:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "/Users/kiddo/anaconda/lib/python3.6/site-packages/nltk/corpus/reader/wordlist.py:28: ResourceWarning: unclosed file <_io.BufferedReader name='/Users/kiddo/nltk_data/corpora/stopwords/english'>\r\n  return concat([self.open(f).read() for f in fileids])\r\n\r\nThat's a warning that I found on debugging mode. I thought that maybe you would like to fix that before the next release.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1928/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1928/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1926", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1926/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1926/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1926/events", "html_url": "https://github.com/nltk/nltk/issues/1926", "id": 284666613, "node_id": "MDU6SXNzdWUyODQ2NjY2MTM=", "number": 1926, "title": "nist.py regexp breaks in py27", "user": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/13", "html_url": "https://github.com/nltk/nltk/milestone/13", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/13/labels", "id": 2813386, "node_id": "MDk6TWlsZXN0b25lMjgxMzM4Ng==", "number": 13, "title": "3.2.6", "description": "", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 57, "state": "closed", "created_at": "2017-10-04T02:47:15Z", "updated_at": "2021-11-28T05:27:23Z", "due_on": "2018-01-20T08:00:00Z", "closed_at": "2019-09-05T01:04:28Z"}, "comments": 3, "created_at": "2017-12-27T07:35:07Z", "updated_at": "2018-04-01T20:40:03Z", "closed_at": "2018-04-01T20:40:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Our CI server [reports](https://nltk.ci.cloudbees.com/job/nltk/lastCompletedBuild/TOXENV=py27-jenkins,jdk=jdk8latestOnlineInstall/testReport/nose.failure/Failure/runTest/) error `nothing to repeat` on line https://github.com/nltk/nltk/blob/develop/nltk/tokenize/nist.py#L110\r\n\r\n@alvations: would you mind having a look at this please?", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1926/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1926/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1877", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1877/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1877/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1877/events", "html_url": "https://github.com/nltk/nltk/issues/1877", "id": 270439176, "node_id": "MDU6SXNzdWUyNzA0MzkxNzY=", "number": 1877, "title": "UnicodeEncodeError when chunking non-ASCII text", "user": {"login": "jgarbers", "id": 94000, "node_id": "MDQ6VXNlcjk0MDAw", "avatar_url": "https://avatars.githubusercontent.com/u/94000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgarbers", "html_url": "https://github.com/jgarbers", "followers_url": "https://api.github.com/users/jgarbers/followers", "following_url": "https://api.github.com/users/jgarbers/following{/other_user}", "gists_url": "https://api.github.com/users/jgarbers/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgarbers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgarbers/subscriptions", "organizations_url": "https://api.github.com/users/jgarbers/orgs", "repos_url": "https://api.github.com/users/jgarbers/repos", "events_url": "https://api.github.com/users/jgarbers/events{/privacy}", "received_events_url": "https://api.github.com/users/jgarbers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019200, "node_id": "MDU6TGFiZWwxNDAxOTIwMA==", "url": "https://api.github.com/repos/nltk/nltk/labels/good%20first%20issue", "name": "good first issue", "color": "02e10c", "default": true, "description": ""}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 738078305, "node_id": "MDU6TGFiZWw3MzgwNzgzMDU=", "url": "https://api.github.com/repos/nltk/nltk/labels/python2.7", "name": "python2.7", "color": "7be833", "default": false, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/13", "html_url": "https://github.com/nltk/nltk/milestone/13", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/13/labels", "id": 2813386, "node_id": "MDk6TWlsZXN0b25lMjgxMzM4Ng==", "number": 13, "title": "3.2.6", "description": "", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 57, "state": "closed", "created_at": "2017-10-04T02:47:15Z", "updated_at": "2021-11-28T05:27:23Z", "due_on": "2018-01-20T08:00:00Z", "closed_at": "2019-09-05T01:04:28Z"}, "comments": 5, "created_at": "2017-11-01T20:21:27Z", "updated_at": "2018-02-13T13:03:55Z", "closed_at": "2017-12-11T02:56:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've encountered a UnicodeEncodeError when chunking text that includes non-ASCII characters, using Python 2.7.12 and NLTK 3.2.5. As a new user of NLTK, there may be some subtleties when working with Unicode that I'm not sensitive to yet, but here's a sample bit of code that demonstrates the problem:\r\n\r\n```\r\nimport nltk\r\n\r\ntext = u\"You may have heard of Ren\\xe9 Descartes.\"\r\ntagged = nltk.pos_tag(nltk.word_tokenize(text))\r\nentities = nltk.chunk.ne_chunk(tagged)\r\nprint entities\r\n```\r\n\r\nWhen run, this code reports an error at the chunking line above, ending with the report\r\n```\r\n File \"/Users/jeffgarbers/.virtualenvs/nlplay/lib/python2.7/site-packages/nltk/chunk/named_entity.py\", line 104, in _feature_detector   \r\n  'word+nextpos': '{0}+{1}'.format(word.lower(), nextpos),\r\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xe9' in position 3: ordinal not in range(128)\r\n```\r\n\r\nIt seems that the error goes away if the format strings in lines 104-106 of _named_entity.py_ are changed to Unicode (_u'word+nextpos'_, for example), although I don't know if such a fix has other implications. \r\n\r\nI'd much appreciate any suggestions anyone might offer. Thanks!\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1877/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1877/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1865", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1865/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1865/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1865/events", "html_url": "https://github.com/nltk/nltk/issues/1865", "id": 266356088, "node_id": "MDU6SXNzdWUyNjYzNTYwODg=", "number": 1865, "title": "TreebankWordTokenizer.span_tokenize() throws Exceptions for corner case strings", "user": {"login": "yibinlin", "id": 1060973, "node_id": "MDQ6VXNlcjEwNjA5NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/1060973?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yibinlin", "html_url": "https://github.com/yibinlin", "followers_url": "https://api.github.com/users/yibinlin/followers", "following_url": "https://api.github.com/users/yibinlin/following{/other_user}", "gists_url": "https://api.github.com/users/yibinlin/gists{/gist_id}", "starred_url": "https://api.github.com/users/yibinlin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yibinlin/subscriptions", "organizations_url": "https://api.github.com/users/yibinlin/orgs", "repos_url": "https://api.github.com/users/yibinlin/repos", "events_url": "https://api.github.com/users/yibinlin/events{/privacy}", "received_events_url": "https://api.github.com/users/yibinlin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-18T04:22:58Z", "updated_at": "2018-04-24T01:19:10Z", "closed_at": "2018-04-24T01:19:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This comes from one of the sentence in my work. I have created https://github.com/nltk/nltk/pull/1864 as a fix.\r\n\r\nto reproduce:\r\n\r\n```\r\n>>> from nltk.tokenize import TreebankWordTokenizer\r\n>>> s = '''I said, \"I'd like to buy some ''good muffins\" which cost $3.88\\\\n each in New (York).\"'''\r\n>>> TreebankWordTokenizer().span_tokenize(s)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python2.7/site-packages/nltk/tokenize/treebank.py\", line 167, in span_tokenize\r\n    return align_tokens(tokens, text)\r\n  File \"/usr/local/lib/python2.7/site-packages/nltk/tokenize/util.py\", line 232, in align_tokens\r\n    raise ValueError('substring \"{}\" not found in \"{}\"'.format(token, sentence))\r\nValueError: substring \"``\" not found in \"I said, \"I'd like to buy some ''good muffins\" which cost $3.88\\n each in New (York).\"\"\r\n```\r\n\r\nAlso I have a question - I am not sure why the pull request check didn't run? The error seems to be here: https://nltk.ci.cloudbees.com/job/pull_request_tests/TOXENV=py27-jenkins,jdk=jdk8latestOnlineInstall/lastBuild/console \r\n\r\nIt looks like I did something terribly wrong somewhere. This is my first pull request to nltk, could anyone help? Thank you!\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1865/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1865/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1861", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1861/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1861/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1861/events", "html_url": "https://github.com/nltk/nltk/issues/1861", "id": 265734876, "node_id": "MDU6SXNzdWUyNjU3MzQ4NzY=", "number": 1861, "title": "TextTiling not support python 3", "user": {"login": "talbaumel", "id": 6032899, "node_id": "MDQ6VXNlcjYwMzI4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/6032899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/talbaumel", "html_url": "https://github.com/talbaumel", "followers_url": "https://api.github.com/users/talbaumel/followers", "following_url": "https://api.github.com/users/talbaumel/following{/other_user}", "gists_url": "https://api.github.com/users/talbaumel/gists{/gist_id}", "starred_url": "https://api.github.com/users/talbaumel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/talbaumel/subscriptions", "organizations_url": "https://api.github.com/users/talbaumel/orgs", "repos_url": "https://api.github.com/users/talbaumel/repos", "events_url": "https://api.github.com/users/talbaumel/events{/privacy}", "received_events_url": "https://api.github.com/users/talbaumel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019200, "node_id": "MDU6TGFiZWwxNDAxOTIwMA==", "url": "https://api.github.com/repos/nltk/nltk/labels/good%20first%20issue", "name": "good first issue", "color": "02e10c", "default": true, "description": ""}, {"id": 22487250, "node_id": "MDU6TGFiZWwyMjQ4NzI1MA==", "url": "https://api.github.com/repos/nltk/nltk/labels/python3", "name": "python3", "color": "b3fca6", "default": false, "description": ""}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/13", "html_url": "https://github.com/nltk/nltk/milestone/13", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/13/labels", "id": 2813386, "node_id": "MDk6TWlsZXN0b25lMjgxMzM4Ng==", "number": 13, "title": "3.2.6", "description": "", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 57, "state": "closed", "created_at": "2017-10-04T02:47:15Z", "updated_at": "2021-11-28T05:27:23Z", "due_on": "2018-01-20T08:00:00Z", "closed_at": "2019-09-05T01:04:28Z"}, "comments": 4, "created_at": "2017-10-16T11:23:13Z", "updated_at": "2017-10-23T10:53:26Z", "closed_at": "2017-10-23T10:52:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "In line 315 `clip = min(max(len(scores)/10, 2), 5)` you should wrap this value with a `int` because python 3 division type is float.\r\n\r\nThanks", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1861/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1861/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1852", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1852/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1852/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1852/events", "html_url": "https://github.com/nltk/nltk/issues/1852", "id": 264544409, "node_id": "MDU6SXNzdWUyNjQ1NDQ0MDk=", "number": 1852, "title": "ArabicStemmer AttributeError", "user": {"login": "richbalmer", "id": 8006595, "node_id": "MDQ6VXNlcjgwMDY1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/8006595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richbalmer", "html_url": "https://github.com/richbalmer", "followers_url": "https://api.github.com/users/richbalmer/followers", "following_url": "https://api.github.com/users/richbalmer/following{/other_user}", "gists_url": "https://api.github.com/users/richbalmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/richbalmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richbalmer/subscriptions", "organizations_url": "https://api.github.com/users/richbalmer/orgs", "repos_url": "https://api.github.com/users/richbalmer/repos", "events_url": "https://api.github.com/users/richbalmer/events{/privacy}", "received_events_url": "https://api.github.com/users/richbalmer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 486810128, "node_id": "MDU6TGFiZWw0ODY4MTAxMjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/tests", "name": "tests", "color": "fbca04", "default": false, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/13", "html_url": "https://github.com/nltk/nltk/milestone/13", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/13/labels", "id": 2813386, "node_id": "MDk6TWlsZXN0b25lMjgxMzM4Ng==", "number": 13, "title": "3.2.6", "description": "", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 57, "state": "closed", "created_at": "2017-10-04T02:47:15Z", "updated_at": "2021-11-28T05:27:23Z", "due_on": "2018-01-20T08:00:00Z", "closed_at": "2019-09-05T01:04:28Z"}, "comments": 7, "created_at": "2017-10-11T11:04:43Z", "updated_at": "2018-04-01T20:42:25Z", "closed_at": "2018-04-01T20:42:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm failing to stem certain Arabic terms using the SnowballStemmer. Many terms are stemmed successfully but some terms cause an AttributeError to be raised. Please see below for a minimal example that fails on the term 'from'.\r\n\r\n```\r\n(anaconda2-4.4.0) richard-balmer-macbook:~ richardbalmer$ pip freeze | grep nltk\r\nnltk==3.2.5\r\n(anaconda2-4.4.0) richard-balmer-macbook:~ richardbalmer$ ipython\r\nPython 2.7.13 |Anaconda custom (x86_64)| (default, Dec 20 2016, 23:05:08)\r\nType \"copyright\", \"credits\" or \"license\" for more information.\r\n\r\nIPython 5.3.0 -- An enhanced Interactive Python.\r\n?         -> Introduction and overview of IPython's features.\r\n%quickref -> Quick reference.\r\nhelp      -> Python's own help system.\r\nobject?   -> Details about 'object', use 'object??' for extra details.\r\n\r\nIn [1]: from nltk.stem.snowball import SnowballStemmer\r\n\r\nIn [2]: stemmer = SnowballStemmer('arabic')\r\n\r\nIn [3]: stemmer.stem(u'\u062a\u0633\u062f\u062f')\r\nOut[3]: u'\\u062a\\u0633\\u062f\\u062f'\r\n\r\nIn [4]: stemmer.stem(u'\u0645\u0646')\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-4-ffa733106049> in <module>()\r\n----> 1 stemmer.stem(u'\u0645\u0646')\r\n\r\n/Users/richardbalmer/.pyenv/versions/anaconda2-4.4.0/lib/python2.7/site-packages/nltk/stem/snowball.pyc in stem(self, word)\r\n    762                 modified_word = self.__Suffix_Verb_Step2b(modified_word)\r\n    763                 if not self.suffix_verb_step2b_success:\r\n--> 764                     modified_word = self.__Suffix_Verb_Step2a(modified_word)\r\n    765         if self.is_noun:\r\n    766             modified_word = self.__Suffix_Noun_Step2c2(modified_word)\r\n\r\n/Users/richardbalmer/.pyenv/versions/anaconda2-4.4.0/lib/python2.7/site-packages/nltk/stem/snowball.pyc in __Suffix_Verb_Step2a(self, token)\r\n    533                     break\r\n    534\r\n--> 535                 if suffix in self.__conjugation_suffix_verb_present and len(token) > 5:\r\n    536                     token = token[:-2]  # present\r\n    537                     self.suffix_verb_step2a_success = True\r\n\r\nAttributeError: 'ArabicStemmer' object has no attribute '_ArabicStemmer__conjugation_suffix_verb_present'\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1852/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1852/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1840", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1840/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1840/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1840/events", "html_url": "https://github.com/nltk/nltk/pull/1840", "id": 260856619, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQzMzA1Mjgw", "number": 1840, "title": "Cleaned up NIST mean aggregation", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 113906330, "node_id": "MDU6TGFiZWwxMTM5MDYzMzA=", "url": "https://api.github.com/repos/nltk/nltk/labels/SMT", "name": "SMT", "color": "bfdadc", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 32, "created_at": "2017-09-27T06:05:08Z", "updated_at": "2018-05-16T04:17:35Z", "closed_at": "2018-05-02T23:30:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/1840", "html_url": "https://github.com/nltk/nltk/pull/1840", "diff_url": "https://github.com/nltk/nltk/pull/1840.diff", "patch_url": "https://github.com/nltk/nltk/pull/1840.patch", "merged_at": "2018-05-02T23:30:38Z"}, "body": "Cleaned up NIST mean aggregation", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1840/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1840/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1829", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1829/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1829/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1829/events", "html_url": "https://github.com/nltk/nltk/issues/1829", "id": 257782391, "node_id": "MDU6SXNzdWUyNTc3ODIzOTE=", "number": 1829, "title": "Word alignment symmetrization is broken", "user": {"login": "gtoffoli", "id": 983587, "node_id": "MDQ6VXNlcjk4MzU4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/983587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gtoffoli", "html_url": "https://github.com/gtoffoli", "followers_url": "https://api.github.com/users/gtoffoli/followers", "following_url": "https://api.github.com/users/gtoffoli/following{/other_user}", "gists_url": "https://api.github.com/users/gtoffoli/gists{/gist_id}", "starred_url": "https://api.github.com/users/gtoffoli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gtoffoli/subscriptions", "organizations_url": "https://api.github.com/users/gtoffoli/orgs", "repos_url": "https://api.github.com/users/gtoffoli/repos", "events_url": "https://api.github.com/users/gtoffoli/events{/privacy}", "received_events_url": "https://api.github.com/users/gtoffoli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 113906330, "node_id": "MDU6TGFiZWwxMTM5MDYzMzA=", "url": "https://api.github.com/repos/nltk/nltk/labels/SMT", "name": "SMT", "color": "bfdadc", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 486810128, "node_id": "MDU6TGFiZWw0ODY4MTAxMjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/tests", "name": "tests", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/13", "html_url": "https://github.com/nltk/nltk/milestone/13", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/13/labels", "id": 2813386, "node_id": "MDk6TWlsZXN0b25lMjgxMzM4Ng==", "number": 13, "title": "3.2.6", "description": "", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 57, "state": "closed", "created_at": "2017-10-04T02:47:15Z", "updated_at": "2021-11-28T05:27:23Z", "due_on": "2018-01-20T08:00:00Z", "closed_at": "2019-09-05T01:04:28Z"}, "comments": 4, "created_at": "2017-09-14T16:33:31Z", "updated_at": "2017-12-15T04:48:23Z", "closed_at": "2017-12-15T04:48:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "The module nltk.translate.gdfa, which includes the grow_diag_final_and function and a couple of nested functions, is broken.\r\nIt has a few serious bugs; in particular, the main loop of the grow_diag internal function runs forever except in some trivial cases. Possibly this symmetrization algorithm has been ported to NLTK from another language and hasn't been tested.\r\n\r\nAlthough I didn't analyze the algorithm implementation in depth, I think that I have fixed the bugs preventing it from working. I've put the patches in the attached diff file.\r\n\r\n[gdfa.py.txt](https://github.com/nltk/nltk/files/1303712/gdfa.py.txt)\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1829/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1829/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1815", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1815/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1815/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1815/events", "html_url": "https://github.com/nltk/nltk/pull/1815", "id": 250807327, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM2MTU3NTYx", "number": 1815, "title": "Fixing Wordnet demo()", "user": {"login": "campionfellin", "id": 11984923, "node_id": "MDQ6VXNlcjExOTg0OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/11984923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/campionfellin", "html_url": "https://github.com/campionfellin", "followers_url": "https://api.github.com/users/campionfellin/followers", "following_url": "https://api.github.com/users/campionfellin/following{/other_user}", "gists_url": "https://api.github.com/users/campionfellin/gists{/gist_id}", "starred_url": "https://api.github.com/users/campionfellin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/campionfellin/subscriptions", "organizations_url": "https://api.github.com/users/campionfellin/orgs", "repos_url": "https://api.github.com/users/campionfellin/repos", "events_url": "https://api.github.com/users/campionfellin/events{/privacy}", "received_events_url": "https://api.github.com/users/campionfellin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 486810128, "node_id": "MDU6TGFiZWw0ODY4MTAxMjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/tests", "name": "tests", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/12", "html_url": "https://github.com/nltk/nltk/milestone/12", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/12/labels", "id": 2693584, "node_id": "MDk6TWlsZXN0b25lMjY5MzU4NA==", "number": 12, "title": "3.2.5", "description": "Minor release. ", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "closed", "created_at": "2017-08-10T07:00:28Z", "updated_at": "2017-10-04T03:05:19Z", "due_on": null, "closed_at": "2017-10-04T02:49:47Z"}, "comments": 4, "created_at": "2017-08-17T01:47:51Z", "updated_at": "2017-08-31T10:11:09Z", "closed_at": "2017-08-31T05:39:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/1815", "html_url": "https://github.com/nltk/nltk/pull/1815", "diff_url": "https://github.com/nltk/nltk/pull/1815.diff", "patch_url": "https://github.com/nltk/nltk/pull/1815.patch", "merged_at": "2017-08-31T05:39:48Z"}, "body": "This PR is to fix Issue #1789 regarding the wordnet demo. I fixed the regex and added a check depending on if the number in the middle is 2 digits or 1.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1815/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1815/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1813", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1813/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1813/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1813/events", "html_url": "https://github.com/nltk/nltk/pull/1813", "id": 250225229, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM1NzM3NTA1", "number": 1813, "title": "Ensure self is its own lowest subsumer when needed", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/12", "html_url": "https://github.com/nltk/nltk/milestone/12", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/12/labels", "id": 2693584, "node_id": "MDk6TWlsZXN0b25lMjY5MzU4NA==", "number": 12, "title": "3.2.5", "description": "Minor release. ", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "closed", "created_at": "2017-08-10T07:00:28Z", "updated_at": "2017-10-04T03:05:19Z", "due_on": null, "closed_at": "2017-10-04T02:49:47Z"}, "comments": 0, "created_at": "2017-08-15T05:30:15Z", "updated_at": "2017-10-04T02:24:06Z", "closed_at": "2017-08-16T23:24:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/1813", "html_url": "https://github.com/nltk/nltk/pull/1813", "diff_url": "https://github.com/nltk/nltk/pull/1813.diff", "patch_url": "https://github.com/nltk/nltk/pull/1813.patch", "merged_at": "2017-08-16T23:24:46Z"}, "body": "Patching #1030 \r\n\r\nRelated to #1724 \r\n\r\nBefore the patch:\r\n\r\n```python\r\n>>> from nltk.corpus import wordnet as wn\r\n>>> orange = wn.synsets('orange')[0]\r\n>>> orange.lowest_common_hypernyms(orange, simulate_root=(False and orange._needs_root()), use_min_depth=True)\r\n[Synset('fruit.n.01'), Synset('orange.n.01')]\r\n>>> orange.wup_similarity(orange)\r\n0.75\r\n```\r\n\r\nAfter the patch:\r\n\r\n```python\r\n>>> from nltk.corpus import wordnet as wn\r\n>>> orange = wn.synsets('orange')[0]\r\n>>> orange.lowest_common_hypernyms(orange, simulate_root=(False and orange._needs_root()), use_min_depth=True)\r\n[Synset('fruit.n.01'), Synset('orange.n.01')]\r\n>>> orange.wup_similarity(orange)\r\n1.0\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1813/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1799", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1799/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1799/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1799/events", "html_url": "https://github.com/nltk/nltk/issues/1799", "id": 246990247, "node_id": "MDU6SXNzdWUyNDY5OTAyNDc=", "number": 1799, "title": "TweetTokenizer quirk with long numbers", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718735032, "node_id": "MDU6TGFiZWw3MTg3MzUwMzI=", "url": "https://api.github.com/repos/nltk/nltk/labels/tokenizer", "name": "tokenizer", "color": "4be5a0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-01T08:16:35Z", "updated_at": "2021-09-24T12:31:27Z", "closed_at": "2021-09-24T12:31:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When there's a number token that's >8 length, the `TweetTokenizer` tries to iteratively parse the first 8-10 digits as a phone number if it matches the phone number regex on https://github.com/alvations/nltk/blob/develop/nltk/tokenize/casual.py#L125\r\n\r\nMaybe, there should be an option to allow users to keep long digits and not try to recognize the first part as a number. \r\n\r\nOr better yet, if there's regex fix that can prevent the number from getting split if it's longer than 10. \r\n\r\nDetails on https://stackoverflow.com/questions/45425946/tokenize-in-nltk-tweettokenizer-returning-integers-by-splitting/45431922#45431922", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1799/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1799/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1796", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1796/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1796/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1796/events", "html_url": "https://github.com/nltk/nltk/issues/1796", "id": 246306456, "node_id": "MDU6SXNzdWUyNDYzMDY0NTY=", "number": 1796, "title": "Extra blank space in \"No. #NUMERIC#\" returning unexpected tokens from MosesTokenizer", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019200, "node_id": "MDU6TGFiZWwxNDAxOTIwMA==", "url": "https://api.github.com/repos/nltk/nltk/labels/good%20first%20issue", "name": "good first issue", "color": "02e10c", "default": true, "description": ""}, {"id": 113906330, "node_id": "MDU6TGFiZWwxMTM5MDYzMzA=", "url": "https://api.github.com/repos/nltk/nltk/labels/SMT", "name": "SMT", "color": "bfdadc", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/12", "html_url": "https://github.com/nltk/nltk/milestone/12", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/12/labels", "id": 2693584, "node_id": "MDk6TWlsZXN0b25lMjY5MzU4NA==", "number": 12, "title": "3.2.5", "description": "Minor release. ", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "closed", "created_at": "2017-08-10T07:00:28Z", "updated_at": "2017-10-04T03:05:19Z", "due_on": null, "closed_at": "2017-10-04T02:49:47Z"}, "comments": 2, "created_at": "2017-07-28T10:16:06Z", "updated_at": "2017-08-14T05:18:02Z", "closed_at": "2017-08-14T05:18:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "To resolve the nltk/nltk_data#85, stripping the non-breaking prefixes would emulate the Perl chomp from the original Moses tokenizer.perl\r\n\r\nThis can be patched easily by replacing https://github.com/nltk/nltk/blob/develop/nltk/tokenize/moses.py#L244\r\n\r\n```\r\n# Initialize the language specific nonbreaking prefixes.\r\n self.NONBREAKING_PREFIXES = nonbreaking_prefixes.words(lang)\r\n```\r\n\r\nto \r\n\r\n```\r\n# Initialize the language specific nonbreaking prefixes.\r\n self.NONBREAKING_PREFIXES = [_nbp.strip() for _nbp in nonbreaking_prefixes.words(lang)]\r\n```\r\n\r\nThis is good first bug to contribute to NLTK too =)", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1796/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1789", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1789/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1789/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1789/events", "html_url": "https://github.com/nltk/nltk/issues/1789", "id": 245785552, "node_id": "MDU6SXNzdWUyNDU3ODU1NTI=", "number": 1789, "title": "wordnet demo fails", "user": {"login": "TimFH", "id": 8481426, "node_id": "MDQ6VXNlcjg0ODE0MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/8481426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimFH", "html_url": "https://github.com/TimFH", "followers_url": "https://api.github.com/users/TimFH/followers", "following_url": "https://api.github.com/users/TimFH/following{/other_user}", "gists_url": "https://api.github.com/users/TimFH/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimFH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimFH/subscriptions", "organizations_url": "https://api.github.com/users/TimFH/orgs", "repos_url": "https://api.github.com/users/TimFH/repos", "events_url": "https://api.github.com/users/TimFH/events{/privacy}", "received_events_url": "https://api.github.com/users/TimFH/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019200, "node_id": "MDU6TGFiZWwxNDAxOTIwMA==", "url": "https://api.github.com/repos/nltk/nltk/labels/good%20first%20issue", "name": "good first issue", "color": "02e10c", "default": true, "description": ""}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 486810128, "node_id": "MDU6TGFiZWw0ODY4MTAxMjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/tests", "name": "tests", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-07-26T16:46:24Z", "updated_at": "2017-09-01T02:06:08Z", "closed_at": "2017-09-01T02:06:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using nltk.3.2.4 with phython 3.6:\r\n\r\nIn [17]: pdb\r\nAutomatic pdb calling has been turned ON\r\n\r\nIn [18]: from nltk.corpus.reader.wordnet import demo\r\n\r\nIn [19]: demo()\r\nloading wordnet\r\ndone loading\r\ngetting a synset for go\r\nmove.v.15 v verb.competition\r\n['move', 'go']\r\nhave a turn; make one's move in a game\r\n['Can I go now?']\r\n[Synset('zap.n.01')]\r\n[Synset('zap.v.01'), Synset('zap.v.02'), Synset('nuke.v.01'), Synset('microwave.v.01')]\r\nNavigations:\r\n\r\n<LOTS MORE STUFF, AND THEN>\r\n\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-21-00cf94af4371> in <module>()\r\n----> 1 demo()\r\n\r\n/Applications/anaconda3/lib/python3.6/site-packages/nltk/corpus/reader/wordnet.py in demo()\r\n   2116     print(S('gin.n.1').substance_holonyms())\r\n   2117 \r\n-> 2118     print(L('leader.n.1.leader').antonyms())\r\n   2119     print(L('increase.v.1.increase').antonyms())\r\n   2120 \r\n\r\n/Applications/anaconda3/lib/python3.6/site-packages/nltk/corpus/reader/wordnet.py in lemma(self, name, lang)\r\n   1244         # cannot simply split on first '.',\r\n   1245         # e.g.: '.45_caliber.a.01..45_caliber'\r\n-> 1246         separator = SENSENUM_RE.search(name).start()\r\n   1247         synset_name, lemma_name = name[:separator+3], name[separator+4:]\r\n   1248         synset = self.synset(synset_name)\r\n\r\nAttributeError: 'NoneType' object has no attribute 'start'\r\n> /Applications/anaconda3/lib/python3.6/site-packages/nltk/corpus/reader/wordnet.py(1246)lemma()\r\n   1244         # cannot simply split on first '.',\r\n   1245         # e.g.: '.45_caliber.a.01..45_caliber'\r\n-> 1246         separator = SENSENUM_RE.search(name).start()\r\n   1247         synset_name, lemma_name = name[:separator+3], name[separator+4:]\r\n   1248         synset = self.synset(synset_name)\r\n\r\nipdb> SENSENUM_RE\r\nre.compile('\\\\.\\\\d\\\\d\\\\.')\r\nipdb> name\r\n'leader.n.1.leader'\r\nipdb> SENSENUM_RE.search(name)\r\nipdb> \r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1787", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1787/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1787/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1787/events", "html_url": "https://github.com/nltk/nltk/issues/1787", "id": 245633657, "node_id": "MDU6SXNzdWUyNDU2MzM2NTc=", "number": 1787, "title": "Failed to download NLTK data: HTTP ERROR 405 / 403", "user": {"login": "matthew-z", "id": 5741303, "node_id": "MDQ6VXNlcjU3NDEzMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/5741303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthew-z", "html_url": "https://github.com/matthew-z", "followers_url": "https://api.github.com/users/matthew-z/followers", "following_url": "https://api.github.com/users/matthew-z/following{/other_user}", "gists_url": "https://api.github.com/users/matthew-z/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthew-z/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthew-z/subscriptions", "organizations_url": "https://api.github.com/users/matthew-z/orgs", "repos_url": "https://api.github.com/users/matthew-z/repos", "events_url": "https://api.github.com/users/matthew-z/events{/privacy}", "received_events_url": "https://api.github.com/users/matthew-z/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356472, "node_id": "MDU6TGFiZWwyOTM1NjQ3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/admin", "name": "admin", "color": "444444", "default": false, "description": null}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 51, "created_at": "2017-07-26T07:43:53Z", "updated_at": "2023-01-12T11:33:46Z", "closed_at": "2019-09-04T11:12:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n>>> nltk.download(\"all\")\r\n[nltk_data] Error loading all: HTTP Error 405: Not allowed.\r\n\r\n>>> nltk.version_info\r\nsys.version_info(major=3, minor=5, micro=2, releaselevel='final', serial=0)\r\n\r\n```\r\n\r\n\r\nAlso, I tried to visit [https://raw.githubusercontent.com/nltk/nltk_data/gh-pages/packages/corpora/cmudict.zip](https://raw.githubusercontent.com/nltk/nltk_data/gh-pages/packages/corpora/cmudict.zip). Got the same HTTP 405 ERROR.\r\n\r\nFind the same problem on stackoverflow: [https://stackoverflow.com/questions/45318066/getting-405-while-trying-to-download-nltk-dta](https://stackoverflow.com/questions/45318066/getting-405-while-trying-to-download-nltk-dta)\r\n\r\n\r\nAny comments would be appreciated.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1787/reactions", "total_count": 12, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 12, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1787/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1765", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1765/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1765/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1765/events", "html_url": "https://github.com/nltk/nltk/issues/1765", "id": 240127794, "node_id": "MDU6SXNzdWUyNDAxMjc3OTQ=", "number": 1765, "title": "How could I inline nltk graph to jupyter notebook?", "user": {"login": "hyzhak", "id": 184706, "node_id": "MDQ6VXNlcjE4NDcwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/184706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hyzhak", "html_url": "https://github.com/hyzhak", "followers_url": "https://api.github.com/users/hyzhak/followers", "following_url": "https://api.github.com/users/hyzhak/following{/other_user}", "gists_url": "https://api.github.com/users/hyzhak/gists{/gist_id}", "starred_url": "https://api.github.com/users/hyzhak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hyzhak/subscriptions", "organizations_url": "https://api.github.com/users/hyzhak/orgs", "repos_url": "https://api.github.com/users/hyzhak/repos", "events_url": "https://api.github.com/users/hyzhak/events{/privacy}", "received_events_url": "https://api.github.com/users/hyzhak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 112364689, "node_id": "MDU6TGFiZWwxMTIzNjQ2ODk=", "url": "https://api.github.com/repos/nltk/nltk/labels/enhancement", "name": "enhancement", "color": "006b75", "default": true, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 416522805, "node_id": "MDU6TGFiZWw0MTY1MjI4MDU=", "url": "https://api.github.com/repos/nltk/nltk/labels/nice%20idea", "name": "nice idea", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-07-03T10:14:27Z", "updated_at": "2021-04-23T13:33:28Z", "closed_at": "2021-04-23T13:33:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have already asked this question on [stackoverflow](https://stackoverflow.com/questions/44880337/use-tkinter-for-nltk-draw-inside-of-jupyter-notebook) without any luck and decide to duplicate it here.\r\n\r\nAccording to [the sources](https://github.com/nltk/nltk/blob/develop/nltk/draw/tree.py#L856) of `nltk` it draws graph by `tkinter (GUI)` but I need to inline this graph to `jupyter notebook`. And I'm trying to do it inside of official docker from [anaconda3](https://github.com/ContinuumIO/docker-images) in other words I don't need any popup GUI here but just image inside of notebook, that should be render on server side by nltk lib.\r\n\r\nHow could I overcome this by nltk? Maybe there is third party libs which could help there? \r\n\r\nSources of my try is [here](https://github.com/hyzhak/nltk-experiments/blob/master/main.ipynb) - the last 18th cell.\r\n\r\n```python\r\nchunkGram = r\"\"\"Chunk: {<RB.?>*<VB.?>*<NNP>+<NN>?}\"\"\"\r\nchunkParser = nltk.RegexpParser(chunkGram)\r\n\r\nfor i in tokenized_text[:5]:\r\n    words = nltk.word_tokenize(i)\r\n    tagged = nltk.pos_tag(words)\r\n    chunked = chunkParser.parse(tagged)\r\n    chunked.draw()\r\n```\r\n\r\nPS:\r\nin the same time matplotlib inline by itself works like a charm. Could I use matplotlib for graph rendering?\r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1765/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1761", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1761/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1761/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1761/events", "html_url": "https://github.com/nltk/nltk/issues/1761", "id": 239212156, "node_id": "MDU6SXNzdWUyMzkyMTIxNTY=", "number": 1761, "title": "MWE tokenizer doesnt support pickling", "user": {"login": "rmdort", "id": 118231, "node_id": "MDQ6VXNlcjExODIzMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/118231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmdort", "html_url": "https://github.com/rmdort", "followers_url": "https://api.github.com/users/rmdort/followers", "following_url": "https://api.github.com/users/rmdort/following{/other_user}", "gists_url": "https://api.github.com/users/rmdort/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmdort/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmdort/subscriptions", "organizations_url": "https://api.github.com/users/rmdort/orgs", "repos_url": "https://api.github.com/users/rmdort/repos", "events_url": "https://api.github.com/users/rmdort/events{/privacy}", "received_events_url": "https://api.github.com/users/rmdort/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-28T15:54:14Z", "updated_at": "2017-12-11T03:06:26Z", "closed_at": "2017-12-11T03:06:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "You can reproduce this as follows on python 2.7.11\r\n\r\n````\r\nfrom nltk.tokenize import MWETokenizer\r\nimport pickle\r\n\r\ntokenizer = MWETokenizer([('a', 'little'), ('a', 'little', 'bit'), ('a', 'lot')])\r\n\r\nwith open('tokenizer.pkl', 'wb') as f:\r\n    pickle.dump(tokenizer, f)\r\n\r\nwith open('tokenizer.pkl', 'rb') as f:\r\n    t = pickle.load(f)\r\n\r\n````\r\n\r\nError that i am getting is\r\n\r\n````\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-47-205693e12b16> in <module>()\r\n      1 with open('tokenizer.pkl', 'rb') as f:\r\n----> 2     t = pickle.load(f)\r\n\r\n/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/pickle.pyc in load(file)\r\n   1382 \r\n   1383 def load(file):\r\n-> 1384     return Unpickler(file).load()\r\n   1385 \r\n   1386 def loads(str):\r\n\r\n/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/pickle.pyc in load(self)\r\n    862             while 1:\r\n    863                 key = read(1)\r\n--> 864                 dispatch[key](self)\r\n    865         except _Stop, stopinst:\r\n    866             return stopinst.value\r\n\r\n/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/pickle.pyc in load_reduce(self)\r\n   1137         args = stack.pop()\r\n   1138         func = stack[-1]\r\n-> 1139         value = func(*args)\r\n   1140         stack[-1] = value\r\n   1141     dispatch[REDUCE] = load_reduce\r\n\r\n/Users/vinay/Sites/nltk_mwe/.env/lib/python2.7/site-packages/nltk/collections.pyc in __init__(self, strings)\r\n    611         defaultdict.__init__(self, Trie)\r\n    612         if strings:\r\n--> 613             for string in strings:\r\n    614                 self.insert(string)\r\n    615 \r\n\r\nTypeError: 'type' object is not iterable\r\n````\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1761/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1751", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1751/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1751/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1751/events", "html_url": "https://github.com/nltk/nltk/pull/1751", "id": 235418540, "node_id": "MDExOlB1bGxSZXF1ZXN0MTI1MjY2OTYz", "number": 1751, "title": "Patch for span_tokenize in TreebankWordTokenizer", "user": {"login": "albertauyeung", "id": 6158823, "node_id": "MDQ6VXNlcjYxNTg4MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/6158823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/albertauyeung", "html_url": "https://github.com/albertauyeung", "followers_url": "https://api.github.com/users/albertauyeung/followers", "following_url": "https://api.github.com/users/albertauyeung/following{/other_user}", "gists_url": "https://api.github.com/users/albertauyeung/gists{/gist_id}", "starred_url": "https://api.github.com/users/albertauyeung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/albertauyeung/subscriptions", "organizations_url": "https://api.github.com/users/albertauyeung/orgs", "repos_url": "https://api.github.com/users/albertauyeung/repos", "events_url": "https://api.github.com/users/albertauyeung/events{/privacy}", "received_events_url": "https://api.github.com/users/albertauyeung/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019200, "node_id": "MDU6TGFiZWwxNDAxOTIwMA==", "url": "https://api.github.com/repos/nltk/nltk/labels/good%20first%20issue", "name": "good first issue", "color": "02e10c", "default": true, "description": ""}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-06-13T02:32:44Z", "updated_at": "2020-02-21T13:10:28Z", "closed_at": "2017-06-13T19:49:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/1751", "html_url": "https://github.com/nltk/nltk/pull/1751", "diff_url": "https://github.com/nltk/nltk/pull/1751.diff", "patch_url": "https://github.com/nltk/nltk/pull/1751.patch", "merged_at": "2017-06-13T19:49:12Z"}, "body": "Ref: #1750 The original code in `span_tokenize `will fail when the input sentence contains double quotation marks. This patch adds additional logic to convert \"converted quotes (e.g. `` and '') back to double quotation before calling `align_tokens`.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1751/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1751/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1750", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1750/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1750/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1750/events", "html_url": "https://github.com/nltk/nltk/issues/1750", "id": 235154540, "node_id": "MDU6SXNzdWUyMzUxNTQ1NDA=", "number": 1750, "title": "span_tokenize failed when sentence contains double quotation", "user": {"login": "albertauyeung", "id": 6158823, "node_id": "MDQ6VXNlcjYxNTg4MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/6158823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/albertauyeung", "html_url": "https://github.com/albertauyeung", "followers_url": "https://api.github.com/users/albertauyeung/followers", "following_url": "https://api.github.com/users/albertauyeung/following{/other_user}", "gists_url": "https://api.github.com/users/albertauyeung/gists{/gist_id}", "starred_url": "https://api.github.com/users/albertauyeung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/albertauyeung/subscriptions", "organizations_url": "https://api.github.com/users/albertauyeung/orgs", "repos_url": "https://api.github.com/users/albertauyeung/repos", "events_url": "https://api.github.com/users/albertauyeung/events{/privacy}", "received_events_url": "https://api.github.com/users/albertauyeung/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tomaarsen", "id": 37621491, "node_id": "MDQ6VXNlcjM3NjIxNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/37621491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaarsen", "html_url": "https://github.com/tomaarsen", "followers_url": "https://api.github.com/users/tomaarsen/followers", "following_url": "https://api.github.com/users/tomaarsen/following{/other_user}", "gists_url": "https://api.github.com/users/tomaarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaarsen/subscriptions", "organizations_url": "https://api.github.com/users/tomaarsen/orgs", "repos_url": "https://api.github.com/users/tomaarsen/repos", "events_url": "https://api.github.com/users/tomaarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2017-06-12T08:13:27Z", "updated_at": "2021-11-06T23:34:16Z", "closed_at": "2021-11-06T23:34:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If we feed in a sentence with double quotation into TreebankWordTokenizer's span_tokenize function, there will be errors. Probably this is because the function sends the raw string input along with the tokenized string to the align_tokens function, without considering that the tokenize function would replace double quotation marks with something else.", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1750/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1750/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1717", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1717/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1717/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1717/events", "html_url": "https://github.com/nltk/nltk/issues/1717", "id": 228196101, "node_id": "MDU6SXNzdWUyMjgxOTYxMDE=", "number": 1717, "title": "LazyCorpusLoader doesn't play well with Zipfile in Python >3.5", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 22487250, "node_id": "MDU6TGFiZWwyMjQ4NzI1MA==", "url": "https://api.github.com/repos/nltk/nltk/labels/python3", "name": "python3", "color": "b3fca6", "default": false, "description": ""}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-12T06:05:25Z", "updated_at": "2017-05-12T06:34:19Z", "closed_at": "2017-05-12T06:28:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "c.f. #1716 \r\n\r\n```python\r\n~/git-stuff/nltk$ python\r\nPython 2.7.13 (default, Dec 18 2016, 07:03:39) \r\n[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.42.1)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from nltk.corpus import panlex_lite\r\n>>> panlex_lite\r\n<PanLexLiteCorpusReader in u'.../corpora/panlex_lite' (not loaded yet)>\r\n>>> exit()\r\n\r\n~/git-stuff/nltk$ python3\r\nPython 3.5.2 (default, Oct 11 2016, 04:59:56) \r\n[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.38)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from nltk.corpus import panlex_lite\r\n>>> panlex_lite\r\n<PanLexLiteCorpusReader in '.../corpora/panlex_lite' (not loaded yet)>\r\n>>> panlex_lite.__getattrs__\r\ncorpora/panlex_lite\r\ncorpora.zip/corpora/panlex_lite\r\ncorpora/panlex_lite.zip/panlex_lite\r\ncorpora/panlex_lite.zip/panlex_lite/\r\nTraceback (most recent call last):\r\n  File \"/Users/liling.tan/git-stuff/nltk/nltk/corpus/util.py\", line 80, in __find\r\n    try: root = nltk.data.find('{}/{}'.format(self.subdir, zip_name))\r\n  File \"/Users/liling.tan/git-stuff/nltk/nltk/data.py\", line 649, in find\r\n    raise LookupError(resource_not_found)\r\nLookupError: \r\n**********************************************************************\r\n  Resource 'corpora/panlex_lite.zip/panlex_lite/' not found.\r\n  Please use the NLTK Downloader to obtain the resource:  >>>\r\n  nltk.download()\r\n  Searched in:\r\n    - '/Users/liling.tan/nltk_data'\r\n    - '/usr/share/nltk_data'\r\n    - '/usr/local/share/nltk_data'\r\n    - '/usr/lib/nltk_data'\r\n    - '/usr/local/lib/nltk_data'\r\n**********************************************************************\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/liling.tan/git-stuff/nltk/nltk/corpus/util.py\", line 121, in __getattr__\r\n    self.__load()\r\n  File \"/Users/liling.tan/git-stuff/nltk/nltk/corpus/util.py\", line 86, in __load\r\n    root = self.__find()\r\n  File \"/Users/liling.tan/git-stuff/nltk/nltk/corpus/util.py\", line 81, in __find\r\n    except LookupError: raise e\r\n  File \"/Users/liling.tan/git-stuff/nltk/nltk/corpus/util.py\", line 78, in __find\r\n    root = nltk.data.find('{}/{}'.format(self.subdir, self.__name))\r\n  File \"/Users/liling.tan/git-stuff/nltk/nltk/data.py\", line 649, in find\r\n    raise LookupError(resource_not_found)\r\nLookupError: \r\n**********************************************************************\r\n  Resource 'corpora/panlex_lite' not found.  Please use the NLTK\r\n  Downloader to obtain the resource:  >>> nltk.download()\r\n  Searched in:\r\n    - '/Users/liling.tan/nltk_data'\r\n    - '/usr/share/nltk_data'\r\n    - '/usr/local/share/nltk_data'\r\n    - '/usr/lib/nltk_data'\r\n    - '/usr/local/lib/nltk_data'\r\n**********************************************************************\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1717/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1717/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1627", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1627/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1627/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1627/events", "html_url": "https://github.com/nltk/nltk/pull/1627", "id": 207683599, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA2MjI2MzA3", "number": 1627, "title": "Reviving mwa_ppdb - WIP (Do not merge)", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 22487250, "node_id": "MDU6TGFiZWwyMjQ4NzI1MA==", "url": "https://api.github.com/repos/nltk/nltk/labels/python3", "name": "python3", "color": "b3fca6", "default": false, "description": ""}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 113906330, "node_id": "MDU6TGFiZWwxMTM5MDYzMzA=", "url": "https://api.github.com/repos/nltk/nltk/labels/SMT", "name": "SMT", "color": "bfdadc", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-02-15T01:17:12Z", "updated_at": "2017-02-21T07:47:32Z", "closed_at": "2017-02-21T07:47:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/1627", "html_url": "https://github.com/nltk/nltk/pull/1627", "diff_url": "https://github.com/nltk/nltk/pull/1627.diff", "patch_url": "https://github.com/nltk/nltk/pull/1627.patch", "merged_at": null}, "body": "From #1606 and #1608, it seems like `nltk` is not downloading the `mwa_ppdb`. \r\n\r\nThe code works fine locally in Python 3.5.2:\r\n\r\n```python\r\n>>> from nltk.corpus.reader import *\r\n>>> from nltk.corpus import LazyCorpusLoader\r\n>>> import nltk\r\n>>> nltk.download('mwa_ppdb')\r\n[nltk_data] Downloading package mwa_ppdb to\r\n[nltk_data]     /Users/liling.tan/nltk_data...\r\n[nltk_data]   Unzipping misc/mwa_ppdb.zip.\r\nTrue\r\n>>> mwa_ppdb = LazyCorpusLoader(\r\n...     'mwa_ppdb', MWAPPDBCorpusReader, r'(?!README|\\.).*', nltk_data_subdir='misc', encoding='utf8')\r\n>>> mwa_ppdb.entries()\r\n```\r\n\r\nBut it's breaking on CI for Python3.5 on https://nltk.ci.cloudbees.com/job/nltk/642/testReport/ leading to https://nltk.ci.cloudbees.com/job/nltk/645/\r\n\r\nI'm debugging what's wrong. I suspect that when jenkin runs the test, it's not unzipping the corpus but nevertheless at the first use of `WordListCorpusReader`, it should automatically extract the content. ", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1627/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1616", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1616/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1616/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1616/events", "html_url": "https://github.com/nltk/nltk/issues/1616", "id": 206383854, "node_id": "MDU6SXNzdWUyMDYzODM4NTQ=", "number": 1616, "title": "MosesTokenizer is skipping the final fullstop.", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019200, "node_id": "MDU6TGFiZWwxNDAxOTIwMA==", "url": "https://api.github.com/repos/nltk/nltk/labels/good%20first%20issue", "name": "good first issue", "color": "02e10c", "default": true, "description": ""}, {"id": 113906330, "node_id": "MDU6TGFiZWwxMTM5MDYzMzA=", "url": "https://api.github.com/repos/nltk/nltk/labels/SMT", "name": "SMT", "color": "bfdadc", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2017-02-09T02:10:54Z", "updated_at": "2017-07-25T07:31:01Z", "closed_at": "2017-05-05T04:24:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "MosesTokenizer is skipping the final fullstop.\r\n\r\n```python\r\n>>> from nltk.tokenize.moses import MosesTokenizer\r\n>>> m = MosesTokenizer()\r\n>>> m.tokenize('abc def.')\r\n[u'abc', u'def.']\r\n>>> m.penn_tokenize('abc def.')\r\n[u'abc', u'def', u'.']\r\n```\r\n\r\nBut MosesTokenizer's penn_tokenize works because of https://github.com/nltk/nltk/blob/develop/nltk/tokenize/moses.py#L103\r\n\r\nWhile the default tokenizer relies on the `handles_nonbreaking_prefixes()` to handle the final fullstop: https://github.com/nltk/nltk/blob/develop/nltk/tokenize/moses.py#L284\r\n\r\nThe conditions at https://github.com/nltk/nltk/blob/develop/nltk/tokenize/moses.py#L274 is wrong since it's not checking what Moses is actually doing on https://github.com/alvations/mosesdecoder/blob/master/scripts/tokenizer/tokenizer.perl#L333\r\n\r\nThe correct implementation should be:\r\n\r\n```python\r\n    def handles_nonbreaking_prefixes(self, text):\r\n        # Splits the text into tokens to check for nonbreaking prefixes.\r\n        tokens = text.split()\r\n        num_tokens = len(tokens)\r\n        for i, token in enumerate(tokens):\r\n            # Checks if token ends with a fullstop.\r\n            token_ends_with_period = re.findall(r'^(\\S+)\\.$', token)\r\n            if token_ends_with_period:\r\n                prefix = token_ends_with_period.group(1)\r\n                # Checks for 3 conditions if\r\n                # i.   the prefix contains a fullstop and\r\n                #      any char in the prefix is within the IsAlpha charset\r\n                # ii.  the prefix is in the list of nonbreaking prefixes and\r\n                #      does not contain #NUMERIC_ONLY#\r\n                # iii. the token is not the last token and that the\r\n                #      next token contains all lowercase.\r\n                if ( ('.' in prefix and self.isalpha(prefix)) or\r\n                     (prefix in self.NONBREAKING_PREFIXES and\r\n                      prefix not in self.NUMERIC_ONLY_PREFIXES) or\r\n                     (i != num_tokens-1 and self.islower(tokens[i+1])) ):\r\n                    pass # No change to the token.\r\n                # Checks if the prefix is in NUMERIC_ONLY_PREFIXES\r\n                # and ensures that the next word is a digit.\r\n                elif (prefix in self.NUMERIC_ONLY_PREFIXES and\r\n                      re.search(r'^[0-9]+', tokens[i+1])):\r\n                    pass # No change to the token.\r\n                else: # Otherwise, adds a space after the tokens before a dot.\r\n                    tokens[i] = prefix + ' .'\r\n        return \" \".join(tokens) # Stitch the tokens back.\r\n```\r\n\r\nAfter the patch:\r\n\r\n```\r\n$ python -c \"from nltk.tokenize.moses import MosesTokenizer; m = MosesTokenizer(); print(m.tokenize('abc def.'))\"\r\n[u'abc', u'def', u'.']\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1616/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1616/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1614", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1614/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1614/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1614/events", "html_url": "https://github.com/nltk/nltk/issues/1614", "id": 206291874, "node_id": "MDU6SXNzdWUyMDYyOTE4NzQ=", "number": 1614, "title": "\"IndexError: string index out of range\" on trying to stem the word \"oing\"", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": true}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718746024, "node_id": "MDU6TGFiZWw3MTg3NDYwMjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/stem/lemma", "name": "stem/lemma", "color": "53bab8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/13", "html_url": "https://github.com/nltk/nltk/milestone/13", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/13/labels", "id": 2813386, "node_id": "MDk6TWlsZXN0b25lMjgxMzM4Ng==", "number": 13, "title": "3.2.6", "description": "", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 57, "state": "closed", "created_at": "2017-10-04T02:47:15Z", "updated_at": "2021-11-28T05:27:23Z", "due_on": "2018-01-20T08:00:00Z", "closed_at": "2019-09-05T01:04:28Z"}, "comments": 5, "created_at": "2017-02-08T19:00:12Z", "updated_at": "2017-10-13T09:00:45Z", "closed_at": "2017-10-13T09:00:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Easy to reproduce:\r\n```python\r\n>>> from nltk import PorterStemmer\r\n>>> stemmer = PorterStemmer()\r\n>>> stemmer.stem('oing')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/peterbe/virtualenvs/songsearch/lib/python3.5/site-packages/nltk/stem/porter.py\", line 665, in stem\r\n    stem = self._step1b(stem)\r\n  File \"/Users/peterbe/virtualenvs/songsearch/lib/python3.5/site-packages/nltk/stem/porter.py\", line 376, in _step1b\r\n    lambda stem: (self._measure(stem) == 1 and\r\n  File \"/Users/peterbe/virtualenvs/songsearch/lib/python3.5/site-packages/nltk/stem/porter.py\", line 258, in _apply_rule_list\r\n    if suffix == '*d' and self._ends_double_consonant(word):\r\n  File \"/Users/peterbe/virtualenvs/songsearch/lib/python3.5/site-packages/nltk/stem/porter.py\", line 214, in _ends_double_consonant\r\n    word[-1] == word[-2] and\r\nIndexError: string index out of range\r\n```\r\n\r\n```\r\n>>> import nltk\r\n>>> nltk.__version__\r\n'3.2.2'\r\n```", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1614/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1614/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1594", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1594/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1594/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1594/events", "html_url": "https://github.com/nltk/nltk/pull/1594", "id": 201382307, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAxOTMwMTQy", "number": 1594, "title": "Fix Stanford parser tests", "user": {"login": "fievelk", "id": 2814672, "node_id": "MDQ6VXNlcjI4MTQ2NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/2814672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fievelk", "html_url": "https://github.com/fievelk", "followers_url": "https://api.github.com/users/fievelk/followers", "following_url": "https://api.github.com/users/fievelk/following{/other_user}", "gists_url": "https://api.github.com/users/fievelk/gists{/gist_id}", "starred_url": "https://api.github.com/users/fievelk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fievelk/subscriptions", "organizations_url": "https://api.github.com/users/fievelk/orgs", "repos_url": "https://api.github.com/users/fievelk/repos", "events_url": "https://api.github.com/users/fievelk/events{/privacy}", "received_events_url": "https://api.github.com/users/fievelk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 486810128, "node_id": "MDU6TGFiZWw0ODY4MTAxMjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/tests", "name": "tests", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fievelk", "id": 2814672, "node_id": "MDQ6VXNlcjI4MTQ2NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/2814672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fievelk", "html_url": "https://github.com/fievelk", "followers_url": "https://api.github.com/users/fievelk/followers", "following_url": "https://api.github.com/users/fievelk/following{/other_user}", "gists_url": "https://api.github.com/users/fievelk/gists{/gist_id}", "starred_url": "https://api.github.com/users/fievelk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fievelk/subscriptions", "organizations_url": "https://api.github.com/users/fievelk/orgs", "repos_url": "https://api.github.com/users/fievelk/repos", "events_url": "https://api.github.com/users/fievelk/events{/privacy}", "received_events_url": "https://api.github.com/users/fievelk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fievelk", "id": 2814672, "node_id": "MDQ6VXNlcjI4MTQ2NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/2814672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fievelk", "html_url": "https://github.com/fievelk", "followers_url": "https://api.github.com/users/fievelk/followers", "following_url": "https://api.github.com/users/fievelk/following{/other_user}", "gists_url": "https://api.github.com/users/fievelk/gists{/gist_id}", "starred_url": "https://api.github.com/users/fievelk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fievelk/subscriptions", "organizations_url": "https://api.github.com/users/fievelk/orgs", "repos_url": "https://api.github.com/users/fievelk/repos", "events_url": "https://api.github.com/users/fievelk/events{/privacy}", "received_events_url": "https://api.github.com/users/fievelk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-01-17T19:29:11Z", "updated_at": "2017-01-18T00:27:41Z", "closed_at": "2017-01-18T00:27:41Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/nltk/nltk/pulls/1594", "html_url": "https://github.com/nltk/nltk/pull/1594", "diff_url": "https://github.com/nltk/nltk/pull/1594.diff", "patch_url": "https://github.com/nltk/nltk/pull/1594.patch", "merged_at": "2017-01-18T00:27:41Z"}, "body": "This PR aims to solve Stanford parser problems related to `stanford-parser.jar` identification and location. This was causing failures when multiple suitable .jar files were available in environment variables (e.g. `CLASSPATH`).", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1594/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1551", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1551/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1551/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1551/events", "html_url": "https://github.com/nltk/nltk/issues/1551", "id": 196632425, "node_id": "MDU6SXNzdWUxOTY2MzI0MjU=", "number": 1551, "title": "nltk.tokenize.moses.py needs quite some re-working and tests", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 113906330, "node_id": "MDU6TGFiZWwxMTM5MDYzMzA=", "url": "https://api.github.com/repos/nltk/nltk/labels/SMT", "name": "SMT", "color": "bfdadc", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 486810128, "node_id": "MDU6TGFiZWw0ODY4MTAxMjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/tests", "name": "tests", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-12-20T10:06:57Z", "updated_at": "2016-12-29T07:59:35Z", "closed_at": "2016-12-29T07:59:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There are several problems that needs to be fixed for `nltk.tokenize.moses` to work properly:\r\n\r\n**Non-well-formed regexes**\r\n\r\nE.g. The missing brackets at https://github.com/nltk/nltk/blob/develop/nltk/tokenize/moses.py#L90 will cause the `nltk.tokenize.moses.penn_tokenize()` function to break:\r\n\r\n```python\r\n$ python -c 'from nltk.tokenize.moses import MosesTokenizer; m = MosesTokenizer(); m.penn_tokenize(\"this aint funny\")'\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"nltk/tokenize/moses.py\", line 299, in penn_tokenize\r\n    text = re.sub(regexp, subsitution, text)\r\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/re.py\", line 155, in sub\r\n    return _compile(pattern, flags).sub(repl, string, count)\r\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/re.py\", line 251, in _compile\r\n    raise error, v # invalid expression\r\nsre_constants.error: unbalanced parenthesis\r\n``` \r\n\r\n**Mising global/local self scoping for `MosesTokenizer` object**\r\n\r\nAt codepoint https://github.com/nltk/nltk/blob/develop/nltk/tokenize/moses.py#L301, local function calling a local object function without `self`, causing: \r\n\r\n```\r\n$ python -c 'from nltk.tokenize.moses import MosesTokenizer; m = MosesTokenizer(); m.penn_tokenize(\"this aint funny\")'\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"nltk/tokenize/moses.py\", line 301, in penn_tokenize\r\n    text = handles_nonbreaking_prefixes(text)\r\nNameError: global name 'handles_nonbreaking_prefixes' is not defined\r\n```\r\n\r\n**Misspelling of variables**\r\n\r\nIt should be `substitution` not `subsitution`, misspelling sprinkled all about the script.\r\n\r\n**Typo in comments** \r\n\r\nIt should be \"tokens\" not \"toknes\" at https://github.com/nltk/nltk/blob/develop/nltk/tokenize/moses.py#L256\r\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1551/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1551/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1510", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1510/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1510/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1510/events", "html_url": "https://github.com/nltk/nltk/issues/1510", "id": 190283963, "node_id": "MDU6SXNzdWUxOTAyODM5NjM=", "number": 1510, "title": "DependencyGraph or Stanford Parser API issues with sentences with \"/\"", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 159235791, "node_id": "MDU6TGFiZWwxNTkyMzU3OTE=", "url": "https://api.github.com/repos/nltk/nltk/labels/dependency%20parsing", "name": "dependency parsing", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/12", "html_url": "https://github.com/nltk/nltk/milestone/12", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/12/labels", "id": 2693584, "node_id": "MDk6TWlsZXN0b25lMjY5MzU4NA==", "number": 12, "title": "3.2.5", "description": "Minor release. ", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "closed", "created_at": "2017-08-10T07:00:28Z", "updated_at": "2017-10-04T03:05:19Z", "due_on": null, "closed_at": "2017-10-04T02:49:47Z"}, "comments": 20, "created_at": "2016-11-18T10:21:47Z", "updated_at": "2021-12-16T04:31:50Z", "closed_at": "2017-10-04T03:05:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "A user has reported that this sentence throws and `AssertionError` when using Stanford's `DependencyParser` API in NLTK for this sentence:\r\n\r\n> for all of its insights into the dream world of teen life , and its electronic expression through cyber culture , the film gives no quarter to anyone seeking to pull a cohesive story out of its 2 1/2-hour running time . \r\n\r\nCode:\r\n\r\n```python\r\n>>> from nltk.parse.stanford import StanfordDependencyParser                                                                                       >>> dep_parser=StanfordDependencyParser(model_path=\"edu/stanford/nlp/models/lexparser/englishPCFG.ser.gz\")                                        \r\n>>> sent = 'for all of its insights into the dream world of teen life , and its electronic expression through cyber culture , the film gives no quarter to anyone seeking to pull a cohesive story out of its 2 1/2-hour running time . '\r\n>>> dep_parser.raw_parse(sent)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Library/Python/2.7/site-packages/nltk/parse/stanford.py\", line 132, in raw_parse\r\n    return next(self.raw_parse_sents([sentence], verbose))\r\n  File \"/Library/Python/2.7/site-packages/nltk/parse/stanford.py\", line 150, in raw_parse_sents\r\n    return self._parse_trees_output(self._execute(cmd, '\\n'.join(sentences), verbose))\r\n  File \"/Library/Python/2.7/site-packages/nltk/parse/stanford.py\", line 91, in _parse_trees_output\r\n    res.append(iter([self._make_tree('\\n'.join(cur_lines))]))\r\n  File \"/Library/Python/2.7/site-packages/nltk/parse/stanford.py\", line 339, in _make_tree\r\n    return DependencyGraph(result, top_relation_label='root')\r\n  File \"/Library/Python/2.7/site-packages/nltk/parse/dependencygraph.py\", line 84, in __init__\r\n    top_relation_label=top_relation_label,\r\n  File \"/Library/Python/2.7/site-packages/nltk/parse/dependencygraph.py\", line 328, in _parse\r\n    assert cell_number == len(cells)\r\nAssertionError\r\n```\r\n\r\nPossibly, it might be how `DependencyGraph` is reading the output or that the Stanford output is inconsistent.  \r\n\r\nMore details on the setup for NLTK + Stanford tools is on https://gist.github.com/alvations/e1df0ba227e542955a8a#stanford-parser", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1510/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1510/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1486", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1486/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1486/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1486/events", "html_url": "https://github.com/nltk/nltk/issues/1486", "id": 184780489, "node_id": "MDU6SXNzdWUxODQ3ODA0ODk=", "number": 1486, "title": "Training on PerceptronTagger with alpino throws TypeError", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718740438, "node_id": "MDU6TGFiZWw3MTg3NDA0Mzg=", "url": "https://api.github.com/repos/nltk/nltk/labels/tagger", "name": "tagger", "color": "a2d4e8", "default": false, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/13", "html_url": "https://github.com/nltk/nltk/milestone/13", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/13/labels", "id": 2813386, "node_id": "MDk6TWlsZXN0b25lMjgxMzM4Ng==", "number": 13, "title": "3.2.6", "description": "", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 57, "state": "closed", "created_at": "2017-10-04T02:47:15Z", "updated_at": "2021-11-28T05:27:23Z", "due_on": "2018-01-20T08:00:00Z", "closed_at": "2019-09-05T01:04:28Z"}, "comments": 1, "created_at": "2016-10-24T08:39:25Z", "updated_at": "2018-04-01T20:39:46Z", "closed_at": "2018-04-01T20:39:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "With `BigramTagger`:\n\n``` python\n>>> from nltk.corpus import alpino as alp\n>>> from nltk.tag import UnigramTagger, BigramTagger\n>>> training_corpus = alp.tagged_sents()\n>>> unitagger = UnigramTagger(training_corpus)\n>>> bitagger = BigramTagger(training_corpus, backoff=unitagger)\n>>> pos_tag = bitagger.tag\n>>> sent = 'NLTK is een goeda taal voor NLP'.split()\n>>> pos_tag(sent)\n[('NLTK', None), ('is', u'verb'), ('een', u'det'), ('goeda', None), ('taal', u'noun'), ('voor', u'prep'), ('NLP', None)]\n```\n\nBut with `PerceptronTagger`:\n\n``` python\n>>> from nltk.tag import PerceptronTagger\n>>> from nltk.corpus import alpino as alp\n>>> training_corpus = alp.tagged_sents()\n>>> tagger = PerceptronTagger(load=False)\n>>> tagger.train(training_corpus)\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Library/Python/2.7/site-packages/nltk/tag/perceptron.py\", line 194, in train\n    random.shuffle(sentences)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/random.py\", line 291, in shuffle\n    x[i], x[j] = x[j], x[i]\nTypeError: 'StreamBackedCorpusView' object does not support item assignment\n```\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1486/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1421", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1421/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1421/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1421/events", "html_url": "https://github.com/nltk/nltk/issues/1421", "id": 161466680, "node_id": "MDU6SXNzdWUxNjE0NjY2ODA=", "number": 1421, "title": "Issues with UnicharsCorpusReader and NonbreakingPrefixesCorpusReader", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-06-21T15:24:00Z", "updated_at": "2016-07-06T06:05:00Z", "closed_at": "2016-07-06T06:05:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For `UnicharsCorpusReader` in Python 2.7, the doctests needs handle the unicode characters properly, see https://nltk.ci.cloudbees.com/job/nltk/TOXENV=py27-jenkins,jdk=jdk8latestOnlineInstall/lastCompletedBuild/testReport/nltk.corpus.reader.wordlist/UnicharsCorpusReader/chars/\n\nFor `NonbreakingPrefixesCorpusReader` in Python 3.5, something funky is going on with how the paths are read and NLTK is looking for `'corpora/nonbreaking_prefixes.zip/nonbreaking_prefixes/'` instead of `'corpora/nonbreaking_prefixes.zip` or `'corpora/nonbreaking_prefixes/'`, see https://nltk.ci.cloudbees.com/job/nltk/TOXENV=py35-jenkins,jdk=jdk8latestOnlineInstall/lastCompletedBuild/testReport/nltk.corpus.reader.wordlist/NonbreakingPrefixesCorpusReader/words/\n\nSame for `UnicharsCorpusReader`  in Python 3.5.\n\n@alvations, please take a look at this.\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1421/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1421/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1336", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1336/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1336/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1336/events", "html_url": "https://github.com/nltk/nltk/issues/1336", "id": 141330117, "node_id": "MDU6SXNzdWUxNDEzMzAxMTc=", "number": 1336, "title": "ZeroDivisionError when computing Krippendorff's alpha", "user": {"login": "WladimirSidorenko", "id": 1080754, "node_id": "MDQ6VXNlcjEwODA3NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1080754?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WladimirSidorenko", "html_url": "https://github.com/WladimirSidorenko", "followers_url": "https://api.github.com/users/WladimirSidorenko/followers", "following_url": "https://api.github.com/users/WladimirSidorenko/following{/other_user}", "gists_url": "https://api.github.com/users/WladimirSidorenko/gists{/gist_id}", "starred_url": "https://api.github.com/users/WladimirSidorenko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WladimirSidorenko/subscriptions", "organizations_url": "https://api.github.com/users/WladimirSidorenko/orgs", "repos_url": "https://api.github.com/users/WladimirSidorenko/repos", "events_url": "https://api.github.com/users/WladimirSidorenko/events{/privacy}", "received_events_url": "https://api.github.com/users/WladimirSidorenko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/13", "html_url": "https://github.com/nltk/nltk/milestone/13", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/13/labels", "id": 2813386, "node_id": "MDk6TWlsZXN0b25lMjgxMzM4Ng==", "number": 13, "title": "3.2.6", "description": "", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 57, "state": "closed", "created_at": "2017-10-04T02:47:15Z", "updated_at": "2021-11-28T05:27:23Z", "due_on": "2018-01-20T08:00:00Z", "closed_at": "2019-09-05T01:04:28Z"}, "comments": 2, "created_at": "2016-03-16T16:39:15Z", "updated_at": "2017-11-03T09:07:05Z", "closed_at": "2017-11-03T09:07:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "(1) Steps to reproduce:\n\n``` python\n    from nltk.metrics.agreement import AnnotationTask\n    atask = AnnotationTask(data=[('c1', '1', 1),('c2', '1', 1)])\n    atask.alpha()\n```\n\n(2) Error:\n\n``` python\n    Traceback (most recent call last):\n      File \"<stdin>\", line 1, in <module>\n      File \"/home/sidorenko/.local/lib/python2.7/site-packages/nltk/metrics/agreement.py\", line 316, in alpha\n        ret = 1.0 - (self.Do_alpha() / De)\n    ZeroDivisionError: float division by zero\n```\n\n(3) Expected return value:\n\n```\n    1.\n```\n\n(4) System information:\n\n```\n    nltk.__version__: '3.0.5'\n    python --version: Python 2.7.6\n    uname -srm: Linux 3.19.0-42-generic x86_64\n```\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1336/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1324", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1324/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1324/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1324/events", "html_url": "https://github.com/nltk/nltk/issues/1324", "id": 139438955, "node_id": "MDU6SXNzdWUxMzk0Mzg5NTU=", "number": 1324, "title": "ParentedTree breaks deepcopy", "user": {"login": "josepvalls", "id": 827457, "node_id": "MDQ6VXNlcjgyNzQ1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/827457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/josepvalls", "html_url": "https://github.com/josepvalls", "followers_url": "https://api.github.com/users/josepvalls/followers", "following_url": "https://api.github.com/users/josepvalls/following{/other_user}", "gists_url": "https://api.github.com/users/josepvalls/gists{/gist_id}", "starred_url": "https://api.github.com/users/josepvalls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josepvalls/subscriptions", "organizations_url": "https://api.github.com/users/josepvalls/orgs", "repos_url": "https://api.github.com/users/josepvalls/repos", "events_url": "https://api.github.com/users/josepvalls/events{/privacy}", "received_events_url": "https://api.github.com/users/josepvalls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 22487250, "node_id": "MDU6TGFiZWwyMjQ4NzI1MA==", "url": "https://api.github.com/repos/nltk/nltk/labels/python3", "name": "python3", "color": "b3fca6", "default": false, "description": ""}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718785550, "node_id": "MDU6TGFiZWw3MTg3ODU1NTA=", "url": "https://api.github.com/repos/nltk/nltk/labels/pythonic", "name": "pythonic", "color": "66e88d", "default": false, "description": null}, {"id": 738078305, "node_id": "MDU6TGFiZWw3MzgwNzgzMDU=", "url": "https://api.github.com/repos/nltk/nltk/labels/python2.7", "name": "python2.7", "color": "7be833", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-03-09T00:50:03Z", "updated_at": "2021-11-12T13:31:54Z", "closed_at": "2021-11-12T13:31:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can deepcopy Tree but not ParentedTree, not sure if may be related to this: https://github.com/nltk/nltk/issues/130\n\n> > > from nltk.tree import Tree,ParentedTree\n> > > t1 = Tree.fromstring(\"(TOP (S (NP (NNP Bell,)) (NP (NP (DT a) (NN company)) (SBAR (WHNP (WDT which)) (S (VP (VBZ is) (VP (VBN based) (PP (IN in) (NP (NNP LA,)))))))) (VP (VBZ makes) (CC and) (VBZ distributes) (NP (NN computer))) (. products.)))\")\n> > > t2 = copy.deepcopy(t1)\n> > > t3 = ParentedTree.fromstring(\"(TOP (S (NP (NNP Bell,)) (NP (NP (DT a) (NN company)) (SBAR (WHNP (WDT which)) (S (VP (VBZ is) (VP (VBN based) (PP (IN in) (NP (NNP LA,)))))))) (VP (VBZ makes) (CC and) (VBZ distributes) (NP (NN computer))) (. products.)))\")\n> > > import copy\n> > > t4 = copy.deepcopy(t3)\n> > > Traceback (most recent call last):\n> > >   File \"<input>\", line 1, in <module>\n> > >   File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 190, in deepcopy\n> > >     y = _reconstruct(x, rv, 1, memo)\n> > >   File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 351, in _reconstruct\n> > >     item = deepcopy(item, memo)\n> > >   File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 190, in deepcopy\n> > >     y = _reconstruct(x, rv, 1, memo)\n> > >   File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 351, in _reconstruct\n> > >     item = deepcopy(item, memo)\n> > >   File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 190, in deepcopy\n> > >     y = _reconstruct(x, rv, 1, memo)\n> > >   File \"/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py\", line 352, in _reconstruct\n> > >     y.append(item)\n> > >   File \"/usr/local/lib/python2.7/site-packages/nltk/tree.py\", line 1061, in append\n> > >     self._setparent(child, len(self))\n> > >   File \"/usr/local/lib/python2.7/site-packages/nltk/tree.py\", line 1221, in _setparent\n> > >     raise ValueError('Can not insert a subtree that already '\n> > > ValueError: Can not insert a subtree that already has a parent.\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1324/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1324/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1258", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1258/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1258/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1258/events", "html_url": "https://github.com/nltk/nltk/issues/1258", "id": 127653048, "node_id": "MDU6SXNzdWUxMjc2NTMwNDg=", "number": 1258, "title": "Potential wordnet lemmatization issue", "user": {"login": "Fiedzia", "id": 240435, "node_id": "MDQ6VXNlcjI0MDQzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/240435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fiedzia", "html_url": "https://github.com/Fiedzia", "followers_url": "https://api.github.com/users/Fiedzia/followers", "following_url": "https://api.github.com/users/Fiedzia/following{/other_user}", "gists_url": "https://api.github.com/users/Fiedzia/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fiedzia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fiedzia/subscriptions", "organizations_url": "https://api.github.com/users/Fiedzia/orgs", "repos_url": "https://api.github.com/users/Fiedzia/repos", "events_url": "https://api.github.com/users/Fiedzia/events{/privacy}", "received_events_url": "https://api.github.com/users/Fiedzia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-20T10:33:09Z", "updated_at": "2019-09-04T11:12:55Z", "closed_at": "2019-09-04T11:12:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am not sure if its an issue with wordnet corpus or with nltk or my way of using it, but I've found one case where I am not getting expected result:\n~/nltk_data/corpora/wordnet/noun.exc contain this line:\nantae anta\n\nwhere (according to wikipedia) anta is singular and antae plural.\nyet this code:\n\nfrom nltk.stem import WordNetLemmatizer\nwnl = WordNetLemmatizer()\nprint(wnl.lemmatize('antae'))\n\nprints antae, not anta.\nsame goes for antalkalies -> antalkali\nbut antefixa -> antefix works fine.\n\nIs it a bug (and where?) or I am wrong expecting it to be lemmatized this way?\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1258/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1255", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1255/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1255/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1255/events", "html_url": "https://github.com/nltk/nltk/issues/1255", "id": 127222058, "node_id": "MDU6SXNzdWUxMjcyMjIwNTg=", "number": 1255, "title": "Printing to postscript error", "user": {"login": "hack1nt0", "id": 5208653, "node_id": "MDQ6VXNlcjUyMDg2NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5208653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hack1nt0", "html_url": "https://github.com/hack1nt0", "followers_url": "https://api.github.com/users/hack1nt0/followers", "following_url": "https://api.github.com/users/hack1nt0/following{/other_user}", "gists_url": "https://api.github.com/users/hack1nt0/gists{/gist_id}", "starred_url": "https://api.github.com/users/hack1nt0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hack1nt0/subscriptions", "organizations_url": "https://api.github.com/users/hack1nt0/orgs", "repos_url": "https://api.github.com/users/hack1nt0/repos", "events_url": "https://api.github.com/users/hack1nt0/events{/privacy}", "received_events_url": "https://api.github.com/users/hack1nt0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 719374994, "node_id": "MDU6TGFiZWw3MTkzNzQ5OTQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/GUI", "name": "GUI", "color": "f9b3d9", "default": false, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/13", "html_url": "https://github.com/nltk/nltk/milestone/13", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/13/labels", "id": 2813386, "node_id": "MDk6TWlsZXN0b25lMjgxMzM4Ng==", "number": 13, "title": "3.2.6", "description": "", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 57, "state": "closed", "created_at": "2017-10-04T02:47:15Z", "updated_at": "2021-11-28T05:27:23Z", "due_on": "2018-01-20T08:00:00Z", "closed_at": "2019-09-05T01:04:28Z"}, "comments": 3, "created_at": "2016-01-18T13:00:40Z", "updated_at": "2019-09-07T00:57:06Z", "closed_at": "2019-09-07T00:57:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I draw a syntax tree with tree.draw(), which is below:\n\n![2016-01-18 8 56 33](https://cloud.githubusercontent.com/assets/5208653/12391905/0683e8a8-be26-11e5-85f7-fba3b98c1626.png)\n\nBut after i save it as a ps file using 'File --> Print to Postscript', I get below:\n\n![2016-01-18 8 58 20](https://cloud.githubusercontent.com/assets/5208653/12391934/3f2fa23c-be26-11e5-9494-36cd0e99427d.png)\n\nSo what is wrong with it?? can somebody help me?\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1255/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1209", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1209/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1209/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1209/events", "html_url": "https://github.com/nltk/nltk/issues/1209", "id": 118214487, "node_id": "MDU6SXNzdWUxMTgyMTQ0ODc=", "number": 1209, "title": "Integer division issue in python 3 for texttiling", "user": {"login": "arranger1044", "id": 375796, "node_id": "MDQ6VXNlcjM3NTc5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/375796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arranger1044", "html_url": "https://github.com/arranger1044", "followers_url": "https://api.github.com/users/arranger1044/followers", "following_url": "https://api.github.com/users/arranger1044/following{/other_user}", "gists_url": "https://api.github.com/users/arranger1044/gists{/gist_id}", "starred_url": "https://api.github.com/users/arranger1044/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arranger1044/subscriptions", "organizations_url": "https://api.github.com/users/arranger1044/orgs", "repos_url": "https://api.github.com/users/arranger1044/repos", "events_url": "https://api.github.com/users/arranger1044/events{/privacy}", "received_events_url": "https://api.github.com/users/arranger1044/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 22487250, "node_id": "MDU6TGFiZWwyMjQ4NzI1MA==", "url": "https://api.github.com/repos/nltk/nltk/labels/python3", "name": "python3", "color": "b3fca6", "default": false, "description": ""}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 739448068, "node_id": "MDU6TGFiZWw3Mzk0NDgwNjg=", "url": "https://api.github.com/repos/nltk/nltk/labels/resolved", "name": "resolved", "color": "2375af", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/13", "html_url": "https://github.com/nltk/nltk/milestone/13", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/13/labels", "id": 2813386, "node_id": "MDk6TWlsZXN0b25lMjgxMzM4Ng==", "number": 13, "title": "3.2.6", "description": "", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 57, "state": "closed", "created_at": "2017-10-04T02:47:15Z", "updated_at": "2021-11-28T05:27:23Z", "due_on": "2018-01-20T08:00:00Z", "closed_at": "2019-09-05T01:04:28Z"}, "comments": 3, "created_at": "2015-11-21T18:54:42Z", "updated_at": "2017-12-11T02:58:57Z", "closed_at": "2017-12-11T02:58:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "When computing the clip index under python 3, when calling the `tokenize` method of a `TextTilingTokenizer`, I receive the sequent error:\n\n```\n/usr/local/lib/python3.4/dist-packages/nltk/tokenize/texttiling.py in tokenize(self, text)\n    125 \n    126         # Boundary identification\n--> 127         depth_scores = self._depth_scores(smooth_scores)\n    128         segment_boundaries = self._identify_boundaries(depth_scores)\n    129 \n\n/usr/local/lib/python3.4/dist-packages/nltk/tokenize/texttiling.py in _depth_scores(self, scores)\n    316         index = clip\n    317 \n--> 318         for gapscore in scores[clip:-clip]:\n    319             lpeak = gapscore\n    320             for score in scores[index::-1]:\n\nTypeError: slice indices must be integers or None or have an __index__ method\n```\n\nFrom what I can see from the source code it may happen that the clip index is indeed a floating point and not an integer:\n\n```\ndef _depth_scores(self, scores):\n        \"\"\"Calculates the depth of each gap, i.e. the average difference\n        between the left and right peaks and the gap's score\"\"\"\n\n        depth_scores = [0 for x in scores]\n        #clip boundaries: this holds on the rule of thumb(my thumb)\n        #that a section shouldn't be smaller than at least 2\n        #pseudosentences for small texts and around 5 for larger ones.\n\n        clip = min(max(len(scores)/10, 2), 5)\n```\n\nCan someone confirm this?\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1209/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1201", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1201/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1201/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1201/events", "html_url": "https://github.com/nltk/nltk/issues/1201", "id": 116106435, "node_id": "MDU6SXNzdWUxMTYxMDY0MzU=", "number": 1201, "title": "OS X: interactive downloader handles \"natural\" scrolling option backwards", "user": {"login": "alexisdimi", "id": 1406835, "node_id": "MDQ6VXNlcjE0MDY4MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1406835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexisdimi", "html_url": "https://github.com/alexisdimi", "followers_url": "https://api.github.com/users/alexisdimi/followers", "following_url": "https://api.github.com/users/alexisdimi/following{/other_user}", "gists_url": "https://api.github.com/users/alexisdimi/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexisdimi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexisdimi/subscriptions", "organizations_url": "https://api.github.com/users/alexisdimi/orgs", "repos_url": "https://api.github.com/users/alexisdimi/repos", "events_url": "https://api.github.com/users/alexisdimi/events{/privacy}", "received_events_url": "https://api.github.com/users/alexisdimi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 416522805, "node_id": "MDU6TGFiZWw0MTY1MjI4MDU=", "url": "https://api.github.com/repos/nltk/nltk/labels/nice%20idea", "name": "nice idea", "color": "fef2c0", "default": false, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-11-10T13:31:05Z", "updated_at": "2019-09-04T11:12:55Z", "closed_at": "2019-09-04T11:12:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On OS X, there is a system-wide setting (System Preferences > Trackpad > Scroll and Zoom > Scroll direction: natural) that controls the way scrolling works. \"Natural\" (the default, I believe) is pinch-like: when the pointer moves down, the text \"scrolls up\", i.e., the viewport moves toward the start of the content. When \"natural\" scrolling is disabled, text moves in the opposite direction (in the more familiar Windows and Linux manner).\n\nThe nltk downloader has somehow gotten it backwards: With either setting of this system option, lists will scroll in the opposite direction of all other applications.\n\nEnvironment: OS X Mountain Lion, NLTK 3.0.2, Python 3.4.3 from Anaconda 2.2.0 (x86_64).\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1201/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1184", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1184/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1184/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1184/events", "html_url": "https://github.com/nltk/nltk/issues/1184", "id": 114570695, "node_id": "MDU6SXNzdWUxMTQ1NzA2OTU=", "number": 1184, "title": "Getting a wrong synsets", "user": {"login": "mhjabreel", "id": 9088025, "node_id": "MDQ6VXNlcjkwODgwMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9088025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mhjabreel", "html_url": "https://github.com/mhjabreel", "followers_url": "https://api.github.com/users/mhjabreel/followers", "following_url": "https://api.github.com/users/mhjabreel/following{/other_user}", "gists_url": "https://api.github.com/users/mhjabreel/gists{/gist_id}", "starred_url": "https://api.github.com/users/mhjabreel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mhjabreel/subscriptions", "organizations_url": "https://api.github.com/users/mhjabreel/orgs", "repos_url": "https://api.github.com/users/mhjabreel/repos", "events_url": "https://api.github.com/users/mhjabreel/events{/privacy}", "received_events_url": "https://api.github.com/users/mhjabreel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-11-02T10:50:12Z", "updated_at": "2017-01-04T22:19:16Z", "closed_at": "2017-01-04T20:43:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, all,\n\nI have tried to calculate the semantic similarity between \"flower\" and \"stamina\", but I have got a wrong result. after checking the reason I have relaised  that the wrong result because the synsets of \"stamina\" that I have obtained using NLTK are \"Stamina\" and \"Stamen\", but when I have searched about this in wordnet I have found only one synset which is \"Stamina\".\n\ncould you please fix this issue ?\n\nThanks,\n\nMohammed \n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1184/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1182", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1182/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1182/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1182/events", "html_url": "https://github.com/nltk/nltk/issues/1182", "id": 113846608, "node_id": "MDU6SXNzdWUxMTM4NDY2MDg=", "number": 1182, "title": "Word attribute in DependencyGraph TOP node", "user": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "dimazest", "id": 885751, "node_id": "MDQ6VXNlcjg4NTc1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/885751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimazest", "html_url": "https://github.com/dimazest", "followers_url": "https://api.github.com/users/dimazest/followers", "following_url": "https://api.github.com/users/dimazest/following{/other_user}", "gists_url": "https://api.github.com/users/dimazest/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimazest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimazest/subscriptions", "organizations_url": "https://api.github.com/users/dimazest/orgs", "repos_url": "https://api.github.com/users/dimazest/repos", "events_url": "https://api.github.com/users/dimazest/events{/privacy}", "received_events_url": "https://api.github.com/users/dimazest/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dimazest", "id": 885751, "node_id": "MDQ6VXNlcjg4NTc1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/885751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimazest", "html_url": "https://github.com/dimazest", "followers_url": "https://api.github.com/users/dimazest/followers", "following_url": "https://api.github.com/users/dimazest/following{/other_user}", "gists_url": "https://api.github.com/users/dimazest/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimazest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimazest/subscriptions", "organizations_url": "https://api.github.com/users/dimazest/orgs", "repos_url": "https://api.github.com/users/dimazest/repos", "events_url": "https://api.github.com/users/dimazest/events{/privacy}", "received_events_url": "https://api.github.com/users/dimazest/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/9", "html_url": "https://github.com/nltk/nltk/milestone/9", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/9/labels", "id": 1338521, "node_id": "MDk6TWlsZXN0b25lMTMzODUyMQ==", "number": 9, "title": "3.3", "description": "", "creator": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 50, "state": "closed", "created_at": "2015-10-05T15:44:23Z", "updated_at": "2019-09-07T01:00:53Z", "due_on": null, "closed_at": "2019-09-05T01:04:35Z"}, "comments": 3, "created_at": "2015-10-28T15:23:33Z", "updated_at": "2019-08-22T04:13:32Z", "closed_at": "2019-08-22T04:13:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As reported in https://groups.google.com/forum/#!topic/nltk-users/C7e-jRdeVtM, there seems to be a bug caused by the fact that the added TOP node has no value for its `word` attribute:\n\n```\nimport nltk\nfrom nltk.parse import DependencyGraph\nfrom collections import defaultdict\n\ndef from_sentence(sent):\n    tokens = nltk.word_tokenize(sent)\n    tagged = nltk.pos_tag(tokens)\n\n    dg = DependencyGraph()\n    for (index, (word, tag)) in enumerate(tagged):\n        dg.nodes[index + 1] = {\n            'word': word,\n            'lemma': '_',\n            'ctag': tag,\n            'tag': tag,\n            'feats': '_',\n            'rel': '_',\n            'deps': defaultdict(),\n            'head': '_',\n            'address': index + 1,\n        }\n    dg.connect_graph()\n    return dg\n\ndg = from_sentence(\"Natural Language Processing is really fun.\")\ntree = dg.tree()\ntree.pprint()\n\nError, \nTraceback (most recent call last):\n...........\n tree = dg.tree() \n  File \"C:\\Python27\\lib\\site-packages\\nltk\\parse\\dependencygraph.py\", line 340, in tree \n    word = node['word'] \nTypeError: 'NoneType' object has no attribute '__getitem__' \n```\n\nThe same error happens with:\n\n```\nfor val in dg.triples():\n    print val\n```\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1182/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1144", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1144/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1144/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1144/events", "html_url": "https://github.com/nltk/nltk/issues/1144", "id": 108513020, "node_id": "MDU6SXNzdWUxMDg1MTMwMjA=", "number": 1144, "title": "krippendorff alpha with MASI distance", "user": {"login": "vaskonov", "id": 5932239, "node_id": "MDQ6VXNlcjU5MzIyMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/5932239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vaskonov", "html_url": "https://github.com/vaskonov", "followers_url": "https://api.github.com/users/vaskonov/followers", "following_url": "https://api.github.com/users/vaskonov/following{/other_user}", "gists_url": "https://api.github.com/users/vaskonov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vaskonov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vaskonov/subscriptions", "organizations_url": "https://api.github.com/users/vaskonov/orgs", "repos_url": "https://api.github.com/users/vaskonov/repos", "events_url": "https://api.github.com/users/vaskonov/events{/privacy}", "received_events_url": "https://api.github.com/users/vaskonov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-27T04:44:36Z", "updated_at": "2019-08-22T04:17:32Z", "closed_at": "2019-08-22T04:17:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nThere is a problem with calculating krippendorff alpha with MASI distance.\n\n```\nimport nltk\nfrom nltk.metrics import masi_distance\ndata = [['1', 5723, frozenset([2,3])],['2', 5723, frozenset([2,3])]]\ntask = nltk.metrics.agreement.AnnotationTask(data=data, distance=masi_distance)\nprint task.alpha()\n```\n\nThe above fails with error message\n\n```\nret = 1.0 - (self.Do_alpha() / De)\nZeroDivisionError: float division by zero\n```\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1144/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1033", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1033/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1033/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1033/events", "html_url": "https://github.com/nltk/nltk/issues/1033", "id": 92824391, "node_id": "MDU6SXNzdWU5MjgyNDM5MQ==", "number": 1033, "title": "AbstractCollocationFinder from_documents() issues", "user": {"login": "fievelk", "id": 2814672, "node_id": "MDQ6VXNlcjI4MTQ2NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/2814672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fievelk", "html_url": "https://github.com/fievelk", "followers_url": "https://api.github.com/users/fievelk/followers", "following_url": "https://api.github.com/users/fievelk/following{/other_user}", "gists_url": "https://api.github.com/users/fievelk/gists{/gist_id}", "starred_url": "https://api.github.com/users/fievelk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fievelk/subscriptions", "organizations_url": "https://api.github.com/users/fievelk/orgs", "repos_url": "https://api.github.com/users/fievelk/repos", "events_url": "https://api.github.com/users/fievelk/events{/privacy}", "received_events_url": "https://api.github.com/users/fievelk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "longdt219", "id": 7554260, "node_id": "MDQ6VXNlcjc1NTQyNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7554260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/longdt219", "html_url": "https://github.com/longdt219", "followers_url": "https://api.github.com/users/longdt219/followers", "following_url": "https://api.github.com/users/longdt219/following{/other_user}", "gists_url": "https://api.github.com/users/longdt219/gists{/gist_id}", "starred_url": "https://api.github.com/users/longdt219/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/longdt219/subscriptions", "organizations_url": "https://api.github.com/users/longdt219/orgs", "repos_url": "https://api.github.com/users/longdt219/repos", "events_url": "https://api.github.com/users/longdt219/events{/privacy}", "received_events_url": "https://api.github.com/users/longdt219/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "longdt219", "id": 7554260, "node_id": "MDQ6VXNlcjc1NTQyNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7554260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/longdt219", "html_url": "https://github.com/longdt219", "followers_url": "https://api.github.com/users/longdt219/followers", "following_url": "https://api.github.com/users/longdt219/following{/other_user}", "gists_url": "https://api.github.com/users/longdt219/gists{/gist_id}", "starred_url": "https://api.github.com/users/longdt219/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/longdt219/subscriptions", "organizations_url": "https://api.github.com/users/longdt219/orgs", "repos_url": "https://api.github.com/users/longdt219/repos", "events_url": "https://api.github.com/users/longdt219/events{/privacy}", "received_events_url": "https://api.github.com/users/longdt219/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/9", "html_url": "https://github.com/nltk/nltk/milestone/9", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/9/labels", "id": 1338521, "node_id": "MDk6TWlsZXN0b25lMTMzODUyMQ==", "number": 9, "title": "3.3", "description": "", "creator": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 50, "state": "closed", "created_at": "2015-10-05T15:44:23Z", "updated_at": "2019-09-07T01:00:53Z", "due_on": null, "closed_at": "2019-09-05T01:04:35Z"}, "comments": 6, "created_at": "2015-07-03T08:40:49Z", "updated_at": "2017-10-13T21:34:38Z", "closed_at": "2017-10-13T21:34:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If we pass a set of documents (e.g. tweets) to the `from_documents()` method we also get bigrams that never appeared in any document. This is due to `_itertools.chain(*documents)`, which collapses all the documents (so we end up with a single big document and we extract _its_ bigrams).\n\n```\ndef from_documents(cls, documents):\n    \"\"\"Constructs a collocation finder given a collection of documents,\n    each of which is a list (or iterable) of tokens.\n    \"\"\"\n    return cls.from_words(_itertools.chain(*documents))\n```\n\nFor example,using a list of two documents:\n\n```\ndocs = [['I','am','a','farmer'], ['Newspapers','are','interesting']]\n\nfinder = BigramCollocationFinder.from_documents(docs)\nfinder.nbest(BigramAssocMeasures.raw_freq, 10)\n\n>>> [('I', 'am'), ('Newspapers', 'are'), ('a', 'farmer'), ('am', 'a'), ('are', 'interesting'), ('farmer', 'Newspapers')]\n```\n\nSo the method will also generate the bigram `('farmer', 'Newspapers')`, which actually never occurs in the documents. \n\nCon we consider it as an issue?\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1033/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1030", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1030/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1030/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1030/events", "html_url": "https://github.com/nltk/nltk/issues/1030", "id": 91869211, "node_id": "MDU6SXNzdWU5MTg2OTIxMQ==", "number": 1030, "title": "Bug in WordNet wup_similarity for same-synset comparisons", "user": {"login": "davidjurgens", "id": 978477, "node_id": "MDQ6VXNlcjk3ODQ3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/978477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidjurgens", "html_url": "https://github.com/davidjurgens", "followers_url": "https://api.github.com/users/davidjurgens/followers", "following_url": "https://api.github.com/users/davidjurgens/following{/other_user}", "gists_url": "https://api.github.com/users/davidjurgens/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidjurgens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidjurgens/subscriptions", "organizations_url": "https://api.github.com/users/davidjurgens/orgs", "repos_url": "https://api.github.com/users/davidjurgens/repos", "events_url": "https://api.github.com/users/davidjurgens/events{/privacy}", "received_events_url": "https://api.github.com/users/davidjurgens/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019200, "node_id": "MDU6TGFiZWwxNDAxOTIwMA==", "url": "https://api.github.com/repos/nltk/nltk/labels/good%20first%20issue", "name": "good first issue", "color": "02e10c", "default": true, "description": ""}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/12", "html_url": "https://github.com/nltk/nltk/milestone/12", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/12/labels", "id": 2693584, "node_id": "MDk6TWlsZXN0b25lMjY5MzU4NA==", "number": 12, "title": "3.2.5", "description": "Minor release. ", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "closed", "created_at": "2017-08-10T07:00:28Z", "updated_at": "2017-10-04T03:05:19Z", "due_on": null, "closed_at": "2017-10-04T02:49:47Z"}, "comments": 2, "created_at": "2015-06-29T18:04:41Z", "updated_at": "2017-08-16T23:25:14Z", "closed_at": "2017-08-16T23:25:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "The implementation of the Wu & Palmer similarity function WordNet seems to report an incorrect value when comparing a synset to itself.\n\n``` python\nfrom nltk.corpus import wordnet as wn\nsyn1 = wn.synset('bread.n.1')\nsyn1.wup_similarity(syn1) # yields 1.0 as expected\nsyn1 = wn.synset('dog.n.1')\nsyn1.wup_similarity(syn1) # yields 0.9285714285714286\n```\n\nFor the second dog.n.1 comparison, [WordNet::Similarity](http://maraca.d.umn.edu/cgi-bin/similarity/similarity.cgi?word1=dog%23n%231&senses1=synset&word2=dog%23n%231&senses2=synset&measure=wup&rootnode=yes) gives the correct similarity of 1.0, as does [WS4J](http://ws4jdemo.appspot.com/?mode=w&s1=&w1=dog%23n%231&s2=&w2=dog%23n%231) (though the latter has its own bugs too)\n\nI see the above results when using python 2.7.5,  NLTK 3.0.3, and WordNet 3.0\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1030/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/1001", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/1001/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/1001/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/1001/events", "html_url": "https://github.com/nltk/nltk/issues/1001", "id": 84780193, "node_id": "MDU6SXNzdWU4NDc4MDE5Mw==", "number": 1001, "title": "cannot import word2vec_sample", "user": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "longdt219", "id": 7554260, "node_id": "MDQ6VXNlcjc1NTQyNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7554260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/longdt219", "html_url": "https://github.com/longdt219", "followers_url": "https://api.github.com/users/longdt219/followers", "following_url": "https://api.github.com/users/longdt219/following{/other_user}", "gists_url": "https://api.github.com/users/longdt219/gists{/gist_id}", "starred_url": "https://api.github.com/users/longdt219/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/longdt219/subscriptions", "organizations_url": "https://api.github.com/users/longdt219/orgs", "repos_url": "https://api.github.com/users/longdt219/repos", "events_url": "https://api.github.com/users/longdt219/events{/privacy}", "received_events_url": "https://api.github.com/users/longdt219/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "longdt219", "id": 7554260, "node_id": "MDQ6VXNlcjc1NTQyNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7554260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/longdt219", "html_url": "https://github.com/longdt219", "followers_url": "https://api.github.com/users/longdt219/followers", "following_url": "https://api.github.com/users/longdt219/following{/other_user}", "gists_url": "https://api.github.com/users/longdt219/gists{/gist_id}", "starred_url": "https://api.github.com/users/longdt219/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/longdt219/subscriptions", "organizations_url": "https://api.github.com/users/longdt219/orgs", "repos_url": "https://api.github.com/users/longdt219/repos", "events_url": "https://api.github.com/users/longdt219/events{/privacy}", "received_events_url": "https://api.github.com/users/longdt219/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/8", "html_url": "https://github.com/nltk/nltk/milestone/8", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/8/labels", "id": 1114552, "node_id": "MDk6TWlsZXN0b25lMTExNDU1Mg==", "number": 8, "title": "3.0.5", "description": "The last version to support Python 2.6; only important bugfixes will be applied to this.", "creator": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2015-05-18T03:18:05Z", "updated_at": "2015-09-08T01:24:08Z", "due_on": "2015-09-04T07:00:00Z", "closed_at": "2015-09-08T01:24:08Z"}, "comments": 1, "created_at": "2015-06-03T21:33:42Z", "updated_at": "2015-08-07T04:36:46Z", "closed_at": "2015-08-07T04:36:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The gensim example has an import problem on the CI server:\n\n```\nFile \"/scratch/jenkins/workspace/nltk/TOXENV/py26-jenkins/jdk/jdk8latestOnlineInstall/nltk/test/gensim.doctest\", line 42, in gensim.doctest\nFailed example:\n    from nltk.corpus import word2vec_sample\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/jenkins/python/python-2.6.9-x86_64/lib/python2.6/doctest.py\", line 1253, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest gensim.doctest[7]>\", line 1, in <module>\n        from nltk.corpus import word2vec_sample\n    ImportError: cannot import name word2vec_sample\n```\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/1001/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/1001/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/985", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/985/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/985/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/985/events", "html_url": "https://github.com/nltk/nltk/issues/985", "id": 79856202, "node_id": "MDU6SXNzdWU3OTg1NjIwMg==", "number": 985, "title": "PlaintextCorpusReader (or dependency?) confused by BOM", "user": {"login": "alexisdimi", "id": 1406835, "node_id": "MDQ6VXNlcjE0MDY4MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1406835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexisdimi", "html_url": "https://github.com/alexisdimi", "followers_url": "https://api.github.com/users/alexisdimi/followers", "following_url": "https://api.github.com/users/alexisdimi/following{/other_user}", "gists_url": "https://api.github.com/users/alexisdimi/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexisdimi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexisdimi/subscriptions", "organizations_url": "https://api.github.com/users/alexisdimi/orgs", "repos_url": "https://api.github.com/users/alexisdimi/repos", "events_url": "https://api.github.com/users/alexisdimi/events{/privacy}", "received_events_url": "https://api.github.com/users/alexisdimi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-23T14:04:43Z", "updated_at": "2019-08-22T04:17:29Z", "closed_at": "2019-08-22T04:17:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've come across a rather perplexing bug in PlaintextCorpusReader with python 3: If an input file begins with a UTF-8 BOM and the file contains two adjacent newlines anywhere (or if some other conditions are met), the corpus reader will crash with a mysterious assertion error from the guts of corpus/reader/util.py:\n\n```\n...python3.4/site-packages/nltk/corpus/reader/util.py in iterate_from(self, start_tok)\n    294                 self.read_block.__name__)\n    295             num_toks = len(tokens)\n--> 296             new_filepos = self._stream.tell()\n    297             assert new_filepos > filepos, (\n    298                 'block reader %s() should consume at least 1 byte (filepos=%d)' %\n\n/Applications/Experimental/anaconda/lib/python3.4/site-packages/nltk/data.py in tell(self)\n   1294             check1 = self._incr_decode(self.stream.read(50))[0]\n   1295             check2 = ''.join(self.linebuffer)\n-> 1296             assert check1.startswith(check2) or check2.startswith(check1)\n   1297 \n   1298         # Return to our original filepos (so we don't have to throw\n\nAssertionError: [...]\n```\n\nThe error occurs when using the output of `sents()`, and only when we get to the problem file. It does not occur with `words()`, so of course I suspect the paragraph (or sentence?) tokenizer.\n\nThe problem does not arise with Python 2.7 and either NLTK 2.0b4 or NLTK 3: The BOM is simply treated as regular text (and split into two odd-looking tokens).\n\nVery short inputs do not always trigger the bug, because in addition to the BOM certain other conditions must be met. Two adjacent newlines internal to the file seem to be sufficient (though the bug can also arise without them), so the conditions are usually satisfied by long-ish plain text files. (But the Reuters corpus, which has an idiosyncratic format without blank lines, does not trigger it.) Here are some byte strings that exercise the error:\n\nNon-final \\n\\n: Reader fails. Non-blank text needed before \\n\\n, but a blank suffices after\n\n```\n--> FAILS: b'\\xef\\xbb\\xbf Some text \\n\\n '\n   WORKED! b'\\xef\\xbb\\xbf \\n\\n \\n'\n   WORKED! b'\\xef\\xbb\\xbf Some text \\n \\n\\n'   # The \\n\\n cannot be final\n```\n\nThree or more \\r\\n fail, even when final:\n\n```\n--> FAILS: b'\\xef\\xbb\\xbf Some text \\r\\n\\r\\n\\r\\n'\n   WORKED! b'\\xef\\xbb\\xbf Some text \\r\\n\\r\\n'\n   WORKED! b'\\xef\\xbb\\xbf Some text \\n\\n\\n\\n\\n\\n\\n\\n'\n```\n\nJust to confirm: the BOM must be present to trigger the error.\n\n```\n   WORKED! b'Something here\\n\\n\\n\\n\\n and more, but still works\\n\\n etc.'\n```\n\nI'm doing this on OS X with Mountain Lion and Anaconda, in case it makes a difference.\n\nAlexis\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/985/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/985/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/977", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/977/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/977/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/977/events", "html_url": "https://github.com/nltk/nltk/issues/977", "id": 75742482, "node_id": "MDU6SXNzdWU3NTc0MjQ4Mg==", "number": 977, "title": "Do_Kw_pairwise method in agreement.py uses next wrongly", "user": {"login": "sanghack81", "id": 4041206, "node_id": "MDQ6VXNlcjQwNDEyMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/4041206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanghack81", "html_url": "https://github.com/sanghack81", "followers_url": "https://api.github.com/users/sanghack81/followers", "following_url": "https://api.github.com/users/sanghack81/following{/other_user}", "gists_url": "https://api.github.com/users/sanghack81/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanghack81/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanghack81/subscriptions", "organizations_url": "https://api.github.com/users/sanghack81/orgs", "repos_url": "https://api.github.com/users/sanghack81/repos", "events_url": "https://api.github.com/users/sanghack81/events{/privacy}", "received_events_url": "https://api.github.com/users/sanghack81/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2015-05-12T21:19:10Z", "updated_at": "2015-05-12T21:33:21Z", "closed_at": "2015-05-12T21:33:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "The code \n\n``` python\ntotal += self.distance(itemdata.next()['labels'],\n                    itemdata.next()['labels'])\n```\n\ngives me an error\nAttributeError: 'itertools._grouper' object has no attribute 'next'\n\nIt should be fixed as\n\n``` python\ntotal += self.distance(next(itemdata)['labels'],\n                    next(item data)['labels'])\n```\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/977/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/977/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/947", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/947/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/947/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/947/events", "html_url": "https://github.com/nltk/nltk/issues/947", "id": 68803341, "node_id": "MDU6SXNzdWU2ODgwMzM0MQ==", "number": 947, "title": "multiprocessing and nltk don't play nicely together", "user": {"login": "oxymor0n", "id": 2345378, "node_id": "MDQ6VXNlcjIzNDUzNzg=", "avatar_url": "https://avatars.githubusercontent.com/u/2345378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oxymor0n", "html_url": "https://github.com/oxymor0n", "followers_url": "https://api.github.com/users/oxymor0n/followers", "following_url": "https://api.github.com/users/oxymor0n/following{/other_user}", "gists_url": "https://api.github.com/users/oxymor0n/gists{/gist_id}", "starred_url": "https://api.github.com/users/oxymor0n/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oxymor0n/subscriptions", "organizations_url": "https://api.github.com/users/oxymor0n/orgs", "repos_url": "https://api.github.com/users/oxymor0n/repos", "events_url": "https://api.github.com/users/oxymor0n/events{/privacy}", "received_events_url": "https://api.github.com/users/oxymor0n/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29356472, "node_id": "MDU6TGFiZWwyOTM1NjQ3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/admin", "name": "admin", "color": "444444", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718785550, "node_id": "MDU6TGFiZWw3MTg3ODU1NTA=", "url": "https://api.github.com/repos/nltk/nltk/labels/pythonic", "name": "pythonic", "color": "66e88d", "default": false, "description": null}, {"id": 719817004, "node_id": "MDU6TGFiZWw3MTk4MTcwMDQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/multithread%20/%20multiprocessing", "name": "multithread / multiprocessing", "color": "bdf486", "default": false, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/13", "html_url": "https://github.com/nltk/nltk/milestone/13", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/13/labels", "id": 2813386, "node_id": "MDk6TWlsZXN0b25lMjgxMzM4Ng==", "number": 13, "title": "3.2.6", "description": "", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 57, "state": "closed", "created_at": "2017-10-04T02:47:15Z", "updated_at": "2021-11-28T05:27:23Z", "due_on": "2018-01-20T08:00:00Z", "closed_at": "2019-09-05T01:04:28Z"}, "comments": 22, "created_at": "2015-04-15T22:45:02Z", "updated_at": "2019-08-22T04:17:29Z", "closed_at": "2019-08-22T04:17:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Honestly, this issue is not serious as much as it is curious. I've discovered that when NLTK is imported, it will cause the any Python subprocess to terminates prematurely on a network call. Example code:\n\n```\nfrom multiprocessing import Process\nimport nltk\nimport time\n\n\ndef child_fn():\n    print \"Fetch URL\"\n    import urllib2\n    print urllib2.urlopen(\"https://www.google.com\").read()[:100]\n    print \"Done\"\n\n\nwhile True:\n    child_process = Process(target=child_fn)\n    child_process.start()\n    child_process.join()\n    print \"Child process returned\"\n    time.sleep(1)\n```\n\nRun it with NLTK imported, and you'll see that the urlopen() call never gets executed. Comment out the `import nltk` line, and it executes fine.\n\nWhy?\n\n*edit: this is for Python 2. I haven't tested it on 3 yet.\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/947/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/947/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/945", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/945/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/945/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/945/events", "html_url": "https://github.com/nltk/nltk/issues/945", "id": 68306491, "node_id": "MDU6SXNzdWU2ODMwNjQ5MQ==", "number": 945, "title": "Error when trying to change sentence from menu widget in nltk.app.rdparser_app.app()", "user": {"login": "hyp3rv1p3r", "id": 6358698, "node_id": "MDQ6VXNlcjYzNTg2OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/6358698?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hyp3rv1p3r", "html_url": "https://github.com/hyp3rv1p3r", "followers_url": "https://api.github.com/users/hyp3rv1p3r/followers", "following_url": "https://api.github.com/users/hyp3rv1p3r/following{/other_user}", "gists_url": "https://api.github.com/users/hyp3rv1p3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/hyp3rv1p3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hyp3rv1p3r/subscriptions", "organizations_url": "https://api.github.com/users/hyp3rv1p3r/orgs", "repos_url": "https://api.github.com/users/hyp3rv1p3r/repos", "events_url": "https://api.github.com/users/hyp3rv1p3r/events{/privacy}", "received_events_url": "https://api.github.com/users/hyp3rv1p3r/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-04-14T08:46:28Z", "updated_at": "2017-10-13T21:41:02Z", "closed_at": "2017-10-13T21:41:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is the error:\n\nException in Tkinter callback\nTraceback (most recent call last):\n  File \"/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/tkinter/**init**.py\", line 1533, in **call**\n    return self.func(*args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/nltk-3.0.2-py3.4.egg/nltk/app/rdparser_app.py\", line 859, in edit_sentence\n    EntryDialog(self._top, sentence, instr, self.set_sentence, title)\n  File \"/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/nltk-3.0.2-py3.4.egg/nltk/draw/util.py\", line 1944, in __init__\n    self._entry = Entry(entryframe, width=width)\n  File \"/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/tkinter/__init__.py\", line 2514, in **init**\n    Widget.**init**(self, master, 'entry', cnf, kw)\n  File \"/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/tkinter/**init**.py\", line 2122, in **init**\n    (widgetName, self._w) + extra + self._options(cnf))\n_tkinter.TclError: expected integer but got \"43.5\"\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/945/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/882", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/882/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/882/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/882/events", "html_url": "https://github.com/nltk/nltk/issues/882", "id": 57297650, "node_id": "MDU6SXNzdWU1NzI5NzY1MA==", "number": 882, "title": "NLTK downloader bug", "user": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/6", "html_url": "https://github.com/nltk/nltk/milestone/6", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/6/labels", "id": 896742, "node_id": "MDk6TWlsZXN0b25lODk2NzQy", "number": 6, "title": "3.0.2", "description": "", "creator": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2014-12-09T03:26:04Z", "updated_at": "2015-03-18T05:05:08Z", "due_on": "2015-01-22T08:00:00Z", "closed_at": "2015-03-18T05:05:08Z"}, "comments": 12, "created_at": "2015-02-11T10:18:04Z", "updated_at": "2015-07-27T18:03:43Z", "closed_at": "2015-02-11T12:30:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\n$ sudo python -m nltk.downloader\nTraceback (most recent call last):\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/runpy.py\", line 170, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/Users/sb/git/nltk/nltk/downloader.py\", line 2266, in <module>\n    halt_on_error=options.halt_on_error)\n  File \"/Users/sb/git/nltk/nltk/downloader.py\", line 655, in download\n    self._interactive_download()\n  File \"/Users/sb/git/nltk/nltk/downloader.py\", line 967, in _interactive_download\n    DownloaderGUI(self).mainloop()\n  File \"/Users/sb/git/nltk/nltk/downloader.py\", line 1227, in __init__\n    self._fill_table()\n  File \"/Users/sb/git/nltk/nltk/downloader.py\", line 1523, in _fill_table\n    items = self._ds.collections()\n  File \"/Users/sb/git/nltk/nltk/downloader.py\", line 499, in collections\n    self._update_index()\n  File \"/Users/sb/git/nltk/nltk/downloader.py\", line 854, in _update_index\n    packages[child.id] = child\nAttributeError: 'str' object has no attribute 'id'\n```\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/882/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/882/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/851", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/851/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/851/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/851/events", "html_url": "https://github.com/nltk/nltk/issues/851", "id": 55400540, "node_id": "MDU6SXNzdWU1NTQwMDU0MA==", "number": 851, "title": "Bug in DependencyGraph._tree", "user": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dimazest", "id": 885751, "node_id": "MDQ6VXNlcjg4NTc1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/885751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimazest", "html_url": "https://github.com/dimazest", "followers_url": "https://api.github.com/users/dimazest/followers", "following_url": "https://api.github.com/users/dimazest/following{/other_user}", "gists_url": "https://api.github.com/users/dimazest/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimazest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimazest/subscriptions", "organizations_url": "https://api.github.com/users/dimazest/orgs", "repos_url": "https://api.github.com/users/dimazest/repos", "events_url": "https://api.github.com/users/dimazest/events{/privacy}", "received_events_url": "https://api.github.com/users/dimazest/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dimazest", "id": 885751, "node_id": "MDQ6VXNlcjg4NTc1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/885751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimazest", "html_url": "https://github.com/dimazest", "followers_url": "https://api.github.com/users/dimazest/followers", "following_url": "https://api.github.com/users/dimazest/following{/other_user}", "gists_url": "https://api.github.com/users/dimazest/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimazest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimazest/subscriptions", "organizations_url": "https://api.github.com/users/dimazest/orgs", "repos_url": "https://api.github.com/users/dimazest/repos", "events_url": "https://api.github.com/users/dimazest/events{/privacy}", "received_events_url": "https://api.github.com/users/dimazest/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/6", "html_url": "https://github.com/nltk/nltk/milestone/6", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/6/labels", "id": 896742, "node_id": "MDk6TWlsZXN0b25lODk2NzQy", "number": 6, "title": "3.0.2", "description": "", "creator": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2014-12-09T03:26:04Z", "updated_at": "2015-03-18T05:05:08Z", "due_on": "2015-01-22T08:00:00Z", "closed_at": "2015-03-18T05:05:08Z"}, "comments": 14, "created_at": "2015-01-25T06:22:35Z", "updated_at": "2015-02-08T22:41:54Z", "closed_at": "2015-02-08T22:41:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Running the dependencygraph doctests produces an error, probably due to recent changes in `DependencyGraph`. It shows up in https://github.com/nltk/nltk/blob/develop/nltk/parse/dependencygraph.py#L265\n\n@dimazest \u2013 would you be able to look at this please?\n\n```\nTraceback (most recent call last):\n  File \"dependencygraph.py\", line 627, in <module>\n    demo()\n  File \"dependencygraph.py\", line 421, in demo\n    malt_demo()\n  File \"dependencygraph.py\", line 451, in malt_demo\n    tree = dg.tree()\n  File \"dependencygraph.py\", line 281, in tree\n    return Tree(word, [self._tree(i) for i in deps])\n  File \"dependencygraph.py\", line 281, in <listcomp>\n    return Tree(word, [self._tree(i) for i in deps])\n  File \"dependencygraph.py\", line 265, in _tree\n    word = node['word']\nKeyError: 'word'\n```\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/851/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/851/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/840", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/840/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/840/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/840/events", "html_url": "https://github.com/nltk/nltk/issues/840", "id": 54638995, "node_id": "MDU6SXNzdWU1NDYzODk5NQ==", "number": 840, "title": "pos_tag in NLTK 3", "user": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/6", "html_url": "https://github.com/nltk/nltk/milestone/6", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/6/labels", "id": 896742, "node_id": "MDk6TWlsZXN0b25lODk2NzQy", "number": 6, "title": "3.0.2", "description": "", "creator": {"login": "stevenbird", "id": 55406, "node_id": "MDQ6VXNlcjU1NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/55406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenbird", "html_url": "https://github.com/stevenbird", "followers_url": "https://api.github.com/users/stevenbird/followers", "following_url": "https://api.github.com/users/stevenbird/following{/other_user}", "gists_url": "https://api.github.com/users/stevenbird/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenbird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenbird/subscriptions", "organizations_url": "https://api.github.com/users/stevenbird/orgs", "repos_url": "https://api.github.com/users/stevenbird/repos", "events_url": "https://api.github.com/users/stevenbird/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenbird/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2014-12-09T03:26:04Z", "updated_at": "2015-03-18T05:05:08Z", "due_on": "2015-01-22T08:00:00Z", "closed_at": "2015-03-18T05:05:08Z"}, "comments": 0, "created_at": "2015-01-16T23:37:26Z", "updated_at": "2015-01-25T05:46:42Z", "closed_at": "2015-01-25T05:46:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The model used by `pos_tag` in NLTK 3 should be set to `taggers/maxent_treebank_pos_tagger/PY3/english.pickle`, cf https://groups.google.com/forum/#!topic/nltk-users/e4ULOXFAOV8\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/840/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/840/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/789", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/789/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/789/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/789/events", "html_url": "https://github.com/nltk/nltk/issues/789", "id": 48053993, "node_id": "MDU6SXNzdWU0ODA1Mzk5Mw==", "number": 789, "title": "Critical bug in BLEU score evaluation", "user": {"login": "karpathy", "id": 241138, "node_id": "MDQ6VXNlcjI0MTEzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/241138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karpathy", "html_url": "https://github.com/karpathy", "followers_url": "https://api.github.com/users/karpathy/followers", "following_url": "https://api.github.com/users/karpathy/following{/other_user}", "gists_url": "https://api.github.com/users/karpathy/gists{/gist_id}", "starred_url": "https://api.github.com/users/karpathy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karpathy/subscriptions", "organizations_url": "https://api.github.com/users/karpathy/orgs", "repos_url": "https://api.github.com/users/karpathy/repos", "events_url": "https://api.github.com/users/karpathy/events{/privacy}", "received_events_url": "https://api.github.com/users/karpathy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dimazest", "id": 885751, "node_id": "MDQ6VXNlcjg4NTc1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/885751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimazest", "html_url": "https://github.com/dimazest", "followers_url": "https://api.github.com/users/dimazest/followers", "following_url": "https://api.github.com/users/dimazest/following{/other_user}", "gists_url": "https://api.github.com/users/dimazest/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimazest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimazest/subscriptions", "organizations_url": "https://api.github.com/users/dimazest/orgs", "repos_url": "https://api.github.com/users/dimazest/repos", "events_url": "https://api.github.com/users/dimazest/events{/privacy}", "received_events_url": "https://api.github.com/users/dimazest/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dimazest", "id": 885751, "node_id": "MDQ6VXNlcjg4NTc1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/885751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimazest", "html_url": "https://github.com/dimazest", "followers_url": "https://api.github.com/users/dimazest/followers", "following_url": "https://api.github.com/users/dimazest/following{/other_user}", "gists_url": "https://api.github.com/users/dimazest/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimazest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimazest/subscriptions", "organizations_url": "https://api.github.com/users/dimazest/orgs", "repos_url": "https://api.github.com/users/dimazest/repos", "events_url": "https://api.github.com/users/dimazest/events{/privacy}", "received_events_url": "https://api.github.com/users/dimazest/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2014-11-07T06:48:31Z", "updated_at": "2014-11-07T17:02:03Z", "closed_at": "2014-11-07T17:02:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "The BLEU score, as computed [here](https://github.com/nltk/nltk/blob/develop/nltk/align/bleu.py), returns extremely broken results\n\nIt's currently implemented as:\n\n``` python\np_ns = (BLEU.modified_precision(candidate, references, i)\n                for i, _ in enumerate(weights, start=1))\np_ns_nonzero = list(filter(None, p_ns))\nif p_ns_nonzero:\n  s = math.fsum(w * math.log(p_n) for w, p_n in zip(weights, p_ns_nonzero))\n  bp = BLEU.brevity_penalty(candidate, references)\n   return bp * math.exp(s)\nelse: # no alignments\n  return 0\n```\n\nNow, what the `s =` part is doing is it's trying to compute a weighted **geometric average**, meaning the product of the individual modified precisions, to get the final precision across ngrams. Therefore, you cannot simply take out the `p_ns` that are zero by doing the filtering. If any one of the `p_ns` is zero, that should make the entire score zero.\n\nI suggest something like the following:\n\n``` python\np_ns = [BLEU.modified_precision(candidate, references, i) for i, _ in enumerate(weights, start=1)]\nif all([x > 0 for x in p_ns]):\n    s = math.fsum(w * math.log(p_n) for w, p_n in zip(weights, p_ns))\n    bp = BLEU.brevity_penalty(candidate, references)\n    return bp * math.exp(s)\nelse: # bad\n    return 0\n```\n\nThe paper reference on BLEU score where all of this is discussed is here:\nhttp://www.aclweb.org/anthology/P02-1040.pdf\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/769", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/769/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/769/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/769/events", "html_url": "https://github.com/nltk/nltk/issues/769", "id": 45588365, "node_id": "MDU6SXNzdWU0NTU4ODM2NQ==", "number": 769, "title": "AttributeError for Rule object in Python3.4", "user": {"login": "japerk", "id": 215919, "node_id": "MDQ6VXNlcjIxNTkxOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/215919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/japerk", "html_url": "https://github.com/japerk", "followers_url": "https://api.github.com/users/japerk/followers", "following_url": "https://api.github.com/users/japerk/following{/other_user}", "gists_url": "https://api.github.com/users/japerk/gists{/gist_id}", "starred_url": "https://api.github.com/users/japerk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/japerk/subscriptions", "organizations_url": "https://api.github.com/users/japerk/orgs", "repos_url": "https://api.github.com/users/japerk/repos", "events_url": "https://api.github.com/users/japerk/events{/privacy}", "received_events_url": "https://api.github.com/users/japerk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 22487250, "node_id": "MDU6TGFiZWwyMjQ4NzI1MA==", "url": "https://api.github.com/repos/nltk/nltk/labels/python3", "name": "python3", "color": "b3fca6", "default": false, "description": ""}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718740438, "node_id": "MDU6TGFiZWw3MTg3NDA0Mzg=", "url": "https://api.github.com/repos/nltk/nltk/labels/tagger", "name": "tagger", "color": "a2d4e8", "default": false, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/nltk/nltk/milestones/13", "html_url": "https://github.com/nltk/nltk/milestone/13", "labels_url": "https://api.github.com/repos/nltk/nltk/milestones/13/labels", "id": 2813386, "node_id": "MDk6TWlsZXN0b25lMjgxMzM4Ng==", "number": 13, "title": "3.2.6", "description": "", "creator": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 57, "state": "closed", "created_at": "2017-10-04T02:47:15Z", "updated_at": "2021-11-28T05:27:23Z", "due_on": "2018-01-20T08:00:00Z", "closed_at": "2019-09-05T01:04:28Z"}, "comments": 5, "created_at": "2014-10-12T18:10:49Z", "updated_at": "2019-08-22T04:16:34Z", "closed_at": "2019-08-22T04:16:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following code works perfectly with Python3.3 but produces an error with Python3.4, at least on Mac OS X. I've included the error output below the code. I've looked at the code for rule.py, and it's in a try-except block, but Python3.4 doesn't seem to care about that.\n\n> from nltk.corpus import treebank\n> from nltk.tag import UnigramTagger, brill, brill_trainer\n> from nltk.tbl import Template\n> train_sents = treebank.tagged_sents()[:3000]\n> tagger = UnigramTagger(train_sents)\n> trainer = brill_trainer.BrillTaggerTrainer(tagger, [brill.Template(brill.Pos([-1]))])\n> brill_tagger = trainer.train(train_sents)\n\nTraceback (most recent call last):\n  File \"/Users/jacob/py34env/lib/python3.4/site-packages/nltk/tbl/rule.py\", line 191, in **hash**\n    return self.__hash\nAttributeError: 'Rule' object has no attribute '_Rule__hash'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/jacob/py34env/lib/python3.4/site-packages/nltk/tbl/rule.py\", line 200, in **repr**\n    return self.__repr\nAttributeError: 'Rule' object has no attribute '_Rule__repr'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/jacob/py34env/lib/python3.4/site-packages/nltk/tag/brill_trainer.py\", line 288, in train\n    self._init_mappings(test_sents, train_sents)\n  File \"/Users/jacob/py34env/lib/python3.4/site-packages/nltk/tag/brill_trainer.py\", line 359, in _init_mappings\n    train_sents)\n  File \"/Users/jacob/py34env/lib/python3.4/site-packages/nltk/tag/brill_trainer.py\", line 387, in _update_rule_applies\n    if pos in self._positions_by_rule[rule]:\n  File \"/Users/jacob/py34env/lib/python3.4/site-packages/nltk/tbl/rule.py\", line 193, in __hash__\n    self.**hash = hash(repr(self))\n  File \"/Users/jacob/py34env/lib/python3.4/site-packages/nltk/tbl/rule.py\", line 210, in __repr**\n    \", \".join(\"({0:s},{1:s})\".format(f,unicode_repr(v)) for (f,v) in self._conditions)))\n  File \"/Users/jacob/py34env/lib/python3.4/site-packages/nltk/tbl/rule.py\", line 210, in <genexpr>\n    \", \".join(\"({0:s},{1:s})\".format(f,unicode_repr(v)) for (f,v) in self._conditions)))\nTypeError: non-empty format string passed to object.__format__\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/769/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/681", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/681/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/681/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/681/events", "html_url": "https://github.com/nltk/nltk/issues/681", "id": 35964527, "node_id": "MDU6SXNzdWUzNTk2NDUyNw==", "number": 681, "title": "using svd_dimensions in VectorSpaceClusterer raises an exception", "user": {"login": "helmanofer", "id": 6523193, "node_id": "MDQ6VXNlcjY1MjMxOTM=", "avatar_url": "https://avatars.githubusercontent.com/u/6523193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/helmanofer", "html_url": "https://github.com/helmanofer", "followers_url": "https://api.github.com/users/helmanofer/followers", "following_url": "https://api.github.com/users/helmanofer/following{/other_user}", "gists_url": "https://api.github.com/users/helmanofer/gists{/gist_id}", "starred_url": "https://api.github.com/users/helmanofer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/helmanofer/subscriptions", "organizations_url": "https://api.github.com/users/helmanofer/orgs", "repos_url": "https://api.github.com/users/helmanofer/repos", "events_url": "https://api.github.com/users/helmanofer/events{/privacy}", "received_events_url": "https://api.github.com/users/helmanofer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-06-18T08:38:05Z", "updated_at": "2019-08-22T04:16:32Z", "closed_at": "2019-08-22T04:16:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In python 3.2 the exception is:\n\n```\nTraceback (most recent call last):\n...\n  File \"D:\\SourceCode\\voc\\nltk\\cluster\\util.py\", line 65, in cluster\n    self.cluster_vectorspace(vectors, trace)\n  File \"D:\\SourceCode\\voc\\nltk\\cluster\\kmeans.py\", line 84, in cluster_vectorspace\n    self._means = self._rng.sample(vectors, self._num_means)\n  File \"C:\\Python32-64\\lib\\random.py\", line 299, in sample\n    raise TypeError(\"Population must be a sequence or Set.  For dicts, use list(d).\")\nTypeError: Population must be a sequence or Set.  For dicts, use list(d).\n```\n\nIt didn't happen in python 2.7 because random.sample did't have the following checks:\n\n```\nif not isinstance(population, _collections.Sequence):\n    raise TypeError(\"Population must be a sequence or Set.  For dicts, use list(d).\")\n```\n\nBut it seems like the vector is nothing like the original vector after SVD/LSA\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/681/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/681/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/272", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/272/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/272/events", "html_url": "https://github.com/nltk/nltk/issues/272", "id": 5019161, "node_id": "MDU6SXNzdWU1MDE5MTYx", "number": 272, "title": "prob_classify causing exceptions when working with scikits.", "user": {"login": "dchaplinsky", "id": 131186, "node_id": "MDQ6VXNlcjEzMTE4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/131186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dchaplinsky", "html_url": "https://github.com/dchaplinsky", "followers_url": "https://api.github.com/users/dchaplinsky/followers", "following_url": "https://api.github.com/users/dchaplinsky/following{/other_user}", "gists_url": "https://api.github.com/users/dchaplinsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/dchaplinsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dchaplinsky/subscriptions", "organizations_url": "https://api.github.com/users/dchaplinsky/orgs", "repos_url": "https://api.github.com/users/dchaplinsky/repos", "events_url": "https://api.github.com/users/dchaplinsky/events{/privacy}", "received_events_url": "https://api.github.com/users/dchaplinsky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718773983, "node_id": "MDU6TGFiZWw3MTg3NzM5ODM=", "url": "https://api.github.com/repos/nltk/nltk/labels/classifier", "name": "classifier", "color": "60d2ff", "default": false, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-06-12T07:54:29Z", "updated_at": "2019-08-22T04:15:35Z", "closed_at": "2019-08-22T04:15:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "For some reason underlying method predict_proba from sklearn package is not implemented for some of classifiers (LinearSVC, SGD with loss=\"hinge\") and for some of them it returns result in kind of unexpected format:\n\n```\nTraceback (most recent call last):\n  File \"classify.py\", line 42, in <module>\n    neg_prob = classifier.prob_classify(feats).prob(\"neg\")\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/nltk/classify/api.py\", line 65, in prob_classify\n    return self.batch_prob_classify([featureset])[0]\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/nltk/classify/scikitlearn.py\", line 74, in batch_prob_classify\n    return [self._make_probdist(y_proba[i]) for i in xrange(len(y_proba))]\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/nltk/classify/scikitlearn.py\", line 135, in _make_probdist\n    for i, p in enumerate(y_proba)))\nTypeError: 'numpy.float64' object is not iterable\n```\n\nAlso, to enable predict_proba for SVC/NuSVC you need to pass probability=True to the constructor.\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/272/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/272/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/186", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/186/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/186/events", "html_url": "https://github.com/nltk/nltk/issues/186", "id": 2865785, "node_id": "MDU6SXNzdWUyODY1Nzg1", "number": 186, "title": "Inconsistient behavior of wordnet/synset/shortest_path_distance", "user": {"login": "dtldarek", "id": 1336027, "node_id": "MDQ6VXNlcjEzMzYwMjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1336027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtldarek", "html_url": "https://github.com/dtldarek", "followers_url": "https://api.github.com/users/dtldarek/followers", "following_url": "https://api.github.com/users/dtldarek/following{/other_user}", "gists_url": "https://api.github.com/users/dtldarek/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtldarek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtldarek/subscriptions", "organizations_url": "https://api.github.com/users/dtldarek/orgs", "repos_url": "https://api.github.com/users/dtldarek/repos", "events_url": "https://api.github.com/users/dtldarek/events{/privacy}", "received_events_url": "https://api.github.com/users/dtldarek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 29356672, "node_id": "MDU6TGFiZWwyOTM1NjY3Mg==", "url": "https://api.github.com/repos/nltk/nltk/labels/corpus", "name": "corpus", "color": "0b02e1", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718744080, "node_id": "MDU6TGFiZWw3MTg3NDQwODA=", "url": "https://api.github.com/repos/nltk/nltk/labels/wordnet", "name": "wordnet", "color": "3861d1", "default": false, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-01-17T08:33:55Z", "updated_at": "2019-08-22T04:15:33Z", "closed_at": "2019-08-22T04:15:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Issue\n\nI observed inconsistient behavior of wordnet/synset/shortest_path_distance: for both (dog,cat) and (bat, cat) it returns 4 while the shortest path distance found by the script below are as follows:\n[Synset('dog.n.01'), Synset('domestic_animal.n.01'), Synset('domestic_cat.n.01'), Synset('cat.n.01')]  # size 4\n[Synset('bat.n.01'), Synset('placental.n.01'), Synset('carnivore.n.01'), Synset('feline.n.01'), Synset('cat.n.01')] # size 5\n# Python version: Python 2.7.2+\n# NLTK version: @version: 2.0b9\n# The script\n\n``` python\n#!/usr/bin/python\n\nimport nltk\nfrom nltk.corpus import wordnet as wn\n\ndef shortest(thing1, thing2, diff):\n    print \"shortest(%s, %s, %d):\"%(thing1, thing2, diff)                           \n    thing1s = wn.synsets(thing1)\n    thing2s = wn.synsets(thing2)\n    distance = min([d for d in [x.shortest_path_distance(y) for x in thing1s for y in thing2s if x != y] if d != None])\n    def dfs(goal, path, bound):\n        last = path[-1]\n        if bound == 0:\n            if goal == last:\n                print path\n        else:\n            for x in last.hypernyms():\n                path.append(x)\n                dfs(goal, path, bound-1)\n                path.pop()\n            for x in last.hyponyms():\n                path.append(x)\n                dfs(goal, path, bound-1)\n                path.pop()\n    for start in thing1s:\n        for end in thing2s:\n            dfs(end, [start], distance + diff)\n    print\n\nshortest('dog', 'cat',  0)  \nshortest('dog', 'cat', -1) \nshortest('bat', 'cat',  0)  \nshortest('bat', 'cat', -1) \n```\n# The output:\n\n``` python\nshortest(dog, cat, 0):\n[Synset('dog.n.01'), Synset('canine.n.02'), Synset('carnivore.n.01'), Synset('feline.n.01'), Synset('cat.n.01')]\n[Synset('dog.n.01'), Synset('canine.n.02'), Synset('carnivore.n.01'), Synset('feline.n.01'), Synset('big_cat.n.01')]\n[Synset('dog.n.03'), Synset('chap.n.01'), Synset('male.n.02'), Synset('man.n.01'), Synset('guy.n.01')]\n\nshortest(dog, cat, -1):\n[Synset('dog.n.01'), Synset('domestic_animal.n.01'), Synset('domestic_cat.n.01'), Synset('cat.n.01')]\n\nshortest(bat, cat, 0):\n[Synset('bat.n.01'), Synset('placental.n.01'), Synset('carnivore.n.01'), Synset('feline.n.01'), Synset('cat.n.01')]\n[Synset('bat.n.01'), Synset('placental.n.01'), Synset('carnivore.n.01'), Synset('feline.n.01'), Synset('big_cat.n.01')]\n\nshortest(bat, cat, -1):\n#nothing\n```\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/186/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/184", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/184/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/184/events", "html_url": "https://github.com/nltk/nltk/issues/184", "id": 2865098, "node_id": "MDU6SXNzdWUyODY1MDk4", "number": 184, "title": "NBC most informative features method does not report features that are always present in a label and not in the other class.", "user": {"login": "alexrudnick", "id": 315406, "node_id": "MDQ6VXNlcjMxNTQwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/315406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexrudnick", "html_url": "https://github.com/alexrudnick", "followers_url": "https://api.github.com/users/alexrudnick/followers", "following_url": "https://api.github.com/users/alexrudnick/following{/other_user}", "gists_url": "https://api.github.com/users/alexrudnick/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexrudnick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexrudnick/subscriptions", "organizations_url": "https://api.github.com/users/alexrudnick/orgs", "repos_url": "https://api.github.com/users/alexrudnick/repos", "events_url": "https://api.github.com/users/alexrudnick/events{/privacy}", "received_events_url": "https://api.github.com/users/alexrudnick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 718773983, "node_id": "MDU6TGFiZWw3MTg3NzM5ODM=", "url": "https://api.github.com/repos/nltk/nltk/labels/classifier", "name": "classifier", "color": "60d2ff", "default": false, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-01-17T06:28:00Z", "updated_at": "2019-08-13T12:56:40Z", "closed_at": "2019-08-13T12:56:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "<b>What version of NLTK are you using?  (See nltk.**version**).  Please only</b>\n<b>submit bug reports for the current version.</b>\n\n2.0b8 (naivebayes.py 2063). 2063 is the present version.\n\n<b>What steps will reproduce the problem?  (e.g. include Python source code)</b>\n\nimport nltk\nlabeled_featuresets = [({'viagra': True}, 'spam'), \n                       ({'hello': True}, 'ok')]\nclassifier = nltk.NaiveBayesClassifier.train(labeled_featuresets)\nclassifier.show_most_informative_features()\n\nThis just writes &quot;Most Informative Features&quot;\n\n<b>What is the expected output? What do you see instead?</b>\n\nApart from &quot;Most Informative Features&quot; I would expect to see 'viagra' and 'hello' listed. \n\n<b>Please use labels and text to provide additional information.</b>\n\nI seems to be an issue with the use of the .samples method line 134 and 165 in nltk/nltk/classify/naivebayes.py.\n\nAnother example is: \n\nlabeled_featuresets = [({'viagra': True, 'casino': True}, 'spam'), \n                           ({'viagra': True}, 'spam'), \n                           ({'hello': True}, 'ok')]\nclassifier = nltk.NaiveBayesClassifier.train(labeled_featuresets)\nclassifier.show_most_informative_features()\n\nThis lists only:\n\nMost Informative Features\n                  casino = None               ok : spam   =      1.5 : 1.0\n\nInstead of \n\n```\n              viagra = None               ok : spam   =      4.5 : 1.0\n               hello = True               ok : spam   =      4.5 : 1.0\n               hello = None             spam : ok     =      3.3 : 1.0\n              viagra = True             spam : ok     =      3.3 : 1.0\n              casino = True             spam : ok     =      2.0 : 1.0\n              casino = None               ok : spam   =      1.5 : 1.0\n```\n\n<p>Migrated from http://code.google.com/p/nltk/issues/detail?id=730</p>\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/184/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/nltk/nltk/issues/60", "repository_url": "https://api.github.com/repos/nltk/nltk", "labels_url": "https://api.github.com/repos/nltk/nltk/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/nltk/nltk/issues/60/comments", "events_url": "https://api.github.com/repos/nltk/nltk/issues/60/events", "html_url": "https://github.com/nltk/nltk/issues/60", "id": 2864964, "node_id": "MDU6SXNzdWUyODY0OTY0", "number": 60, "title": "Punkt model has problems with acronyms", "user": {"login": "alexrudnick", "id": 315406, "node_id": "MDQ6VXNlcjMxNTQwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/315406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexrudnick", "html_url": "https://github.com/alexrudnick", "followers_url": "https://api.github.com/users/alexrudnick/followers", "following_url": "https://api.github.com/users/alexrudnick/following{/other_user}", "gists_url": "https://api.github.com/users/alexrudnick/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexrudnick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexrudnick/subscriptions", "organizations_url": "https://api.github.com/users/alexrudnick/orgs", "repos_url": "https://api.github.com/users/alexrudnick/repos", "events_url": "https://api.github.com/users/alexrudnick/events{/privacy}", "received_events_url": "https://api.github.com/users/alexrudnick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 14019255, "node_id": "MDU6TGFiZWwxNDAxOTI1NQ==", "url": "https://api.github.com/repos/nltk/nltk/labels/pleaseverify", "name": "pleaseverify", "color": "d7e102", "default": false, "description": null}, {"id": 145489207, "node_id": "MDU6TGFiZWwxNDU0ODkyMDc=", "url": "https://api.github.com/repos/nltk/nltk/labels/bug", "name": "bug", "color": "e11d21", "default": true, "description": null}, {"id": 918210764, "node_id": "MDU6TGFiZWw5MTgyMTA3NjQ=", "url": "https://api.github.com/repos/nltk/nltk/labels/inactive", "name": "inactive", "color": "cecece", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-01-17T06:25:07Z", "updated_at": "2019-08-12T13:24:25Z", "closed_at": "2019-08-12T13:24:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "&gt;&gt;&gt; sent_tokenizer=nltk.data.load('tokenizers/punkt/english.pickle')\n&gt;&gt;&gt; sent_tokenizer.tokenize(&quot;John saw Mary in the USA today.  John saw Mary\nin the U.S.A. today.  John saw Mary.&quot;)\n['John saw Mary in the USA today.', 'John saw Mary in the U.S.A. today. \nJohn saw Mary.']\n\nIt never wants to put a break after U.S.A. even when its at the end of a\nsentence.\n\n&gt;&gt;&gt; sent_tokenizer.tokenize(&quot;John saw Mary in the U.S.A.  John saw Mary in\nthe U.S.A. today.&quot;)\n['John saw Mary in the U.S.A.  John saw Mary in the U.S.A. today.']\n\nWe need this working for chapter 3\n\n<p>Migrated from http://code.google.com/p/nltk/issues/detail?id=324</p><hr/><h2>earlier comments</h2>\n<p><strong>jmhelmhout said, at 2010-02-07T21:21:58.000Z:</strong></p>\n\n<p>First of all, thank you very much for creating the NLTK package. It helps a lot by\nworking with ML and text.\n\nThe boundary detection of Kiss and Strunk. \n\nI encountered a difficulty in a text in which the writer applies lots of e.g. and i.e. \n\nTemporarily, I solved this by creating a domain/author specific list of abbrev_types\n(add e.g i.e to the set) . Although not the best solution, it can give a quick help\nwith texts produced in a certain domain or by a person (e.g., needed for author\nidentification)\n\nAlthough this dictionary solution is probably not the best, it will help prevent this\nissue.\n\nHence, in making this more explicit by public method call, one could add a domain\nspecific list to the abbrev_types. \n\nAll the best\nMartin Helmhout\n</p><p><strong>jan.strunk said, at 2010-05-11T14:41:58.000Z:</strong></p>\n\n<p>I really like the idea of incorporating additional lexical informatin (such as\nabbreviation lists) into a trained Punkt model.\n</p><p><strong>joel.nothman said, at 2010-06-30T05:43:30.000Z:</strong></p>\n\n<p>On acronyms:\n\nIt may be because the pickled data has changed, but I can't replicate your first example, Steve.\n\n>>> sent_tokenizer.tokenize(\"John saw Mary in the USA today.  John saw Mary\nin the U.S.A. today.  John saw Mary.\")\n['John saw Mary in the USA today.', 'John saw Mary in the U.S.A. today.', 'John saw Mary.']\n\nBut the issue is in the second example:\n\n>>> sent_tokenizer.tokenize(\"John saw Mary in the U.S.A.  John saw Mary in the U.S.A. today.\")\n['John saw Mary in the U.S.A.  John saw Mary in the U.S.A. today.']\n\nThis isn't actually a problem with acronyms:\n\nsent_tokenizer.tokenize(\"John saw Mary in Calif.  John saw Mary in Calif. today.\")\n['John saw Mary in Calif.  John saw Mary in Calif. today.']\n\nAnd it's also partially a problem with John:\n\n>>> sent_tokenizer.tokenize(\"John saw Mary in the U.S.A.  He saw Mary in the U.S.A. today.\")\n['John saw Mary in the U.S.A.', 'He saw Mary in the U.S.A. today.']\n\nThis is just a false positive given by the algorithm.\n\nLet's look at the learnt parameters:\n* 'u.s.a' and 'calif' are both in abbrev_types.\n* 'he' is in sent_starters, 'john' is not ('he' was collocated with a preceding '.' in training).\n* None of [('calif', 'john'), ('u.s.a', 'john'), ('calif', 'he'), ('u.s.a', 'he')] are in collocations\n* ortho_context['he'] == 46, i.e. it appears capitalised at the beginning or middle of a sentence, and in the middle of a sentence lowercase.\n* ortho_context['john'] == 14, i.e. it appears capitalised always.\n\nGiven this information, 'he' is likely to start a sentence after an abbreviation, while an abbreviation preceding 'John' will be indeterminately a sentence boundary because John will be capitalised in any case.\n\nNote that Kiss and Strunk's rules for using these features mean that setting ortho_context['john'] = 46 is not sufficient to work. Adding 'john' to sent_starters is.\n\nSo as long as NLTK's sentence boundary detection uses a largely-unmodified Punkt, and so long as you train it on a corpus that starts sentences with John much less often than the NLTK book does (yay for domain adaptation problems), I don't think this issue will be fixed.\n\nAs to the other posts: Incorporating unlearned information is a great idea, as is incorporating information of properties gleaned from corpora with gold-standard sentence boundaries.</p><p><strong>mmmasterluke said, at 2010-09-08T09:05:34.000Z:</strong></p>\n\n<p>I'm working on scientific text.\n\nThe tokenizer doesn't recognize things like Fig., Eq., Ref. and al. ('et al.') as abbreviations but as sentence boundaries.\n\nI tried to solve the issue by adding items to abbrev_types as suggested in comment 1 but this has no effect (except for 'al').  Sentences are still split between Fig. and the following number.\n\nI also tried adding ('Fig.', '##number##') to the collocations set but nothing changed.\n\nWhat's the problem here?</p><p><strong>jmhelmhout said, at 2010-09-08T11:43:31.000Z:</strong></p>\n\n<p>This helped for me. I do not know if this is applicable for the current release, because I used the following code a long time ago\n----------------------\ndef extract_sentences(text):\n    punkttt = nltk.tokenize.PunktSentenceTokenizer()\n    \n    #list of abbreviations remove last period from abbr.\n    # example list: ['i.e','e.g']\n    abbreviations = []\n    \n    \n    for abbrev in abbreviations:\n        punkttt._params.abbrev_types.add(abbrev)\n    return punkttt.sentences_from_text(text, True)\n---------------\nthis returns a generator object \nuse output.next() to iterate\n\nHope this helps\nMartin</p><p><strong>mmmasterluke said, at 2010-09-08T13:17:35.000Z:</strong></p>\n\n<p>Thanks for the reply.  I did exactly the same in my first approach but to no avail.\n\nI'm either missing something about how Punkt works internally or there is some technical problem.\n\nIt would be great to add patterns that cannot contain a sentence boundary (or those that must, for that matter).</p><p><strong>joel.nothman said, at 2010-09-11T09:26:36.000Z:</strong></p>\n\n<p>Yes, I agree it would be useful to add patterns that do not contain a sentence boundary, but it's not part of the original algorithm, and so it's not been implemented (yet).\n\nWhen adding to abbrev_types, make sure you enter the word:\n- lowercase;\n- without a following full-stop.</p><p><strong>mmmasterluke said, at 2010-09-13T09:42:11.000Z:</strong></p>\n\n<p>I forgot to add some abbrevs in lowercase. When I add 'fig' instead of 'Fig' it works. Thanks!</p>\n", "reactions": {"url": "https://api.github.com/repos/nltk/nltk/issues/60/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nltk/nltk/issues/60/timeline", "performed_via_github_app": null, "state_reason": "completed"}]