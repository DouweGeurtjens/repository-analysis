[{"url": "https://api.github.com/repos/Theano/Theano/issues/6435", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/6435/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/6435/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/6435/events", "html_url": "https://github.com/Theano/Theano/issues/6435", "id": 259289793, "node_id": "MDU6SXNzdWUyNTkyODk3OTM=", "number": 6435, "title": "WrongValue error after 2 consecutives cudnn conv gradinput on same data with TRUE_HALF_CONFIG", "user": {"login": "notoraptor", "id": 3467054, "node_id": "MDQ6VXNlcjM0NjcwNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3467054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notoraptor", "html_url": "https://github.com/notoraptor", "followers_url": "https://api.github.com/users/notoraptor/followers", "following_url": "https://api.github.com/users/notoraptor/following{/other_user}", "gists_url": "https://api.github.com/users/notoraptor/gists{/gist_id}", "starred_url": "https://api.github.com/users/notoraptor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notoraptor/subscriptions", "organizations_url": "https://api.github.com/users/notoraptor/orgs", "repos_url": "https://api.github.com/users/notoraptor/repos", "events_url": "https://api.github.com/users/notoraptor/events{/privacy}", "received_events_url": "https://api.github.com/users/notoraptor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 343949161, "node_id": "MDU6TGFiZWwzNDM5NDkxNjE=", "url": "https://api.github.com/repos/Theano/Theano/labels/GPU%20-%20New%20back-end", "name": "GPU - New back-end", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-20T20:22:03Z", "updated_at": "2017-10-05T13:03:19Z", "closed_at": "2017-10-05T13:03:19Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "While debugging errors related to #5932 , I think I get a strange behaviour with cudnn conv gradinput, algo deterministic and float16 precision. When I compute gradinput with same arrays twice, I get expected results twice (compared to CPU) with float32 and float64, but I get a WrongValue error in the second call with float16.\r\n\r\nThis is a script to reproduce the problem (it contains code extracted from #5932 to ease tests). Script can receive the dtype as argument (float16, float32 and float64). To quick check used arrays, it also prints a hash of tensors involved in computation.\r\n\r\nScript: https://gist.github.com/notoraptor/f6f8cd0471c66a9de227ba85a1c47d21\r\n\r\nParameters used:\r\n- inputs shape (2, 3, 300, 5)\r\n- filters shape (2, 3, 40, 4)\r\n- borders (1, 1)\r\n- alpha 2\r\n- beta -3\r\n\r\nOutput with float64:\r\n```\r\n$ python ../test_dnn_float16.py float64\r\nUsing cuDNN version 7002 on context None\r\nMapped name None to device cuda: GeForce GTX 1050 (0000:01:00.0)\r\ndeterministic float64 float64 ((2, 3, 300, 5), (2, 3, 40, 4), (1, 1), (1, 1), (1, 1), 'conv', 2, -3)\r\nHash inputs_val            : eec5f0862f89822d1cbc830a89d49c72a318e98d5d4deedf6837dcd6864b674a\r\nHash filters_val           : 73ebccff5f4a23da52130e436000461c7f90929532557d6f14560c9b469ad89e\r\nHash topgrad_val           : b6ea724a38cdf6e2e80fb7617c7d7e6140a1d30a14c67cba47a3bbd420dee375\r\nHash CPU res before scaling: 6724456cb9ddc84e5696d25225a60f24ddb30589b532b3b17b970566c5d1f5c3\r\nHash     res before scaling: a3a871976ac9df9d5be88d62232637b0b1d3b86b857653769ee8006e3fc8dab5\r\nHash CPU res after  scaling: c7b3b0aa1108102193a059477647088c17c96e0e26cd8fa2271673e368394c1b\r\nHash     res after  scaling: 2295eda58b24fbbfcf23fc58a5ded70aba22861e70e4d0ed98d48a2fb7d81233\r\nCPU\r\n[-0.007 -0.003  0.001 -0.003 -0.007] [-0.007 -0.003  0.001 -0.003 -0.007]\r\nres\r\n[-0.007 -0.003  0.001 -0.003 -0.007] [-0.007 -0.003  0.001 -0.003 -0.007]\r\nHash inputs_val            : eec5f0862f89822d1cbc830a89d49c72a318e98d5d4deedf6837dcd6864b674a\r\nHash filters_val           : 73ebccff5f4a23da52130e436000461c7f90929532557d6f14560c9b469ad89e\r\nHash topgrad_val           : b6ea724a38cdf6e2e80fb7617c7d7e6140a1d30a14c67cba47a3bbd420dee375\r\nHash CPU res before scaling: 6724456cb9ddc84e5696d25225a60f24ddb30589b532b3b17b970566c5d1f5c3\r\nHash     res before scaling: a3a871976ac9df9d5be88d62232637b0b1d3b86b857653769ee8006e3fc8dab5\r\nHash CPU res after  scaling: c7b3b0aa1108102193a059477647088c17c96e0e26cd8fa2271673e368394c1b\r\nHash     res after  scaling: 2295eda58b24fbbfcf23fc58a5ded70aba22861e70e4d0ed98d48a2fb7d81233\r\nCPU\r\n[-0.007 -0.003  0.001 -0.003 -0.007] [-0.007 -0.003  0.001 -0.003 -0.007]\r\nres\r\n[-0.007 -0.003  0.001 -0.003 -0.007] [-0.007 -0.003  0.001 -0.003 -0.007]\r\n```\r\nAll involved arrays seems to produce the same hash in two consecutive calls, including the final compared arrays. Same with float32:\r\n```\r\n$ python ../test_dnn_float16.py float32\r\nUsing cuDNN version 7002 on context None\r\nMapped name None to device cuda: GeForce GTX 1050 (0000:01:00.0)\r\ndeterministic float32 float32 ((2, 3, 300, 5), (2, 3, 40, 4), (1, 1), (1, 1), (1, 1), 'conv', 2, -3)\r\nHash inputs_val            : a518f7a0714a3dbae64098dd20bffafe7e05930656f1af8c87f88890f6a38e6c\r\nHash filters_val           : 5b303e92bdf796b695727c933761789f03ebfde0d8f4dc483dcda9f67786430c\r\nHash topgrad_val           : 1638ed31f4b2a48af185ea85c1015f48100adaaba23a7b54415c24b1bfef9ec4\r\nHash CPU res before scaling: 98a8c169a9f6043797d091bf0e76ae9ba7c0826d0870f042d0da264637995fd5\r\nHash     res before scaling: 400ddfb76857e18460ad651e53de22feaea405af074eba61ea27f709ba3146b9\r\nHash CPU res after  scaling: 552f41fb940330ebbaafd9465424e17355bdb3c1cf3374adfe0591ca0d277cf3\r\nHash     res after  scaling: 660a8c3bec561eaee37a31317fab4937c2f3827a4a6a0953b568fd746483c900\r\nCPU\r\n[-0.007 -0.003  0.001 -0.003 -0.007] [-0.007 -0.003  0.001 -0.003 -0.007]\r\nres\r\n[-0.007 -0.003  0.001 -0.003 -0.007] [-0.007 -0.003  0.001 -0.003 -0.007]\r\nHash inputs_val            : a518f7a0714a3dbae64098dd20bffafe7e05930656f1af8c87f88890f6a38e6c\r\nHash filters_val           : 5b303e92bdf796b695727c933761789f03ebfde0d8f4dc483dcda9f67786430c\r\nHash topgrad_val           : 1638ed31f4b2a48af185ea85c1015f48100adaaba23a7b54415c24b1bfef9ec4\r\nHash CPU res before scaling: 98a8c169a9f6043797d091bf0e76ae9ba7c0826d0870f042d0da264637995fd5\r\nHash     res before scaling: 400ddfb76857e18460ad651e53de22feaea405af074eba61ea27f709ba3146b9\r\nHash CPU res after  scaling: 552f41fb940330ebbaafd9465424e17355bdb3c1cf3374adfe0591ca0d277cf3\r\nHash     res after  scaling: 660a8c3bec561eaee37a31317fab4937c2f3827a4a6a0953b568fd746483c900\r\nCPU\r\n[-0.007 -0.003  0.001 -0.003 -0.007] [-0.007 -0.003  0.001 -0.003 -0.007]\r\nres\r\n[-0.007 -0.003  0.001 -0.003 -0.007] [-0.007 -0.003  0.001 -0.003 -0.007]\r\n```\r\nBut with **``float16``**, output array computed on GPU changes in the second call (while CPU reference array stays the same):\r\n```\r\n$ python ../test_dnn_float16.py float16\r\nUsing cuDNN version 7002 on context None\r\nMapped name None to device cuda: GeForce GTX 1050 (0000:01:00.0)\r\ndeterministic float16 float16 ((2, 3, 300, 5), (2, 3, 40, 4), (1, 1), (1, 1), (1, 1), 'conv', 2, -3)\r\nHash inputs_val            : 2d3275bf1be3df5e27db19356f00dc87b8819a2f1cafe1b7419062398c163aa9\r\nHash filters_val           : 6782d9a2294dab8874c3cbbb1eafca69e7cb38e5d036de527f954047a8b1ad1b\r\nHash topgrad_val           : 182655443c9f857d5a350d9bb06a0b279ef20c9584c1b8e1de01e8e80c20566a\r\nHash CPU res before scaling: f8b0e94958a7ef7e9216fc161dfc40a216c0506b0bf535627fead3f6c8020fa4\r\nHash     res before scaling: b3de5f947fe0bcdf3f597a2ab0291338d11958113f1c96f2e1b715db9d730436\r\nHash CPU res after  scaling: 18301966109c4cc2b3213098ebdf9f6d2ea69873c6b70bd4b3474d7841f78133\r\nHash     res after  scaling: 582e1ec74e7aa6b75566013c74e7b58e2fabdf591f1207bebbe4480413305bdc\r\nCPU\r\n[-0.00699414 -0.00299609  0.00100195 -0.00299609 -0.00699414] [-0.00699414 -0.00299609  0.00100195 -0.00299609 -0.00699414]\r\nres\r\n[-0.00699615 -0.00299072  0.0010128  -0.00299072 -0.00699615] [-0.00699615 -0.00299072  0.0010128  -0.00299072 -0.00699615]\r\nHash inputs_val            : 2d3275bf1be3df5e27db19356f00dc87b8819a2f1cafe1b7419062398c163aa9\r\nHash filters_val           : 6782d9a2294dab8874c3cbbb1eafca69e7cb38e5d036de527f954047a8b1ad1b\r\nHash topgrad_val           : 182655443c9f857d5a350d9bb06a0b279ef20c9584c1b8e1de01e8e80c20566a\r\nHash CPU res before scaling: f8b0e94958a7ef7e9216fc161dfc40a216c0506b0bf535627fead3f6c8020fa4\r\nHash     res before scaling: e1a8c025456b8a2e0814c2dba20329c6f1654b72544905318fe6acf8a20d2d99\r\nHash CPU res after  scaling: 18301966109c4cc2b3213098ebdf9f6d2ea69873c6b70bd4b3474d7841f78133\r\nHash     res after  scaling: 837c67680554b33bb92cfe4ff0670f299d568bf01571142b4cd5e98ad9b243c1\r\nTraceback (most recent call last):\r\n  File \"../test_dnn_float16.py\", line 153, in <module>\r\n    run_conv_gradinput(algo, dtype, precision, parameters, allocator=np.ones)\r\n  File \"../test_dnn_float16.py\", line 131, in run_conv_gradinput\r\n    utt.assert_allclose(cpu_res, res, rtol=rtol, atol=atol)\r\n  File \"/mnt/00447B2C447B2396/Users/notoraptor/mila/dev/git/theano/theano/tests/unittest_tools.py\", line 358, in assert_allclose\r\n    raise WrongValue(expected, value, rtol, atol)\r\ntheano.tests.unittest_tools.WrongValue: WrongValue\r\n           : shape, dtype, strides, min, max, n_inf, n_nan:\r\n  Expected : (2, 3, 300, 5) float32 (18000, 6000, 20, 4) -0.00699414 0.304853 0 0 \r\n  Value    : (2, 3, 300, 5) float16 (9000, 3000, 10, 2) -0.0069962 0.30371 0 0\r\n\r\n...\r\n\r\n  Max Abs Diff:  0.0972115\r\n  Mean Abs Diff:  0.00536192\r\n  Median Abs Diff:  0.000527099\r\n  Std Abs Diff:  0.0137345\r\n  Max Rel Diff:  0.415143\r\n  Mean Rel Diff:  0.0326335\r\n  Median Rel Diff:  0.00288658\r\n  Std Rel Diff:  0.0830883\r\n\r\n  rtol, atol: 0.05 0.05\r\n```\r\nRan on Ubuntu 17.04 64 bits with cuDNN 7.0.2 and theano master branch.\r\n\r\nCan anyone confirm the problem on another computer ?\r\n\r\n@abergeron @nouiz @lamblin ", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/6435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/6435/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/6152", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/6152/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/6152/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/6152/events", "html_url": "https://github.com/Theano/Theano/issues/6152", "id": 242877118, "node_id": "MDU6SXNzdWUyNDI4NzcxMTg=", "number": 6152, "title": "model won't run on GPU with new backend", "user": {"login": "david-leon", "id": 23473037, "node_id": "MDQ6VXNlcjIzNDczMDM3", "avatar_url": "https://avatars.githubusercontent.com/u/23473037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-leon", "html_url": "https://github.com/david-leon", "followers_url": "https://api.github.com/users/david-leon/followers", "following_url": "https://api.github.com/users/david-leon/following{/other_user}", "gists_url": "https://api.github.com/users/david-leon/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-leon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-leon/subscriptions", "organizations_url": "https://api.github.com/users/david-leon/orgs", "repos_url": "https://api.github.com/users/david-leon/repos", "events_url": "https://api.github.com/users/david-leon/events{/privacy}", "received_events_url": "https://api.github.com/users/david-leon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 343949161, "node_id": "MDU6TGFiZWwzNDM5NDkxNjE=", "url": "https://api.github.com/repos/Theano/Theano/labels/GPU%20-%20New%20back-end", "name": "GPU - New back-end", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-07-14T02:02:35Z", "updated_at": "2017-07-21T17:50:53Z", "closed_at": "2017-07-20T15:30:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "The issue is related to Theano's optimization and new backend at GPU. The demo code will run on old backend (CPU and GPU), and new backend at CPU, but won't on new backend at GPU (except for `optimizer=None`), error raised as\r\n```\r\nValueError: GpuElemwise. Input dimension mis-match. Input 1 (indices start at 0) has shape[0] == 4, but the output's size on that axis is 31.\r\n```\r\nSeemed there was tensor reshaped wrongly inside the GPU.\r\n\r\nI've reduce the code as small as possible and put it in a repo [here](https://github.com/david-leon/theano_newbackend_debug) , to run the demo code, you'll need [Lasagne_CTC](https://github.com/david-leon/Lasagne_CTC) and [Lasagne_Ext](https://github.com/david-leon/Lasagne_Ext)\r\n\r\nI'm using the latest dev. version of Theano, cuDNN version 5105, Ubuntu 14.04, and Tesla M40.\r\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/6152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/6152/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/6142", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/6142/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/6142/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/6142/events", "html_url": "https://github.com/Theano/Theano/issues/6142", "id": 242357566, "node_id": "MDU6SXNzdWUyNDIzNTc1NjY=", "number": 6142, "title": "Slicing within tensordot", "user": {"login": "rpetit", "id": 23080067, "node_id": "MDQ6VXNlcjIzMDgwMDY3", "avatar_url": "https://avatars.githubusercontent.com/u/23080067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rpetit", "html_url": "https://github.com/rpetit", "followers_url": "https://api.github.com/users/rpetit/followers", "following_url": "https://api.github.com/users/rpetit/following{/other_user}", "gists_url": "https://api.github.com/users/rpetit/gists{/gist_id}", "starred_url": "https://api.github.com/users/rpetit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rpetit/subscriptions", "organizations_url": "https://api.github.com/users/rpetit/orgs", "repos_url": "https://api.github.com/users/rpetit/repos", "events_url": "https://api.github.com/users/rpetit/events{/privacy}", "received_events_url": "https://api.github.com/users/rpetit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 343949161, "node_id": "MDU6TGFiZWwzNDM5NDkxNjE=", "url": "https://api.github.com/repos/Theano/Theano/labels/GPU%20-%20New%20back-end", "name": "GPU - New back-end", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-12T12:07:03Z", "updated_at": "2017-07-19T18:03:34Z", "closed_at": "2017-07-19T18:03:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI noticed a weird result using slicing within tensordot. The following code shows how slicing in a call to theano.tensor.tensordot produces a different result from slicing in a call to a function mapping inputs to the result of theano.tensor.tensortdot.\r\n\r\nThe second value seems to be right since numpy.tensordot produces the same result.\r\n\r\nI checked the `t[..., 0]` syntax (t being a theano tensor) which seems to work properly. \r\n\r\n```\r\nimport numpy as np\r\nimport theano\r\nimport theano.tensor as T\r\n\r\nfloatX = theano.config.floatX\r\n\r\na1 = T.matrix(dtype=floatX)\r\nb1 = T.tensor3(dtype=floatX)\r\nc1 = T.tensordot(a1, b1[..., 0])\r\n\r\ntestFunc1 = theano.function([a1, b1], c1)\r\n\r\na2 = T.matrix(dtype=floatX)\r\nb2 = T.matrix(dtype=floatX)\r\nc2 = T.tensordot(a2, b2)\r\n\r\ntestFunc2 = theano.function([a2, b2], c2)\r\n\r\nmat = np.random.random((3, 3)).astype(floatX)\r\ntensor = np.random.random((3, 3, 2)).astype(floatX)\r\n\r\nprint(testFunc1(mat, tensor)) # slicing in call to theano.tensor.tensordot\r\nprint(testFunc2(mat, tensor[..., 0])) # slicing in call to theano function\r\nprint(np.tensordot(mat, tensor[..., 0])) # slicing in call to numpy.tensordot\r\nprint(np.tensordot(mat, tensor)[0]) # no slicing with numpy.tensordot\r\n```\r\n\r\n(This result was obtained using theano 0.9)", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/6142/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/6142/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/6096", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/6096/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/6096/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/6096/events", "html_url": "https://github.com/Theano/Theano/issues/6096", "id": 239958648, "node_id": "MDU6SXNzdWUyMzk5NTg2NDg=", "number": 6096, "title": "mrg uniform include the lower bound, should exclude it.", "user": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190404, "node_id": "MDU6TGFiZWwxOTA0MDQ=", "url": "https://api.github.com/repos/Theano/Theano/labels/High%20Priority", "name": "High Priority", "color": "FF9D00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-07-01T16:25:38Z", "updated_at": "2017-07-13T19:13:27Z", "closed_at": "2017-07-13T19:13:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "see: [lasagne-users] float16 issues\r\n\r\nMostly the uniform generator include the lower bound 0, while it should exclude it.\r\n\r\nThis cause the normal generator to do log(0), so it return an inf.", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/6096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/6096/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/5919", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/5919/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/5919/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/5919/events", "html_url": "https://github.com/Theano/Theano/issues/5919", "id": 226705315, "node_id": "MDU6SXNzdWUyMjY3MDUzMTU=", "number": 5919, "title": "Error in local_adv_sub1_adv_inc_sub1", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 14756409, "node_id": "MDU6TGFiZWwxNDc1NjQwOQ==", "url": "https://api.github.com/repos/Theano/Theano/labels/Optimization", "name": "Optimization", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-05T22:13:47Z", "updated_at": "2017-05-06T14:10:10Z", "closed_at": "2017-05-06T14:10:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Reported by @rizar.\r\n```python\r\nimport numpy\r\nrng = numpy.random.RandomState(1)\r\nimport sys\r\n\r\nfrom theano import tensor as T\r\n\r\nn = 32\r\nm = 100\r\nd = 500\r\nk = 1000\r\ndim = 300\r\nbatch_shape = (n, m)\r\n\r\ndef_map = [rng.randint(0, n, size=(k,)),\r\n           rng.randint(0, m, size=(k,)),\r\n           rng.randint(0, d, size=(k,))]\r\ndef_map = T.as_tensor_variable(def_map).T\r\n\r\ndef_embeddings = rng.rand(d, dim)\r\ndef_embeddings = T.as_tensor_variable(def_embeddings)\r\n\r\nflat_indices = def_map[:, 0] * batch_shape[1] + def_map[:, 1] # Index of word in flat\r\n\r\n# def_map is (seq_pos, word_pos, def_index)\r\n# def_embeddings is (id, emb_dim)\r\n\r\ndef_buffer = T.zeros((batch_shape[0] * batch_shape[1], def_embeddings.shape[1]))\r\nlen_buffer = T.zeros_like(def_buffer[:, 0])\r\ndef_lens = T.inc_subtensor(len_buffer[flat_indices], 1)\r\n\r\ndef_sum = T.inc_subtensor(def_buffer[flat_indices],\r\n                          def_embeddings[def_map[:, 2]])\r\ndef_mean1 = def_sum / T.maximum(def_lens[:, None], 1)\r\n\r\ngates = T.zeros(k)\r\n\r\n# Dima: this is numerically unstable. But maybe it can work.\r\n# If it can work, we can avoid too much coding.\r\ndef_normalization = T.zeros_like(def_lens)\r\ndef_normalization = T.inc_subtensor(\r\n    def_normalization[flat_indices], T.exp(gates))\r\ngates = T.exp(gates) / def_normalization[flat_indices]\r\n\r\ndef_mean = T.inc_subtensor(\r\n    def_buffer[flat_indices],\r\n    gates[:, None] * def_embeddings[def_map[:, 2]])\r\nprint (def_mean - def_mean1).max().eval()\r\n```\r\n\r\n- Works with `THEANO_FLAGS=\"optimizer=fast_compile\"`\r\n- Fails with `THEANO_FLAGS=\"optimizer=fast_run\"`\r\n- Works with `THEANO_FLAGS=\"optimizer=fast_run,optimizer_excluding=local_adv_sub1_adv_inc_sub1\"`\r\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/5919/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/5919/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/5790", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/5790/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/5790/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/5790/events", "html_url": "https://github.com/Theano/Theano/issues/5790", "id": 218279910, "node_id": "MDU6SXNzdWUyMTgyNzk5MTA=", "number": 5790, "title": "Return correct gradient in ARange with float dtype (and floatX-typed gradient when dtype is discrete)", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 151760713, "node_id": "MDU6TGFiZWwxNTE3NjA3MTM=", "url": "https://api.github.com/repos/Theano/Theano/labels/CCW", "name": "CCW", "color": "f7c6c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-03-30T18:03:04Z", "updated_at": "2017-09-28T21:03:40Z", "closed_at": "2017-09-28T21:03:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, the [implementation](https://github.com/Theano/Theano/blob/372ae95ef9aae402b7f426d159585d26556eb0a1/theano/tensor/basic.py#L5395-L5397) re-uses the dtype of the inptus, which is not correct.\r\n\r\nI think there is a helper function to get the right dtype (floatX if dtype in discrete_dtypes, else dtype) somewhere.", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/5790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/5790/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/5780", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/5780/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/5780/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/5780/events", "html_url": "https://github.com/Theano/Theano/issues/5780", "id": 217617817, "node_id": "MDU6SXNzdWUyMTc2MTc4MTc=", "number": 5780, "title": "Derivative wrt intermediate lay. is zero when using libguarray", "user": {"login": "nlgranger", "id": 3764009, "node_id": "MDQ6VXNlcjM3NjQwMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/3764009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlgranger", "html_url": "https://github.com/nlgranger", "followers_url": "https://api.github.com/users/nlgranger/followers", "following_url": "https://api.github.com/users/nlgranger/following{/other_user}", "gists_url": "https://api.github.com/users/nlgranger/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlgranger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlgranger/subscriptions", "organizations_url": "https://api.github.com/users/nlgranger/orgs", "repos_url": "https://api.github.com/users/nlgranger/repos", "events_url": "https://api.github.com/users/nlgranger/events{/privacy}", "received_events_url": "https://api.github.com/users/nlgranger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190404, "node_id": "MDU6TGFiZWwxOTA0MDQ=", "url": "https://api.github.com/repos/Theano/Theano/labels/High%20Priority", "name": "High Priority", "color": "FF9D00", "default": false, "description": null}, {"id": 69463258, "node_id": "MDU6TGFiZWw2OTQ2MzI1OA==", "url": "https://api.github.com/repos/Theano/Theano/labels/Scan", "name": "Scan", "color": "0052cc", "default": false, "description": null}, {"id": 343949161, "node_id": "MDU6TGFiZWwzNDM5NDkxNjE=", "url": "https://api.github.com/repos/Theano/Theano/labels/GPU%20-%20New%20back-end", "name": "GPU - New back-end", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-03-28T16:27:06Z", "updated_at": "2017-03-30T08:42:53Z", "closed_at": "2017-03-30T08:42:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using a (temporal) model with two parts:\r\n- a frame-wise feature extractor that takes observations from sequences and returns features for each\r\n- a bidirectional lstm above for temporal modelling\r\n\r\nThe bottom part is too big to backpropagate the error for all the samples in a batch, so I backpropagate in two steps:\r\n- backpropagation in the upper part and computation of the error wrt. the outputs of the bottom\r\n- selection of a subset of observations/feature pairs which are used to backpropagate the error in the bottom part.\r\n\r\n*TLDR;* When using the gpuarray backend, the derivative of the error wrt. to the output of the feature extractor is exactly zero everywhere.\r\n\r\nfeed-forward:\r\n```\r\n|RNN|->|RNN|->|RNN|->|RNN|->|RNN|->|RNN|\r\n  ^      ^      ^      ^      ^      ^\r\n  |      |      |      |      |      |\r\n|MLP|  |MLP|  |MLP|  |MLP|  |MLP|  |MLP| \r\n```\r\nbackprop\r\n```\r\n< ------ loss ----->\r\n  |      |      |      |      |      |\r\n|RNN|<-|RNN|<-|RNN|<-|RNN|<-|RNN|<-|RNN|\r\n  x      |      x      |      x      |   <- derivative of the loss wrt to the output of the MLP is zero \r\n|MLP|  |MLP|  |MLP|  |MLP|  |MLP|  |MLP| \r\n```\r\n\r\n`minimal.py` and the extra files attached below contains a simplified training process that will stop at the first batch and print the range of values in the problematic gradient:\r\n\r\n```\r\n> THEANO_FLAGS='device=cuda0' PYTHONPATH=. python ~/minimal.py \r\nUsing cuDNN version 5005 on context None\r\nPreallocating 5467/6075 Mb (0.900000) on cuda0\r\nMapped name None to device cuda0: GeForce GTX 980 Ti (0000:03:00.0)\r\n-0.0 -0.0\r\n> THEANO_FLAGS='device=gpu0' PYTHONPATH=. python ~/minimal.py \r\nWARNING (theano.sandbox.cuda): The cuda backend is deprecated and will be removed in the next release (v0.10).  Please switch to the gpuarray backend. You can get more information about how to switch at this URL:\r\n https://github.com/Theano/Theano/wiki/Converting-to-the-new-gpu-back-end%28gpuarray%29\r\n\r\nUsing gpu device 0: GeForce GTX 980 Ti (CNMeM is enabled with initial size: 90.0% of memory, cuDNN 5005)\r\n-7.77405e-05 8.36551e-05\r\n```\r\n\r\nSetup:\r\n- Theano ver. b3d19ce8e8d7cdf87c3f84599be81647803aa1f6 Fri Mar 24 15:55:46 2017 -0400\r\n- Lasagne ver. 45bb5689f0b2edb7114608e88305e8074d29bbe7 Sun Mar 12 12:29:08 2017 +0100\r\n- libgpuarray ver. c4789b7f8cdd03a599c1ef92426e3f8fb164cfde Tue Mar 21 17:07:13 2017 -0400\r\n- python 3.6.0\r\n- linux 4.10.5 x86_64\r\n- GPU GeForce GTX 980 Ti or Quadro K2000\r\n- theanorc: optimizer = fast_compile or fast_run, cnmem=0.9, cudnn _5.0.5_\r\n\r\n\r\n[zero_derivative.zip](https://github.com/Theano/Theano/files/876347/zero_derivative.zip)", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/5780/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/5780/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/5674", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/5674/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/5674/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/5674/events", "html_url": "https://github.com/Theano/Theano/issues/5674", "id": 212563739, "node_id": "MDU6SXNzdWUyMTI1NjM3Mzk=", "number": 5674, "title": "GpuAdvancedSubtensor of tensor3/4 gives incorrect output with new gpuarray backend.", "user": {"login": "HapeMask", "id": 1616684, "node_id": "MDQ6VXNlcjE2MTY2ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1616684?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HapeMask", "html_url": "https://github.com/HapeMask", "followers_url": "https://api.github.com/users/HapeMask/followers", "following_url": "https://api.github.com/users/HapeMask/following{/other_user}", "gists_url": "https://api.github.com/users/HapeMask/gists{/gist_id}", "starred_url": "https://api.github.com/users/HapeMask/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HapeMask/subscriptions", "organizations_url": "https://api.github.com/users/HapeMask/orgs", "repos_url": "https://api.github.com/users/HapeMask/repos", "events_url": "https://api.github.com/users/HapeMask/events{/privacy}", "received_events_url": "https://api.github.com/users/HapeMask/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 343949161, "node_id": "MDU6TGFiZWwzNDM5NDkxNjE=", "url": "https://api.github.com/repos/Theano/Theano/labels/GPU%20-%20New%20back-end", "name": "GPU - New back-end", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/6", "html_url": "https://github.com/Theano/Theano/milestone/6", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/6/labels", "id": 1586579, "node_id": "MDk6TWlsZXN0b25lMTU4NjU3OQ==", "number": 6, "title": "0.9", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 104, "state": "closed", "created_at": "2016-02-16T19:03:10Z", "updated_at": "2017-07-31T20:15:25Z", "due_on": null, "closed_at": "2017-07-31T20:15:25Z"}, "comments": 2, "created_at": "2017-03-07T21:26:43Z", "updated_at": "2017-03-08T20:33:47Z", "closed_at": "2017-03-08T20:33:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've found an inconsistency in the output of advanced indexing on 3D/4D tensors with the gpuarray backend (I wasn't able to reproduce the issue with a matrix). I wasn't sure whether to submit this here or on libgpuarray so please let me know if it's in the wrong place.\r\n\r\nHere's a small example that produces the problem:\r\n\r\n```python\r\nimport numpy as np\r\nimport theano.tensor as tt\r\n\r\nX = tt.tensor3(\"X\")\r\n\r\nxx = np.zeros((3,2,2), np.float32)\r\nfor i in range(3):\r\n    for j in range(2):\r\n        for k in range(2):\r\n            xx[i,j,k] = 100*i+10*j+k\r\n\r\nb_idx = np.zeros((2,2), np.int32)\r\nb_idx[0,1] = 1\r\nb_idx[1,1] = 2\r\n\r\nr_idx = np.arange(xx.shape[1])[np.newaxis, :]\r\nc_idx = np.arange(xx.shape[2])[np.newaxis, :]\r\n\r\nout = X[b_idx, r_idx, c_idx].eval({X:xx})\r\n```\r\n\r\nIf you run the code with `THEANO_FLAGS=\"mode=DebugMode,device=cuda\"`, it raises a BadOptimizationError when the AdvancedSubtensor op gets moved to the GPU. (There's no error running w/device=gpu)\r\n\r\n```\r\ntheano.compile.debugmode.BadOptimization: BadOptimization Error \r\n  Variable: id 140699957263104 HostFromGpu(gpuarray).0\r\n  Op HostFromGpu(gpuarray)(GpuAdvancedSubtensor.0)\r\n  Value Type: <class 'numpy.ndarray'>\r\n  Old Value shape, dtype, strides: (2, 2) float32 (8, 4)\r\n\r\n  Old Value:  [[   0.  111.]\r\n               [   0.  211.]]\r\n  New Value shape, dtype, strides: (2, 2) float32 (8, 4)\r\n\r\n  New Value:  [[   0.  101.]\r\n               [   0.  111.]]\r\n  Max Abs Diff:  100.0\r\n  Mean Abs Diff:  27.5\r\n  Median Abs Diff:  5.0\r\n  Std Abs Diff:  42.0565\r\n  Value at Max Diff:  (111.0, 211.0)\r\n  Max Rel Diff:  0.310559\r\n  Mean Rel Diff:  0.0894322\r\n  Median Rel Diff:  0.0235849\r\n  Std Rel Diff:  0.129112\r\n  Value at Max Diff:  (111.0, 211.0)\r\n\r\n  Reason:  GraphToGPU\r\n  Old Graph:\r\n  AdvancedSubtensor [id A] ''   \r\n   |X [id B]\r\n   |TensorConstant{[[0 1]\r\n [0 2]]} [id C]\r\n   |TensorConstant{[[0 1]]} [id D]\r\n   |TensorConstant{[[0 1]]} [id D]\r\n\r\n  New Graph:\r\n  HostFromGpu(gpuarray) [id E] ''   \r\n   |GpuAdvancedSubtensor [id F] ''   \r\n     |GpuFromHost<None> [id G] ''   \r\n     | |X [id B]\r\n     |TensorConstant{[[0 1]\r\n [0 2]]} [id C]\r\n     |TensorConstant{[[0 1]]} [id D]\r\n     |TensorConstant{[[0 1]]} [id D]\r\n```\r\n\r\nI'm running the latest master versions of theano and libgpuarray:\r\n\r\n```\r\n>>> theano.__version__\r\n'0.9.0rc3.dev-ee9eaeb04fa3be723341d0c7ab9918391d0b89c8'\r\n```\r\n\r\n```\r\nlibgpuarray]$ git rev-parse HEAD\r\n23c8f004968f2d7703612f2ebb0e2da1b112bc7d\r\n```", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/5674/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/5674/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/5623", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/5623/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/5623/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/5623/events", "html_url": "https://github.com/Theano/Theano/issues/5623", "id": 210109050, "node_id": "MDU6SXNzdWUyMTAxMDkwNTA=", "number": 5623, "title": "Do not use unsafe warp synchronous programming", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 343949161, "node_id": "MDU6TGFiZWwzNDM5NDkxNjE=", "url": "https://api.github.com/repos/Theano/Theano/labels/GPU%20-%20New%20back-end", "name": "GPU - New back-end", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/6", "html_url": "https://github.com/Theano/Theano/milestone/6", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/6/labels", "id": 1586579, "node_id": "MDk6TWlsZXN0b25lMTU4NjU3OQ==", "number": 6, "title": "0.9", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 104, "state": "closed", "created_at": "2016-02-16T19:03:10Z", "updated_at": "2017-07-31T20:15:25Z", "due_on": null, "closed_at": "2017-07-31T20:15:25Z"}, "comments": 3, "created_at": "2017-02-24T17:27:32Z", "updated_at": "2017-02-28T22:15:23Z", "closed_at": "2017-02-28T22:15:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It seems that [warp synchronous programming is a lie](https://github.com/AccelerateHS/accelerate/issues/167), and that it was the issue behind #5475, #5512, etc., with newer drivers.\r\n\r\nWe should:\r\n- find an appropriate, safe solution\r\n- find all the places in Theano to apply it.", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/5623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/5623/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/5587", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/5587/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/5587/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/5587/events", "html_url": "https://github.com/Theano/Theano/pull/5587", "id": 208991436, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA3MDgyNDI5", "number": 5587, "title": "Scan fix", "user": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/6", "html_url": "https://github.com/Theano/Theano/milestone/6", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/6/labels", "id": 1586579, "node_id": "MDk6TWlsZXN0b25lMTU4NjU3OQ==", "number": 6, "title": "0.9", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 104, "state": "closed", "created_at": "2016-02-16T19:03:10Z", "updated_at": "2017-07-31T20:15:25Z", "due_on": null, "closed_at": "2017-07-31T20:15:25Z"}, "comments": 1, "created_at": "2017-02-20T22:01:08Z", "updated_at": "2017-02-21T15:05:58Z", "closed_at": "2017-02-21T13:43:18Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Theano/Theano/pulls/5587", "html_url": "https://github.com/Theano/Theano/pull/5587", "diff_url": "https://github.com/Theano/Theano/pull/5587.diff", "patch_url": "https://github.com/Theano/Theano/pull/5587.patch", "merged_at": "2017-02-21T13:43:18Z"}, "body": "fix gh-5586", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/5587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/5587/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Theano/Theano/issues/5586", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/5586/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/5586/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/5586/events", "html_url": "https://github.com/Theano/Theano/issues/5586", "id": 208978050, "node_id": "MDU6SXNzdWUyMDg5NzgwNTA=", "number": 5586, "title": "Test fail deterministically in DebugMode theano/scan_module/tests/test_scan_opt.py:TestGaussNewton.test_nobatch", "user": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 69463258, "node_id": "MDU6TGFiZWw2OTQ2MzI1OA==", "url": "https://api.github.com/repos/Theano/Theano/labels/Scan", "name": "Scan", "color": "0052cc", "default": false, "description": null}, {"id": 331000513, "node_id": "MDU6TGFiZWwzMzEwMDA1MTM=", "url": "https://api.github.com/repos/Theano/Theano/labels/Regression", "name": "Regression", "color": "e11d21", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/6", "html_url": "https://github.com/Theano/Theano/milestone/6", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/6/labels", "id": 1586579, "node_id": "MDk6TWlsZXN0b25lMTU4NjU3OQ==", "number": 6, "title": "0.9", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 104, "state": "closed", "created_at": "2016-02-16T19:03:10Z", "updated_at": "2017-07-31T20:15:25Z", "due_on": null, "closed_at": "2017-07-31T20:15:25Z"}, "comments": 1, "created_at": "2017-02-20T20:44:02Z", "updated_at": "2017-02-21T13:43:18Z", "closed_at": "2017-02-21T13:43:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This test always fail in DebugMode.\r\n\r\nTHEANO_FLAGS=DebugMode.patience=1,mode=DebugMode theano-nose theano/scan_module/tests/test_scan_opt.py:TestGaussNewton.test_nobatch -s --pdb --pdb-failure\r\n\r\nIt is the scanOp_save_mem opt that seem to shift all result when it should not do so. Here is the error:\r\n```\r\n======================================================================\r\nERROR: test_nobatch (theano.scan_module.tests.test_scan_opt.TestGaussNewton)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/u/bastienf/repos/Theano/theano/scan_module/tests/test_scan_opt.py\", line 119, in test_nobatch\r\n    class GaussNewtonMatrix(object):\r\n  File \"/u/bastienf/repos/Theano/theano/scan_module/tests/test_scan_opt.py\", line 106, in _run\r\n    f()\r\n  File \"/u/bastienf/repos/Theano/theano/compile/function_module.py\", line 884, in __call__\r\n    self.fn() if output_subset is None else\\\r\n  File \"/u/bastienf/repos/Theano/theano/compile/debugmode.py\", line 2305, in deco\r\n    return f()\r\n  File \"/u/bastienf/repos/Theano/theano/compile/debugmode.py\", line 2230, in f\r\n    r_vals)\r\n  File \"/u/bastienf/repos/Theano/theano/compile/debugmode.py\", line 1078, in _find_bad_optimizations0\r\n    new_graph=new_graph_str)\r\nBadOptimization: BadOptimization Error \r\n  Variable: id 140677454264592 Subtensor{::int64}.0\r\n  Op Subtensor{::int64}(Subtensor{int64:int64:int8}.0, Constant{1})\r\n  Value Type: <type 'numpy.ndarray'>\r\n  Old Value shape, dtype, strides: (10, 10) float64 (80, 8)\r\n\r\n  Old Value:  [[ 0.45176911  0.436364    0.44078463  0.43683308  0.4447106   0.42295613\r\n   0.50847826  0.47602453  0.45637602  0.47293546]\r\n [ 0.51382751  0.51165349  0.47543479  0.53047943  0.50142264  0.48407497\r\n   0.51621107  0.51573665  0.50520342  0.53558663]\r\n [ 0.55589683  0.49987857  0.49289679  0.57590271  0.51975115  0.51570383\r\n   0.55758665  0.54078606  0.54665063  0.54495092]\r\n [ 0.45316789  0.42250768  0.43212262  0.4732338   0.46341912  0.4823203\r\n   0.47384448  0.49727241  0.4833003   0.48690126]\r\n [ 0.515654    0.486016    0.48040412  0.52063374  0.48240941  0.47240748\r\n   0.53208756  0.52581719  0.50153071  0.4975123 ]\r\n [ 0.49802653  0.47392992  0.44635642  0.48402941  0.46828034  0.45190321\r\n   0.47732847  0.48928166  0.48246821  0.48137742]\r\n [ 0.49570112  0.46813647  0.46155462  0.48750967   ...\r\n  New Value shape, dtype, strides: (10, 10) float64 (80, 8)\r\n\r\n  New Value:  [[ 0.          0.          0.          0.          0.          0.          0.\r\n   0.          0.          0.        ]\r\n [ 0.45176911  0.436364    0.44078463  0.43683308  0.4447106   0.42295613\r\n   0.50847826  0.47602453  0.45637602  0.47293546]\r\n [ 0.51382751  0.51165349  0.47543479  0.53047943  0.50142264  0.48407497\r\n   0.51621107  0.51573665  0.50520342  0.53558663]\r\n [ 0.55589683  0.49987857  0.49289679  0.57590271  0.51975115  0.51570383\r\n   0.55758665  0.54078606  0.54665063  0.54495092]\r\n [ 0.45316789  0.42250768  0.43212262  0.4732338   0.46341912  0.4823203\r\n   0.47384448  0.49727241  0.4833003   0.48690126]\r\n [ 0.515654    0.486016    0.48040412  0.52063374  0.48240941  0.47240748\r\n   0.53208756  0.52581719  0.50153071  0.4975123 ]\r\n [ 0.49802653  0.47392992  0.44635642  0.48402941  0.468280 ...\r\n  Max Abs Diff:  0.508478258386\r\n  Mean Abs Diff:  0.0731873411236\r\n  Median Abs Diff:  0.031827912461\r\n  Std Abs Diff:  0.129511172417\r\n  Value at Max Diff:  (0.0, 0.50847825838649241)\r\n  Max Rel Diff:  1.0\r\n  Mean Rel Diff:  0.128204322697\r\n  Median Rel Diff:  0.0317529552746\r\n  Std Rel Diff:  0.291558012091\r\n  Value at Max Diff:  (0.0, 0.45176910549191918)\r\n\r\n  Reason:  scanOp_save_mem\r\n  Old Graph:\r\n  Subtensor{int64:int64:int8} [id A] ''   \r\n   |for{cpu,rop_of_scan_fn&scan_fn&scan_fn}.3 [id B] ''   \r\n   | |Shape_i{0} [id C] ''   \r\n   | | |<TensorType(float64, matrix)> [id D]\r\n   | |Subtensor{int64:int64:int8} [id E] ''   \r\n   | | |<TensorType(float64, matrix)> [id D]\r\n   | | |ScalarFromTensor [id F] ''   \r\n   | | | |Elemwise{switch,no_inplace} [id G] ''   \r\n   | | |   |Elemwise{le,no_inplace} [id H] ''   \r\n   | | |   |TensorConstant{0} [id I]\r\n   | | |   |TensorConstant{0} [id J]\r\n   | | |ScalarFromTensor [id K] ''   \r\n   | | | |Shape_i{0} [id C] ''   \r\n   | | |Constant{1} [id L]\r\n   | |Alloc [id M] ''   \r\n   | | |TensorConstant{(1, 1) of 0.0} [id N]\r\n   | | |Elemwise{sub,no_inplace} [id O] ''   \r\n   | | | |Elemwise{switch,no_inplace} [id P] ''   \r\n   | | | | |Elemwise{lt,no_inplace} [id Q] ''   \r\n   | | | | |TensorConstant{0} [id R]\r\n   | | | | |Elemwise{switch,no_inplace} [id S] ''   \r\n   | | | |Elemwise{switch,no_inplace} [id T] ''   \r\n   | | |   |Elemwise{lt,no_inplace} [id U] ''   \r\n   | | |   |Elemwise{switch,no_inplace} [id V] ''   \r\n   | | |   |Elemwise{switch,no_inplace} [id P] ''   \r\n   | | |Shape_i{1} [id W] ''   \r\n   | |   |<TensorType(float64, matrix)> [id D]\r\n   | |IncSubtensor{Set;:int64:} [id X] ''   \r\n   | | |AllocEmpty{dtype='float64'} [id Y] ''   \r\n   | | | |TensorConstant{1} [id Z]\r\n   | | | |TensorConstant{10} [id BA]\r\n   | | |TensorConstant{(1, 10) of 0.0} [id BB]\r\n   | | |Constant{1} [id BC]\r\n   | |Subtensor{:int64:} [id BD] ''   \r\n   | | |Alloc [id BE] ''   \r\n   | | | |TensorConstant{0.0} [id BF]\r\n   | | | |Elemwise{add,no_inplace} [id BG] ''   \r\n   | | | | |TensorConstant{1} [id BH]\r\n   | | | | |Shape_i{0} [id C] ''   \r\n   | | | |TensorConstant{10} [id BI]\r\n   | | |ScalarFromTensor [id BJ] ''   \r\n   | |   |Elemwise{maximum,no_inplace} [id BK] ''   \r\n   | |     |Elemwise{maximum,no_inplace} [id BL] ''   \r\n   | |     |TensorConstant{1} [id Z]\r\n   | |IncSubtensor{Set;:int64:} [id BM] ''   \r\n   | | |AllocEmpty{dtype='float64'} [id BN] ''   \r\n   | | | |Elemwise{add,no_inplace} [id BO] ''   \r\n   | | | | |Elemwise{switch,no_inplace} [id BP] ''   \r\n   | | | | |TensorConstant{1} [id BQ]\r\n   | | | |TensorConstant{10} [id BR]\r\n   | | |TensorConstant{(1, 10) of 0.0} [id BB]\r\n   | | |Constant{1} [id BS]\r\n   | |IncSubtensor{Set;:int64:} [id BT] ''   \r\n   | | |AllocEmpty{dtype='float64'} [id BU] ''   \r\n   | | | |Elemwise{add,no_inplace} [id BV] ''   \r\n   | | | | |Elemwise{switch,no_inplace} [id BW] ''   \r\n   | | | | |TensorConstant{1} [id BQ]\r\n   | | | |TensorConstant{10} [id BR]\r\n   | | |TensorConstant{(1, 10) of 0.0} [id BB]\r\n   | | |Constant{1} [id BS]\r\n   | |<TensorType(float64, matrix)> [id BX]\r\n   | |<TensorType(float64, matrix)> [id BY]\r\n   | |<TensorType(float64, vector)> [id BZ]\r\n   | |TensorConstant{(1,) of 1.0} [id CA]\r\n   | |TensorConstant{(1,) of 1} [id CB]\r\n   | |Elemwise{mul,no_inplace} [id CC] ''   \r\n   | | |TensorConstant{(1, 1) of 2.0} [id CD]\r\n   | | |<TensorType(float64, matrix)> [id BX]\r\n   | |Elemwise{mul,no_inplace} [id CE] ''   \r\n   | | |TensorConstant{(1, 1) of 2.0} [id CD]\r\n   | | |<TensorType(float64, matrix)> [id BY]\r\n   | |Elemwise{mul,no_inplace} [id CF] ''   \r\n   |   |TensorConstant{(1,) of 2.0} [id CG]\r\n   |   |<TensorType(float64, vector)> [id BZ]\r\n   |ScalarFromTensor [id CH] ''   \r\n   | |Elemwise{add,no_inplace} [id CI] ''   \r\n   |   |Elemwise{sub,no_inplace} [id CJ] ''   \r\n   |   | |Elemwise{sub,no_inplace} [id CK] ''   \r\n   |   | | |Elemwise{switch,no_inplace} [id CL] ''   \r\n   |   | | |Shape_i{0} [id C] ''   \r\n   |   | |TensorConstant{1} [id CM]\r\n   |   |Elemwise{maximum,no_inplace} [id CN] ''   \r\n   |     |Elemwise{add,no_inplace} [id CO] ''   \r\n   |     | |Elemwise{sub,no_inplace} [id CP] ''   \r\n   |     | |TensorConstant{1} [id BQ]\r\n   |     |TensorConstant{2} [id CQ]\r\n   |ScalarFromTensor [id CR] ''   \r\n   | |Elemwise{add,no_inplace} [id CS] ''   \r\n   |   |Elemwise{sub,no_inplace} [id CT] ''   \r\n   |   | |Elemwise{sub,no_inplace} [id CU] ''   \r\n   |   | | |Elemwise{add,no_inplace} [id BG] ''   \r\n   |   | | |Shape_i{0} [id C] ''   \r\n   |   | |TensorConstant{1} [id CV]\r\n   |   |Elemwise{maximum,no_inplace} [id CN] ''   \r\n   |Constant{1} [id CW]\r\n\r\n  New Graph:\r\n  Subtensor{::int64} [id CX] ''   \r\n   |Subtensor{int64:int64:int8} [id CY] ''   \r\n   | |for{cpu,rop_of_scan_fn&scan_fn&scan_fn}.3 [id CZ] ''   \r\n   | | |Elemwise{maximum,no_inplace} [id DA] ''   \r\n   | | | |Elemwise{minimum,no_inplace} [id DB] ''   \r\n   | | | | |Elemwise{maximum,no_inplace} [id DC] ''   \r\n   | | | | |Shape_i{0} [id C] ''   \r\n   | | | |InplaceDimShuffle{} [id DD] ''   \r\n   | | |   |Elemwise{Cast{int64}} [id DE] ''   \r\n   | | |Subtensor{int64:int64:int8} [id E] ''   \r\n   | | |Alloc [id M] ''   \r\n   | | |IncSubtensor{Set;:int64:} [id DF] ''   \r\n   | | | |AllocEmpty{dtype='float64'} [id DG] ''   \r\n   | | | | |TensorConstant{1} [id DH]\r\n   | | | | |TensorConstant{10} [id DI]\r\n   | | | |TensorConstant{(1, 10) of 0.0} [id BB]\r\n   | | | |Constant{1} [id DJ]\r\n   | | |Subtensor{:int64:} [id DK] ''   \r\n   | | | |Subtensor{:int64:} [id BD] ''   \r\n   | | | |ScalarFromTensor [id DL] ''   \r\n   | | |   |Elemwise{maximum,no_inplace} [id DM] ''   \r\n   | | |IncSubtensor{Set;:int64:} [id DN] ''   \r\n   | | | |AllocEmpty{dtype='float64'} [id DO] ''   \r\n   | | | | |Elemwise{add,no_inplace} [id DP] ''   \r\n   | | | | |TensorConstant{10} [id DI]\r\n   | | | |TensorConstant{(1, 10) of 0.0} [id BB]\r\n   | | | |Constant{1} [id DJ]\r\n   | | |IncSubtensor{Set;:int64:} [id DQ] ''   \r\n   | | | |AllocEmpty{dtype='float64'} [id DR] ''   \r\n   | | | | |Elemwise{add,no_inplace} [id DS] ''   \r\n   | | | | |TensorConstant{10} [id DI]\r\n   | | | |TensorConstant{(1, 10) of 0.0} [id BB]\r\n   | | | |Constant{1} [id DJ]\r\n   | | |<TensorType(float64, matrix)> [id BX]\r\n   | | |<TensorType(float64, matrix)> [id BY]\r\n   | | |<TensorType(float64, vector)> [id BZ]\r\n   | | |TensorConstant{(1,) of 1.0} [id CA]\r\n   | | |TensorConstant{(1,) of 1} [id CB]\r\n   | | |Elemwise{mul,no_inplace} [id CC] ''   \r\n   | | |Elemwise{mul,no_inplace} [id CE] ''   \r\n   | | |Elemwise{mul,no_inplace} [id CF] ''   \r\n   | |ScalarFromTensor [id DT] ''   \r\n   | | |Elemwise{add,no_inplace} [id DU] ''   \r\n   | |   |Elemwise{sub,no_inplace} [id DV] ''   \r\n   | |   | |Elemwise{sub,no_inplace} [id DW] ''   \r\n   | |   | |TensorConstant{1} [id DX]\r\n   | |   |Elemwise{maximum,no_inplace} [id DY] ''   \r\n   | |     |Elemwise{add,no_inplace} [id DZ] ''   \r\n   | |     |TensorConstant{2} [id EA]\r\n   | |ScalarFromTensor [id EB] ''   \r\n   | | |Elemwise{add,no_inplace} [id EC] ''   \r\n   | |   |Elemwise{sub,no_inplace} [id ED] ''   \r\n   | |   | |Elemwise{sub,no_inplace} [id EE] ''   \r\n   | |   | |TensorConstant{1} [id EF]\r\n   | |   |Elemwise{maximum,no_inplace} [id DY] ''   \r\n   | |ScalarFromTensor [id EG] ''   \r\n   |   |TensorConstant{1} [id EH]\r\n   |Constant{1} [id EI]\r\n\r\n\r\nHint: relax the tolerance by setting tensor.cmp_sloppy=1\r\n  or even tensor.cmp_sloppy=2 for less-strict comparison\r\n\r\n-------------------- >> begin captured logging << --------------------\r\ntheano.configdefaults: WARNING: install mkl with `conda install mkl-service`: No module named mkl\r\n--------------------- >> end captured logging << ---------------------\r\n\r\n----------------------------------------------------------------------\r\nRan 1 test in 313.034s\r\n\r\nFAILED (errors=1)\r\n```", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/5586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/5586/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/5453", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/5453/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/5453/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/5453/events", "html_url": "https://github.com/Theano/Theano/issues/5453", "id": 203272930, "node_id": "MDU6SXNzdWUyMDMyNzI5MzA=", "number": 5453, "title": "[BUG] Two functions can not be compiled by certain order", "user": {"login": "david-leon", "id": 23473037, "node_id": "MDQ6VXNlcjIzNDczMDM3", "avatar_url": "https://avatars.githubusercontent.com/u/23473037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-leon", "html_url": "https://github.com/david-leon", "followers_url": "https://api.github.com/users/david-leon/followers", "following_url": "https://api.github.com/users/david-leon/following{/other_user}", "gists_url": "https://api.github.com/users/david-leon/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-leon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-leon/subscriptions", "organizations_url": "https://api.github.com/users/david-leon/orgs", "repos_url": "https://api.github.com/users/david-leon/repos", "events_url": "https://api.github.com/users/david-leon/events{/privacy}", "received_events_url": "https://api.github.com/users/david-leon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 29112878, "node_id": "MDU6TGFiZWwyOTExMjg3OA==", "url": "https://api.github.com/repos/Theano/Theano/labels/Crash", "name": "Crash", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/7", "html_url": "https://github.com/Theano/Theano/milestone/7", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/7/labels", "id": 2156725, "node_id": "MDk6TWlsZXN0b25lMjE1NjcyNQ==", "number": 7, "title": "1.0", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 7, "closed_issues": 113, "state": "open", "created_at": "2016-11-24T21:30:45Z", "updated_at": "2017-10-20T14:31:04Z", "due_on": null, "closed_at": null}, "comments": 30, "created_at": "2017-01-26T01:39:01Z", "updated_at": "2017-06-09T00:21:36Z", "closed_at": "2017-06-09T00:21:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is a really weird bug, a brief description will be: compile one function first will cause compilation of the following function failed. The long version is as follows:\r\n\r\nI'm using theano to do model training and testing. Usually I'll compile the train and test functions together, train function first and test function the next. Now when I'm trying a new model structure, this compilation process breaks: the compilation of train function is successful but the following compilation of test function will break with error:\r\n\r\n `theano.gof.fg.MissingInputError: Input 0 of the graph (indices start from 0), used to compute Shape(<TensorType(float32, 4D)>), was not provided and not given a value. Use the Theano flag exception_verbosity='high', for more information on this error. `\r\n\r\nThe weird fact is that if I only compile train or test function alone it will be OK, or if I compile the test function first then the train function it will be OK too. This seems to be a bug in the cache process of theano during function compilation.\r\n\r\nI can't paste the codes here because this involves a large bunch of files. I also test the most current dev version and the problem is still. The problem can be reproduced both on Windows and on Ubuntu, X64.\r\n\r\nMy python version is 3.5 from Anaconda, theano environment is set as \r\n\r\n`os.environ['THEANO_FLAGS'] = \"floatX=float32, mode=FAST_RUN, warn_float64='raise'\"`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/5453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/5453/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/5439", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/5439/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/5439/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/5439/events", "html_url": "https://github.com/Theano/Theano/issues/5439", "id": 202347872, "node_id": "MDU6SXNzdWUyMDIzNDc4NzI=", "number": 5439, "title": "Is there a bug when computing gradient of scan with until?", "user": {"login": "MultiPath", "id": 5780274, "node_id": "MDQ6VXNlcjU3ODAyNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5780274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MultiPath", "html_url": "https://github.com/MultiPath", "followers_url": "https://api.github.com/users/MultiPath/followers", "following_url": "https://api.github.com/users/MultiPath/following{/other_user}", "gists_url": "https://api.github.com/users/MultiPath/gists{/gist_id}", "starred_url": "https://api.github.com/users/MultiPath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MultiPath/subscriptions", "organizations_url": "https://api.github.com/users/MultiPath/orgs", "repos_url": "https://api.github.com/users/MultiPath/repos", "events_url": "https://api.github.com/users/MultiPath/events{/privacy}", "received_events_url": "https://api.github.com/users/MultiPath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 69463258, "node_id": "MDU6TGFiZWw2OTQ2MzI1OA==", "url": "https://api.github.com/repos/Theano/Theano/labels/Scan", "name": "Scan", "color": "0052cc", "default": false, "description": null}, {"id": 151760713, "node_id": "MDU6TGFiZWwxNTE3NjA3MTM=", "url": "https://api.github.com/repos/Theano/Theano/labels/CCW", "name": "CCW", "color": "f7c6c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-21T23:49:18Z", "updated_at": "2017-07-18T15:40:03Z", "closed_at": "2017-07-18T15:40:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nI want to compute the gradient from the scan's output w.r.t the \"sequences\" input.\r\nI used a \"scan_module.until\" to early-stop the iteration.\r\nHowever, when I ran the following lines, the results seem weird:\r\n\r\n```\r\nimport theano\r\nimport theano.tensor as tensor\r\nimport theano.scan_module as ts\r\nimport numpy\r\n\r\nprint theano.__version__\r\n\r\nx1 = tensor.vector(dtype='float32')\r\nr,_= theano.scan(lambda i, x: (x[i]*x[i], ts.until(tensor.eq(x[i], 5))),\r\n                sequences=tensor.arange(x1.shape[0]),\r\n                non_sequences=[x1])\r\n\r\ng = theano.grad(r.sum(), x1)\r\nf = theano.function([x1], [r, g])\r\n\r\nx0 = numpy.arange(20).astype('float32')\r\n\r\nprint x0\r\nprint f(x0)\r\n```\r\n\r\nThe results are:\r\n```\r\n[  0.   1.   2.   3.   4.   5.   6.   7.   8.   9.  10.  11.  12.  13.  14.  15.  16.  17.  18.  19.]\r\n[array([  0.,   1.,   4.,   9.,  16.,  25.], dtype=float32),\r\n array([  0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0., 0.,   0.,   0.,  28.,  30.,  32.,  34.,  36.,  38.], dtype=float32)]\r\n```\r\n\r\nIn my view, since the iterations only ran 5 steps before it stops, the gradient should only be computed for the first 5 elements. However,  it did the last 5 elements of the sequence.\r\n\r\nThank you very much!", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/5439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/5439/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/5143", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/5143/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/5143/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/5143/events", "html_url": "https://github.com/Theano/Theano/issues/5143", "id": 185406498, "node_id": "MDU6SXNzdWUxODU0MDY0OTg=", "number": 5143, "title": "test_conv3d_bwd failing ", "user": {"login": "jonathanstrong", "id": 5497186, "node_id": "MDQ6VXNlcjU0OTcxODY=", "avatar_url": "https://avatars.githubusercontent.com/u/5497186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanstrong", "html_url": "https://github.com/jonathanstrong", "followers_url": "https://api.github.com/users/jonathanstrong/followers", "following_url": "https://api.github.com/users/jonathanstrong/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanstrong/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanstrong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanstrong/subscriptions", "organizations_url": "https://api.github.com/users/jonathanstrong/orgs", "repos_url": "https://api.github.com/users/jonathanstrong/repos", "events_url": "https://api.github.com/users/jonathanstrong/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanstrong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 8083014, "node_id": "MDU6TGFiZWw4MDgzMDE0", "url": "https://api.github.com/repos/Theano/Theano/labels/GPU", "name": "GPU", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/6", "html_url": "https://github.com/Theano/Theano/milestone/6", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/6/labels", "id": 1586579, "node_id": "MDk6TWlsZXN0b25lMTU4NjU3OQ==", "number": 6, "title": "0.9", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 104, "state": "closed", "created_at": "2016-02-16T19:03:10Z", "updated_at": "2017-07-31T20:15:25Z", "due_on": null, "closed_at": "2017-07-31T20:15:25Z"}, "comments": 9, "created_at": "2016-10-26T14:16:32Z", "updated_at": "2017-05-12T01:46:11Z", "closed_at": "2017-01-20T13:59:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am getting 15-20 failing tests for bleeding edge w/ Ubuntu 16.04, Cuda 8.0.44, cuDNN 5105, and theano 0.9.0dev3.dev-e6a3b009bc4ce68fb5ba711d775689ff41d8a587. \n\nAll of the failing tests are WrongValue errors in test_conv_3d_bwd. The number of failing tests varies from run to run. The mean abs differences are not small. \n\nTests run with the command: `THEANO_FLAGS=device=cpu nosetests -sdv theano.sandbox.cuda.tests.test_dnn > test-errors.log 2>&1`\n\nI have fast_math on in my theanorc but did not make a difference when I turned it off. GPU is a GTX 1080. GCC is 5.4. Happy to give you any additional information needed to diagnose.\n\nFull text of errors attached: \n\n[test-errors.txt](https://github.com/Theano/Theano/files/553424/test-errors.txt)\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/5143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/5143/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/5134", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/5134/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/5134/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/5134/events", "html_url": "https://github.com/Theano/Theano/pull/5134", "id": 184950847, "node_id": "MDExOlB1bGxSZXF1ZXN0OTA2ODk4NzU=", "number": 5134, "title": "Fix a problem where the samples buffer would not be filled.", "user": {"login": "abergeron", "id": 1002504, "node_id": "MDQ6VXNlcjEwMDI1MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1002504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abergeron", "html_url": "https://github.com/abergeron", "followers_url": "https://api.github.com/users/abergeron/followers", "following_url": "https://api.github.com/users/abergeron/following{/other_user}", "gists_url": "https://api.github.com/users/abergeron/gists{/gist_id}", "starred_url": "https://api.github.com/users/abergeron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abergeron/subscriptions", "organizations_url": "https://api.github.com/users/abergeron/orgs", "repos_url": "https://api.github.com/users/abergeron/repos", "events_url": "https://api.github.com/users/abergeron/events{/privacy}", "received_events_url": "https://api.github.com/users/abergeron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190404, "node_id": "MDU6TGFiZWwxOTA0MDQ=", "url": "https://api.github.com/repos/Theano/Theano/labels/High%20Priority", "name": "High Priority", "color": "FF9D00", "default": false, "description": null}, {"id": 190405, "node_id": "MDU6TGFiZWwxOTA0MDU=", "url": "https://api.github.com/repos/Theano/Theano/labels/Critical", "name": "Critical", "color": "e10c02", "default": false, "description": null}, {"id": 343949161, "node_id": "MDU6TGFiZWwzNDM5NDkxNjE=", "url": "https://api.github.com/repos/Theano/Theano/labels/GPU%20-%20New%20back-end", "name": "GPU - New back-end", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-10-24T20:49:00Z", "updated_at": "2017-07-31T19:39:44Z", "closed_at": "2016-10-25T21:58:09Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Theano/Theano/pulls/5134", "html_url": "https://github.com/Theano/Theano/pull/5134", "diff_url": "https://github.com/Theano/Theano/pull/5134.diff", "patch_url": "https://github.com/Theano/Theano/pull/5134.patch", "merged_at": "2016-10-25T21:58:09Z"}, "body": "Fix an issue with newer versions of libgpuarray and big samples (on the order of a few thousands) where it would not fill the samples buffer completely leaving uninitialized memory at the end.\n\nThe exact cutoff at which the problems appears varies depending on the GPU on which the code is run.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/5134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/5134/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Theano/Theano/issues/5113", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/5113/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/5113/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/5113/events", "html_url": "https://github.com/Theano/Theano/issues/5113", "id": 183751622, "node_id": "MDU6SXNzdWUxODM3NTE2MjI=", "number": 5113, "title": "The SoftmaxGrad opt doesn't check the Elemwise type.", "user": {"login": "abergeron", "id": 1002504, "node_id": "MDQ6VXNlcjEwMDI1MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1002504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abergeron", "html_url": "https://github.com/abergeron", "followers_url": "https://api.github.com/users/abergeron/followers", "following_url": "https://api.github.com/users/abergeron/following{/other_user}", "gists_url": "https://api.github.com/users/abergeron/gists{/gist_id}", "starred_url": "https://api.github.com/users/abergeron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abergeron/subscriptions", "organizations_url": "https://api.github.com/users/abergeron/orgs", "repos_url": "https://api.github.com/users/abergeron/repos", "events_url": "https://api.github.com/users/abergeron/events{/privacy}", "received_events_url": "https://api.github.com/users/abergeron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190396, "node_id": "MDU6TGFiZWwxOTAzOTY=", "url": "https://api.github.com/repos/Theano/Theano/labels/Python%20Code%20Only", "name": "Python Code Only", "color": "02e10c", "default": false, "description": null}, {"id": 190404, "node_id": "MDU6TGFiZWwxOTA0MDQ=", "url": "https://api.github.com/repos/Theano/Theano/labels/High%20Priority", "name": "High Priority", "color": "FF9D00", "default": false, "description": null}, {"id": 151760713, "node_id": "MDU6TGFiZWwxNTE3NjA3MTM=", "url": "https://api.github.com/repos/Theano/Theano/labels/CCW", "name": "CCW", "color": "f7c6c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-10-18T17:26:01Z", "updated_at": "2016-11-16T17:07:50Z", "closed_at": "2016-11-16T17:07:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/Theano/Theano/blob/master/theano/tensor/nnet/nnet.py#L776\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/5113/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/5113/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/4899", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/4899/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/4899/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/4899/events", "html_url": "https://github.com/Theano/Theano/issues/4899", "id": 173091226, "node_id": "MDU6SXNzdWUxNzMwOTEyMjY=", "number": 4899, "title": "when computing grad with many taps `0` is removed twice", "user": {"login": "ferrine", "id": 11705326, "node_id": "MDQ6VXNlcjExNzA1MzI2", "avatar_url": "https://avatars.githubusercontent.com/u/11705326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ferrine", "html_url": "https://github.com/ferrine", "followers_url": "https://api.github.com/users/ferrine/followers", "following_url": "https://api.github.com/users/ferrine/following{/other_user}", "gists_url": "https://api.github.com/users/ferrine/gists{/gist_id}", "starred_url": "https://api.github.com/users/ferrine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ferrine/subscriptions", "organizations_url": "https://api.github.com/users/ferrine/orgs", "repos_url": "https://api.github.com/users/ferrine/repos", "events_url": "https://api.github.com/users/ferrine/events{/privacy}", "received_events_url": "https://api.github.com/users/ferrine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 69463258, "node_id": "MDU6TGFiZWw2OTQ2MzI1OA==", "url": "https://api.github.com/repos/Theano/Theano/labels/Scan", "name": "Scan", "color": "0052cc", "default": false, "description": null}, {"id": 151760713, "node_id": "MDU6TGFiZWwxNTE3NjA3MTM=", "url": "https://api.github.com/repos/Theano/Theano/labels/CCW", "name": "CCW", "color": "f7c6c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-08-25T00:51:38Z", "updated_at": "2016-11-08T13:57:03Z", "closed_at": "2016-11-08T13:57:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "To reproduce the problem\n\n``` python\n# imports\nimport pymc3 as pm\nimport theano\nimport theano.tensor as tt\nimport numpy as np\n\n#data\nx = theano.shared(np.random.normal(size=(1000,)), name='x')\na = theano.shared(np.ones(3), name='a')\nb = theano.shared(np.ones(3), name='b')\nevec=tt.constant(np.zeros(3), name='evec')\ng = theano.shared(1, name='g')\n\n\ndef lags(x, k=1, axis=-1):\n    m = x.shape[0]  # total length\n    slices = []\n    for i in range(k):\n        slices.append(x[k - i - 1:m - i])\n    return tt.stack(slices, axis=axis)\n\ndef gete(x, alpha, beta, gamma, evec, p=3, d=1, q=3):\n    L = lags(x, k=p+1)\n    dL = tt.extra_ops.diff(L, d, 0)\n    y, X = dL[:,0], dL[:,1:]\n    etaps = list(-i for i in range(q))\n    def e_hat(y, X, *es):\n        e = tt.stack(es[:-2])\n        return y - tt.dot(X, es[-2]) - tt.dot(e, es[-1])\n\n    e, _ = theano.scan(fn=e_hat, sequences=[y, X],\n                outputs_info=dict(initial=evec, taps=etaps),\n                non_sequences=[alpha, beta], strict=True)\n    return pm.Normal.dist(0, tt.exp(gamma)).logp(e)\n\ne = gete(x, a,b,g, evec)\ndedw = theano.grad(e.mean(), [a,b,g])\n# ValueError: list.remove(x): x not in list\n# in theano/scan_module/scan_op.py#783\n# because the following happened\n# self.tap_array <class 'list'>: [[0, 0, 1, 2], [-1], [-1]]\n```\n\nThe first zero was appended here ( to `mitmot_inp_taps` )\n`theano/scan_module/scan_op.py#2329` in `Scan.grad`\nSecond was appended here ( to `mitmot_inp_taps` )\nin loop `for jdx in xrange(len(self.tap_array[idx_tap])):`\nwhere `tap_array <class 'list'>: [[0, -1, -2]]`, `idx_tap <int>: 0`\n`theano/scan_module/scan_op.py#2343` in `Scan.grad`\nafter loop we can see\n`mitmot_inp_taps <class 'list'>: [[0, 0, 1, 2]]`\nthen more interesting\n\n``` python\n# `theano/scan_module/scan_op.py#2479` in `Scan.grad`\nnew_tap_array = mitmot_inp_taps + [[-1] for k in\n                                           xrange(n_sitsot_outs)]\ninfo = OrderedDict()\n...\ninfo['tap_array'] = new_tap_array\n...\nlocal_op = Scan(inner_gfn_ins, inner_gfn_outs, info)\n# it is obvious what's gonna happen soon\n```\n\nIs it a bug or i'm doing wrong?\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/4899/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/4899/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/4885", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/4885/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/4885/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/4885/events", "html_url": "https://github.com/Theano/Theano/issues/4885", "id": 172354414, "node_id": "MDU6SXNzdWUxNzIzNTQ0MTQ=", "number": 4885, "title": "Bug in conv2d_grad_wrt_weights() method", "user": {"login": "clarken92", "id": 1445226, "node_id": "MDQ6VXNlcjE0NDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1445226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clarken92", "html_url": "https://github.com/clarken92", "followers_url": "https://api.github.com/users/clarken92/followers", "following_url": "https://api.github.com/users/clarken92/following{/other_user}", "gists_url": "https://api.github.com/users/clarken92/gists{/gist_id}", "starred_url": "https://api.github.com/users/clarken92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clarken92/subscriptions", "organizations_url": "https://api.github.com/users/clarken92/orgs", "repos_url": "https://api.github.com/users/clarken92/repos", "events_url": "https://api.github.com/users/clarken92/events{/privacy}", "received_events_url": "https://api.github.com/users/clarken92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190404, "node_id": "MDU6TGFiZWwxOTA0MDQ=", "url": "https://api.github.com/repos/Theano/Theano/labels/High%20Priority", "name": "High Priority", "color": "FF9D00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/6", "html_url": "https://github.com/Theano/Theano/milestone/6", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/6/labels", "id": 1586579, "node_id": "MDk6TWlsZXN0b25lMTU4NjU3OQ==", "number": 6, "title": "0.9", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 104, "state": "closed", "created_at": "2016-02-16T19:03:10Z", "updated_at": "2017-07-31T20:15:25Z", "due_on": null, "closed_at": "2017-07-31T20:15:25Z"}, "comments": 3, "created_at": "2016-08-22T01:31:46Z", "updated_at": "2016-09-10T00:50:54Z", "closed_at": "2016-09-10T00:50:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to use the method conv2d_grad_wrt_weights() to compute the gradients of weights. \nThe arguments I passed to this function are:\n\n\"input\" is the **bottom layer** of shape (n_instances, in_channels, in_width, in_height). In my example, my input shape is **(20, 3, 5, 5)**\n\"output_grad\" is the **upper layer** gradient of shape (n_instances, out_channels, out_width, out_height). In my example, the output shape is **(20, 6, 4, 4)** \n\"filter_shape\" is a 4-tuple. According to the default style in Theano, it is **[6, 3, 2, 2]**.\n\nHowever, I got an error when running the method. I inspected the source code and realized that the **return statement** (line 389 of file **abstract_conv.py**) of the function seem to be wrong:\n\n`return gradWeight_op(input, output_grad, filter_shape[:-2])`\n\nHere, I think it should be **filter_shape[-2:]** as usual rather than **filter_shape[:-2]**.\nNote that if I passed **filter_shape=[6, 3, 2, 2]**, **filter_shape[-2:] = [2, 2]** while **filter_shape[:-2] = [6, 3]**. I did a small change by passing **[2, 2, 6, 3]** to **filter_shape** and the method works fine. However, as [2, 2, 6, 3] seems to be inconsistent, I think this line of code should be fixed in the future.   \n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/4885/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/4885/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/4770", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/4770/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/4770/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/4770/events", "html_url": "https://github.com/Theano/Theano/issues/4770", "id": 166731160, "node_id": "MDU6SXNzdWUxNjY3MzExNjA=", "number": 4770, "title": "Insidious random data/memory corruption bug causing incorrect computation and training divergence", "user": {"login": "xuancong84", "id": 10172392, "node_id": "MDQ6VXNlcjEwMTcyMzky", "avatar_url": "https://avatars.githubusercontent.com/u/10172392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xuancong84", "html_url": "https://github.com/xuancong84", "followers_url": "https://api.github.com/users/xuancong84/followers", "following_url": "https://api.github.com/users/xuancong84/following{/other_user}", "gists_url": "https://api.github.com/users/xuancong84/gists{/gist_id}", "starred_url": "https://api.github.com/users/xuancong84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xuancong84/subscriptions", "organizations_url": "https://api.github.com/users/xuancong84/orgs", "repos_url": "https://api.github.com/users/xuancong84/repos", "events_url": "https://api.github.com/users/xuancong84/events{/privacy}", "received_events_url": "https://api.github.com/users/xuancong84/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190404, "node_id": "MDU6TGFiZWwxOTA0MDQ=", "url": "https://api.github.com/repos/Theano/Theano/labels/High%20Priority", "name": "High Priority", "color": "FF9D00", "default": false, "description": null}, {"id": 151760713, "node_id": "MDU6TGFiZWwxNTE3NjA3MTM=", "url": "https://api.github.com/repos/Theano/Theano/labels/CCW", "name": "CCW", "color": "f7c6c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/6", "html_url": "https://github.com/Theano/Theano/milestone/6", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/6/labels", "id": 1586579, "node_id": "MDk6TWlsZXN0b25lMTU4NjU3OQ==", "number": 6, "title": "0.9", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 104, "state": "closed", "created_at": "2016-02-16T19:03:10Z", "updated_at": "2017-07-31T20:15:25Z", "due_on": null, "closed_at": "2017-07-31T20:15:25Z"}, "comments": 17, "created_at": "2016-07-21T03:42:10Z", "updated_at": "2017-02-03T08:33:01Z", "closed_at": "2017-02-02T20:20:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that sometimes by chance, Theano's (for all versions including bleeding-edge) internal memory state can get corrupted silently, with all subsequent training/testing operations produces erroneous results without throwing any exceptions/warnings. The error will accumulate until some point when the training starts to always diverge. The problem can be solved by aborting the current process, reloading the last-known good model and resuming training.\n\nMy code does iterative training, it saves the model at every iteration. After every iteration, it checks the loss function, if it increases, then load the previous iteration's model and reduce learning rate by half. The bug starts to emerge randomly somewhere in between 20-80th iteration (for my code), starting from which the loss keeps increasing after every iteration despite the fact that the learning rate is halved each time and the model keeps falling back to the previous iteration. This process continues until the learning rate becomes so small, <1e-200, and thus, there is no change in the weight or the loss function.\n\nFor example,\n\n```\n> 1310.31767385 Training acc= 0.971412992678      \n> Testing Iter 50 :                               \n> Test accuracy = 0.40635451505                   \n> Training Iter 51 :                              \n> 1213.0716554 Training acc= 0.976086617853       \n> Testing Iter 51 :                               \n> Test accuracy = 0.407190635452                  \n> Training Iter 52 :                              \n> 1248.2027879 Training acc= 0.969699330114       \n> Testing Iter 52 :                               \n> Test accuracy = 0.409698996656                  \n> Falling back to Iter 51 ; learn_rate= 0.00125   \n> Training Iter 52 :                              \n> 1394.18119661 Training acc= 0.964246767409      \n> Testing Iter 52 :                               \n> Test accuracy = 0.418060200669                  \n> Falling back to Iter 51 ; learn_rate= 0.000625  \n> Training Iter 52 :                              \n> 2215.10956366 Training acc= 0.937139741393      \n> Testing Iter 52 :                               \n> Test accuracy = 0.413879598662                  \n> Falling back to Iter 51 ; learn_rate= 0.0003125 \n> Training Iter 52 :                              \n> 3660.30786752 Training acc= 0.897647608662      \n> Testing Iter 52 :                               \n> Test accuracy = 0.413879598662                  \n> Falling back to Iter 51 ; learn_rate= 0.00015625\n> Training Iter 52 :                              \n> 5290.97243645 Training acc= 0.863919613647      \n> Testing Iter 52 :                               \n> Test accuracy = 0.420568561873                  \n> Falling back to Iter 51 ; learn_rate= 7.8125e-05\n```\n\nI have explicitly checked that there is no corruption in the data, i.e., no NAN, INF, underflow/overflow, in all saved model files, regardless of whether the loss increases or decreases. Moreover, there is no bug in saving and loading models, because in previous iterations (before 51), the falling back mechanism has been triggered several times and it was working correctly.\n\nThe files are at http://translate.i2r.a-star.edu.sg/theano-bug.zip\nThe command line to produce the bug is in do.sh\nMoreover, I have also translated exactly the same expression graph into Tensorflow, and there is no such divergence issue, suggesting that it is unlikely to be a bug in my program, see the 4th post for more details.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/4770/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/4770/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/4662", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/4662/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/4662/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/4662/events", "html_url": "https://github.com/Theano/Theano/issues/4662", "id": 161966529, "node_id": "MDU6SXNzdWUxNjE5NjY1Mjk=", "number": 4662, "title": "theano.tensor.roll does not handle shifts greater than axis size", "user": {"login": "danieldjohnson", "id": 4992683, "node_id": "MDQ6VXNlcjQ5OTI2ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/4992683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danieldjohnson", "html_url": "https://github.com/danieldjohnson", "followers_url": "https://api.github.com/users/danieldjohnson/followers", "following_url": "https://api.github.com/users/danieldjohnson/following{/other_user}", "gists_url": "https://api.github.com/users/danieldjohnson/gists{/gist_id}", "starred_url": "https://api.github.com/users/danieldjohnson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danieldjohnson/subscriptions", "organizations_url": "https://api.github.com/users/danieldjohnson/orgs", "repos_url": "https://api.github.com/users/danieldjohnson/repos", "events_url": "https://api.github.com/users/danieldjohnson/events{/privacy}", "received_events_url": "https://api.github.com/users/danieldjohnson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190396, "node_id": "MDU6TGFiZWwxOTAzOTY=", "url": "https://api.github.com/repos/Theano/Theano/labels/Python%20Code%20Only", "name": "Python Code Only", "color": "02e10c", "default": false, "description": null}, {"id": 4752481, "node_id": "MDU6TGFiZWw0NzUyNDgx", "url": "https://api.github.com/repos/Theano/Theano/labels/Easy%20fix", "name": "Easy fix", "color": "ededed", "default": false, "description": null}, {"id": 151760713, "node_id": "MDU6TGFiZWwxNTE3NjA3MTM=", "url": "https://api.github.com/repos/Theano/Theano/labels/CCW", "name": "CCW", "color": "f7c6c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-06-23T16:29:37Z", "updated_at": "2016-08-06T19:04:24Z", "closed_at": "2016-08-06T19:04:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In numpy, if you call `roll` with a shift greater than the size of the axis, the return value is rolled by shift modulo the axis size. For example:\n\n``` python\n>>> np.roll([0,1,2,3,4,5],7)\narray([5, 0, 1, 2, 3, 4])\n```\n\nThis makes intuitive sense, since a cyclic rotation should have a period of the axis size.\n\nIn Theano, passing a shift greater than the size of the axis results in no shift being applied at all:\n\n``` python\n>>> T.roll(np.array([0,1,2,3,4,5]),7).eval()\narray([0, 1, 2, 3, 4, 5])\n```\n\nBased on the [implementation of roll](https://github.com/Theano/Theano/blob/d9028c7b27a3bb35c7134e6d34124af68d5f6adf/theano/tensor/basic.py#L4011), it appears that the roll is being performed using two subtensor ops and a join, with the subtensors being indexed directly by the shift parameter. When the shift is greater than the size of the axis, one of these subtensors gets the whole input, and the other subtensor is empty, causing the incorrect behavior.\n\nA workaround is to make sure the shift is in the correct bounds by using the modulo operation, i.e.\n\n``` python\n>>> T.roll(np.array([0,1,2,3,4,5]),7%6).eval()\narray([5, 0, 1, 2, 3, 4])\n```\n\nBut it would be better for the roll function to do this automatically.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/4662/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/4662/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/4633", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/4633/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/4633/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/4633/events", "html_url": "https://github.com/Theano/Theano/issues/4633", "id": 160499196, "node_id": "MDU6SXNzdWUxNjA0OTkxOTY=", "number": 4633, "title": "Bitwise \"and\" and \"or\" broken", "user": {"login": "MaigoAkisame", "id": 6993299, "node_id": "MDQ6VXNlcjY5OTMyOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/6993299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaigoAkisame", "html_url": "https://github.com/MaigoAkisame", "followers_url": "https://api.github.com/users/MaigoAkisame/followers", "following_url": "https://api.github.com/users/MaigoAkisame/following{/other_user}", "gists_url": "https://api.github.com/users/MaigoAkisame/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaigoAkisame/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaigoAkisame/subscriptions", "organizations_url": "https://api.github.com/users/MaigoAkisame/orgs", "repos_url": "https://api.github.com/users/MaigoAkisame/repos", "events_url": "https://api.github.com/users/MaigoAkisame/events{/privacy}", "received_events_url": "https://api.github.com/users/MaigoAkisame/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-06-15T19:05:28Z", "updated_at": "2017-06-13T13:34:10Z", "closed_at": "2017-06-13T13:34:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've found that the bitwise \"and\" and \"or\" operators do not function correctly on Theano 0.8.0 and 0.8.2:\n\n```\n>>> import theano, theano.tensor as T\n>>> theano.function([], T.and_(5,6))()\narray(6, dtype=int8)    # Should be 4\n>>> theano.function([], T.or_(5,6))()\narray(1, dtype=int8)    # Should be 7\n```\n\nI've tried several other pairs of values. It appears that \"T.or_\" is performing a logical instead of bitwise operation, outputting 0 if both operands are zero and 1 otherwise. \"T.and_\" outputs 0 if either operand is zero, and the second operand otherwise.\n\nBy the way, \"and_\" and \"or_\" are indeed intended as bitwise (not logical) operators, because they have the aliases \"bitwise_and\" and \"bitwise_or\".\n\nHowever, the following is correct:\n\n```\n>>> theano.function([], theano.scalar.and_(5,6))()\n4\n>>> theano.function([], theano.scalar.or_(5,6))()\n7\n```\n\nThe bug did not exist in Theano 0.7.0.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/4633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/4633/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/4300", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/4300/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/4300/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/4300/events", "html_url": "https://github.com/Theano/Theano/issues/4300", "id": 143768327, "node_id": "MDU6SXNzdWUxNDM3NjgzMjc=", "number": 4300, "title": "Optimization failure due to: local_reduce_broadcastable", "user": {"login": "ppalasek", "id": 7462710, "node_id": "MDQ6VXNlcjc0NjI3MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/7462710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ppalasek", "html_url": "https://github.com/ppalasek", "followers_url": "https://api.github.com/users/ppalasek/followers", "following_url": "https://api.github.com/users/ppalasek/following{/other_user}", "gists_url": "https://api.github.com/users/ppalasek/gists{/gist_id}", "starred_url": "https://api.github.com/users/ppalasek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ppalasek/subscriptions", "organizations_url": "https://api.github.com/users/ppalasek/orgs", "repos_url": "https://api.github.com/users/ppalasek/repos", "events_url": "https://api.github.com/users/ppalasek/events{/privacy}", "received_events_url": "https://api.github.com/users/ppalasek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190396, "node_id": "MDU6TGFiZWwxOTAzOTY=", "url": "https://api.github.com/repos/Theano/Theano/labels/Python%20Code%20Only", "name": "Python Code Only", "color": "02e10c", "default": false, "description": null}, {"id": 14756409, "node_id": "MDU6TGFiZWwxNDc1NjQwOQ==", "url": "https://api.github.com/repos/Theano/Theano/labels/Optimization", "name": "Optimization", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-03-27T02:02:34Z", "updated_at": "2016-11-10T20:34:55Z", "closed_at": "2016-11-10T20:34:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI am getting the following error when compiling my function:\n\n```\n<<!! BUG IN FGRAPH.REPLACE OR A LISTENER !!>> <type 'exceptions.TypeError'> ('The type of the replacement must be compatible with the type of the orig\ninal Variable.', Sum{axis=[0, 2, 3], acc_dtype=float64}.0, Sum{axis=[0], acc_dtype=int64}.0, TensorType(float64, vector), TensorType(int64, vector), '\nlocal_reduce_broadcastable') local_reduce_broadcastable\nERROR (theano.gof.opt): Optimization failure due to: local_reduce_broadcastable\nERROR (theano.gof.opt): node: Sum{axis=[0, 2, 3], acc_dtype=float64}(DimShuffle{0,3,1,2}.0)\nERROR (theano.gof.opt): TRACEBACK:\nERROR (theano.gof.opt): Traceback (most recent call last):\n  File \"/homes/pp305/work/theano_code/theano_new/lib/python2.7/site-packages/theano/gof/opt.py\", line 1807, in process_node\n    fgraph.replace_all_validate(repl_pairs, reason=lopt)\n  File \"/homes/pp305/work/theano_code/theano_new/lib/python2.7/site-packages/theano/gof/toolbox.py\", line 309, in replace_all_validate\n    fgraph.replace(r, new_r, reason=reason, verbose=False)\n  File \"/homes/pp305/work/theano_code/theano_new/lib/python2.7/site-packages/theano/gof/fg.py\", line 561, in replace\n    str(reason))\nTypeError: ('The type of the replacement must be compatible with the type of the original Variable.', Sum{axis=[0, 2, 3], acc_dtype=float64}.0, Sum{ax\nis=[0], acc_dtype=int64}.0, TensorType(float64, vector), TensorType(int64, vector), 'local_reduce_broadcastable')\n```\n\nTheano version I'm using is:\n0.8.0.dev-fba8851ca5b2d6aa70f89c7b6e1343e55a7762c3\n\nI was running the code on CPU.\n\nAny suggestions on how to fix this?\n\nIt's quite a messy code I'm running at the moment so I don't know the exact source of the error, but I can try to narrow it down in the next few days.\n\nBest,\nPetar\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/4300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/4300/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/4264", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/4264/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/4264/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/4264/events", "html_url": "https://github.com/Theano/Theano/issues/4264", "id": 141956345, "node_id": "MDU6SXNzdWUxNDE5NTYzNDU=", "number": 4264, "title": "BadOptimization error for local_gpua_careduce with acc_dtype", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 343949161, "node_id": "MDU6TGFiZWwzNDM5NDkxNjE=", "url": "https://api.github.com/repos/Theano/Theano/labels/GPU%20-%20New%20back-end", "name": "GPU - New back-end", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-03-18T19:20:33Z", "updated_at": "2017-06-14T00:19:04Z", "closed_at": "2017-06-14T00:19:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The following test fails in DebugMode:\n\n```\n$ THEANO_FLAGS=mode=DEBUG_MODE theano-nose -sv theano/sandbox/gpuarray/tests/test_elemwise.py:T_gpureduce_dtype.test_reduce_custom_dtype\n\nMapped name None to device cuda: GeForce GTX 750 (CuDNN version 4007)\nTest the ability to provide your own output dtype for a reduce. ... ERROR\n\n======================================================================\nERROR: Test the ability to provide your own output dtype for a reduce.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/u/lamblinp/code/Theano_git/theano/tensor/tests/test_elemwise.py\", line 856, in test_reduce_custom_dtype\n    f(data)\n  File \"/u/lamblinp/code/Theano_git/theano/compile/function_module.py\", line 859, in __call__\n    outputs = self.fn()\n  File \"/u/lamblinp/code/Theano_git/theano/compile/debugmode.py\", line 2279, in deco\n    return f()\n  File \"/u/lamblinp/code/Theano_git/theano/compile/debugmode.py\", line 2204, in f\n    r_vals)\n  File \"/u/lamblinp/code/Theano_git/theano/compile/debugmode.py\", line 1055, in _find_bad_optimizations0\n    new_graph=new_graph_str)\nBadOptimization: BadOptimization Error\n  Variable: id 140512852752336 HostFromGpu(gpuarray).0\n  Op HostFromGpu(gpuarray)(GpuCAReduceCuda{mul}.0)\n  Value Type: <type 'numpy.ndarray'>\n  Old Value shape, dtype, strides: () int16 ()\n\n  Old Value:  -30210\n  New Value shape, dtype, strides: () int16 ()\n\n  New Value:  32767\n  Reason:  local_gpua_careduce\n  Old Graph:\n  Prod{acc_dtype=float64} [id A] ''\n   |HostFromGpu(gpuarray) [id B] ''\n     |GpuFromHost<None> [id C] ''\n       |<TensorType(float32, matrix)> [id D]\n\n  New Graph:\n  HostFromGpu(gpuarray) [id E] ''\n   |GpuCAReduceCuda{mul} [id F] ''\n     |GpuFromHost<None> [id C] ''\n\n\nHint: relax the tolerance by setting tensor.cmp_sloppy=1\n  or even tensor.cmp_sloppy=2 for less-strict comparison\n```\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/4264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/4264/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/4088", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/4088/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/4088/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/4088/events", "html_url": "https://github.com/Theano/Theano/pull/4088", "id": 134498353, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk3NTkwMDk=", "number": 4088, "title": "fix potential nan", "user": {"login": "dementrock", "id": 784063, "node_id": "MDQ6VXNlcjc4NDA2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/784063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dementrock", "html_url": "https://github.com/dementrock", "followers_url": "https://api.github.com/users/dementrock/followers", "following_url": "https://api.github.com/users/dementrock/following{/other_user}", "gists_url": "https://api.github.com/users/dementrock/gists{/gist_id}", "starred_url": "https://api.github.com/users/dementrock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dementrock/subscriptions", "organizations_url": "https://api.github.com/users/dementrock/orgs", "repos_url": "https://api.github.com/users/dementrock/repos", "events_url": "https://api.github.com/users/dementrock/events{/privacy}", "received_events_url": "https://api.github.com/users/dementrock/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 14756409, "node_id": "MDU6TGFiZWwxNDc1NjQwOQ==", "url": "https://api.github.com/repos/Theano/Theano/labels/Optimization", "name": "Optimization", "color": "ededed", "default": false, "description": null}, {"id": 327709819, "node_id": "MDU6TGFiZWwzMjc3MDk4MTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/NaN", "name": "NaN", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/4", "html_url": "https://github.com/Theano/Theano/milestone/4", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/4/labels", "id": 176251, "node_id": "MDk6TWlsZXN0b25lMTc2MjUx", "number": 4, "title": "0.8", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2012-09-17T15:14:43Z", "updated_at": "2016-05-26T15:47:08Z", "due_on": null, "closed_at": "2016-05-26T15:47:08Z"}, "comments": 5, "created_at": "2016-02-18T07:06:24Z", "updated_at": "2016-03-07T15:04:29Z", "closed_at": "2016-03-01T19:32:46Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Theano/Theano/pulls/4088", "html_url": "https://github.com/Theano/Theano/pull/4088", "diff_url": "https://github.com/Theano/Theano/pull/4088.diff", "patch_url": "https://github.com/Theano/Theano/pull/4088.patch", "merged_at": null}, "body": "The `local_dot22_to_ger_or_gemv` optimizer uses AllocEmpty for some cases. Usually this is fine, as it is multiplied by zero. However, on rare cases the allocated memory might contain nan values, in which case the product will be nan instead of zero. I've somehow encountered this rare case in my experiments.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/4088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/4088/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Theano/Theano/issues/4078", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/4078/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/4078/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/4078/events", "html_url": "https://github.com/Theano/Theano/issues/4078", "id": 134174278, "node_id": "MDU6SXNzdWUxMzQxNzQyNzg=", "number": 4078, "title": "Gradients through random sampling should be Null for MRG_RandomStreams distributions", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 151760713, "node_id": "MDU6TGFiZWwxNTE3NjA3MTM=", "url": "https://api.github.com/repos/Theano/Theano/labels/CCW", "name": "CCW", "color": "f7c6c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-02-17T04:23:31Z", "updated_at": "2017-04-18T23:40:03Z", "closed_at": "2017-04-18T23:40:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The gradients wrt variables passed to methods of `MRG_RandomStreams` (for instance normal, binomial, ...) should be undefined / NaN (NullType), since this is not mathematically defined.\n\nIf users want to use some reparametrization trick, then they would have to, for instance, sample from a normal(0, 1), and then multiply by the variance and add the mean. In this case, it would become clear what gradients are expected.\n\nThe way of doing that would be to wrap the arguments in [`grad_undefined`](http://deeplearning.net/software/theano/library/gradient.html#theano.gradient.grad_undefined) before starting the chain of operations transforming the uniform sample into the sample of the required distribution.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/4078/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/4078/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/3887", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/3887/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/3887/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/3887/events", "html_url": "https://github.com/Theano/Theano/issues/3887", "id": 127435747, "node_id": "MDU6SXNzdWUxMjc0MzU3NDc=", "number": 3887, "title": "Nans occuring in function unless compiled with DebugMode, NanGuardMode or Print", "user": {"login": "matthias-k", "id": 4093707, "node_id": "MDQ6VXNlcjQwOTM3MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4093707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthias-k", "html_url": "https://github.com/matthias-k", "followers_url": "https://api.github.com/users/matthias-k/followers", "following_url": "https://api.github.com/users/matthias-k/following{/other_user}", "gists_url": "https://api.github.com/users/matthias-k/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthias-k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthias-k/subscriptions", "organizations_url": "https://api.github.com/users/matthias-k/orgs", "repos_url": "https://api.github.com/users/matthias-k/repos", "events_url": "https://api.github.com/users/matthias-k/events{/privacy}", "received_events_url": "https://api.github.com/users/matthias-k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 327709819, "node_id": "MDU6TGFiZWwzMjc3MDk4MTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/NaN", "name": "NaN", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/4", "html_url": "https://github.com/Theano/Theano/milestone/4", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/4/labels", "id": 176251, "node_id": "MDk6TWlsZXN0b25lMTc2MjUx", "number": 4, "title": "0.8", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2012-09-17T15:14:43Z", "updated_at": "2016-05-26T15:47:08Z", "due_on": null, "closed_at": "2016-05-26T15:47:08Z"}, "comments": 8, "created_at": "2016-01-19T12:32:41Z", "updated_at": "2016-03-08T14:14:03Z", "closed_at": "2016-03-08T14:13:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "While implementing L-BFGS in theano, I came across a really strange bug: My two loop recursion results in a nan vector. However, if I print intermediate values with `theano.printing.Print` (see comments in code below) or if I compile the function with `DebugMode` or `NanGuardMode`, the nans go away. At some specific places, `Print`-Operators show actual nans (see comments below). Unfortunately, I was not able to reduce the example further than in the code below. However, I noticed that the behaviour was not present in 7.0 but is present in current master. Running git bisect, I was able to pinpoint the bug to commit 599995d062437d20052fd649cc029a61dbc82f5f, which consists of only one line.\n\n``` python\nimport numpy as np\nimport theano\nimport theano.tensor as T\nfrom theano.ifelse import ifelse\n\ndef Print(name, variable):\n    return theano.printing.Print(name)(variable)\n\ndef scalar_product(vs, ws):\n    \"\"\"Calculate scalar product over to lists of parameters\"\"\"\n    assert len(vs) == len(ws)\n    #return T.sum([Print('v', v).dot(Print('w', w)) for v, w in zip(vs, ws)])\n    return T.sum([v.dot(w) for v, w in zip(vs, ws)])\n\ndef two_loop_recursion(gradients, Ys, Ss, k, apply_Hk0):\n\n    n_params = len(gradients)\n\n    not_first_step = T.gt(k,0)\n\n    #### First loop\n\n    def f(i, *args):\n        qs = args[:n_params]\n        alpha = args[n_params]\n        Ys = args[n_params+1:2*n_params+1]\n        Ss = args[2*n_params+1:]\n        assert len(Ss) == n_params\n\n        valid_step = T.ge(i, 0)\n\n        store_index = i % Ys[0].shape[0]\n\n        y_is = []\n        s_is = []\n        for Y, S in zip(Ys, Ss):\n            y_is.append(Y[store_index])\n            s_is.append(S[store_index])\n\n        ydots = scalar_product(y_is, s_is)\n        rho = 1/ydots\n\n        sdotq = scalar_product(s_is, qs)\n        alpha = rho * sdotq\n\n        new_qs = []\n\n        for q, y_i in zip(qs, y_is):\n            new_q = q - alpha*y_i \n            new_q = ifelse(valid_step, new_q, q)\n            new_qs.append(new_q)\n\n        new_alpha = ifelse(valid_step, alpha, np.array(0.0, dtype=theano.config.floatX))\n\n        return tuple(new_qs + [new_alpha])\n\n    qs = gradients\n    alpha = T.zeros(())\n\n    loop_indices = T.arange(k-Ys[0].shape[0], k)\n\n\n    scan_results, updates = theano.scan(f, sequences=[loop_indices],\n                                       outputs_info=qs+[alpha],\n                                       non_sequences=Ys+Ss,\n                                       strict=True,\n                                       go_backwards=True)\n\n    qs_results = scan_results[:n_params]\n\n    alpha_result = scan_results[n_params]\n\n    alpha = alpha_result[::-1]\n\n    rs = apply_Hk0(qs, Ss, Ys, k)\n\n    # This makes the nans go away\n    #rs = [Print('r', r) for r in rs]\n\n    #### Second loop\n\n    def f2(i, alpha_i, *args):\n\n        rs = args[:n_params]\n\n        rs = [r for r in rs]\n\n        Ys = args[n_params:2*n_params]\n        Ss = args[2*n_params:]\n        assert len(Ss) == n_params\n\n        valid_step = T.ge(i, 0)\n\n        store_index = i % Ys[0].shape[0]\n\n        y_is = []\n        s_is = []\n        for Y, S in zip(Ys, Ss):\n            y_is.append(Y[store_index])\n            s_is.append(S[store_index])\n\n        ydots = scalar_product(y_is, s_is)\n        rho = 1/ydots\n        # printing rho and ydotr makes rho not nan and ydotr nan\n        #rho = Print('rho', rho)\n\n        ydotr = scalar_product(y_is, rs)\n\n        # ydotr is not nan if rho is not printed, otherwise it is nan\n        ydotr = Print('ydotr', ydotr)\n        beta = rho * ydotr\n\n        #beta is always printed as nan, as long rs was not printed outside of the scan\n        beta = Print('beta', beta)\n\n\n        new_rs = []\n        for r, s_i in zip(rs, s_is):\n            new_r = r + s_i*(alpha_i - beta)\n            new_r = ifelse(valid_step, new_r, r)\n            new_rs.append(new_r)\n\n        return tuple(new_rs)\n\n    results, updates = theano.scan(f2, sequences=[loop_indices, alpha],\n                             outputs_info=tuple(rs),\n                             non_sequences=Ys + Ss,\n                             go_backwards=False,\n                             strict=True)\n    if n_params == 1:\n        # In this case, theano returns only one object instead of a tuple\n        rs = [results[-1]]\n    else:\n        rs = [result[-1] for result in results]\n\n    return rs\n\ndef apply_Hk0(qs, Ss, Ys, k):\n    \"\"\"\n    H_k^0 q := gamma_k q with\n\n    gamma_k = s_{k-1}^Ty_{k_1} / y_{k-1}^Ty_{k-1}  (7.20)\n\n    \"\"\"\n    ss = [S[(k - 1) % S.shape[0]] for S in Ss]\n    ys = [Y[(k - 1) % Y.shape[0]] for Y in Ys]\n\n    # any of this lines makes the nans go away\n    #ss = [Print('s', s) for s in ss]\n    #ys = [Print('y', y) for y in ys]\n\n    gamma_k = scalar_product(ss, ys) / scalar_product(ys, ys)\n\n    gamma_k = ifelse(T.gt(k,0), gamma_k, np.array(1.0, dtype=theano.config.floatX))\n    return [gamma_k * q for q in qs]\n\n# Setting up example\n\nN = 3\nm = 20\nx_0 = -np.ones(N)\nx = theano.shared(x_0)\ny = 0.2*(T.abs_(x)**2.3).sum()\nparams = [x]\ngradients = T.grad(y, params)\n\nk = theano.shared(0)\nSs = [theano.shared(np.random.standard_normal((m, len(_x.get_value()))), name='S') for _x in params]\nYs = [theano.shared(np.random.standard_normal((m, len(_x.get_value()))), name='Y') for _x in params]\n\nrr = two_loop_recursion(gradients, Ys, Ss, k, apply_Hk0)\nf_theano = theano.function([], rr)\n\nk.set_value(1)\nassert not np.any(np.isnan(f_theano()))\n```\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/3887/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/3887/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/3722", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/3722/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/3722/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/3722/events", "html_url": "https://github.com/Theano/Theano/issues/3722", "id": 119853002, "node_id": "MDU6SXNzdWUxMTk4NTMwMDI=", "number": 3722, "title": "Wrong result when iterating over symbolic shapes", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-02T02:26:13Z", "updated_at": "2015-12-16T00:47:22Z", "closed_at": "2015-12-16T00:47:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Some slices are not correctly handled when we try to extract all scalar elements of a symbolic shape after a subtensor:\n\n``` python\n>>> x = theano.shared(np.zeros((2,3,4,5), dtype='float32'))\n>>> list(x.shape)  # OK\n[Subtensor{int64}.0,\n Subtensor{int64}.0,\n Subtensor{int64}.0,\n Subtensor{int64}.0]\n>>> list(x.shape[2:4])  # OK\n[Subtensor{int64}.0, Subtensor{int64}.0]\n>>> list(x.shape[2:])  # BUG\n[]\n```\n\nI think the previous behaviour was to raise an Exception in the last 2 cases.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/3722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/3722/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/3677", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/3677/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/3677/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/3677/events", "html_url": "https://github.com/Theano/Theano/issues/3677", "id": 118510664, "node_id": "MDU6SXNzdWUxMTg1MTA2NjQ=", "number": 3677, "title": "default_blas_ldflags assumes try_compile_tmp always returns tuple", "user": {"login": "dwf", "id": 60206, "node_id": "MDQ6VXNlcjYwMjA2", "avatar_url": "https://avatars.githubusercontent.com/u/60206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dwf", "html_url": "https://github.com/dwf", "followers_url": "https://api.github.com/users/dwf/followers", "following_url": "https://api.github.com/users/dwf/following{/other_user}", "gists_url": "https://api.github.com/users/dwf/gists{/gist_id}", "starred_url": "https://api.github.com/users/dwf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dwf/subscriptions", "organizations_url": "https://api.github.com/users/dwf/orgs", "repos_url": "https://api.github.com/users/dwf/repos", "events_url": "https://api.github.com/users/dwf/events{/privacy}", "received_events_url": "https://api.github.com/users/dwf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-11-24T01:16:51Z", "updated_at": "2015-11-24T16:11:58Z", "closed_at": "2015-11-24T16:11:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I have no idea what's actually triggering this failure, maybe the C compiler vanished, but this reveals an error in the logic in `default_blas_ldflags`.\n\nhttps://travis-ci.org/mila-udem/blocks/jobs/92842112#L1238-L1257\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/3677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/3677/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/3291", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/3291/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/3291/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/3291/events", "html_url": "https://github.com/Theano/Theano/issues/3291", "id": 101660962, "node_id": "MDU6SXNzdWUxMDE2NjA5NjI=", "number": 3291, "title": "bug with T.set_subtensor()", "user": {"login": "hycis", "id": 3508361, "node_id": "MDQ6VXNlcjM1MDgzNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/3508361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hycis", "html_url": "https://github.com/hycis", "followers_url": "https://api.github.com/users/hycis/followers", "following_url": "https://api.github.com/users/hycis/following{/other_user}", "gists_url": "https://api.github.com/users/hycis/gists{/gist_id}", "starred_url": "https://api.github.com/users/hycis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hycis/subscriptions", "organizations_url": "https://api.github.com/users/hycis/orgs", "repos_url": "https://api.github.com/users/hycis/repos", "events_url": "https://api.github.com/users/hycis/events{/privacy}", "received_events_url": "https://api.github.com/users/hycis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190395, "node_id": "MDU6TGFiZWwxOTAzOTU=", "url": "https://api.github.com/repos/Theano/Theano/labels/C%20Code", "name": "C Code", "color": "0b02e1", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-08-18T13:54:00Z", "updated_at": "2015-09-03T21:19:40Z", "closed_at": "2015-09-03T20:17:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "``` python\ndef rec_area(R):\n    '''\n    x_min, x_max, y_min, y_max\n    '''\n    return (R[:,1] - R[:,0]) * (R[:,3] - R[:,2])\n\ndef max_mat(M1, M2):\n    return M1 * (M1 > M2) + M2 * (M2 >= M1)\n\ndef min_mat(M1, M2):\n    return M1 * (M1 < M2) + M2 * ( M2 <= M1)\n\ndef jaccard_box_score(R1, R2):\n    '''\n    x_min, x_max, y_min, y_max\n    '''\n    intercept = max_mat(T.zeros((R1.shape[0],)), min_mat(R1[:,1], R2[:,1]) - max_mat(R1[:,0], R2[:,0])) * \\\n                max_mat(T.zeros((R1.shape[0],)), min_mat(R1[:,3], R2[:,3]) - max_mat(R1[:,2], R2[:,2]))\n    A1 = rec_area(R1)\n    A2 = rec_area(R2)\n    denom = A1 + A2 - intercept\n\n    X = intercept / denom\n    Z = T.set_subtensor(X[T.eq(denom,0).nonzero()], -1)\n\n    return Z\n\ndef testing(R1, R2):\n    y = R1 / R2\n    X = T.set_subtensor(y[T.eq(R2,0).nonzero()], -1)\n    return X\n\nif __name__ == '__main__':\n    R1 = T.matrix()\n    R2 = T.matrix()\n    f = theano.function([R1, R2], jaccard_box_score(R1, R2)) \n    print f(np.asarray([[1,2,2,3],[0,0,0,0],[1,2,3,4]]), np.asarray([[2,3,2,3],[0,0,0,0],[2,0,3,0]])) # returns nan is not set to -1\n\n   f = theano.function([R1, R2], testing(R1, R2)) # returns nan is set to -1\n```\n\nThe `nan` or `inf` produced by `testing` when the denominator is 0 is set successfully to -1 with using `X = T.set_subtensor(y[T.eq(R2,0).nonzero()], -1)`, however doing exactly the same thing in `jaccard_box_score` with `T.set_subtensor(X[T.eq(denom,0).nonzero()], -1)`, the `nan` remains as nan. I wonder why.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/3291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/3291/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/3217", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/3217/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/3217/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/3217/events", "html_url": "https://github.com/Theano/Theano/issues/3217", "id": 97756050, "node_id": "MDU6SXNzdWU5Nzc1NjA1MA==", "number": 3217, "title": "Uninitialized memory returned from empty GpuGemv dot-product", "user": {"login": "mjwillson", "id": 4502, "node_id": "MDQ6VXNlcjQ1MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/4502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjwillson", "html_url": "https://github.com/mjwillson", "followers_url": "https://api.github.com/users/mjwillson/followers", "following_url": "https://api.github.com/users/mjwillson/following{/other_user}", "gists_url": "https://api.github.com/users/mjwillson/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjwillson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjwillson/subscriptions", "organizations_url": "https://api.github.com/users/mjwillson/orgs", "repos_url": "https://api.github.com/users/mjwillson/repos", "events_url": "https://api.github.com/users/mjwillson/events{/privacy}", "received_events_url": "https://api.github.com/users/mjwillson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190395, "node_id": "MDU6TGFiZWwxOTAzOTU=", "url": "https://api.github.com/repos/Theano/Theano/labels/C%20Code", "name": "C Code", "color": "0b02e1", "default": false, "description": null}, {"id": 8083014, "node_id": "MDU6TGFiZWw4MDgzMDE0", "url": "https://api.github.com/repos/Theano/Theano/labels/GPU", "name": "GPU", "color": "009800", "default": false, "description": null}, {"id": 151760713, "node_id": "MDU6TGFiZWwxNTE3NjA3MTM=", "url": "https://api.github.com/repos/Theano/Theano/labels/CCW", "name": "CCW", "color": "f7c6c7", "default": false, "description": null}, {"id": 343949161, "node_id": "MDU6TGFiZWwzNDM5NDkxNjE=", "url": "https://api.github.com/repos/Theano/Theano/labels/GPU%20-%20New%20back-end", "name": "GPU - New back-end", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/6", "html_url": "https://github.com/Theano/Theano/milestone/6", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/6/labels", "id": 1586579, "node_id": "MDk6TWlsZXN0b25lMTU4NjU3OQ==", "number": 6, "title": "0.9", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 104, "state": "closed", "created_at": "2016-02-16T19:03:10Z", "updated_at": "2017-07-31T20:15:25Z", "due_on": null, "closed_at": "2017-07-31T20:15:25Z"}, "comments": 10, "created_at": "2015-07-28T17:14:35Z", "updated_at": "2016-11-28T17:57:37Z", "closed_at": "2016-11-28T17:57:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This case can show up when working with sparse vector representations, on the occasion you get a sparse vector without any non-zero entries.\n\nDemo with Theano flags device=gpu,floatX=float32:\n\n``` python\nimport theano\nimport theano.tensor as T\nimport numpy as np\n\n# Compile a function that takes a dot product\nW = T.matrix()\nv = T.vector()\nf = theano.function([W, v], W.dot(v))\n\n# Apply to an empty matrix shape (5,0) and an empty vector shape (0,)\nf([[], [], [], [], []], [])\n\n# Get back some memory that's likely uninitialized\n\n=>\narray([  4.91618633e+00,  -6.61933719e+33,   8.00188596e+33,\n        -2.90393344e+33,  -8.03866732e+32], dtype=float32)\n```\n\nIt should return a vector of zeros for this empty dot-product, and it does when compiled on the CPU:\n\n``` python\ncpu = theano.compile.mode.get_default_mode().excluding('gpu')\nf = theano.function([W, v], W.dot(v), mode=cpu)\nf([[], [], [], [], []], [])\n\n=>\narray([ 0.,  0.,  0.,  0.,  0.], dtype=float32)\n```\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/3217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/3217/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/3111", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/3111/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/3111/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/3111/events", "html_url": "https://github.com/Theano/Theano/issues/3111", "id": 92962186, "node_id": "MDU6SXNzdWU5Mjk2MjE4Ng==", "number": 3111, "title": "[crash, bug?]GpuAdvancedIncSubtensor1_dev20 do not check the index and don't support negative index", "user": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 29112878, "node_id": "MDU6TGFiZWwyOTExMjg3OA==", "url": "https://api.github.com/repos/Theano/Theano/labels/Crash", "name": "Crash", "color": "ededed", "default": false, "description": null}, {"id": 151760713, "node_id": "MDU6TGFiZWwxNTE3NjA3MTM=", "url": "https://api.github.com/repos/Theano/Theano/labels/CCW", "name": "CCW", "color": "f7c6c7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-04T02:34:30Z", "updated_at": "2015-09-21T17:15:48Z", "closed_at": "2015-09-21T17:15:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I'm not sure it should support negative index. But it probably need to support it.\n\nBut it do not check that the output is out of bound or not.\n\nSo bad user index can cause crash (try to read memory not allocated) or could return some unknow value instead of returning an error.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/3111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/3111/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/2762", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/2762/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/2762/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/2762/events", "html_url": "https://github.com/Theano/Theano/issues/2762", "id": 68317740, "node_id": "MDU6SXNzdWU2ODMxNzc0MA==", "number": 2762, "title": "Setting parameter with default value while missing setting obligatory parameters changes the default value", "user": {"login": "jimmycallin", "id": 2225828, "node_id": "MDQ6VXNlcjIyMjU4Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/2225828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimmycallin", "html_url": "https://github.com/jimmycallin", "followers_url": "https://api.github.com/users/jimmycallin/followers", "following_url": "https://api.github.com/users/jimmycallin/following{/other_user}", "gists_url": "https://api.github.com/users/jimmycallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimmycallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimmycallin/subscriptions", "organizations_url": "https://api.github.com/users/jimmycallin/orgs", "repos_url": "https://api.github.com/users/jimmycallin/repos", "events_url": "https://api.github.com/users/jimmycallin/events{/privacy}", "received_events_url": "https://api.github.com/users/jimmycallin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/6", "html_url": "https://github.com/Theano/Theano/milestone/6", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/6/labels", "id": 1586579, "node_id": "MDk6TWlsZXN0b25lMTU4NjU3OQ==", "number": 6, "title": "0.9", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 104, "state": "closed", "created_at": "2016-02-16T19:03:10Z", "updated_at": "2017-07-31T20:15:25Z", "due_on": null, "closed_at": "2017-07-31T20:15:25Z"}, "comments": 5, "created_at": "2015-04-14T09:36:42Z", "updated_at": "2017-01-26T17:49:22Z", "closed_at": "2017-01-26T17:48:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm finding it hard to explain, so here's an example. Notice that in 77, the output is faulty. This is because I changed the default value in 76 without setting the compulsory parameters. This is returned to normal the next time you run the code (78).\n\n```\nIn [72]: a, b = T.dscalars('a', 'b')\nIn [73]: c = a + b\n\nIn [74]: f = theano.function([Param(a, name='first'), Param(b, default=1, name='second')], c)\n\nIn [75]: f(first=1)\nOut[75]: array(2.0)\n\nIn [76]: f(second=2)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-76-091a89f42488> in <module>()\n----> 1 f(second=2)\n\n/Users/jimmy/dev/anaconda/envs/py2/lib/python2.7/site-packages/theano/compile/function_module.pyc in __call__(self, *args, **kwargs)\n    581                     raise TypeError(\"Missing required input: %s\" %\n    582                                     getattr(self.inv_finder[c], 'variable',\n--> 583                                             self.inv_finder[c]))\n    584                 if c.provided > 1:\n    585                     raise TypeError(\"Multiple values for input: %s\" %\n\nTypeError: Missing required input: a\n\nIn [77]: f(first=1)\nOut[77]: array(3.0)\n\nIn [78]: f(first=1)\nOut[78]: array(2.0)\n```\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/2762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/2762/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/2756", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/2756/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/2756/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/2756/events", "html_url": "https://github.com/Theano/Theano/issues/2756", "id": 67683473, "node_id": "MDU6SXNzdWU2NzY4MzQ3Mw==", "number": 2756, "title": "GPU scalar miss sign", "user": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190404, "node_id": "MDU6TGFiZWwxOTA0MDQ=", "url": "https://api.github.com/repos/Theano/Theano/labels/High%20Priority", "name": "High Priority", "color": "FF9D00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/4", "html_url": "https://github.com/Theano/Theano/milestone/4", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/4/labels", "id": 176251, "node_id": "MDk6TWlsZXN0b25lMTc2MjUx", "number": 4, "title": "0.8", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2012-09-17T15:14:43Z", "updated_at": "2016-05-26T15:47:08Z", "due_on": null, "closed_at": "2016-05-26T15:47:08Z"}, "comments": 5, "created_at": "2015-04-10T21:05:33Z", "updated_at": "2016-02-29T20:20:23Z", "closed_at": "2016-02-29T20:20:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See [[theano-dev] Possible missing sign bug when using GPU](https://groups.google.com/d/topic/theano-dev/LzHtP2OWeRE/discussion)\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/2756/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/2756/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/2715", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/2715/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/2715/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/2715/events", "html_url": "https://github.com/Theano/Theano/issues/2715", "id": 65570545, "node_id": "MDU6SXNzdWU2NTU3MDU0NQ==", "number": 2715, "title": "cumsum(x,axis=-1) does not work on random array", "user": {"login": "udibr", "id": 608789, "node_id": "MDQ6VXNlcjYwODc4OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/608789?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udibr", "html_url": "https://github.com/udibr", "followers_url": "https://api.github.com/users/udibr/followers", "following_url": "https://api.github.com/users/udibr/following{/other_user}", "gists_url": "https://api.github.com/users/udibr/gists{/gist_id}", "starred_url": "https://api.github.com/users/udibr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udibr/subscriptions", "organizations_url": "https://api.github.com/users/udibr/orgs", "repos_url": "https://api.github.com/users/udibr/repos", "events_url": "https://api.github.com/users/udibr/events{/privacy}", "received_events_url": "https://api.github.com/users/udibr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/5", "html_url": "https://github.com/Theano/Theano/milestone/5", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/5/labels", "id": 1034905, "node_id": "MDk6TWlsZXN0b25lMTAzNDkwNQ==", "number": 5, "title": "0.7.1", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2015-03-23T18:36:30Z", "updated_at": "2016-02-17T19:43:57Z", "due_on": null, "closed_at": "2016-02-17T19:43:57Z"}, "comments": 2, "created_at": "2015-03-31T23:48:36Z", "updated_at": "2015-04-01T23:38:28Z", "closed_at": "2015-04-01T23:38:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "When working on an array generated by random number generator, it returns x unchanged. If you use a positive value for axis then it works correctly but if axis=-1 it does not apply itself to the last dimension\n\n``` python\nimport theano\nimport theano.tensor as T\nfrom theano.sandbox.rng_mrg import MRG_RandomStreams\nimport pprint\n\nrng = MRG_RandomStreams(3)\nu = rng.uniform(size=(2,5))\nc = T.cumsum(u,axis=-1)\nd = T.cumsum(u,axis=1)\nf = theano.function([], outputs=[u, c, d], allow_input_downcast=True)\n\npprint.pprint(f())\n```\n\n[array([[ 0.005768  ,  0.00573857,  0.79128766,  0.73698175,  0.58187205],\n       [ 0.62578964,  0.73792672,  0.21239796,  0.24640237,  0.14918256]], dtype=float32),\n array([[ 0.005768  ,  0.00573857,  0.79128766,  0.73698175,  0.58187205],\n       [ 0.62578964,  0.73792672,  0.21239796,  0.24640237,  0.14918256]], dtype=float32),\n array([[ 0.005768  ,  0.01150657,  0.80279422,  1.53977597,  2.12164807],\n       [ 0.62578964,  1.36371636,  1.5761143 ,  1.82251668,  1.97169924]], dtype=float32)]\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/2715/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/2715/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/2594", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/2594/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/2594/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/2594/events", "html_url": "https://github.com/Theano/Theano/issues/2594", "id": 60729735, "node_id": "MDU6SXNzdWU2MDcyOTczNQ==", "number": 2594, "title": "Scan.connection_pattern IndexError with multiple taps and output variables", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 69463258, "node_id": "MDU6TGFiZWw2OTQ2MzI1OA==", "url": "https://api.github.com/repos/Theano/Theano/labels/Scan", "name": "Scan", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "carriepl", "id": 832811, "node_id": "MDQ6VXNlcjgzMjgxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/832811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carriepl", "html_url": "https://github.com/carriepl", "followers_url": "https://api.github.com/users/carriepl/followers", "following_url": "https://api.github.com/users/carriepl/following{/other_user}", "gists_url": "https://api.github.com/users/carriepl/gists{/gist_id}", "starred_url": "https://api.github.com/users/carriepl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carriepl/subscriptions", "organizations_url": "https://api.github.com/users/carriepl/orgs", "repos_url": "https://api.github.com/users/carriepl/repos", "events_url": "https://api.github.com/users/carriepl/events{/privacy}", "received_events_url": "https://api.github.com/users/carriepl/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "carriepl", "id": 832811, "node_id": "MDQ6VXNlcjgzMjgxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/832811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carriepl", "html_url": "https://github.com/carriepl", "followers_url": "https://api.github.com/users/carriepl/followers", "following_url": "https://api.github.com/users/carriepl/following{/other_user}", "gists_url": "https://api.github.com/users/carriepl/gists{/gist_id}", "starred_url": "https://api.github.com/users/carriepl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carriepl/subscriptions", "organizations_url": "https://api.github.com/users/carriepl/orgs", "repos_url": "https://api.github.com/users/carriepl/repos", "events_url": "https://api.github.com/users/carriepl/events{/privacy}", "received_events_url": "https://api.github.com/users/carriepl/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2015-03-11T21:07:25Z", "updated_at": "2015-03-12T17:20:53Z", "closed_at": "2015-03-12T17:20:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From https://groups.google.com/d/topic/theano-users/TcA2oaNtbs0/discussion\n\n``` python\nimport numpy as np\nimport theano\nimport theano.tensor as T\n\ndef fn(a_m2, a_m1, b_m2, b_m1):\n    return a_m1, b_m1\n\na0 = theano.shared(np.arange(2))\nb0 = theano.shared(np.arange(2))\n\n(a, b), _ = theano.scan(fn,\n                        outputs_info=[{'initial': a0, 'taps': [-2, -1]},\n                                      {'initial': b0, 'taps': [-2, -1]}],\n                        n_steps=2)\nT.grad(a[-1], a0)\n```\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/2594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/2594/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/2210", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/2210/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/2210/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/2210/events", "html_url": "https://github.com/Theano/Theano/issues/2210", "id": 46565901, "node_id": "MDU6SXNzdWU0NjU2NTkwMQ==", "number": 2210, "title": "Fix two bugs in Join.grad ", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 29112878, "node_id": "MDU6TGFiZWwyOTExMjg3OA==", "url": "https://api.github.com/repos/Theano/Theano/labels/Crash", "name": "Crash", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-10-22T21:58:35Z", "updated_at": "2014-10-27T17:15:29Z", "closed_at": "2014-10-27T17:15:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From https://groups.google.com/d/topic/theano-dev/40iJjRAPLDI/discussion:\n\n> Join.grad has two bugs.\n> First, it tests the first input tensor's dtype and assumes the output's dtype is the same. This is not correct. When the first input tensor has an int dtype and any other tensor has a float dtype, the output will have a float dtype. This test will treat the output as int in that case. This is bad because it will result in there being zero gradient through the join (incorrect result bug).\n> The good news is this bug hasn't been active in anybody's code, because there is a second bug that causes an exception. Op.grad is not allowed to return anything with an integer value, but Join.grad returns the zeros_like of the input when it thinks the output is integer valued. This results in theano.gradient.grad raising an exception. To fix this, we need to cast the return value to float types.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/2210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/2210/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/2081", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/2081/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/2081/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/2081/events", "html_url": "https://github.com/Theano/Theano/issues/2081", "id": 41947627, "node_id": "MDU6SXNzdWU0MTk0NzYyNw==", "number": 2081, "title": "Print() Op inside scan gives incorrect values", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 69463258, "node_id": "MDU6TGFiZWw2OTQ2MzI1OA==", "url": "https://api.github.com/repos/Theano/Theano/labels/Scan", "name": "Scan", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-09-04T15:07:41Z", "updated_at": "2014-09-09T15:07:22Z", "closed_at": "2014-09-09T15:07:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Check with @rizar for a test case\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/2081/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/2081/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/2076", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/2076/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/2076/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/2076/events", "html_url": "https://github.com/Theano/Theano/issues/2076", "id": 41852783, "node_id": "MDU6SXNzdWU0MTg1Mjc4Mw==", "number": 2076, "title": "MRG_RandomStreams on GPU produces NaN when nstreams is large", "user": {"login": "MarcCote", "id": 660004, "node_id": "MDQ6VXNlcjY2MDAwNA==", "avatar_url": "https://avatars.githubusercontent.com/u/660004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarcCote", "html_url": "https://github.com/MarcCote", "followers_url": "https://api.github.com/users/MarcCote/followers", "following_url": "https://api.github.com/users/MarcCote/following{/other_user}", "gists_url": "https://api.github.com/users/MarcCote/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarcCote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarcCote/subscriptions", "organizations_url": "https://api.github.com/users/MarcCote/orgs", "repos_url": "https://api.github.com/users/MarcCote/repos", "events_url": "https://api.github.com/users/MarcCote/events{/privacy}", "received_events_url": "https://api.github.com/users/MarcCote/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2014-09-03T18:58:07Z", "updated_at": "2014-10-20T18:26:08Z", "closed_at": "2014-10-20T18:26:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For one of my models I need to generate a random matrix of size 10000x784. I had the impression I needed to set `nstreams` to the number of elements in my matrix. Doing so, produces NaN on the GPU (actually not for the whole matrix, only for the last couple of rows of the matrix).\n\nHere is a [gist](https://gist.github.com/MarcCote/1f95703c6a3e599d6229) reproducing the problem on a GeForce GTX 660 (960 CUDA cores, 1.5 Go RAM).\n\nNow I know better, I've read the [comment](https://github.com/Theano/Theano/blob/master/theano/sandbox/rng_mrg.py#L1018) in `sandbox/rng_mrg.py:1018`, so I set `nstreams=960` instead. Still, I thought I should report this unexpected behavior when used on GPU since on CPU it works fine.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/2076/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/2076/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/1914", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/1914/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/1914/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/1914/events", "html_url": "https://github.com/Theano/Theano/issues/1914", "id": 35596257, "node_id": "MDU6SXNzdWUzNTU5NjI1Nw==", "number": 1914, "title": "Bug in advanced indexing", "user": {"login": "rizar", "id": 654434, "node_id": "MDQ6VXNlcjY1NDQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/654434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rizar", "html_url": "https://github.com/rizar", "followers_url": "https://api.github.com/users/rizar/followers", "following_url": "https://api.github.com/users/rizar/following{/other_user}", "gists_url": "https://api.github.com/users/rizar/gists{/gist_id}", "starred_url": "https://api.github.com/users/rizar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rizar/subscriptions", "organizations_url": "https://api.github.com/users/rizar/orgs", "repos_url": "https://api.github.com/users/rizar/repos", "events_url": "https://api.github.com/users/rizar/events{/privacy}", "received_events_url": "https://api.github.com/users/rizar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 29112878, "node_id": "MDU6TGFiZWwyOTExMjg3OA==", "url": "https://api.github.com/repos/Theano/Theano/labels/Crash", "name": "Crash", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/3", "html_url": "https://github.com/Theano/Theano/milestone/3", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/3/labels", "id": 112020, "node_id": "MDk6TWlsZXN0b25lMTEyMDIw", "number": 3, "title": "0.7", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2012-04-25T19:38:54Z", "updated_at": "2015-08-29T04:50:12Z", "due_on": null, "closed_at": "2015-08-29T04:50:12Z"}, "comments": 8, "created_at": "2014-06-12T15:43:06Z", "updated_at": "2014-10-16T20:11:15Z", "closed_at": "2014-10-16T20:11:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following code doesn't work:\n\nw = numpy.zeros((3, 3))\nw = theano.shared(w)\nprint w[[0, 1], :]\n\nTraceback:\nhttp://pastebin.com/DL2jaDAa\n\nI traced the problem and think that I know how to fix it. The following patch works for me:\nhttp://pastebin.com/3rB6bvRx\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/1914/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/1914/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/1780", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/1780/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/1780/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/1780/events", "html_url": "https://github.com/Theano/Theano/issues/1780", "id": 30138243, "node_id": "MDU6SXNzdWUzMDEzODI0Mw==", "number": 1780, "title": "Pow.grad() should handle 0 case", "user": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2014-03-25T16:13:08Z", "updated_at": "2016-09-22T19:47:25Z", "closed_at": "2016-09-22T19:47:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See this mailing list threads: \n[[theano-users] Gradient of Euclidean Norm\n](https://groups.google.com/d/topic/theano-users/iBdnzVypKSk/discussion)\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/1780/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/1780/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/1647", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/1647/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/1647/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/1647/events", "html_url": "https://github.com/Theano/Theano/issues/1647", "id": 23886666, "node_id": "MDU6SXNzdWUyMzg4NjY2Ng==", "number": 1647, "title": "IndexError in Scan gradient", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 29112878, "node_id": "MDU6TGFiZWwyOTExMjg3OA==", "url": "https://api.github.com/repos/Theano/Theano/labels/Crash", "name": "Crash", "color": "ededed", "default": false, "description": null}, {"id": 69463258, "node_id": "MDU6TGFiZWw2OTQ2MzI1OA==", "url": "https://api.github.com/repos/Theano/Theano/labels/Scan", "name": "Scan", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/3", "html_url": "https://github.com/Theano/Theano/milestone/3", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/3/labels", "id": 112020, "node_id": "MDk6TWlsZXN0b25lMTEyMDIw", "number": 3, "title": "0.7", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2012-04-25T19:38:54Z", "updated_at": "2015-08-29T04:50:12Z", "due_on": null, "closed_at": "2015-08-29T04:50:12Z"}, "comments": 1, "created_at": "2013-12-06T21:32:21Z", "updated_at": "2015-03-09T20:51:21Z", "closed_at": "2015-03-09T20:51:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://groups.google.com/d/msg/theano-users/DN-OGIyQDms/dZEZ04JrXvoJ : the main example is now working, but not the variant:\n\n``` Python\nimport numpy\nimport theano\nfrom theano import tensor\n\nw = theano.shared(numpy.array(0, dtype='float32'), name='w')\nout, _ = theano.scan(\n        fn=lambda: w,\n        n_steps=2)\ntheano.grad(out[-1], w)\n```\n\nThe forward pass works well:\n\n``` Python\n>>> out[-1].eval()\narray(0.0, dtype=float32)\n```\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/1647/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/1647/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/1589", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/1589/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/1589/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/1589/events", "html_url": "https://github.com/Theano/Theano/issues/1589", "id": 22214296, "node_id": "MDU6SXNzdWUyMjIxNDI5Ng==", "number": 1589, "title": "Disconnected Type Error when finding derivative of stacklists", "user": {"login": "jangevaare", "id": 5422422, "node_id": "MDQ6VXNlcjU0MjI0MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/5422422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jangevaare", "html_url": "https://github.com/jangevaare", "followers_url": "https://api.github.com/users/jangevaare/followers", "following_url": "https://api.github.com/users/jangevaare/following{/other_user}", "gists_url": "https://api.github.com/users/jangevaare/gists{/gist_id}", "starred_url": "https://api.github.com/users/jangevaare/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jangevaare/subscriptions", "organizations_url": "https://api.github.com/users/jangevaare/orgs", "repos_url": "https://api.github.com/users/jangevaare/repos", "events_url": "https://api.github.com/users/jangevaare/events{/privacy}", "received_events_url": "https://api.github.com/users/jangevaare/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/3", "html_url": "https://github.com/Theano/Theano/milestone/3", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/3/labels", "id": 112020, "node_id": "MDk6TWlsZXN0b25lMTEyMDIw", "number": 3, "title": "0.7", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2012-04-25T19:38:54Z", "updated_at": "2015-08-29T04:50:12Z", "due_on": null, "closed_at": "2015-08-29T04:50:12Z"}, "comments": 11, "created_at": "2013-11-06T18:21:28Z", "updated_at": "2013-12-04T16:00:00Z", "closed_at": "2013-12-04T15:17:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\nThis is something I have ran into when using pymc - there seems to be an issue when trying to find the derivative of a stacklists - which is something that is necessary for using hamiltonian monte carlo methods for my model.\n\nI have reported this issue over on the pymc list (https://github.com/pymc-devs/pymc/issues/379), but it was suggested I try here as well.\n\nI believe @jsalvatier has reduced my example to this:\n\n```\nfrom theano import *\nfrom theano.tensor import * \nfrom pymc.theanof import hessian_diag1\n\na = dscalar('a')\nb = sum(stacklists([[a, 1], [2,1]]))\ng = hessian_diag1(b, a)\n\nf = function([a], [g])\n/home/john/Documents/workspace/Theano/theano/gradient.py:512: UserWarning: grad method was asked to compute the gradient with respect to a variable that is not part of the computational graph of the cost, or is used only by a non-differentiable operator: a\n  handle_disconnected(elem)\n/home/john/Documents/workspace/Theano/theano/gradient.py:532: UserWarning: grad method was asked to compute the gradient with respect to a variable that is not part of the computational graph of the cost, or is used only by a non-differentiable operator: <DisconnectedType>\n  handle_disconnected(rval[i])\n```\n\nAnd my full example\n\n```\nimport pymc as pm\nimport numpy as np\nfrom theano.tensor import stacklists, scalars, matrices, sqrt, constant, dot\nfrom theano.sandbox.linalg.ops import matrix_inverse\n\ncov=np.array([[2,1],[1,3]])\nmean=([2,7])\ntau_choleskyroot=np.linalg.cholesky(np.linalg.inv(cov))\n\nN=1\nz_data=np.ndarray.flatten(np.random.multivariate_normal(mean, cov, N))\n\ndef ex_tau(a11_sqd, a12, a22_sqd):\n    ex_A=stacklists([[sqrt(a11_sqd), a12], [constant(0, dtype='float64'), sqrt(a22_sqd)]])\n    return ex_A.T.dot(ex_A)\n\nwith pm.Model() as model:    \n    a11_sqd=pm.Gamma('a11_sqd', alpha=2, beta=2)\n    a22_sqd=pm.Gamma('a22_sqd', alpha=2, beta=2)\n    a12=pm.Normal('a12', mu=0, tau=1)\n    z=pm.MvNormal('z', mu=mean, Tau=ex_tau(a11_sqd, a12, a22_sqd), shape=2, observed=z_data)\n    start = pm.find_MAP()\n\nwith model:\n    step = pm.NUTS()\n    trace = pm.sample(3000, step, start)\n\n---------------------------------------------------------------------------\nAsTensorError                             Traceback (most recent call last)\n<ipython-input-1-c16baa5bbcef> in <module>()\n     23 \n     24 with model:\n---> 25     step = pm.NUTS()\n     26     trace = pm.sample(3000, step, start)\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pymc/step_methods/nuts.pyc in __init__(self, vars, scaling, step_scale, is_cov, state, Emax, target_accept, gamma, k, t0, model)\n     57 \n     58         if isinstance(scaling, dict):\n---> 59             scaling = guess_scaling(Point(scaling, model=model), model=model)\n     60 \n     61 \n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pymc/tuning/scaling.pyc in guess_scaling(point, model)\n     77 def guess_scaling(point, model=None):\n     78     model = modelcontext(model)\n---> 79     h = find_hessian_diag(point, model=model)\n     80     return adjust_scaling(h)\n     81 \n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pymc/tuning/scaling.pyc in find_hessian_diag(point, vars, model)\n     72     \"\"\"\n     73     model=modelcontext(model)\n---> 74     H = compilef(hessian_diag(model.logp, vars))\n     75     return H(Point(point, model=model))\n     76 \n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pymc/memoize.pyc in memoizer(*args, **kwargs)\n     12 \n     13         if key not in cache:\n---> 14             cache[key] = obj(*args, **kwargs)\n     15 \n     16         return cache[key]\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pymc/theanof.pyc in hessian_diag(f, vars)\n     92         vars = cont_inputs(f)\n     93 \n---> 94     return -t.concatenate([hessian_diag1(f, v) for v in vars], axis=0)\n     95 \n     96 \n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pymc/theanof.pyc in hessian_diag1(f, v)\n     84         return gradient1(g[i], v)[i]\n     85 \n---> 86     return theano.map(hess_ii, idx)[0]\n     87 \n     88 \n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/scan_module/scan_views.pyc in map(fn, sequences, non_sequences, truncate_gradient, go_backwards, mode, name)\n     66                      go_backwards=go_backwards,\n     67                      mode=mode,\n---> 68                      name=name)\n     69 \n     70 \n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/scan_module/scan.pyc in scan(fn, sequences, outputs_info, non_sequences, n_steps, truncate_gradient, go_backwards, mode, name, profile)\n    730     # and outputs that needs to be separated\n    731 \n--> 732     condition, outputs, updates = scan_utils.get_updates_and_outputs(fn(*args))\n    733     if condition is not None:\n    734         as_while = True\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pymc/theanof.pyc in hess_ii(i)\n     82 \n     83     def hess_ii(i):\n---> 84         return gradient1(g[i], v)[i]\n     85 \n     86     return theano.map(hess_ii, idx)[0]\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pymc/theanof.pyc in gradient1(f, v)\n     41 def gradient1(f, v):\n     42     \"\"\"flat gradient of f wrt v\"\"\"\n---> 43     return t.flatten(t.grad(f, v, disconnected_inputs='warn'))\n     44 \n     45 \n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in grad(cost, wrt, consider_constant, disconnected_inputs, add_names, known_grads, return_disconnected)\n    526 \n    527     rval = _populate_grad_dict(var_to_app_to_idx,\n--> 528             grad_dict, wrt, cost_name)\n    529 \n    530     for i in xrange(len(rval)):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in _populate_grad_dict(var_to_app_to_idx, grad_dict, wrt, cost_name)\n   1101         return grad_dict[var]\n   1102 \n-> 1103     rval = [access_grad_cache(elem) for elem in wrt]\n   1104 \n   1105     return rval\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    783             inputs = node.inputs\n    784 \n--> 785             output_grads = [access_grad_cache(var) for var in node.outputs]\n    786 \n    787             # list of bools indicating if each output is connected to the cost\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_grad_cache(var)\n   1061                     for idx in node_to_idx[node]:\n   1062 \n-> 1063                         term = access_term_cache(node)[idx]\n   1064 \n   1065                         if not isinstance(term, gof.Variable):\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gradient.pyc in access_term_cache(node)\n    922                                 str(g_shape))\n    923 \n--> 924                 input_grads = node.op.grad(inputs, new_output_grads)\n    925 \n    926                 if input_grads is None:\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/tensor/basic.pyc in grad(self, inputs, g_outputs)\n   3208         \"\"\"Join the gradients along the axis that was used to split x.\"\"\"\n   3209         _, axis, n = inputs\n-> 3210         return [join(axis, *g_outputs),\n   3211                 grad_undefined(self, 1, axis),\n   3212                 grad_undefined(self, 2, n)]\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/gof/op.pyc in __call__(self, *inputs, **kwargs)\n    397         \"\"\"\n    398         return_list = kwargs.pop('return_list', False)\n--> 399         node = self.make_node(*inputs, **kwargs)\n    400         if self.add_stack_trace_on_call:\n    401             self.add_tag_trace(node)\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/tensor/basic.pyc in make_node(self, *axis_and_tensors)\n   3379         if not tensors:\n   3380             raise ValueError('Cannot join an empty list of tensors')\n-> 3381         as_tensor_variable_args = [as_tensor_variable(x) for x in tensors]\n   3382 \n   3383         dtypes = [x.type.dtype for x in as_tensor_variable_args]\n\n/Users/justin/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/theano/tensor/basic.pyc in as_tensor_variable(x, name, ndim)\n    157         if not isinstance(x.type, TensorType):\n    158             raise AsTensorError(\n--> 159                 \"Variable type field must be a TensorType.\", x, x.type)\n    160 \n    161         if ndim is None:\n\nAsTensorError: ('Variable type field must be a TensorType.', <DisconnectedType>, <theano.gradient.DisconnectedType object at 0x11c4b0590>) \n```\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/1589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/1589/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/1569", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/1569/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/1569/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/1569/events", "html_url": "https://github.com/Theano/Theano/issues/1569", "id": 21305613, "node_id": "MDU6SXNzdWUyMTMwNTYxMw==", "number": 1569, "title": "CGemv occasionally returns NAN on valid inputs", "user": {"login": "adefazio", "id": 2559810, "node_id": "MDQ6VXNlcjI1NTk4MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/2559810?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adefazio", "html_url": "https://github.com/adefazio", "followers_url": "https://api.github.com/users/adefazio/followers", "following_url": "https://api.github.com/users/adefazio/following{/other_user}", "gists_url": "https://api.github.com/users/adefazio/gists{/gist_id}", "starred_url": "https://api.github.com/users/adefazio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adefazio/subscriptions", "organizations_url": "https://api.github.com/users/adefazio/orgs", "repos_url": "https://api.github.com/users/adefazio/repos", "events_url": "https://api.github.com/users/adefazio/events{/privacy}", "received_events_url": "https://api.github.com/users/adefazio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/3", "html_url": "https://github.com/Theano/Theano/milestone/3", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/3/labels", "id": 112020, "node_id": "MDk6TWlsZXN0b25lMTEyMDIw", "number": 3, "title": "0.7", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2012-04-25T19:38:54Z", "updated_at": "2015-08-29T04:50:12Z", "due_on": null, "closed_at": "2015-08-29T04:50:12Z"}, "comments": 6, "created_at": "2013-10-21T10:03:13Z", "updated_at": "2015-01-27T02:09:06Z", "closed_at": "2015-01-27T02:08:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Very occasionally, The CGemv op is returning NAN, when its inputs are completely valid. This only occurs when device=cpu, never when run on the GPU. I'm using 64 bit windows. The error is not caused by the blas implementation as I have tried two different blas libraries (OpenBlas and AMD's ACML).\nI've run the code with the detect NAN mode on, which is how I know its the CGemv op. The output from a debug session is below, where I examine the inputs/outputs at a breakpoint within the detect_nan function. None of the inputs are NAN or INF, but the output is NAN. \n\nUnfortunately, the most mimimal test case I can come up with is not very minimal:\nhttps://gist.github.com/adefazio/7081767\nRunning this, most of the time, causes the error. But it's completely random. If it doesn't occur, try running in a different console window. It probably only occurs in 64 bit windows as well.\n\n```\n(Pdb) print node\nCGemv{no_inplace}(TensorConstant{(1L,) of 0.0}, TensorConstant{1.0}, InplaceDimShuffle{x,0}.0, <TensorType(float32, vector)>, TensorConstant{0.0})\n\n(Pdb) print fn.inputs[0]\n[array([ 0.], dtype=float32)]\n(Pdb) print fn.inputs[1]\n[array(1.0, dtype=float32)]\n(Pdb) print fn.inputs[2]\n[array([[  2.03404561e-05,   2.39333585e-05,   1.19035622e-05, ...,\n          1.11312575e-05,   6.02677064e-05,   3.35221559e-01]], dtype=float32)]\n(Pdb) print fn.inputs[3]\n[array([ 0.,  0.,  0., ...,  0.,  0.,  1.], dtype=float32)]\n(Pdb) print fn.inputs[4]\n[array(0.0, dtype=float32)]\n\n(Pdb) print fn.inputs[1][0].shape\n()\n(Pdb) print fn.inputs[2][0].shape\n(1L, 12545L)\n(Pdb) print fn.inputs[3][0].shape\n(12545L,)\n(Pdb) print fn.inputs[4][0].shape\n()\n\n(Pdb) print fn.outputs\n[[array([ nan], dtype=float32)]]\n\n(Pdb) numpy.isnan(fn.inputs[2][0]).any()\nFalse\n(Pdb) numpy.isnan(fn.inputs[3][0]).any()\nFalse\n\n(Pdb) numpy.isinf(fn.inputs[2][0]).any()\nFalse\n(Pdb) numpy.isinf(fn.inputs[3][0]).any()\nFalse\n\n\n```\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/1569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/1569/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/1499", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/1499/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/1499/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/1499/events", "html_url": "https://github.com/Theano/Theano/issues/1499", "id": 18175374, "node_id": "MDU6SXNzdWUxODE3NTM3NA==", "number": 1499, "title": "Advanced indexing treats ints as full slices when there is only one list", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/2", "html_url": "https://github.com/Theano/Theano/milestone/2", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/2/labels", "id": 75447, "node_id": "MDk6TWlsZXN0b25lNzU0NDc=", "number": 2, "title": "0.6", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 103, "state": "closed", "created_at": "2012-01-20T14:44:16Z", "updated_at": "2013-12-06T14:24:45Z", "due_on": null, "closed_at": "2013-12-06T14:24:45Z"}, "comments": 1, "created_at": "2013-08-16T19:48:36Z", "updated_at": "2013-11-08T18:56:20Z", "closed_at": "2013-11-08T18:56:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "To reproduce that problem:\n\n```\nimport theano.tensor as T\nm = T.matrix()\nv = T.ivector()\nm[0, v].eval({m: [[0, 1], [2, 3]], v: [0, 0]})\n```\n\nResults in:\n\n```\narray([[ 0.,  0.],\n       [ 2.,  2.]])\n```\n\nWhich is the correct result for `m[:, v]`, but the expected result is `array([ 0.,  0.])`.\n\nA workaround is to use `m[0][v]` instead of `m[0, v]`, but it raises other problems when trying to use it with `inc_subtensor` or `set_subtensor`.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/1499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/1499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/1474", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/1474/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/1474/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/1474/events", "html_url": "https://github.com/Theano/Theano/issues/1474", "id": 17479108, "node_id": "MDU6SXNzdWUxNzQ3OTEwOA==", "number": 1474, "title": "TensorSharedVariable.value is not declared correctly", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-07-31T21:50:22Z", "updated_at": "2013-08-02T14:09:11Z", "closed_at": "2013-08-02T14:09:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It seems to contain a length-1 tuple containing the property, not the property itself.\n\nNote that using this property should raise an Exception, so that code expecting the previous behaviour of setting values by calling `s.value = ...` crashes instead of failing silently.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/1474/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/1474/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/1371", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/1371/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/1371/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/1371/events", "html_url": "https://github.com/Theano/Theano/issues/1371", "id": 14155797, "node_id": "MDU6SXNzdWUxNDE1NTc5Nw==", "number": 1371, "title": "Error when using the shape of shared variable in Scan's lambda function", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/2", "html_url": "https://github.com/Theano/Theano/milestone/2", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/2/labels", "id": 75447, "node_id": "MDk6TWlsZXN0b25lNzU0NDc=", "number": 2, "title": "0.6", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 103, "state": "closed", "created_at": "2012-01-20T14:44:16Z", "updated_at": "2013-12-06T14:24:45Z", "due_on": null, "closed_at": "2013-12-06T14:24:45Z"}, "comments": 3, "created_at": "2013-05-09T17:18:06Z", "updated_at": "2013-11-12T19:21:47Z", "closed_at": "2013-11-12T19:21:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When compiling functions containing a Scan node with a lambda function that uses the shape of shared variables, the following error is sometimes encountered:\n\n```\nMissingInputError: ('An input of the graph, used to compute Shape(neg_v[t-1][t-1]), was not provided and not given a value', neg_v[t-1][t-1])\n```\n\nSee https://groups.google.com/d/topic/theano-users/vdSe8EH1kZM/discussion for an example.\n\nIt happens at least when having a Scan inside a Scan, but it might not be restricted to that case.\n\nUsing constants instead of shared_var.shape[0] works.\nThe expected behaviour would be for Scan to identify the shared variable as an implicit input, and include it in the node's inputs.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/1371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/1371/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/1240", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/1240/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/1240/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/1240/events", "html_url": "https://github.com/Theano/Theano/issues/1240", "id": 11185955, "node_id": "MDU6SXNzdWUxMTE4NTk1NQ==", "number": 1240, "title": "Newly introduced vector-vector product bug", "user": {"login": "jlowin", "id": 153965, "node_id": "MDQ6VXNlcjE1Mzk2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/153965?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlowin", "html_url": "https://github.com/jlowin", "followers_url": "https://api.github.com/users/jlowin/followers", "following_url": "https://api.github.com/users/jlowin/following{/other_user}", "gists_url": "https://api.github.com/users/jlowin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlowin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlowin/subscriptions", "organizations_url": "https://api.github.com/users/jlowin/orgs", "repos_url": "https://api.github.com/users/jlowin/repos", "events_url": "https://api.github.com/users/jlowin/events{/privacy}", "received_events_url": "https://api.github.com/users/jlowin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190404, "node_id": "MDU6TGFiZWwxOTA0MDQ=", "url": "https://api.github.com/repos/Theano/Theano/labels/High%20Priority", "name": "High Priority", "color": "FF9D00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/2", "html_url": "https://github.com/Theano/Theano/milestone/2", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/2/labels", "id": 75447, "node_id": "MDk6TWlsZXN0b25lNzU0NDc=", "number": 2, "title": "0.6", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 103, "state": "closed", "created_at": "2012-01-20T14:44:16Z", "updated_at": "2013-12-06T14:24:45Z", "due_on": null, "closed_at": "2013-12-06T14:24:45Z"}, "comments": 57, "created_at": "2013-02-20T05:58:33Z", "updated_at": "2013-02-27T19:02:21Z", "closed_at": "2013-02-27T19:02:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm experiencing what appears to be a serious bug.  According to `git bisect`, the recent commit 14af439 is the culprit, merged in gh-1202.\n\nThe following code now gives the wrong result on my machine. It should be 30.0, but after this commit results in 0.0.\n\n``` python\nimport numpy as np\n\nimport theano\nimport theano.tensor as tt\nv = tt.vector()\nf = theano.function([v], tt.dot(v, v))\ntestval = np.arange(5).astype(theano.config.floatX)\nprint f(testval)\n```\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/1240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/1240/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/1172", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/1172/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/1172/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/1172/events", "html_url": "https://github.com/Theano/Theano/issues/1172", "id": 10121158, "node_id": "MDU6SXNzdWUxMDEyMTE1OA==", "number": 1172, "title": "test_blas:test_downsample fails fo some shapes", "user": {"login": "abalkin", "id": 535197, "node_id": "MDQ6VXNlcjUzNTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/535197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abalkin", "html_url": "https://github.com/abalkin", "followers_url": "https://api.github.com/users/abalkin/followers", "following_url": "https://api.github.com/users/abalkin/following{/other_user}", "gists_url": "https://api.github.com/users/abalkin/gists{/gist_id}", "starred_url": "https://api.github.com/users/abalkin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abalkin/subscriptions", "organizations_url": "https://api.github.com/users/abalkin/orgs", "repos_url": "https://api.github.com/users/abalkin/repos", "events_url": "https://api.github.com/users/abalkin/events{/privacy}", "received_events_url": "https://api.github.com/users/abalkin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 198996, "node_id": "MDU6TGFiZWwxOTg5OTY=", "url": "https://api.github.com/repos/Theano/Theano/labels/Test", "name": "Test", "color": "ededed", "default": false, "description": null}, {"id": 8083014, "node_id": "MDU6TGFiZWw4MDgzMDE0", "url": "https://api.github.com/repos/Theano/Theano/labels/GPU", "name": "GPU", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/2", "html_url": "https://github.com/Theano/Theano/milestone/2", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/2/labels", "id": 75447, "node_id": "MDk6TWlsZXN0b25lNzU0NDc=", "number": 2, "title": "0.6", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 103, "state": "closed", "created_at": "2012-01-20T14:44:16Z", "updated_at": "2013-12-06T14:24:45Z", "due_on": null, "closed_at": "2013-12-06T14:24:45Z"}, "comments": 13, "created_at": "2013-01-19T04:01:20Z", "updated_at": "2013-03-29T08:38:26Z", "closed_at": "2013-03-28T23:41:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "To reproduce, run\n\n```\ntheano-nose theano.sandbox.cuda.tests.test_blas:test_downsample\n```\n\ntest_downsample is a loop over various shapes.  Faling shapes are:\n\n```\n        #(1, 1, 10, 11),\n        #(3, 5, 4, 4),\n        #(25, 1, 7, 7),\n        #(1, 1, 16, 16),\n        #(10, 10, 10, 11),\n        #(1, 1, 10, 1023),\n        #(65536, 1, 10, 10),\n        #(1, 65536, 10, 10),\n```\n\nI am using a MacOS X 10.8 laptop with GeForce GT 650M GPU.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/1172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/1172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/1065", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/1065/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/1065/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/1065/events", "html_url": "https://github.com/Theano/Theano/issues/1065", "id": 8299450, "node_id": "MDU6SXNzdWU4Mjk5NDUw", "number": 1065, "title": "CreateArrayObj triggering infinite loop in cuda", "user": {"login": "jaberg", "id": 171276, "node_id": "MDQ6VXNlcjE3MTI3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/171276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaberg", "html_url": "https://github.com/jaberg", "followers_url": "https://api.github.com/users/jaberg/followers", "following_url": "https://api.github.com/users/jaberg/following{/other_user}", "gists_url": "https://api.github.com/users/jaberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaberg/subscriptions", "organizations_url": "https://api.github.com/users/jaberg/orgs", "repos_url": "https://api.github.com/users/jaberg/repos", "events_url": "https://api.github.com/users/jaberg/events{/privacy}", "received_events_url": "https://api.github.com/users/jaberg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-11-12T19:01:04Z", "updated_at": "2016-09-22T19:19:31Z", "closed_at": "2016-09-22T19:19:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The CudaNdarray_CreateArrayObj call in cuda_ndarray.so calls cublasGetVector to copy data from the device to the host, so that it can return a numpy ndarray.\n\nSometimes the memcpy in libcuda does not return, as can be verified by attaching gdb to the running process (using 100% CPU)\n\nOS: debian-unstable\nDRIVER: nvidia-vdpau-driver:am 304.60-1\nCUDA: nvidia-cuda-toolkit    4.2.9-1\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/1065/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/1065/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/855", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/855/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/855/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/855/events", "html_url": "https://github.com/Theano/Theano/issues/855", "id": 6226318, "node_id": "MDU6SXNzdWU2MjI2MzE4", "number": 855, "title": "theano.shared(12, borrow=True) fails", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190398, "node_id": "MDU6TGFiZWwxOTAzOTg=", "url": "https://api.github.com/repos/Theano/Theano/labels/Low%20Priority", "name": "Low Priority", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/5", "html_url": "https://github.com/Theano/Theano/milestone/5", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/5/labels", "id": 1034905, "node_id": "MDk6TWlsZXN0b25lMTAzNDkwNQ==", "number": 5, "title": "0.7.1", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2015-03-23T18:36:30Z", "updated_at": "2016-02-17T19:43:57Z", "due_on": null, "closed_at": "2016-02-17T19:43:57Z"}, "comments": 18, "created_at": "2012-08-14T20:28:07Z", "updated_at": "2015-04-10T18:45:15Z", "closed_at": "2015-04-10T18:45:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Keyword argument \"borrow=True\" is not supported for Python ints or floats.\nThis keyword should be added to the shared constructor that is called in that case.\n\nFull message:\n\n```\n>>> theano.shared(12, borrow=True)\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"theano/compile/sharedvalue.py\", line 204, in shared\n    (value, kwargs))\nTypeError: ('No suitable SharedVariable constructor could be found', (12, {'borrow': True}))\n```\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/855/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/855/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/842", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/842/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/842/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/842/events", "html_url": "https://github.com/Theano/Theano/issues/842", "id": 6132868, "node_id": "MDU6SXNzdWU2MTMyODY4", "number": 842, "title": "sparse transpose don't declare its view_map/DebugMode didn't detected it!", "user": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190404, "node_id": "MDU6TGFiZWwxOTA0MDQ=", "url": "https://api.github.com/repos/Theano/Theano/labels/High%20Priority", "name": "High Priority", "color": "FF9D00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/2", "html_url": "https://github.com/Theano/Theano/milestone/2", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/2/labels", "id": 75447, "node_id": "MDk6TWlsZXN0b25lNzU0NDc=", "number": 2, "title": "0.6", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 103, "state": "closed", "created_at": "2012-01-20T14:44:16Z", "updated_at": "2013-12-06T14:24:45Z", "due_on": null, "closed_at": "2013-12-06T14:24:45Z"}, "comments": 0, "created_at": "2012-08-09T17:43:03Z", "updated_at": "2012-08-29T19:25:07Z", "closed_at": "2012-08-29T19:25:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The sparse transpose don't declare its view_map, but DebugMode didn't found it. In the fct _check_viewmap() in debugmode.py, we skip too much check. \n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/842/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/842/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/750", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/750/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/750/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/750/events", "html_url": "https://github.com/Theano/Theano/issues/750", "id": 5475127, "node_id": "MDU6SXNzdWU1NDc1MTI3", "number": 750, "title": "undefined symbol \"extra\" in default_blas_ldflags", "user": {"login": "jaberg", "id": 171276, "node_id": "MDQ6VXNlcjE3MTI3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/171276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaberg", "html_url": "https://github.com/jaberg", "followers_url": "https://api.github.com/users/jaberg/followers", "following_url": "https://api.github.com/users/jaberg/following{/other_user}", "gists_url": "https://api.github.com/users/jaberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaberg/subscriptions", "organizations_url": "https://api.github.com/users/jaberg/orgs", "repos_url": "https://api.github.com/users/jaberg/repos", "events_url": "https://api.github.com/users/jaberg/events{/privacy}", "received_events_url": "https://api.github.com/users/jaberg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190405, "node_id": "MDU6TGFiZWwxOTA0MDU=", "url": "https://api.github.com/repos/Theano/Theano/labels/Critical", "name": "Critical", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-07-06T22:13:43Z", "updated_at": "2012-07-21T15:56:04Z", "closed_at": "2012-07-21T15:56:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I just checked out the trunk, and it doesn't import:\n\n$ python -c 'import theano'\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"/home/james/.local/lib/python2.7/site-packages/theano/**init**.py\",\nline 76, in <module>\n    import theano.tests\n  File \"/home/james/.local/lib/python2.7/site-packages/theano/tests/**init**.py\",\nline 6, in <module>\n    import unittest_tools\n  File \"/home/james/.local/lib/python2.7/site-packages/theano/tests/unittest_tools.py\",\nline 8, in <module>\n    import theano.tensor as T\n  File \"/home/james/.local/lib/python2.7/site-packages/theano/tensor/**init**.py\",\nline 10, in <module>\n    import blas\n  File \"/home/james/.local/lib/python2.7/site-packages/theano/tensor/blas.py\",\nline 385, in <module>\n    StrParam(default_blas_ldflags()))\n  File \"/home/james/.local/lib/python2.7/site-packages/theano/tensor/blas.py\",\nline 378, in default_blas_ldflags\n    extra)\n\nGit blame suggests that this line has been in place since March, but I\ndon't have it in other Theano copies that I've been using for the last\nfew months. What's up?\n\nhttps://github.com/Theano/Theano/blob/master/theano/tensor/blas.py#L378\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/750/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/750/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/699", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/699/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/699/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/699/events", "html_url": "https://github.com/Theano/Theano/issues/699", "id": 5053248, "node_id": "MDU6SXNzdWU1MDUzMjQ4", "number": 699, "title": "Conv2D grad fails when dx or dy is neither 1 nor 2", "user": {"login": "jaberg", "id": 171276, "node_id": "MDQ6VXNlcjE3MTI3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/171276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaberg", "html_url": "https://github.com/jaberg", "followers_url": "https://api.github.com/users/jaberg/followers", "following_url": "https://api.github.com/users/jaberg/following{/other_user}", "gists_url": "https://api.github.com/users/jaberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaberg/subscriptions", "organizations_url": "https://api.github.com/users/jaberg/orgs", "repos_url": "https://api.github.com/users/jaberg/repos", "events_url": "https://api.github.com/users/jaberg/events{/privacy}", "received_events_url": "https://api.github.com/users/jaberg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190398, "node_id": "MDU6TGFiZWwxOTAzOTg=", "url": "https://api.github.com/repos/Theano/Theano/labels/Low%20Priority", "name": "Low Priority", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jaberg", "id": 171276, "node_id": "MDQ6VXNlcjE3MTI3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/171276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaberg", "html_url": "https://github.com/jaberg", "followers_url": "https://api.github.com/users/jaberg/followers", "following_url": "https://api.github.com/users/jaberg/following{/other_user}", "gists_url": "https://api.github.com/users/jaberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaberg/subscriptions", "organizations_url": "https://api.github.com/users/jaberg/orgs", "repos_url": "https://api.github.com/users/jaberg/repos", "events_url": "https://api.github.com/users/jaberg/events{/privacy}", "received_events_url": "https://api.github.com/users/jaberg/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaberg", "id": 171276, "node_id": "MDQ6VXNlcjE3MTI3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/171276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaberg", "html_url": "https://github.com/jaberg", "followers_url": "https://api.github.com/users/jaberg/followers", "following_url": "https://api.github.com/users/jaberg/following{/other_user}", "gists_url": "https://api.github.com/users/jaberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaberg/subscriptions", "organizations_url": "https://api.github.com/users/jaberg/orgs", "repos_url": "https://api.github.com/users/jaberg/repos", "events_url": "https://api.github.com/users/jaberg/events{/privacy}", "received_events_url": "https://api.github.com/users/jaberg/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/3", "html_url": "https://github.com/Theano/Theano/milestone/3", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/3/labels", "id": 112020, "node_id": "MDk6TWlsZXN0b25lMTEyMDIw", "number": 3, "title": "0.7", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2012-04-25T19:38:54Z", "updated_at": "2015-08-29T04:50:12Z", "due_on": null, "closed_at": "2015-08-29T04:50:12Z"}, "comments": 7, "created_at": "2012-06-13T17:57:22Z", "updated_at": "2015-02-13T17:19:57Z", "closed_at": "2015-02-13T17:19:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I just tripped on this old NotImplementedError so I'm going to fix it now.  If anyone else has any half-baked solutions they care to share let me know.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/699/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/699/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/633", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/633/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/633/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/633/events", "html_url": "https://github.com/Theano/Theano/issues/633", "id": 4432074, "node_id": "MDU6SXNzdWU0NDMyMDc0", "number": 633, "title": "Bug with gradient of T.clip(x,0.,x)", "user": {"login": "gdesjardins", "id": 178101, "node_id": "MDQ6VXNlcjE3ODEwMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178101?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gdesjardins", "html_url": "https://github.com/gdesjardins", "followers_url": "https://api.github.com/users/gdesjardins/followers", "following_url": "https://api.github.com/users/gdesjardins/following{/other_user}", "gists_url": "https://api.github.com/users/gdesjardins/gists{/gist_id}", "starred_url": "https://api.github.com/users/gdesjardins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gdesjardins/subscriptions", "organizations_url": "https://api.github.com/users/gdesjardins/orgs", "repos_url": "https://api.github.com/users/gdesjardins/repos", "events_url": "https://api.github.com/users/gdesjardins/events{/privacy}", "received_events_url": "https://api.github.com/users/gdesjardins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/3", "html_url": "https://github.com/Theano/Theano/milestone/3", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/3/labels", "id": 112020, "node_id": "MDk6TWlsZXN0b25lMTEyMDIw", "number": 3, "title": "0.7", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2012-04-25T19:38:54Z", "updated_at": "2015-08-29T04:50:12Z", "due_on": null, "closed_at": "2015-08-29T04:50:12Z"}, "comments": 5, "created_at": "2012-05-04T22:06:20Z", "updated_at": "2014-11-05T21:32:43Z", "closed_at": "2014-11-05T21:32:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The perform of T.clip allows the user to use T.clip as a replacement for T.minimum or T.maximum. The gradient however, does not support this behavior. i.e.\n# normal use-case, works as advertised\n\nx = T.scalar()\ny = T.clip(x, 0., 10)\ng = T.grad(y, x)\nf = theano.function([x], [y,g])\n\n> > In [59]: f(5)\n> > Out[59]: [array(5.0), array(1.0)]\n> > In [60]: f(20)\n> > Out[60]: [array(10.0), array(0.0)]\n# using T.clip with symbol in its upper (or lower) bound: gradient is not as expected\n\nx = T.scalar()\ny = T.clip(x, 0., x)\ng = T.grad(y, x)\nf = theano.function([x], [y,g])\n\n> > In [65]: f(5)\n> > Out[65]: [array(5.0), array(0.0)]\n\nExpected answer would have been 1.\n\nTwo possible solutions: \n(1) raise an error when user attempts to use T.clip(x, 1, x) or T.clip(x, x, 10)\n(2) fix T.clip gradient to work when the symbol itself is used in one of the lower/upper bounds.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/633/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/632", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/632/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/632/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/632/events", "html_url": "https://github.com/Theano/Theano/issues/632", "id": 4423731, "node_id": "MDU6SXNzdWU0NDIzNzMx", "number": 632, "title": "Theano tests fail with numpy 1.4 when we support 1.3", "user": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190404, "node_id": "MDU6TGFiZWwxOTA0MDQ=", "url": "https://api.github.com/repos/Theano/Theano/labels/High%20Priority", "name": "High Priority", "color": "FF9D00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/2", "html_url": "https://github.com/Theano/Theano/milestone/2", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/2/labels", "id": 75447, "node_id": "MDk6TWlsZXN0b25lNzU0NDc=", "number": 2, "title": "0.6", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 103, "state": "closed", "created_at": "2012-01-20T14:44:16Z", "updated_at": "2013-12-06T14:24:45Z", "due_on": null, "closed_at": "2013-12-06T14:24:45Z"}, "comments": 9, "created_at": "2012-05-04T13:34:50Z", "updated_at": "2012-10-24T21:01:07Z", "closed_at": "2012-10-24T21:01:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "So we must fix this problem or update the doc and setup.py file or probably test/warn when we import theano.\n\nWe should also update the python2.4 buildbot to use the oldest numpy version supported.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/632/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/602", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/602/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/602/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/602/events", "html_url": "https://github.com/Theano/Theano/issues/602", "id": 4089082, "node_id": "MDU6SXNzdWU0MDg5MDgy", "number": 602, "title": "Fix ConvOp's gradient with dx and dy > 2", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/3", "html_url": "https://github.com/Theano/Theano/milestone/3", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/3/labels", "id": 112020, "node_id": "MDk6TWlsZXN0b25lMTEyMDIw", "number": 3, "title": "0.7", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2012-04-25T19:38:54Z", "updated_at": "2015-08-29T04:50:12Z", "due_on": null, "closed_at": "2015-08-29T04:50:12Z"}, "comments": 2, "created_at": "2012-04-12T18:27:45Z", "updated_at": "2014-09-05T23:35:14Z", "closed_at": "2014-09-05T23:35:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "gh-601 disables it and adds a new test, but it should actually be fixed.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/602/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/588", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/588/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/588/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/588/events", "html_url": "https://github.com/Theano/Theano/issues/588", "id": 3947396, "node_id": "MDU6SXNzdWUzOTQ3Mzk2", "number": 588, "title": "Indexing by float triggers advanced indexing", "user": {"login": "jaberg", "id": 171276, "node_id": "MDQ6VXNlcjE3MTI3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/171276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaberg", "html_url": "https://github.com/jaberg", "followers_url": "https://api.github.com/users/jaberg/followers", "following_url": "https://api.github.com/users/jaberg/following{/other_user}", "gists_url": "https://api.github.com/users/jaberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaberg/subscriptions", "organizations_url": "https://api.github.com/users/jaberg/orgs", "repos_url": "https://api.github.com/users/jaberg/repos", "events_url": "https://api.github.com/users/jaberg/events{/privacy}", "received_events_url": "https://api.github.com/users/jaberg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190398, "node_id": "MDU6TGFiZWwxOTAzOTg=", "url": "https://api.github.com/repos/Theano/Theano/labels/Low%20Priority", "name": "Low Priority", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/3", "html_url": "https://github.com/Theano/Theano/milestone/3", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/3/labels", "id": 112020, "node_id": "MDk6TWlsZXN0b25lMTEyMDIw", "number": 3, "title": "0.7", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 67, "state": "closed", "created_at": "2012-04-25T19:38:54Z", "updated_at": "2015-08-29T04:50:12Z", "due_on": null, "closed_at": "2015-08-29T04:50:12Z"}, "comments": 7, "created_at": "2012-04-03T15:36:06Z", "updated_at": "2015-05-13T20:38:56Z", "closed_at": "2015-02-13T16:46:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, `a = tensor.vector()[: 1.0]` triggers advanced indexing. Is this desirable? I think not, but it's not obvious.  Thoughts?\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/588/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/588/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/507", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/507/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/507/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/507/events", "html_url": "https://github.com/Theano/Theano/issues/507", "id": 3535079, "node_id": "MDU6SXNzdWUzNTM1MDc5", "number": 507, "title": "gpu local fusion and memory error", "user": {"login": "jaberg", "id": 171276, "node_id": "MDQ6VXNlcjE3MTI3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/171276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaberg", "html_url": "https://github.com/jaberg", "followers_url": "https://api.github.com/users/jaberg/followers", "following_url": "https://api.github.com/users/jaberg/following{/other_user}", "gists_url": "https://api.github.com/users/jaberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaberg/subscriptions", "organizations_url": "https://api.github.com/users/jaberg/orgs", "repos_url": "https://api.github.com/users/jaberg/repos", "events_url": "https://api.github.com/users/jaberg/events{/privacy}", "received_events_url": "https://api.github.com/users/jaberg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 190404, "node_id": "MDU6TGFiZWwxOTA0MDQ=", "url": "https://api.github.com/repos/Theano/Theano/labels/High%20Priority", "name": "High Priority", "color": "FF9D00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2012-03-06T23:38:20Z", "updated_at": "2012-03-08T21:31:24Z", "closed_at": "2012-03-08T21:31:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I'm trying to diagnose a GPU memory-error (launch failure, failure to free pointer, etc.) in a large model, which occurs only on some machines. It's consistently reproducible on some machines. It does not seem related to the particular theano version (no difference between 0.5rc2, 0.5, or HEAD).  The graph is a feedforward convolutional model with lots of elemwise, subtensors with negative strides, valid-mode convolutions, large constants, and reductions.  No updates.  I'll be trying to narrow things down by triggering the crash with smaller graphs, but in the meantime I just wanted to give a heads up that something's amiss, and ask if anyone else has seen similar things recently, or has any information regarding this bug, to contact the authorities, er, mailing list.\n\nThe most interesting hints I have gleaned is that the crash (on those machines which crash this way) \n- occurs on the first run through the linker,\n- occurs only for certain array sizes\n- can be avoided by setting config.gpu.local_gpu_fusion=0.\n\nHopefully I'll get it sorted tomorrow and be able to provide more info.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/507/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/507/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/457", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/457/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/457/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/457/events", "html_url": "https://github.com/Theano/Theano/issues/457", "id": 3298755, "node_id": "MDU6SXNzdWUzMjk4NzU1", "number": 457, "title": "theano.function accepts variables that should be exclusive", "user": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lamblin", "id": 178249, "node_id": "MDQ6VXNlcjE3ODI0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamblin", "html_url": "https://github.com/lamblin", "followers_url": "https://api.github.com/users/lamblin/followers", "following_url": "https://api.github.com/users/lamblin/following{/other_user}", "gists_url": "https://api.github.com/users/lamblin/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamblin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamblin/subscriptions", "organizations_url": "https://api.github.com/users/lamblin/orgs", "repos_url": "https://api.github.com/users/lamblin/repos", "events_url": "https://api.github.com/users/lamblin/events{/privacy}", "received_events_url": "https://api.github.com/users/lamblin/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Theano/Theano/milestones/2", "html_url": "https://github.com/Theano/Theano/milestone/2", "labels_url": "https://api.github.com/repos/Theano/Theano/milestones/2/labels", "id": 75447, "node_id": "MDk6TWlsZXN0b25lNzU0NDc=", "number": 2, "title": "0.6", "description": "", "creator": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 103, "state": "closed", "created_at": "2012-01-20T14:44:16Z", "updated_at": "2013-12-06T14:24:45Z", "due_on": null, "closed_at": "2013-12-06T14:24:45Z"}, "comments": 19, "created_at": "2012-02-20T18:19:24Z", "updated_at": "2012-02-29T17:54:17Z", "closed_at": "2012-02-29T17:54:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For instance, it will accept the same input twice:\n\n```\nx = theano.tensor.lscalar('x')\nf = theano.function([x, x, x], x)\nf(1,2,3)  # returns array(3)\n```\n\nAlso, some inputs can mask others. For instance, if we have:\n\n```\nm = theano.tensor.lmatrix('m')\nmt = m.T  # transpose\ng = theano.function([mt, m], mt)\ng([[1,2,3]], [[4,5]])  # returns array([[1, 2, 3]])\n```\n\nThere should be an error if in input is duplicated in the list of inputs, and also if both an intermediate variable (here, mt) and one of its ancestors is provided. \n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/457/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Theano/Theano/issues/134", "repository_url": "https://api.github.com/repos/Theano/Theano", "labels_url": "https://api.github.com/repos/Theano/Theano/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/Theano/Theano/issues/134/comments", "events_url": "https://api.github.com/repos/Theano/Theano/issues/134/events", "html_url": "https://github.com/Theano/Theano/issues/134", "id": 2009343, "node_id": "MDU6SXNzdWUyMDA5MzQz", "number": 134, "title": "scan module imports sandbox.cuda - hilarities ensue on badly configured OS X", "user": {"login": "jaberg", "id": 171276, "node_id": "MDQ6VXNlcjE3MTI3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/171276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaberg", "html_url": "https://github.com/jaberg", "followers_url": "https://api.github.com/users/jaberg/followers", "following_url": "https://api.github.com/users/jaberg/following{/other_user}", "gists_url": "https://api.github.com/users/jaberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaberg/subscriptions", "organizations_url": "https://api.github.com/users/jaberg/orgs", "repos_url": "https://api.github.com/users/jaberg/repos", "events_url": "https://api.github.com/users/jaberg/events{/privacy}", "received_events_url": "https://api.github.com/users/jaberg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 173159, "node_id": "MDU6TGFiZWwxNzMxNTk=", "url": "https://api.github.com/repos/Theano/Theano/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 69463258, "node_id": "MDU6TGFiZWw2OTQ2MzI1OA==", "url": "https://api.github.com/repos/Theano/Theano/labels/Scan", "name": "Scan", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pascanur", "id": 178095, "node_id": "MDQ6VXNlcjE3ODA5NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178095?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pascanur", "html_url": "https://github.com/pascanur", "followers_url": "https://api.github.com/users/pascanur/followers", "following_url": "https://api.github.com/users/pascanur/following{/other_user}", "gists_url": "https://api.github.com/users/pascanur/gists{/gist_id}", "starred_url": "https://api.github.com/users/pascanur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pascanur/subscriptions", "organizations_url": "https://api.github.com/users/pascanur/orgs", "repos_url": "https://api.github.com/users/pascanur/repos", "events_url": "https://api.github.com/users/pascanur/events{/privacy}", "received_events_url": "https://api.github.com/users/pascanur/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pascanur", "id": 178095, "node_id": "MDQ6VXNlcjE3ODA5NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178095?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pascanur", "html_url": "https://github.com/pascanur", "followers_url": "https://api.github.com/users/pascanur/followers", "following_url": "https://api.github.com/users/pascanur/following{/other_user}", "gists_url": "https://api.github.com/users/pascanur/gists{/gist_id}", "starred_url": "https://api.github.com/users/pascanur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pascanur/subscriptions", "organizations_url": "https://api.github.com/users/pascanur/orgs", "repos_url": "https://api.github.com/users/pascanur/repos", "events_url": "https://api.github.com/users/pascanur/events{/privacy}", "received_events_url": "https://api.github.com/users/pascanur/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2011-10-20T20:58:31Z", "updated_at": "2013-12-09T22:15:17Z", "closed_at": "2013-12-09T22:15:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "**Current status:** _GPU import still there and using scan without CUDA available is still broken. Partially fixed in that the import is tucked inside a function body._\n\nCan we remove this import?  I thought this had been discussed / done before.  Reasons to remove it are\n\n1) non-sandbox code should not depend on sandbox code\n\n2) scan should not depend on the GPU being available\n\nIn practice, it the combination of Theano + GPU is still often pain to install / configure. One would like to be able to just skip it.\n\nIt makes Theano look bad when someone sets device=cpu and force_device=1 to avoid having to do that configuration, only to be greeted by 3500 lines of C code from a failed call to nvcc.\n", "reactions": {"url": "https://api.github.com/repos/Theano/Theano/issues/134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Theano/Theano/issues/134/timeline", "performed_via_github_app": null, "state_reason": "completed"}]