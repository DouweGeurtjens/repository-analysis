[{"url": "https://api.github.com/repos/ultralytics/yolov3/issues/2020", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2020/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2020/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2020/events", "html_url": "https://github.com/ultralytics/yolov3/issues/2020", "id": 1590265509, "node_id": "I_kwDOCLZQgM5eyYal", "number": 2020, "title": "Exception: weights/yolov3-spp-ultralytics.pt missing", "user": {"login": "ArifIq3", "id": 124748384, "node_id": "U_kgDOB2-CYA", "avatar_url": "https://avatars.githubusercontent.com/u/124748384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArifIq3", "html_url": "https://github.com/ArifIq3", "followers_url": "https://api.github.com/users/ArifIq3/followers", "following_url": "https://api.github.com/users/ArifIq3/following{/other_user}", "gists_url": "https://api.github.com/users/ArifIq3/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArifIq3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArifIq3/subscriptions", "organizations_url": "https://api.github.com/users/ArifIq3/orgs", "repos_url": "https://api.github.com/users/ArifIq3/repos", "events_url": "https://api.github.com/users/ArifIq3/events{/privacy}", "received_events_url": "https://api.github.com/users/ArifIq3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-18T08:58:49Z", "updated_at": "2023-04-21T20:35:12Z", "closed_at": "2023-02-18T08:59:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov5/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\nTraining\n\n### Bug\n\n![Screenshot 2023-02-18 165441](https://user-images.githubusercontent.com/124748384/219851492-5314fefd-cf54-406c-a837-dafeff6a9295.png)\r\n\n\n### Environment\n\ni was using yolov3 custom dataset training in google colab in here https://colab.research.google.com/drive/1ntAL_zI68xfvZ4uCSAF6XT27g0U4mZbW \r\nand everything was fine until in the training section.\r\n\r\ni have searched similar bug but there are still no solution for this. \r\ni also tried the solution from the google colab which is \"Exception: weights/yolov3-spp-ultralytics.pt missing, try downloading from https://drive.google.com/open?id=1LezFG5g3BCW6iYaV89B2i64cqEUZD7e0\"\r\nand it show error 404.\n\n### Minimal Reproducible Example\n\n_No response_\n\n### Additional\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/2020/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2020/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/2005", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2005/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2005/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2005/events", "html_url": "https://github.com/ultralytics/yolov3/issues/2005", "id": 1554486667, "node_id": "I_kwDOCLZQgM5cp5WL", "number": 2005, "title": "Cannot train yolov3 using the yolov3.cfg and yolov3.pt", "user": {"login": "davendramaharaj1", "id": 54917008, "node_id": "MDQ6VXNlcjU0OTE3MDA4", "avatar_url": "https://avatars.githubusercontent.com/u/54917008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davendramaharaj1", "html_url": "https://github.com/davendramaharaj1", "followers_url": "https://api.github.com/users/davendramaharaj1/followers", "following_url": "https://api.github.com/users/davendramaharaj1/following{/other_user}", "gists_url": "https://api.github.com/users/davendramaharaj1/gists{/gist_id}", "starred_url": "https://api.github.com/users/davendramaharaj1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davendramaharaj1/subscriptions", "organizations_url": "https://api.github.com/users/davendramaharaj1/orgs", "repos_url": "https://api.github.com/users/davendramaharaj1/repos", "events_url": "https://api.github.com/users/davendramaharaj1/events{/privacy}", "received_events_url": "https://api.github.com/users/davendramaharaj1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-24T07:54:36Z", "updated_at": "2023-03-27T00:12:44Z", "closed_at": "2023-03-27T00:12:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\nTraining\n\n### Bug\n\nI tried to run the command:\r\n\r\n` python3 train.py --epochs=80  --cfg=cfg/yolov3.cfg --data=data/roboflow.data --weights=../yolov3-weights/yolov3.pt --adam\r\n`\r\nbut I ended up with the following error:\r\n```\r\nubuntu@<ip>:~/yolov3/yolov3$ python3 train.py --epochs=80  --cfg=cfg/yolov3.cfg --data=data/roboflow.data --weights=../yolov3-weights/yolov3.pt --adam\r\n/usr/lib/python3/dist-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /usr/lib/python3/dist-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE\r\n  warn(f\"Failed to load image Python extension: {e}\")\r\nNamespace(accumulate=4, adam=True, batch_size=16, bucket='', cache_images=False, cfg='cfg/yolov3.cfg', data='data/roboflow.data', device='', epochs=80, evolve=False, img_size=[416], multi_scale=False, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, var=None, weights='../yolov3-weights/yolov3.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='NVIDIA A10', total_memory=22592MB)\r\n\r\n2023-01-24 07:46:51.226236: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.\r\n--------------------------------------------------------------------------\r\nWARNING: No preset parameters were found for the device that Open MPI\r\ndetected:\r\n\r\n  Local host:            192-18-132-195\r\n  Device name:           mlx5_0\r\n  Device vendor ID:      0x02c9\r\n  Device vendor part ID: 4126\r\n\r\nDefault device parameters will be used, which may result in lower\r\nperformance.  You can edit any of the files specified by the\r\nbtl_openib_device_param_files MCA parameter to set values for your\r\ndevice.\r\n\r\nNOTE: You can turn off this warning by setting the MCA parameter\r\n      btl_openib_warn_no_device_params_found to 0.\r\n--------------------------------------------------------------------------\r\n--------------------------------------------------------------------------\r\nNo OpenFabrics connection schemes reported that they were able to be\r\nused on a specific port.  As such, the openib BTL (OpenFabrics\r\nsupport) will be disabled for this port.\r\n\r\n  Local host:           <ip>\r\n  Local device:         mlx5_0\r\n  Local port:           1\r\n  CPCs attempted:       udcm\r\n--------------------------------------------------------------------------\r\nWARNING: smart bias initialization failure.\r\nWARNING: smart bias initialization failure.\r\nWARNING: smart bias initialization failure.\r\nModel Summary: 222 layers, 6.19491e+07 parameters, 6.19491e+07 gradients\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 433, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 107, in train\r\n    chkpt = torch.load(weights, map_location=device)\r\n  File \"/home/ubuntu/.local/lib/python3.8/site-packages/torch/serialization.py\", line 789, in load\r\n    return _load(opened_zipfile, map_location, pickle_module, **pickle_load_args)\r\n  File \"/home/ubuntu/.local/lib/python3.8/site-packages/torch/serialization.py\", line 1131, in _load\r\n    result = unpickler.load()\r\n  File \"/home/ubuntu/.local/lib/python3.8/site-packages/torch/serialization.py\", line 1124, in find_class\r\n    return super().find_class(mod_name, name)\r\nModuleNotFoundError: No module named 'models.yolo'; 'models' is not a package\r\n```\r\nI am not sure why this happens. I found another post about this but it was based on yolov5. The suggested solution was to add __init__.py to the models folder. However, in the yolov3 repository, there is no model folder. Interestingly, when I ran the following command:\r\n\r\n` python3 train.py --epochs=80  --cfg=cfg/yolov3-spp.cfg --data=data/roboflow.data --weights=../yolov3-weights/yolov3-spp-ultralytics.pt --adam`\r\n\r\ntraining began normally. So it seems that when I use yolov3.cfg and yolov3.pt, I get this weird ModuleNotFoundError as shown above. What is happening here ? \n\n### Environment\n\n- YOLO: Yolov3 (https://github.com/ultralytics/yolov3)\r\n- OS: Ubuntu 20.04\r\n- Python: 3.8.0\n\n### Minimal Reproducible Example\n\n`python3 train.py --epochs=80  --cfg=cfg/yolov3.cfg --data=data/roboflow.data --weights=../yolov3-weights/yolov3.pt --adam`\n\n### Additional\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/2005/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2005/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/2002", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2002/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2002/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2002/events", "html_url": "https://github.com/ultralytics/yolov3/issues/2002", "id": 1551984734, "node_id": "I_kwDOCLZQgM5cgWhe", "number": 2002, "title": "Runtime error when training YOLOv3", "user": {"login": "davendramaharaj1", "id": 54917008, "node_id": "MDQ6VXNlcjU0OTE3MDA4", "avatar_url": "https://avatars.githubusercontent.com/u/54917008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davendramaharaj1", "html_url": "https://github.com/davendramaharaj1", "followers_url": "https://api.github.com/users/davendramaharaj1/followers", "following_url": "https://api.github.com/users/davendramaharaj1/following{/other_user}", "gists_url": "https://api.github.com/users/davendramaharaj1/gists{/gist_id}", "starred_url": "https://api.github.com/users/davendramaharaj1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davendramaharaj1/subscriptions", "organizations_url": "https://api.github.com/users/davendramaharaj1/orgs", "repos_url": "https://api.github.com/users/davendramaharaj1/repos", "events_url": "https://api.github.com/users/davendramaharaj1/events{/privacy}", "received_events_url": "https://api.github.com/users/davendramaharaj1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-22T02:41:34Z", "updated_at": "2023-04-21T20:46:12Z", "closed_at": "2023-03-04T00:13:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\nTraining\n\n### Bug\n\nHi there, \r\n\r\nI am trying to train yolov3 on a custom dataset locally. I am using my own RTX 3060 for training. I ran train.py with the following command:\r\n\r\n``!python3 train.py --data data/roboflow.data --epochs 150 --weights=<path_to_weights_dir>/yolov3-spp-ultralytics.pt``\r\n\r\nI have verified that the paths to my training and validation data are correct. On my Jupyter notebook, I see the following printed to the console:\r\n\r\n```\r\nNamespace(epochs=150, batch_size=16, accumulate=4, cfg='cfg/yolov3-spp.cfg', data='data/roboflow.data', multi_scale=False, img_size=[416], rect=False, resume=False, nosave=False, notest=False, evolve=False, bucket='', cache_images=False, weights=<path_to_weights_dir>/yolov3-spp-ultralytics.pt', name='', device='', adam=False, single_cls=False, var=None)\r\nUsing CUDA device0 _CudaDeviceProperties(name='NVIDIA GeForce RTX 3060', total_memory=12030MB)\r\n\r\nWARNING: smart bias initialization failure.\r\nWARNING: smart bias initialization failure.\r\nWARNING: smart bias initialization failure.\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients\r\nCaching labels (13299 found, 0 missing, 391 empty, 0 duplicate, for 13690 images\r\nCaching labels (3302 found, 0 missing, 120 empty, 0 duplicate, for 3422 images):\r\nUsing 8 dataloader workers\r\nStarting training for 150 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n  0%|                                                   | 0/856 [00:00<?, ?it/s]/home/$USER/.local/lib/python3.10/site-packages/torch/functional.py:504: UserWarning: torch.meshgrid: in an upcoming release, it will be required to pass the indexing argument. (Triggered internally at ../aten/src/ATen/native/TensorShape.cpp:3190.)\r\n  return _VF.meshgrid(tensors, **kwargs)  # type: ignore[attr-defined]\r\n  0%|                                                   | 0/856 [00:03<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"<path_to_yolo>/yolov3/train.py\", line 433, in <module>\r\n    train()  # train normally\r\n  File \"<path_to_yolo>/yolov3-pytorch/yolov3/train.py\", line 275, in train\r\n    loss, loss_items = compute_loss(pred, targets, model)\r\n  File \"<path_to_yolo>/yolov3-pytorch/yolov3/utils/utils.py\", line 378, in compute_loss\r\n    tcls, tbox, indices, anchor_vec = build_targets(model, targets)\r\n  File \"<path_to_yolo>/yolov3/utils/utils.py\", line 474, in build_targets\r\n    a = a[j]\r\nRuntimeError: indices should be either on cpu or on the same device as the indexed tensor (cpu)\r\n```\r\n\r\nWhen I debugged line 474 at utils.py, I found that j was on 'cuda' while a was on the 'cpu'. I am not sure how this can be resolved. Please help asap. \r\n\r\nThanks!\r\n![j_gpu](https://user-images.githubusercontent.com/54917008/213898074-e8b85a0b-351e-42d3-ac13-43ee54b153a2.png)\r\n![a_cpu](https://user-images.githubusercontent.com/54917008/213898078-41b62828-24db-4798-a46f-5748ee70395e.png)\r\n\n\n### Environment\n\n- YOLO: Yolov3\r\n- OS: Ubuntu 22.04\r\n- Python: 3.10.6\n\n### Minimal Reproducible Example\n\n_No response_\n\n### Additional\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/2002/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2002/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1997", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1997/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1997/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1997/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1997", "id": 1495856301, "node_id": "I_kwDOCLZQgM5ZKPSt", "number": 1997, "title": "docker container python environment not working", "user": {"login": "JasonJooste", "id": 9052431, "node_id": "MDQ6VXNlcjkwNTI0MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/9052431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JasonJooste", "html_url": "https://github.com/JasonJooste", "followers_url": "https://api.github.com/users/JasonJooste/followers", "following_url": "https://api.github.com/users/JasonJooste/following{/other_user}", "gists_url": "https://api.github.com/users/JasonJooste/gists{/gist_id}", "starred_url": "https://api.github.com/users/JasonJooste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JasonJooste/subscriptions", "organizations_url": "https://api.github.com/users/JasonJooste/orgs", "repos_url": "https://api.github.com/users/JasonJooste/repos", "events_url": "https://api.github.com/users/JasonJooste/events{/privacy}", "received_events_url": "https://api.github.com/users/JasonJooste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-12-14T06:45:32Z", "updated_at": "2023-04-21T20:46:14Z", "closed_at": "2023-01-26T00:13:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\n_No response_\n\n### Bug\n\nThe docker image appears to not have a functioning python environment. \r\n\n\n### Environment\n\nultralytics/yolov3 docker container\n\n### Minimal Reproducible Example\n\nI start by running the image in interactive mode:\r\n`docker run --ipc=host -it --gpus all ultralytics/yolov3:latest`\r\nNow run the training script:\r\n`python train.py`\r\ngives the following output:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 34, in <module>\r\n    import val  # for end-of-epoch mAP\r\n  File \"/usr/src/app/val.py\", line 26, in <module>\r\n    from models.common import DetectMultiBackend\r\n  File \"/usr/src/app/models/common.py\", line 13, in <module>\r\n    import cv2\r\n  File \"/opt/conda/lib/python3.8/site-packages/cv2/__init__.py\", line 181, in <module>\r\n    bootstrap()\r\n  File \"/opt/conda/lib/python3.8/site-packages/cv2/__init__.py\", line 175, in bootstrap\r\n    if __load_extra_py_code_for_module(\"cv2\", submodule, DEBUG):\r\n  File \"/opt/conda/lib/python3.8/site-packages/cv2/__init__.py\", line 28, in __load_extra_py_code_for_module\r\n    py_module = importlib.import_module(module_name)\r\n  File \"/opt/conda/lib/python3.8/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"/opt/conda/lib/python3.8/site-packages/cv2/mat_wrapper/__init__.py\", line 33, in <module>\r\n    cv._registerMatType(Mat)\r\nAttributeError: partially initialized module 'cv2' has no attribute '_registerMatType' (most likely due to a circular import)\r\n```\n\n### Additional\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1997/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1997/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1992", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1992/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1992/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1992/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1992", "id": 1469146799, "node_id": "I_kwDOCLZQgM5XkWav", "number": 1992, "title": "use detect.py of archive branch meet errors:  ModuleNotFoundError: No module named 'models.yolo'; 'models' is not a package", "user": {"login": "dapiaoGe", "id": 71891080, "node_id": "MDQ6VXNlcjcxODkxMDgw", "avatar_url": "https://avatars.githubusercontent.com/u/71891080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dapiaoGe", "html_url": "https://github.com/dapiaoGe", "followers_url": "https://api.github.com/users/dapiaoGe/followers", "following_url": "https://api.github.com/users/dapiaoGe/following{/other_user}", "gists_url": "https://api.github.com/users/dapiaoGe/gists{/gist_id}", "starred_url": "https://api.github.com/users/dapiaoGe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dapiaoGe/subscriptions", "organizations_url": "https://api.github.com/users/dapiaoGe/orgs", "repos_url": "https://api.github.com/users/dapiaoGe/repos", "events_url": "https://api.github.com/users/dapiaoGe/events{/privacy}", "received_events_url": "https://api.github.com/users/dapiaoGe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-30T07:04:14Z", "updated_at": "2023-04-21T20:47:40Z", "closed_at": "2023-01-07T00:12:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\nDetection\n\n### Bug\n\n**1. Hello,I would like to ask you some questions.Today ,when i used the detect.py of archive branch,i met some errors(the same way used in branch of master is well ):**\r\n\r\njetson@jetson-desktop:~/yolov3$ python3 detect.py \r\nNamespace(agnostic_nms=False, augment=False, cfg='cfg/yolov3.cfg', classes=None, conf_thres=0.3, device='', fourcc='mp4v', half=False, img_size=512, iou_thres=0.6, names='data/coco.names', output='output', save_txt=False, source='data/samples', view_img=False, weights='weights/yolov3.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='NVIDIA Tegra X2', total_memory=3832MB)\r\n\r\n/home/jetson/.local/lib/python3.6/site-packages/torch/functional.py:445: UserWarning: torch.meshgrid: in an upcoming release, it will be required to pass the indexing argument. (Triggered internally at  /media/nvidia/NVME/pytorch/pytorch-v1.10.0/aten/src/ATen/native/TensorShape.cpp:2157.)\r\n  return _VF.meshgrid(tensors, **kwargs)  # type: ignore[attr-defined]\r\nModel Summary: 222 layers, 6.19491e+07 parameters, 6.19491e+07 gradients, 117.5 GFLOPS\r\nTraceback (most recent call last):\r\n  File \"detect.py\", line 191, in <module>\r\n    detect()\r\n  File \"detect.py\", line 25, in detect\r\n    model.load_state_dict(torch.load(weights, map_location=device)['model'])\r\n  File \"/home/jetson/.local/lib/python3.6/site-packages/torch/serialization.py\", line 607, in load\r\n    return _load(opened_zipfile, map_location, pickle_module, **pickle_load_args)\r\n  File \"/home/jetson/.local/lib/python3.6/site-packages/torch/serialization.py\", line 882, in _load\r\n    result = unpickler.load()\r\n  File \"/home/jetson/.local/lib/python3.6/site-packages/torch/serialization.py\", line 875, in find_class\r\n    return super().find_class(mod_name, name)\r\nModuleNotFoundError: No module named 'models.yolo'; 'models' is not a package\r\n\r\n\n\n### Environment\n\n_No response_\n\n### Minimal Reproducible Example\n\n_No response_\n\n### Additional\n\nI want to ask some suggestions about how to deploy V3 algorithm on my jetson development board. looking forward to your reply,With best wishes.\n\n### Are you willing to submit a PR?\n\n- [X] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1992/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1992/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1988", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1988/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1988/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1988/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1988", "id": 1458867473, "node_id": "I_kwDOCLZQgM5W9I0R", "number": 1988, "title": "Question on Model's Output require_grad being False instead of True", "user": {"login": "jyue86", "id": 30033925, "node_id": "MDQ6VXNlcjMwMDMzOTI1", "avatar_url": "https://avatars.githubusercontent.com/u/30033925?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyue86", "html_url": "https://github.com/jyue86", "followers_url": "https://api.github.com/users/jyue86/followers", "following_url": "https://api.github.com/users/jyue86/following{/other_user}", "gists_url": "https://api.github.com/users/jyue86/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyue86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyue86/subscriptions", "organizations_url": "https://api.github.com/users/jyue86/orgs", "repos_url": "https://api.github.com/users/jyue86/repos", "events_url": "https://api.github.com/users/jyue86/events{/privacy}", "received_events_url": "https://api.github.com/users/jyue86/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-11-22T01:46:53Z", "updated_at": "2023-04-21T20:47:41Z", "closed_at": "2022-11-22T22:28:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\nDetection\n\n### Bug\n\nI've created a modified copy of detect.py where I create 2 `DetectMultiBackend` models. I use their 2 outputs to generate a loss which I would then pass into the `torch.autograd.grad()` function. This yields the following error. \r\n\r\n![image](https://user-images.githubusercontent.com/30033925/203193348-c57821b6-d0c8-4fc2-9865-242bac4d192c.png)\r\n\r\nI suspect that this is because the outputs' `requires_grad` attribute is False, even when I set the models' inputs to have `requires_grad` to be true. Another thing I did was running the following code for each model.\r\n\r\n```\r\nfor k, v in model.parameters():\r\n  v.requires_grad = True\r\n```\r\n\r\nIs there a way to change the model such that its outputs' `requires_grad` is True.\n\n### Environment\n\nI cloned  and ran this repo and my modified detect.py in Google Colab. \n\n### Minimal Reproducible Example\n\nPseudocode:\r\n```\r\na_img, b_img = ... # provided by DataLoader\r\n\r\na_model = DetectMultiBackend(weights, device, dnn)\r\nb_model = DetectMultiBackend(weights, device, dnn)\r\n\r\nfor k, v in a_model.parameters():\r\n  v.requires_grad = True\r\n\r\nfor k, v in b_model.parameters():\r\n  v.requires_grad = True\r\n\r\na_output = a_model(a_img, augment=False, visualize=False)\r\nb_output = b_model(b_img, augment=False, visualize=False)\r\n\r\nq = convert_to_q(a_output) # perform some torch operations that returns a tensor of shape (1,3)\r\nq_prime = convert_to_q_prime(b_output) # perform some torch operations that returns a tensor of shape (1,3)\r\n\r\nq /= q.sum()\r\nq_prime /= q_prime.sum()\r\nloss_f = torch.pow((q - q_prime), 2).sum()\r\nloss = torch.mean(0.01 * (loss_f ** -1))\r\n\r\nloss_grad = torch.autograd.grad(loss, a_img, retain_graph=False, create_graph=False)\r\n```\n\n### Additional\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1988/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1988/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1984", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1984/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1984/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1984/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1984", "id": 1434835396, "node_id": "I_kwDOCLZQgM5VhdnE", "number": 1984, "title": "FileNotFoundError: [Errno 2] No such file or directory: '/tmp/Ultralytics'", "user": {"login": "Lyesbcb", "id": 94790249, "node_id": "U_kgDOBaZiaQ", "avatar_url": "https://avatars.githubusercontent.com/u/94790249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lyesbcb", "html_url": "https://github.com/Lyesbcb", "followers_url": "https://api.github.com/users/Lyesbcb/followers", "following_url": "https://api.github.com/users/Lyesbcb/following{/other_user}", "gists_url": "https://api.github.com/users/Lyesbcb/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lyesbcb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lyesbcb/subscriptions", "organizations_url": "https://api.github.com/users/Lyesbcb/orgs", "repos_url": "https://api.github.com/users/Lyesbcb/repos", "events_url": "https://api.github.com/users/Lyesbcb/events{/privacy}", "received_events_url": "https://api.github.com/users/Lyesbcb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-03T15:15:10Z", "updated_at": "2023-04-21T20:47:43Z", "closed_at": "2022-12-09T01:07:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\nIntegrations, Other\n\n### Bug\n\nHello, I try to run video recognition with yolov3 in my python backend made with django.\r\n\r\nI made all the instalation in the requirements.txt but when I try to execute the detect.py script I have this error: \r\n\r\n![image](https://user-images.githubusercontent.com/94790249/199759927-90ee2e1d-224e-4a67-9672-d9863ce294fa.png)\r\n\r\nI work on Windows 10, Docker Desktop 4.9.0.\r\n\r\nI just do git clone, docker build .\r\n\r\nI try to create /tmp/Ultralytics directory but nothing works...\r\n\r\nDo you have an idea why I have this issue ?\r\n\r\nThank you very much !\n\n### Environment\n\n- Windows 10 \r\n- Docker Desktop 4.9.0\n\n### Minimal Reproducible Example\n\n_No response_\n\n### Additional\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1984/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1984/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1978", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1978/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1978/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1978/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1978", "id": 1401860098, "node_id": "I_kwDOCLZQgM5TjrAC", "number": 1978, "title": "README(v9.6.0) for yolov3 is inconsistent ", "user": {"login": "zaoul", "id": 19227680, "node_id": "MDQ6VXNlcjE5MjI3Njgw", "avatar_url": "https://avatars.githubusercontent.com/u/19227680?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaoul", "html_url": "https://github.com/zaoul", "followers_url": "https://api.github.com/users/zaoul/followers", "following_url": "https://api.github.com/users/zaoul/following{/other_user}", "gists_url": "https://api.github.com/users/zaoul/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaoul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaoul/subscriptions", "organizations_url": "https://api.github.com/users/zaoul/orgs", "repos_url": "https://api.github.com/users/zaoul/repos", "events_url": "https://api.github.com/users/zaoul/events{/privacy}", "received_events_url": "https://api.github.com/users/zaoul/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-08T07:45:39Z", "updated_at": "2023-04-21T20:47:48Z", "closed_at": "2022-11-14T00:15:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\nValidation\n\n### Bug\n\n**The title says yolov3 in README.md (v9.6.0), but the actual content is yolov5.**\r\n\r\n![image](https://user-images.githubusercontent.com/19227680/194696310-f9c05a4f-f5c5-47a6-8614-653e2e4f8d11.png)\r\n\n\n### Environment\n\nyolov3 tag: v9.6.0\n\n### Minimal Reproducible Example\n\n_No response_\n\n### Additional\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1978/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1978/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1976", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1976/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1976/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1976/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1976", "id": 1387153335, "node_id": "I_kwDOCLZQgM5Srke3", "number": 1976, "title": "AttributeError: partially initialized module 'cv2' has no attribute 'gapi_wip_gst_GStreamerPipeline'", "user": {"login": "Tsardoz", "id": 10258316, "node_id": "MDQ6VXNlcjEwMjU4MzE2", "avatar_url": "https://avatars.githubusercontent.com/u/10258316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tsardoz", "html_url": "https://github.com/Tsardoz", "followers_url": "https://api.github.com/users/Tsardoz/followers", "following_url": "https://api.github.com/users/Tsardoz/following{/other_user}", "gists_url": "https://api.github.com/users/Tsardoz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tsardoz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tsardoz/subscriptions", "organizations_url": "https://api.github.com/users/Tsardoz/orgs", "repos_url": "https://api.github.com/users/Tsardoz/repos", "events_url": "https://api.github.com/users/Tsardoz/events{/privacy}", "received_events_url": "https://api.github.com/users/Tsardoz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-27T06:01:32Z", "updated_at": "2023-04-21T20:47:49Z", "closed_at": "2022-11-03T00:17:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\nTraining\n\n### Bug\n\nAttributeError: partially initialized module 'cv2' has no attribute 'gapi_wip_gst_GStreamerPipeline' (most likely due to a circular import)\r\n\r\n\n\n### Environment\n\nDocker Image \n\n### Minimal Reproducible Example\n\npython train.py --img 640 --batch 16 --epochs 5 --data fallset.yaml --weights yolov3.pt\r\n\r\nfallset.yaml works with yolov5\n\n### Additional\n\nfixed by pip install opencv-python==4.5.5.64\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1976/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1962", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1962/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1962/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1962/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1962", "id": 1320308843, "node_id": "I_kwDOCLZQgM5OslBr", "number": 1962, "title": "Num of layers in model_info", "user": {"login": "KJZhuAutomatic", "id": 49084105, "node_id": "MDQ6VXNlcjQ5MDg0MTA1", "avatar_url": "https://avatars.githubusercontent.com/u/49084105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KJZhuAutomatic", "html_url": "https://github.com/KJZhuAutomatic", "followers_url": "https://api.github.com/users/KJZhuAutomatic/followers", "following_url": "https://api.github.com/users/KJZhuAutomatic/following{/other_user}", "gists_url": "https://api.github.com/users/KJZhuAutomatic/gists{/gist_id}", "starred_url": "https://api.github.com/users/KJZhuAutomatic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KJZhuAutomatic/subscriptions", "organizations_url": "https://api.github.com/users/KJZhuAutomatic/orgs", "repos_url": "https://api.github.com/users/KJZhuAutomatic/repos", "events_url": "https://api.github.com/users/KJZhuAutomatic/events{/privacy}", "received_events_url": "https://api.github.com/users/KJZhuAutomatic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-28T02:25:58Z", "updated_at": "2023-04-21T20:47:56Z", "closed_at": "2022-09-04T00:15:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\nOther\n\n### Bug\n\nHello, thanks for the excellent repo.\r\nA bug maybe no problem even intentional, when compute num of layers `f\"Model Summary: {len(list(model.modules()))} layers,\"`\r\nThe method `.modules()` return all submodules including middle nodes and leaves. I think middle nodes such as `Conv` and `Bottleneck` can be excluded. It's no problem actually.\r\nThanks for very very nice implementation of yolo.\r\n\n\n### Environment\n\n_No response_\n\n### Minimal Reproducible Example\n\n_No response_\n\n### Additional\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1962/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1962/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1946", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1946/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1946/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1946/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1946", "id": 1246664905, "node_id": "I_kwDOCLZQgM5KTpjJ", "number": 1946, "title": "Export yolov3 to tflite ", "user": {"login": "abdelmalek0", "id": 68542177, "node_id": "MDQ6VXNlcjY4NTQyMTc3", "avatar_url": "https://avatars.githubusercontent.com/u/68542177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abdelmalek0", "html_url": "https://github.com/abdelmalek0", "followers_url": "https://api.github.com/users/abdelmalek0/followers", "following_url": "https://api.github.com/users/abdelmalek0/following{/other_user}", "gists_url": "https://api.github.com/users/abdelmalek0/gists{/gist_id}", "starred_url": "https://api.github.com/users/abdelmalek0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abdelmalek0/subscriptions", "organizations_url": "https://api.github.com/users/abdelmalek0/orgs", "repos_url": "https://api.github.com/users/abdelmalek0/repos", "events_url": "https://api.github.com/users/abdelmalek0/events{/privacy}", "received_events_url": "https://api.github.com/users/abdelmalek0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-05-24T14:40:16Z", "updated_at": "2023-04-21T20:48:06Z", "closed_at": "2022-06-30T00:13:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\nExport\n\n### Bug\n\nI tried to export yolov3 to tflite but I get an error saying:\r\nTensorFlow saved_model: export failure: name 'TFMaxPool2d' is not defined\n\n### Environment\n\n- tensorflow 2.8.0\n\n### Minimal Reproducible Example\n\n_No response_\n\n### Additional\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1946/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1943", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1943/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1943/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1943/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1943", "id": 1235764901, "node_id": "I_kwDOCLZQgM5JqEal", "number": 1943, "title": "Bug while running initial code for training ", "user": {"login": "MingshuoYu", "id": 38081279, "node_id": "MDQ6VXNlcjM4MDgxMjc5", "avatar_url": "https://avatars.githubusercontent.com/u/38081279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MingshuoYu", "html_url": "https://github.com/MingshuoYu", "followers_url": "https://api.github.com/users/MingshuoYu/followers", "following_url": "https://api.github.com/users/MingshuoYu/following{/other_user}", "gists_url": "https://api.github.com/users/MingshuoYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/MingshuoYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MingshuoYu/subscriptions", "organizations_url": "https://api.github.com/users/MingshuoYu/orgs", "repos_url": "https://api.github.com/users/MingshuoYu/repos", "events_url": "https://api.github.com/users/MingshuoYu/events{/privacy}", "received_events_url": "https://api.github.com/users/MingshuoYu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-05-13T22:29:34Z", "updated_at": "2023-04-21T20:48:08Z", "closed_at": "2022-05-15T10:50:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\nTraining\n\n### Bug\n\nDownloading https://drive.google.com/uc?export=download&id=1UcR-zVoMs7DH5dj3N1bswkiQTA4dmKF4 as weights/yolov3-spp-ultralytics.pt... Done (1.6s)\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 433, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 104, in train\r\n    attempt_download(weights)\r\n  File \"/content/yolov3/models.py\", line 487, in attempt_download\r\n    raise Exception(msg)\r\nException: weights/yolov3-spp-ultralytics.pt missing, try downloading from https://drive.google.com/open?id=1LezFG5g3BCW6iYaV89B2i64cqEUZD7e0\r\n<img width=\"1452\" alt=\"Screen Shot 2022-05-13 at 3 10 45 PM\" src=\"https://user-images.githubusercontent.com/38081279/168395729-24dc1b36-d5e8-4181-8130-0733016c0fb7.png\">\r\n\r\n\n\n### Environment\n\npython. Python 3.7.13 \r\nPyTorch 1.11.0+cu113 _CudaDeviceProperties(name='Tesla T4', major=7, minor=5, total_memory=15109MB, multi_processor_count=40)\n\n### Minimal Reproducible Example\n\nhttps://github.com/MingshuoYu/DATA228/blob/master/Roboflow_Yolov3_PyTorch.ipynb \r\nPlease check on this verson, try with our own roboflow dataset got into an error in initial default training asking to download file. I have followed tutorial and could not make it work, please take a look, thanks. \n\n### Additional\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1943/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1891", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1891/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1891/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1891/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1891", "id": 1111640970, "node_id": "I_kwDOCLZQgM5CQkuK", "number": 1891, "title": "Source 0(webcam) ends program early", "user": {"login": "HSDeCecco", "id": 34242812, "node_id": "MDQ6VXNlcjM0MjQyODEy", "avatar_url": "https://avatars.githubusercontent.com/u/34242812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HSDeCecco", "html_url": "https://github.com/HSDeCecco", "followers_url": "https://api.github.com/users/HSDeCecco/followers", "following_url": "https://api.github.com/users/HSDeCecco/following{/other_user}", "gists_url": "https://api.github.com/users/HSDeCecco/gists{/gist_id}", "starred_url": "https://api.github.com/users/HSDeCecco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HSDeCecco/subscriptions", "organizations_url": "https://api.github.com/users/HSDeCecco/orgs", "repos_url": "https://api.github.com/users/HSDeCecco/repos", "events_url": "https://api.github.com/users/HSDeCecco/events{/privacy}", "received_events_url": "https://api.github.com/users/HSDeCecco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-01-22T17:57:25Z", "updated_at": "2023-04-21T20:48:38Z", "closed_at": "2022-02-28T00:11:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\n_No response_\n\n### Bug\n\nWhen running detect.py I start it by using the command:\r\npython detect.py --weights yolov3.pt --source 0\r\nHowever whenever I set the source to 0 and try to run it on my webcam. The program almost stops instantly. It still creates the bounding boxes around people in the frame but the program does not continually run. Any info on how I would be able to solve this issue would be greatly appreciated.\r\n<img width=\"1018\" alt=\"Screen Shot 2022-01-22 at 10 54 10 AM\" src=\"https://user-images.githubusercontent.com/34242812/150649955-b12f2abe-be51-4614-bf9d-8d6f416b4218.png\">\r\n\r\n\n\n### Environment\n\nyolov3 - Apple MacBook Pro M1\n\n### Minimal Reproducible Example\n\npython detect.py --weights yolov3.pt --source 0\r\n\r\ndetect: weights=['yolov3.pt'], source=0, imgsz=[640, 640], conf_thres=0.25, iou_thres=0.45, max_det=1000, device=, view_img=False, save_txt=False, save_conf=False, save_crop=False, nosave=False, classes=None, agnostic_nms=False, augment=False, visualize=False, update=False, project=runs/detect, name=exp, exist_ok=False, line_thickness=3, hide_labels=False, hide_conf=False, half=False, dnn=False\r\nYOLOv3 \ud83d\ude80 v9.6.0-5-g9d0e1cf torch 1.10.1 CPU\r\n\r\nFusing layers... \r\n[W NNPACK.cpp:79] Could not initialize NNPACK! Reason: Unsupported hardware.\r\nModel Summary: 261 layers, 61922845 parameters, 0 gradients, 156.1 GFLOPs\r\n1/1: 0...  Success (inf frames 1280x720 at nan FPS)\r\n\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/opt/anaconda3/lib/python3.8/threading.py\", line 932, in _bootstrap_inner\r\n    self.run()\r\n  File \"/opt/anaconda3/lib/python3.8/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/Users/hdececco/Downloads/yolo_root/yolov3/utils/datasets.py\", line 342, in update\r\n    time.sleep(1 / self.fps[i])  # wait time\r\nValueError: Invalid value NaN (not a number)\r\n0: 384x640 2 persons, Done. (2.479s)\r\nSpeed: 1.8ms pre-process, 2478.8ms inference, 9.6ms NMS per image at shape (1, 3, 640, 640)\r\nResults saved to runs/detect/exp11\n\n### Additional\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1891/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1891/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1890", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1890/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1890/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1890/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1890", "id": 1109665823, "node_id": "I_kwDOCLZQgM5CJCgf", "number": 1890, "title": "Wrong mAP computation", "user": {"login": "abhiagwl4262", "id": 22645080, "node_id": "MDQ6VXNlcjIyNjQ1MDgw", "avatar_url": "https://avatars.githubusercontent.com/u/22645080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhiagwl4262", "html_url": "https://github.com/abhiagwl4262", "followers_url": "https://api.github.com/users/abhiagwl4262/followers", "following_url": "https://api.github.com/users/abhiagwl4262/following{/other_user}", "gists_url": "https://api.github.com/users/abhiagwl4262/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhiagwl4262/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhiagwl4262/subscriptions", "organizations_url": "https://api.github.com/users/abhiagwl4262/orgs", "repos_url": "https://api.github.com/users/abhiagwl4262/repos", "events_url": "https://api.github.com/users/abhiagwl4262/events{/privacy}", "received_events_url": "https://api.github.com/users/abhiagwl4262/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2022-01-20T19:06:15Z", "updated_at": "2023-04-21T20:48:39Z", "closed_at": "2022-01-21T20:08:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\r\n\r\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\r\n\r\n\r\n### YOLOv3 Component\r\n\r\nValidation\r\n\r\n### Bug\r\n\r\nThe way mAP is being computed is misleading(wrong) and doesn't give a real sense of the results. \r\n\r\nThe issue is arising because of sorting the predictions based on the confidence score. Because of the sorting,  all the false positive move at the end of the PR graph, and because we sample 100 points uniformly in the range, the effect of false positives is negligible. \r\n\r\n| conf_thres | iou-thres | map@0.5 |\r\n|      0.001    |    0.45      |  83.9  |\r\n|      0.25      |    0.45      |  82.5  |\r\nmap at conf_thres 0.001 is higher than map @ conf_thres 0.25. Which is obviously weird.\r\n\r\nBut when we actually see the results there are a lot of false positives with conf_thres 0.001\r\nPlease check the [output images with the bounding boxes](https://drive.google.com/drive/folders/1nvqb5iWF5scxa7nZpXwFLY6NqholT8L1?usp=sharing)\r\n\r\n\r\nmap@0.5 Results with my implementation \r\n| conf_thres | iou-thres | map@0.5 |\r\n|      0.001    |    0.45      |   11.2  |\r\n|      0.25      |    0.45      |   75.7  |\r\n|      0.5        |    0.45      |   75.6  |\r\n|      0.7        |    0.45      |   68.0  |\r\n\r\n\r\n### Environment\r\n\r\n_No response_\r\n\r\n### Minimal Reproducible Example\r\n\r\n_No response_\r\n\r\n### Additional\r\n\r\n_No response_\r\n\r\n### Are you willing to submit a PR?\r\n\r\n- [x] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1890/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1890/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1887", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1887/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1887/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1887/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1887", "id": 1105478145, "node_id": "I_kwDOCLZQgM5B5EIB", "number": 1887, "title": "TFLite export issue from yolov3.pt weights (works for yolov3-spp.pt)", "user": {"login": "corehalt", "id": 46298335, "node_id": "MDQ6VXNlcjQ2Mjk4MzM1", "avatar_url": "https://avatars.githubusercontent.com/u/46298335?v=4", "gravatar_id": "", "url": "https://api.github.com/users/corehalt", "html_url": "https://github.com/corehalt", "followers_url": "https://api.github.com/users/corehalt/followers", "following_url": "https://api.github.com/users/corehalt/following{/other_user}", "gists_url": "https://api.github.com/users/corehalt/gists{/gist_id}", "starred_url": "https://api.github.com/users/corehalt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/corehalt/subscriptions", "organizations_url": "https://api.github.com/users/corehalt/orgs", "repos_url": "https://api.github.com/users/corehalt/repos", "events_url": "https://api.github.com/users/corehalt/events{/privacy}", "received_events_url": "https://api.github.com/users/corehalt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 27, "created_at": "2022-01-17T07:31:24Z", "updated_at": "2023-04-21T20:48:42Z", "closed_at": "2022-02-16T09:14:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\nExport\n\n### Bug\n\n```\r\npython export.py --weights yolov3.pt --include saved_model pb tflite --int8 --img 416\r\nexport: data=data/coco128.yaml, weights=yolov3.pt, imgsz=[416], batch_size=1, device=cpu, half=False, inplace=False, train=False, optimize=False, int8=True, dynamic=False, simplify=False, opset=13, topk_per_class=100, topk_all=100, iou_thres=0.45, conf_thres=0.25, include=['saved_model', 'pb', 'tflite']\r\nYOLOv3 \ud83d\ude80 v9.6.0-6-g0f80f2f torch 1.10.1+cu102 CPU\r\n\r\nFusing layers... \r\nModel Summary: 261 layers, 61922845 parameters, 0 gradients, 156.1 GFLOPs\r\n\r\nPyTorch: starting from yolov3.pt (124.3 MB)\r\n2022-01-17 16:05:01.871223: W tensorflow/stream_executor/platform/default/dso_loader.cc:60] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /home/corehalt/src/yolov3_test/venv/lib/python3.8/site-packages/cv2/../../lib64:\r\n2022-01-17 16:05:01.871262: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.\r\n\r\nTensorFlow saved_model: starting export with tensorflow 2.4.1...\r\n\r\n                 from  n    params  module                                  arguments                     \r\n  0                -1  1       928  models.common.Conv                      [3, 32, 3, 1]                 \r\n2022-01-17 16:05:03.584306: I tensorflow/compiler/jit/xla_cpu_device.cc:41] Not creating XLA devices, tf_xla_enable_xla_devices not set\r\n2022-01-17 16:05:03.584784: W tensorflow/stream_executor/platform/default/dso_loader.cc:60] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /home/corehalt/src/yolov3_test/venv/lib/python3.8/site-packages/cv2/../../lib64:\r\n2022-01-17 16:05:03.584829: W tensorflow/stream_executor/cuda/cuda_driver.cc:326] failed call to cuInit: UNKNOWN ERROR (303)\r\n2022-01-17 16:05:03.584867: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (pop-os): /proc/driver/nvidia/version does not exist\r\n2022-01-17 16:05:03.585266: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 FMA\r\nTo enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\n2022-01-17 16:05:03.585612: I tensorflow/compiler/jit/xla_gpu_device.cc:99] Not creating XLA devices, tf_xla_enable_xla_devices not set\r\n  1                -1  1     18560  models.common.Conv                      [32, 64, 3, 2]                \r\n  2                -1  1     20672  models.common.Bottleneck                [64, 64]                      \r\n  3                -1  1     73984  models.common.Conv                      [64, 128, 3, 2]               \r\n  4                -1  2    164608  models.common.Bottleneck                [128, 128]                    \r\n  5                -1  1    295424  models.common.Conv                      [128, 256, 3, 2]              \r\n  6                -1  8   2627584  models.common.Bottleneck                [256, 256]                    \r\n  7                -1  1   1180672  models.common.Conv                      [256, 512, 3, 2]              \r\n  8                -1  8  10498048  models.common.Bottleneck                [512, 512]                    \r\n  9                -1  1   4720640  models.common.Conv                      [512, 1024, 3, 2]             \r\n 10                -1  4  20983808  models.common.Bottleneck                [1024, 1024]                  \r\n 11                -1  1   5245952  models.common.Bottleneck                [1024, 1024, False]           \r\n\r\nTensorFlow saved_model: export failure: Convolution with multiple kernels are not allowed.\r\n\r\nTensorFlow GraphDef: starting export with tensorflow 2.4.1...\r\n\r\nTensorFlow GraphDef: export failure: 'NoneType' object has no attribute 'inputs'\r\n\r\nTensorFlow Lite: starting export with tensorflow 2.4.1...\r\n\r\nTensorFlow Lite: export failure: 'NoneType' object has no attribute 'call'\r\n\r\nExport complete (5.98s)\r\nResults saved to /home/corehalt/src/yolov3_test/yolov3\r\nVisualize with https://netron.app\r\n```\n\n### Environment\n\n- YOLO: YOLOv3 \ud83d\ude80 v9.6.0-6-g0f80f2f torch 1.10.1+cu102 CPU\r\n- OS: Ubuntu 20.04 (Pop OS)\r\n- Python: Python 3.8.1\n\n### Minimal Reproducible Example\n\n```\r\npython export.py --weights yolov3.pt --include saved_model pb tflite --int8 --img 416\r\n```\n\n### Additional\n\nI'm trying to export the `yolov3` model to TFLite.\r\nI installed the requirements in a clean virtualenv with Python 3.8.10 (uncommenting the tflite export section in the file) and run the export command:\r\n\r\n```bash\r\n# works with `yolov3-spp.pt` (automatically downloaded previously by detect.py)\r\npython export.py --weights yolov3-spp.pt --include saved_model pb tflite --int8 --img 416\r\n```\r\n\r\nbut, on the other hand, it fails to export the standard `yolov3.pt` model. It fails with the specified error:\r\n```bash\r\n# Fails with `yolov3.pt` (automatically downloaded previously by detect.py)\r\npython export.py --weights yolov3.pt --include saved_model pb tflite --int8 --img 416\r\n```\r\n\r\nI also tried to to use different versions of TensorFlow (2.7.0, 2.6.1, 2.4.1) but doesn't work as well.\r\n\r\nThank you.\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1887/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1887/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1879", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1879/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1879/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1879/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1879", "id": 1088579238, "node_id": "I_kwDOCLZQgM5A4mam", "number": 1879, "title": "Jumbled output detections ", "user": {"login": "AdityaNikhil", "id": 30192967, "node_id": "MDQ6VXNlcjMwMTkyOTY3", "avatar_url": "https://avatars.githubusercontent.com/u/30192967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdityaNikhil", "html_url": "https://github.com/AdityaNikhil", "followers_url": "https://api.github.com/users/AdityaNikhil/followers", "following_url": "https://api.github.com/users/AdityaNikhil/following{/other_user}", "gists_url": "https://api.github.com/users/AdityaNikhil/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdityaNikhil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdityaNikhil/subscriptions", "organizations_url": "https://api.github.com/users/AdityaNikhil/orgs", "repos_url": "https://api.github.com/users/AdityaNikhil/repos", "events_url": "https://api.github.com/users/AdityaNikhil/events{/privacy}", "received_events_url": "https://api.github.com/users/AdityaNikhil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-25T10:06:27Z", "updated_at": "2023-04-21T20:48:49Z", "closed_at": "2022-01-31T00:08:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\r\n\r\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\r\n\r\n\r\n### YOLOv3 Component\r\n\r\nDetection\r\n\r\n### Bug\r\n\r\nPlease check the outputs [here](https://wandb.ai/aditya-digala-gmail-com/YOLOv3/runs/369r5lry).\r\nThe issue can be reproduced in colab [here](https://colab.research.google.com/drive/1fzZGH4ZSWqG8nfEAoWZP07f50lq9t1-W?usp=sharing).\r\nAs you can the detections are jumbled. I don't understand what's the order of placing the class names inside yaml file.\r\n\r\nI have created a  `custom_data.yaml` inside `yolov3\\data`. \r\n```\r\npath: dataset  # dataset root dir\r\ntrain: images # train images (relative to 'path') 128 images\r\nval: images # val images (relative to 'path') 128 images\r\ntest:   # test images (optional)\r\n\r\n# Classes\r\nnc: 4  # number of classes\r\nnames: ['car', 'building', 'tree', 'person']  # class names\r\n```\r\n\r\n\r\n\r\n\r\n### Environment\r\n\r\n[COLAB NOTEBOOK](https://colab.research.google.com/drive/1fzZGH4ZSWqG8nfEAoWZP07f50lq9t1-W?usp=sharing)\r\n[JUMBLED OUTPUTS](https://wandb.ai/aditya-digala-gmail-com/YOLOv3/runs/369r5lry)\r\n\r\n### Minimal Reproducible Example\r\n\r\n[COLAB NOTEBOOK](https://colab.research.google.com/drive/1fzZGH4ZSWqG8nfEAoWZP07f50lq9t1-W?usp=sharing)\r\n[JUMBLED OUTPUTS](https://wandb.ai/aditya-digala-gmail-com/YOLOv3/runs/369r5lry)\r\n\r\n### Additional\r\n\r\n_No response_\r\n\r\n### Are you willing to submit a PR?\r\n\r\n- [ ] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1879/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1879/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1863", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1863/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1863/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1863/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1863", "id": 1060725317, "node_id": "I_kwDOCLZQgM4_OWJF", "number": 1863, "title": "Cuda device selection bug", "user": {"login": "chamboin", "id": 26534871, "node_id": "MDQ6VXNlcjI2NTM0ODcx", "avatar_url": "https://avatars.githubusercontent.com/u/26534871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chamboin", "html_url": "https://github.com/chamboin", "followers_url": "https://api.github.com/users/chamboin/followers", "following_url": "https://api.github.com/users/chamboin/following{/other_user}", "gists_url": "https://api.github.com/users/chamboin/gists{/gist_id}", "starred_url": "https://api.github.com/users/chamboin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chamboin/subscriptions", "organizations_url": "https://api.github.com/users/chamboin/orgs", "repos_url": "https://api.github.com/users/chamboin/repos", "events_url": "https://api.github.com/users/chamboin/events{/privacy}", "received_events_url": "https://api.github.com/users/chamboin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-23T00:39:55Z", "updated_at": "2023-04-21T20:51:14Z", "closed_at": "2021-12-30T00:08:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Search before asking\n\n- [X] I have searched the YOLOv3 [issues](https://github.com/ultralytics/yolov3/issues) and found no similar bug report.\n\n\n### YOLOv3 Component\n\nDetection\n\n### Bug\n\n## Problems\r\nI have multiple GPUs and spot this issue when using a specific GPU (GPU 2 in my program). I load both the model and data to cuda:2 but got this error message during inference:\r\n```bash\r\n  File \"projectfolder/detect_action.py\", line 297, in get_prediction\r\n    pred = model(img, augment=False)[0]\r\n  File \"projectfolder/lib/python3.9/site-packages/torch/nn/modules/module.py\", line 1051, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"projectfolder/yolov3/models/yolo.py\", line 121, in forward\r\n    return self.forward_once(x, profile)  # single-scale inference, train\r\n  File \"projectfolder/yolov3/models/yolo.py\", line 152, in forward_once\r\n    x = m(x)  # run\r\n  File \"projectfolder/lib/python3.9/site-packages/torch/nn/modules/module.py\", line 1051, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"projectfolder/yolov3/models/common.py\", line 45, in fuseforward\r\n    return self.act(self.conv(x))\r\n  File \"projectfolder/lib/python3.9/site-packages/torch/nn/modules/module.py\", line 1051, in _call_impl\r\n    return forward_call(*input, **kwargs)\r\n  File \"projectfolder/lib/python3.9/site-packages/torch/nn/modules/conv.py\", line 443, in forward\r\n    return self._conv_forward(input, self.weight, self.bias)\r\n  File \"projectfolder/lib/python3.9/site-packages/torch/nn/modules/conv.py\", line 439, in _conv_forward\r\n    return F.conv2d(input, weight, bias, self.stride,\r\nRuntimeError: Expected all tensors to be on the same device, but found at least two devices, cuda:0 and cuda:2! (when checking arugment for argument weight in method wrapper_cudnn_convolution)\r\n```\r\n## Code caused this problem\r\nI found that the method `select_device()` in `yolov3/utils/torch_utils.py` returns `cudu:0` no matter what the parameter transmits.\r\n\r\n```python\r\ndef select_device(device='', batch_size=None):\r\n    # device = 'cpu' or '0' or '0,1,2,3'\r\n    s = f'YOLOv3 \ud83d\ude80 {git_describe() or date_modified()} torch {torch.__version__} '  # string\r\n    cpu = device.lower() == 'cpu'\r\n    if cpu:\r\n        os.environ['CUDA_VISIBLE_DEVICES'] = '-1'  # force torch.cuda.is_available() = False\r\n    elif device:  # non-cpu device requested\r\n        os.environ['CUDA_VISIBLE_DEVICES'] = device  # set environment variable\r\n        assert torch.cuda.is_available(), f'CUDA unavailable, invalid device {device} requested'  # check availability\r\n\r\n    cuda = not cpu and torch.cuda.is_available()\r\n    if cuda:\r\n        devices = device.split(',') if device else range(torch.cuda.device_count())  # i.e. 0,1,6,7\r\n        n = len(devices)  # device count\r\n        if n > 1 and batch_size:  # check batch_size is divisible by device_count\r\n            assert batch_size % n == 0, f'batch-size {batch_size} not multiple of GPU count {n}'\r\n        space = ' ' * len(s)\r\n        for i, d in enumerate(devices):\r\n            p = torch.cuda.get_device_properties(i)\r\n            s += f\"{'' if i == 0 else space}CUDA:{d} ({p.name}, {p.total_memory / 1024 ** 2}MB)\\n\"  # bytes to MB\r\n    else:\r\n        s += 'CPU\\n'\r\n\r\n    logger.info(s.encode().decode('ascii', 'ignore') if platform.system() == 'Windows' else s)  # emoji-safe\r\n    return torch.device('cuda:0' if cuda else 'cpu')\r\n```\r\nThis will cause the problem mentioned above.\n\n### Environment\n\n- YOLOv3 \ud83d\ude80 v9.5.0-13-g1be3170 torch 1.9.0 CUDA:2 (NVIDIA GeForce RTX 2080 Ti, 11019.4375MB)\r\n- OS: Ubuntu 18.04 LTS\r\n- Python 3.9.6\n\n### Minimal Reproducible Example\n\n_No response_\n\n### Additional\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [X] Yes I'd like to help by submitting a PR!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1863/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1863/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1818", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1818/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1818/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1818/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1818", "id": 971884397, "node_id": "MDU6SXNzdWU5NzE4ODQzOTc=", "number": 1818, "title": "Yolov5 thesis", "user": {"login": "Shawn-gitman", "id": 57627494, "node_id": "MDQ6VXNlcjU3NjI3NDk0", "avatar_url": "https://avatars.githubusercontent.com/u/57627494?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Shawn-gitman", "html_url": "https://github.com/Shawn-gitman", "followers_url": "https://api.github.com/users/Shawn-gitman/followers", "following_url": "https://api.github.com/users/Shawn-gitman/following{/other_user}", "gists_url": "https://api.github.com/users/Shawn-gitman/gists{/gist_id}", "starred_url": "https://api.github.com/users/Shawn-gitman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Shawn-gitman/subscriptions", "organizations_url": "https://api.github.com/users/Shawn-gitman/orgs", "repos_url": "https://api.github.com/users/Shawn-gitman/repos", "events_url": "https://api.github.com/users/Shawn-gitman/events{/privacy}", "received_events_url": "https://api.github.com/users/Shawn-gitman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-16T16:01:36Z", "updated_at": "2023-04-21T20:54:24Z", "closed_at": "2021-09-21T00:06:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, this is shawn from South Korea. As I'm working on the project it requires to study more on the fundamental than the code. If you can share your paper, I would appreciate that much. Thank you.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1818/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1816", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1816/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1816/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1816/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1816", "id": 966228637, "node_id": "MDU6SXNzdWU5NjYyMjg2Mzc=", "number": 1816, "title": "unrecognized arguments", "user": {"login": "Ash-Chump2Champ", "id": 76086281, "node_id": "MDQ6VXNlcjc2MDg2Mjgx", "avatar_url": "https://avatars.githubusercontent.com/u/76086281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ash-Chump2Champ", "html_url": "https://github.com/Ash-Chump2Champ", "followers_url": "https://api.github.com/users/Ash-Chump2Champ/followers", "following_url": "https://api.github.com/users/Ash-Chump2Champ/following{/other_user}", "gists_url": "https://api.github.com/users/Ash-Chump2Champ/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ash-Chump2Champ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ash-Chump2Champ/subscriptions", "organizations_url": "https://api.github.com/users/Ash-Chump2Champ/orgs", "repos_url": "https://api.github.com/users/Ash-Chump2Champ/repos", "events_url": "https://api.github.com/users/Ash-Chump2Champ/events{/privacy}", "received_events_url": "https://api.github.com/users/Ash-Chump2Champ/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-11T08:29:47Z", "updated_at": "2023-04-21T20:54:25Z", "closed_at": "2021-09-16T00:06:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried running the command\r\npython test.py --weights mask-yolov3-tiny-prn.weights --cfg mask-yolov3-tiny-prn.cfg --data obj.data\r\n\r\nI get:\r\ntest.py: error: unrecognized arguments: --cfg mask-yolov3-tiny-prn.cfg", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1816/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1815", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1815/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1815/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1815/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1815", "id": 960058276, "node_id": "MDU6SXNzdWU5NjAwNTgyNzY=", "number": 1815, "title": "Training problems", "user": {"login": "marcomameli1992", "id": 58846715, "node_id": "MDQ6VXNlcjU4ODQ2NzE1", "avatar_url": "https://avatars.githubusercontent.com/u/58846715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcomameli1992", "html_url": "https://github.com/marcomameli1992", "followers_url": "https://api.github.com/users/marcomameli1992/followers", "following_url": "https://api.github.com/users/marcomameli1992/following{/other_user}", "gists_url": "https://api.github.com/users/marcomameli1992/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcomameli1992/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcomameli1992/subscriptions", "organizations_url": "https://api.github.com/users/marcomameli1992/orgs", "repos_url": "https://api.github.com/users/marcomameli1992/repos", "events_url": "https://api.github.com/users/marcomameli1992/events{/privacy}", "received_events_url": "https://api.github.com/users/marcomameli1992/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-08-04T08:30:10Z", "updated_at": "2023-04-21T20:54:26Z", "closed_at": "2021-09-12T00:07:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I'm trying to start a training with yolov3 I'm getting this error:\r\n\r\nScaled weight_decay = 0.0005\r\nOptimizer groups: 75 .bias, 75 conv.weight, 72 other\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 541, in <module>\r\n    train(hyp, opt, device, tb_writer)\r\n  File \"train.py\", line 189, in train\r\n    dataloader, dataset = create_dataloader(train_path, imgsz, batch_size, gs, opt,\r\n  File \"/home/vrai/FishDetection2/yolov3/wandb/yolov3/utils/datasets.py\", line 67, in create_dataloader\r\n    dataset = LoadImagesAndLabels(path, imgsz, batch_size,\r\n  File \"/home/vrai/FishDetection2/yolov3/wandb/yolov3/utils/datasets.py\", line 389, in __init__\r\n    cache, exists = torch.load(cache_path), True  # load\r\n  File \"/root/anaconda3/envs/PT181/lib/python3.8/site-packages/torch/serialization.py\", line 593, in load\r\n    return _legacy_load(opened_file, map_location, pickle_module, **pickle_load_args)\r\n  File \"/root/anaconda3/envs/PT181/lib/python3.8/site-packages/torch/serialization.py\", line 762, in _legacy_load\r\n    magic_number = pickle_module.load(f, **pickle_load_args)\r\n_pickle.UnpicklingError: STACK_GLOBAL requires str\r\n\r\nI'm using ubuntu 20.04 with pytorch 1.8 and a NVIDIA RTX 2080 Ti", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1815/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1815/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1812", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1812/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1812/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1812/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1812", "id": 956411547, "node_id": "MDU6SXNzdWU5NTY0MTE1NDc=", "number": 1812, "title": "Training with previously trained weights gives wandb errors", "user": {"login": "zhengpengen", "id": 60248484, "node_id": "MDQ6VXNlcjYwMjQ4NDg0", "avatar_url": "https://avatars.githubusercontent.com/u/60248484?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhengpengen", "html_url": "https://github.com/zhengpengen", "followers_url": "https://api.github.com/users/zhengpengen/followers", "following_url": "https://api.github.com/users/zhengpengen/following{/other_user}", "gists_url": "https://api.github.com/users/zhengpengen/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhengpengen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhengpengen/subscriptions", "organizations_url": "https://api.github.com/users/zhengpengen/orgs", "repos_url": "https://api.github.com/users/zhengpengen/repos", "events_url": "https://api.github.com/users/zhengpengen/events{/privacy}", "received_events_url": "https://api.github.com/users/zhengpengen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-07-30T05:16:26Z", "updated_at": "2023-04-21T20:54:28Z", "closed_at": "2021-07-30T21:33:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nI'm training yolov3 on Google Colab. Since Colab closes a session after a while I've been saving the weights trained on those sessions and continue training them. However, when I have wandb online, it throws me the error message below.\r\n\r\n## To Reproduce (REQUIRED)\r\n\r\nInput:\r\n```\r\npython train.py --img 640 --epoch 6 --data coco.yaml --weights best.pt --batch-size 16\r\n```\r\nbest.pt is the unedited weight after training from the last session\r\n\r\n\r\nOutput:\r\n```\r\nwandb: ERROR Attempted to change value of key \"opt\" from {'cfg': './models/yolov3.yaml', 'hyp': {'box': 0.05, 'cls': 0.5, 'lr0': 0.01, 'lrf': 0.2, 'obj': 1, 'hsv_h': 0.015, 'hsv_s': 0.7, 'hsv_v': 0.4, 'iou_t': 0.2, 'mixup': 0, 'scale': 0.5, 'shear': 0, 'cls_pw': 1, 'fliplr': 0.5, 'flipud': 0, 'mosaic': 1, 'obj_pw': 1, 'degrees': 0, 'anchor_t': 4, 'fl_gamma': 0, 'momentum': 0.937, 'translate': 0.1, 'perspective': 0, 'weight_decay': 0.0005, 'warmup_epochs': 3, 'warmup_bias_lr': 0.1, 'warmup_momentum': 0.8}, 'adam': False, 'data': './data/coco.yaml', 'name': 'exp', 'quad': False, 'rect': False, 'bucket': '', 'device': '', 'entity': None, 'epochs': 10, 'evolve': False, 'nosave': False, 'notest': False, 'resume': False, 'project': 'runs/train', 'sync_bn': False, 'weights': 'yolov3.pt', 'workers': 8, 'exist_ok': False, 'img_size': [640, 640], 'save_dir': 'runs/train/exp6', 'linear_lr': False, 'batch_size': 16, 'local_rank': -1, 'single_cls': False, 'world_size': 1, 'global_rank': -1, 'multi_scale': False, 'save_period': -1, 'cache_images': False, 'noautoanchor': False, 'bbox_interval': -1, 'image_weights': False, 'artifact_alias': 'latest', 'upload_dataset': False, 'label_smoothing': 0, 'total_batch_size': 16} to {'weights': 'best.pt', 'cfg': '', 'data': './data/coco.yaml', 'hyp': {'lr0': 0.01, 'lrf': 0.2, 'momentum': 0.937, 'weight_decay': 0.0005, 'warmup_epochs': 3.0, 'warmup_momentum': 0.8, 'warmup_bias_lr': 0.1, 'box': 0.05, 'cls': 0.5, 'cls_pw': 1.0, 'obj': 1.0, 'obj_pw': 1.0, 'iou_t': 0.2, 'anchor_t': 4.0, 'fl_gamma': 0.0, 'hsv_h': 0.015, 'hsv_s': 0.7, 'hsv_v': 0.4, 'degrees': 0.0, 'translate': 0.1, 'scale': 0.5, 'shear': 0.0, 'perspective': 0.0, 'flipud': 0.0, 'fliplr': 0.5, 'mosaic': 1.0, 'mixup': 0.0}, 'epochs': 6, 'batch_size': 16, 'img_size': [640, 640], 'rect': False, 'resume': False, 'nosave': False, 'notest': False, 'noautoanchor': False, 'evolve': False, 'bucket': '', 'cache_images': False, 'image_weights': False, 'device': '', 'multi_scale': False, 'single_cls': False, 'adam': False, 'sync_bn': False, 'local_rank': -1, 'workers': 8, 'project': 'runs/train', 'entity': None, 'name': 'exp', 'exist_ok': False, 'quad': False, 'linear_lr': False, 'label_smoothing': 0.0, 'upload_dataset': False, 'bbox_interval': -1, 'save_period': -1, 'artifact_alias': 'latest', 'world_size': 1, 'global_rank': -1, 'save_dir': 'runs/train/exp6', 'total_batch_size': 16}\r\nwandb: ERROR If you really want to do this, pass allow_val_change=True to config.update()\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 541, in <module>\r\n    train(hyp, opt, device, tb_writer)\r\n  File \"train.py\", line 71, in train\r\n    wandb_logger = WandbLogger(opt, save_dir.stem, run_id, data_dict)\r\n  File \"/content/yolov3/utils/wandb_logging/wandb_utils.py\", line 121, in __init__\r\n    self.wandb_run.config.opt = vars(opt)\r\n  File \"/usr/local/lib/python3.7/dist-packages/wandb/sdk/wandb_config.py\", line 139, in __setitem__\r\n    key, val = self._sanitize(key, val)\r\n  File \"/usr/local/lib/python3.7/dist-packages/wandb/sdk/wandb_config.py\", line 237, in _sanitize\r\n    ).format(key, self._items[key], val)\r\nwandb.sdk.lib.config_util.ConfigError: Attempted to change value of key \"opt\" from {'cfg': './models/yolov3.yaml', 'hyp': {'box': 0.05, 'cls': 0.5, 'lr0': 0.01, 'lrf': 0.2, 'obj': 1, 'hsv_h': 0.015, 'hsv_s': 0.7, 'hsv_v': 0.4, 'iou_t': 0.2, 'mixup': 0, 'scale': 0.5, 'shear': 0, 'cls_pw': 1, 'fliplr': 0.5, 'flipud': 0, 'mosaic': 1, 'obj_pw': 1, 'degrees': 0, 'anchor_t': 4, 'fl_gamma': 0, 'momentum': 0.937, 'translate': 0.1, 'perspective': 0, 'weight_decay': 0.0005, 'warmup_epochs': 3, 'warmup_bias_lr': 0.1, 'warmup_momentum': 0.8}, 'adam': False, 'data': './data/coco.yaml', 'name': 'exp', 'quad': False, 'rect': False, 'bucket': '', 'device': '', 'entity': None, 'epochs': 10, 'evolve': False, 'nosave': False, 'notest': False, 'resume': False, 'project': 'runs/train', 'sync_bn': False, 'weights': 'yolov3.pt', 'workers': 8, 'exist_ok': False, 'img_size': [640, 640], 'save_dir': 'runs/train/exp6', 'linear_lr': False, 'batch_size': 16, 'local_rank': -1, 'single_cls': False, 'world_size': 1, 'global_rank': -1, 'multi_scale': False, 'save_period': -1, 'cache_images': False, 'noautoanchor': False, 'bbox_interval': -1, 'image_weights': False, 'artifact_alias': 'latest', 'upload_dataset': False, 'label_smoothing': 0, 'total_batch_size': 16} to {'weights': 'best.pt', 'cfg': '', 'data': './data/coco.yaml', 'hyp': {'lr0': 0.01, 'lrf': 0.2, 'momentum': 0.937, 'weight_decay': 0.0005, 'warmup_epochs': 3.0, 'warmup_momentum': 0.8, 'warmup_bias_lr': 0.1, 'box': 0.05, 'cls': 0.5, 'cls_pw': 1.0, 'obj': 1.0, 'obj_pw': 1.0, 'iou_t': 0.2, 'anchor_t': 4.0, 'fl_gamma': 0.0, 'hsv_h': 0.015, 'hsv_s': 0.7, 'hsv_v': 0.4, 'degrees': 0.0, 'translate': 0.1, 'scale': 0.5, 'shear': 0.0, 'perspective': 0.0, 'flipud': 0.0, 'fliplr': 0.5, 'mosaic': 1.0, 'mixup': 0.0}, 'epochs': 6, 'batch_size': 16, 'img_size': [640, 640], 'rect': False, 'resume': False, 'nosave': False, 'notest': False, 'noautoanchor': False, 'evolve': False, 'bucket': '', 'cache_images': False, 'image_weights': False, 'device': '', 'multi_scale': False, 'single_cls': False, 'adam': False, 'sync_bn': False, 'local_rank': -1, 'workers': 8, 'project': 'runs/train', 'entity': None, 'name': 'exp', 'exist_ok': False, 'quad': False, 'linear_lr': False, 'label_smoothing': 0.0, 'upload_dataset': False, 'bbox_interval': -1, 'save_period': -1, 'artifact_alias': 'latest', 'world_size': 1, 'global_rank': -1, 'save_dir': 'runs/train/exp6', 'total_batch_size': 16}\r\nIf you really want to do this, pass allow_val_change=True to config.update()\r\n```\r\n\r\n\r\n## Expected behavior\r\nTraining just continues\r\n\r\n## Additional context\r\nI saw an issue on the yolov5 with very similar problems as mine https://github.com/ultralytics/yolov5/issues/294 except there is a utils.py. Although I did find strip_optimzer in generals.py, \r\nHowever, when I try to run ``` from utils.general import strip_optimizer``` I get\r\n```\r\nFile \"utils/general.py\", line 51\r\n    last_list = glob.glob(f'{search_dir}/**/last*pt', recursive=True)\r\n\r\nSyntaxError: invalid syntax\r\n```\r\n\r\n## Trial with resume flag\r\nI'm not completely sure how using the ```--resume``` flag works but when I tried to pass the ```--resume```  flag with ```python train.py --img 640 --epoch 6 --data coco.yaml --weights best.pt --batch-size 16 --resume``` it just told me no resume points available, so I think since colab closing wipes all the files, there isn't a resume checkpoint.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1812/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1812/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1807", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1807/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1807/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1807/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1807", "id": 947007118, "node_id": "MDU6SXNzdWU5NDcwMDcxMTg=", "number": 1807, "title": "Bugs in the rectangle training?", "user": {"login": "cnnAndBn", "id": 69999981, "node_id": "MDQ6VXNlcjY5OTk5OTgx", "avatar_url": "https://avatars.githubusercontent.com/u/69999981?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cnnAndBn", "html_url": "https://github.com/cnnAndBn", "followers_url": "https://api.github.com/users/cnnAndBn/followers", "following_url": "https://api.github.com/users/cnnAndBn/following{/other_user}", "gists_url": "https://api.github.com/users/cnnAndBn/gists{/gist_id}", "starred_url": "https://api.github.com/users/cnnAndBn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cnnAndBn/subscriptions", "organizations_url": "https://api.github.com/users/cnnAndBn/orgs", "repos_url": "https://api.github.com/users/cnnAndBn/repos", "events_url": "https://api.github.com/users/cnnAndBn/events{/privacy}", "received_events_url": "https://api.github.com/users/cnnAndBn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-07-18T10:59:22Z", "updated_at": "2023-04-21T20:54:32Z", "closed_at": "2021-08-25T00:06:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,  @glenn-jocher \r\n   As for the rectangle training , you spacified the image size in a batch in https://github.com/ultralytics/yolov3/blob/1be31704c9c690929e4f6e6d950f40755ef2dcdc/utils/datasets.py#L443,\r\nhttps://github.com/ultralytics/yolov3/blob/1be31704c9c690929e4f6e6d950f40755ef2dcdc/utils/datasets.py#L426 and the prerequisite is the dataloader sample is in sequential mode,right?\r\n  but if we run the code in DDP way, https://github.com/ultralytics/yolov3/blob/1be31704c9c690929e4f6e6d950f40755ef2dcdc/utils/datasets.py#L80 here, the default value of shuffle is true for the DistributedSampler class initialization method.\r\n   please check the code to check whether this is correct,thanks", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1807/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1806", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1806/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1806/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1806/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1806", "id": 943312669, "node_id": "MDU6SXNzdWU5NDMzMTI2Njk=", "number": 1806, "title": "RuntimeError: Sizes of tensors must match except in dimension 2. Got 25 and 24 (The offending index is 0)", "user": {"login": "Choikyungho9", "id": 20491139, "node_id": "MDQ6VXNlcjIwNDkxMTM5", "avatar_url": "https://avatars.githubusercontent.com/u/20491139?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Choikyungho9", "html_url": "https://github.com/Choikyungho9", "followers_url": "https://api.github.com/users/Choikyungho9/followers", "following_url": "https://api.github.com/users/Choikyungho9/following{/other_user}", "gists_url": "https://api.github.com/users/Choikyungho9/gists{/gist_id}", "starred_url": "https://api.github.com/users/Choikyungho9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Choikyungho9/subscriptions", "organizations_url": "https://api.github.com/users/Choikyungho9/orgs", "repos_url": "https://api.github.com/users/Choikyungho9/repos", "events_url": "https://api.github.com/users/Choikyungho9/events{/privacy}", "received_events_url": "https://api.github.com/users/Choikyungho9/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-07-13T12:40:33Z", "updated_at": "2023-04-21T20:54:34Z", "closed_at": "2021-08-18T00:06:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using the archive version that can be detect as a cfg file for ylov3 .\r\n\r\nthe user object detector i made works well in image files or videos.\r\n\r\nHowever, an error occurs when i enter '0' in the source to to webcam. \r\n\r\nWould you please help me? \r\n\r\nThe error is as follows.\r\n\r\n`doosan@doosan-desktop:~/yolov3-archive$` python3 detect.py\r\nNamespace(agnostic_nms=False, augment=False, cfg='cfg/obj.cfg', classes=None, conf_thres=0.3, device='', fourcc='mp4v', half=False, img_size=400, iou_thres=0.6, names='data/obj.names', output='output', save_txt=False, source='0', view_img=False, weights='weights/obj_last.weights')\r\nUsing CUDA device0 _CudaDeviceProperties(name='NVIDIA Tegra X1', total_memory=3956MB)\r\n\r\nModel Summary: 37 layers, 8.6745e+06 parameters, 8.6745e+06 gradients, 9.7 GFLOPS\r\n1/1: 0...  success (640x480 at 30.00 FPS).\r\n\r\nTraceback (most recent call last):\r\n  File \"detect.py\", line 191, in <module>\r\n    detect()\r\n  File \"detect.py\", line 79, in detect\r\n    _ = model(img.half() if half else img.float()) if device.type != 'cpu' else None  # run once\r\n  File \"/home/doosan/.local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 727, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/doosan/yolov3-archive/models.py\", line 244, in forward\r\n    return self.forward_once(x)\r\n  File \"/home/doosan/yolov3-archive/models.py\", line 294, in forward_once\r\n    x = module(x, out)  # WeightedFeatureFusion(), FeatureConcat()\r\n  File \"/home/doosan/.local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 727, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/doosan/yolov3-archive/utils/layers.py\", line 35, in forward\r\n    return torch.cat([outputs[i] for i in self.layers], 1) if self.multiple else outputs[self.layers[0]]\r\nRuntimeError: Sizes of tensors must match except in dimension 2. Got 25 and 24 (The offending index is 0)\r\nterminate called without an active exception\r\nAborted (core dumped)\r\n`\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1806/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1806/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1805", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1805/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1805/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1805/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1805", "id": 942899204, "node_id": "MDU6SXNzdWU5NDI4OTkyMDQ=", "number": 1805, "title": "RuntimeErro r: Output 0 of SelectBackward is a view and is being modified inplace. ", "user": {"login": "yuanqiyin", "id": 50046526, "node_id": "MDQ6VXNlcjUwMDQ2NTI2", "avatar_url": "https://avatars.githubusercontent.com/u/50046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuanqiyin", "html_url": "https://github.com/yuanqiyin", "followers_url": "https://api.github.com/users/yuanqiyin/followers", "following_url": "https://api.github.com/users/yuanqiyin/following{/other_user}", "gists_url": "https://api.github.com/users/yuanqiyin/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuanqiyin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuanqiyin/subscriptions", "organizations_url": "https://api.github.com/users/yuanqiyin/orgs", "repos_url": "https://api.github.com/users/yuanqiyin/repos", "events_url": "https://api.github.com/users/yuanqiyin/events{/privacy}", "received_events_url": "https://api.github.com/users/yuanqiyin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-07-13T07:27:21Z", "updated_at": "2023-04-21T20:54:35Z", "closed_at": "2021-08-18T00:06:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\nRuntimeError: Output 0 of SelectBackward is a view and is being modified inplace. This view is the output of a function that returns multiple views. Such functions do not allow the output views to be modified inplace. You should replace the inplace operation by an out-of-place one.\r\n\r\n\r\n## To Reproduce (REQUIRED)\r\n\r\nInput:\r\n```\r\ndef non_max_suppression(prediction, conf_thres=0.5, nms_thres=0.5):\r\n\r\n    min_wh, max_wh = 2, 10000\r\n\r\n    output = [None] * len(prediction)\r\n\r\n    for image_i, pred in enumerate(prediction):    # image index , image inference\r\n\r\n        class_conf, class_pred = pred[:, 5:].max(1)\r\n        pred[:, 4] *= class_conf\r\n\r\n        i = (pred[:, 4] > conf_thres) & (pred[:, 2:4] > min_wh).all(1) & (pred[:, 2:4] < max_wh).all(1) & \\\r\n            torch.isfinite(pred).all(1)\r\n        pred = pred[i]\r\n\r\n        # If none are remaining => process next image\r\n        if len(pred) == 0:\r\n            continue\r\n\r\n        # Select predicted classes\r\n        class_conf = class_conf[i]\r\n        class_pred = class_pred[i].unsqueeze(1).float()\r\n\r\n        # Box (center x, center y, width, height) to (x1, y1, x2, y2)\r\n        pred[:, :4] = xywh2xyxy(pred[:, :4])\r\n\r\n        # Detections ordered as (x1y1x2y2, obj_conf, class_conf, class_pred)\r\n        pred = torch.cat((pred[:, :5], class_conf.unsqueeze(1), class_pred), 1)\r\n\r\n        # Get detections sorted by decreasing confidence scores\r\n        pred = pred[(-pred[:, 4]).argsort()]\r\n```\r\n\r\nOutput:\r\n```\r\nTraceback (most recent call last):\r\n  File \"E:/PersonalFile/Code/deep_sort_yolov3_pytorch-master/deep_sort.py\", line 186, in <module>\r\n    det.detect(output_file)\r\n  File \"E:/PersonalFile/Code/deep_sort_yolov3_pytorch-master/deep_sort.py\", line 98, in detect\r\n    bbox_xxyy, cls_conf, cls_ids = self.yolo3.predict(im)\r\n  File \"E:\\PersonalFile\\Code\\deep_sort_yolov3_pytorch-master\\predict.py\", line 54, in predict\r\n    det = non_max_suppression(pred, self.conf_thres, self.nms_thres)[0]\r\n  File \"E:\\PersonalFile\\Code\\deep_sort_yolov3_pytorch-master\\utils\\util.py\", line 615, in non_max_suppression\r\n    pred[:, 4] *= class_conf\r\nRuntimeError: Output 0 of SelectBackward is a view and is being modified inplace. This view is the output of a function that returns multiple views. Such functions do not allow the output views to be modified inplace. You should replace the inplace operation by an out-of-place one.\r\n```\r\n\r\n\r\n## Expected behavior\r\nUsed it to detect and Bug happened.\r\nPlease help me~\r\n\r\n\r\n## Environment\r\n\r\n - OS: [windows10]\r\n - GPU [3070]\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1805/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1798", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1798/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1798/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1798/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1798", "id": 930735334, "node_id": "MDU6SXNzdWU5MzA3MzUzMzQ=", "number": 1798, "title": "Export to onnx opencv forward assertion (-215:Assertion failed) start <= (int)shape.size() && end <= (int)shape.size() && start <= end in function 'total'", "user": {"login": "dov84d", "id": 1914169, "node_id": "MDQ6VXNlcjE5MTQxNjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1914169?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dov84d", "html_url": "https://github.com/dov84d", "followers_url": "https://api.github.com/users/dov84d/followers", "following_url": "https://api.github.com/users/dov84d/following{/other_user}", "gists_url": "https://api.github.com/users/dov84d/gists{/gist_id}", "starred_url": "https://api.github.com/users/dov84d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dov84d/subscriptions", "organizations_url": "https://api.github.com/users/dov84d/orgs", "repos_url": "https://api.github.com/users/dov84d/repos", "events_url": "https://api.github.com/users/dov84d/events{/privacy}", "received_events_url": "https://api.github.com/users/dov84d/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-06-26T16:25:40Z", "updated_at": "2023-04-21T20:54:44Z", "closed_at": "2021-08-08T00:06:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nHi,\r\nI am not sure that this is a bug, but I have reasons to believe that its indeed the case \r\nI am trying to export a trained model to onnx and I am getting the following error while trying to run the forward function:\r\n\r\n(-215:Assertion failed) start <= (int)shape.size() && end <= (int)shape.size() && start <= end in function 'total'\r\n\r\n\r\n\r\n\r\n## To Reproduce (REQUIRED)\r\n\r\nI trained the model using train.py with the following\r\n--data my_cfg.yaml --cfg yolov3-tiny.yaml --weights yolov3-tiny.pt --img 416 --batch-size 32 --epochs 150\r\nThen I export the model using export.py with the following\r\n--weights best.pt --img-size 416 416 --device cpu --include onnx --opset-version 12 \r\n\r\nOutput:\r\n\r\ncv2.error: OpenCV(4.5.2) /tmp/pip-req-build-947ayiyu/opencv/modules/dnn/include/opencv2/dnn/shape_utils.hpp:170: error: (-215:Assertion failed) start <= (int)shape.size() && end <= (int)shape.size() && start <= end in function 'total'\r\n\r\nimg = cv2.imread(img_path, cv2.IMREAD_COLOR)\r\nblob = cv2.dnn.blobFromImage(img, 1.0/255, (416, 416), (0, 0, 0), swapRB=True, crop=False)\r\nprint(blob.shape) #(1, 3, 416, 416)\r\nmodel_file = 'best.onnx'\r\nnet = cv2.dnn.readNetFromONNX(model_file)\r\nnet.setInput(blob)\r\npred = net.forward()\r\n\r\n## Expected behavior\r\nSucceed forward\r\n\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: Ubntu 18.04\r\n - GPU 2070 super\r\n- OpenCV: 4.5.2\r\n- Onnx: 1.9.0\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1798/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1798/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1758", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1758/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1758/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1758/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1758", "id": 889598150, "node_id": "MDU6SXNzdWU4ODk1OTgxNTA=", "number": 1758, "title": "RecursionError: maximum recursion depth exceeded while calling a Python object when train.py in Kaggle kernel with wandb disabled", "user": {"login": "chulminkw", "id": 55954384, "node_id": "MDQ6VXNlcjU1OTU0Mzg0", "avatar_url": "https://avatars.githubusercontent.com/u/55954384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chulminkw", "html_url": "https://github.com/chulminkw", "followers_url": "https://api.github.com/users/chulminkw/followers", "following_url": "https://api.github.com/users/chulminkw/following{/other_user}", "gists_url": "https://api.github.com/users/chulminkw/gists{/gist_id}", "starred_url": "https://api.github.com/users/chulminkw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chulminkw/subscriptions", "organizations_url": "https://api.github.com/users/chulminkw/orgs", "repos_url": "https://api.github.com/users/chulminkw/repos", "events_url": "https://api.github.com/users/chulminkw/events{/privacy}", "received_events_url": "https://api.github.com/users/chulminkw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-05-12T04:20:01Z", "updated_at": "2023-04-21T20:55:20Z", "closed_at": "2021-05-13T04:31:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nHello, and Thanks for this fabulous yolo package. \r\n\r\nI was testing yolo v3 in Kaggle kernel with kaggle instruction notebook in [https://www.kaggle.com/ultralytics/yolov3](https://www.kaggle.com/ultralytics/yolov3)\r\n\r\nBut with wandb disabled setting, it gives the following error message during training. \r\n\r\n!python train.py --img 640 --batch 16 --epochs 3 --data coco128.yaml --weights yolov3.pt --nosave --cache\r\n#############################################\r\ngithub: up to date with https://github.com/ultralytics/yolov3 \r\n2021-05-12 03:38:09.764707: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.10.2\r\n2021-05-12 03:38:10.008276: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.10.2\r\ntrain: Scanning '../coco128/labels/train2017' images and labels... 128 found, 0 \r\ntrain: Caching images (0.1GB): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 128/128 [00:00<00:00, 195.79it/s]\r\nval: Scanning '../coco128/labels/train2017.cache' images and labels... 128 found\r\nval: Caching images (0.1GB): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 128/128 [00:00<00:00, 139.70it/s]\r\nPlotting labels... \r\nautoanchor: Analyzing anchors... anchors/target = 4.26, Best Possible Recall (BPR) = 0.9946\r\n       0/2      9.3G   0.02899   0.02444  0.007403   0.06083       161       640\r\n               Class      Images      Labels           P           R      mAP@.5\r\n                 all         128         929       0.738       0.738        0.79        0.56\r\n       1/2     9.08G   0.02946   0.02422  0.007518    0.0612       182       640\r\n               Class      Images      Labels           P           R      mAP@.5\r\n                 all         128         929       0.748       0.722       0.792        0.56\r\n       2/2     12.2G   0.02799   0.02146  0.007992   0.05744       188       640\r\n               Class      Images      Labels           P           R      mAP@.5\r\n                 all         128         929       0.761       0.716        0.79       0.556\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 543, in <module>\r\n    train(hyp, opt, device, tb_writer)\r\n  File \"train.py\", line 402, in train\r\n    torch.save(ckpt, last)\r\n  File \"/opt/conda/lib/python3.7/site-packages/torch/serialization.py\", line 372, in save\r\n    _save(obj, opened_zipfile, pickle_module, pickle_protocol)\r\n  File \"/opt/conda/lib/python3.7/site-packages/torch/serialization.py\", line 476, in _save\r\n    pickler.dump(obj)\r\n  File \"/opt/conda/lib/python3.7/site-packages/wandb/dummy.py\", line 129, in __getattr__\r\n    return self[attr]\r\n  File \"/opt/conda/lib/python3.7/site-packages/wandb/dummy.py\", line 135, in __getitem__\r\n    dummy = Dummy()\r\n  File \"/opt/conda/lib/python3.7/site-packages/wandb/dummy.py\", line 6, in __init__\r\n    object.__setattr__(self, \"___dict\", {})\r\nRecursionError: maximum recursion depth exceeded while calling a Python object\r\nadd Codeadd Markdown\r\n################################################\r\nIt seems like this error had already been treated in https://github.com/ultralytics/yolov3/issues/1575\r\n\r\nCurrently Kaggle has changed its kernel notebook interface. Maybe this error is because of it.  Colab kernel works fine. \r\n\r\nOne thing to add, when I set wandb login with kaggle notebook, it doesn't show up input box for pasting wandb API credential keys. Any idea to correct this? \r\n\r\n![no_input_box](https://user-images.githubusercontent.com/55954384/117917902-ff65fa80-b324-11eb-9abc-1e7a29f8d759.png)\r\n\r\nBest regards. ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1758/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1753", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1753/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1753/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1753/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1753", "id": 876676375, "node_id": "MDU6SXNzdWU4NzY2NzYzNzU=", "number": 1753, "title": "Change the network architecture of yolo.yaml ", "user": {"login": "ikramelhattab", "id": 48472615, "node_id": "MDQ6VXNlcjQ4NDcyNjE1", "avatar_url": "https://avatars.githubusercontent.com/u/48472615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ikramelhattab", "html_url": "https://github.com/ikramelhattab", "followers_url": "https://api.github.com/users/ikramelhattab/followers", "following_url": "https://api.github.com/users/ikramelhattab/following{/other_user}", "gists_url": "https://api.github.com/users/ikramelhattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/ikramelhattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ikramelhattab/subscriptions", "organizations_url": "https://api.github.com/users/ikramelhattab/orgs", "repos_url": "https://api.github.com/users/ikramelhattab/repos", "events_url": "https://api.github.com/users/ikramelhattab/events{/privacy}", "received_events_url": "https://api.github.com/users/ikramelhattab/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-05T17:23:11Z", "updated_at": "2023-04-21T20:55:24Z", "closed_at": "2021-05-05T22:36:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1753/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1744", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1744/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1744/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1744/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1744", "id": 862642905, "node_id": "MDU6SXNzdWU4NjI2NDI5MDU=", "number": 1744, "title": "Detection doesn't produce any bounding box on test images", "user": {"login": "dshemnv", "id": 48387052, "node_id": "MDQ6VXNlcjQ4Mzg3MDUy", "avatar_url": "https://avatars.githubusercontent.com/u/48387052?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dshemnv", "html_url": "https://github.com/dshemnv", "followers_url": "https://api.github.com/users/dshemnv/followers", "following_url": "https://api.github.com/users/dshemnv/following{/other_user}", "gists_url": "https://api.github.com/users/dshemnv/gists{/gist_id}", "starred_url": "https://api.github.com/users/dshemnv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dshemnv/subscriptions", "organizations_url": "https://api.github.com/users/dshemnv/orgs", "repos_url": "https://api.github.com/users/dshemnv/repos", "events_url": "https://api.github.com/users/dshemnv/events{/privacy}", "received_events_url": "https://api.github.com/users/dshemnv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2021-04-20T09:59:19Z", "updated_at": "2023-04-21T20:55:31Z", "closed_at": "2021-06-16T00:08:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nHi, I'm trying to run detect.py, but the resulting images don't have any bounding boxes on them. I first tried to run it on my local machine within a conda environment and then in the docker container. Everything runs without any error but the resulting images are the same as the test images: no bounding boxes.\r\n\r\n## To Reproduce\r\n\r\nInput:\r\n```\r\nbash weights/download_weights.sh\r\npython detect.py --source data/images --weights yolov3.pt --conf 0.25\r\n```\r\n\r\nOutput:\r\n```\r\nimages in runs/detect/exp are exactly the same as in data/images, without any bounding box.\r\n```\r\n\r\n\r\n## Expected behavior\r\nImages in the runs/detect/exp should have bounding boxes.\r\n\r\n\r\n## Environment\r\n\r\n - OS: Ubuntu 20.04.2, kernel 5.6.0-1054-oem\r\n - GPU: GTX 1650, Driver 460.73.01, CUDA 11.2\r\n- Docker version: 20.10.6, build 370c289\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1744/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1744/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1735", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1735/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1735/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1735/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1735", "id": 854502567, "node_id": "MDU6SXNzdWU4NTQ1MDI1Njc=", "number": 1735, "title": "there is some errors to execute detect.py of yolov3, WARNING: smart bias initialization failure.", "user": {"login": "FOR24KOBE", "id": 37759166, "node_id": "MDQ6VXNlcjM3NzU5MTY2", "avatar_url": "https://avatars.githubusercontent.com/u/37759166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FOR24KOBE", "html_url": "https://github.com/FOR24KOBE", "followers_url": "https://api.github.com/users/FOR24KOBE/followers", "following_url": "https://api.github.com/users/FOR24KOBE/following{/other_user}", "gists_url": "https://api.github.com/users/FOR24KOBE/gists{/gist_id}", "starred_url": "https://api.github.com/users/FOR24KOBE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FOR24KOBE/subscriptions", "organizations_url": "https://api.github.com/users/FOR24KOBE/orgs", "repos_url": "https://api.github.com/users/FOR24KOBE/repos", "events_url": "https://api.github.com/users/FOR24KOBE/events{/privacy}", "received_events_url": "https://api.github.com/users/FOR24KOBE/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-04-09T13:00:08Z", "updated_at": "2023-04-21T20:55:42Z", "closed_at": "2021-05-15T00:07:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your helping !\r\n\r\nWARNING: smart bias initialization failure.\r\nWARNING: smart bias initialization failure.\r\nWARNING: smart bias initialization failure.\r\nModel Summary: 225 layers, 6.26218e+07 parameters, 6.26218e+07 gradients, 117.1 GFLOPS\r\nTraceback (most recent call last):\r\n  File \"/home/jxb/yolov3-master/detect.py\", line 3, in <module>\r\n    from models import *  # set ONNX_EXPORT in models.py\r\n  File \"/home/jxb/yolov3-master/models.py\", line 482, in <module>\r\n    convert(weights='weights/last.pt')\r\n  File \"/home/jxb/yolov3-master/models.py\", line 431, in convert\r\n    model.load_state_dict(torch.load(weights, map_location='cpu')['model'])\r\n  File \"/home/jxb/anaconda3/envs/pytorch/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 1223, in load_state_dict\r\n    raise RuntimeError('Error(s) in loading state_dict for {}:\\n\\t{}'.format(\r\nRuntimeError: Error(s) in loading state_dict for Darknet:\r\n\tMissing key(s) in state_dict: \"total_ops\", \"total_params\", \"module_list.total_ops\", \"module_list.total_params\", \"module_list.0.total_ops\", \"module_list.0.total_params\", \"module_list.1.total_ops\", \"module_list.1.total_params\", \"module_list.2.total_ops\", \"module_list.2.total_params\", \"module_list.3.total_ops\", \"module_list.3.total_params\", \"module_list.4.total_ops\", \"module_list.4.total_params\", \"module_list.5.total_ops\", \"module_list.5.total_params\", \"module_list.6.total_ops\", \"module_list.6.total_params\", \"module_list.7.total_ops\", \"module_list.7.total_params\", \"module_list.8.total_ops\", \"module_list.8.total_params\", \"module_list.9.total_ops\", \"module_list.9.total_params\", \"module_list.10.total_ops\", \"module_list.10.total_params\", \"module_list.11.total_ops\", \"module_list.11.total_params\", \"module_list.12.total_ops\", \"module_list.12.total_params\", \"module_list.13.total_ops\", \"module_list.13.total_params\", \"module_list.14.total_ops\", \"module_list.14.total_params\", \"module_list.15.total_ops\", \"module_list.15.total_params\", \"module_list.16.total_ops\", \"module_list.16.total_params\", \"module_list.17.total_ops\", \"module_list.17.total_params\", \"module_list.18.total_ops\", \"module_list.18.total_params\", \"module_list.19.total_ops\", \"module_list.19.total_params\", \"module_list.20.total_ops\", \"module_list.20.total_params\", \"module_list.21.total_ops\", \"module_list.21.total_params\", \"module_list.22.total_ops\", \"module_list.22.total_params\", \"module_list.23.total_ops\", \"module_list.23.total_params\", \"module_list.24.total_ops\", \"module_list.24.total_params\", \"module_list.25.total_ops\", \"module_list.25.total_params\", \"module_list.26.total_ops\", \"module_list.26.total_params\", \"module_list.27.total_ops\", \"module_list.27.total_params\", \"module_list.28.total_ops\", \"module_list.28.total_params\", \"module_list.29.total_ops\", \"module_list.29.total_params\", \"module_list.30.total_ops\", \"module_list.30.total_params\", \"module_list.31.total_ops\", \"module_list.31.total_params\", \"module_list.32.total_ops\", \"module_list.32.total_params\", \"module_list.33.total_ops\", \"module_list.33.total_params\", \"module_list.34.total_ops\", \"module_list.34.total_params\", \"module_list.35.total_ops\", \"module_list.35.total_params\", \"module_list.36.total_ops\", \"module_list.36.total_params\", \"module_list.37.total_ops\", \"module_list.37.total_params\", \"module_list.38.total_ops\", \"module_list.38.total_params\", \"module_list.39.total_ops\", \"module_list.39.total_params\", \"module_list.40.total_ops\", \"module_list.40.total_params\", \"module_list.41.total_ops\", \"module_list.41.total_params\", \"module_list.42.total_ops\", \"module_list.42.total_params\", \"module_list.43.total_ops\", \"module_list.43.total_params\", \"module_list.44.total_ops\", \"module_list.44.total_params\", \"module_list.45.total_ops\", \"module_list.45.total_params\", \"module_list.46.total_ops\", \"module_list.46.total_params\", \"module_list.47.total_ops\", \"module_list.47.total_params\", \"module_list.48.total_ops\", \"module_list.48.total_params\", \"module_list.49.total_ops\", \"module_list.49.total_params\", \"module_list.50.total_ops\", \"module_list.50.total_params\", \"module_list.51.total_ops\", \"module_list.51.total_params\", \"module_list.52.total_ops\", \"module_list.52.total_params\", \"module_list.53.total_ops\", \"module_list.53.total_params\", \"module_list.54.total_ops\", \"module_list.54.total_params\", \"module_list.55.total_ops\", \"module_list.55.total_params\", \"module_list.56.total_ops\", \"module_list.56.total_params\", \"module_list.57.total_ops\", \"module_list.57.total_params\", \"module_list.58.total_ops\", \"module_list.58.total_params\", \"module_list.59.total_ops\", \"module_list.59.total_params\", \"module_list.60.total_ops\", \"module_list.60.total_params\", \"module_list.61.total_ops\", \"module_list.61.total_params\", \"module_list.62.total_ops\", \"module_list.62.total_params\", \"module_list.63.total_ops\", \"module_list.63.total_params\", \"module_list.64.total_ops\", \"module_list.64.total_params\", \"module_list.65.total_ops\", \"module_list.65.total_params\", \"module_list.66.total_ops\", \"module_list.66.total_params\", \"module_list.67.total_ops\", \"module_list.67.total_params\", \"module_list.68.total_ops\", \"module_list.68.total_params\", \"module_list.69.total_ops\", \"module_list.69.total_params\", \"module_list.70.total_ops\", \"module_list.70.total_params\", \"module_list.71.total_ops\", \"module_list.71.total_params\", \"module_list.72.total_ops\", \"module_list.72.total_params\", \"module_list.73.total_ops\", \"module_list.73.total_params\", \"module_list.74.total_ops\", \"module_list.74.total_params\", \"module_list.75.total_ops\", \"module_list.75.total_params\", \"module_list.76.total_ops\", \"module_list.76.total_params\", \"module_list.77.total_ops\", \"module_list.77.total_params\", \"module_list.79.total_ops\", \"module_list.79.total_params\", \"module_list.81.total_ops\", \"module_list.81.total_params\", \"module_list.83.total_ops\", \"module_list.83.total_params\", \"module_list.84.total_ops\", \"module_list.84.total_params\", \"module_list.85.total_ops\", \"module_list.85.total_params\", \"module_list.86.total_ops\", \"module_list.86.total_params\", \"module_list.87.total_ops\", \"module_list.87.total_params\", \"module_list.88.total_ops\", \"module_list.88.total_params\", \"module_list.89.total_ops\", \"module_list.89.total_params\", \"module_list.90.total_ops\", \"module_list.90.total_params\", \"module_list.91.total_ops\", \"module_list.91.total_params\", \"module_list.93.total_ops\", \"module_list.93.total_params\", \"module_list.94.total_ops\", \"module_list.94.total_params\", \"module_list.95.total_ops\", \"module_list.95.total_params\", \"module_list.96.total_ops\", \"module_list.96.total_params\", \"module_list.97.total_ops\", \"module_list.97.total_params\", \"module_list.98.total_ops\", \"module_list.98.total_params\", \"module_list.99.total_ops\", \"module_list.99.total_params\", \"module_list.100.total_ops\", \"module_list.100.total_params\", \"module_list.101.total_ops\", \"module_list.101.total_params\", \"module_list.102.total_ops\", \"module_list.102.total_params\", \"module_list.103.total_ops\", \"module_list.103.total_params\", \"module_list.105.total_ops\", \"module_list.105.total_params\", \"module_list.106.total_ops\", \"module_list.106.total_params\", \"module_list.107.total_ops\", \"module_list.107.total_params\", \"module_list.108.total_ops\", \"module_list.108.total_params\", \"module_list.109.total_ops\", \"module_list.109.total_params\", \"module_list.110.total_ops\", \"module_list.110.total_params\", \"module_list.111.total_ops\", \"module_list.111.total_params\", \"module_list.112.total_ops\", \"module_list.112.total_params\", \"module_list.113.total_ops\", \"module_list.113.total_params\". \r\n\r\nProcess finished with exit code 1\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1735/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1735/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1721", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1721/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1721/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1721/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1721", "id": 834492128, "node_id": "MDU6SXNzdWU4MzQ0OTIxMjg=", "number": 1721, "title": "trainning error,cv2.error: Caught error in DataLoader worker process 1.", "user": {"login": "futureflsl", "id": 23259315, "node_id": "MDQ6VXNlcjIzMjU5MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/23259315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/futureflsl", "html_url": "https://github.com/futureflsl", "followers_url": "https://api.github.com/users/futureflsl/followers", "following_url": "https://api.github.com/users/futureflsl/following{/other_user}", "gists_url": "https://api.github.com/users/futureflsl/gists{/gist_id}", "starred_url": "https://api.github.com/users/futureflsl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/futureflsl/subscriptions", "organizations_url": "https://api.github.com/users/futureflsl/orgs", "repos_url": "https://api.github.com/users/futureflsl/repos", "events_url": "https://api.github.com/users/futureflsl/events{/privacy}", "received_events_url": "https://api.github.com/users/futureflsl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-18T07:43:43Z", "updated_at": "2021-04-24T00:13:30Z", "closed_at": "2021-04-24T00:13:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I found a issue:https://github.com/ultralytics/yolov3/issues/1067,but it cannot help me.\r\n\r\n\r\nFile \"train.py\", line 542, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 412, in train\r\n    results, maps = test.test(cfg,\r\n  File \"/home/fut/myproj/ebike_person_prune_yolov3_spp_20210318/test.py\", line 64, in test\r\n    for batch_i, (imgs, targets, paths, shapes) in enumerate(tqdm(dataloader, desc=s)):\r\n  File \"/home/fut/miniconda3/lib/python3.8/site-packages/tqdm/std.py\", line 1171, in __iter__\r\n    for obj in iterable:\r\n  File \"/home/fut/miniconda3/lib/python3.8/site-packages/torch/utils/data/dataloader.py\", line 435, in __next__\r\n    data = self._next_data()\r\n  File \"/home/fut/miniconda3/lib/python3.8/site-packages/torch/utils/data/dataloader.py\", line 1065, in _next_data\r\n    return self._process_data(data)\r\n  File \"/home/fut/miniconda3/lib/python3.8/site-packages/torch/utils/data/dataloader.py\", line 1111, in _process_data\r\n    data.reraise()\r\n  File \"/home/fut/miniconda3/lib/python3.8/site-packages/torch/_utils.py\", line 428, in reraise\r\n    raise self.exc_type(msg)\r\ncv2.error: Caught error in DataLoader worker process 1.\r\nOriginal Traceback (most recent call last):\r\n  File \"/home/fut/miniconda3/lib/python3.8/site-packages/torch/utils/data/_utils/worker.py\", line 198, in _worker_loop\r\n    data = fetcher.fetch(index)\r\n  File \"/home/fut/miniconda3/lib/python3.8/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in fetch\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/home/fut/miniconda3/lib/python3.8/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in <listcomp>\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/home/fut/myproj/ebike_person_prune_yolov3_spp_20210318/utils/datasets.py\", line 426, in __getitem__\r\n    img, ratio, padw, padh = letterbox(img, self.batch_shapes[self.batch[index]], mode='rect')\r\n  File \"/home/fut/myproj/ebike_person_prune_yolov3_spp_20210318/utils/datasets.py\", line 643, in letterbox\r\n    img = cv2.copyMakeBorder(img, top, bottom, left, right, cv2.BORDER_CONSTANT, value=color)  # add border\r\ncv2.error: OpenCV(4.5.1) /tmp/pip-req-build-ms668fyv/opencv/modules/core/src/copy.cpp:1445: error: (-215:Assertion failed) top >= 0 && bottom >= 0 && left >= 0 && right >= 0 && _src.dims() <= 2 in function 'copyMakeBorder'\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1721/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1721/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1710", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1710/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1710/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1710/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1710", "id": 825938050, "node_id": "MDU6SXNzdWU4MjU5MzgwNTA=", "number": 1710, "title": "AttributeError: 'str' object has no attribute 'get'", "user": {"login": "githubyaww", "id": 69494162, "node_id": "MDQ6VXNlcjY5NDk0MTYy", "avatar_url": "https://avatars.githubusercontent.com/u/69494162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/githubyaww", "html_url": "https://github.com/githubyaww", "followers_url": "https://api.github.com/users/githubyaww/followers", "following_url": "https://api.github.com/users/githubyaww/following{/other_user}", "gists_url": "https://api.github.com/users/githubyaww/gists{/gist_id}", "starred_url": "https://api.github.com/users/githubyaww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/githubyaww/subscriptions", "organizations_url": "https://api.github.com/users/githubyaww/orgs", "repos_url": "https://api.github.com/users/githubyaww/repos", "events_url": "https://api.github.com/users/githubyaww/events{/privacy}", "received_events_url": "https://api.github.com/users/githubyaww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-03-09T13:34:03Z", "updated_at": "2023-04-21T20:56:06Z", "closed_at": "2021-05-06T00:03:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "When i run the code :python train.py --data  /home/chengyuhong/mmdetection/data/VOCdevkitme/VOC2007/rbc.data --cfg cfg/yolov3-tiny.cfg --epochs 10 --weights \u2018weights/yolov3-tiny.weights\u2019.\r\nI meet the problem as the following :\r\ngithub: Traceback (most recent call last):\r\n  File \"train.py\", line 518, in <module>\r\n    train(hyp, opt, device, tb_writer, wandb)\r\n  File \"train.py\", line 64, in train\r\n    check_dataset(data_dict)  # check\r\n  File \"/home/chengyuhong/yolov3/utils/general.py\", line 106, in check_dataset\r\n    val, s = dict.get('val'), dict.get('download')\r\nAttributeError: 'str' object has no attribute 'get'\r\n\r\nHow can I solve this problem?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1710/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1710/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1706", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1706/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1706/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1706/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1706", "id": 823658334, "node_id": "MDU6SXNzdWU4MjM2NTgzMzQ=", "number": 1706, "title": "minimal code works only inside of yolov3 folder, although force_reload=True, Error: list index out of range", "user": {"login": "Hasankanso", "id": 42151674, "node_id": "MDQ6VXNlcjQyMTUxNjc0", "avatar_url": "https://avatars.githubusercontent.com/u/42151674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hasankanso", "html_url": "https://github.com/Hasankanso", "followers_url": "https://api.github.com/users/Hasankanso/followers", "following_url": "https://api.github.com/users/Hasankanso/following{/other_user}", "gists_url": "https://api.github.com/users/Hasankanso/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hasankanso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hasankanso/subscriptions", "organizations_url": "https://api.github.com/users/Hasankanso/orgs", "repos_url": "https://api.github.com/users/Hasankanso/repos", "events_url": "https://api.github.com/users/Hasankanso/events{/privacy}", "received_events_url": "https://api.github.com/users/Hasankanso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-06T14:08:00Z", "updated_at": "2021-03-06T15:32:37Z", "closed_at": "2021-03-06T15:32:37Z", "author_association": "NONE", "active_lock_reason": null, "body": " - **Current repo**: https://github.com/ultralytics/yolov3.git\r\n - **Common environment**: Docker\r\n\r\n\r\n## \ud83d\udc1b Bug\r\nI have this project (yolov3 repository) in a docker container, the following code is running perfectly:\r\n```\r\nimport torch\r\nfrom PIL import Image\r\n\r\n# Model\r\nmodel = torch.hub.load('ultralytics/yolov3', 'yolov3', pretrained=True, force_reload=True).autoshape()  # for PIL/cv2/np inputs and NMS\r\n\r\n# Images\r\nimg1 = Image.open('zidane.jpg')\r\nimg2 = Image.open('bus.jpg')\r\nimgs = [img1, img2]  # batched list of images\r\n\r\n# Inference\r\nprediction = model(imgs, size=640)  # includes NMS\r\n```\r\nbut when I try it outside of yolov3 folder I get the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/root/.cache/torch/hub/ultralytics_yolov3_master/hubconf.py\", line 37, in create\r\n    attempt_download(fname)  # download if not found locally\r\n  File \"/root/.cache/torch/hub/ultralytics_yolov3_master/utils/google_utils.py\", line 30, in attempt_download\r\n    tag = subprocess.check_output('git tag', shell=True).decode().split()[-1]\r\nIndexError: list index out of range\r\n\r\nThe above exception was the direct cause of the following exception:\r\n...\r\n```\r\nthe full error is to find in the output section.\r\n\r\n## To Reproduce\r\nclone repository, run docker build . -t image_name\r\nrun docker  run --it image_name\r\ncreate a python file with the code mentioned above.\r\nrun it inside of yolov3 folder. and it should work fine.\r\nrun it outside of yolov3 folder. It won't work.\r\n\r\nInput:\r\n```\r\nimport torch\r\nfrom PIL import Image\r\n\r\n# Model\r\nmodel = torch.hub.load('ultralytics/yolov3', 'yolov3', pretrained=True, force_reload=True).autoshape()  # for PIL/cv2/np inputs and NMS\r\n\r\n# Images\r\nimg1 = Image.open('zidane.jpg')\r\nimg2 = Image.open('bus.jpg')\r\nimgs = [img1, img2]  # batched list of images\r\n\r\n# Inference\r\nprediction = model(imgs, size=640)  # includes NMS\r\n```\r\n\r\nOutput:\r\n```\r\nDownloading: \"https://github.com/ultralytics/yolov3/archive/master.zip\" to /root/.cache/torch/hub/master.zip\r\n\r\n                 from  n    params  module                                  arguments                     \r\n  0                -1  1       928  models.common.Conv                      [3, 32, 3, 1]                 \r\n  1                -1  1     18560  models.common.Conv                      [32, 64, 3, 2]                \r\n  2                -1  1     20672  models.common.Bottleneck                [64, 64]                      \r\n  3                -1  1     73984  models.common.Conv                      [64, 128, 3, 2]               \r\n  4                -1  2    164608  models.common.Bottleneck                [128, 128]                    \r\n  5                -1  1    295424  models.common.Conv                      [128, 256, 3, 2]              \r\n  6                -1  8   2627584  models.common.Bottleneck                [256, 256]                    \r\n  7                -1  1   1180672  models.common.Conv                      [256, 512, 3, 2]              \r\n  8                -1  8  10498048  models.common.Bottleneck                [512, 512]                    \r\n  9                -1  1   4720640  models.common.Conv                      [512, 1024, 3, 2]             \r\n 10                -1  4  20983808  models.common.Bottleneck                [1024, 1024]                  \r\n 11                -1  1   5245952  models.common.Bottleneck                [1024, 1024, False]           \r\n 12                -1  1    525312  models.common.Conv                      [1024, 512, [1, 1]]           \r\n 13                -1  1   4720640  models.common.Conv                      [512, 1024, 3, 1]             \r\n 14                -1  1    525312  models.common.Conv                      [1024, 512, 1, 1]             \r\n 15                -1  1   4720640  models.common.Conv                      [512, 1024, 3, 1]             \r\n 16                -2  1    131584  models.common.Conv                      [512, 256, 1, 1]              \r\n 17                -1  1         0  torch.nn.modules.upsampling.Upsample    [None, 2, 'nearest']          \r\n 18           [-1, 8]  1         0  models.common.Concat                    [1]                           \r\n 19                -1  1   1377792  models.common.Bottleneck                [768, 512, False]             \r\n 20                -1  1   1312256  models.common.Bottleneck                [512, 512, False]             \r\n 21                -1  1    131584  models.common.Conv                      [512, 256, 1, 1]              \r\n 22                -1  1   1180672  models.common.Conv                      [256, 512, 3, 1]              \r\n 23                -2  1     33024  models.common.Conv                      [256, 128, 1, 1]              \r\n 24                -1  1         0  torch.nn.modules.upsampling.Upsample    [None, 2, 'nearest']          \r\n 25           [-1, 6]  1         0  models.common.Concat                    [1]                           \r\n 26                -1  1    344832  models.common.Bottleneck                [384, 256, False]             \r\n 27                -1  2    656896  models.common.Bottleneck                [256, 256, False]             \r\n 28      [27, 22, 15]  1    457725  models.yolo.Detect                      [80, [[10, 13, 16, 30, 33, 23], [30, 61, 62, 45, 59, 119], [116, 90, 156, 198, 373, 326]], [256, 512, 1024]]\r\nModel Summary: 333 layers, 61949149 parameters, 61949149 gradients, 156.4 GFLOPS\r\n\r\nTraceback (most recent call last):\r\n  File \"/root/.cache/torch/hub/ultralytics_yolov3_master/hubconf.py\", line 37, in create\r\n    attempt_download(fname)  # download if not found locally\r\n  File \"/root/.cache/torch/hub/ultralytics_yolov3_master/utils/google_utils.py\", line 30, in attempt_download\r\n    tag = subprocess.check_output('git tag', shell=True).decode().split()[-1]\r\nIndexError: list index out of range\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"example.py\", line 5, in <module>\r\n    model = torch.hub.load('ultralytics/yolov3', 'yolov3', pretrained=True, force_reload=True).autoshape()  # for PIL/cv2/np inputs and NMS\r\n  File \"/usr/local/lib/python3.7/dist-packages/torch/hub.py\", line 370, in load\r\n    model = _load_local(repo_or_dir, model, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/dist-packages/torch/hub.py\", line 399, in _load_local\r\n    model = entry(*args, **kwargs)\r\n  File \"/root/.cache/torch/hub/ultralytics_yolov3_master/hubconf.py\", line 65, in yolov3\r\n    return create('yolov3', pretrained, channels, classes, autoshape)\r\n  File \"/root/.cache/torch/hub/ultralytics_yolov3_master/hubconf.py\", line 51, in create\r\n    raise Exception(s) from e\r\nException: Cache maybe be out of date, try force_reload=True. See https://github.com/ultralytics/yolov5/issues/36 for help.\r\n```\r\n\r\n\r\n## Expected behavior\r\nmodel being downloaded and run with no issues\r\n\r\n## Environment\r\n\r\n - OS:  Ubuntu 16.04\r\n - GPU nvidia gtx 1060\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1706/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1706/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1700", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1700/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1700/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1700/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1700", "id": 820009898, "node_id": "MDU6SXNzdWU4MjAwMDk4OTg=", "number": 1700, "title": "ERROR: Unexpected segmentation fault encountered in worker.", "user": {"login": "Andrew05200", "id": 24999657, "node_id": "MDQ6VXNlcjI0OTk5NjU3", "avatar_url": "https://avatars.githubusercontent.com/u/24999657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Andrew05200", "html_url": "https://github.com/Andrew05200", "followers_url": "https://api.github.com/users/Andrew05200/followers", "following_url": "https://api.github.com/users/Andrew05200/following{/other_user}", "gists_url": "https://api.github.com/users/Andrew05200/gists{/gist_id}", "starred_url": "https://api.github.com/users/Andrew05200/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Andrew05200/subscriptions", "organizations_url": "https://api.github.com/users/Andrew05200/orgs", "repos_url": "https://api.github.com/users/Andrew05200/repos", "events_url": "https://api.github.com/users/Andrew05200/events{/privacy}", "received_events_url": "https://api.github.com/users/Andrew05200/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-03-02T13:17:12Z", "updated_at": "2023-04-21T20:56:14Z", "closed_at": "2021-03-03T01:36:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\nI have installed all packages in requirments.txt and downloaded the coco128 dataset from kaggle.\r\nI want to train the coco128.yaml by run `python train.py --img 640 --batch 4 --epochs 5 --data coco128.yaml --weights weights/yolov3-spp.pt`, but I got the error `ERROR: Unexpected segmentation fault encountered in worker.`\r\n\r\n## To Reproduce (REQUIRED)\r\n\r\n ```\r\npython train.py --img 640 --batch 4 --epochs 5 --data coco128.yaml --weights weights/yolov3-spp.pt\r\n\r\n```\r\n\r\nOutput:\r\n```\r\n(mmlab) [root@ain-gpu05 yolov3]# python train.py --img 640 --batch 4 --epochs 5 --data coco128.yaml --weights\r\nYOLOv3  torch 1.7.1 CUDA:0 (GeForce GTX 1080 Ti, 11178.125MB)\r\n\r\nNamespace(adam=False, batch_size=4, bucket='', cache_images=False, cfg='', data='./data/coco128.yaml', device=alse, global_rank=-1, hyp='data/hyp.scratch.yaml', image_weights=False, img_size=[640, 640], local_rank=-1, loscale=False, name='exp', noautoanchor=False, nosave=False, notest=False, project='runs/train', quad=False, rectrain/exp14', single_cls=False, sync_bn=False, total_batch_size=4, weights='weights/yolov3-spp.pt', workers=8,\r\nwandb: Install Weights & Biases for YOLOv3 logging with 'pip install wandb' (recommended)\r\nStart Tensorboard with \"tensorboard --logdir runs/train\", view at http://localhost:6006/\r\nhyperparameters: lr0=0.01, lrf=0.2, momentum=0.937, weight_decay=0.0005, warmup_epochs=3.0, warmup_momentum=0..5, cls_pw=1.0, obj=1.0, obj_pw=1.0, iou_t=0.2, anchor_t=4.0, fl_gamma=0.0, hsv_h=0.015, hsv_s=0.7, hsv_v=0.4,, shear=0.0, perspective=0.0, flipud=0.0, fliplr=0.5, mosaic=1.0, mixup=0.0\r\n\r\n                 from  n    params  module                                  arguments\r\n  0                -1  1       928  models.common.Conv                      [3, 32, 3, 1]\r\n  1                -1  1     18560  models.common.Conv                      [32, 64, 3, 2]\r\n  2                -1  1     20672  models.common.Bottleneck                [64, 64]\r\n  3                -1  1     73984  models.common.Conv                      [64, 128, 3, 2]\r\n  4                -1  2    164608  models.common.Bottleneck                [128, 128]\r\n  5                -1  1    295424  models.common.Conv                      [128, 256, 3, 2]\r\n  6                -1  8   2627584  models.common.Bottleneck                [256, 256]\r\n  7                -1  1   1180672  models.common.Conv                      [256, 512, 3, 2]\r\n  8                -1  8  10498048  models.common.Bottleneck                [512, 512]\r\n  9                -1  1   4720640  models.common.Conv                      [512, 1024, 3, 2]\r\n 10                -1  4  20983808  models.common.Bottleneck                [1024, 1024]\r\n 11                -1  1   5245952  models.common.Bottleneck                [1024, 1024, False]\r\n 12                -1  1   1574912  models.common.SPP                       [1024, 512, [5, 9, 13]]\r\n 13                -1  1   4720640  models.common.Conv                      [512, 1024, 3, 1]\r\n 14                -1  1    525312  models.common.Conv                      [1024, 512, 1, 1]\r\n 15                -1  1   4720640  models.common.Conv                      [512, 1024, 3, 1]\r\n 16                -2  1    131584  models.common.Conv                      [512, 256, 1, 1]\r\n 17                -1  1         0  torch.nn.modules.upsampling.Upsample    [None, 2, 'nearest']\r\n 18           [-1, 8]  1         0  models.common.Concat                    [1]\r\n 19                -1  1   1377792  models.common.Bottleneck                [768, 512, False]\r\n 20                -1  1   1312256  models.common.Bottleneck                [512, 512, False]\r\n 21                -1  1    131584  models.common.Conv                      [512, 256, 1, 1]\r\n 22                -1  1   1180672  models.common.Conv                      [256, 512, 3, 1]\r\n 23                -2  1     33024  models.common.Conv                      [256, 128, 1, 1]\r\n 24                -1  1         0  torch.nn.modules.upsampling.Upsample    [None, 2, 'nearest']\r\n 25           [-1, 6]  1         0  models.common.Concat                    [1]\r\n 26                -1  1    344832  models.common.Bottleneck                [384, 256, False]\r\n 27                -1  2    656896  models.common.Bottleneck                [256, 256, False]\r\n 28      [27, 22, 15]  1    457725  models.yolo.Detect                      [80, [[10, 13, 16, 30, 33, 23], [3, 198, 373, 326]], [256, 512, 1024]]\r\nModel Summary: 342 layers, 62998749 parameters, 62998749 gradients, 157.3 GFLOPS\r\n\r\nTransferred 446/446 items from weights/yolov3-spp.pt\r\nScaled weight_decay = 0.0005\r\nOptimizer groups: 76 .bias, 76 conv.weight, 73 other\r\ntrain: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0 train: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0\r\ntrain: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0\r\ntrain: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0\r\nval: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0 co\r\nval: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0 co\r\nval: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0 co\r\nval: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0 co\r\nval: Scanning '../coco128/labels/train2017.cache' for images and labels... 128 found, 0 missing, 2 empty, 0 co\r\nPlotting labels...\r\n\u6bb5\u9519\u8bef(\u5410\u6838)\r\n(mmlab) [root@ain-gpu05 yolov3]# ERROR: Unexpected segmentation fault encountered in worker.\r\nERROR: Unexpected segmentation fault encountered in worker.\r\nERROR: Unexpected segmentation fault encountered in worker.\r\nERROR: Unexpected segmentation fault encountered in worker.\r\nERROR: Unexpected segmentation fault encountered in worker.\r\nERROR: Unexpected segmentation fault encountered in worker.\r\nERROR: Unexpected segmentation fault encountered in worker.\r\n\r\n```\r\n\r\n\r\n## Expected behavior\r\nI just want to train custom dataset as coco128yaml\r\n\r\n\r\n## Environment\r\n\r\n![image](https://user-images.githubusercontent.com/24999657/109653593-2de48e00-7b9c-11eb-820a-286d1184a2f3.png)\r\n\r\n - OS: [e.g. centOS]\r\n - GPU [GeForce GTX 1080 Ti, 11178.125MB]\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1700/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1698", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1698/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1698/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1698/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1698", "id": 818066051, "node_id": "MDU6SXNzdWU4MTgwNjYwNTE=", "number": 1698, "title": "building docker image error: \"SECURITY WARNING: You are building a Docker image from Windows against a non-Windows Docker host\"", "user": {"login": "Hasankanso", "id": 42151674, "node_id": "MDQ6VXNlcjQyMTUxNjc0", "avatar_url": "https://avatars.githubusercontent.com/u/42151674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hasankanso", "html_url": "https://github.com/Hasankanso", "followers_url": "https://api.github.com/users/Hasankanso/followers", "following_url": "https://api.github.com/users/Hasankanso/following{/other_user}", "gists_url": "https://api.github.com/users/Hasankanso/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hasankanso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hasankanso/subscriptions", "organizations_url": "https://api.github.com/users/Hasankanso/orgs", "repos_url": "https://api.github.com/users/Hasankanso/repos", "events_url": "https://api.github.com/users/Hasankanso/events{/privacy}", "received_events_url": "https://api.github.com/users/Hasankanso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-28T00:41:46Z", "updated_at": "2023-04-21T20:56:19Z", "closed_at": "2021-02-28T00:54:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nWhen building the docker image provided in this repository on windows host machine I get a warning and docker desktop stops working \"unexpectedly\" even though it is just a \"warning\"\r\nthe warning's full message:\r\n` SECURITY WARNING: You are building a Docker image from Windows against a non-Windows Docker host. All files and directories added to build context will have '-rwxr-xr-x' permissions. It is recommended to double check and reset permissions for sensitive files and directories.`\r\n\r\n## To Reproduce\r\nInstall Docker desktop on windows with WSL2 as backend.\r\nclone the repository\r\nbuild the image from the docker file in the repository\r\n\r\nInput:\r\n```\r\ndocker build . -t <image_name>\r\n```\r\n\r\nOutput:\r\n```\r\nSECURITY WARNING: You are building a Docker image from Windows against a non-Windows Docker host. All files and directories added to build context will have '-rwxr-xr-x' permissions. It is recommended to double check and reset permissions for sensitive files and directories.\r\n```\r\n\r\n\r\n## Expected behavior\r\nBuild complete\r\n\r\n\r\n## Environment\r\n\r\n - HOST OS: Windows 10 pro\r\n - DOCKER VERSION: Docker version 20.10.2, build 2291f61\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1698/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1677", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1677/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1677/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1677/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1677", "id": 796543058, "node_id": "MDU6SXNzdWU3OTY1NDMwNTg=", "number": 1677, "title": "YOLOv3 Tiny error while training.", "user": {"login": "sovit-123", "id": 28760357, "node_id": "MDQ6VXNlcjI4NzYwMzU3", "avatar_url": "https://avatars.githubusercontent.com/u/28760357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sovit-123", "html_url": "https://github.com/sovit-123", "followers_url": "https://api.github.com/users/sovit-123/followers", "following_url": "https://api.github.com/users/sovit-123/following{/other_user}", "gists_url": "https://api.github.com/users/sovit-123/gists{/gist_id}", "starred_url": "https://api.github.com/users/sovit-123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sovit-123/subscriptions", "organizations_url": "https://api.github.com/users/sovit-123/orgs", "repos_url": "https://api.github.com/users/sovit-123/repos", "events_url": "https://api.github.com/users/sovit-123/events{/privacy}", "received_events_url": "https://api.github.com/users/sovit-123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-01-29T03:19:44Z", "updated_at": "2023-04-21T20:56:31Z", "closed_at": "2021-03-07T00:33:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was running the [Google colab tutorial](https://colab.research.google.com/github/ultralytics/yolov3/blob/master/tutorial.ipynb#scrollTo=BSgFCAcMbk1R) for the repo and  in the last block of code when training the YOLOv3-tiny part, I got this error.\r\n\r\nOverriding model.yaml nc=80 with nc=20\r\n\r\n                 from  n    params  module                                  arguments                     \r\n  0                -1  1       464  models.common.Conv                      [3, 16, 3, 1]                 \r\n  1                -1  1         0  torch.nn.modules.pooling.MaxPool2d      [2, 2, 0]                     \r\n  2                -1  1      4672  models.common.Conv                      [16, 32, 3, 1]                \r\n  3                -1  1         0  torch.nn.modules.pooling.MaxPool2d      [2, 2, 0]                     \r\n  4                -1  1     18560  models.common.Conv                      [32, 64, 3, 1]                \r\n  5                -1  1         0  torch.nn.modules.pooling.MaxPool2d      [2, 2, 0]                     \r\n  6                -1  1     73984  models.common.Conv                      [64, 128, 3, 1]               \r\n  7                -1  1         0  torch.nn.modules.pooling.MaxPool2d      [2, 2, 0]                     \r\n  8                -1  1    295424  models.common.Conv                      [128, 256, 3, 1]              \r\n  9                -1  1         0  torch.nn.modules.pooling.MaxPool2d      [2, 2, 0]                     \r\n 10                -1  1   1180672  models.common.Conv                      [256, 512, 3, 1]              \r\nTraceback (most recent call last):\r\n  File \"train.py\", line 518, in <module>\r\n    train(hyp, opt, device, tb_writer, wandb)\r\n  File \"train.py\", line 79, in train\r\n    model = Model(opt.cfg or ckpt['model'].yaml, ch=3, nc=nc).to(device)  # create\r\n  File \"/content/yolov3/models/yolo.py\", line 81, in __init__\r\n    self.model, self.save = parse_model(deepcopy(self.yaml), ch=[ch])  # model, savelist\r\n  File \"/content/yolov3/models/yolo.py\", line 253, in parse_model\r\n    m_ = nn.Sequential(*[m(*args) for _ in range(n)]) if n > 1 else m(*args)  # module\r\nTypeError: __init__() takes 2 positional arguments but 5 were given\r\nInternal process exited", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1677/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1668", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1668/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1668/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1668/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1668", "id": 788924298, "node_id": "MDU6SXNzdWU3ODg5MjQyOTg=", "number": 1668, "title": "I cannot downgrade Yolo V3 to opset 7, 8 or 9", "user": {"login": "raulsf6", "id": 28561912, "node_id": "MDQ6VXNlcjI4NTYxOTEy", "avatar_url": "https://avatars.githubusercontent.com/u/28561912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raulsf6", "html_url": "https://github.com/raulsf6", "followers_url": "https://api.github.com/users/raulsf6/followers", "following_url": "https://api.github.com/users/raulsf6/following{/other_user}", "gists_url": "https://api.github.com/users/raulsf6/gists{/gist_id}", "starred_url": "https://api.github.com/users/raulsf6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raulsf6/subscriptions", "organizations_url": "https://api.github.com/users/raulsf6/orgs", "repos_url": "https://api.github.com/users/raulsf6/repos", "events_url": "https://api.github.com/users/raulsf6/events{/privacy}", "received_events_url": "https://api.github.com/users/raulsf6/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-01-19T11:01:17Z", "updated_at": "2023-04-21T20:56:37Z", "closed_at": "2021-02-26T00:32:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nI'm trying to export YoloV3 to ONNX to be used in a UWP project. The UWP has only support for 7, 8 and 9 opset versions, so I modified the file export.py to produce the opset version I need.\r\n\r\n```\r\ntorch.onnx.export(model, img, f, verbose=False, opset_version=9, input_names=['images'],\r\n                          output_names=['classes', 'boxes'] if y is None else ['output'])\r\n```\r\n\r\nWhen I try to export the model, I get an error.\r\n\r\n## To Reproduce\r\n\r\nTo reproduce the error, modify the line mentioned above in the export.py file and execute\r\n\r\n```\r\npython models/export.py --weights yolov3.pt --img 640 --batch 1\r\n```\r\n\r\nI get the same error in both, yolov3 and tiny-yolov3\r\n\r\n\r\nOutput:\r\n```\r\nStarting ONNX export with onnx 1.8.0...\r\n/usr/local/lib/python3.6/dist-packages/torch/onnx/symbolic_helper.py:267: UserWarning: You are trying to export the model with onnx:Upsample for ONNX opset version 9. This operator might cause results to not match the expected results by PyTorch.\r\nONNX's Upsample/Resize operator did not match Pytorch's Interpolation until opset 11. Attributes to determine how to transform the input were added in onnx:Resize in opset 11 to support Pytorch's behavior (like coordinate_transformation_mode and nearest_mode).\r\nWe recommend using opset 11 and above for models using this operator. \r\n  \"\" + str(_export_onnx_opset_version) + \". \"\r\nONNX export success, saved as yolov3.onnx\r\n```\r\n\r\nIt seems that the export has been made succesfuly but when I try to import it in my UWP project the onnxruntime throws this error\r\n\r\n```\r\n'[ShapeInferenceError] Number of elements of input 'scales' must be same as rank of input 'X' and element type must be float.'.\r\n```\r\n\r\nI have to say I managed to import tiny-yolov2 from [here](https://github.com/onnx/models) in my project. Is it possible to downgrade YoloV3 opset? Or should I look for a way to train YoloV2?\r\n\r\n## Expected behavior\r\nA succesful export\r\n\r\n\r\n## Environment\r\nGoogle Colab\r\n\r\n - OS: Google Colab\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1668/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1667", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1667/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1667/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1667/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1667", "id": 788120889, "node_id": "MDU6SXNzdWU3ODgxMjA4ODk=", "number": 1667, "title": "[export.py][SOLVED] Parse YOLO Onnx outputs. ", "user": {"login": "moured", "id": 67905762, "node_id": "MDQ6VXNlcjY3OTA1NzYy", "avatar_url": "https://avatars.githubusercontent.com/u/67905762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moured", "html_url": "https://github.com/moured", "followers_url": "https://api.github.com/users/moured/followers", "following_url": "https://api.github.com/users/moured/following{/other_user}", "gists_url": "https://api.github.com/users/moured/gists{/gist_id}", "starred_url": "https://api.github.com/users/moured/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moured/subscriptions", "organizations_url": "https://api.github.com/users/moured/orgs", "repos_url": "https://api.github.com/users/moured/repos", "events_url": "https://api.github.com/users/moured/events{/privacy}", "received_events_url": "https://api.github.com/users/moured/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-18T10:03:40Z", "updated_at": "2021-03-01T00:33:08Z", "closed_at": "2021-03-01T00:33:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n****In summary :** \r\nWe would appreciate if you can share an example of exporting trained yolo .pt then using the best weights in onnxruntime to do inference including pre-process a dummy image and parsing the outputs.**\r\n\r\n**Details :**\r\nI trained yolov3-tiny recently. Then, I wanted to use the .onnx format. When I do the inference with .onnx I get output shape (1,16,16,40) and (1,32,32,40) while in pytorch it is (1,1440,40) . I have 35 classes and I know 40 = 35 + 5 (xywh score) but\r\nhow can I **parse the output** for the onnx case ? Can you please provide any dummy example on parsing trained yolo .pt then converted then using onnx we get detections.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1667/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1667/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1650", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1650/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1650/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1650/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1650", "id": 782316401, "node_id": "MDU6SXNzdWU3ODIzMTY0MDE=", "number": 1650, "title": "wandb: ERROR Error while calling W&B API: Error 1062: Duplicate entry '189160-gbp6y2en' for key 'PRIMARY' (<Response [409]>)", "user": {"login": "awsaf49", "id": 36858976, "node_id": "MDQ6VXNlcjM2ODU4OTc2", "avatar_url": "https://avatars.githubusercontent.com/u/36858976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/awsaf49", "html_url": "https://github.com/awsaf49", "followers_url": "https://api.github.com/users/awsaf49/followers", "following_url": "https://api.github.com/users/awsaf49/following{/other_user}", "gists_url": "https://api.github.com/users/awsaf49/gists{/gist_id}", "starred_url": "https://api.github.com/users/awsaf49/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/awsaf49/subscriptions", "organizations_url": "https://api.github.com/users/awsaf49/orgs", "repos_url": "https://api.github.com/users/awsaf49/repos", "events_url": "https://api.github.com/users/awsaf49/events{/privacy}", "received_events_url": "https://api.github.com/users/awsaf49/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-01-08T18:30:35Z", "updated_at": "2023-04-21T20:56:50Z", "closed_at": "2021-01-09T07:04:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Whenever I try to create a new run (`--name`) on the same `--project` in YOLOv3 I get this error, `wandb: ERROR Error while calling W&B API: Error 1062: Duplicate entry '189160-gbp6y2en' for key 'PRIMARY' (<Response [409]>)`. Changing the `--project` name temporarily solves the problem but then a new project needs to be opened for each run. \r\n\r\nBut YOLOv5 runs smoothly without any trouble. I even tried training `v3` using the ` v5` repo but was getting the same error.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1650/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1650/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1634", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1634/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1634/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1634/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1634", "id": 777520902, "node_id": "MDU6SXNzdWU3Nzc1MjA5MDI=", "number": 1634, "title": "yolov3-tiny.yaml is not working with yolov5 repo ", "user": {"login": "moured", "id": 67905762, "node_id": "MDQ6VXNlcjY3OTA1NzYy", "avatar_url": "https://avatars.githubusercontent.com/u/67905762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moured", "html_url": "https://github.com/moured", "followers_url": "https://api.github.com/users/moured/followers", "following_url": "https://api.github.com/users/moured/following{/other_user}", "gists_url": "https://api.github.com/users/moured/gists{/gist_id}", "starred_url": "https://api.github.com/users/moured/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moured/subscriptions", "organizations_url": "https://api.github.com/users/moured/orgs", "repos_url": "https://api.github.com/users/moured/repos", "events_url": "https://api.github.com/users/moured/events{/privacy}", "received_events_url": "https://api.github.com/users/moured/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-01-02T20:33:01Z", "updated_at": "2023-04-21T20:57:03Z", "closed_at": "2021-01-02T22:11:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nI just cloned the yolov5 repo then added yolov3-tiny.yaml from yolov3 repo. But, it is not working. Details below.\r\n\r\n## To Reproduce (REQUIRED)\r\n\r\nInput:\r\n```\r\npython3 train.py --data models_pool/yolov3_tiny/data.yaml --img 256 --batch 4 --epochs 100 --cfg models_pool/yolov3_tiny/model.yaml --weights ''\r\n```\r\n## Output:\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 538, in <module>\r\n    train(hyp, opt, device, tb_writer, wandb)\r\n  File \"train.py\", line 93, in train\r\n    model = Model(opt.cfg, ch=3, nc=nc).to(device)  # create\r\n  File \"/home/yolov5/models/yolo.py\", line 85, in __init__\r\n    self.model, self.save = parse_model(deepcopy(self.yaml), ch=[ch])  # model, savelist\r\n  File \"/home/yolov5/models/yolo.py\", line 253, in parse_model\r\n    m_ = nn.Sequential(*[m(*args) for _ in range(n)]) if n > 1 else m(*args)  # module\r\nTypeError: __init__() takes 2 positional arguments but 5 were given\r\nI0102 20:26:53.518604 140082319169344 internal.py:138] Internal process exited\r\n\r\n## Environment\r\nubuntu 18.04 , GPU. ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1634/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1634/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1633", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1633/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1633/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1633/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1633", "id": 776567261, "node_id": "MDU6SXNzdWU3NzY1NjcyNjE=", "number": 1633, "title": "Greeting is not working?", "user": {"login": "musavveer", "id": 62888562, "node_id": "MDQ6VXNlcjYyODg4NTYy", "avatar_url": "https://avatars.githubusercontent.com/u/62888562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/musavveer", "html_url": "https://github.com/musavveer", "followers_url": "https://api.github.com/users/musavveer/followers", "following_url": "https://api.github.com/users/musavveer/following{/other_user}", "gists_url": "https://api.github.com/users/musavveer/gists{/gist_id}", "starred_url": "https://api.github.com/users/musavveer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/musavveer/subscriptions", "organizations_url": "https://api.github.com/users/musavveer/orgs", "repos_url": "https://api.github.com/users/musavveer/repos", "events_url": "https://api.github.com/users/musavveer/events{/privacy}", "received_events_url": "https://api.github.com/users/musavveer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-30T17:50:29Z", "updated_at": "2020-12-30T17:51:26Z", "closed_at": "2020-12-30T17:51:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1633/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1621", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1621/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1621/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1621/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1621", "id": 773545398, "node_id": "MDU6SXNzdWU3NzM1NDUzOTg=", "number": 1621, "title": "Converting ONNX errror", "user": {"login": "erolgerceker", "id": 58424097, "node_id": "MDQ6VXNlcjU4NDI0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/58424097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erolgerceker", "html_url": "https://github.com/erolgerceker", "followers_url": "https://api.github.com/users/erolgerceker/followers", "following_url": "https://api.github.com/users/erolgerceker/following{/other_user}", "gists_url": "https://api.github.com/users/erolgerceker/gists{/gist_id}", "starred_url": "https://api.github.com/users/erolgerceker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erolgerceker/subscriptions", "organizations_url": "https://api.github.com/users/erolgerceker/orgs", "repos_url": "https://api.github.com/users/erolgerceker/repos", "events_url": "https://api.github.com/users/erolgerceker/events{/privacy}", "received_events_url": "https://api.github.com/users/erolgerceker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-12-23T07:16:01Z", "updated_at": "2023-04-21T20:57:15Z", "closed_at": "2021-01-29T00:36:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "while trying to convert to .onnx model. i got this error\r\n\r\nModuleNotFoundError: No module named 'yaml'", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1621/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1608", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1608/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1608/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1608/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1608", "id": 761811931, "node_id": "MDU6SXNzdWU3NjE4MTE5MzE=", "number": 1608, "title": "Unable to test / detect Yolov4-Tiny  trained on Darknet ", "user": {"login": "MuhammadAsadJaved", "id": 28862708, "node_id": "MDQ6VXNlcjI4ODYyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/28862708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MuhammadAsadJaved", "html_url": "https://github.com/MuhammadAsadJaved", "followers_url": "https://api.github.com/users/MuhammadAsadJaved/followers", "following_url": "https://api.github.com/users/MuhammadAsadJaved/following{/other_user}", "gists_url": "https://api.github.com/users/MuhammadAsadJaved/gists{/gist_id}", "starred_url": "https://api.github.com/users/MuhammadAsadJaved/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MuhammadAsadJaved/subscriptions", "organizations_url": "https://api.github.com/users/MuhammadAsadJaved/orgs", "repos_url": "https://api.github.com/users/MuhammadAsadJaved/repos", "events_url": "https://api.github.com/users/MuhammadAsadJaved/events{/privacy}", "received_events_url": "https://api.github.com/users/MuhammadAsadJaved/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-11T02:35:49Z", "updated_at": "2021-01-16T01:09:09Z", "closed_at": "2021-01-16T01:09:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n## \ud83d\udc1b Bug\r\nI have trained a Yolov4-tiny model for 2 classes. Now I am trying to test/detect that model in your project. I am using the same .cfg, weights, data and names. \r\n\r\n\r\n\r\n## To Reproduce (REQUIRED)\r\n\r\nInput:\r\n```\r\nython test.py --cfg V4_Tiny_Security/yolov4-tiny.cfg  --data V4_Tiny_Security/v4tiny_anchor-Security-visual.data --weights V4_Tiny_Security/yolov4-tiny-Security-visual_last.weights \r\n\r\n```\r\n\r\nOutput:\r\n```\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 254, in <module>\r\n    test(opt.cfg,\r\n  File \"test.py\", line 35, in test\r\n    model = Darknet(cfg, imgsz)\r\n  File \"/home/abc/yolov3/models.py\", line 231, in __init__\r\n    self.module_defs = parse_model_cfg(cfg)\r\n  File \"/home/abc/yolov3/utils/parse_config.py\", line 50, in parse_model_cfg\r\n    assert not any(u), \"Unsupported fields %s in %s. See https://github.com/ultralytics/yolov3/issues/631\" % (u, path)\r\nAssertionError: Unsupported fields ['group_id', 'resize'] in V4_Tiny_Security/yolov4-tiny.cfg. See https://github.com/ultralytics/yolov3/issues/631\r\n\r\n```\r\n\r\n\r\n## Expected behavior\r\nI have tried the issue #631  and #1350  but that solution is old and this project is updated, so that changes are not applicable.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: Ubuntu\r\n - GPU: TITAN V\r\n\r\n\r\n## Additional context\r\nHow I can do this task? Do I need to train model using this repo with your official yolov4-tiny.cfg?  \r\n\r\nNote: I am able to test/detect  Yolov3 without any problem, the problem is only with Yolov4-Tiny\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1608/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1581", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1581/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1581/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1581/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1581", "id": 754990410, "node_id": "MDU6SXNzdWU3NTQ5OTA0MTA=", "number": 1581, "title": "AttributeError: 'str' object has no attribute 'get'", "user": {"login": "h-jayce", "id": 64547723, "node_id": "MDQ6VXNlcjY0NTQ3NzIz", "avatar_url": "https://avatars.githubusercontent.com/u/64547723?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h-jayce", "html_url": "https://github.com/h-jayce", "followers_url": "https://api.github.com/users/h-jayce/followers", "following_url": "https://api.github.com/users/h-jayce/following{/other_user}", "gists_url": "https://api.github.com/users/h-jayce/gists{/gist_id}", "starred_url": "https://api.github.com/users/h-jayce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h-jayce/subscriptions", "organizations_url": "https://api.github.com/users/h-jayce/orgs", "repos_url": "https://api.github.com/users/h-jayce/repos", "events_url": "https://api.github.com/users/h-jayce/events{/privacy}", "received_events_url": "https://api.github.com/users/h-jayce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-12-02T06:35:41Z", "updated_at": "2023-04-21T20:57:34Z", "closed_at": "2021-01-07T00:52:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "`python train.py --data data/tri.data --cfg cfg/yolov3-tiny.cfg --epochs 10`\r\n```Using torch 1.7.0 CPU\r\n\r\nNamespace(adam=False, batch_size=16, bucket='', cache_images=False, cfg='cfg/yolov3-tiny.cfg', data='data/tri.data', device='', epochs=10, evolve=False, exist_ok=False, global_rank=-1, hyp='data/hyp.scratch.yaml', image_weights=False, img_size=[640, 640], local_rank=-1, log_imgs=16, multi_scale=False, name='exp', noautoanchor=False, nosave=False, notest=False, project='runs/train', rect=False, resume=False, save_dir='runs/train/exp6', single_cls=False, sync_bn=False, total_batch_size=16, weights='yolov3.pt', workers=8, world_size=1)\r\nStart Tensorboard with \"tensorboard --logdir runs/train\", view at http://localhost:6006/\r\nHyperparameters {'lr0': 0.01, 'lrf': 0.2, 'momentum': 0.937, 'weight_decay': 0.0005, 'warmup_epochs': 3.0, 'warmup_momentum': 0.8, 'warmup_bias_lr': 0.1, 'box': 0.05, 'cls': 0.5, 'cls_pw': 1.0, 'obj': 1.0, 'obj_pw': 1.0, 'iou_t': 0.2, 'anchor_t': 4.0, 'fl_gamma': 0.0, 'hsv_h': 0.015, 'hsv_s': 0.7, 'hsv_v': 0.4, 'degrees': 0.0, 'translate': 0.1, 'scale': 0.5, 'shear': 0.0, 'perspective': 0.0, 'flipud': 0.0, 'fliplr': 0.5, 'mosaic': 1.0, 'mixup': 0.0}\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 492, in <module>\r\n    train(hyp, opt, device, tb_writer, wandb)\r\n  File \"train.py\", line 70, in train\r\n    check_dataset(data_dict)  # check\r\n  File \"/home/xx/yolov3/utils/general.py\", line 77, in check_dataset\r\n    val, s = dict.get('val'), dict.get('download')\r\nAttributeError: 'str' object has no attribute 'get'```\r\n\r\n\r\nHello! Code as above, I train such a situation, I hope you can help make a suggestion, thank you!)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1581/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1575", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1575/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1575/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1575/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1575", "id": 752237054, "node_id": "MDU6SXNzdWU3NTIyMzcwNTQ=", "number": 1575, "title": "W&B Kaggle Error: RecursionError: maximum recursion depth exceeded while calling a Python object", "user": {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-11-27T12:59:26Z", "updated_at": "2020-12-07T01:28:49Z", "closed_at": "2020-12-07T01:28:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When running https://www.kaggle.com/ultralytics/yolov3 notebook, training YOLOv3-tiny after running wandb disabled, I get the following error, which seems to originate in the wandb package. Notebook has been saved in this state to easily reproduce. \r\n\r\n@AyushExel could you take a look at this and inform the right people?\r\n\r\n```bash\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 492, in <module>\r\n    train(hyp, opt, device, tb_writer, wandb)\r\n  File \"train.py\", line 379, in train\r\n    torch.save(ckpt, last)\r\n  File \"/opt/conda/lib/python3.7/site-packages/torch/serialization.py\", line 372, in save\r\n    _save(obj, opened_zipfile, pickle_module, pickle_protocol)\r\n  File \"/opt/conda/lib/python3.7/site-packages/torch/serialization.py\", line 476, in _save\r\n    pickler.dump(obj)\r\n  File \"/opt/conda/lib/python3.7/site-packages/wandb/dummy.py\", line 129, in __getattr__\r\n    return self[attr]\r\n  File \"/opt/conda/lib/python3.7/site-packages/wandb/dummy.py\", line 135, in __getitem__\r\n    dummy = Dummy()\r\n  File \"/opt/conda/lib/python3.7/site-packages/wandb/dummy.py\", line 6, in __init__\r\n    object.__setattr__(self, \"___dict\", {})\r\nRecursionError: maximum recursion depth exceeded while calling a Python object\r\n```\r\n\r\n![Screenshot 2020-11-27 at 13 57 32](https://user-images.githubusercontent.com/26833433/100451977-8fd2ba80-30b8-11eb-8299-77a816943c2d.jpg)\r\n\r\n## Reproduce\r\n\r\n1. Go to https://www.kaggle.com/ultralytics/yolov3 and run Setup cell.\r\n2. Run Train cell.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1575/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1567", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1567/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1567/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1567/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1567", "id": 751294129, "node_id": "MDU6SXNzdWU3NTEyOTQxMjk=", "number": 1567, "title": "The cfg file doesn't work.", "user": {"login": "Frank-Dz", "id": 55009565, "node_id": "MDQ6VXNlcjU1MDA5NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/55009565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Frank-Dz", "html_url": "https://github.com/Frank-Dz", "followers_url": "https://api.github.com/users/Frank-Dz/followers", "following_url": "https://api.github.com/users/Frank-Dz/following{/other_user}", "gists_url": "https://api.github.com/users/Frank-Dz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Frank-Dz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Frank-Dz/subscriptions", "organizations_url": "https://api.github.com/users/Frank-Dz/orgs", "repos_url": "https://api.github.com/users/Frank-Dz/repos", "events_url": "https://api.github.com/users/Frank-Dz/events{/privacy}", "received_events_url": "https://api.github.com/users/Frank-Dz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-11-26T05:22:33Z", "updated_at": "2020-11-26T09:49:06Z", "closed_at": "2020-11-26T09:49:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to train the network with 1 channel input and 4 classes.\r\nI followed\uff1a\r\n\r\n[https://github.com/ultralytics/yolov3/issues/192](https://github.com/ultralytics/yolov3/issues/192)\r\n\r\n```yolov3-spp.cfg (optional). By default each YOLO layer has 255 outputs: 85 values per anchor [4 box coordinates + 1 object confidence + 80 class confidences], times 3 anchors. Update the settings to filters=[5 + n] * 3 and classes=n, where n is your class count. This modification should be made in all 3 YOLO layers.\r\n```\r\nHere, I modified the classes= 4. and change the filter. But my network still takes 3 channels until I set \r\n```\r\n    output_filters = [1]  # input channels\r\n```\r\nin model.py\r\n\r\nSeems like the ``` yolov3-spp.cfg ``` does not make a difference for model creation.\r\nIf it is not the right way, how can we modify the training scheme to support 1 channel input and 4 classes?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1567/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1566", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1566/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1566/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1566/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1566", "id": 751292400, "node_id": "MDU6SXNzdWU3NTEyOTI0MDA=", "number": 1566, "title": "The", "user": {"login": "Frank-Dz", "id": 55009565, "node_id": "MDQ6VXNlcjU1MDA5NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/55009565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Frank-Dz", "html_url": "https://github.com/Frank-Dz", "followers_url": "https://api.github.com/users/Frank-Dz/followers", "following_url": "https://api.github.com/users/Frank-Dz/following{/other_user}", "gists_url": "https://api.github.com/users/Frank-Dz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Frank-Dz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Frank-Dz/subscriptions", "organizations_url": "https://api.github.com/users/Frank-Dz/orgs", "repos_url": "https://api.github.com/users/Frank-Dz/repos", "events_url": "https://api.github.com/users/Frank-Dz/events{/privacy}", "received_events_url": "https://api.github.com/users/Frank-Dz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-26T05:18:14Z", "updated_at": "2023-04-21T20:57:41Z", "closed_at": "2020-11-26T05:22:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before submitting a bug report, please be aware that your issue **must be reproducible** with all of the following, otherwise it is non-actionable, and we can not help you:\r\n - **Current repo**: run `git fetch && git status -uno` to check and `git pull` to update repo\r\n - **Common dataset**: coco2017.data or coco64.data\r\n - **Common environment**: Colab, Google Cloud, or Docker image. See https://github.com/ultralytics/yolov3#reproduce-our-environment\r\n \r\nIf this is a custom dataset/training question you **must include** your `train*.jpg`, `test*.jpg` and `results.png` figures, or we can not help you. You can generate these with `utils.plot_results()`.\r\n\r\n\r\n## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n\r\n\r\n## To Reproduce (REQUIRED)\r\n\r\nInput:\r\n```\r\nimport torch\r\n\r\na = torch.tensor([5])\r\nc = a / 0\r\n```\r\n\r\nOutput:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/glennjocher/opt/anaconda3/envs/env1/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3331, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-5-be04c762b799>\", line 5, in <module>\r\n    c = a / 0\r\nRuntimeError: ZeroDivisionError\r\n```\r\n\r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: [e.g. Ubuntu]\r\n - GPU [e.g. 2080 Ti]\r\n\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1566/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1554", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1554/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1554/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1554/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1554", "id": 742312550, "node_id": "MDU6SXNzdWU3NDIzMTI1NTA=", "number": 1554, "title": "Remove cached labels before training", "user": {"login": "nuqz", "id": 23371089, "node_id": "MDQ6VXNlcjIzMzcxMDg5", "avatar_url": "https://avatars.githubusercontent.com/u/23371089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nuqz", "html_url": "https://github.com/nuqz", "followers_url": "https://api.github.com/users/nuqz/followers", "following_url": "https://api.github.com/users/nuqz/following{/other_user}", "gists_url": "https://api.github.com/users/nuqz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nuqz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nuqz/subscriptions", "organizations_url": "https://api.github.com/users/nuqz/orgs", "repos_url": "https://api.github.com/users/nuqz/repos", "events_url": "https://api.github.com/users/nuqz/events{/privacy}", "received_events_url": "https://api.github.com/users/nuqz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-11-13T09:41:24Z", "updated_at": "2023-04-21T20:57:50Z", "closed_at": "2020-12-19T00:35:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nMy custom dataset is too large to fit into RAM with `--cache-images` option enabled. So, I decided to split it into multiple parts and run training procedure sequentially with each part. On the second pass, I found that **mAP** and **F1** dropped significantly (mAP ~ 0.9 -> 0.008). When I started to figure out what was going on, I discovered that the labels are not cached again and I need to delete them like this:\r\n\r\n```\r\n!rm -f data/my_custom_dataset/training/labels.npy\r\n!rm -f data/my_custom_dataset/validation/labels.npy\r\n```\r\n\r\n## To Reproduce\r\n\r\nCreate a small custom dataset and split it into multiple parts, then train model sequentially with each part.\r\n\r\n```\r\n$ python train.py ... --data data/my_custom_dataset/part1.data --epochs 75 ...\r\n$ python train.py ... --data data/my_custom_dataset/part2.data --epochs 150 --weights weights/best.pt ...\r\n```\r\n\r\n## Expected behavior\r\n\r\nInvalidate labels cache for subsequent runs. \r\n\r\n## Environment\r\n\r\nGoogle Colab free tier.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1554/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1554/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1551", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1551/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1551/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1551/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1551", "id": 737545624, "node_id": "MDU6SXNzdWU3Mzc1NDU2MjQ=", "number": 1551, "title": "Index out of bounds error", "user": {"login": "lipond", "id": 7008933, "node_id": "MDQ6VXNlcjcwMDg5MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/7008933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lipond", "html_url": "https://github.com/lipond", "followers_url": "https://api.github.com/users/lipond/followers", "following_url": "https://api.github.com/users/lipond/following{/other_user}", "gists_url": "https://api.github.com/users/lipond/gists{/gist_id}", "starred_url": "https://api.github.com/users/lipond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lipond/subscriptions", "organizations_url": "https://api.github.com/users/lipond/orgs", "repos_url": "https://api.github.com/users/lipond/repos", "events_url": "https://api.github.com/users/lipond/events{/privacy}", "received_events_url": "https://api.github.com/users/lipond/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-11-06T07:42:05Z", "updated_at": "2023-04-21T20:57:52Z", "closed_at": "2020-11-12T10:17:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Below is the error I printed, but maybe it can not be reproduced because of my personal dataset and configure file. Anyway, If you guys can figure it out according to the errors, I will be grateful. Thanks.\r\n-----------------------------------------------------------------------------------------\r\nNOTE: for convenience of printing the accurate error, I set the arg \"device\" to \"cpu\".\r\n-----------------------------------------------------------------------------------------\r\npi shape:  torch.Size([16, 3, 18, 32, 7])\r\nb:  tensor([ 0,  0,  0,  1,  1,  1,  2,  2,  2,  2,  2,  3,  3,  4,  5,  5,  5,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8, 12, 12,  0,  0,  0,  1,  1,  1,  2,  2,  2,  2,  2,  3,  3,  4,  5,  5,  5,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8, 12, 12,  0,  0,\r\n         0,  2,  2,  2,  2,  2,  4,  5,  8,  8,  8,  8,  8,  8,  8,  8])\r\nb shape:  torch.Size([94])\r\na:  tensor([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2])\r\na shape:  torch.Size([94])\r\ngj:  tensor([ 8,  9,  9, 13, 13, 13, 10, 10, 12, 12, 12,  7,  6,  7,  9,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  9,  8,  8,  8,  8,  9,  8,  9,  8,  9,  8,  7,  8,  8,  9,  9, 13, 13, 13, 10, 10, 12, 12, 12,  7,  6,  7,  9,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  9,  8,  8,  8,  8,  9,  8,  9,  8,  9,  8,  7,  8,  8,  9,\r\n         9, 10, 10, 12, 12, 12,  7,  9,  8,  8,  9,  8,  9,  9,  8,  9])\r\ngj shape:  torch.Size([94])\r\ngi:  tensor([13, 17, 10, 10, 10, 10, 12, 24, 23, 23, 23,  0,  2, 12, 32, 25, 27, 24, 25, 16, 16, 11, 11, 13, 14, 13, 19,  9,  6,  7,  4,  6,  6,  3,  4, 21, 28, 28, 13, 17, 10, 10, 10, 10, 12, 24, 23, 23, 23,  0,  2, 12, 32, 25, 27, 24, 25, 16, 16, 11, 11, 13, 14, 13, 19,  9,  6,  7,  4,  6,  6,  3,  4, 21, 28, 28, 13, 17,\r\n        10, 12, 24, 23, 23, 23, 12, 32, 25, 14, 13,  7,  4,  6,  3,  4])\r\ngi shape:  torch.Size([94])\r\n               Class    Images   Targets         P         R   mAP@0.5        F1:   0%|\u258e                                                                                          | 2/571 [00:09<44:10,  4.66s/it]\r\nTraceback (most recent call last):\r\n  File \"../../train.py\", line 432, in <module>\r\n    train(hyp)  # train normally\r\n  File \"../../train.py\", line 334, in train\r\n    multi_label=ni > n_burn)\r\n  File \"/home/sanjie.lp/projects/ul_yolov3/test.py\", line 97, in test\r\n    loss += compute_loss(train_out, targets, model)[1][:3]  # GIoU, obj, cls\r\n  File \"/home/sanjie.lp/projects/ul_yolov3/utils/utils.py\", line 396, in compute_loss\r\n    ps = pi[b, a, gj, gi]  # prediction subset corresponding to targets\r\nIndexError: index 32 is out of bounds for dimension 3 with size 32", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1551/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1551/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1538", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1538/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1538/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1538/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1538", "id": 730455871, "node_id": "MDU6SXNzdWU3MzA0NTU4NzE=", "number": 1538, "title": "RuntimeError: invalid argument 3: out of range", "user": {"login": "HuXia7157", "id": 35215541, "node_id": "MDQ6VXNlcjM1MjE1NTQx", "avatar_url": "https://avatars.githubusercontent.com/u/35215541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HuXia7157", "html_url": "https://github.com/HuXia7157", "followers_url": "https://api.github.com/users/HuXia7157/followers", "following_url": "https://api.github.com/users/HuXia7157/following{/other_user}", "gists_url": "https://api.github.com/users/HuXia7157/gists{/gist_id}", "starred_url": "https://api.github.com/users/HuXia7157/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HuXia7157/subscriptions", "organizations_url": "https://api.github.com/users/HuXia7157/orgs", "repos_url": "https://api.github.com/users/HuXia7157/repos", "events_url": "https://api.github.com/users/HuXia7157/events{/privacy}", "received_events_url": "https://api.github.com/users/HuXia7157/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-27T13:33:52Z", "updated_at": "2023-04-21T20:58:04Z", "closed_at": "2020-12-02T00:30:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "at = torch.arange(na).view(na, 1).repeat(1, nt)  # anchor tensor, same as .repeat_interleave(nt)\r\nRuntimeError: invalid argument 3: out of range at /opt/conda/conda-bld/pytorch_1556653215914/work/aten/src/TH/generic/THTensor.cpp:392\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1538/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1538/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1522", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1522/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1522/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1522/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1522", "id": 722412215, "node_id": "MDU6SXNzdWU3MjI0MTIyMTU=", "number": 1522, "title": "a *= np.array(k) ** 2", "user": {"login": "sunset326", "id": 45933622, "node_id": "MDQ6VXNlcjQ1OTMzNjIy", "avatar_url": "https://avatars.githubusercontent.com/u/45933622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunset326", "html_url": "https://github.com/sunset326", "followers_url": "https://api.github.com/users/sunset326/followers", "following_url": "https://api.github.com/users/sunset326/following{/other_user}", "gists_url": "https://api.github.com/users/sunset326/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunset326/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunset326/subscriptions", "organizations_url": "https://api.github.com/users/sunset326/orgs", "repos_url": "https://api.github.com/users/sunset326/repos", "events_url": "https://api.github.com/users/sunset326/events{/privacy}", "received_events_url": "https://api.github.com/users/sunset326/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-15T14:54:11Z", "updated_at": "2020-10-16T04:37:03Z", "closed_at": "2020-10-16T04:37:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "when i train my custom dataset, an error occured  as follows:\r\n\r\nInput:  python3 train.py --epochs 100 --batch-size 2 --cfg cfg/yolov3-spp.cfg --data data/rbc.data --weights weights/yolov3-spp-ultralytics.pt\r\n\r\nOutput:\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 439, in <module>\r\n    train(hyp)  # train normally\r\n  File \"train.py\", line 96, in train\r\n    model = Darknet(cfg).to(device)\r\n  File \"/home/scau2/PycharmProjects/xcg/yolov3/models.py\", line 232, in __init__\r\n    self.module_list, self.routs = create_modules(self.module_defs, img_size, cfg)\r\n  File \"/home/scau2/PycharmProjects/xcg/yolov3/models.py\", line 39, in create_modules\r\n    bias=not bn))\r\n  File \"/home/scau2/PycharmProjects/xcg/yolov3/utils/layers.py\", line 82, in __init__\r\n    a *= np.array(k) ** 2\r\nTypeError: ufunc 'square' not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule ''safe''\r\n\r\n## Environment\r\nit obeys the 'requirements.txt', but my pytorch is 1.5.1, torchvision is 0.6.1\r\n\r\n - OS: [e.g. Ubuntu16.04]\r\n - GPU [e.g. 980 Ti]\r\n\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1522/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1522/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1508", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1508/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1508/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1508/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1508", "id": 713495723, "node_id": "MDU6SXNzdWU3MTM0OTU3MjM=", "number": 1508, "title": "Error with argument --classes", "user": {"login": "t-raww187", "id": 67734843, "node_id": "MDQ6VXNlcjY3NzM0ODQz", "avatar_url": "https://avatars.githubusercontent.com/u/67734843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/t-raww187", "html_url": "https://github.com/t-raww187", "followers_url": "https://api.github.com/users/t-raww187/followers", "following_url": "https://api.github.com/users/t-raww187/following{/other_user}", "gists_url": "https://api.github.com/users/t-raww187/gists{/gist_id}", "starred_url": "https://api.github.com/users/t-raww187/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/t-raww187/subscriptions", "organizations_url": "https://api.github.com/users/t-raww187/orgs", "repos_url": "https://api.github.com/users/t-raww187/repos", "events_url": "https://api.github.com/users/t-raww187/events{/privacy}", "received_events_url": "https://api.github.com/users/t-raww187/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-02T09:52:30Z", "updated_at": "2023-04-21T20:58:24Z", "closed_at": "2020-11-07T00:26:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I try to run the detect.py script with the classes argument I get the following error. I'm filtering some classes from the coco dataset.\r\n![bug](https://user-images.githubusercontent.com/67734843/94910912-ab00bf80-04a5-11eb-8627-15557bf15316.png)\r\n\r\nAny ideas how solve this issue. Thank you!\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1508/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1503", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1503/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1503/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1503/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1503", "id": 708731931, "node_id": "MDU6SXNzdWU3MDg3MzE5MzE=", "number": 1503, "title": " CUDA out of memory. Tried to allocate 50.00 MiB", "user": {"login": "Scharfsinnig", "id": 9099493, "node_id": "MDQ6VXNlcjkwOTk0OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/9099493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Scharfsinnig", "html_url": "https://github.com/Scharfsinnig", "followers_url": "https://api.github.com/users/Scharfsinnig/followers", "following_url": "https://api.github.com/users/Scharfsinnig/following{/other_user}", "gists_url": "https://api.github.com/users/Scharfsinnig/gists{/gist_id}", "starred_url": "https://api.github.com/users/Scharfsinnig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Scharfsinnig/subscriptions", "organizations_url": "https://api.github.com/users/Scharfsinnig/orgs", "repos_url": "https://api.github.com/users/Scharfsinnig/repos", "events_url": "https://api.github.com/users/Scharfsinnig/events{/privacy}", "received_events_url": "https://api.github.com/users/Scharfsinnig/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-09-25T07:59:55Z", "updated_at": "2023-04-21T20:58:29Z", "closed_at": "2020-12-16T00:33:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before submitting a bug report, please be aware that your issue **must be reproducible** with all of the following, otherwise it is non-actionable, and we can not help you:\r\n - **Current repo**: run `git fetch && git status -uno` to check and `git pull` to update repo\r\n - **Common dataset**: coco2017.data or coco64.data\r\n - **Common environment**: Colab, Google Cloud, or Docker image. See https://github.com/ultralytics/yolov3#reproduce-our-environment\r\n \r\nIf this is a custom dataset/training question you **must include** your `train*.jpg`, `test*.jpg` and `results.png` figures, or we can not help you. You can generate these with `utils.plot_results()`.\r\n\r\n\r\n## \ud83d\udc1b Bug\r\nRuntimeError: CUDA out of memory. Tried to allocate 50.00 MiB (GPU 0; 14.73 GiB total capacity; 13.62 GiB already allocated; 49.88 MiB free; 13.80 GiB reserved in total by PyTorch)\r\n\r\n## To Reproduce (REQUIRED)\r\nWhen I tried to train my dataset by `CUDA_VISIBLE_DEVICES=1 python train.py --weights '' --data coco/coco.data --cfg coco/yolov3.cfg --batch-size 16`, I got CUDA OOM after a while. I have tried to set batch to 1, howerer, the error was still happened. \r\nI got some message to add `torch.no_grad()`, but I don't konw where to set?\r\n\r\nInput:\r\n```\r\nCUDA_VISIBLE_DEVICES=1 python train.py --weights '' --data coco/coco.data --cfg coco/yolov3.cfg --batch-size 16\r\n```\r\n\r\nOutput:\r\n```\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n    15/299     13.2G      5.98      5.37      2.13      13.5         9       512: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2/2 [00:08<00:00,  4.10s/it]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1/1 [00:04<00:00,  4.95s/it]\r\n                 all         5        15         0         0   0.00582         0\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n    16/299     13.2G      4.08      4.82      1.71      10.6         8       608: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2/2 [00:08<00:00,  4.11s/it]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1/1 [00:04<00:00,  4.59s/it]\r\n                 all         5        15         0         0   0.00446         0\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n  0%|                                                                                                                                                                          | 0/2 [00:09<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 436, in <module>\r\n    train(hyp)  # train normally\r\n  File \"train.py\", line 282, in train\r\n    pred = model(imgs)\r\n  File \"/home/ultron/miniconda3/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 722, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/usr/src/app/models.py\", line 244, in forward\r\n    return self.forward_once(x)\r\n  File \"/usr/src/app/models.py\", line 298, in forward_once\r\n    x = module(x)\r\n  File \"/home/ultron/miniconda3/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 722, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/ultron/miniconda3/lib/python3.8/site-packages/torch/nn/modules/container.py\", line 117, in forward\r\n    input = module(input)\r\n  File \"/home/ultron/miniconda3/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 722, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/ultron/miniconda3/lib/python3.8/site-packages/torch/nn/modules/batchnorm.py\", line 131, in forward\r\n    return F.batch_norm(\r\n  File \"/home/ultron/miniconda3/lib/python3.8/site-packages/torch/nn/functional.py\", line 2014, in batch_norm\r\n    return torch.batch_norm(\r\nRuntimeError: CUDA out of memory. Tried to allocate 50.00 MiB (GPU 0; 14.73 GiB total capacity; 13.62 GiB already allocated; 49.88 MiB free; 13.80 GiB reserved in total by PyTorch)\r\n```\r\n\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: CentOS7\r\n - GPU Tesla T4\r\n - CUDA: V10.1.243\r\n - CUDNN: 7.6.5\r\n - PyTorch: 1.6.0+cu101\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n![image](https://user-images.githubusercontent.com/9099493/94242025-08e25400-ff48-11ea-8327-f308f05493fb.png)\r\n![image](https://user-images.githubusercontent.com/9099493/94242070-17c90680-ff48-11ea-88dd-b8ff72c283bd.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1503/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1491", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1491/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1491/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1491/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1491", "id": 702974739, "node_id": "MDU6SXNzdWU3MDI5NzQ3Mzk=", "number": 1491, "title": "Target bounding boxes are getting incorrectly constructed.", "user": {"login": "sambalshikhar", "id": 38518992, "node_id": "MDQ6VXNlcjM4NTE4OTky", "avatar_url": "https://avatars.githubusercontent.com/u/38518992?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sambalshikhar", "html_url": "https://github.com/sambalshikhar", "followers_url": "https://api.github.com/users/sambalshikhar/followers", "following_url": "https://api.github.com/users/sambalshikhar/following{/other_user}", "gists_url": "https://api.github.com/users/sambalshikhar/gists{/gist_id}", "starred_url": "https://api.github.com/users/sambalshikhar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sambalshikhar/subscriptions", "organizations_url": "https://api.github.com/users/sambalshikhar/orgs", "repos_url": "https://api.github.com/users/sambalshikhar/repos", "events_url": "https://api.github.com/users/sambalshikhar/events{/privacy}", "received_events_url": "https://api.github.com/users/sambalshikhar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-09-16T18:13:35Z", "updated_at": "2023-04-21T20:58:40Z", "closed_at": "2020-11-04T00:24:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/38518992/93375394-b92fc880-f875-11ea-8115-7febb7228fc8.png)\r\n\r\n![image](https://user-images.githubusercontent.com/38518992/93375331-a3220800-f875-11ea-9259-e6464800d62f.png)\r\n\r\nI am training a electric meter counter recognition using Yolov3.\r\nHowever after following the tutorial on custom dataset and training for 1 epoch the bounding boxes that gets generated in\r\n**test_batch0_gt.jpg** (which is the ground truth for training generated by the library is incorrect as show in **bottom**) is out of position while the actual bounding are actually like on the **top**.\r\n\r\nThis is resulting in incorrect prediction even tho my mAP is very high as the target is getting wrongly generated.\r\nIs there a bug in generating target boxes?\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1491/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1489", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1489/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1489/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1489/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1489", "id": 702109187, "node_id": "MDU6SXNzdWU3MDIxMDkxODc=", "number": 1489, "title": "getting a 404 on coco2017demos.zip", "user": {"login": "jvanvorst", "id": 34559704, "node_id": "MDQ6VXNlcjM0NTU5NzA0", "avatar_url": "https://avatars.githubusercontent.com/u/34559704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvanvorst", "html_url": "https://github.com/jvanvorst", "followers_url": "https://api.github.com/users/jvanvorst/followers", "following_url": "https://api.github.com/users/jvanvorst/following{/other_user}", "gists_url": "https://api.github.com/users/jvanvorst/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvanvorst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvanvorst/subscriptions", "organizations_url": "https://api.github.com/users/jvanvorst/orgs", "repos_url": "https://api.github.com/users/jvanvorst/repos", "events_url": "https://api.github.com/users/jvanvorst/events{/privacy}", "received_events_url": "https://api.github.com/users/jvanvorst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-15T17:14:47Z", "updated_at": "2023-04-21T20:58:41Z", "closed_at": "2020-10-21T00:37:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Following along with the custom training tutorial, this:\r\n$ python3 -c \"from yolov3.utils.google_utils import gdrive_download; gdrive_download('1h0Id-7GUyuAmyc9Pwo2c3IZ17uExPvOA','coco2017demos.zip')\"\r\n\r\ngets me a 404 not found on that file.  Did this get deleted or moved?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1489/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1489/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1487", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1487/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1487/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1487/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1487", "id": 701084301, "node_id": "MDU6SXNzdWU3MDEwODQzMDE=", "number": 1487, "title": "transfer to ONNX have warning", "user": {"login": "yumulinfeng1", "id": 50360389, "node_id": "MDQ6VXNlcjUwMzYwMzg5", "avatar_url": "https://avatars.githubusercontent.com/u/50360389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yumulinfeng1", "html_url": "https://github.com/yumulinfeng1", "followers_url": "https://api.github.com/users/yumulinfeng1/followers", "following_url": "https://api.github.com/users/yumulinfeng1/following{/other_user}", "gists_url": "https://api.github.com/users/yumulinfeng1/gists{/gist_id}", "starred_url": "https://api.github.com/users/yumulinfeng1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yumulinfeng1/subscriptions", "organizations_url": "https://api.github.com/users/yumulinfeng1/orgs", "repos_url": "https://api.github.com/users/yumulinfeng1/repos", "events_url": "https://api.github.com/users/yumulinfeng1/events{/privacy}", "received_events_url": "https://api.github.com/users/yumulinfeng1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-09-14T13:09:46Z", "updated_at": "2020-11-06T00:25:32Z", "closed_at": "2020-11-06T00:25:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi, I transfer yolov4.pt to ONNX, but I have some warning as below:\r\nDoes these warnings inference the onnx result?\r\nand I use onnx\r\n\r\n**F:\\Project\\yolov3-master\\utils\\layers.py:60: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  if nx == na:  # same shape\r\nF:\\Project\\yolov3-master\\models.py:193: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  if (self.nx, self.ny) != (nx, ny):\r\nF:\\Project\\yolov3-master\\models.py:157: TracerWarning: torch.tensor results are registered as constants in the trace. You can safely ignore this warning if you use this function to create tensors out of constant variables that would be the same every time you call this function. In any other case, this might cause the trace to be incorrect.\r\n  self.ng = torch.tensor(ng, dtype=torch.float)\r\nF:\\Project\\yolov3-master\\models.py:157: TracerWarning: Converting a tensor to a Python float might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  self.ng = torch.tensor(ng, dtype=torch.float)\r\nF:\\Project\\yolov3-master\\models.py:218: TracerWarning: There are 2 live references to the data region being modified when tracing in-place operator copy_ (possibly due to an assignment). This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  io[..., :2] = torch.sigmoid(io[..., :2]) + self.grid  # xy\r\nF:\\Project\\yolov3-master\\models.py:219: TracerWarning: There are 2 live references to the data region being modified when tracing in-place operator copy_ (possibly due to an assignment). This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  io[..., 2:4] = torch.exp(io[..., 2:4]) * self.anchor_wh  # wh yolo method\r\nF:\\Project\\yolov3-master\\models.py:220: TracerWarning: There are 2 live references to the data region being modified when tracing in-place operator mul_. This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  io[..., :4] *= self.stride\r\nF:\\Project\\yolov3-master\\models.py:220: TracerWarning: There are 4 live references to the data region being modified when tracing in-place operator copy_ (possibly due to an assignment). This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  io[..., :4] *= self.stride\r\nF:\\Project\\yolov3-master\\models.py:221: TracerWarning: There are 2 live references to the data region being modified when tracing in-place operator sigmoid_. This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  torch.sigmoid_(io[..., 4:])**", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1487/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1478", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1478/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1478/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1478/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1478", "id": 694219372, "node_id": "MDU6SXNzdWU2OTQyMTkzNzI=", "number": 1478, "title": "RuntimeError: shape '[256]' is invalid for input of size 0", "user": {"login": "praneet195", "id": 14840749, "node_id": "MDQ6VXNlcjE0ODQwNzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/14840749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/praneet195", "html_url": "https://github.com/praneet195", "followers_url": "https://api.github.com/users/praneet195/followers", "following_url": "https://api.github.com/users/praneet195/following{/other_user}", "gists_url": "https://api.github.com/users/praneet195/gists{/gist_id}", "starred_url": "https://api.github.com/users/praneet195/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/praneet195/subscriptions", "organizations_url": "https://api.github.com/users/praneet195/orgs", "repos_url": "https://api.github.com/users/praneet195/repos", "events_url": "https://api.github.com/users/praneet195/events{/privacy}", "received_events_url": "https://api.github.com/users/praneet195/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-09-06T01:19:42Z", "updated_at": "2023-04-21T20:58:48Z", "closed_at": "2020-10-12T00:35:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to convert the yolov4.cfg and yolov4.conv.137 weights to yolov4.pt but i'm running into the following error while using the convert module:\r\n\r\n\r\n`Model Summary: 327 layers, 6.39377e+07 parameters, 6.39377e+07 gradients\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/praneet/yolov4_pytorch_kaist/yolov3/models.py\", line 437, in convert\r\n    _ = load_darknet_weights(model, weights)\r\n  File \"/home/praneet/yolov4_pytorch_kaist/yolov3/models.py\", line 373, in load_darkne                                                                                                                         t_weights\r\n    bn.bias.data.copy_(torch.from_numpy(weights[ptr:ptr + nb]).view_as(bn.bias))\r\nRuntimeError: shape '[256]' is invalid for input of size 0\r\n`\r\nAny idea why this issue arises at the end because I feel the conversion has suceeded", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1478/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1478/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1475", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1475/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1475/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1475/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1475", "id": 692863043, "node_id": "MDU6SXNzdWU2OTI4NjMwNDM=", "number": 1475, "title": "TypeError: not all arguments converted during string formatting", "user": {"login": "qzk1193564654", "id": 51602015, "node_id": "MDQ6VXNlcjUxNjAyMDE1", "avatar_url": "https://avatars.githubusercontent.com/u/51602015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qzk1193564654", "html_url": "https://github.com/qzk1193564654", "followers_url": "https://api.github.com/users/qzk1193564654/followers", "following_url": "https://api.github.com/users/qzk1193564654/following{/other_user}", "gists_url": "https://api.github.com/users/qzk1193564654/gists{/gist_id}", "starred_url": "https://api.github.com/users/qzk1193564654/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qzk1193564654/subscriptions", "organizations_url": "https://api.github.com/users/qzk1193564654/orgs", "repos_url": "https://api.github.com/users/qzk1193564654/repos", "events_url": "https://api.github.com/users/qzk1193564654/events{/privacy}", "received_events_url": "https://api.github.com/users/qzk1193564654/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-04T08:03:39Z", "updated_at": "2023-04-21T20:58:50Z", "closed_at": "2020-10-10T00:34:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"train.py\", line 431, in <module>\r\n    train(hyp)  # train normally\r\n  File \"train.py\", line 91, in train\r\n    model = Darknet(cfg).to(device)\r\n  File \"/home/qzk/yolov3/models.py\", line 232, in __init__\r\n    self.module_list, self.routs = create_modules(self.module_defs, img_size, cfg)\r\n  File \"/home/qzk/yolov3/models.py\", line 27, in create_modules\r\n    modules.add_module('Conv2d', nn.Conv2d(in_channels=output_filters[-1],\r\n  File \"/home/learn/anaconda3/envs/yolov3/lib/python3.8/site-packages/torch/nn/modules/conv.py\", line 406, in __init__\r\n    super(Conv2d, self).__init__(\r\n  File \"/home/learn/anaconda3/envs/yolov3/lib/python3.8/site-packages/torch/nn/modules/conv.py\", line 52, in __init__\r\n    if out_channels % groups != 0:\r\nTypeError: not all arguments converted during string formatting\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1475/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1471", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1471/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1471/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1471/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1471", "id": 691549297, "node_id": "MDU6SXNzdWU2OTE1NDkyOTc=", "number": 1471, "title": "Missing key(s) in state_dict: \"total_ops\", \"total_params\", \"module_list.total_ops\"", "user": {"login": "daixiangzi", "id": 24811131, "node_id": "MDQ6VXNlcjI0ODExMTMx", "avatar_url": "https://avatars.githubusercontent.com/u/24811131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daixiangzi", "html_url": "https://github.com/daixiangzi", "followers_url": "https://api.github.com/users/daixiangzi/followers", "following_url": "https://api.github.com/users/daixiangzi/following{/other_user}", "gists_url": "https://api.github.com/users/daixiangzi/gists{/gist_id}", "starred_url": "https://api.github.com/users/daixiangzi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daixiangzi/subscriptions", "organizations_url": "https://api.github.com/users/daixiangzi/orgs", "repos_url": "https://api.github.com/users/daixiangzi/repos", "events_url": "https://api.github.com/users/daixiangzi/events{/privacy}", "received_events_url": "https://api.github.com/users/daixiangzi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-09-03T01:19:30Z", "updated_at": "2023-02-20T16:05:21Z", "closed_at": "2020-10-10T00:34:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before submitting a bug report, please be aware that your issue **must be reproducible** with all of the following, otherwise it is non-actionable, and we can not help you:\r\n - **Current repo**: run `git fetch && git status -uno` to check and `git pull` to update repo\r\n - **Common dataset**: coco2017.data or coco64.data\r\n - **Common environment**: Colab, Google Cloud, or Docker image. See https://github.com/ultralytics/yolov3#reproduce-our-environment\r\n--**Comme\r\nIf this is a custom dataset/training question you **must include** your `train*.jpg`, `test*.jpg` and `results.png` figures, or we can not help you. You can generate these with `utils.plot_results()`.\r\n\r\n\r\n## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\nI find total_ops is registed model,when use thop in file utils/torch_utils.py .so i load weight files ,model exist key total_ops ,but weight not exist,so come up error.\r\n\r\n## To Reproduce (REQUIRED)\r\n\r\nCmd:\r\n```\r\npython3 test.py --cfg yolov3-spp.cfg --weights weights/yolov3-spp-ultralytics.pt\r\nNamespace(augment=False, batch_size=16, cfg='./cfg/yolov3-spp.cfg', conf_thres=0.001, data='data/coco2014.data', device='', img_size=512, iou_thres=0.6, save_json=True, single_cls=False, task='test', weights='weights/yolov3-spp-ultralytics.pt')\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients, 118.0 GFLOPS\r\n```\r\nTraceback (most recent call last):\r\nFile \"test.py\", line 263, in\r\nopt.augment)\r\nFile \"test.py\", line 40, in test\r\nmodel.load_state_dict(torch.load(weights, map_location=device)['model'])\r\nFile \"/anaconda3/envs/pytorch-gpu/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 1045, in load_state_dict\r\nself.class.name, \"\\n\\t\".join(error_msgs)))\r\nRuntimeError: Error(s) in loading state_dict for Darknet:\r\nMissing key(s) in state_dict: \"total_ops\", \"total_params\", \"module_list.total_ops\", \"module_list.total_params\", \"module_list.0.total_ops\"\r\n\r\n```\r\n\r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: Ubuntu20\r\n - GPU 2080 Ti\r\npython3.7\r\n\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1471/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1471/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1469", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1469/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1469/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1469/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1469", "id": 689965917, "node_id": "MDU6SXNzdWU2ODk5NjU5MTc=", "number": 1469, "title": "replace darknet53 with csresnext50 in yolov3-asff.cfg", "user": {"login": "ZZY-666", "id": 59229974, "node_id": "MDQ6VXNlcjU5MjI5OTc0", "avatar_url": "https://avatars.githubusercontent.com/u/59229974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZZY-666", "html_url": "https://github.com/ZZY-666", "followers_url": "https://api.github.com/users/ZZY-666/followers", "following_url": "https://api.github.com/users/ZZY-666/following{/other_user}", "gists_url": "https://api.github.com/users/ZZY-666/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZZY-666/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZZY-666/subscriptions", "organizations_url": "https://api.github.com/users/ZZY-666/orgs", "repos_url": "https://api.github.com/users/ZZY-666/repos", "events_url": "https://api.github.com/users/ZZY-666/events{/privacy}", "received_events_url": "https://api.github.com/users/ZZY-666/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-01T09:04:30Z", "updated_at": "2020-09-07T15:24:14Z", "closed_at": "2020-09-07T15:24:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, may I ask why  the following problems will arise when I replace darknet53 with csresnext50 in yolov3-asff.cfg. Thank you!\r\n![\u5fae\u4fe1\u56fe\u7247_20200901165822](https://user-images.githubusercontent.com/59229974/91830295-2ee04580-ec75-11ea-9869-3e5274e7ca4f.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1469/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1445", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1445/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1445/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1445/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1445", "id": 677090042, "node_id": "MDU6SXNzdWU2NzcwOTAwNDI=", "number": 1445, "title": "'Tensor' object has no attribute 'T'", "user": {"login": "cuongnc220592", "id": 33831670, "node_id": "MDQ6VXNlcjMzODMxNjcw", "avatar_url": "https://avatars.githubusercontent.com/u/33831670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuongnc220592", "html_url": "https://github.com/cuongnc220592", "followers_url": "https://api.github.com/users/cuongnc220592/followers", "following_url": "https://api.github.com/users/cuongnc220592/following{/other_user}", "gists_url": "https://api.github.com/users/cuongnc220592/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuongnc220592/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuongnc220592/subscriptions", "organizations_url": "https://api.github.com/users/cuongnc220592/orgs", "repos_url": "https://api.github.com/users/cuongnc220592/repos", "events_url": "https://api.github.com/users/cuongnc220592/events{/privacy}", "received_events_url": "https://api.github.com/users/cuongnc220592/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-11T18:15:17Z", "updated_at": "2023-04-21T20:59:12Z", "closed_at": "2020-09-16T00:30:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi auhors,\r\nIam trying to train the model from scratch. But I am facing with following problem.\r\n\r\npython3 train.py --cfg yolov3-spp.cfg --data data/LUNA_lung.data --weights ''\r\n\r\n`Traceback (most recent call last):\r\n  File \"train.py\", line 434, in <module>\r\n    train(hyp)  # train normally\r\n  File \"train.py\", line 285, in train\r\n    loss, loss_items = compute_loss(pred, targets, model)\r\n  File \"/storage/cuongnc/LUNA/3d_nodule_detection/nodule_boudingbox/yolov3/utils/utils.py\", line 357, in compute_loss\r\n    tcls, tbox, indices, anchors = build_targets(p, targets, model)  # targets\r\n  File \"/storage/cuongnc/LUNA/3d_nodule_detection/nodule_boudingbox/yolov3/utils/utils.py\", line 461, in build_targets\r\n    b, c = t[:, :2].long().T  # image, class\r\nAttributeError: 'Tensor' object has no attribute 'T'`\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1445/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1438", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1438/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1438/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1438/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1438", "id": 675644002, "node_id": "MDU6SXNzdWU2NzU2NDQwMDI=", "number": 1438, "title": "terminate called after throwing an instance of 'std::system_error'   what():  Transport endpoint is not connected", "user": {"login": "ytfhgy", "id": 38131773, "node_id": "MDQ6VXNlcjM4MTMxNzcz", "avatar_url": "https://avatars.githubusercontent.com/u/38131773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ytfhgy", "html_url": "https://github.com/ytfhgy", "followers_url": "https://api.github.com/users/ytfhgy/followers", "following_url": "https://api.github.com/users/ytfhgy/following{/other_user}", "gists_url": "https://api.github.com/users/ytfhgy/gists{/gist_id}", "starred_url": "https://api.github.com/users/ytfhgy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ytfhgy/subscriptions", "organizations_url": "https://api.github.com/users/ytfhgy/orgs", "repos_url": "https://api.github.com/users/ytfhgy/repos", "events_url": "https://api.github.com/users/ytfhgy/events{/privacy}", "received_events_url": "https://api.github.com/users/ytfhgy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-09T06:07:52Z", "updated_at": "2023-04-21T20:59:18Z", "closed_at": "2020-09-14T00:30:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "When the iterative data reaches 154, it appears: terminate called after throwing an instance of'std::system_error' what(): Transport endpoint is not connected, how should this be solved?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1438/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1431", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1431/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1431/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1431/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1431", "id": 672459450, "node_id": "MDU6SXNzdWU2NzI0NTk0NTA=", "number": 1431, "title": "Installation using requirements.txt bugs out with ModuleNotFoundError.", "user": {"login": "jkschin", "id": 6997460, "node_id": "MDQ6VXNlcjY5OTc0NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/6997460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jkschin", "html_url": "https://github.com/jkschin", "followers_url": "https://api.github.com/users/jkschin/followers", "following_url": "https://api.github.com/users/jkschin/following{/other_user}", "gists_url": "https://api.github.com/users/jkschin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jkschin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jkschin/subscriptions", "organizations_url": "https://api.github.com/users/jkschin/orgs", "repos_url": "https://api.github.com/users/jkschin/repos", "events_url": "https://api.github.com/users/jkschin/events{/privacy}", "received_events_url": "https://api.github.com/users/jkschin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-08-04T02:32:30Z", "updated_at": "2023-04-21T20:59:25Z", "closed_at": "2020-09-15T00:30:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n`pip install -U -r requirements.txt` bugs out with `ModuleNotFoundError: No module named 'numpy'` error.\r\n\r\n## To Reproduce (REQUIRED)\r\nClone the repository and run `pip install -U -r requirements.txt`.\r\n\r\n## Expected behavior\r\nIt's supposed to install successfully but didn't.\r\n\r\n## Environment\r\nMac OS Catalina 10.15.6\r\n\r\n## Additional context\r\nTo solve this:\r\n\r\n1. Comment out the `cocoapi` line in `requirements.txt`.\r\n2. `pip install -U -r requirements.txt`\r\n3. `pip install git+https://github.com/cocodataset/cocoapi.git#subdirectory=PythonAPI`\r\n\r\nI don't know a way to set the installation order in `requirements.txt`. I've seen some methods online where you can do this through `setup.py`. Filing this issue here and hoping someone with more expertise can fix this, or add a comment to the README.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1431/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1401", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1401/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1401/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1401/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1401", "id": 663556480, "node_id": "MDU6SXNzdWU2NjM1NTY0ODA=", "number": 1401, "title": "Yolov4 PyTorch version cannot detect small objects", "user": {"login": "makaveli10", "id": 39617050, "node_id": "MDQ6VXNlcjM5NjE3MDUw", "avatar_url": "https://avatars.githubusercontent.com/u/39617050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/makaveli10", "html_url": "https://github.com/makaveli10", "followers_url": "https://api.github.com/users/makaveli10/followers", "following_url": "https://api.github.com/users/makaveli10/following{/other_user}", "gists_url": "https://api.github.com/users/makaveli10/gists{/gist_id}", "starred_url": "https://api.github.com/users/makaveli10/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/makaveli10/subscriptions", "organizations_url": "https://api.github.com/users/makaveli10/orgs", "repos_url": "https://api.github.com/users/makaveli10/repos", "events_url": "https://api.github.com/users/makaveli10/events{/privacy}", "received_events_url": "https://api.github.com/users/makaveli10/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-22T07:56:29Z", "updated_at": "2023-04-21T20:59:43Z", "closed_at": "2020-08-27T00:26:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nYolov4 converted from darknet cannot detect small objects like pottedplant, even issues with detecting motorbike. But darknet version can easily detect small objects.\r\n\r\n## To Reproduce (REQUIRED)\r\nRun inference on any video with bikes and pottedplant. Darknet inference is way better than pytorch.\r\n\r\n\r\n## Expected behavior\r\nPytorch should be able to detect all the objects as Darknet because we have the same weights file.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: [Ubuntu]\r\n - GPU [2080 Ti]", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1401/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1374", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1374/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1374/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1374/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1374", "id": 653723471, "node_id": "MDU6SXNzdWU2NTM3MjM0NzE=", "number": 1374, "title": "AssertionError: Unsupported fields ['group_id', 'resize'] in cfg/yolov4-tiny.cfg.", "user": {"login": "RnYngxx", "id": 57170733, "node_id": "MDQ6VXNlcjU3MTcwNzMz", "avatar_url": "https://avatars.githubusercontent.com/u/57170733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RnYngxx", "html_url": "https://github.com/RnYngxx", "followers_url": "https://api.github.com/users/RnYngxx/followers", "following_url": "https://api.github.com/users/RnYngxx/following{/other_user}", "gists_url": "https://api.github.com/users/RnYngxx/gists{/gist_id}", "starred_url": "https://api.github.com/users/RnYngxx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RnYngxx/subscriptions", "organizations_url": "https://api.github.com/users/RnYngxx/orgs", "repos_url": "https://api.github.com/users/RnYngxx/repos", "events_url": "https://api.github.com/users/RnYngxx/events{/privacy}", "received_events_url": "https://api.github.com/users/RnYngxx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-09T02:57:41Z", "updated_at": "2023-04-21T21:00:04Z", "closed_at": "2020-08-15T00:24:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"train.py\", line 431, in <module>\r\n    train(hyp)  # train normally\r\n  File \"train.py\", line 91, in train\r\n    model = Darknet(cfg).to(device)\r\n  File \"/Users/ren_yx/PycharmProjects/Object detection/YOLOv4/models.py\", line 231, in __init__\r\n    self.module_defs = parse_model_cfg(cfg)\r\n  File \"/Users/ren_yx/PycharmProjects/Object detection/YOLOv4/utils/parse_config.py\", line 50, in parse_model_cfg\r\n    assert not any(u), \"Unsupported fields %s in %s. See https://github.com/ultralytics/yolov3/issues/631\" % (u, path)\r\nAssertionError: Unsupported fields ['group_id', 'resize'] in cfg/yolov4-tiny.cfg. See https://github.com/ultralytics/yolov3/issues/631", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1374/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1374/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1373", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1373/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1373/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1373/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1373", "id": 653711693, "node_id": "MDU6SXNzdWU2NTM3MTE2OTM=", "number": 1373, "title": "Rect training might be wrong.", "user": {"login": "tengjunvan", "id": 23194492, "node_id": "MDQ6VXNlcjIzMTk0NDky", "avatar_url": "https://avatars.githubusercontent.com/u/23194492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tengjunvan", "html_url": "https://github.com/tengjunvan", "followers_url": "https://api.github.com/users/tengjunvan/followers", "following_url": "https://api.github.com/users/tengjunvan/following{/other_user}", "gists_url": "https://api.github.com/users/tengjunvan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tengjunvan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tengjunvan/subscriptions", "organizations_url": "https://api.github.com/users/tengjunvan/orgs", "repos_url": "https://api.github.com/users/tengjunvan/repos", "events_url": "https://api.github.com/users/tengjunvan/events{/privacy}", "received_events_url": "https://api.github.com/users/tengjunvan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-09T02:21:57Z", "updated_at": "2023-04-21T21:00:05Z", "closed_at": "2020-08-16T00:26:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "In datasets.py line308-328:\r\nif self.rect:\r\n            # Sort by aspect ratio\r\n            s = self.shapes  # wh\r\n            ar = s[:, 1] / s[:, 0]  # aspect ratio\r\n            irect = ar.argsort()\r\n            self.img_files = [self.img_files[i] for i in irect]\r\n            self.label_files = [self.label_files[i] for i in irect]\r\n            self.shapes = s[irect]  # wh\r\n            ar = ar[irect]\r\n\r\n            # Set training image shapes\r\n            shapes = [[1, 1]] * nb\r\n            for i in range(nb):\r\n                ari = ar[bi == i]\r\n                mini, maxi = ari.min(), ari.max()\r\n                if maxi < 1:\r\n                    shapes[i] = [maxi, 1]\r\n                elif mini > 1:\r\n                    shapes[i] = [1, 1 / mini]\r\n\r\n            self.batch_shapes = np.ceil(np.array(shapes) * img_size / 32. + pad).astype(np.int) * 32\r\n\r\n maxi or mini  is caculated as a result of W/H(becuase s is (H, W)), so shapes[i] = [maxi, 1] = [W/H, 1] = [W, H]. Batch_shapes is not (H, W) form any more. ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1373/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1373/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1371", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1371/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1371/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1371/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1371", "id": 651763012, "node_id": "MDU6SXNzdWU2NTE3NjMwMTI=", "number": 1371, "title": "Train: RuntimeError: shape '[16, 3, 85, 16, 16]' is invalid for input of size 135168", "user": {"login": "DennisFaucher", "id": 9034190, "node_id": "MDQ6VXNlcjkwMzQxOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/9034190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DennisFaucher", "html_url": "https://github.com/DennisFaucher", "followers_url": "https://api.github.com/users/DennisFaucher/followers", "following_url": "https://api.github.com/users/DennisFaucher/following{/other_user}", "gists_url": "https://api.github.com/users/DennisFaucher/gists{/gist_id}", "starred_url": "https://api.github.com/users/DennisFaucher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DennisFaucher/subscriptions", "organizations_url": "https://api.github.com/users/DennisFaucher/orgs", "repos_url": "https://api.github.com/users/DennisFaucher/repos", "events_url": "https://api.github.com/users/DennisFaucher/events{/privacy}", "received_events_url": "https://api.github.com/users/DennisFaucher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-06T19:17:28Z", "updated_at": "2023-04-21T21:00:07Z", "closed_at": "2020-07-06T19:23:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before submitting a bug report, please be aware that your issue **must be reproducible** with all of the following, otherwise it is non-actionable, and we can not help you:\r\n - **Current repository**: run `git fetch && git status -uno` to check and `git pull` to update your repo\r\n - **Common dataset**: coco2017.data or coco64.data\r\n - **Common environment**: Colab, Google Cloud, or Docker image. See https://github.com/ultralytics/yolov3#reproduce-our-environment\r\n \r\nIf this is a custom dataset/training question you **must include** your `train*.jpg`, `test*.jpg` and `results.png` figures, or we can not help you. You can generate results.png with `utils.plot_results()`.\r\n\r\n\r\n## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n\r\nCould not create a custom object detection model using instructions in Readme\r\n\r\n## To Reproduce (REQUIRED)\r\n\r\nInput:\r\n```\r\n python3 train.py --cfg 6chix-spp.cfg --data 6chix.data --nosave\r\n\r\n```\r\n\r\nOutput:\r\n```\r\n$ python3 train.py --cfg 6chix-spp.cfg --data 6chix.data --nosave\r\nApex recommended for faster mixed precision training: https://github.com/NVIDIA/apex\r\nNamespace(adam=False, batch_size=16, bucket='', cache_images=False, cfg='./cfg/6chix-spp.cfg', data='6chix.data', device='', epochs=300, evolve=False, freeze_layers=False, img_size=[320, 640], multi_scale=False, name='', nosave=True, notest=False, rect=False, resume=False, single_cls=False, weights='weights/yolov3-spp-ultralytics.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='Xavier', total_memory=15814MB)\r\n\r\nStart Tensorboard with \"tensorboard --logdir=runs\", view at http://localhost:6006/\r\nModel Summary: 225 layers, 6.26003e+07 parameters, 6.26003e+07 gradients\r\nOptimizer groups: 76 .bias, 76 Conv2d.weight, 73 other\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100   408    0   408    0     0   1402      0 --:--:-- --:--:-- --:--:--  1402\r\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r\n100  240M    0  240M    0     0  4867k      0 --:--:--  0:00:50 --:--:-- 5233k\r\nDownloading https://drive.google.com/uc?export=download&id=1UcR-zVoMs7DH5dj3N1bswkiQTA4dmKF4 as weights/yolov3-spp-ultralytics.pt... Done (51.2s)\r\nReading image shapes: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 720/720 [00:03<00:00, 210.26it/s]\r\nCaching labels train.txt (719 found, 1 missing, 0 empty, 0 duplicate, for 720 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 720/720 [00:01<00:00, 607.56it/s]\r\nReading image shapes: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 79/79 [00:00<00:00, 227.33it/s]\r\nCaching labels test.txt (79 found, 0 missing, 0 empty, 0 duplicate, for 79 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 79/79 [00:00<00:00, 565.51it/s]\r\nImage sizes 320 - 640 train, 640 test\r\nUsing 8 dataloader workers\r\nStarting training for 300 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n  0%|                                                                                                                                                                                | 0/45 [00:22<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 431, in <module>\r\n    train(hyp)  # train normally\r\n  File \"train.py\", line 279, in train\r\n    pred = model(imgs)\r\n  File \"/home/dennis/.local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/dennis/external/yolov3/models.py\", line 244, in forward\r\n    return self.forward_once(x)\r\n  File \"/home/dennis/external/yolov3/models.py\", line 296, in forward_once\r\n    yolo_out.append(module(x, out))\r\n  File \"/home/dennis/.local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/dennis/external/yolov3/models.py\", line 197, in forward\r\n    p = p.view(bs, self.na, self.no, self.ny, self.nx).permute(0, 1, 3, 4, 2).contiguous()  # prediction\r\nRuntimeError: shape '[16, 3, 85, 16, 16]' is invalid for input of size 135168\r\n\r\n\r\n```\r\n\r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\nNew model trained\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: [e.g. Ubuntu] Ubuntu 16.04\r\n - GPU [e.g. 2080 Ti] NVIDIA Xavier\r\n\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n\r\nThanks in advance", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1371/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1370", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1370/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1370/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1370/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1370", "id": 651462122, "node_id": "MDU6SXNzdWU2NTE0NjIxMjI=", "number": 1370, "title": "How do I train a single channel dataset\uff1f", "user": {"login": "zzybj", "id": 42015056, "node_id": "MDQ6VXNlcjQyMDE1MDU2", "avatar_url": "https://avatars.githubusercontent.com/u/42015056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zzybj", "html_url": "https://github.com/zzybj", "followers_url": "https://api.github.com/users/zzybj/followers", "following_url": "https://api.github.com/users/zzybj/following{/other_user}", "gists_url": "https://api.github.com/users/zzybj/gists{/gist_id}", "starred_url": "https://api.github.com/users/zzybj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zzybj/subscriptions", "organizations_url": "https://api.github.com/users/zzybj/orgs", "repos_url": "https://api.github.com/users/zzybj/repos", "events_url": "https://api.github.com/users/zzybj/events{/privacy}", "received_events_url": "https://api.github.com/users/zzybj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-06T11:26:45Z", "updated_at": "2023-04-21T21:00:09Z", "closed_at": "2020-08-11T00:25:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I found that simply changing the configuration file was not successful.What should I do?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1370/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1370/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1368", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1368/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1368/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1368/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1368", "id": 650416172, "node_id": "MDU6SXNzdWU2NTA0MTYxNzI=", "number": 1368, "title": "After interrupting training, load weights/last.pt to continue training", "user": {"login": "winnerCR7", "id": 42593104, "node_id": "MDQ6VXNlcjQyNTkzMTA0", "avatar_url": "https://avatars.githubusercontent.com/u/42593104?v=4", "gravatar_id": "", "url": "https://api.github.com/users/winnerCR7", "html_url": "https://github.com/winnerCR7", "followers_url": "https://api.github.com/users/winnerCR7/followers", "following_url": "https://api.github.com/users/winnerCR7/following{/other_user}", "gists_url": "https://api.github.com/users/winnerCR7/gists{/gist_id}", "starred_url": "https://api.github.com/users/winnerCR7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/winnerCR7/subscriptions", "organizations_url": "https://api.github.com/users/winnerCR7/orgs", "repos_url": "https://api.github.com/users/winnerCR7/repos", "events_url": "https://api.github.com/users/winnerCR7/events{/privacy}", "received_events_url": "https://api.github.com/users/winnerCR7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-03T07:55:24Z", "updated_at": "2023-04-21T21:00:12Z", "closed_at": "2020-08-08T00:24:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I stopped after training 95 epochs. I entered `python train.py --batch-size 16 --img-size 416 --weights weights/last.pt --data data/bdd100k/bdd100k.data --cfg cfg/yolov3-spp-bdd100k.cfg` in the terminal to continue training, and after running a epoch on training set, I reported this error, but I can normally continue training in VScode using the same args. Why is this?\r\n\r\nBTW, after resuming training, how should the training record of TensorBoard be restored? I opened the URL and found that it was always the training record before the training was interrupted, it does not seem to be updated.\r\n\r\nNamespace(adam=False, batch_size=16, bucket='', cache_images=False, cfg='cfg/yolov3-spp-bdd100k.cfg', data='data/bdd100k/bdd100k.data', device='', epochs=300, evolve=False, freeze_layers=False, img_size=[416], multi_scale=False, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, weights='weights/last.pt')\r\nUsing CUDA Apex device0 _CudaDeviceProperties(name='GeForce RTX 2070', total_memory=7979MB)\r\n                device1 _CudaDeviceProperties(name='GeForce GTX 1060 6GB', total_memory=6078MB)\r\n\r\nStart Tensorboard with \"tensorboard --logdir=runs\", view at http://localhost:6006/\r\nModel Summary: 225 layers, 6.26218e+07 parameters, 6.26218e+07 gradients\r\nOptimizer groups: 76 .bias, 76 Conv2d.weight, 73 other\r\nCaching labels data/bdd100k/labels/train.npy (69863 found, 0 missing, 0 empty, 1 duplicate, for 69863 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 69863/69863 [00:02<00:00, 26837.25it/s]\r\nCaching labels data/bdd100k/labels/val.npy (10000 found, 0 missing, 0 empty, 0 duplicate, for 10000 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 10000/10000 [00:00<00:00, 26744.37it/s]\r\nImage sizes 416 - 416 train, 416 test\r\nUsing 8 dataloader workers\r\nStarting training for 300 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n    96/299     4.62G      1.88      1.16     0.383      3.42       329       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 4366/4367 [23:23<00:00,  3.17it/s]Traceback (most recent call last):\r\n  File \"train.py\", line 497, in <module>\r\n    train(hyp)  # train normally\r\n  File \"train.py\", line 322, in train\r\n    scaled_loss.backward()\r\n  File \"/home/cr7/anaconda3/lib/python3.7/site-packages/torch/tensor.py\", line 198, in backward\r\n    torch.autograd.backward(self, gradient, retain_graph, create_graph)\r\n  File \"/home/cr7/anaconda3/lib/python3.7/site-packages/torch/autograd/__init__.py\", line 100, in backward\r\n    allow_unreachable=True)  # allow_unreachable flag\r\nRuntimeError: CUDA out of memory. Tried to allocate 1.56 GiB (GPU 0; 7.79 GiB total capacity; 2.27 GiB already allocated; 1.57 GiB free; 4.26 GiB reserved in total by PyTorch) (malloc at /opt/conda/conda-bld/pytorch_1591914880026/work/c10/cuda/CUDACachingAllocator.cpp:289)\r\nframe #0: c10::Error::Error(c10::SourceLocation, std::string const&) + 0x4e (0x7f1a3129ab5e in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libc10.so)\r\nframe #1: <unknown function> + 0x1f39d (0x7f1a314e639d in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libc10_cuda.so)\r\nframe #2: c10::cuda::CUDACachingAllocator::raw_alloc(unsigned long) + 0x5b (0x7f1a314e098b in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libc10_cuda.so)\r\nframe #3: <unknown function> + 0xd767c6 (0x7f1a3246a7c6 in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cuda.so)\r\nframe #4: <unknown function> + 0xd7af6d (0x7f1a3246ef6d in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cuda.so)\r\nframe #5: <unknown function> + 0xd6dc9a (0x7f1a32461c9a in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cuda.so)\r\nframe #6: <unknown function> + 0xd6f07f (0x7f1a3246307f in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cuda.so)\r\nframe #7: <unknown function> + 0xd72cd0 (0x7f1a32466cd0 in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cuda.so)\r\nframe #8: at::native::cudnn_convolution_backward_weight(c10::ArrayRef<long>, at::Tensor const&, at::Tensor const&, c10::ArrayRef<long>, c10::ArrayRef<long>, c10::ArrayRef<long>, long, bool, bool) + 0x49 (0x7f1a32466f29 in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cuda.so)\r\nframe #9: <unknown function> + 0xdd9880 (0x7f1a324cd880 in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cuda.so)\r\nframe #10: <unknown function> + 0xe1daf8 (0x7f1a32511af8 in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cuda.so)\r\nframe #11: at::native::cudnn_convolution_backward(at::Tensor const&, at::Tensor const&, at::Tensor const&, c10::ArrayRef<long>, c10::ArrayRef<long>, c10::ArrayRef<long>, long, bool, bool, std::array<bool, 2ul>) + 0x2fc (0x7f1a32467bdc in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cuda.so)\r\nframe #12: <unknown function> + 0xdd958b (0x7f1a324cd58b in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cuda.so)\r\nframe #13: <unknown function> + 0xe1db54 (0x7f1a32511b54 in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cuda.so)\r\nframe #14: <unknown function> + 0x29dee26 (0x7f1a5b288e26 in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cpu.so)\r\nframe #15: <unknown function> + 0x2a2e634 (0x7f1a5b2d8634 in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cpu.so)\r\nframe #16: torch::autograd::generated::CudnnConvolutionBackward::apply(std::vector<at::Tensor, std::allocator<at::Tensor> >&&) + 0x378 (0x7f1a5aea0ff8 in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cpu.so)\r\nframe #17: <unknown function> + 0x2ae7df5 (0x7f1a5b391df5 in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cpu.so)\r\nframe #18: torch::autograd::Engine::evaluate_function(std::shared_ptr<torch::autograd::GraphTask>&, torch::autograd::Node*, torch::autograd::InputBuffer&) + 0x16f3 (0x7f1a5b38f0f3 in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cpu.so)\r\nframe #19: torch::autograd::Engine::thread_main(std::shared_ptr<torch::autograd::GraphTask> const&, bool) + 0x3d2 (0x7f1a5b38fed2 in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cpu.so)\r\nframe #20: torch::autograd::Engine::thread_init(int) + 0x39 (0x7f1a5b388549 in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_cpu.so)\r\nframe #21: torch::autograd::python::PythonEngine::thread_init(int) + 0x38 (0x7f1a5e8d8638 in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_python.so)\r\nframe #22: <unknown function> + 0xc819d (0x7f1a613f919d in /home/cr7/anaconda3/lib/python3.7/site-packages/torch/lib/../../../.././libstdc++.so.6)\r\nframe #23: <unknown function> + 0x76db (0x7f1a7a1d86db in /lib/x86_64-linux-gnu/libpthread.so.0)\r\nframe #24: clone + 0x3f (0x7f1a79f0188f in /lib/x86_64-linux-gnu/libc.so.6)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1368/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1361", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1361/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1361/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1361/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1361", "id": 648814346, "node_id": "MDU6SXNzdWU2NDg4MTQzNDY=", "number": 1361, "title": "onnx bug ", "user": {"login": "senlin-ali", "id": 27014306, "node_id": "MDQ6VXNlcjI3MDE0MzA2", "avatar_url": "https://avatars.githubusercontent.com/u/27014306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/senlin-ali", "html_url": "https://github.com/senlin-ali", "followers_url": "https://api.github.com/users/senlin-ali/followers", "following_url": "https://api.github.com/users/senlin-ali/following{/other_user}", "gists_url": "https://api.github.com/users/senlin-ali/gists{/gist_id}", "starred_url": "https://api.github.com/users/senlin-ali/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/senlin-ali/subscriptions", "organizations_url": "https://api.github.com/users/senlin-ali/orgs", "repos_url": "https://api.github.com/users/senlin-ali/repos", "events_url": "https://api.github.com/users/senlin-ali/events{/privacy}", "received_events_url": "https://api.github.com/users/senlin-ali/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-01T09:13:55Z", "updated_at": "2023-04-21T21:00:16Z", "closed_at": "2020-08-06T00:23:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "File \"detect.py\", line 54, in detect\r\n    onnx.checker.check_model(model)  # Check that the IR is well formed\r\n  File \"/apsarapangu/disk3/senlin.csl/envirs/anaconda3/lib/python3.7/site-packages/onnx/checker.py\", line 86, in check_model\r\n    C.check_model(model.SerializeToString())\r\nonnx.onnx_cpp2py_export.checker.ValidationError: Node () has input size 4 not in range [min=2, max=2].\r\n\r\n==> Context: Bad node spec: input: \"329\" input: \"331\" input: \"331\" input: \"338\" output: \"339\" op_type: \"Resize\" attribute { name: \"coordinate_transformation_mode\" s: \"asymmetric\" type: STRING } attribute { name: \"cubic_coeff_a\" f: -0.75 type: FLOAT } attribute { name: \"mode\" s: \"nearest\" type: STRING } attribute { name: \"nearest_mode\" s: \"floor\" type: STRING }\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1361/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1361/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1357", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1357/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1357/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1357/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1357", "id": 647813514, "node_id": "MDU6SXNzdWU2NDc4MTM1MTQ=", "number": 1357, "title": "Unsupported fields ['group_id', 'resize'] in cfg/yolov4-tiny.cfg.  ", "user": {"login": "LVROBOT", "id": 35253012, "node_id": "MDQ6VXNlcjM1MjUzMDEy", "avatar_url": "https://avatars.githubusercontent.com/u/35253012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LVROBOT", "html_url": "https://github.com/LVROBOT", "followers_url": "https://api.github.com/users/LVROBOT/followers", "following_url": "https://api.github.com/users/LVROBOT/following{/other_user}", "gists_url": "https://api.github.com/users/LVROBOT/gists{/gist_id}", "starred_url": "https://api.github.com/users/LVROBOT/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LVROBOT/subscriptions", "organizations_url": "https://api.github.com/users/LVROBOT/orgs", "repos_url": "https://api.github.com/users/LVROBOT/repos", "events_url": "https://api.github.com/users/LVROBOT/events{/privacy}", "received_events_url": "https://api.github.com/users/LVROBOT/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-30T02:56:10Z", "updated_at": "2023-04-21T21:00:19Z", "closed_at": "2020-08-05T00:23:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "When i train two categories by using yolov4-tiny.cfg  \r\n**error is** \r\nTraceback (most recent call last):\r\n  File \"/home/leo/Desktop/DL/yolov3-master/train.py\", line 425, in <module>\r\n    train(hyp)  # train normally\r\n  File \"/home/leo/Desktop/DL/yolov3-master/train.py\", line 91, in train\r\n    model = Darknet(cfg).to(device)\r\n  File \"/home/leo/Desktop/DL/yolov3-master/models.py\", line 225, in __init__\r\n    self.module_defs = parse_model_cfg(cfg)\r\n  File \"/home/leo/Desktop/DL/yolov3-master/utils/parse_config.py\", line 49, in parse_model_cfg\r\n    assert not any(u), \"Unsupported fields %s in %s. See https://github.com/ultralytics/yolov3/issues/631\" % (u, path)\r\nAssertionError: Unsupported fields ['group_id', 'resize'] in cfg/yolov4-tiny.cfg. See https://github.com/ultralytics/yolov3/issues/631", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1357/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1357/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1355", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1355/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1355/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1355/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1355", "id": 647209109, "node_id": "MDU6SXNzdWU2NDcyMDkxMDk=", "number": 1355, "title": "TypeError: forward() missing 1 required positional argument: 'x'", "user": {"login": "lzc274500", "id": 44666637, "node_id": "MDQ6VXNlcjQ0NjY2NjM3", "avatar_url": "https://avatars.githubusercontent.com/u/44666637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lzc274500", "html_url": "https://github.com/lzc274500", "followers_url": "https://api.github.com/users/lzc274500/followers", "following_url": "https://api.github.com/users/lzc274500/following{/other_user}", "gists_url": "https://api.github.com/users/lzc274500/gists{/gist_id}", "starred_url": "https://api.github.com/users/lzc274500/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lzc274500/subscriptions", "organizations_url": "https://api.github.com/users/lzc274500/orgs", "repos_url": "https://api.github.com/users/lzc274500/repos", "events_url": "https://api.github.com/users/lzc274500/events{/privacy}", "received_events_url": "https://api.github.com/users/lzc274500/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-06-29T08:12:16Z", "updated_at": "2023-04-21T21:00:21Z", "closed_at": "2020-08-25T00:26:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nStarting training for 3 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n       0/2     4.85G      4.57      14.4         0      18.9        82       576\r\n               Class    Images   Targets         P         R   mAP@0.5        F1:  50%|\u258c| 1/2 [00:29<00:\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 425, in <module>\r\n    train(hyp)  # train normally\r\n  File \"train.py\", line 327, in train\r\n    multi_label=ni > n_burn)\r\n  File \"/home/lzc/yolov3-master/test.py\", line 92, in test\r\n    inf_out, train_out = model(imgs, augment=augment)  # inference and training outputs\r\n  File \"/home/lzc/.local/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 550, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/lzc/.local/lib/python3.7/site-packages/torch/nn/parallel/distributed.py\", line 460, in forward\r\n    outputs = self.parallel_apply(self._module_copies[:len(inputs)], inputs, kwargs)\r\n  File \"/home/lzc/.local/lib/python3.7/site-packages/torch/nn/parallel/distributed.py\", line 485, in parallel_apply\r\n    return parallel_apply(replicas, inputs, kwargs, self.device_ids[:len(replicas)])\r\n  File \"/home/lzc/.local/lib/python3.7/site-packages/torch/nn/parallel/parallel_apply.py\", line 85, in parallel_apply\r\n    output.reraise()\r\n  File \"/home/lzc/.local/lib/python3.7/site-packages/torch/_utils.py\", line 395, in reraise\r\n    raise self.exc_type(msg)\r\nTypeError: Caught TypeError in replica 7 on device 7.\r\nOriginal Traceback (most recent call last):\r\n  File \"/home/lzc/.local/lib/python3.7/site-packages/torch/nn/parallel/parallel_apply.py\", line 60, in _worker\r\n    output = module(*input, **kwargs)\r\n  File \"/home/lzc/.local/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 550, in __call__\r\n    result = self.forward(*input, **kwargs)\r\nTypeError: forward() missing 1 required positional argument: 'x'", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1355/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1355/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1353", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1353/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1353/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1353/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1353", "id": 647112838, "node_id": "MDU6SXNzdWU2NDcxMTI4Mzg=", "number": 1353, "title": "Tech Community", "user": {"login": "somalicommunity11S", "id": 61962746, "node_id": "MDQ6VXNlcjYxOTYyNzQ2", "avatar_url": "https://avatars.githubusercontent.com/u/61962746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/somalicommunity11S", "html_url": "https://github.com/somalicommunity11S", "followers_url": "https://api.github.com/users/somalicommunity11S/followers", "following_url": "https://api.github.com/users/somalicommunity11S/following{/other_user}", "gists_url": "https://api.github.com/users/somalicommunity11S/gists{/gist_id}", "starred_url": "https://api.github.com/users/somalicommunity11S/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/somalicommunity11S/subscriptions", "organizations_url": "https://api.github.com/users/somalicommunity11S/orgs", "repos_url": "https://api.github.com/users/somalicommunity11S/repos", "events_url": "https://api.github.com/users/somalicommunity11S/events{/privacy}", "received_events_url": "https://api.github.com/users/somalicommunity11S/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-29T05:00:25Z", "updated_at": "2023-04-21T21:00:24Z", "closed_at": "2020-06-29T05:27:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before submitting a bug report, please be aware that your issue **must be reproducible** with all of the following, otherwise it is non-actionable, and we can not help you:\n - **Current repository**: run `git fetch && git status -uno` to check and `git pull` to update your repo\n - **Common dataset**: coco2017.data or coco64.data\n - **Common environment**: Colab, Google Cloud, or Docker image. See https://github.com/ultralytics/yolov3#reproduce-our-environment\n \nIf this is a custom dataset/training question you **must include** your `train*.jpg`, `test*.jpg` and `results.png` figures, or we can not help you. You can generate results.png with `utils.plot_results()`.\n\n\n## \ud83d\udc1b Bug\nA clear and concise description of what the bug is.\n\n\n## To Reproduce (REQUIRED)\n\nInput:\n```\nimport torch\n\na = torch.tensor([5])\nc = a / 0\n```\n\nOutput:\n```\nTraceback (most recent call last):\n  File \"/Users/glennjocher/opt/anaconda3/envs/env1/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3331, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"<ipython-input-5-be04c762b799>\", line 5, in <module>\n    c = a / 0\nRuntimeError: ZeroDivisionError\n```\n\n\n## Expected behavior\nA clear and concise description of what you expected to happen.\n\n\n## Environment\nIf applicable, add screenshots to help explain your problem.\n\n - OS: [e.g. Ubuntu]\n - GPU [e.g. 2080 Ti]\n\n\n## Additional context\nAdd any other context about the problem here.\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1353/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1353/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1349", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1349/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1349/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1349/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1349", "id": 646655722, "node_id": "MDU6SXNzdWU2NDY2NTU3MjI=", "number": 1349, "title": "Train on custom dataset - anchors", "user": {"login": "alex96295", "id": 62642743, "node_id": "MDQ6VXNlcjYyNjQyNzQz", "avatar_url": "https://avatars.githubusercontent.com/u/62642743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex96295", "html_url": "https://github.com/alex96295", "followers_url": "https://api.github.com/users/alex96295/followers", "following_url": "https://api.github.com/users/alex96295/following{/other_user}", "gists_url": "https://api.github.com/users/alex96295/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex96295/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex96295/subscriptions", "organizations_url": "https://api.github.com/users/alex96295/orgs", "repos_url": "https://api.github.com/users/alex96295/repos", "events_url": "https://api.github.com/users/alex96295/events{/privacy}", "received_events_url": "https://api.github.com/users/alex96295/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-27T10:33:48Z", "updated_at": "2023-04-21T21:00:27Z", "closed_at": "2020-08-22T00:26:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I have a question since it is not specified in the Custom dataset training tutorial. If I want to train on a custom dataset, should I compute my own anchors or can I use those from the official yolo? As far as I know, anchors are bounded to dataset\r\n\r\nThank you", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1349/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1342", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1342/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1342/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1342/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1342", "id": 645641765, "node_id": "MDU6SXNzdWU2NDU2NDE3NjU=", "number": 1342, "title": "LoadImages not resizing images correctly", "user": {"login": "prathik-naidu", "id": 28445560, "node_id": "MDQ6VXNlcjI4NDQ1NTYw", "avatar_url": "https://avatars.githubusercontent.com/u/28445560?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prathik-naidu", "html_url": "https://github.com/prathik-naidu", "followers_url": "https://api.github.com/users/prathik-naidu/followers", "following_url": "https://api.github.com/users/prathik-naidu/following{/other_user}", "gists_url": "https://api.github.com/users/prathik-naidu/gists{/gist_id}", "starred_url": "https://api.github.com/users/prathik-naidu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prathik-naidu/subscriptions", "organizations_url": "https://api.github.com/users/prathik-naidu/orgs", "repos_url": "https://api.github.com/users/prathik-naidu/repos", "events_url": "https://api.github.com/users/prathik-naidu/events{/privacy}", "received_events_url": "https://api.github.com/users/prathik-naidu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-25T15:09:36Z", "updated_at": "2023-04-21T21:00:31Z", "closed_at": "2020-07-31T00:23:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nWhen running detect.py,\r\n```\r\nimgsz = (320, 192) if ONNX_EXPORT else opt.img_size  # (320, 192) or (416, 256) or (608, 352) for (height, width)\r\n```\r\nimplies that this is (height, width) from the comment. Then when you run the following line:\r\n\r\n```\r\ndataset = LoadImages(source, img_size=imgsz)\r\n```\r\n\r\nthis should load images with the desired input imgsz. However, the resulting images are not of that size. For example, `zidane.jpg` is of size `(720, 1280)` in (height, width), but the returned image from LoadImages is of shape `(128, 192, 3)`. The reason is because of the `letterbox` function in `LoadImages` which takes in the imgsz of (320,192). However, if that imgsz is (192, 320), which correctly corresponds to (height, width), then the returned result has shape `(192, 320, 3)`.\r\n\r\nIs this expected behavior?\r\n\r\n## To Reproduce\r\n\r\nInput\r\n```\r\nimgsz = (320, 192)\r\nimg0 = cv2.imread('./data/samples/zidane.jpg')\r\nimg = letterbox(img0, new_shape=imgsz)[0]\r\nprint(img.shape)\r\n```\r\n\r\nOutput:\r\n```\r\n(128, 192, 3) #this should be resized so the image has 320 in one dimension\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1342/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1341", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1341/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1341/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1341/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1341", "id": 645503980, "node_id": "MDU6SXNzdWU2NDU1MDM5ODA=", "number": 1341, "title": "io[..., :4] *= self.stride", "user": {"login": "jingweirobot", "id": 16535445, "node_id": "MDQ6VXNlcjE2NTM1NDQ1", "avatar_url": "https://avatars.githubusercontent.com/u/16535445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jingweirobot", "html_url": "https://github.com/jingweirobot", "followers_url": "https://api.github.com/users/jingweirobot/followers", "following_url": "https://api.github.com/users/jingweirobot/following{/other_user}", "gists_url": "https://api.github.com/users/jingweirobot/gists{/gist_id}", "starred_url": "https://api.github.com/users/jingweirobot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jingweirobot/subscriptions", "organizations_url": "https://api.github.com/users/jingweirobot/orgs", "repos_url": "https://api.github.com/users/jingweirobot/repos", "events_url": "https://api.github.com/users/jingweirobot/events{/privacy}", "received_events_url": "https://api.github.com/users/jingweirobot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-25T12:00:57Z", "updated_at": "2020-07-05T09:02:57Z", "closed_at": "2020-07-05T09:02:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "model.py\r\n\r\nDear Dr.\r\n\r\n  Could you explain this meaning of   io[..., :4] *= self.stride in YOLO class for inference ?  Thanks a lot.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1341/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1337", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1337/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1337/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1337/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1337", "id": 644507357, "node_id": "MDU6SXNzdWU2NDQ1MDczNTc=", "number": 1337, "title": "AssertionError: Image Not Found ../dataset/images/train/4501.jpeg", "user": {"login": "Al-Razi-KR", "id": 61910469, "node_id": "MDQ6VXNlcjYxOTEwNDY5", "avatar_url": "https://avatars.githubusercontent.com/u/61910469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Al-Razi-KR", "html_url": "https://github.com/Al-Razi-KR", "followers_url": "https://api.github.com/users/Al-Razi-KR/followers", "following_url": "https://api.github.com/users/Al-Razi-KR/following{/other_user}", "gists_url": "https://api.github.com/users/Al-Razi-KR/gists{/gist_id}", "starred_url": "https://api.github.com/users/Al-Razi-KR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Al-Razi-KR/subscriptions", "organizations_url": "https://api.github.com/users/Al-Razi-KR/orgs", "repos_url": "https://api.github.com/users/Al-Razi-KR/repos", "events_url": "https://api.github.com/users/Al-Razi-KR/events{/privacy}", "received_events_url": "https://api.github.com/users/Al-Razi-KR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-24T10:34:35Z", "updated_at": "2023-04-21T21:00:33Z", "closed_at": "2020-06-24T15:05:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Input:\r\n```\r\npython3 train.py --img 640 --batch 16 --epochs 5 --data ./data/dataset.yaml --cfg ./models/yolov5s.yaml --weights weights/yolov5s.pt\r\n```\r\n\r\nOutput:\r\n```\r\nUnable to init server: Could not connect: Connection refused\r\nUnable to init server: Could not connect: Connection refused\r\n\r\n(train.py:19670): Gdk-CRITICAL **: 18:33:23.890: gdk_cursor_new_for_display: assertion 'GDK_IS_DISPLAY (display)' failed\r\nApex recommended for faster mixed precision training: https://github.com/NVIDIA/apex\r\n{'lr0': 0.01, 'momentum': 0.937, 'weight_decay': 0.0005, 'giou': 0.05, 'cls': 0.58, 'cls_pw': 1.0, 'obj': 1.0, 'obj_pw': 1.0, 'iou_t': 0.2, 'anchor_t': 4.0, 'fl_gamma': 0.0, 'hsv_h': 0.014, 'hsv_s': 0.68, 'hsv_v': 0.36, 'degrees': 0.0, 'translate': 0.0, 'scale': 0.5, 'shear': 0.0}\r\nYour branch is behind 'origin/master' by 1 commit, and can be fast-forwarded.\r\n  (use \"git pull\" to update your local branch)\r\n\r\nNamespace(adam=False, batch_size=16, bucket='', cache_images=False, cfg='./models/yolov5s.yaml', data='./data/dataset.yaml', device='', epochs=5, evolve=False, img_size=[640], multi_scale=False, name='', noautoanchor=False, nosave=False, notest=False, rect=False, resume=False, single_cls=False, weights='weights/yolov5s.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11019MB)\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/dtypes.py:526: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/dtypes.py:527: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/dtypes.py:528: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/dtypes.py:529: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/dtypes.py:530: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/dtypes.py:535: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\nStart Tensorboard with \"tensorboard --logdir=runs\", view at http://localhost:6006/\r\n\r\n              from  n    params  module                                  arguments\r\n  0             -1  1      3520  models.common.Focus                     [3, 32, 3]\r\n  1             -1  1     18560  models.common.Conv                      [32, 64, 3, 2]\r\n  2             -1  1     19904  models.common.BottleneckCSP             [64, 64, 1]\r\n  3             -1  1     73984  models.common.Conv                      [64, 128, 3, 2]\r\n  4             -1  1    161152  models.common.BottleneckCSP             [128, 128, 3]\r\n  5             -1  1    295424  models.common.Conv                      [128, 256, 3, 2]\r\n  6             -1  1    641792  models.common.BottleneckCSP             [256, 256, 3]\r\n  7             -1  1   1180672  models.common.Conv                      [256, 512, 3, 2]\r\n  8             -1  1    656896  models.common.SPP                       [512, 512, [5, 9, 13]]\r\n  9             -1  1   1248768  models.common.BottleneckCSP             [512, 512, 1, False]\r\n 10             -1  1    131584  models.common.Conv                      [512, 256, 1, 1]\r\n 11             -1  1         0  torch.nn.modules.upsampling.Upsample    [None, 2, 'nearest']\r\n 12        [-1, 6]  1         0  models.common.Concat                    [1]\r\n 13             -1  1    378624  models.common.BottleneckCSP             [512, 256, 1, False]\r\n 14             -1  1     33024  models.common.Conv                      [256, 128, 1, 1]\r\n 15             -1  1         0  torch.nn.modules.upsampling.Upsample    [None, 2, 'nearest']\r\n 16        [-1, 4]  1         0  models.common.Concat                    [1]\r\n 17             -1  1     95104  models.common.BottleneckCSP             [256, 128, 1, False]\r\n 18             -1  1      3483  torch.nn.modules.conv.Conv2d            [128, 27, 1, 1]\r\n 19             -2  1    147712  models.common.Conv                      [128, 128, 3, 2]\r\n 20       [-1, 14]  1         0  models.common.Concat                    [1]\r\n 21             -1  1    313088  models.common.BottleneckCSP             [256, 256, 1, False]\r\n 22             -1  1      6939  torch.nn.modules.conv.Conv2d            [256, 27, 1, 1]\r\n 23             -2  1    590336  models.common.Conv                      [256, 256, 3, 2]\r\n 24       [-1, 10]  1         0  models.common.Concat                    [1]\r\n 25             -1  1   1248768  models.common.BottleneckCSP             [512, 512, 1, False]\r\n 26             -1  1     13851  torch.nn.modules.conv.Conv2d            [512, 27, 1, 1]\r\n 27   [-1, 22, 18]  1         0  models.yolo.Detect                      [4, [[116, 90, 156, 198, 373, 326], [30, 61, 62, 45, 59, 119], [10, 13, 16, 30, 33, 23]]]\r\nModel Summary: 191 layers, 7.26318e+06 parameters, 7.26318e+06 gradients\r\n\r\nOptimizer groups: 62 .bias, 70 conv.weight, 59 other\r\nCaching labels ../dataset/labels/train.npy (8582 found, 0 missing, 0 empty, 674 duplicate, for 8582 images): 100%|\u2588\u2588\u2588\u2588| 8582/8582 [00:00<00:00, 24748.73it/s]\r\nCaching labels ../dataset/labels/val.npy (1958 found, 0 missing, 0 empty, 135 duplicate, for 1958 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588| 1958/1958 [00:00<00:00, 25395.42it/s]\r\n\r\nAnalyzing anchors... Best Possible Recall (BPR) = 0.9977\r\nImage sizes 640 train, 640 test\r\nUsing 1 dataloader workers\r\nStarting training for 5 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n       0/4     4.72G    0.1325   0.03671   0.05608    0.2252        60       640:   2%|\u258a                                    | 12/537 [00:07<03:35,  2.44it/s]Traceback (most recent call last):\r\n  File \"train.py\", line 407, in <module>\r\n    train(hyp)\r\n  File \"train.py\", line 237, in train\r\n    for i, (imgs, targets, paths, _) in pbar:  # batch -------------------------------------------------------------\r\n  File \"/usr/local/lib/python3.6/dist-packages/tqdm/std.py\", line 1081, in __iter__\r\n    for obj in iterable:\r\n  File \"/home/fyp2020s1/.local/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 345, in __next__\r\n    data = self._next_data()\r\n  File \"/home/fyp2020s1/.local/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 856, in _next_data\r\n    return self._process_data(data)\r\n  File \"/home/fyp2020s1/.local/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 881, in _process_data\r\n    data.reraise()\r\n  File \"/home/fyp2020s1/.local/lib/python3.6/site-packages/torch/_utils.py\", line 395, in reraise\r\n    raise self.exc_type(msg)\r\nAssertionError: Caught AssertionError in DataLoader worker process 0.\r\nOriginal Traceback (most recent call last):\r\n  File \"/home/fyp2020s1/.local/lib/python3.6/site-packages/torch/utils/data/_utils/worker.py\", line 178, in _worker_loop\r\n    data = fetcher.fetch(index)\r\n  File \"/home/fyp2020s1/.local/lib/python3.6/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in fetch\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/home/fyp2020s1/.local/lib/python3.6/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in <listcomp>\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/home/fyp2020s1/YoLo_v5/yolov5/utils/datasets.py\", line 446, in __getitem__\r\n    img, labels = load_mosaic(self, index)\r\n  File \"/home/fyp2020s1/YoLo_v5/yolov5/utils/datasets.py\", line 573, in load_mosaic\r\n    img, _, (h, w) = load_image(self, index)\r\n  File \"/home/fyp2020s1/YoLo_v5/yolov5/utils/datasets.py\", line 534, in load_image\r\n    assert img is not None, 'Image Not Found ' + path\r\nAssertionError: Image Not Found ../dataset/images/train/4501.jpeg\r\n\r\n       0/4     4.72G    0.1325   0.03671   0.05608    0.2252        60       640:   2%|\u258a \r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1337/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1335", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1335/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1335/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1335/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1335", "id": 643485271, "node_id": "MDU6SXNzdWU2NDM0ODUyNzE=", "number": 1335, "title": "What is --accum argument used for?", "user": {"login": "TommyZihao", "id": 36354458, "node_id": "MDQ6VXNlcjM2MzU0NDU4", "avatar_url": "https://avatars.githubusercontent.com/u/36354458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TommyZihao", "html_url": "https://github.com/TommyZihao", "followers_url": "https://api.github.com/users/TommyZihao/followers", "following_url": "https://api.github.com/users/TommyZihao/following{/other_user}", "gists_url": "https://api.github.com/users/TommyZihao/gists{/gist_id}", "starred_url": "https://api.github.com/users/TommyZihao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TommyZihao/subscriptions", "organizations_url": "https://api.github.com/users/TommyZihao/orgs", "repos_url": "https://api.github.com/users/TommyZihao/repos", "events_url": "https://api.github.com/users/TommyZihao/events{/privacy}", "received_events_url": "https://api.github.com/users/TommyZihao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-23T02:44:42Z", "updated_at": "2023-04-21T21:00:36Z", "closed_at": "2020-06-23T05:33:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/36354458/85355057-6d070d80-b53e-11ea-939d-a0a9f2ea45f3.png)\r\n\r\n`python3 train.py --data coco64.data --batch 16 --accum 1 --epochs 300 --nosave --cache --weights yolov3-spp-ultralytics.pt --name from_yolov3-spp-ultralytics`\r\n\r\nWhat is --accum argument used for?\r\nI couldn't find this argument in train.py.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1335/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1325", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1325/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1325/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1325/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1325", "id": 642560376, "node_id": "MDU6SXNzdWU2NDI1NjAzNzY=", "number": 1325, "title": "error  use classes 0            || pic  has 8 persons \uff0cmore", "user": {"login": "liuzimo", "id": 25811500, "node_id": "MDQ6VXNlcjI1ODExNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/25811500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuzimo", "html_url": "https://github.com/liuzimo", "followers_url": "https://api.github.com/users/liuzimo/followers", "following_url": "https://api.github.com/users/liuzimo/following{/other_user}", "gists_url": "https://api.github.com/users/liuzimo/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuzimo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuzimo/subscriptions", "organizations_url": "https://api.github.com/users/liuzimo/orgs", "repos_url": "https://api.github.com/users/liuzimo/repos", "events_url": "https://api.github.com/users/liuzimo/events{/privacy}", "received_events_url": "https://api.github.com/users/liuzimo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-06-21T13:07:59Z", "updated_at": "2023-04-21T21:00:42Z", "closed_at": "2020-06-23T06:48:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\n\r\nInput:\r\n```\r\n!python3 detect.py  --classes 0\r\n#!python3 detect.py --cfg cfg/yolov3-tiny.cfg --weights yolov3-tiny.pt --classes 0\r\n```\r\n\r\nOutput:\r\n```\r\nNamespace(agnostic_nms=False, augment=False, cfg='cfg/yolov3-spp.cfg', classes=[0, 5], conf_thres=0.3, device='', fourcc='mp4v', half=False, img_size=512, iou_thres=0.6, names='data/coco.names', output='output', save_txt=False, source='data/samples', view_img=False, weights='weights/yolov3-spp-ultralytics.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='Tesla K80', total_memory=11441MB)\r\n\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients\r\nimage 1/3 data/samples/bus.jpg: 512x384 3 persons, 1 buss, Done. (0.085s)\r\nimage 2/3 data/samples/zidane.jpg: 320x512 2 persons, Done. (0.075s)\r\nimage 3/3 data/samples/Moment.jpg: Traceback (most recent call last):\r\n  File \"detect.py\", line 191, in <module>\r\n    detect()\r\n  File \"detect.py\", line 98, in detect\r\n    multi_label=False, classes=opt.classes, agnostic=opt.agnostic_nms)\r\n  File \"/content/yolov3/utils/utils.py\", line 520, in non_max_suppression\r\n    x = x[(j.view(-1, 1) == torch.tensor(classes, device=j.device)).any(1)]\r\nIndexError: The shape of the mask [50] at index 0 does not match the shape of the indexed tensor [49, 6] at index 0\r\n```\r\n\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n **no change code\uff0cRun in Google Colab GPU** \r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1325/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1322", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1322/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1322/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1322/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1322", "id": 642349265, "node_id": "MDU6SXNzdWU2NDIzNDkyNjU=", "number": 1322, "title": "\u8bad\u7ec3\u81ea\u5df1\u7684\u6570\u636e\u96c6P\u5f88\u5c0f\uff0cR\u5f88\u5927\u3002", "user": {"login": "17868380981", "id": 51192574, "node_id": "MDQ6VXNlcjUxMTkyNTc0", "avatar_url": "https://avatars.githubusercontent.com/u/51192574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/17868380981", "html_url": "https://github.com/17868380981", "followers_url": "https://api.github.com/users/17868380981/followers", "following_url": "https://api.github.com/users/17868380981/following{/other_user}", "gists_url": "https://api.github.com/users/17868380981/gists{/gist_id}", "starred_url": "https://api.github.com/users/17868380981/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/17868380981/subscriptions", "organizations_url": "https://api.github.com/users/17868380981/orgs", "repos_url": "https://api.github.com/users/17868380981/repos", "events_url": "https://api.github.com/users/17868380981/events{/privacy}", "received_events_url": "https://api.github.com/users/17868380981/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-20T10:11:16Z", "updated_at": "2023-04-21T21:00:44Z", "closed_at": "2020-07-26T00:23:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\u4f60\u597d\uff0c\u6211\u5728\u8bad\u7ec3\u81ea\u5df1\u7684\u6570\u636e\u96c6\u7684\u65f6\u5019\uff0c\u51fa\u73b0\u4e86P\uff080.2\uff09\u503c\u5f88\u5c0f\uff0cR\uff080.7\uff09\u503c\u6bd4\u8f83\u5927\u7684\u60c5\u51b5\uff0c\u8bf7\u95ee\u662f\u4ec0\u4e48\u539f\u56e0\u3002\u6211\u7684\u6570\u636e\u96c6\u662f\u9065\u611f\u6570\u636e\uff0c\u6709\u76f8\u5bf9\u8f83\u5c0f\u7684\u76ee\u6807\u3002\u7528\u7684\u662f\u4e4b\u524d\u5c31\u7248\u672c\u7684yolo\u3002", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1322/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1320", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1320/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1320/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1320/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1320", "id": 641865417, "node_id": "MDU6SXNzdWU2NDE4NjU0MTc=", "number": 1320, "title": "Anchors distribution Problem", "user": {"login": "113HQ", "id": 57024487, "node_id": "MDQ6VXNlcjU3MDI0NDg3", "avatar_url": "https://avatars.githubusercontent.com/u/57024487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/113HQ", "html_url": "https://github.com/113HQ", "followers_url": "https://api.github.com/users/113HQ/followers", "following_url": "https://api.github.com/users/113HQ/following{/other_user}", "gists_url": "https://api.github.com/users/113HQ/gists{/gist_id}", "starred_url": "https://api.github.com/users/113HQ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/113HQ/subscriptions", "organizations_url": "https://api.github.com/users/113HQ/orgs", "repos_url": "https://api.github.com/users/113HQ/repos", "events_url": "https://api.github.com/users/113HQ/events{/privacy}", "received_events_url": "https://api.github.com/users/113HQ/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-06-19T10:20:12Z", "updated_at": "2020-08-02T00:24:25Z", "closed_at": "2020-08-02T00:24:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Now, I have nine anchors, assigning three, four, and two to the last three features of the Yolov3 network respectively, and the code will report an error  like \"shape '[4\uff0c4\uff0c6\uff0c48\uff0c48]' is invalid for input of size 165888 \"", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1320/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1315", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1315/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1315/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1315/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1315", "id": 641475613, "node_id": "MDU6SXNzdWU2NDE0NzU2MTM=", "number": 1315, "title": "Wrong result ", "user": {"login": "JawyZhang", "id": 44539507, "node_id": "MDQ6VXNlcjQ0NTM5NTA3", "avatar_url": "https://avatars.githubusercontent.com/u/44539507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JawyZhang", "html_url": "https://github.com/JawyZhang", "followers_url": "https://api.github.com/users/JawyZhang/followers", "following_url": "https://api.github.com/users/JawyZhang/following{/other_user}", "gists_url": "https://api.github.com/users/JawyZhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/JawyZhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JawyZhang/subscriptions", "organizations_url": "https://api.github.com/users/JawyZhang/orgs", "repos_url": "https://api.github.com/users/JawyZhang/repos", "events_url": "https://api.github.com/users/JawyZhang/events{/privacy}", "received_events_url": "https://api.github.com/users/JawyZhang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-18T18:51:59Z", "updated_at": "2020-08-10T06:19:33Z", "closed_at": "2020-07-31T00:23:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "My dataset is a two-classes dataset.\r\ntrain with yolov3 and detect,but only one class, the other class is detected wrong in every pic,but when train with yolov3-tiny and detect with the weights, the result is right.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1315/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1312", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1312/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1312/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1312/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1312", "id": 639708866, "node_id": "MDU6SXNzdWU2Mzk3MDg4NjY=", "number": 1312, "title": "Error in training data set", "user": {"login": "Dreamskya", "id": 31117684, "node_id": "MDQ6VXNlcjMxMTE3Njg0", "avatar_url": "https://avatars.githubusercontent.com/u/31117684?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dreamskya", "html_url": "https://github.com/Dreamskya", "followers_url": "https://api.github.com/users/Dreamskya/followers", "following_url": "https://api.github.com/users/Dreamskya/following{/other_user}", "gists_url": "https://api.github.com/users/Dreamskya/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dreamskya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dreamskya/subscriptions", "organizations_url": "https://api.github.com/users/Dreamskya/orgs", "repos_url": "https://api.github.com/users/Dreamskya/repos", "events_url": "https://api.github.com/users/Dreamskya/events{/privacy}", "received_events_url": "https://api.github.com/users/Dreamskya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-16T14:21:26Z", "updated_at": "2023-04-21T21:00:53Z", "closed_at": "2020-07-22T00:21:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before submitting a bug report, please ensure that you are using the latest versions of:\r\n - Python  3.7.6\r\n - PyTorch 1.5\r\n - This repository (run `git fetch && git status -uno` to check and `git pull` to update)\r\n \r\n**Your issue must be reproducible on a public dataset (i.e COCO) using the latest version of the repository, and you must supply code to reproduce, or we can not help you.**\r\n\r\nIf this is a custom training question we suggest you include your `train*.jpg`, `test*.jpg` and `results.png` figures.\r\n\r\n\r\n## \ud83d\udc1b Bug\r\nError in training data set\r\n\r\n## To Reproduce\r\n**REQUIRED**: Code to reproduce your issue below\r\n```\r\npython train.py --data data\\rbc.data --cfg cfg\\yolov3-tiny.cfg --epochs 10\r\n```\r\n\r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: [e.g. Ubuntu]\r\n - GPU [e.g. 2080 Ti]\r\n\r\n\r\n## Additional context\r\n(base) F:\\YOLOV3\\yolov3-master>python train.py --data data\\rbc.data --cfg cfg\\yolov3-tiny.cfg --epochs 10\r\nNamespace(adam=False, batch_size=16, bucket='', cache_images=False, cfg='cfg\\\\yolov3-tiny.cfg', data='data\\\\rbc.data', device='', epochs=10, evolve=False, img_size=[320, 640], multi_scale=False, name='', nosave=False, notest=False, rec\r\nt=False, resume=False, single_cls=False, weights='weights/yolov3-tiny.pt')\r\nUsing CUDA Apex device0 _CudaDeviceProperties(name='GeForce GTX 1660', total_memory=6144MB)\r\n\r\nStart Tensorboard with \"tensorboard --logdir=runs\", view at http://localhost:6006/\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 415, in <module>\r\n    train(hyp)  # train normally\r\n  File \"train.py\", line 91, in train\r\n    model = Darknet(cfg).to(device)\r\n  File \"F:\\YOLOV3\\yolov3-master\\models.py\", line 226, in __init__\r\n    self.module_list, self.routs = create_modules(self.module_defs, img_size, cfg)\r\n  File \"F:\\YOLOV3\\yolov3-master\\models.py\", line 33, in create_modules\r\n    bias=not bn))\r\n  File \"C:\\Users\\Administrator\\anaconda3\\lib\\site-packages\\torch\\nn\\modules\\conv.py\", line 338, in __init__\r\n    False, _pair(0), groups, bias, padding_mode)\r\n  File \"C:\\Users\\Administrator\\anaconda3\\lib\\site-packages\\torch\\nn\\modules\\conv.py\", line 26, in __init__\r\n    if out_channels % groups != 0:\r\nTypeError: not all arguments converted during string formatting\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1312/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1288", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1288/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1288/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1288/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1288", "id": 634068341, "node_id": "MDU6SXNzdWU2MzQwNjgzNDE=", "number": 1288, "title": "A problem about \"pytorch yolov3 test.py \"", "user": {"login": "gq-song", "id": 51391786, "node_id": "MDQ6VXNlcjUxMzkxNzg2", "avatar_url": "https://avatars.githubusercontent.com/u/51391786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gq-song", "html_url": "https://github.com/gq-song", "followers_url": "https://api.github.com/users/gq-song/followers", "following_url": "https://api.github.com/users/gq-song/following{/other_user}", "gists_url": "https://api.github.com/users/gq-song/gists{/gist_id}", "starred_url": "https://api.github.com/users/gq-song/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gq-song/subscriptions", "organizations_url": "https://api.github.com/users/gq-song/orgs", "repos_url": "https://api.github.com/users/gq-song/repos", "events_url": "https://api.github.com/users/gq-song/events{/privacy}", "received_events_url": "https://api.github.com/users/gq-song/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-08T03:35:11Z", "updated_at": "2023-04-21T21:01:14Z", "closed_at": "2020-06-08T03:52:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nThe following problems occurred during the test.\r\n\r\n![Snipaste_2020-06-08_11-24-16](https://user-images.githubusercontent.com/51391786/83989994-b9691f80-a97a-11ea-843c-ec945bd6e0df.jpg)\r\n\r\nmy train.py setting :\r\n![Snipaste_2020-06-08_11-27-46](https://user-images.githubusercontent.com/51391786/83990134-33010d80-a97b-11ea-9b14-83494435db87.jpg)\r\nmy test.py setting :\r\n![Snipaste_2020-06-08_11-27-09](https://user-images.githubusercontent.com/51391786/83990183-55932680-a97b-11ea-8613-85884f0b26b0.jpg)\r\n\r\nI have changed the \"yolov3-spp-1cls.cfg\" anchor number\r\n![Snipaste_2020-06-08_11-31-44](https://user-images.githubusercontent.com/51391786/83990277-ac98fb80-a97b-11ea-87e8-97674d8665a7.jpg)\r\n\r\nI also changed the hyp, but I think it's no problem.\r\n\r\n\r\nLooking forward to your reply\uff01\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1288/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1287", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1287/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1287/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1287/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1287", "id": 633153375, "node_id": "MDU6SXNzdWU2MzMxNTMzNzU=", "number": 1287, "title": "map result is different with given data", "user": {"login": "zidanexu", "id": 54395639, "node_id": "MDQ6VXNlcjU0Mzk1NjM5", "avatar_url": "https://avatars.githubusercontent.com/u/54395639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zidanexu", "html_url": "https://github.com/zidanexu", "followers_url": "https://api.github.com/users/zidanexu/followers", "following_url": "https://api.github.com/users/zidanexu/following{/other_user}", "gists_url": "https://api.github.com/users/zidanexu/gists{/gist_id}", "starred_url": "https://api.github.com/users/zidanexu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zidanexu/subscriptions", "organizations_url": "https://api.github.com/users/zidanexu/orgs", "repos_url": "https://api.github.com/users/zidanexu/repos", "events_url": "https://api.github.com/users/zidanexu/events{/privacy}", "received_events_url": "https://api.github.com/users/zidanexu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-07T07:36:44Z", "updated_at": "2023-04-21T21:01:16Z", "closed_at": "2020-06-08T03:59:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi , I. run  the default command  \" python train.py --weights '' --device='4,5,6,7'  .      datasets used is coco2017.  Is the test result is  normal? ( eg. the 0.5map is 0.416, lower than 43.2) : \r\n![image](https://user-images.githubusercontent.com/54395639/83962896-0a720880-a8d4-11ea-94f7-480ddc68a83e.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1287/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1282", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1282/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1282/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1282/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1282", "id": 632033103, "node_id": "MDU6SXNzdWU2MzIwMzMxMDM=", "number": 1282, "title": "Yolov4-relu inference giving displaced bboxes", "user": {"login": "M-S-KHAN", "id": 51326962, "node_id": "MDQ6VXNlcjUxMzI2OTYy", "avatar_url": "https://avatars.githubusercontent.com/u/51326962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/M-S-KHAN", "html_url": "https://github.com/M-S-KHAN", "followers_url": "https://api.github.com/users/M-S-KHAN/followers", "following_url": "https://api.github.com/users/M-S-KHAN/following{/other_user}", "gists_url": "https://api.github.com/users/M-S-KHAN/gists{/gist_id}", "starred_url": "https://api.github.com/users/M-S-KHAN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/M-S-KHAN/subscriptions", "organizations_url": "https://api.github.com/users/M-S-KHAN/orgs", "repos_url": "https://api.github.com/users/M-S-KHAN/repos", "events_url": "https://api.github.com/users/M-S-KHAN/events{/privacy}", "received_events_url": "https://api.github.com/users/M-S-KHAN/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-05T22:50:57Z", "updated_at": "2023-04-21T21:01:21Z", "closed_at": "2020-06-10T18:47:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have trained yolov4-relu on custom dataset with 17 classes. I have made following changes:\r\n\r\n1. No. of classes to 17 in each yolo layer\r\n2. No. of filters to 66 ([5 + 17] * 3)\r\n3. Altered the GIoU hyperparameter value to 1.00 due to \"WARNING: non-finite loss, ending training tensor([nan, nan, 0., nan], device='cuda:0')\" issue\r\n4. Batch size = 6\r\n\r\n![3](https://user-images.githubusercontent.com/51326962/83928297-b4ed0d00-a7a8-11ea-8c79-2c42540698e1.jpg)\r\n\r\n**Note: I have also tried to scale it down using model output in order to see if there is any issue in the drawing code but the issue persists.**", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1282/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1282/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1272", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1272/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1272/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1272/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1272", "id": 629787095, "node_id": "MDU6SXNzdWU2Mjk3ODcwOTU=", "number": 1272, "title": "No such a file or directory: 'data/2007_val.shapes'", "user": {"login": "1343464520", "id": 24668916, "node_id": "MDQ6VXNlcjI0NjY4OTE2", "avatar_url": "https://avatars.githubusercontent.com/u/24668916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1343464520", "html_url": "https://github.com/1343464520", "followers_url": "https://api.github.com/users/1343464520/followers", "following_url": "https://api.github.com/users/1343464520/following{/other_user}", "gists_url": "https://api.github.com/users/1343464520/gists{/gist_id}", "starred_url": "https://api.github.com/users/1343464520/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1343464520/subscriptions", "organizations_url": "https://api.github.com/users/1343464520/orgs", "repos_url": "https://api.github.com/users/1343464520/repos", "events_url": "https://api.github.com/users/1343464520/events{/privacy}", "received_events_url": "https://api.github.com/users/1343464520/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-03T08:07:48Z", "updated_at": "2023-04-21T21:01:29Z", "closed_at": "2020-07-09T00:20:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "when i run the train.py, the error is as flowing:\r\n(env_python3.6) devin@devin:/media/devin/Elements/YOLOv3-complete-pruning-master$ python3 train_person.py --data data/obj_person.data --batch-size 16 --accumulate 1 --weights weights/weights/yolov3.weights --cfg cfg/yolov3-person.cfg\r\nNamespace(accumulate=1, adam=False, arc='default', batch_size=16, bucket='', cache_images=False, cfg='cfg/yolov3-person.cfg', data='data/obj_person.data', device='', epochs=273, evolve=False, img_size=416, img_weights=False, multi_scale=False, name='', nosave=False, notest=False, prebias=False, prune=0, rect=False, resume=False, s=0.001, sr=False, transfer=False, var=None, weights='weights/weights/yolov3.weights')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1070', total_memory=8117MB)\r\n\r\nsingle-gpu sparse\r\nnormal sparse training\r\nReading labels (16839 found, 0 missing, 17 empty for 16856 images): 100%|\u2588| 16856/16856 [00:02<00:00,\r\nModel Summary: 222 layers, 6.15237e+07 parameters, 6.15237e+07 gradients\r\nStarting training for 273 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n     0/272     7.23G     0.874     0.566         0      1.44        16       416: 100%|\u2588| 1054/1054 [\r\nReading image shapes:  95%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 2256/2372 [00:00<00:00, 7493.97it/s]Traceback (most recent call last):\r\n  File \"/media/devin/Elements/YOLOv3-complete-pruning-master/utils/datasets.py\", line 287, in __init__\r\n    with open(sp, 'r') as f:  # read existing shapefile\r\nFileNotFoundError: [Errno 2] No such file or directory: 'data/2007_val_ubuntu.shapes'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"train_person.py\", line 479, in <module>\r\n    train()  # train normally\r\n  File \"train_person.py\", line 360, in train\r\n    save_json=final_epoch and epoch > 0 and 'coco.data' in data)\r\n  File \"/media/devin/Elements/YOLOv3-complete-pruning-master/test.py\", line 55, in test\r\n    dataset = LoadImagesAndLabels(test_path, img_size, batch_size)\r\n  File \"/media/devin/Elements/YOLOv3-complete-pruning-master/utils/datasets.py\", line 291, in __init__\r\n    s = [exif_size(Image.open(f)) for f in tqdm(self.img_files, desc='Reading image shapes')]\r\n  File \"/media/devin/Elements/YOLOv3-complete-pruning-master/utils/datasets.py\", line 291, in <listcomp>\r\n    s = [exif_size(Image.open(f)) for f in tqdm(self.img_files, desc='Reading image shapes')]\r\n  File \"/home/devin/anaconda3/envs/env_python3.6/lib/python3.6/site-packages/PIL/Image.py\", line 2609, in open\r\n    fp = builtins.open(filename, \"rb\")\r\nFileNotFoundError: [Errno 2] No such file or directory: '/media/devin/B4FC4C43FC4BFDDC/Darknet-win/darknet-master/scripts/VOCdevkit_person/VOC2007/JPEGImages/640x480_9998.jpg'\r\nReading image shapes: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 2370/2372 [00:00<00:00, 6964.55it/s]\r\n\r\ni try to delete all the .shapes files in the ./data fold, but it still doesn't work... please help, thanks!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1272/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1266", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1266/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1266/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1266/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1266", "id": 628877568, "node_id": "MDU6SXNzdWU2Mjg4Nzc1Njg=", "number": 1266, "title": "GPU memory of spp v3 during inference is relatively high compared to other repos", "user": {"login": "Miracle2333", "id": 27708595, "node_id": "MDQ6VXNlcjI3NzA4NTk1", "avatar_url": "https://avatars.githubusercontent.com/u/27708595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miracle2333", "html_url": "https://github.com/Miracle2333", "followers_url": "https://api.github.com/users/Miracle2333/followers", "following_url": "https://api.github.com/users/Miracle2333/following{/other_user}", "gists_url": "https://api.github.com/users/Miracle2333/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miracle2333/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miracle2333/subscriptions", "organizations_url": "https://api.github.com/users/Miracle2333/orgs", "repos_url": "https://api.github.com/users/Miracle2333/repos", "events_url": "https://api.github.com/users/Miracle2333/events{/privacy}", "received_events_url": "https://api.github.com/users/Miracle2333/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-02T03:45:56Z", "updated_at": "2020-07-09T00:20:34Z", "closed_at": "2020-07-09T00:20:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am done with training yolov3-spp and got the desired results in terms of mAp and FPS. Nevertheless, the model weights increased twice compared with the pre-trained one (from 241mb to 478mb). The gpu memory taken for inference is almost 2500mb. (see gpu 2 in the figure)\r\n![image](https://user-images.githubusercontent.com/27708595/83477668-64369500-a4c6-11ea-96bb-8b6145125b99.png)\r\n\r\n\r\nI used other repos of yolov3 (https://github.com/eriklindernoren/PyTorch-YOLOv3) before. The gpu memory is only 900mb around. Any reason for the higher GPU memory and bigger weights? Is it only because of the spp part of the model?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1266/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1266/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1257", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1257/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1257/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1257/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1257", "id": 627879450, "node_id": "MDU6SXNzdWU2Mjc4Nzk0NTA=", "number": 1257, "title": "conf_thres and iou_thres setting", "user": {"login": "WANG-1173", "id": 52961532, "node_id": "MDQ6VXNlcjUyOTYxNTMy", "avatar_url": "https://avatars.githubusercontent.com/u/52961532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WANG-1173", "html_url": "https://github.com/WANG-1173", "followers_url": "https://api.github.com/users/WANG-1173/followers", "following_url": "https://api.github.com/users/WANG-1173/following{/other_user}", "gists_url": "https://api.github.com/users/WANG-1173/gists{/gist_id}", "starred_url": "https://api.github.com/users/WANG-1173/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WANG-1173/subscriptions", "organizations_url": "https://api.github.com/users/WANG-1173/orgs", "repos_url": "https://api.github.com/users/WANG-1173/repos", "events_url": "https://api.github.com/users/WANG-1173/events{/privacy}", "received_events_url": "https://api.github.com/users/WANG-1173/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-31T02:53:28Z", "updated_at": "2023-04-21T21:01:39Z", "closed_at": "2020-05-31T02:56:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "When evaluating MAP values use test.py, conf_ thres and iou_thres what is the general setting of thres? What is the general setting of epoch during training?Please", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1257/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1254", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1254/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1254/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1254/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1254", "id": 627632366, "node_id": "MDU6SXNzdWU2Mjc2MzIzNjY=", "number": 1254, "title": "Two labels but train for one ", "user": {"login": "wzj5133329", "id": 40861010, "node_id": "MDQ6VXNlcjQwODYxMDEw", "avatar_url": "https://avatars.githubusercontent.com/u/40861010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wzj5133329", "html_url": "https://github.com/wzj5133329", "followers_url": "https://api.github.com/users/wzj5133329/followers", "following_url": "https://api.github.com/users/wzj5133329/following{/other_user}", "gists_url": "https://api.github.com/users/wzj5133329/gists{/gist_id}", "starred_url": "https://api.github.com/users/wzj5133329/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wzj5133329/subscriptions", "organizations_url": "https://api.github.com/users/wzj5133329/orgs", "repos_url": "https://api.github.com/users/wzj5133329/repos", "events_url": "https://api.github.com/users/wzj5133329/events{/privacy}", "received_events_url": "https://api.github.com/users/wzj5133329/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-05-30T02:23:51Z", "updated_at": "2023-04-21T21:01:45Z", "closed_at": "2020-05-31T13:31:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've prepared two kinds of data, but  seem to have trained only one kind in training\uff0cI do not add \r\n--single-cls  ,\r\nI create label.txt like this\r\n1 0.5 0.022388059701492536 0.98 0.04477611940298507\r\n0 0.125 0.5223880597014925 0.25 0.9552238805970149\r\n0 0.375 0.5223880597014925 0.25 0.9552238805970149\r\n0 0.625 0.5223880597014925 0.25 0.9552238805970149\r\n0 0.875 0.5223880597014925 0.25 0.9552238805970149\r\nis this wrong?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1251", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1251/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1251/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1251/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1251", "id": 626773935, "node_id": "MDU6SXNzdWU2MjY3NzM5MzU=", "number": 1251, "title": "while training a model, validation in each epoch takes more time than training", "user": {"login": "joel5638", "id": 38422983, "node_id": "MDQ6VXNlcjM4NDIyOTgz", "avatar_url": "https://avatars.githubusercontent.com/u/38422983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joel5638", "html_url": "https://github.com/joel5638", "followers_url": "https://api.github.com/users/joel5638/followers", "following_url": "https://api.github.com/users/joel5638/following{/other_user}", "gists_url": "https://api.github.com/users/joel5638/gists{/gist_id}", "starred_url": "https://api.github.com/users/joel5638/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joel5638/subscriptions", "organizations_url": "https://api.github.com/users/joel5638/orgs", "repos_url": "https://api.github.com/users/joel5638/repos", "events_url": "https://api.github.com/users/joel5638/events{/privacy}", "received_events_url": "https://api.github.com/users/joel5638/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2020-05-28T19:55:41Z", "updated_at": "2020-07-22T00:21:42Z", "closed_at": "2020-07-22T00:21:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have 19,000 images in the training and 13,000 images in testing.I'm trying to train a model using --multi-scale.\r\n**But the time taken for validation is higher for each epoch than the training. Is it because of the -multiscale?**\r\n\r\nif training is taking 26mins, validation is taking 30mins for each epoch", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1251/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1248", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1248/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1248/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1248/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1248", "id": 625874777, "node_id": "MDU6SXNzdWU2MjU4NzQ3Nzc=", "number": 1248, "title": "utils.py: list index out of range", "user": {"login": "Mithzyl", "id": 21375370, "node_id": "MDQ6VXNlcjIxMzc1Mzcw", "avatar_url": "https://avatars.githubusercontent.com/u/21375370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mithzyl", "html_url": "https://github.com/Mithzyl", "followers_url": "https://api.github.com/users/Mithzyl/followers", "following_url": "https://api.github.com/users/Mithzyl/following{/other_user}", "gists_url": "https://api.github.com/users/Mithzyl/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mithzyl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mithzyl/subscriptions", "organizations_url": "https://api.github.com/users/Mithzyl/orgs", "repos_url": "https://api.github.com/users/Mithzyl/repos", "events_url": "https://api.github.com/users/Mithzyl/events{/privacy}", "received_events_url": "https://api.github.com/users/Mithzyl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-05-27T17:11:28Z", "updated_at": "2023-04-21T21:01:50Z", "closed_at": "2020-07-04T00:19:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "If this is a custom training question we suggest you include your `train*.jpg`, `test*.jpg` and `results.png` figures.\r\n\r\n\r\n## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\nIndexError occured  in utils.py when running train.py\r\n\r\n## To Reproduce\r\n**REQUIRED**: Code to reproduce your issue below\r\n```\r\npython3 train.py --adam --epochs 5 --weights ''  --single-cls --batch-size 4 --cfg 'cfg/yolov3-tiny-1cls.cfg' \r\n```\r\n![image](https://user-images.githubusercontent.com/21375370/83050530-4ceb4800-a07f-11ea-8781-73e3917d87b3.png)\r\n\r\n\r\n## Expected behavior\r\nTrain normally\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: Macos, windows10\r\n - Both cpu and 2080Ti\r\n\r\n\r\n## Additional context\r\nI think it happened because there is an issue of my own dataset, but i don't know how to locate it.\r\nand when using the old version which doesn't contain output_to_target function, everything worked fine.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1248/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1247", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1247/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1247/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1247/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1247", "id": 625724036, "node_id": "MDU6SXNzdWU2MjU3MjQwMzY=", "number": 1247, "title": "when calling the convert function the following way python3  -c \"from models import *; convert('yolov3.cfg','yolov3.weights')\" errorValueError: unsupported format character ''' (0x27) at index 29 occures", "user": {"login": "florianspy", "id": 39183098, "node_id": "MDQ6VXNlcjM5MTgzMDk4", "avatar_url": "https://avatars.githubusercontent.com/u/39183098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/florianspy", "html_url": "https://github.com/florianspy", "followers_url": "https://api.github.com/users/florianspy/followers", "following_url": "https://api.github.com/users/florianspy/following{/other_user}", "gists_url": "https://api.github.com/users/florianspy/gists{/gist_id}", "starred_url": "https://api.github.com/users/florianspy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/florianspy/subscriptions", "organizations_url": "https://api.github.com/users/florianspy/orgs", "repos_url": "https://api.github.com/users/florianspy/repos", "events_url": "https://api.github.com/users/florianspy/events{/privacy}", "received_events_url": "https://api.github.com/users/florianspy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-27T14:02:49Z", "updated_at": "2023-04-21T21:01:51Z", "closed_at": "2020-05-27T16:32:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "This bug can be fixed by changing line  441 in file models.py\r\n from   \r\n```\r\n  print(\"Success: converted '%s' to '%'\" % (weights, target))\r\n```\r\n to\r\n```\r\n        print(\"Success: converted '%s' to '%s'\" % (weights, target))\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1247/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1247/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1236", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1236/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1236/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1236/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1236", "id": 624602713, "node_id": "MDU6SXNzdWU2MjQ2MDI3MTM=", "number": 1236, "title": "Train a custom data set (flower), and use the trained weight file to detect objects. The result is wrong, and the detection results are cars and people.", "user": {"login": "TravisTorch", "id": 49949317, "node_id": "MDQ6VXNlcjQ5OTQ5MzE3", "avatar_url": "https://avatars.githubusercontent.com/u/49949317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TravisTorch", "html_url": "https://github.com/TravisTorch", "followers_url": "https://api.github.com/users/TravisTorch/followers", "following_url": "https://api.github.com/users/TravisTorch/following{/other_user}", "gists_url": "https://api.github.com/users/TravisTorch/gists{/gist_id}", "starred_url": "https://api.github.com/users/TravisTorch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TravisTorch/subscriptions", "organizations_url": "https://api.github.com/users/TravisTorch/orgs", "repos_url": "https://api.github.com/users/TravisTorch/repos", "events_url": "https://api.github.com/users/TravisTorch/events{/privacy}", "received_events_url": "https://api.github.com/users/TravisTorch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-05-26T05:03:10Z", "updated_at": "2020-07-02T00:20:08Z", "closed_at": "2020-07-02T00:20:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "![c9e7014dc7467ce5f389ba63a9cf1960](https://user-images.githubusercontent.com/49949317/82862354-ffbd8800-9f51-11ea-9af7-bf39f69cf772.jpg)\r\n![Screenshot from 2020-05-26 13-10-17](https://user-images.githubusercontent.com/49949317/82862473-4ad79b00-9f52-11ea-9515-a9585d13fc3c.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1236/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1235", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1235/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1235/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1235/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1235", "id": 624588723, "node_id": "MDU6SXNzdWU2MjQ1ODg3MjM=", "number": 1235, "title": "what is target? class -xyxy?", "user": {"login": "jingweirobot", "id": 16535445, "node_id": "MDQ6VXNlcjE2NTM1NDQ1", "avatar_url": "https://avatars.githubusercontent.com/u/16535445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jingweirobot", "html_url": "https://github.com/jingweirobot", "followers_url": "https://api.github.com/users/jingweirobot/followers", "following_url": "https://api.github.com/users/jingweirobot/following{/other_user}", "gists_url": "https://api.github.com/users/jingweirobot/gists{/gist_id}", "starred_url": "https://api.github.com/users/jingweirobot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jingweirobot/subscriptions", "organizations_url": "https://api.github.com/users/jingweirobot/orgs", "repos_url": "https://api.github.com/users/jingweirobot/repos", "events_url": "https://api.github.com/users/jingweirobot/events{/privacy}", "received_events_url": "https://api.github.com/users/jingweirobot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-26T04:12:36Z", "updated_at": "2020-05-26T08:04:23Z", "closed_at": "2020-05-26T08:04:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "python train.py \r\n\r\npbar = tqdm(enumerate(dataloader), total=nb)  # progress bar\r\n        for i, (imgs, targets, paths, _) in pbar:  # batch -------------------------------------------------------------\r\n            ni = i + nb * epoch  # number integrated batches (since train start)\r\n            imgs = imgs.to(device).float() / 255.0  # uint8 to float32, 0 - 255 to 0.0 - 1.0\r\n            targets = targets.to(device)\r\n            print(\"targets: \", targets)\r\n            print(\"paths: \", paths)\r\n\r\nDear Mr\r\n    what is targets? class xyxy? \r\n    But when I test this, I received as follows: \r\n   targets:  tensor([[0.00000, 0.00000, 0.65413, 0.20594, 0.11800, 0.10400],\r\n        [0.00000, 0.00000, 0.66113, 0.20094, 0.18000, 0.15800],\r\n        [0.00000, 0.00000, 0.52109, 0.93906, 0.21719, 0.12188],\r\n        [1.00000, 0.00000, 0.58750, 0.10859, 0.07187, 0.17969],\r\n        [1.00000, 0.00000, 0.71194, 0.83772, 0.57613, 0.32456],\r\n        [2.00000, 0.00000, 0.86719, 0.60234, 0.26562, 0.34531],\r\n        [2.00000, 0.00000, 0.54537, 0.45913, 0.31000, 0.30574],\r\n        [2.00000, 0.00000, 0.36537, 0.47911, 0.08600, 0.08593],\r\n        [2.00000, 0.00000, 0.12019, 0.44914, 0.24037, 0.25378],\r\n        [2.00000, 0.00000, 0.13419, 0.45014, 0.26838, 0.30374],\r\n        [3.00000, 0.00000, 0.67734, 0.09453, 0.02656, 0.04219],\r\n        [3.00000, 0.00000, 0.05781, 0.71654, 0.08400, 0.07596],\r\n        [3.00000, 0.00000, 0.31281, 0.68256, 0.27800, 0.27984],\r\n        [3.00000, 0.00000, 0.85891, 0.70881, 0.28219, 0.36000],\r\n        [3.00000, 0.00000, 0.91281, 0.72281, 0.16600, 0.15200]], device='cuda:0')\r\n\r\npaths:  ['/home/jingwei/yolov3/data_object/images/im2307.jpg', '/home/jingwei/yolov3/data_object/images/044_0007.jpg', '/home/jingwei/yolov3/data_object/images/088_0096.jpg', '/home/jingwei/yolov3/data_object/images/conference8.jpg']\r\n\r\nmy batch_size is 4\r\n0,1,2,3 represent batch_size order number\r\n0 (the second column) is the class (I have two classes 0 represent this image has the detected object while 1 represents this image does no have any targeted object).\r\nIf targets represent ground truth, it is not correct. Because my ground truth labels are different from them. Please see \r\n\r\n/home/jingwei/yolov3/data_object/images/im2307.jpg'---label: \r\n0 0.801 0.4933333333333333 0.11800000000000001 0.13866666666666666\r\n0 0.808 0.48666666666666664 0.18 0.21066666666666667\r\n\r\n\r\nhome/jingwei/yolov3/data_object/images/044_0007.jpg ----label:\r\n1 0 0 0 0\r\n\r\n'/home/jingwei/yolov3/data_object/images/088_0096.jpg' ---label:\r\n0 0.7425 0.39666666666666667 0.28500000000000003 0.38\r\n\r\n\r\n '/home/jingwei/yolov3/data_object/images/conference8.jpg --- label:\r\n0 0.48916184971098264 0.5791015625 0.6604046242774566 0.2421875\r\n0 0.6473988439306358 0.37841796875 0.07803468208092486 0.0380859375\r\n0 0.7283236994219653 0.37548828125 0.0838150289017341 0.0380859375\r\n0 0.8338150289017341 0.3818359375 0.0953757225433526 0.044921875\r\n\r\n\r\nThey are different from targets\r\nthanks a lot.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1235/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1230", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1230/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1230/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1230/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1230", "id": 624107437, "node_id": "MDU6SXNzdWU2MjQxMDc0Mzc=", "number": 1230, "title": "AssertionError: Unsupported fields ['stopbackward', 'max_delta'] in ../cfg/yolov4-large.cfg. See https://github.com/ultralytics/yolov3/issues/631", "user": {"login": "lucasjinreal", "id": 21303438, "node_id": "MDQ6VXNlcjIxMzAzNDM4", "avatar_url": "https://avatars.githubusercontent.com/u/21303438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucasjinreal", "html_url": "https://github.com/lucasjinreal", "followers_url": "https://api.github.com/users/lucasjinreal/followers", "following_url": "https://api.github.com/users/lucasjinreal/following{/other_user}", "gists_url": "https://api.github.com/users/lucasjinreal/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucasjinreal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucasjinreal/subscriptions", "organizations_url": "https://api.github.com/users/lucasjinreal/orgs", "repos_url": "https://api.github.com/users/lucasjinreal/repos", "events_url": "https://api.github.com/users/lucasjinreal/events{/privacy}", "received_events_url": "https://api.github.com/users/lucasjinreal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-05-25T07:36:07Z", "updated_at": "2023-04-21T21:02:01Z", "closed_at": "2020-07-16T00:21:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nAssertionError: Unsupported fields ['stopbackward', 'max_delta'] \r\n```\r\n\r\nThese params in YoloV4 doesn't support?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1230/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1230/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1212", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1212/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1212/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1212/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1212", "id": 622322997, "node_id": "MDU6SXNzdWU2MjIzMjI5OTc=", "number": 1212, "title": "IndexError: list index out of range", "user": {"login": "lunasdejavu", "id": 7753153, "node_id": "MDQ6VXNlcjc3NTMxNTM=", "avatar_url": "https://avatars.githubusercontent.com/u/7753153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lunasdejavu", "html_url": "https://github.com/lunasdejavu", "followers_url": "https://api.github.com/users/lunasdejavu/followers", "following_url": "https://api.github.com/users/lunasdejavu/following{/other_user}", "gists_url": "https://api.github.com/users/lunasdejavu/gists{/gist_id}", "starred_url": "https://api.github.com/users/lunasdejavu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lunasdejavu/subscriptions", "organizations_url": "https://api.github.com/users/lunasdejavu/orgs", "repos_url": "https://api.github.com/users/lunasdejavu/repos", "events_url": "https://api.github.com/users/lunasdejavu/events{/privacy}", "received_events_url": "https://api.github.com/users/lunasdejavu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-05-21T07:58:32Z", "updated_at": "2023-04-21T21:02:16Z", "closed_at": "2020-05-25T08:35:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before submitting a bug report, please ensure that you are using the latest versions of:\r\n - Python 3.6\r\n - PyTorch 1.5\r\n - This repository (run `git fetch && git status -uno` to check and `git pull` to update)\r\n \r\n**Your issue must be reproducible on a public dataset (i.e COCO) using the latest version of the repository, and you must supply code to reproduce, or we can not help you.**\r\n\r\nIf this is a custom training question we suggest you include your `train*.jpg`, `test*.jpg` and `results.png` figures.\r\nthe upper image is the test_batch0_gt.jpg\r\nthe down image is the train_batch0.jpg\r\nhttps://imgur.com/a/QYlVeoc\r\n\r\n## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\nI git pull the latest code and trained with an old license dataset\r\nbut the error showed up when it plot the testloader\r\n\r\n```\r\nCaching labels (8824 found, 0 missing, 0 empty, 0 duplicate, for 8824 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 8824/8824 [00:01<00:00, 5224.90it/s]\r\nCaching labels (1103 found, 0 missing, 0 empty, 0 duplicate, for 1103 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1103/1103 [00:00<00:00, 5140.54it/s]\r\nImage sizes 320 - 640 train, 640 test\r\nUsing 2 dataloader workers\r\nStarting training for 300 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n     0/299     6.37G      1.29      2.29     0.834      4.41        13       512: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 4412/4412 [09:52<00:00,  7.45it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1:   0%|                                              | 0/552 [00:01<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 414, in <module>\r\n    train(hyp)  # train normally\r\n  File \"train.py\", line 317, in train\r\n    dataloader=testloader)\r\n  File \"/data/workspace/willy_sung/yolov3/test.py\", line 170, in test\r\n    plot_images(imgs, output_to_target(output, width, height), paths=paths, names=names, fname=f)  # predictions\r\n  File \"/data/workspace/willy_sung/yolov3/utils/utils.py\", line 915, in plot_images\r\n    cls = names[cls] if names else cls\r\nIndexError: list index out of range\r\n```\r\n\r\n## To Reproduce\r\n**REQUIRED**: Code to reproduce your issue below\r\n```\r\npython train.py ...\r\n```\r\n\r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: [e.g. Ubuntu] 16.04\r\n - GPU [e.g. 2080 Ti] 1080 Ti\r\nCUDA 10.2\r\n\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1212/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1212/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1209", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1209/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1209/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1209/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1209", "id": 622243548, "node_id": "MDU6SXNzdWU2MjIyNDM1NDg=", "number": 1209, "title": "Initialize model raise NotImplementedError", "user": {"login": "littleManty", "id": 23613779, "node_id": "MDQ6VXNlcjIzNjEzNzc5", "avatar_url": "https://avatars.githubusercontent.com/u/23613779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/littleManty", "html_url": "https://github.com/littleManty", "followers_url": "https://api.github.com/users/littleManty/followers", "following_url": "https://api.github.com/users/littleManty/following{/other_user}", "gists_url": "https://api.github.com/users/littleManty/gists{/gist_id}", "starred_url": "https://api.github.com/users/littleManty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/littleManty/subscriptions", "organizations_url": "https://api.github.com/users/littleManty/orgs", "repos_url": "https://api.github.com/users/littleManty/repos", "events_url": "https://api.github.com/users/littleManty/events{/privacy}", "received_events_url": "https://api.github.com/users/littleManty/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-21T04:46:49Z", "updated_at": "2023-04-21T21:02:18Z", "closed_at": "2020-06-26T00:16:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "hello, I've trained with my own database successfully now and I express my thanks to you. However I find a problem that\r\nproblem:\r\n     \r\n![image](https://user-images.githubusercontent.com/23613779/82524105-aaa00180-9b60-11ea-9da9-809dec965e23.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1209/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1195", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1195/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1195/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1195/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1195", "id": 620646814, "node_id": "MDU6SXNzdWU2MjA2NDY4MTQ=", "number": 1195, "title": "Can't find get_coco_dataset_gdrive.sh", "user": {"login": "sannidhipk", "id": 20311088, "node_id": "MDQ6VXNlcjIwMzExMDg4", "avatar_url": "https://avatars.githubusercontent.com/u/20311088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sannidhipk", "html_url": "https://github.com/sannidhipk", "followers_url": "https://api.github.com/users/sannidhipk/followers", "following_url": "https://api.github.com/users/sannidhipk/following{/other_user}", "gists_url": "https://api.github.com/users/sannidhipk/gists{/gist_id}", "starred_url": "https://api.github.com/users/sannidhipk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sannidhipk/subscriptions", "organizations_url": "https://api.github.com/users/sannidhipk/orgs", "repos_url": "https://api.github.com/users/sannidhipk/repos", "events_url": "https://api.github.com/users/sannidhipk/events{/privacy}", "received_events_url": "https://api.github.com/users/sannidhipk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-19T03:23:33Z", "updated_at": "2023-04-21T21:02:32Z", "closed_at": "2020-06-25T00:16:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying out the Google Colab version and can't load COCO dataset. I don't see the file get_coco_dataset_gdrive.sh under yolov3/data. Am I supposed to use get_coco2014.sh instead?\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1195/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1191", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1191/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1191/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1191/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1191", "id": 620291999, "node_id": "MDU6SXNzdWU2MjAyOTE5OTk=", "number": 1191, "title": "cls = names[cls] if names else cls IndexError: list index out of range", "user": {"login": "jingweirobot", "id": 16535445, "node_id": "MDQ6VXNlcjE2NTM1NDQ1", "avatar_url": "https://avatars.githubusercontent.com/u/16535445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jingweirobot", "html_url": "https://github.com/jingweirobot", "followers_url": "https://api.github.com/users/jingweirobot/followers", "following_url": "https://api.github.com/users/jingweirobot/following{/other_user}", "gists_url": "https://api.github.com/users/jingweirobot/gists{/gist_id}", "starred_url": "https://api.github.com/users/jingweirobot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jingweirobot/subscriptions", "organizations_url": "https://api.github.com/users/jingweirobot/orgs", "repos_url": "https://api.github.com/users/jingweirobot/repos", "events_url": "https://api.github.com/users/jingweirobot/events{/privacy}", "received_events_url": "https://api.github.com/users/jingweirobot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-18T15:14:39Z", "updated_at": "2023-04-21T21:02:36Z", "closed_at": "2020-05-19T11:47:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "trainning coco is ok, but when I use the custom dataset, I met an issue. Could you help me fix it?\r\nthanks a lot\r\n\r\n\r\n\r\npython train.py --data data_k/k.data --cfg cfg/yolov3-tiny.cfg --weights '' --batch-size 8 --epochs 10\r\nApex recommended for faster mixed precision training: https://github.com/NVIDIA/apex\r\nYour branch is behind 'origin/master' by 18 commits, and can be fast-forwarded.\r\n(use \"git pull\" to update your local branch)\r\n\r\nNamespace(adam=False, batch_size=8, bucket='', cache_images=False, cfg='cfg/yolov3-tiny.cfg', data='data_k/k.data', device='', epochs=10, evolve=False, img_size=[320, 640], multi_scale=False, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, weights='')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11016MB)\r\n\r\nStart Tensorboard with \"tensorboard --logdir=runs\", view at http://localhost:6006/\r\nModel Summary: 37 layers, 8.85237e+06 parameters, 8.85237e+06 gradients\r\nOptimizer groups: 13 .bias, 13 Conv2d.weight, 11 other\r\nCaching labels (1084 found, 0 missing, 20 empty, 0 duplicate, for 1104 images):\r\nCaching labels (216 found, 0 missing, 4 empty, 0 duplicate, for 220 images): 100\r\nImage sizes 320 - 640 train, 640 test\r\nUsing 8 dataloader workers\r\nStarting training for 10 epochs...\r\n\r\nEpoch gpu_mem GIoU obj cls total targets img_size\r\n0/9 2.24G 4.35 4.91 0 9.26 44 576\r\nClass Images Targets P R mAP@0.5 F1\r\n\r\nTraceback (most recent call last):\r\nFile \"train.py\", line 411, in\r\ntrain(hyp) # train normally\r\nFile \"train.py\", line 317, in train\r\ndataloader=testloader)\r\nFile \"/home/jingwei/yolov3/test.py\", line 170, in test\r\nplot_images(imgs, output_to_target(output, width, height), paths=paths, names=names, fname=f) # predictions\r\nFile \"/home/jingwei/yolov3/utils/utils.py\", line 959, in plot_images\r\ncls = names[cls] if names else cls\r\nIndexError: list index out of range\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1191/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1190", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1190/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1190/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1190/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1190", "id": 620243829, "node_id": "MDU6SXNzdWU2MjAyNDM4Mjk=", "number": 1190, "title": "Can [shotcut] with activation?", "user": {"login": "st1312st", "id": 52808868, "node_id": "MDQ6VXNlcjUyODA4ODY4", "avatar_url": "https://avatars.githubusercontent.com/u/52808868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/st1312st", "html_url": "https://github.com/st1312st", "followers_url": "https://api.github.com/users/st1312st/followers", "following_url": "https://api.github.com/users/st1312st/following{/other_user}", "gists_url": "https://api.github.com/users/st1312st/gists{/gist_id}", "starred_url": "https://api.github.com/users/st1312st/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/st1312st/subscriptions", "organizations_url": "https://api.github.com/users/st1312st/orgs", "repos_url": "https://api.github.com/users/st1312st/repos", "events_url": "https://api.github.com/users/st1312st/events{/privacy}", "received_events_url": "https://api.github.com/users/st1312st/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-18T14:13:09Z", "updated_at": "2023-04-21T21:02:37Z", "closed_at": "2020-06-25T00:16:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\n\r\nI see [shotcut] have activation in .cfg file,but i can not see shotcut use activation in code.\r\n#######################################\r\nin .cfg\r\n    [shortcut]\r\n    from=-4\r\n    activation=leaky\r\n\r\n\r\n#######################################\r\nin model.py\r\n\r\n    elif mdef['type'] == 'shortcut':  # nn.Sequential() placeholder for 'shortcut' layer\r\n            layers = mdef['from']\r\n            filters = output_filters[-1]\r\n            routs.extend([i + l if l < 0 else l for l in layers])\r\n            modules = WeightedFeatureFusion(layers=layers, weight='weights_type' in mdef)\r\n\r\n#######################################\r\nin utils/layers.py\r\n\r\nclass WeightedFeatureFusion(nn.Module): \r\n    def __init__(self, layers, weight=False):\r\n        super(WeightedFeatureFusion, self).__init__()\r\n        self.layers = layers  # layer indices\r\n        self.weight = weight  # apply weights boolean\r\n        self.n = len(layers) + 1  # number of layers\r\n        if weight:\r\n            self.w = nn.Parameter(torch.zeros(self.n), requires_grad=True)  # layer weights\r\n\r\n    def forward(self, x, outputs):\r\n        # Weights\r\n        if self.weight:\r\n            w = torch.sigmoid(self.w) * (2 / self.n)  # sigmoid weights (0-1)\r\n            x = x * w[0]\r\n\r\n        # Fusion\r\n        nx = x.shape[1]  # input channels\r\n        for i in range(self.n - 1):\r\n            a = outputs[self.layers[i]] * w[i + 1] if self.weight else outputs[self.layers[i]]  # feature to add\r\n            na = a.shape[1]  # feature channels\r\n\r\n            # Adjust channels\r\n            if nx == na:  # same shape\r\n                x = x + a\r\n            elif nx > na:  # slice input\r\n                x[:, :na] = x[:, :na] + a  # or a = nn.ZeroPad2d((0, 0, 0, 0, 0, dc))(a); x = x + a\r\n            else:  # slice feature\r\n                x = x + a[:, :nx]\r\n\r\n        return x\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n########################################\r\n\r\nso can i use [shotcut] with activation?\r\nIf everyone can help me, Thank you!\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1190/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1189", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1189/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1189/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1189/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1189", "id": 620013197, "node_id": "MDU6SXNzdWU2MjAwMTMxOTc=", "number": 1189, "title": " cls = names[cls] if names else cls IndexError: list index out of range", "user": {"login": "jingweirobot", "id": 16535445, "node_id": "MDQ6VXNlcjE2NTM1NDQ1", "avatar_url": "https://avatars.githubusercontent.com/u/16535445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jingweirobot", "html_url": "https://github.com/jingweirobot", "followers_url": "https://api.github.com/users/jingweirobot/followers", "following_url": "https://api.github.com/users/jingweirobot/following{/other_user}", "gists_url": "https://api.github.com/users/jingweirobot/gists{/gist_id}", "starred_url": "https://api.github.com/users/jingweirobot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jingweirobot/subscriptions", "organizations_url": "https://api.github.com/users/jingweirobot/orgs", "repos_url": "https://api.github.com/users/jingweirobot/repos", "events_url": "https://api.github.com/users/jingweirobot/events{/privacy}", "received_events_url": "https://api.github.com/users/jingweirobot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-18T08:31:12Z", "updated_at": "2020-11-19T01:52:38Z", "closed_at": "2020-05-18T12:29:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "trainning coco is ok, but when I use the custom dataset, I met an issue.  Could you help me fix it?\r\n\r\npython train.py --data data_ellipse/ellipse.data --cfg cfg/yolov3-tiny.cfg --weights '' --batch-size 8 --epochs 10 \r\nApex recommended for faster mixed precision training: https://github.com/NVIDIA/apex\r\nYour branch is behind 'origin/master' by 18 commits, and can be fast-forwarded.\r\n  (use \"git pull\" to update your local branch)\r\n\r\nNamespace(adam=False, batch_size=8, bucket='', cache_images=False, cfg='cfg/yolov3-tiny.cfg', data='data_ellipse/ellipse.data', device='', epochs=10, evolve=False, img_size=[320, 640], multi_scale=False, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, weights='')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11016MB)\r\n\r\nStart Tensorboard with \"tensorboard --logdir=runs\", view at http://localhost:6006/\r\nModel Summary: 37 layers, 8.85237e+06 parameters, 8.85237e+06 gradients\r\nOptimizer groups: 13 .bias, 13 Conv2d.weight, 11 other\r\nCaching labels (1084 found, 0 missing, 20 empty, 0 duplicate, for 1104 images): \r\nCaching labels (216 found, 0 missing, 4 empty, 0 duplicate, for 220 images): 100\r\nImage sizes 320 - 640 train, 640 test\r\nUsing 8 dataloader workers\r\nStarting training for 10 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n       0/9     2.24G      4.35      4.91         0      9.26        44       576\r\n               Class    Images   Targets         P         R   mAP@0.5        F1\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 411, in <module>\r\n    train(hyp)  # train normally\r\n  File \"train.py\", line 317, in train\r\n    dataloader=testloader)\r\n  File \"/home/jingwei/yolov3/test.py\", line 170, in test\r\n    plot_images(imgs, output_to_target(output, width, height), paths=paths, names=names, fname=f)  # predictions\r\n  File \"/home/jingwei/yolov3/utils/utils.py\", line 959, in plot_images\r\n    cls = names[cls] if names else cls\r\nIndexError: list index out of range\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1189/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1188", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1188/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1188/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1188/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1188", "id": 619928256, "node_id": "MDU6SXNzdWU2MTk5MjgyNTY=", "number": 1188, "title": "Multiple bounding boxes to detect the same object when using webcam or RTSP stream", "user": {"login": "Chris7911", "id": 26669367, "node_id": "MDQ6VXNlcjI2NjY5MzY3", "avatar_url": "https://avatars.githubusercontent.com/u/26669367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Chris7911", "html_url": "https://github.com/Chris7911", "followers_url": "https://api.github.com/users/Chris7911/followers", "following_url": "https://api.github.com/users/Chris7911/following{/other_user}", "gists_url": "https://api.github.com/users/Chris7911/gists{/gist_id}", "starred_url": "https://api.github.com/users/Chris7911/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Chris7911/subscriptions", "organizations_url": "https://api.github.com/users/Chris7911/orgs", "repos_url": "https://api.github.com/users/Chris7911/repos", "events_url": "https://api.github.com/users/Chris7911/events{/privacy}", "received_events_url": "https://api.github.com/users/Chris7911/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "Chris7911", "id": 26669367, "node_id": "MDQ6VXNlcjI2NjY5MzY3", "avatar_url": "https://avatars.githubusercontent.com/u/26669367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Chris7911", "html_url": "https://github.com/Chris7911", "followers_url": "https://api.github.com/users/Chris7911/followers", "following_url": "https://api.github.com/users/Chris7911/following{/other_user}", "gists_url": "https://api.github.com/users/Chris7911/gists{/gist_id}", "starred_url": "https://api.github.com/users/Chris7911/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Chris7911/subscriptions", "organizations_url": "https://api.github.com/users/Chris7911/orgs", "repos_url": "https://api.github.com/users/Chris7911/repos", "events_url": "https://api.github.com/users/Chris7911/events{/privacy}", "received_events_url": "https://api.github.com/users/Chris7911/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Chris7911", "id": 26669367, "node_id": "MDQ6VXNlcjI2NjY5MzY3", "avatar_url": "https://avatars.githubusercontent.com/u/26669367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Chris7911", "html_url": "https://github.com/Chris7911", "followers_url": "https://api.github.com/users/Chris7911/followers", "following_url": "https://api.github.com/users/Chris7911/following{/other_user}", "gists_url": "https://api.github.com/users/Chris7911/gists{/gist_id}", "starred_url": "https://api.github.com/users/Chris7911/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Chris7911/subscriptions", "organizations_url": "https://api.github.com/users/Chris7911/orgs", "repos_url": "https://api.github.com/users/Chris7911/repos", "events_url": "https://api.github.com/users/Chris7911/events{/privacy}", "received_events_url": "https://api.github.com/users/Chris7911/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2020-05-18T05:49:23Z", "updated_at": "2023-04-21T21:02:39Z", "closed_at": "2020-06-03T06:59:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before submitting a bug report, please ensure that you are using the latest versions of:\r\n - Python\r\n - PyTorch\r\n - This repository (run `git fetch && git status -uno` to check and `git pull` to update)\r\n \r\n**Your issue must be reproducible on a public dataset (i.e COCO) using the latest version of the repository, and you must supply code to reproduce, or we can not help you.**\r\n\r\nIf this is a custom training question we suggest you include your `train*.jpg`, `test*.jpg` and `results.png` figures.\r\n\r\n\r\n## \ud83d\udc1b Bug\r\nIn view-img, there is a bbox within previous one in a row, so it ends up with multiple bboxes to detect the same object when using webcam or RTSP stream. I'm pretty sure there is nothing wrong with iou-thres. Accordingly, this issue started after the commit 6daebd3 on Sep 25, 2019. It seems like something changed in the /utils/datasets.py.\r\n\r\n![IMG_6618](https://user-images.githubusercontent.com/26669367/82177830-3c173580-990d-11ea-944e-4bf68757a56e.JPG)\r\n\r\n## To Reproduce\r\n**REQUIRED**: Code to reproduce your issue below\r\n```\r\npython detect.py --source 0\r\n```\r\n\r\n\r\n## Expected behavior\r\nAn object is only detected by a bounding box.\r\n\r\n## Environment\r\nTest1:\r\n - OS: [Ubuntu 18.04]\r\n - GPU [2080 Ti]\r\n\r\nTest2:\r\n - OS: [Windows 10]\r\n - GPU [1080 Ti]\r\n\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1188/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1184", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1184/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1184/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1184/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1184", "id": 619347311, "node_id": "MDU6SXNzdWU2MTkzNDczMTE=", "number": 1184, "title": "Some Qustions About the code", "user": {"login": "zzfpython", "id": 39543924, "node_id": "MDQ6VXNlcjM5NTQzOTI0", "avatar_url": "https://avatars.githubusercontent.com/u/39543924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zzfpython", "html_url": "https://github.com/zzfpython", "followers_url": "https://api.github.com/users/zzfpython/followers", "following_url": "https://api.github.com/users/zzfpython/following{/other_user}", "gists_url": "https://api.github.com/users/zzfpython/gists{/gist_id}", "starred_url": "https://api.github.com/users/zzfpython/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zzfpython/subscriptions", "organizations_url": "https://api.github.com/users/zzfpython/orgs", "repos_url": "https://api.github.com/users/zzfpython/repos", "events_url": "https://api.github.com/users/zzfpython/events{/privacy}", "received_events_url": "https://api.github.com/users/zzfpython/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-16T01:17:36Z", "updated_at": "2023-04-21T21:02:43Z", "closed_at": "2020-05-18T15:41:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before submitting a bug report, please ensure that you are using the latest versions of:\r\n - Python\r\n - PyTorch\r\n - This repository (run `git fetch && git status -uno` to check and `git pull` to update)\r\n \r\n**Your issue must be reproducible on a public dataset (i.e COCO) using the latest version of the repository, and you must supply code to reproduce, or we can not help you.**\r\n\r\nIf this is a custom training question we suggest you include your `train*.jpg`, `test*.jpg` and `results.png` figures.\r\n\r\n\r\n## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n\r\n## To Reproduce\r\n**REQUIRED**: Code to reproduce your issue below\r\n```\r\npython train.py ...\r\n```\r\n\r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: [e.g. Ubuntu]\r\n - GPU [e.g. 2080 Ti]\r\n\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n\r\nHi, I am watching your code these days and I found it is very beautiful and I have some questions.\r\nSuch as:(The code in datasets.py)\r\n![image](https://user-images.githubusercontent.com/39543924/82106763-a08f9480-9755-11ea-93a9-23d4a6916f62.png)\r\n I want to know is here a function to do data augment.  'augment=False' Does it mean the aygment is closed as default?\r\nAnd If I try 'python train.py' or 'python test.py'  How could I know whether I open the data augmentation?\r\nThank you for reply. Sorry to disturb you and maybe this is a simple question but I don't know the answer. Thank you for your advice.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1184/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1183", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1183/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1183/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1183/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1183", "id": 619065405, "node_id": "MDU6SXNzdWU2MTkwNjU0MDU=", "number": 1183, "title": "how best.pt is calculated? what is the logic used behind it?", "user": {"login": "omizonly", "id": 46382029, "node_id": "MDQ6VXNlcjQ2MzgyMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/46382029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omizonly", "html_url": "https://github.com/omizonly", "followers_url": "https://api.github.com/users/omizonly/followers", "following_url": "https://api.github.com/users/omizonly/following{/other_user}", "gists_url": "https://api.github.com/users/omizonly/gists{/gist_id}", "starred_url": "https://api.github.com/users/omizonly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omizonly/subscriptions", "organizations_url": "https://api.github.com/users/omizonly/orgs", "repos_url": "https://api.github.com/users/omizonly/repos", "events_url": "https://api.github.com/users/omizonly/events{/privacy}", "received_events_url": "https://api.github.com/users/omizonly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-15T15:37:24Z", "updated_at": "2023-04-21T21:02:44Z", "closed_at": "2020-06-21T00:16:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before submitting a bug report, please ensure that you are using the latest versions of:\r\n - Python\r\n - PyTorch\r\n - This repository (run `git fetch && git status -uno` to check and `git pull` to update)\r\n \r\n**Your issue must be reproducible on a public dataset (i.e COCO) using the latest version of the repository, and you must supply code to reproduce, or we can not help you.**\r\n\r\nIf this is a custom training question we suggest you include your `train*.jpg`, `test*.jpg` and `results.png` figures.\r\n\r\n\r\n## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n\r\n## To Reproduce\r\n**REQUIRED**: Code to reproduce your issue below\r\n```\r\npython train.py ...\r\n```\r\n\r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: [e.g. Ubuntu]\r\n - GPU [e.g. 2080 Ti]\r\n\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1183/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1182", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1182/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1182/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1182/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1182", "id": 618916516, "node_id": "MDU6SXNzdWU2MTg5MTY1MTY=", "number": 1182, "title": "test.py\", line 211, in test  : initialize COCO ground truth api IndexError: list index out of range", "user": {"login": "jingweirobot", "id": 16535445, "node_id": "MDQ6VXNlcjE2NTM1NDQ1", "avatar_url": "https://avatars.githubusercontent.com/u/16535445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jingweirobot", "html_url": "https://github.com/jingweirobot", "followers_url": "https://api.github.com/users/jingweirobot/followers", "following_url": "https://api.github.com/users/jingweirobot/following{/other_user}", "gists_url": "https://api.github.com/users/jingweirobot/gists{/gist_id}", "starred_url": "https://api.github.com/users/jingweirobot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jingweirobot/subscriptions", "organizations_url": "https://api.github.com/users/jingweirobot/orgs", "repos_url": "https://api.github.com/users/jingweirobot/repos", "events_url": "https://api.github.com/users/jingweirobot/events{/privacy}", "received_events_url": "https://api.github.com/users/jingweirobot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-05-15T12:01:04Z", "updated_at": "2020-08-19T18:50:00Z", "closed_at": "2020-05-16T03:51:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n(base) jingwei@jingwei:~/yolov3$ python3 train.py  --batch-size 8\r\nApex recommended for faster mixed precision training: https://github.com/NVIDIA/apex\r\nNamespace(adam=False, batch_size=8, bucket='', cache_images=False, cfg='cfg/yolov3-spp.cfg', data='data/coco2017.data', device='', epochs=1, evolve=False, img_size=[320, 640], multi_scale=False, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, weights='weights/yolov3-spp-ultralytics.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11016MB)\r\n\r\nStart Tensorboard with \"tensorboard --logdir=runs\", view at http://localhost:6006/\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients\r\nOptimizer groups: 76 .bias, 76 Conv2d.weight, 73 other\r\nCaching labels (117266 found, 1021 missing, 0 empty, 0 duplicate, for 118287 ima\r\nCaching labels (4952 found, 48 missing, 0 empty, 0 duplicate, for 5000 images): \r\nImage sizes 320 - 640 train, 640 test\r\nUsing 8 dataloader workers\r\nStarting training for 1 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n       0/0     9.99G      2.45      2.72     0.928       6.1        72       384\r\n               Class    Images   Targets         P         R   mAP@0.5        F1\r\n                 all     5e+03  3.63e+04     0.373     0.672     0.566     0.474\r\nSpeed: 13.9/1.4/15.2 ms inference/NMS/total per 640x640 image at batch-size 8\r\n\r\nCOCO mAP with pycocotools...\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 411, in <module>\r\n    train(hyp)  # train normally\r\n  File \"train.py\", line 317, in train\r\n    dataloader=testloader)\r\n  File \"/home/jingwei/yolov3/test.py\", line 211, in test\r\n    cocoGt = COCO(glob.glob('/home/jingwei/yolov3/data/annotations/instances_val*.json')[0])  # initialize COCO ground truth api\r\nIndexError: list index out of range\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1182/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1175", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1175/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1175/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1175/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1175", "id": 618345749, "node_id": "MDU6SXNzdWU2MTgzNDU3NDk=", "number": 1175, "title": "Excepted device cuda:0 but got device cpu ", "user": {"login": "zzfpython", "id": 39543924, "node_id": "MDQ6VXNlcjM5NTQzOTI0", "avatar_url": "https://avatars.githubusercontent.com/u/39543924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zzfpython", "html_url": "https://github.com/zzfpython", "followers_url": "https://api.github.com/users/zzfpython/followers", "following_url": "https://api.github.com/users/zzfpython/following{/other_user}", "gists_url": "https://api.github.com/users/zzfpython/gists{/gist_id}", "starred_url": "https://api.github.com/users/zzfpython/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zzfpython/subscriptions", "organizations_url": "https://api.github.com/users/zzfpython/orgs", "repos_url": "https://api.github.com/users/zzfpython/repos", "events_url": "https://api.github.com/users/zzfpython/events{/privacy}", "received_events_url": "https://api.github.com/users/zzfpython/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-14T15:56:24Z", "updated_at": "2023-04-21T21:02:49Z", "closed_at": "2020-05-15T02:57:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before submitting a bug report, please ensure that you are using the latest versions of:\r\n - Python 3.7\r\n - PyTorch 1.4.0\r\n - This repository (run `git fetch && git status -uno` to check and `git pull` to update)\r\n \r\n**Your issue must be reproducible on a public dataset (i.e COCO) using the latest version of the repository, and you must supply code to reproduce, or we can not help you.**\r\n\r\nIf this is a custom training question we suggest you include your `train*.jpg`, `test*.jpg` and `results.png` figures.\r\n\r\n\r\n## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n\r\n------------------------------------------------------------\r\nwhen I try to train the network it always tell me this error , I use yolov4-relu to train .\r\n------------------------------------------------------------\r\n\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1175/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1173", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1173/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1173/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1173/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1173", "id": 617889218, "node_id": "MDU6SXNzdWU2MTc4ODkyMTg=", "number": 1173, "title": "AttributeError: 'YOLOLayer' object has no attribute 'grid'", "user": {"login": "jingweirobot", "id": 16535445, "node_id": "MDQ6VXNlcjE2NTM1NDQ1", "avatar_url": "https://avatars.githubusercontent.com/u/16535445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jingweirobot", "html_url": "https://github.com/jingweirobot", "followers_url": "https://api.github.com/users/jingweirobot/followers", "following_url": "https://api.github.com/users/jingweirobot/following{/other_user}", "gists_url": "https://api.github.com/users/jingweirobot/gists{/gist_id}", "starred_url": "https://api.github.com/users/jingweirobot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jingweirobot/subscriptions", "organizations_url": "https://api.github.com/users/jingweirobot/orgs", "repos_url": "https://api.github.com/users/jingweirobot/repos", "events_url": "https://api.github.com/users/jingweirobot/events{/privacy}", "received_events_url": "https://api.github.com/users/jingweirobot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-14T03:07:58Z", "updated_at": "2023-04-21T21:02:51Z", "closed_at": "2020-05-18T01:56:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "python3 train.py --batch-size 8\r\n\r\n\r\nApex recommended for faster mixed precision training: https://github.com/NVIDIA/apex\r\nYour branch is behind 'origin/master' by 9 commits, and can be fast-forwarded.\r\n  (use \"git pull\" to update your local branch)\r\n\r\nNamespace(adam=False, batch_size=8, bucket='', cache_images=False, cfg='cfg/yolov3-spp.cfg', data='data/coco2017.data', device='', epochs=1, evolve=False, img_size=[320, 640], multi_scale=False, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, weights='weights/yolov3-spp-ultralytics.pt')\r\nUsing CPU\r\n\r\nStart Tensorboard with \"tensorboard --logdir=runs\", view at http://localhost:6006/\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients\r\nOptimizer groups: 76 .bias, 76 Conv2d.weight, 73 other\r\nCaching labels (117266 found, 1021 missing, 0 empty, 0 duplicate, for 118287 ima\r\nCaching labels (4952 found, 48 missing, 0 empty, 0 duplicate, for 5000 images): \r\nImage sizes 320 - 640 train, 640 test\r\nUsing 8 dataloader workers\r\nStarting training for 1 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n       0/0        0G      1.95      1.66      0.37      3.98        79       512/home/jingwei/yolov3/utils/layers.py:60: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  if nx == na:  # same shape\r\n/home/jingwei/yolov3/models.py:187: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  if (self.nx, self.ny) != (nx, ny):\r\n       0/0        0G      1.95      1.66      0.37      3.98        79       512\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 416, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 298, in train\r\n    tb_writer.add_graph(model, imgs)  # add model to tensorboard\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/torch/utils/tensorboard/writer.py\", line 707, in add_graph\r\n    self._get_file_writer().add_graph(graph(model, input_to_model, verbose))\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/torch/utils/tensorboard/_pytorch_graph.py\", line 285, in graph\r\n    trace = torch.jit.trace(model, args)\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/torch/jit/__init__.py\", line 882, in trace\r\n    check_tolerance, _force_outplace, _module_class)\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/torch/jit/__init__.py\", line 1034, in trace_module\r\n    module._c._create_method_from_trace(method_name, func, example_inputs, var_lookup_fn, _force_outplace)\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 530, in __call__\r\n    result = self._slow_forward(*input, **kwargs)\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 516, in _slow_forward\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/jingwei/yolov3/models.py\", line 238, in forward\r\n    return self.forward_once(x)\r\n  File \"/home/jingwei/yolov3/models.py\", line 290, in forward_once\r\n    yolo_out.append(module(x, out))\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 530, in __call__\r\n    result = self._slow_forward(*input, **kwargs)\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 516, in _slow_forward\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/jingwei/yolov3/models.py\", line 212, in forward\r\n    io[..., :2] = torch.sigmoid(io[..., :2]) + self.grid  # xy\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 576, in __getattr__\r\n    type(self).__name__, name))\r\nAttributeError: 'YOLOLayer' object has no attribute 'grid'", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1173/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1172", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1172/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1172/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1172/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1172", "id": 617615273, "node_id": "MDU6SXNzdWU2MTc2MTUyNzM=", "number": 1172, "title": "ONNX model output boxes are all zeros.", "user": {"login": "vandesa003", "id": 10252812, "node_id": "MDQ6VXNlcjEwMjUyODEy", "avatar_url": "https://avatars.githubusercontent.com/u/10252812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vandesa003", "html_url": "https://github.com/vandesa003", "followers_url": "https://api.github.com/users/vandesa003/followers", "following_url": "https://api.github.com/users/vandesa003/following{/other_user}", "gists_url": "https://api.github.com/users/vandesa003/gists{/gist_id}", "starred_url": "https://api.github.com/users/vandesa003/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vandesa003/subscriptions", "organizations_url": "https://api.github.com/users/vandesa003/orgs", "repos_url": "https://api.github.com/users/vandesa003/repos", "events_url": "https://api.github.com/users/vandesa003/events{/privacy}", "received_events_url": "https://api.github.com/users/vandesa003/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 38, "created_at": "2020-05-13T17:10:04Z", "updated_at": "2020-09-15T12:10:04Z", "closed_at": "2020-05-25T19:33:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nHi @glenn-jocher , first of all, thanks again for your great work. I met this problem after I trained on my own dataset and convert the model to ONNX. While I am running the ONNX model on a normal input image, I got the output like this:\r\n```\r\nboxes:\r\n[0, 0, 0, 0],\r\n[0, 0, 0, 0],\r\n[0, 0, 0, 0],\r\n...\r\n```\r\nthe classes output seems normal just between 0 and 1.\r\nthis is the ONNX model:\r\n<img width=\"1598\" alt=\"Screenshot 2020-05-14 at 12 54 44 AM\" src=\"https://user-images.githubusercontent.com/10252812/81841796-8dc26780-957d-11ea-9f6a-62281aedb318.png\">\r\nwhich I think should be correct.\r\n## To Reproduce\r\n**REQUIRED**: Code to reproduce your issue below\r\nFirst, I set `ONNX_EXPORT = True` in [model.py])(https://github.com/ultralytics/yolov3/blob/b2fcfc573e5418c0b2ef0c0357bf51bc5cb027b6/models.py#L5)\r\nThen, due to the machine env problem, I have to use `opset_version=9` in [detect.py](https://github.com/ultralytics/yolov3/blob/b2fcfc573e5418c0b2ef0c0357bf51bc5cb027b6/detect.py#L47)\r\nAfter this I convert the model to onnx:\r\n```\r\npython detect.py --cfg yolov3-spp.cfg \\\r\n    --names data/mydataset.names \\\r\n    --weights weights/best.pt \\\r\n    --source data/samples \\\r\n    --conf-thres 0.3 \\\r\n    --iou-thres 0.6\r\n```\r\nI will receive a warning during conversion:\r\n```\r\nyolov3/utils/layers.py:60: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  if nx == na:  # same shape\r\n```\r\nwhich I think is related to https://github.com/ultralytics/yolov3/blob/b2fcfc573e5418c0b2ef0c0357bf51bc5cb027b6/utils/layers.py#L60\r\nBut I am not sure whether this warning will cause this issue.\r\n\r\nAfter then I run the inference through onnxruntime. and got a normal `classes` output and a all zero output `boxes`.\r\n\r\n## Expected behavior\r\nExpected behavior the boxes definitely not all zeros.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: [Ubuntu 1604]\r\n - GPU [V100]\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1170", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1170/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1170/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1170/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1170", "id": 617394114, "node_id": "MDU6SXNzdWU2MTczOTQxMTQ=", "number": 1170, "title": "SummaryWriter issue", "user": {"login": "jingweirobot", "id": 16535445, "node_id": "MDQ6VXNlcjE2NTM1NDQ1", "avatar_url": "https://avatars.githubusercontent.com/u/16535445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jingweirobot", "html_url": "https://github.com/jingweirobot", "followers_url": "https://api.github.com/users/jingweirobot/followers", "following_url": "https://api.github.com/users/jingweirobot/following{/other_user}", "gists_url": "https://api.github.com/users/jingweirobot/gists{/gist_id}", "starred_url": "https://api.github.com/users/jingweirobot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jingweirobot/subscriptions", "organizations_url": "https://api.github.com/users/jingweirobot/orgs", "repos_url": "https://api.github.com/users/jingweirobot/repos", "events_url": "https://api.github.com/users/jingweirobot/events{/privacy}", "received_events_url": "https://api.github.com/users/jingweirobot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-13T12:09:28Z", "updated_at": "2023-04-21T21:02:53Z", "closed_at": "2020-05-15T13:08:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "~/yolov3$ python3 train.py --batch-size 8\r\n\r\nApex recommended for faster mixed precision training: https://github.com/NVIDIA/apex\r\nYour branch is behind 'origin/master' by 8 commits, and can be fast-forwarded.\r\n  (use \"git pull\" to update your local branch)\r\n\r\nNamespace(adam=False, batch_size=8, bucket='', cache_images=False, cfg='cfg/yolov3-spp.cfg', data='data/coco2017.data', device='', epochs=1, evolve=False, img_size=[320, 640], multi_scale=False, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, weights='weights/yolov3-spp-ultralytics.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11016MB)\r\n\r\nStart Tensorboard with \"tensorboard --logdir=runs\", view at http://localhost:6006/\r\nTraceback (most recent call last):\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorboard/compat/__init__.py\", line 47, in tf\r\n    from tensorboard.compat import notf\r\nImportError: cannot import name 'notf' from 'tensorboard.compat' (/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorboard/compat/__init__.py)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 415, in <module>\r\n    tb_writer = SummaryWriter(comment=opt.name)\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/torch/utils/tensorboard/writer.py\", line 225, in __init__\r\n    self._get_file_writer()\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/torch/utils/tensorboard/writer.py\", line 256, in _get_file_writer\r\n    self.flush_secs, self.filename_suffix)\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/torch/utils/tensorboard/writer.py\", line 66, in __init__\r\n    log_dir, max_queue, flush_secs, filename_suffix)\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorboard/summary/writer/event_file_writer.py\", line 76, in __init__\r\n    if not tf.io.gfile.exists(logdir):\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorboard/lazy.py\", line 68, in __getattr__\r\n    return getattr(load_once(self), attr_name)\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorboard/lazy.py\", line 100, in wrapper\r\n    cache[arg] = f(arg)\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorboard/lazy.py\", line 53, in load_once\r\n    module = load_fn()\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorboard/compat/__init__.py\", line 50, in tf\r\n    import tensorflow\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorflow/__init__.py\", line 41, in <module>\r\n    from tensorflow.python.tools import module_util as _module_util\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorflow/python/__init__.py\", line 84, in <module>\r\n    from tensorflow.python import keras\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorflow/python/keras/__init__.py\", line 27, in <module>\r\n    from tensorflow.python.keras import models\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorflow/python/keras/models.py\", line 26, in <module>\r\n    from tensorflow.python.keras.engine import network\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorflow/python/keras/engine/network.py\", line 44, in <module>\r\n    from tensorflow.python.keras.engine import input_layer as input_layer_module\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorflow/python/keras/engine/input_layer.py\", line 25, in <module>\r\n    from tensorflow.python.keras.distribute import distributed_training_utils\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorflow/python/keras/distribute/distributed_training_utils.py\", line 38, in <module>\r\n    from tensorflow.python.keras import callbacks\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/tensorflow/python/keras/callbacks.py\", line 62, in <module>\r\n    import requests\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/requests/__init__.py\", line 95, in <module>\r\n    from urllib3.contrib import pyopenssl\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/urllib3/contrib/pyopenssl.py\", line 46, in <module>\r\n    import OpenSSL.SSL\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/OpenSSL/__init__.py\", line 8, in <module>\r\n    from OpenSSL import crypto, SSL\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/OpenSSL/crypto.py\", line 15, in <module>\r\n    from OpenSSL._util import (\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/OpenSSL/_util.py\", line 6, in <module>\r\n    from cryptography.hazmat.bindings.openssl.binding import Binding\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/cryptography/hazmat/bindings/openssl/binding.py\", line 195, in <module>\r\n    Binding.init_static_locks()\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/cryptography/hazmat/bindings/openssl/binding.py\", line 139, in init_static_locks\r\n    cls._ensure_ffi_initialized()\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/cryptography/hazmat/bindings/openssl/binding.py\", line 134, in _ensure_ffi_initialized\r\n    cls._register_osrandom_engine()\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/cryptography/hazmat/bindings/openssl/binding.py\", line 120, in _register_osrandom_engine\r\n    _openssl_assert(cls.lib, result in (1, 2))\r\n  File \"/home/jingwei/miniconda3/lib/python3.7/site-packages/cryptography/hazmat/bindings/openssl/binding.py\", line 78, in _openssl_assert\r\n    errors_with_text\r\ncryptography.exceptions.InternalError: Unknown OpenSSL error. This error is commonly encountered when another library is not cleaning up the OpenSSL error stack. If you are using cryptography with another library that uses OpenSSL try disabling it before reporting a bug. Otherwise please file an issue at https://github.com/pyca/cryptography/issues with information on how to reproduce this. ([])\r\nSegmentation fault (core dumped)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1170/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1154", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1154/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1154/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1154/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1154", "id": 615346425, "node_id": "MDU6SXNzdWU2MTUzNDY0MjU=", "number": 1154, "title": "detect.py error!!", "user": {"login": "missbook520", "id": 48777650, "node_id": "MDQ6VXNlcjQ4Nzc3NjUw", "avatar_url": "https://avatars.githubusercontent.com/u/48777650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/missbook520", "html_url": "https://github.com/missbook520", "followers_url": "https://api.github.com/users/missbook520/followers", "following_url": "https://api.github.com/users/missbook520/following{/other_user}", "gists_url": "https://api.github.com/users/missbook520/gists{/gist_id}", "starred_url": "https://api.github.com/users/missbook520/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/missbook520/subscriptions", "organizations_url": "https://api.github.com/users/missbook520/orgs", "repos_url": "https://api.github.com/users/missbook520/repos", "events_url": "https://api.github.com/users/missbook520/events{/privacy}", "received_events_url": "https://api.github.com/users/missbook520/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-10T08:49:24Z", "updated_at": "2023-04-21T21:03:03Z", "closed_at": "2020-06-15T00:15:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I followed the rules step by step to set up my dataset, and changed the configuration file accordingly, my classnum  is 44(not include background), but when I finished training, I used detect.py to detect but occurs errors:\r\nRuntimeError: Sizes of tensors must match except in dimension 2. Got 49 and 85\r\n![qq](https://user-images.githubusercontent.com/48777650/81494803-263abc80-92de-11ea-9dbd-356558dc05a3.png)\r\n\r\n![Uploading qq.png\u2026]()\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1154/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1153", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1153/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1153/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1153/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1153", "id": 615276379, "node_id": "MDU6SXNzdWU2MTUyNzYzNzk=", "number": 1153, "title": "MAP is high using multi-scale train but detection results are not good", "user": {"login": "Hidayat722", "id": 8184331, "node_id": "MDQ6VXNlcjgxODQzMzE=", "avatar_url": "https://avatars.githubusercontent.com/u/8184331?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hidayat722", "html_url": "https://github.com/Hidayat722", "followers_url": "https://api.github.com/users/Hidayat722/followers", "following_url": "https://api.github.com/users/Hidayat722/following{/other_user}", "gists_url": "https://api.github.com/users/Hidayat722/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hidayat722/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hidayat722/subscriptions", "organizations_url": "https://api.github.com/users/Hidayat722/orgs", "repos_url": "https://api.github.com/users/Hidayat722/repos", "events_url": "https://api.github.com/users/Hidayat722/events{/privacy}", "received_events_url": "https://api.github.com/users/Hidayat722/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-05-09T22:59:32Z", "updated_at": "2023-04-21T21:03:04Z", "closed_at": "2020-06-23T00:15:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have trained a single class modul using img-size of 1280 multi-scale is True my MAP is .97 but detection results are not good my test image size is 2560X520 any help would be appreciated.\r\n\r\nThanks in Advance.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1153/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1151", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1151/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1151/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1151/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1151", "id": 615197937, "node_id": "MDU6SXNzdWU2MTUxOTc5Mzc=", "number": 1151, "title": "RuntimeError: DataLoader worker (pid 3855) is killed by signal", "user": {"login": "ChrisLiiiii", "id": 42533211, "node_id": "MDQ6VXNlcjQyNTMzMjEx", "avatar_url": "https://avatars.githubusercontent.com/u/42533211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisLiiiii", "html_url": "https://github.com/ChrisLiiiii", "followers_url": "https://api.github.com/users/ChrisLiiiii/followers", "following_url": "https://api.github.com/users/ChrisLiiiii/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisLiiiii/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisLiiiii/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisLiiiii/subscriptions", "organizations_url": "https://api.github.com/users/ChrisLiiiii/orgs", "repos_url": "https://api.github.com/users/ChrisLiiiii/repos", "events_url": "https://api.github.com/users/ChrisLiiiii/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisLiiiii/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-09T15:19:08Z", "updated_at": "2023-04-21T21:03:07Z", "closed_at": "2020-05-10T02:10:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your great work! I met this problem when I train my costume dataset. My environment is Linux, python=3.7.4 pytorch=1.5 torchvision=0.6. I train normally before the 55th epoch. Do you know how can I deal with that? I use default num_works=8.\r\n> Traceback (most recent call last):\r\n>   File \"train.py\", line 412, in <module>\r\n>     train()  # train normally\r\n>   File \"train.py\", line 267, in train\r\n>     loss, loss_items = compute_loss(pred, targets, model)\r\n>   File \"/home/aistudio/yolov3-weld/utils/utils.py\", line 375, in compute_loss\r\n>     lcls, lbox, lobj = ft([0]), ft([0]), ft([0])\r\n>   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/torch/utils/data/_utils/signal_handling.py\", line 66, in handler\r\n>     _error_if_any_worker_fails()\r\n> RuntimeError: DataLoader worker (pid 3855) is killed by signal: Bus error. It is possible that dataloader's workers are out of shared memory. Please try to raise your shared memory limit.\r\n![image](https://user-images.githubusercontent.com/42533211/81477668-79176400-924b-11ea-8f04-ac21a3bb09db.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1151/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1148", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1148/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1148/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1148/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1148", "id": 614863637, "node_id": "MDU6SXNzdWU2MTQ4NjM2Mzc=", "number": 1148, "title": "python3: symbol lookup error: undefined symbol: PySlice_Unpack", "user": {"login": "Shania99", "id": 45588425, "node_id": "MDQ6VXNlcjQ1NTg4NDI1", "avatar_url": "https://avatars.githubusercontent.com/u/45588425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Shania99", "html_url": "https://github.com/Shania99", "followers_url": "https://api.github.com/users/Shania99/followers", "following_url": "https://api.github.com/users/Shania99/following{/other_user}", "gists_url": "https://api.github.com/users/Shania99/gists{/gist_id}", "starred_url": "https://api.github.com/users/Shania99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Shania99/subscriptions", "organizations_url": "https://api.github.com/users/Shania99/orgs", "repos_url": "https://api.github.com/users/Shania99/repos", "events_url": "https://api.github.com/users/Shania99/events{/privacy}", "received_events_url": "https://api.github.com/users/Shania99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-08T16:59:55Z", "updated_at": "2023-04-21T21:03:10Z", "closed_at": "2020-06-13T00:15:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "![Screenshot from 2020-05-08 22-31-02](https://user-images.githubusercontent.com/45588425/81429696-cd531300-917b-11ea-82ad-98f73f30cc6e.png)\r\nI am getting this error on training yolov3 for a single class with custom data", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1148/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1144", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1144/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1144/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1144/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1144", "id": 614445420, "node_id": "MDU6SXNzdWU2MTQ0NDU0MjA=", "number": 1144, "title": "RuntimeError: No such operator torchvision::nms", "user": {"login": "xiao12mm", "id": 42893941, "node_id": "MDQ6VXNlcjQyODkzOTQx", "avatar_url": "https://avatars.githubusercontent.com/u/42893941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiao12mm", "html_url": "https://github.com/xiao12mm", "followers_url": "https://api.github.com/users/xiao12mm/followers", "following_url": "https://api.github.com/users/xiao12mm/following{/other_user}", "gists_url": "https://api.github.com/users/xiao12mm/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiao12mm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiao12mm/subscriptions", "organizations_url": "https://api.github.com/users/xiao12mm/orgs", "repos_url": "https://api.github.com/users/xiao12mm/repos", "events_url": "https://api.github.com/users/xiao12mm/events{/privacy}", "received_events_url": "https://api.github.com/users/xiao12mm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-08T01:42:32Z", "updated_at": "2023-04-21T21:03:14Z", "closed_at": "2020-06-13T00:15:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "PyTorch version: 1.5.0+cu101\r\nIs debug build: No\r\nCUDA used to build PyTorch: 10.1\r\n\r\nOS: Ubuntu 18.04.4 LTS\r\nGCC version: (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0\r\nCMake version: version 3.10.2\r\n\r\nPython version: 3.7\r\nIs CUDA available: Yes\r\nCUDA runtime version: 10.1.168\r\nGPU models and configuration: GPU 0: GeForce RTX 2080 Ti\r\nNvidia driver version: 435.21\r\ncuDNN version: Probably one of the following:\r\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.6.5\r\n/usr/local/cuda-10.1/targets/x86_64-linux/lib/libcudnn.so.7\r\n\r\nVersions of relevant libraries:\r\n[pip] numpy==1.18.1\r\n[pip] numpydoc==0.9.2\r\n[pip] torch==1.5.0+cu101\r\n[pip] torchvision==0.6.0\r\n[conda] blas                      1.0                         mkl  \r\n[conda] mkl                       2020.0                      166  \r\n[conda] mkl-service               2.3.0            py37he904b0f_0  \r\n[conda] mkl_fft                   1.0.15           py37ha843d7b_0  \r\n[conda] mkl_random                1.1.0            py37hd6b4f25_0  \r\n[conda] torch                     1.5.0+cu101              pypi_0    pypi\r\n[conda] torchvision               0.6.0                    pypi_0    pypi\r\n\r\n-----------------------------------------------------------------------------------------\r\nWhen I run train.py, it is normal, when I run test.py, it reports an error,I'm sure they match\uff0ctorch and torchvision\r\n-----------------------------------------------------------------------------------------\r\n\r\n\r\n/home/admin1/anaconda3/envs/yolo/bin/python /root/py/yolov3-master/test.py\r\nNamespace(augment=False, batch_size=16, cfg='cfg/yolov3-spp.cfg', conf_thres=0.001, data='data/ocr.data', device='', img_size=416, iou_thres=0.6, save_json=False, single_cls=False, task='test', weights='weights/best.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11019MB)\r\n\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients\r\nFusing layers...\r\nModel Summary: 152 layers, 6.29719e+07 parameters, 6.29719e+07 gradients\r\nCaching labels (26 found, 0 missing, 0 empty, 0 duplicate, for 26 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 26/26 [00:00<00:00, 11347.75it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1:   0%|          | 0/2 [00:01<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"/root/py/yolov3-master/test.py\", line 258, in <module>\r\n    opt.augment)\r\n  File \"/root/py/yolov3-master/test.py\", line 106, in test\r\n    output = non_max_suppression(inf_out, conf_thres=conf_thres, iou_thres=iou_thres)  # nms\r\n  File \"/root/py/yolov3-master/utils/utils.py\", line 548, in non_max_suppression\r\n    i = torchvision.ops.boxes.nms(boxes, scores, iou_thres)\r\n  File \"/home/admin1/anaconda3/envs/yolo/lib/python3.7/site-packages/torchvision/ops/boxes.py\", line 35, in nms\r\n    return torch.ops.torchvision.nms(boxes, scores, iou_threshold)\r\n  File \"/home/admin1/anaconda3/envs/yolo/lib/python3.7/site-packages/torch/_ops.py\", line 61, in __getattr__\r\n    op = torch._C._jit_get_operation(qualified_op_name)\r\nRuntimeError: No such operator torchvision::nms", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1144/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1140", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1140/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1140/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1140/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1140", "id": 613654343, "node_id": "MDU6SXNzdWU2MTM2NTQzNDM=", "number": 1140, "title": "Missing label file", "user": {"login": "Hamid-Najafi", "id": 17290304, "node_id": "MDQ6VXNlcjE3MjkwMzA0", "avatar_url": "https://avatars.githubusercontent.com/u/17290304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hamid-Najafi", "html_url": "https://github.com/Hamid-Najafi", "followers_url": "https://api.github.com/users/Hamid-Najafi/followers", "following_url": "https://api.github.com/users/Hamid-Najafi/following{/other_user}", "gists_url": "https://api.github.com/users/Hamid-Najafi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hamid-Najafi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hamid-Najafi/subscriptions", "organizations_url": "https://api.github.com/users/Hamid-Najafi/orgs", "repos_url": "https://api.github.com/users/Hamid-Najafi/repos", "events_url": "https://api.github.com/users/Hamid-Najafi/events{/privacy}", "received_events_url": "https://api.github.com/users/Hamid-Najafi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-06T22:34:13Z", "updated_at": "2023-04-21T21:03:16Z", "closed_at": "2020-06-11T00:15:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Im triyng to train 64 images using coco64.txt and noticed that there is a missing label file (COCO 2017 Labels) !\r\n\r\n'train2017/000000459590.txt'", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1140/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1139", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1139/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1139/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1139/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1139", "id": 613481808, "node_id": "MDU6SXNzdWU2MTM0ODE4MDg=", "number": 1139, "title": "RuntimeError: CUDA error: CUBLAS_STATUS_ALLOC_FAILED when calling `cublasCreate(handle)`", "user": {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-05-06T17:17:21Z", "updated_at": "2021-03-06T17:54:33Z", "closed_at": "2020-05-06T17:26:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n```\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 399, in <module>\r\n    train()\r\n  File \"train.py\", line 308, in train\r\n    multi_label=ni > n_burn)\r\n  File \"/usr/src/app/test.py\", line 92, in test\r\n    output = non_max_suppression(inf_out, conf_thres=conf_thres, iou_thres=iou_thres, multi_label=multi_label)\r\n  File \"/usr/src/app/utils/utils.py\", line 558, in non_max_suppression\r\n    x[i, :4] = torch.mm(weights / weights.sum(1, keepdim=True), x[:, :4]).float()  # merged boxes\r\n  File \"/opt/conda/lib/python3.6/site-packages/apex/amp/wrap.py\", line 28, in wrapper\r\n    return orig_fn(*new_args, **kwargs)\r\nRuntimeError: CUDA error: CUBLAS_STATUS_ALLOC_FAILED when calling `cublasCreate(handle)`\r\n\r\n```\r\n## To Reproduce\r\n```\r\npython train.py\r\n```\r\n\r\n## Expected behavior\r\nTrain normally\r\n\r\n## Environment\r\nGCP Deep Learning VM\r\n\r\n## Additional context\r\nProblem originates in matrix multiplication in merge NMS, appears to be a CUDA issue. Will attempt to resolve by placing affected region in `try pass` statement.\r\n```\r\nx[i, :4] = torch.mm(weights / weights.sum(1, keepdim=True), x[:, :4]).float()  # merged boxes\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1139/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1134", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1134/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1134/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1134/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1134", "id": 613015368, "node_id": "MDU6SXNzdWU2MTMwMTUzNjg=", "number": 1134, "title": "train yolov4", "user": {"login": "kaishijeng", "id": 12689630, "node_id": "MDQ6VXNlcjEyNjg5NjMw", "avatar_url": "https://avatars.githubusercontent.com/u/12689630?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaishijeng", "html_url": "https://github.com/kaishijeng", "followers_url": "https://api.github.com/users/kaishijeng/followers", "following_url": "https://api.github.com/users/kaishijeng/following{/other_user}", "gists_url": "https://api.github.com/users/kaishijeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaishijeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaishijeng/subscriptions", "organizations_url": "https://api.github.com/users/kaishijeng/orgs", "repos_url": "https://api.github.com/users/kaishijeng/repos", "events_url": "https://api.github.com/users/kaishijeng/events{/privacy}", "received_events_url": "https://api.github.com/users/kaishijeng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 27, "created_at": "2020-05-06T02:49:51Z", "updated_at": "2023-04-21T21:03:21Z", "closed_at": "2020-06-20T00:15:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I change yolov4-relu.cfg to 10 classes and run train.py.\r\nWhy does it still download yolov3-spp-ultralytics.pt?\r\nShouldn't it use yolov4-spp-ultralytics.pt instead?\r\n\r\nThanks,", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1134/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1133", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1133/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1133/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1133/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1133", "id": 612558999, "node_id": "MDU6SXNzdWU2MTI1NTg5OTk=", "number": 1133, "title": "Evolve parameters ", "user": {"login": "jaqub-manuel", "id": 64843726, "node_id": "MDQ6VXNlcjY0ODQzNzI2", "avatar_url": "https://avatars.githubusercontent.com/u/64843726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaqub-manuel", "html_url": "https://github.com/jaqub-manuel", "followers_url": "https://api.github.com/users/jaqub-manuel/followers", "following_url": "https://api.github.com/users/jaqub-manuel/following{/other_user}", "gists_url": "https://api.github.com/users/jaqub-manuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaqub-manuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaqub-manuel/subscriptions", "organizations_url": "https://api.github.com/users/jaqub-manuel/orgs", "repos_url": "https://api.github.com/users/jaqub-manuel/repos", "events_url": "https://api.github.com/users/jaqub-manuel/events{/privacy}", "received_events_url": "https://api.github.com/users/jaqub-manuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-05-05T12:18:51Z", "updated_at": "2023-04-21T21:03:22Z", "closed_at": "2020-06-11T00:15:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nThanks for this great work. \r\nI have trained my model for one class (includes 700 images) and gec mAP 60.\r\nTo increase mAP, I used evolve and got evolve.tx, but it has lotf of parameters. I cant not figure out what are the first 7 parameters, other starts with giou. My evolve txt looks like this:\r\n0.96      0.833      0.911      0.892       1.47      0.247          0       3.57    0.00573       0.99       65.7      0.983      0.198       0.01     0.0005      0.935   0.000492          0     0.0132      0.702      0.361          0          0          0          0.\r\ngiou starts 3.57 and so on, but what is ( 0.96      0.833      0.911      0.892       1.47      0.247          0) ?\r\n\r\nThanks for advance\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1133/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1132", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1132/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1132/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1132/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1132", "id": 612452828, "node_id": "MDU6SXNzdWU2MTI0NTI4Mjg=", "number": 1132, "title": "Question about the construction of target confidence", "user": {"login": "logic03", "id": 36037882, "node_id": "MDQ6VXNlcjM2MDM3ODgy", "avatar_url": "https://avatars.githubusercontent.com/u/36037882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/logic03", "html_url": "https://github.com/logic03", "followers_url": "https://api.github.com/users/logic03/followers", "following_url": "https://api.github.com/users/logic03/following{/other_user}", "gists_url": "https://api.github.com/users/logic03/gists{/gist_id}", "starred_url": "https://api.github.com/users/logic03/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/logic03/subscriptions", "organizations_url": "https://api.github.com/users/logic03/orgs", "repos_url": "https://api.github.com/users/logic03/repos", "events_url": "https://api.github.com/users/logic03/events{/privacy}", "received_events_url": "https://api.github.com/users/logic03/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-05T09:07:39Z", "updated_at": "2020-06-13T00:15:38Z", "closed_at": "2020-06-13T00:15:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "tobj = torch.zeros_like(pi[..., 0])  # target obj (In utils-378)\r\n\r\nThis line is used to construct the confidence corresponding to the output of yolo layer. In theory, when I = 0 (i.e. 13*13 this yolo layer), the confidence should be 13*13*3. Why tobj.numel() is equal to 4056?\r\nThe tobj.numel() corresponding to the three YOLO layers is 4056/16224/64896, why?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1132/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1132/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1131", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1131/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1131/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1131/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1131", "id": 612449346, "node_id": "MDU6SXNzdWU2MTI0NDkzNDY=", "number": 1131, "title": "Question about the Calculation of predicted coordinates bx in code", "user": {"login": "logic03", "id": 36037882, "node_id": "MDQ6VXNlcjM2MDM3ODgy", "avatar_url": "https://avatars.githubusercontent.com/u/36037882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/logic03", "html_url": "https://github.com/logic03", "followers_url": "https://api.github.com/users/logic03/followers", "following_url": "https://api.github.com/users/logic03/following{/other_user}", "gists_url": "https://api.github.com/users/logic03/gists{/gist_id}", "starred_url": "https://api.github.com/users/logic03/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/logic03/subscriptions", "organizations_url": "https://api.github.com/users/logic03/orgs", "repos_url": "https://api.github.com/users/logic03/repos", "events_url": "https://api.github.com/users/logic03/events{/privacy}", "received_events_url": "https://api.github.com/users/logic03/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-05T09:01:21Z", "updated_at": "2020-06-11T00:15:09Z", "closed_at": "2020-06-11T00:15:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "According to the calculation formula of bx: bx = sigmoid(tx) + cx, cx is the target upper left abscissa, so why not add gj and gi in this line of code?(In utils.py - 408)\r\n\r\npxy = torch.sigmoid(ps[:, 0:2])  \r\n\r\nIf I don't add it, does it become bx = sigmoid(tx)?\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1131/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1128", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1128/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1128/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1128/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1128", "id": 611712299, "node_id": "MDU6SXNzdWU2MTE3MTIyOTk=", "number": 1128, "title": "pytorch yolov3 test.py", "user": {"login": "ZZY-666", "id": 59229974, "node_id": "MDQ6VXNlcjU5MjI5OTc0", "avatar_url": "https://avatars.githubusercontent.com/u/59229974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZZY-666", "html_url": "https://github.com/ZZY-666", "followers_url": "https://api.github.com/users/ZZY-666/followers", "following_url": "https://api.github.com/users/ZZY-666/following{/other_user}", "gists_url": "https://api.github.com/users/ZZY-666/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZZY-666/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZZY-666/subscriptions", "organizations_url": "https://api.github.com/users/ZZY-666/orgs", "repos_url": "https://api.github.com/users/ZZY-666/repos", "events_url": "https://api.github.com/users/ZZY-666/events{/privacy}", "received_events_url": "https://api.github.com/users/ZZY-666/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-04T08:58:48Z", "updated_at": "2023-04-21T21:03:25Z", "closed_at": "2020-06-09T00:15:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "pytorch\r\nThe following problems occurred during the test.\r\n\r\nshape '[64,64,3,3]'is invalid for input of size 576\r\n\r\nLooking forward to your reply\uff01", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1128/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1127", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1127/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1127/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1127/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1127", "id": 611574479, "node_id": "MDU6SXNzdWU2MTE1NzQ0Nzk=", "number": 1127, "title": "AssertionError:Model accepts 80 classes labeled from 0 - 79, however you labeled a class 85", "user": {"login": "dance-ing", "id": 60999145, "node_id": "MDQ6VXNlcjYwOTk5MTQ1", "avatar_url": "https://avatars.githubusercontent.com/u/60999145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dance-ing", "html_url": "https://github.com/dance-ing", "followers_url": "https://api.github.com/users/dance-ing/followers", "following_url": "https://api.github.com/users/dance-ing/following{/other_user}", "gists_url": "https://api.github.com/users/dance-ing/gists{/gist_id}", "starred_url": "https://api.github.com/users/dance-ing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dance-ing/subscriptions", "organizations_url": "https://api.github.com/users/dance-ing/orgs", "repos_url": "https://api.github.com/users/dance-ing/repos", "events_url": "https://api.github.com/users/dance-ing/events{/privacy}", "received_events_url": "https://api.github.com/users/dance-ing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-04T02:56:20Z", "updated_at": "2023-04-21T21:03:26Z", "closed_at": "2020-06-13T00:15:39Z", "author_association": "NONE", "active_lock_reason": null, "body": " The datasets is coco2017, and my environment is Ubuntu + RTX2080ti, when I run the train.py, in the first epoch, the error was happended in utils.utils.py  line376, I don't konw why ??? Are there any other file parameters I need to change??", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1127/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1126", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1126/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1126/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1126/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1126", "id": 611494182, "node_id": "MDU6SXNzdWU2MTE0OTQxODI=", "number": 1126, "title": "'YOLOLayer' object has no attribute 'grid'", "user": {"login": "ganeshkulkarni98", "id": 53935421, "node_id": "MDQ6VXNlcjUzOTM1NDIx", "avatar_url": "https://avatars.githubusercontent.com/u/53935421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ganeshkulkarni98", "html_url": "https://github.com/ganeshkulkarni98", "followers_url": "https://api.github.com/users/ganeshkulkarni98/followers", "following_url": "https://api.github.com/users/ganeshkulkarni98/following{/other_user}", "gists_url": "https://api.github.com/users/ganeshkulkarni98/gists{/gist_id}", "starred_url": "https://api.github.com/users/ganeshkulkarni98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ganeshkulkarni98/subscriptions", "organizations_url": "https://api.github.com/users/ganeshkulkarni98/orgs", "repos_url": "https://api.github.com/users/ganeshkulkarni98/repos", "events_url": "https://api.github.com/users/ganeshkulkarni98/events{/privacy}", "received_events_url": "https://api.github.com/users/ganeshkulkarni98/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-03T20:00:19Z", "updated_at": "2023-04-21T21:03:27Z", "closed_at": "2020-06-03T04:07:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was training custom dataset by following instruction given in wiki page of this github. \r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 451, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 332, in train\r\n    dataloader=testloader)\r\n  File \"/yolov3/test.py\", line 77, in test\r\n    _ = model(torch.zeros((1, 3, img_size, img_size), device=device)) if device.type != 'cpu' else None  # run once\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py\", line 550, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/yolov3/models.py\", line 236, in forward\r\n    return self.forward_once(x)\r\n  File \"/yolov3/models.py\", line 288, in forward_once\r\n    yolo_out.append(module(x, out))\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py\", line 550, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/yolov3/models.py\", line 210, in forward\r\n    io[..., :2] = torch.sigmoid(io[..., :2]) + self.grid # xy\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py\", line 594, in __getattr__\r\n    type(self).__name__, name))\r\nAttributeError: 'YOLOLayer' object has no attribute 'grid'", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1126/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1126/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1125", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1125/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1125/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1125/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1125", "id": 611446888, "node_id": "MDU6SXNzdWU2MTE0NDY4ODg=", "number": 1125, "title": "Bug- Transfer learning is not working", "user": {"login": "ZihaoCheng001", "id": 26185398, "node_id": "MDQ6VXNlcjI2MTg1Mzk4", "avatar_url": "https://avatars.githubusercontent.com/u/26185398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZihaoCheng001", "html_url": "https://github.com/ZihaoCheng001", "followers_url": "https://api.github.com/users/ZihaoCheng001/followers", "following_url": "https://api.github.com/users/ZihaoCheng001/following{/other_user}", "gists_url": "https://api.github.com/users/ZihaoCheng001/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZihaoCheng001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZihaoCheng001/subscriptions", "organizations_url": "https://api.github.com/users/ZihaoCheng001/orgs", "repos_url": "https://api.github.com/users/ZihaoCheng001/repos", "events_url": "https://api.github.com/users/ZihaoCheng001/events{/privacy}", "received_events_url": "https://api.github.com/users/ZihaoCheng001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-03T16:08:30Z", "updated_at": "2023-04-21T21:03:28Z", "closed_at": "2020-05-04T03:14:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Ultralytics,\r\n\r\nThanks a lot for sharing with us this YOLO code. It is amazing!\r\nI am following this tutorial to learn YOLO: https://github.com/ultralytics/yolov3/wiki/Example:-Transfer-Learning \r\nDuring testing, I used the command like this:\r\n**python3 train.py --data data/coco16.data --cfg cfg/yolov3-spp.cfg --weights weights/yolov3-spp-ultralytics.pt --transfer**\r\n\r\nI got the error saying :\r\n\r\nusage: train.py [-h] [--epochs EPOCHS] [--batch-size BATCH_SIZE] [--cfg CFG]\r\n                [--data DATA] [--multi-scale]\r\n                [--img-size IMG_SIZE [IMG_SIZE ...]] [--rect] [--resume]\r\n                [--nosave] [--notest] [--evolve] [--bucket BUCKET]\r\n                [--cache-images] [--weights WEIGHTS] [--name NAME]\r\n                [--device DEVICE] [--adam] [--single-cls]\r\n**train.py: error: unrecognized arguments: --transfer**\r\n\r\nI checked the train.py file, it does not have the parameter \"transfer\", so I think maybe this function is been removed in the latest version. Maybe my command is wrong.\r\nMay I know whether transfer learning is available in current code? \r\n\r\nThanks a lot for your help!\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1125/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1124", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1124/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1124/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1124/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1124", "id": 611362740, "node_id": "MDU6SXNzdWU2MTEzNjI3NDA=", "number": 1124, "title": "Width and anchor", "user": {"login": "949600981", "id": 64635812, "node_id": "MDQ6VXNlcjY0NjM1ODEy", "avatar_url": "https://avatars.githubusercontent.com/u/64635812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/949600981", "html_url": "https://github.com/949600981", "followers_url": "https://api.github.com/users/949600981/followers", "following_url": "https://api.github.com/users/949600981/following{/other_user}", "gists_url": "https://api.github.com/users/949600981/gists{/gist_id}", "starred_url": "https://api.github.com/users/949600981/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/949600981/subscriptions", "organizations_url": "https://api.github.com/users/949600981/orgs", "repos_url": "https://api.github.com/users/949600981/repos", "events_url": "https://api.github.com/users/949600981/events{/privacy}", "received_events_url": "https://api.github.com/users/949600981/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-03T08:38:24Z", "updated_at": "2020-06-08T00:15:35Z", "closed_at": "2020-06-08T00:15:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I found that the width is 608 instead of 416 in the yolov3-spp.cfg file, so does the anchor size not need to be changed for 416\u2192608\uff1f", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1124/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1123", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1123/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1123/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1123/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1123", "id": 611334058, "node_id": "MDU6SXNzdWU2MTEzMzQwNTg=", "number": 1123, "title": "`WARNING: non-finite loss, ending training  tensor([nan, nan, 0., nan], device='cuda:0')`", "user": {"login": "xiao12mm", "id": 42893941, "node_id": "MDQ6VXNlcjQyODkzOTQx", "avatar_url": "https://avatars.githubusercontent.com/u/42893941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiao12mm", "html_url": "https://github.com/xiao12mm", "followers_url": "https://api.github.com/users/xiao12mm/followers", "following_url": "https://api.github.com/users/xiao12mm/following{/other_user}", "gists_url": "https://api.github.com/users/xiao12mm/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiao12mm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiao12mm/subscriptions", "organizations_url": "https://api.github.com/users/xiao12mm/orgs", "repos_url": "https://api.github.com/users/xiao12mm/repos", "events_url": "https://api.github.com/users/xiao12mm/events{/privacy}", "received_events_url": "https://api.github.com/users/xiao12mm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-03T05:07:23Z", "updated_at": "2023-04-21T21:03:29Z", "closed_at": "2020-06-27T00:16:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before submitting a bug report, please ensure that you are using the latest versions of:\r\n - python 3.7\r\n - torch  1.5.0\r\n - this repo (run `git status` and `git pull`)\r\n \r\nThis error occurs after a part of training, and then the training is terminated\uff0cwhat 's wrong with it?\r\n`WARNING: non-finite loss, ending training  tensor([nan, nan, 0., nan], device='cuda:0')`\r\n\r\n - OS: [e.g. Ubuntu 18.04]\r\n - GPU [e.g. 2080 Ti]\r\n\r\n\r\n## Additional context\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1123/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1123/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1122", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1122/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1122/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1122/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1122", "id": 611211875, "node_id": "MDU6SXNzdWU2MTEyMTE4NzU=", "number": 1122, "title": "IndexError: list index out of range", "user": {"login": "nasio91", "id": 36339349, "node_id": "MDQ6VXNlcjM2MzM5MzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/36339349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nasio91", "html_url": "https://github.com/nasio91", "followers_url": "https://api.github.com/users/nasio91/followers", "following_url": "https://api.github.com/users/nasio91/following{/other_user}", "gists_url": "https://api.github.com/users/nasio91/gists{/gist_id}", "starred_url": "https://api.github.com/users/nasio91/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nasio91/subscriptions", "organizations_url": "https://api.github.com/users/nasio91/orgs", "repos_url": "https://api.github.com/users/nasio91/repos", "events_url": "https://api.github.com/users/nasio91/events{/privacy}", "received_events_url": "https://api.github.com/users/nasio91/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-02T15:19:41Z", "updated_at": "2023-04-21T21:03:30Z", "closed_at": "2020-06-11T00:15:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! Im using colab to train my model but i've encounter this error at first epoch. \r\n\r\n\r\n![image](https://user-images.githubusercontent.com/36339349/80869427-a0e15780-8ca0-11ea-807c-67933904858c.png)\r\n\r\n\r\n\r\nI've already tried in past to train on my laptop and i nerver encountered that \r\n\r\nTo reproduce:\r\n`Command:\r\n!python3 train.py --data data/data.data --batch 8   --epochs 30`\r\n\r\n.data\r\nclasses=4\r\ntrain=data/train.txt\r\nvalid=data/valid.txt\r\nnames=data/data.names\r\n\r\n\r\n.names\r\ntruck\r\nbus\r\ncar\r\nother\r\n\r\nTrain and test images are in the same folder\r\ntrain.txt is like\r\n`/content/Highway_Dataset/images/000000.jpg`\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1122/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1121", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1121/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1121/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1121/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1121", "id": 611010567, "node_id": "MDU6SXNzdWU2MTEwMTA1Njc=", "number": 1121, "title": "yolo layer : missing scale_x_y parameter", "user": {"login": "pfeatherstone", "id": 45853521, "node_id": "MDQ6VXNlcjQ1ODUzNTIx", "avatar_url": "https://avatars.githubusercontent.com/u/45853521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfeatherstone", "html_url": "https://github.com/pfeatherstone", "followers_url": "https://api.github.com/users/pfeatherstone/followers", "following_url": "https://api.github.com/users/pfeatherstone/following{/other_user}", "gists_url": "https://api.github.com/users/pfeatherstone/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfeatherstone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfeatherstone/subscriptions", "organizations_url": "https://api.github.com/users/pfeatherstone/orgs", "repos_url": "https://api.github.com/users/pfeatherstone/repos", "events_url": "https://api.github.com/users/pfeatherstone/events{/privacy}", "received_events_url": "https://api.github.com/users/pfeatherstone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-01T22:45:13Z", "updated_at": "2020-06-07T00:16:02Z", "closed_at": "2020-06-07T00:16:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "yolo layers optionally have scale_x_y parameter. This is not an issue for yolov3 since it is always 1, but since it would seem you are experimenting with yolov4, i assume you intend to support it. yolov4 uses scale_x_y 1.2 1.1 and 1.05 i think", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1117", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1117/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1117/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1117/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1117", "id": 610660293, "node_id": "MDU6SXNzdWU2MTA2NjAyOTM=", "number": 1117, "title": "map and conf questions", "user": {"login": "949600981", "id": 64635812, "node_id": "MDQ6VXNlcjY0NjM1ODEy", "avatar_url": "https://avatars.githubusercontent.com/u/64635812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/949600981", "html_url": "https://github.com/949600981", "followers_url": "https://api.github.com/users/949600981/followers", "following_url": "https://api.github.com/users/949600981/following{/other_user}", "gists_url": "https://api.github.com/users/949600981/gists{/gist_id}", "starred_url": "https://api.github.com/users/949600981/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/949600981/subscriptions", "organizations_url": "https://api.github.com/users/949600981/orgs", "repos_url": "https://api.github.com/users/949600981/repos", "events_url": "https://api.github.com/users/949600981/events{/privacy}", "received_events_url": "https://api.github.com/users/949600981/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-01T09:21:53Z", "updated_at": "2023-04-21T21:03:32Z", "closed_at": "2020-06-07T00:16:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "HEIP!!!\r\nI use v6 release.  Training my own data set(singe class) .but mAP<0.6  .\r\nThe confidence  of the detected pictures is mostly less than 0.5.\r\n![results](https://user-images.githubusercontent.com/64635812/80795839-3b259a80-8bd0-11ea-8c6e-bb763dfb802a.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1117/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1109", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1109/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1109/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1109/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1109", "id": 608405406, "node_id": "MDU6SXNzdWU2MDg0MDU0MDY=", "number": 1109, "title": "what  is the meaning of outputs?", "user": {"login": "AliceSchaw", "id": 29159540, "node_id": "MDQ6VXNlcjI5MTU5NTQw", "avatar_url": "https://avatars.githubusercontent.com/u/29159540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AliceSchaw", "html_url": "https://github.com/AliceSchaw", "followers_url": "https://api.github.com/users/AliceSchaw/followers", "following_url": "https://api.github.com/users/AliceSchaw/following{/other_user}", "gists_url": "https://api.github.com/users/AliceSchaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/AliceSchaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AliceSchaw/subscriptions", "organizations_url": "https://api.github.com/users/AliceSchaw/orgs", "repos_url": "https://api.github.com/users/AliceSchaw/repos", "events_url": "https://api.github.com/users/AliceSchaw/events{/privacy}", "received_events_url": "https://api.github.com/users/AliceSchaw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2020-04-28T15:23:11Z", "updated_at": "2023-04-21T21:03:35Z", "closed_at": "2020-05-11T05:45:54Z", "author_association": "NONE", "active_lock_reason": null, "body": " I trained my custom dataset and exported the onnx model.  the final names of output  are 325 and 328, the type of them is  float32[12348,4].  what  is the meaning of outputs?  my number of classes is 4.\r\n\r\nonnx model:\r\n![graph](https://user-images.githubusercontent.com/29159540/80505428-e5ba7500-89a6-11ea-8c3c-a5e5ba842c38.png)\r\n\r\ncfg files:\r\n[prune_0.93_keep_0.01_16_shortcut_yolov3-spp3-4cls.txt](https://github.com/ultralytics/yolov3/files/4546805/prune_0.93_keep_0.01_16_shortcut_yolov3-spp3-4cls.txt)\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1109/reactions", "total_count": 3, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1109/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1105", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1105/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1105/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1105/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1105", "id": 607781147, "node_id": "MDU6SXNzdWU2MDc3ODExNDc=", "number": 1105, "title": "Git Version Error in Training", "user": {"login": "sourav164", "id": 25671022, "node_id": "MDQ6VXNlcjI1NjcxMDIy", "avatar_url": "https://avatars.githubusercontent.com/u/25671022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sourav164", "html_url": "https://github.com/sourav164", "followers_url": "https://api.github.com/users/sourav164/followers", "following_url": "https://api.github.com/users/sourav164/following{/other_user}", "gists_url": "https://api.github.com/users/sourav164/gists{/gist_id}", "starred_url": "https://api.github.com/users/sourav164/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sourav164/subscriptions", "organizations_url": "https://api.github.com/users/sourav164/orgs", "repos_url": "https://api.github.com/users/sourav164/repos", "events_url": "https://api.github.com/users/sourav164/events{/privacy}", "received_events_url": "https://api.github.com/users/sourav164/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-27T19:06:32Z", "updated_at": "2023-04-21T21:03:39Z", "closed_at": "2020-04-27T22:20:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: Windows 10\r\n - GPU: 1050 ti\r\n - Python: 3.7\r\n\r\n## libraries info - \r\n\tmatplotlib==3.2.1\r\n\tnumpy==1.18.3\r\n\topencv-python==4.2.0.34\r\n\tPillow==7.1.2\r\n\tprotobuf==3.11.3\r\n\ttensorboard==2.2.1\r\n\ttensorboard-plugin-wit==1.6.0.post3\r\n\ttorch==1.5.0+cu101\r\n\ttorchvision==0.6.0+cu101\r\n\ttqdm==4.45.0\r\n\r\nGit repo was downloaded from the github ( 692f945 ). \r\n\r\nTrying to train the model on a single class. I am running the code\r\n\r\n\t>> (yolo_2) C:\\Users\\SR\\yolov3>python train.py --data data\\coco1cls.data --cfg cfg\\yolov3-tiny-1cls.cfg\r\n\r\nOutput\r\n\r\n\tApex recommended for faster mixed precision training: https://github.com/NVIDIA/apex\r\n\t-d was unexpected at this time.\r\n\tTraceback (most recent call last):\r\n\t  File \"train.py\", line 408, in <module>\r\n\t    check_git_status()\r\n\t  File \"C:\\Users\\SR\\yolov3\\utils\\utils.py\", line 37, in check_git_status\r\n\t    s = subprocess.check_output('if [ -d .git ]; then git fetch && git status -uno; fi', shell=True).decode('utf-8')\r\n\t  File \"C:\\Users\\SR\\.conda\\envs\\yolo_2\\lib\\subprocess.py\", line 411, in check_output\r\n\t    **kwargs).stdout\r\n\t  File \"C:\\Users\\SR\\.conda\\envs\\yolo_2\\lib\\subprocess.py\", line 512, in run\r\n\t    output=stdout, stderr=stderr)\r\n\tsubprocess.CalledProcessError: Command 'if [ -d .git ]; then git fetch && git status -uno; fi' returned non-zero exit status 1.\r\n\r\n\r\n\r\n\r\n\r\n ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1105/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1104", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1104/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1104/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1104/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1104", "id": 607706378, "node_id": "MDU6SXNzdWU2MDc3MDYzNzg=", "number": 1104, "title": "[Multi-GPU training error]RuntimeError: Model replicas must have an equal number of parameters.", "user": {"login": "vandesa003", "id": 10252812, "node_id": "MDQ6VXNlcjEwMjUyODEy", "avatar_url": "https://avatars.githubusercontent.com/u/10252812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vandesa003", "html_url": "https://github.com/vandesa003", "followers_url": "https://api.github.com/users/vandesa003/followers", "following_url": "https://api.github.com/users/vandesa003/following{/other_user}", "gists_url": "https://api.github.com/users/vandesa003/gists{/gist_id}", "starred_url": "https://api.github.com/users/vandesa003/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vandesa003/subscriptions", "organizations_url": "https://api.github.com/users/vandesa003/orgs", "repos_url": "https://api.github.com/users/vandesa003/repos", "events_url": "https://api.github.com/users/vandesa003/events{/privacy}", "received_events_url": "https://api.github.com/users/vandesa003/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2020-04-27T17:03:18Z", "updated_at": "2023-04-21T21:03:41Z", "closed_at": "2020-06-17T00:15:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your great work! But I met some problem during distributed training on single machine(DDP).\r\n\r\n\r\n## \ud83d\udc1b Bug\r\nWhen training on multi GPUs(DDP), following error shows:\r\n```\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 422, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 172, in train\r\n    model = torch.nn.parallel.DistributedDataParallel(model, find_unused_parameters=True)\r\n  File \"/data/bohang/conda_env/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 287, in __init__\r\n    self._ddp_init_helper()\r\n  File \"/data/bohang/conda_env/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 380, in _ddp_init_helper\r\n    expect_sparse_gradient)\r\nRuntimeError: Model replicas must have an equal number of parameters.\r\n```\r\n\r\n## To Reproduce\r\n**REQUIRED**: Code to reproduce your issue below\r\n```\r\npython3 train.py --data data/coco64.data --img-size 320 --epochs 3 --nosave\r\n```\r\n\r\n\r\n## Expected behavior\r\nShould be normally trained as I can do on single GPU.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n - OS: [Ubuntu 16.04]\r\n - GPU [V100 * 4]\r\n\r\n\r\n## Additional context\r\nIt seems a [bug from pytorch1.5](https://github.com/pytorch/pytorch/issues/36268#issuecomment-619414463), but as the [README.md ](https://github.com/ultralytics/yolov3/blob/master/README.md) mentioned, I am using the latest pytorch1.5. However due to my env reason, I keep using python3.6.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1104/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1101", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1101/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1101/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1101/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1101", "id": 607454943, "node_id": "MDU6SXNzdWU2MDc0NTQ5NDM=", "number": 1101, "title": "Coordinate clipping could be more precise?", "user": {"login": "tloki", "id": 26622655, "node_id": "MDQ6VXNlcjI2NjIyNjU1", "avatar_url": "https://avatars.githubusercontent.com/u/26622655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tloki", "html_url": "https://github.com/tloki", "followers_url": "https://api.github.com/users/tloki/followers", "following_url": "https://api.github.com/users/tloki/following{/other_user}", "gists_url": "https://api.github.com/users/tloki/gists{/gist_id}", "starred_url": "https://api.github.com/users/tloki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tloki/subscriptions", "organizations_url": "https://api.github.com/users/tloki/orgs", "repos_url": "https://api.github.com/users/tloki/repos", "events_url": "https://api.github.com/users/tloki/events{/privacy}", "received_events_url": "https://api.github.com/users/tloki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "tloki", "id": 26622655, "node_id": "MDQ6VXNlcjI2NjIyNjU1", "avatar_url": "https://avatars.githubusercontent.com/u/26622655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tloki", "html_url": "https://github.com/tloki", "followers_url": "https://api.github.com/users/tloki/followers", "following_url": "https://api.github.com/users/tloki/following{/other_user}", "gists_url": "https://api.github.com/users/tloki/gists{/gist_id}", "starred_url": "https://api.github.com/users/tloki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tloki/subscriptions", "organizations_url": "https://api.github.com/users/tloki/orgs", "repos_url": "https://api.github.com/users/tloki/repos", "events_url": "https://api.github.com/users/tloki/events{/privacy}", "received_events_url": "https://api.github.com/users/tloki/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tloki", "id": 26622655, "node_id": "MDQ6VXNlcjI2NjIyNjU1", "avatar_url": "https://avatars.githubusercontent.com/u/26622655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tloki", "html_url": "https://github.com/tloki", "followers_url": "https://api.github.com/users/tloki/followers", "following_url": "https://api.github.com/users/tloki/following{/other_user}", "gists_url": "https://api.github.com/users/tloki/gists{/gist_id}", "starred_url": "https://api.github.com/users/tloki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tloki/subscriptions", "organizations_url": "https://api.github.com/users/tloki/orgs", "repos_url": "https://api.github.com/users/tloki/repos", "events_url": "https://api.github.com/users/tloki/events{/privacy}", "received_events_url": "https://api.github.com/users/tloki/received_events", "type": "User", "site_admin": false}, {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-04-27T11:06:04Z", "updated_at": "2023-04-21T21:03:43Z", "closed_at": "2020-06-03T00:15:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "A question about coordinate clipping - in case where prediction bounding box is out of image, a coordinate clipping is performed (to \"fix\" coordinates less than 0 to be 0, and coordinates that are higher than image shape to be equal to image shape)\r\n\r\nhttps://github.com/ultralytics/yolov3/blob/4a4bfb20deba3c88ce12c44e7837eada95a42e25/utils/utils.py#L164\r\n\r\nBut, since coordinates are given with indexes, a range of, say 416 pixels is given by [0, 415] (or more precisely [0, 416 - 1]) - would it not be more precise to clip it that way? This would require just four \"-1\" values on referenced line and above.\r\n\r\nShould I make a pull request?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1101/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1097", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1097/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1097/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1097/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1097", "id": 606874774, "node_id": "MDU6SXNzdWU2MDY4NzQ3NzQ=", "number": 1097, "title": "Pretrained yolov3-spp-ultralytics.pt is not compatible with cfg/yolov3-asff.cfg", "user": {"login": "anhnktp", "id": 30823943, "node_id": "MDQ6VXNlcjMwODIzOTQz", "avatar_url": "https://avatars.githubusercontent.com/u/30823943?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anhnktp", "html_url": "https://github.com/anhnktp", "followers_url": "https://api.github.com/users/anhnktp/followers", "following_url": "https://api.github.com/users/anhnktp/following{/other_user}", "gists_url": "https://api.github.com/users/anhnktp/gists{/gist_id}", "starred_url": "https://api.github.com/users/anhnktp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anhnktp/subscriptions", "organizations_url": "https://api.github.com/users/anhnktp/orgs", "repos_url": "https://api.github.com/users/anhnktp/repos", "events_url": "https://api.github.com/users/anhnktp/events{/privacy}", "received_events_url": "https://api.github.com/users/anhnktp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 26, "created_at": "2020-04-25T23:13:12Z", "updated_at": "2023-04-21T21:03:45Z", "closed_at": "2020-06-21T00:16:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "KeyError: \"weights/yolov3-spp-ultralytics.pt is not compatible with cfg/yolov3-asff.cfg. Specify --weights '' or specify a --cfg compatible with weights/yolov3-spp-ultralytics.pt. See https://github.com/ultralytics/yolov3/issues/657\"\r\n\r\nCould you provide yolov3-asff pretrained ?\r\nthank you!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1097/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1097/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1095", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1095/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1095/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1095/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1095", "id": 606838950, "node_id": "MDU6SXNzdWU2MDY4Mzg5NTA=", "number": 1095, "title": "Code can't see and load the labels when trying to train using custom dataset", "user": {"login": "suarezjessie", "id": 32742698, "node_id": "MDQ6VXNlcjMyNzQyNjk4", "avatar_url": "https://avatars.githubusercontent.com/u/32742698?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suarezjessie", "html_url": "https://github.com/suarezjessie", "followers_url": "https://api.github.com/users/suarezjessie/followers", "following_url": "https://api.github.com/users/suarezjessie/following{/other_user}", "gists_url": "https://api.github.com/users/suarezjessie/gists{/gist_id}", "starred_url": "https://api.github.com/users/suarezjessie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suarezjessie/subscriptions", "organizations_url": "https://api.github.com/users/suarezjessie/orgs", "repos_url": "https://api.github.com/users/suarezjessie/repos", "events_url": "https://api.github.com/users/suarezjessie/events{/privacy}", "received_events_url": "https://api.github.com/users/suarezjessie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-25T19:28:23Z", "updated_at": "2023-04-21T21:03:46Z", "closed_at": "2020-04-25T19:38:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've read the guide on Training on Custom Dataset and since what I'm planning to do is a single class prediction, I also read and tried the Training on Single Class guide. However, when I try running the code, it can't seem to find the file that has the labels despite it being present. The error is shown below. My current folder structure and the sample file locations are specified after the snippet for the error.\r\n\r\n```\r\n20200425151625 Apex recommended for faster mixed precision training: https://github.com/NVIDIA/apex\r\n20200425151631 Namespace(adam=False, batch_size=16, bucket='', cache_images=False, cfg='cfg/anom_spp_1cls.cfg', data='data/anom_1cls.data', device='', epochs=300, evolve=False, img_size=[320, 640], multi_scale=False, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, weights='yolov3-spp.weights')\r\n20200425151632 Start Tensorboard with \"tensorboard --logdir=runs\", view at http://localhost:6006/\r\n^MCaching labels:   0%|          | 0/33861 [00:00<?, ?it/s]^MCaching labels:  82%|########2 | 27878/33861 [00:00<00:00, 278771.63it/s]^MCaching labels: 100%|##########| 33861/33861 [00:00<00:00, 280389.81it/s]\r\nUsing CUDA device0 _CudaDeviceProperties(name='Tesla P40', total_memory=22919MB)\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 428, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 186, in train\r\n    single_cls=opt.single_cls)\r\n  File \"/scratch1/scratch2/jessie.suarez/cs298_anomaly_localization/yolov3/utils/datasets.py\", line 387, in __init__\r\n    assert nf > 0, 'No labels found in %s. See %s' % (os.path.dirname(file) + os.sep, help_url)\r\nAssertionError: No labels found in frame_data/train/labels/. See https://github.com/ultralytics/yolov3/wiki/Train-Custom-Data\r\n```\r\n\r\nI've double checked the data and the labels are present along with the corresponding images. My current folder structure is shown below\r\n\r\n```\r\ndata/\r\n    samples/\r\n    frame_data/\r\n        test/\r\n            images/\r\n            labels_multi/\r\n            labels_single/\r\n            labels/\r\n        train/\r\n            images/\r\n            labels_multi/\r\n            labels_single/\r\n            labels/\r\n```\r\n\r\nIn addition, for below is a sample of the contents of the `train.txt` file.\r\n\r\n```\r\nframe_data/train/images/Arrest002_256.jpg\r\nframe_data/train/images/Arrest002_257.jpg\r\nframe_data/train/images/Arrest002_258.jpg\r\nframe_data/train/images/Arrest002_259.jpg\r\n```\r\n\r\nThe sample corresponding labels of the above images are below\r\n\r\n```\r\nframe_data/train/labels/Arrest002_256.txt\r\nframe_data/train/labels/Arrest002_257.txt\r\nframe_data/train/labels/Arrest002_258.txt\r\nframe_data/train/labels/Arrest002_259.txt\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1095/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1095/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1089", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1089/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1089/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1089/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1089", "id": 605452408, "node_id": "MDU6SXNzdWU2MDU0NTI0MDg=", "number": 1089, "title": "resume error ", "user": {"login": "bzburr", "id": 22606272, "node_id": "MDQ6VXNlcjIyNjA2Mjcy", "avatar_url": "https://avatars.githubusercontent.com/u/22606272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bzburr", "html_url": "https://github.com/bzburr", "followers_url": "https://api.github.com/users/bzburr/followers", "following_url": "https://api.github.com/users/bzburr/following{/other_user}", "gists_url": "https://api.github.com/users/bzburr/gists{/gist_id}", "starred_url": "https://api.github.com/users/bzburr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bzburr/subscriptions", "organizations_url": "https://api.github.com/users/bzburr/orgs", "repos_url": "https://api.github.com/users/bzburr/repos", "events_url": "https://api.github.com/users/bzburr/events{/privacy}", "received_events_url": "https://api.github.com/users/bzburr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-04-23T11:21:42Z", "updated_at": "2023-04-21T21:03:50Z", "closed_at": "2020-06-10T00:15:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n\r\nI was training with a custom dataset on my desktop PC - had been running for a about 48 hours and had a powercut.\r\nI tried to resume the training using \r\n\r\npython train.py --data data/signs.data --resume --batch-size 4 --accumulate 1 --nosave --weights weights/last.pt --cfg=cfg/yolov3-signs.cfg\r\n\r\nand it didnt like me. i was very sad.\r\n\r\nNamespace(accumulate=1, adam=False, batch_size=4, bucket='', cache_images=False, cfg='cfg/yolov3-signs.cfg', data='data/signs.data', device='', epochs=300, evolve=True, img_size=[800], multi_scale=False, name='', nosave=True, notest=False, rect=False, resume=True, single_cls=False, weights='weights\\\\last.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1070', total_memory=8192MB)\r\n           device1 _CudaDeviceProperties(name='GeForce GTX 750 Ti', total_memory=2048MB)\r\n\r\nModel Summary: 222 layers, 6.15237e+07 parameters, 6.15237e+07 gradients\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 116, in train\r\n    chkpt['model'] = {k: v for k, v in chkpt['model'].items() if model.state_dict()[k].numel() == v.numel()}\r\n  File \"train.py\", line 116, in <dictcomp>\r\n    chkpt['model'] = {k: v for k, v in chkpt['model'].items() if model.state_dict()[k].numel() == v.numel()}\r\nKeyError: 'module_list.85.Conv2d.weight'\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 472, in <module>\r\n    results = train()\r\n  File \"train.py\", line 121, in train\r\n    raise KeyError(s) from e\r\nKeyError: \"weights\\\\last.pt is not compatible with cfg/yolov3-signs.cfg. Specify --weights '' or specify a --cfg compatible with weights\\\\last.pt. See https://github.com/ultralytics/yolov3/issues/657\"\r\n\r\n\r\nand it faled with\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1.   Begin training custom model\r\n2.  have a power cut\r\n3.  try to use the --resume tag in the command like\r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\nI'd expect training to restart where it left off\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]  Windows \r\n - Version [e.g. 22]  10\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1089/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1089/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1088", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1088/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1088/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1088/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1088", "id": 605300692, "node_id": "MDU6SXNzdWU2MDUzMDA2OTI=", "number": 1088, "title": "detect.py: the error of IndexError: list index out of range", "user": {"login": "yBeOne", "id": 59170826, "node_id": "MDQ6VXNlcjU5MTcwODI2", "avatar_url": "https://avatars.githubusercontent.com/u/59170826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yBeOne", "html_url": "https://github.com/yBeOne", "followers_url": "https://api.github.com/users/yBeOne/followers", "following_url": "https://api.github.com/users/yBeOne/following{/other_user}", "gists_url": "https://api.github.com/users/yBeOne/gists{/gist_id}", "starred_url": "https://api.github.com/users/yBeOne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yBeOne/subscriptions", "organizations_url": "https://api.github.com/users/yBeOne/orgs", "repos_url": "https://api.github.com/users/yBeOne/repos", "events_url": "https://api.github.com/users/yBeOne/events{/privacy}", "received_events_url": "https://api.github.com/users/yBeOne/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-04-23T07:20:20Z", "updated_at": "2023-04-21T21:03:51Z", "closed_at": "2020-05-31T00:15:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\nWhen running the detect.py, there is a IndexError but the process of training did not have\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1.File \"detect.py\", line 121, in detect\r\n2. s += '%g %ss, ' % (n, names[int(c)])  # add to string\r\n3. IndexError: list index out of range\r\n4. \r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1088/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1082", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1082/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1082/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1082/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1082", "id": 604490240, "node_id": "MDU6SXNzdWU2MDQ0OTAyNDA=", "number": 1082, "title": "Am I using CIOU loss wrong?", "user": {"login": "tinothy22", "id": 53636618, "node_id": "MDQ6VXNlcjUzNjM2NjE4", "avatar_url": "https://avatars.githubusercontent.com/u/53636618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tinothy22", "html_url": "https://github.com/tinothy22", "followers_url": "https://api.github.com/users/tinothy22/followers", "following_url": "https://api.github.com/users/tinothy22/following{/other_user}", "gists_url": "https://api.github.com/users/tinothy22/gists{/gist_id}", "starred_url": "https://api.github.com/users/tinothy22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tinothy22/subscriptions", "organizations_url": "https://api.github.com/users/tinothy22/orgs", "repos_url": "https://api.github.com/users/tinothy22/repos", "events_url": "https://api.github.com/users/tinothy22/events{/privacy}", "received_events_url": "https://api.github.com/users/tinothy22/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-22T06:24:57Z", "updated_at": "2020-04-23T05:00:29Z", "closed_at": "2020-04-23T05:00:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "i use GIOU loss for training my custom dataset with yolov3-tiny, get 87% MAP,and below is result\r\n![results](https://user-images.githubusercontent.com/53636618/79947175-0e70d500-84a4-11ea-8184-71d131d96264.png)\r\nthen i use CIOU loss ,and get 86.8%,the results did not improve,here are the results of CIOU:\r\n![results](https://user-images.githubusercontent.com/53636618/79947487-9ce55680-84a4-11ea-9898-b5faa10da7e5.png)\r\nProbably CIOU is not effective? I just I  set CIOU = True in `giou = bbox_iou(pbox.t(), tbox[i], x1y1x2y2=False, CIoU=True)`\r\ncan you give me some guidence?\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1082/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1079", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1079/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1079/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1079/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1079", "id": 604404299, "node_id": "MDU6SXNzdWU2MDQ0MDQyOTk=", "number": 1079, "title": "Hello, I trained two targets, what should I do if I only want to detect one of them ", "user": {"login": "joey1616", "id": 40960890, "node_id": "MDQ6VXNlcjQwOTYwODkw", "avatar_url": "https://avatars.githubusercontent.com/u/40960890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey1616", "html_url": "https://github.com/joey1616", "followers_url": "https://api.github.com/users/joey1616/followers", "following_url": "https://api.github.com/users/joey1616/following{/other_user}", "gists_url": "https://api.github.com/users/joey1616/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey1616/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey1616/subscriptions", "organizations_url": "https://api.github.com/users/joey1616/orgs", "repos_url": "https://api.github.com/users/joey1616/repos", "events_url": "https://api.github.com/users/joey1616/events{/privacy}", "received_events_url": "https://api.github.com/users/joey1616/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-22T02:28:04Z", "updated_at": "2023-04-21T21:03:59Z", "closed_at": "2020-04-22T02:35:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1079/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1079/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1078", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1078/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1078/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1078/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1078", "id": 604288964, "node_id": "MDU6SXNzdWU2MDQyODg5NjQ=", "number": 1078, "title": "when i have trained one epoch and test", "user": {"login": "Chinajuedui", "id": 27952522, "node_id": "MDQ6VXNlcjI3OTUyNTIy", "avatar_url": "https://avatars.githubusercontent.com/u/27952522?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Chinajuedui", "html_url": "https://github.com/Chinajuedui", "followers_url": "https://api.github.com/users/Chinajuedui/followers", "following_url": "https://api.github.com/users/Chinajuedui/following{/other_user}", "gists_url": "https://api.github.com/users/Chinajuedui/gists{/gist_id}", "starred_url": "https://api.github.com/users/Chinajuedui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Chinajuedui/subscriptions", "organizations_url": "https://api.github.com/users/Chinajuedui/orgs", "repos_url": "https://api.github.com/users/Chinajuedui/repos", "events_url": "https://api.github.com/users/Chinajuedui/events{/privacy}", "received_events_url": "https://api.github.com/users/Chinajuedui/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-21T21:12:30Z", "updated_at": "2023-04-21T21:04:01Z", "closed_at": "2020-04-26T16:50:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n'LoadImagesAndLabels' object has no attribute 'batch_shapes'\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. train one epoch on my dataset\r\n2. test\r\n3. occured\r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n![image](https://user-images.githubusercontent.com/27952522/79914208-70efb400-8457-11ea-8a07-3a1d2327d603.png)\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: ubuntu\r\n - Version 16\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n## Additional context\r\nwhen i set rect=True, a same problem happened, it wanted to load coco.shapes, but i had no ideas to give one", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1078/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1078/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1076", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1076/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1076/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1076/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1076", "id": 603805280, "node_id": "MDU6SXNzdWU2MDM4MDUyODA=", "number": 1076, "title": "When training from scratch with -- weights' ', I get an error !", "user": {"login": "xufuzhi", "id": 58159882, "node_id": "MDQ6VXNlcjU4MTU5ODgy", "avatar_url": "https://avatars.githubusercontent.com/u/58159882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xufuzhi", "html_url": "https://github.com/xufuzhi", "followers_url": "https://api.github.com/users/xufuzhi/followers", "following_url": "https://api.github.com/users/xufuzhi/following{/other_user}", "gists_url": "https://api.github.com/users/xufuzhi/gists{/gist_id}", "starred_url": "https://api.github.com/users/xufuzhi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xufuzhi/subscriptions", "organizations_url": "https://api.github.com/users/xufuzhi/orgs", "repos_url": "https://api.github.com/users/xufuzhi/repos", "events_url": "https://api.github.com/users/xufuzhi/events{/privacy}", "received_events_url": "https://api.github.com/users/xufuzhi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-21T08:21:58Z", "updated_at": "2023-04-21T21:04:03Z", "closed_at": "2020-04-23T16:40:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nWhen I train with :\r\npython3 train.py --cfg yolov3-spp.cfg --data data/coco16.data --nosave --weights ''\r\nI get an error :\r\nException: '' missing, try downloading from https://drive.google.com/open?id=1LezFG5g3BCW6iYaV89B2i64cqEUZD7e0\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1076/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1076/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1074", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1074/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1074/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1074/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1074", "id": 603248568, "node_id": "MDU6SXNzdWU2MDMyNDg1Njg=", "number": 1074, "title": "TypeError: forward() missing 1 required positional argument: 'x'", "user": {"login": "junglezhao", "id": 51113796, "node_id": "MDQ6VXNlcjUxMTEzNzk2", "avatar_url": "https://avatars.githubusercontent.com/u/51113796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/junglezhao", "html_url": "https://github.com/junglezhao", "followers_url": "https://api.github.com/users/junglezhao/followers", "following_url": "https://api.github.com/users/junglezhao/following{/other_user}", "gists_url": "https://api.github.com/users/junglezhao/gists{/gist_id}", "starred_url": "https://api.github.com/users/junglezhao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/junglezhao/subscriptions", "organizations_url": "https://api.github.com/users/junglezhao/orgs", "repos_url": "https://api.github.com/users/junglezhao/repos", "events_url": "https://api.github.com/users/junglezhao/events{/privacy}", "received_events_url": "https://api.github.com/users/junglezhao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 29, "created_at": "2020-04-20T13:41:56Z", "updated_at": "2023-04-21T21:04:07Z", "closed_at": "2020-07-26T00:23:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\nHi guys, when test.py runs at 99%, it occurs to a error like the following :  \r\n(I don't change the file...)\r\n```\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 255, in <module>\r\n    opt.augment\r\n  File \"test.py\", line 94, in test\r\n    inf_out, train_out = model(imgs, augment=augment)\r\n  File \"/root/anaconda3/envs/yolov3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/root/anaconda3/envs/yolov3/lib/python3.7/site-packages/torch/nn/parallel/data_parallel.py\", line 152, in forward\r\n    outputs = self.parallel_apply(replicas, inputs, kwargs)\r\n  File \"/root/anaconda3/envs/yolov3/lib/python3.7/site-packages/torch/nn/parallel/data_parallel.py\", line 162, in parallel_apply\r\n    return parallel_apply(replicas, inputs, kwargs, self.device_ids[:len(replicas)])\r\n  File \"/root/anaconda3/envs/yolov3/lib/python3.7/site-packages/torch/nn/parallel/parallel_apply.py\", line 85, in parallel_apply\r\n    output.reraise()\r\n  File \"/root/anaconda3/envs/yolov3/lib/python3.7/site-packages/torch/_utils.py\", line 394, in reraise\r\n    raise self.exc_type(msg)\r\nTypeError: Caught TypeError in replica 1 on device 1.\r\nOriginal Traceback (most recent call last):\r\n  File \"/root/anaconda3/envs/yolov3/lib/python3.7/site-packages/torch/nn/parallel/parallel_apply.py\", line 60, in _worker\r\n    output = module(*input, **kwargs)\r\n  File \"/root/anaconda3/envs/yolov3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\nTypeError: forward() missing 1 required positional argument: 'x'\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1074/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1074/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1072", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1072/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1072/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1072/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1072", "id": 602779559, "node_id": "MDU6SXNzdWU2MDI3Nzk1NTk=", "number": 1072, "title": "COCO API RESULT is ZERO", "user": {"login": "qtw1998", "id": 34357479, "node_id": "MDQ6VXNlcjM0MzU3NDc5", "avatar_url": "https://avatars.githubusercontent.com/u/34357479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qtw1998", "html_url": "https://github.com/qtw1998", "followers_url": "https://api.github.com/users/qtw1998/followers", "following_url": "https://api.github.com/users/qtw1998/following{/other_user}", "gists_url": "https://api.github.com/users/qtw1998/gists{/gist_id}", "starred_url": "https://api.github.com/users/qtw1998/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qtw1998/subscriptions", "organizations_url": "https://api.github.com/users/qtw1998/orgs", "repos_url": "https://api.github.com/users/qtw1998/repos", "events_url": "https://api.github.com/users/qtw1998/events{/privacy}", "received_events_url": "https://api.github.com/users/qtw1998/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-19T17:52:49Z", "updated_at": "2020-04-21T01:01:01Z", "closed_at": "2020-04-21T01:01:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/34357479/79695451-832bef80-82a9-11ea-95c8-392fe62db736.png)\r\nYour computing resutl is TRUE yet  the result of COCO API is Nothing \r\n====================================================================\r\nBUT\r\n![image](https://user-images.githubusercontent.com/34357479/79696238-1bc46e80-82ae-11ea-9500-46c19550bec6.png)\r\nWhen I try some other pictures, it works then.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1072/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1072/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1070", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1070/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1070/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1070/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1070", "id": 602639417, "node_id": "MDU6SXNzdWU2MDI2Mzk0MTc=", "number": 1070, "title": "why P and R both 0?", "user": {"login": "JawyZhang", "id": 44539507, "node_id": "MDQ6VXNlcjQ0NTM5NTA3", "avatar_url": "https://avatars.githubusercontent.com/u/44539507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JawyZhang", "html_url": "https://github.com/JawyZhang", "followers_url": "https://api.github.com/users/JawyZhang/followers", "following_url": "https://api.github.com/users/JawyZhang/following{/other_user}", "gists_url": "https://api.github.com/users/JawyZhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/JawyZhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JawyZhang/subscriptions", "organizations_url": "https://api.github.com/users/JawyZhang/orgs", "repos_url": "https://api.github.com/users/JawyZhang/repos", "events_url": "https://api.github.com/users/JawyZhang/events{/privacy}", "received_events_url": "https://api.github.com/users/JawyZhang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-19T06:47:45Z", "updated_at": "2023-04-21T21:04:09Z", "closed_at": "2020-04-23T15:04:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "1.train  on my own dataset\r\n2.single class\r\n3.run `python train.py --data data/stomata.data --cfg cfg/yolov3-tiny.cfg --epochs 10 --single-cls --weights weights/yolov3-tiny.weights --name data/stomata.names`\r\n4.i've tried different cls in hyp but it doesn't work even default\r\n5.latest pull\r\n6.this is my results.png:\r\n![image](https://user-images.githubusercontent.com/44539507/79681205-ee92a480-824a-11ea-893a-55dee6949628.png)\r\n5.train_batch0.png:\r\n![image](https://user-images.githubusercontent.com/44539507/79681306-d96a4580-824b-11ea-8cf2-eddf64d07a56.png)\r\n6.test_batch0.png:\r\n![image](https://user-images.githubusercontent.com/44539507/79681318-f30b8d00-824b-11ea-9408-a0b69fd148cf.png)\r\n7. result.txt:\r\n0/9     2.82G      4.85      18.8         0      23.6        89       512         0         0  7.77e-05         0      5.67       nan         0\r\n       1/9     2.82G      4.25      8.28         0      12.5       119       512         0         0  0.000634         0      4.02      8.34         0\r\n       2/9     2.82G      4.52      9.81         0      14.3       130       512         0         0  0.000834         0      3.98      9.42         0\r\n       3/9     2.82G       4.4      10.4         0      14.8       110       512         0         0  3.77e-05         0      3.81      9.53         0\r\n       4/9     2.82G      3.76      10.3         0      14.1       134       512         0         0  5.68e-06         0      3.69      9.04         0\r\n       5/9     2.82G      4.23       9.4         0      13.6       106       512         0         0         0         0      3.41      8.24         0\r\n       6/9     2.82G      4.17      8.34         0      12.5       105       512         0         0  5.32e-06         0      3.74      7.32         0\r\n       7/9     2.82G      4.36      7.44         0      11.8       106       512         0         0   0.00764         0       3.8      6.43         0\r\n       8/9     2.82G      4.01      6.58         0      10.6       117       512         0         0   0.00756         0      3.75      5.78         0\r\n       9/9     2.82G      3.94      6.29         0      10.2       114       512         0         0   0.00775         0      3.71      5.56         0\r\n\r\n\r\n8.stomata.data:\r\nclasses=1\r\ntrain=data/train.txt\r\nvalid=data/test.txt\r\nnames=data/stomata.names\r\nbackup=backup/\r\neval=coco\r\n\r\ncould you help me?thx\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1070/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1065", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1065/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1065/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1065/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1065", "id": 601838031, "node_id": "MDU6SXNzdWU2MDE4MzgwMzE=", "number": 1065, "title": "need help, train on custom data get very bad results", "user": {"login": "huang475", "id": 5912803, "node_id": "MDQ6VXNlcjU5MTI4MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/5912803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huang475", "html_url": "https://github.com/huang475", "followers_url": "https://api.github.com/users/huang475/followers", "following_url": "https://api.github.com/users/huang475/following{/other_user}", "gists_url": "https://api.github.com/users/huang475/gists{/gist_id}", "starred_url": "https://api.github.com/users/huang475/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huang475/subscriptions", "organizations_url": "https://api.github.com/users/huang475/orgs", "repos_url": "https://api.github.com/users/huang475/repos", "events_url": "https://api.github.com/users/huang475/events{/privacy}", "received_events_url": "https://api.github.com/users/huang475/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-17T09:37:19Z", "updated_at": "2023-04-21T21:04:15Z", "closed_at": "2020-04-29T07:20:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nI am testing on my custom data, and get very bad results, need some helps on the things I should look for.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. create custom data config\r\n2. train\r\n3. observe bad result\r\n\r\n## Expected behavior\r\nShould be great?\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\nhere's my results\r\n![image](https://user-images.githubusercontent.com/5912803/79554995-7bb1ee00-80d1-11ea-9a48-6703a34fd54b.png)\r\nsome sample and annotation\r\n![image](https://user-images.githubusercontent.com/5912803/79555160-b3209a80-80d1-11ea-8815-321c575393fa.png)\r\nhere's my hyper parameters\r\n```\r\nhyp = {'giou': 0.54,  # giou loss gain\r\n       'cls': 3.4,  # cls loss gain\r\n       'cls_pw': 1.0,  # cls BCELoss positive_weight\r\n       'obj': 4.3,  # obj loss gain (*=img_size/320 if img_size != 320)\r\n       'obj_pw': 1.0,  # obj BCELoss positive_weight\r\n       'iou_t': 0.225,  # iou training threshold\r\n       'lr0': 0.01,  # initial learning rate (SGD=5E-3, Adam=5E-4)\r\n       'lrf': 0.0005,  # final learning rate (with cos scheduler)\r\n       'momentum': 0.937,  # SGD momentum\r\n       'weight_decay': 0.000484,  # optimizer weight decay\r\n       'fl_gamma': 0.0,  # focal loss gamma (efficientDet default is gamma=1.5)\r\n       'hsv_h': 0.0238,  # image HSV-Hue augmentation (fraction)\r\n       'hsv_s': 0.778,  # image HSV-Saturation augmentation (fraction)\r\n       'hsv_v': 0.46,  # image HSV-Value augmentation (fraction)\r\n       'degrees': 1.98 * 0,  # image rotation (+/- deg)\r\n       'translate': 0.05 * 0,  # image translation (+/- fraction)\r\n       'scale': 0.05 * 0,  # image scale (+/- gain)\r\n       'shear': 0.641 * 5}  # image shear (+/- deg)\r\n```\r\n\r\nhere's my anchor settings: \r\nanchors = 137,105, 328,581, 132,309, 66,111, 374,318, 72,162, 79,232, 483,363, 143,511, 564,576, 311,487, 258,229, 179,388, 124,189\r\n\r\nimage size is 512,  model config: yolov3.cfg ,  pretrained weights: darknet53.conv.74\r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS] ubuntu\r\n - Version [e.g. 22] 19.04\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1065/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1065/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1060", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1060/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1060/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1060/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1060", "id": 600091478, "node_id": "MDU6SXNzdWU2MDAwOTE0Nzg=", "number": 1060, "title": "Metrics are 0", "user": {"login": "JiafengLiao", "id": 15614871, "node_id": "MDQ6VXNlcjE1NjE0ODcx", "avatar_url": "https://avatars.githubusercontent.com/u/15614871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JiafengLiao", "html_url": "https://github.com/JiafengLiao", "followers_url": "https://api.github.com/users/JiafengLiao/followers", "following_url": "https://api.github.com/users/JiafengLiao/following{/other_user}", "gists_url": "https://api.github.com/users/JiafengLiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/JiafengLiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JiafengLiao/subscriptions", "organizations_url": "https://api.github.com/users/JiafengLiao/orgs", "repos_url": "https://api.github.com/users/JiafengLiao/repos", "events_url": "https://api.github.com/users/JiafengLiao/events{/privacy}", "received_events_url": "https://api.github.com/users/JiafengLiao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-15T07:45:00Z", "updated_at": "2023-04-21T21:04:17Z", "closed_at": "2020-05-21T00:09:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\nAll metrics constantly 0 and GIOU constantly high\r\n![results](https://user-images.githubusercontent.com/15614871/79311382-edeacd00-7f2f-11ea-915c-3ebedf8c5377.png)\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Using tutorial to create my own dataset( train: 88 samples, validatio:12 samples)\r\n2. train\r\n3. \r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\nGIOU loss decrease and make some prediction on \r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\nthe suggested environment\r\n**Desktop (please complete the following information):**\r\n - OS: CentOS \r\n - Version 7.6\r\n\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\nThe ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1060/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1060/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1058", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1058/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1058/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1058/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1058", "id": 599968847, "node_id": "MDU6SXNzdWU1OTk5Njg4NDc=", "number": 1058, "title": "How to solve this error when using the onnx model", "user": {"login": "Waynepoo", "id": 41176549, "node_id": "MDQ6VXNlcjQxMTc2NTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/41176549?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Waynepoo", "html_url": "https://github.com/Waynepoo", "followers_url": "https://api.github.com/users/Waynepoo/followers", "following_url": "https://api.github.com/users/Waynepoo/following{/other_user}", "gists_url": "https://api.github.com/users/Waynepoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Waynepoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Waynepoo/subscriptions", "organizations_url": "https://api.github.com/users/Waynepoo/orgs", "repos_url": "https://api.github.com/users/Waynepoo/repos", "events_url": "https://api.github.com/users/Waynepoo/events{/privacy}", "received_events_url": "https://api.github.com/users/Waynepoo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-15T02:12:17Z", "updated_at": "2020-05-22T00:09:40Z", "closed_at": "2020-05-22T00:09:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/41176549/79291534-7dc55280-7f01-11ea-9e6c-86331a5a785c.png)\r\n![image](https://user-images.githubusercontent.com/41176549/79291544-8584f700-7f01-11ea-91b6-4805bc664995.png)\r\nHow to solve this problem", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1058/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1058/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1057", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1057/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1057/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1057/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1057", "id": 599959259, "node_id": "MDU6SXNzdWU1OTk5NTkyNTk=", "number": 1057, "title": "Training got stuck on 0% after dataloading.", "user": {"login": "Apokli", "id": 63688209, "node_id": "MDQ6VXNlcjYzNjg4MjA5", "avatar_url": "https://avatars.githubusercontent.com/u/63688209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Apokli", "html_url": "https://github.com/Apokli", "followers_url": "https://api.github.com/users/Apokli/followers", "following_url": "https://api.github.com/users/Apokli/following{/other_user}", "gists_url": "https://api.github.com/users/Apokli/gists{/gist_id}", "starred_url": "https://api.github.com/users/Apokli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Apokli/subscriptions", "organizations_url": "https://api.github.com/users/Apokli/orgs", "repos_url": "https://api.github.com/users/Apokli/repos", "events_url": "https://api.github.com/users/Apokli/events{/privacy}", "received_events_url": "https://api.github.com/users/Apokli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-15T01:40:15Z", "updated_at": "2023-04-21T21:04:19Z", "closed_at": "2020-04-16T07:54:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I've got a problem when training yolov3 on pytorch. I ran the train.py, and then it got stuck at 0% for more than 30 minutes. I couldn't even move my mouse after that. It's just a total amount of 257 images to train.\r\n![\u5c4f\u5e55\u622a\u56fe 2020-04-15 09:35:58](https://user-images.githubusercontent.com/63688209/79289713-a26afb80-7efc-11ea-96b3-8138b59b6350.png)\r\n\r\nAt first I thought it was the problem of the dataloader, so I changed the nw(number of workers) to 0. But it didn't fix my problem. Please help!\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1057/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1051", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1051/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1051/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1051/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1051", "id": 599544923, "node_id": "MDU6SXNzdWU1OTk1NDQ5MjM=", "number": 1051, "title": "TypeError: 'float' object cannot be interpreted as an integer", "user": {"login": "Ringhu", "id": 47172283, "node_id": "MDQ6VXNlcjQ3MTcyMjgz", "avatar_url": "https://avatars.githubusercontent.com/u/47172283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ringhu", "html_url": "https://github.com/Ringhu", "followers_url": "https://api.github.com/users/Ringhu/followers", "following_url": "https://api.github.com/users/Ringhu/following{/other_user}", "gists_url": "https://api.github.com/users/Ringhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ringhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ringhu/subscriptions", "organizations_url": "https://api.github.com/users/Ringhu/orgs", "repos_url": "https://api.github.com/users/Ringhu/repos", "events_url": "https://api.github.com/users/Ringhu/events{/privacy}", "received_events_url": "https://api.github.com/users/Ringhu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-14T12:45:07Z", "updated_at": "2020-05-06T20:29:29Z", "closed_at": "2020-05-06T20:29:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @glenn-jocher , I git clone ur latest version today. But when I run train.py like\r\n`python train.py --cfg=cfg/yolov3-tiny.cfg --multi-scale --device=1,2,3,5 --weights=`\r\nthis, I got the error:\r\n`\r\nTraceback (most recent call last):\r\n\r\n  File \"train.py\", line 429, in <module>\r\n\r\n    train()  # train normally\r\n\r\n  File \"train.py\", line 235, in train\r\n\r\n    for i, (imgs, targets, paths, _) in pbar:  # batch -------------------------------------------------------------\r\n\r\n  File \"/home/hulining/.local/lib/python3.6/site-packages/tqdm/_tqdm.py\", line 1032, in __iter__\r\n    for obj in iterable:\r\n\r\n  File \"/home/hulining/anaconda3/envs/pt/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 345, in __next__\r\n    data = self._next_data()\r\n\r\n  File \"/home/hulining/anaconda3/envs/pt/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 856, in _next_data\r\n    return self._process_data(data)\r\n  File \"/home/hulining/anaconda3/envs/pt/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 881, in _process_data\r\n    data.reraise()\r\n\r\n  File \"/home/hulining/anaconda3/envs/pt/lib/python3.6/site-packages/torch/_utils.py\", line 394, in reraise\r\n\r\n    raise self.exc_type(msg)\r\n\r\nTypeError: Caught TypeError in DataLoader worker process 0.\r\n\r\nOriginal Traceback (most recent call last):\r\n\r\n  File \"/home/hulining/anaconda3/envs/pt/lib/python3.6/site-packages/torch/utils/data/_utils/worker.py\", line 178, in _worker_loop\r\n    data = fetcher.fetch(index)\r\n\r\n  File \"/home/hulining/anaconda3/envs/pt/lib/python3.6/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in fetch\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/home/hulining/anaconda3/envs/pt/lib/python3.6/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in <listcomp>\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n\r\n  File \"/proj/hulining/home/download/yolov3/utils/datasets.py\", line 420, in __getitem__\r\n    img, labels = load_mosaic(self, index)\r\n\r\n  File \"/proj/hulining/home/download/yolov3/utils/datasets.py\", line 543, in load_mosaic\r\n    img4 = np.full((s * 2, s * 2, img.shape[2]), 114, dtype=np.int8)  # base image with 4 tiles\r\n\r\n  File \"/home/hulining/.local/lib/python3.6/site-packages/numpy/core/numeric.py\", line 325, in full\r\n    a = empty(shape, dtype, order)\r\n\r\nTypeError: 'float' object cannot be interpreted as an integer\r\n`\r\nCould u solve it?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1051/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1051/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1041", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1041/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1041/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1041/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1041", "id": 598285266, "node_id": "MDU6SXNzdWU1OTgyODUyNjY=", "number": 1041, "title": "IndexError: list index out of range when training custom data", "user": {"login": "ZayneHuang", "id": 22568399, "node_id": "MDQ6VXNlcjIyNTY4Mzk5", "avatar_url": "https://avatars.githubusercontent.com/u/22568399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZayneHuang", "html_url": "https://github.com/ZayneHuang", "followers_url": "https://api.github.com/users/ZayneHuang/followers", "following_url": "https://api.github.com/users/ZayneHuang/following{/other_user}", "gists_url": "https://api.github.com/users/ZayneHuang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZayneHuang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZayneHuang/subscriptions", "organizations_url": "https://api.github.com/users/ZayneHuang/orgs", "repos_url": "https://api.github.com/users/ZayneHuang/repos", "events_url": "https://api.github.com/users/ZayneHuang/events{/privacy}", "received_events_url": "https://api.github.com/users/ZayneHuang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-11T15:11:20Z", "updated_at": "2023-04-21T21:04:33Z", "closed_at": "2020-04-11T17:24:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, thank you very much for your contribution in this nice repo.\r\nI met a problem when training custom data showing _IndexError: list index out of range_\r\n\r\nI trained custom data with the bash code:\r\n`python3 train.py --epochs 300 --cfg ./cfg/yolov3-spp_endo.cfg --data ./data/edd_20200213.data --device 1 --weight ''`\r\n\r\nAfter all the epochs are finished , the error message shows that:\r\n\r\n> Traceback (most recent call last): \r\n    File \"train.py\", line 425, in <module>\r\n        train()  # train normally\r\n    File \"train.py\", line 375, in train\r\n        plot_results()  # save as results.png\r\n    File \"/home/hzy/yolov3/utils/utils.py\", line 977, in plot_results\r\n        results = np.loadtxt(f, usecols=[2, 3, 4, 8, 9, 12, 13, 14, 10, 11], ndmin=2).T\r\n    File \"/home/hzy/.conda/envs/pt14/lib/python3.7/site-packages/numpy/lib/npyio.py\", line 1159, in loadtxt\r\n        for x in read_data(_loadtxt_chunksize): \r\n    File \"/home/hzy/.conda/envs/pt14/lib/python3.7/site-packages/numpy/lib/npyio.py\", line 1080, in read_data\r\n        vals = [vals[j] for j in usecols]\r\n    File \"/home/hzy/.conda/envs/pt14/lib/python3.7/site-packages/numpy/lib/npyio.py\", line 1080, in <listcomp>\r\n        vals = [vals[j] for j in usecols]\r\nIndexError: list index out of range\r\n\r\nI tried to quote the `plot_result()` function in train.py in line 373-374, and it works well without error.\r\n\r\nAny advice to solve this problem? Thanks a lot!!!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1041/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1039", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1039/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1039/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1039/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1039", "id": 598171789, "node_id": "MDU6SXNzdWU1OTgxNzE3ODk=", "number": 1039, "title": "Multi GPU testing two slow!", "user": {"login": "JACKYLUO1991", "id": 21237742, "node_id": "MDQ6VXNlcjIxMjM3NzQy", "avatar_url": "https://avatars.githubusercontent.com/u/21237742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JACKYLUO1991", "html_url": "https://github.com/JACKYLUO1991", "followers_url": "https://api.github.com/users/JACKYLUO1991/followers", "following_url": "https://api.github.com/users/JACKYLUO1991/following{/other_user}", "gists_url": "https://api.github.com/users/JACKYLUO1991/gists{/gist_id}", "starred_url": "https://api.github.com/users/JACKYLUO1991/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JACKYLUO1991/subscriptions", "organizations_url": "https://api.github.com/users/JACKYLUO1991/orgs", "repos_url": "https://api.github.com/users/JACKYLUO1991/repos", "events_url": "https://api.github.com/users/JACKYLUO1991/events{/privacy}", "received_events_url": "https://api.github.com/users/JACKYLUO1991/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-04-11T02:35:13Z", "updated_at": "2023-04-21T21:04:34Z", "closed_at": "2020-06-20T00:15:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Something maybe need to improve...\r\n\r\nThanks for your work. I used 4 GPUs to train the network. However, the testing speed is very slow.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1039/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1039/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1038", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1038/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1038/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1038/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1038", "id": 598169735, "node_id": "MDU6SXNzdWU1OTgxNjk3MzU=", "number": 1038, "title": "Error when testing map", "user": {"login": "NgTuong", "id": 42471216, "node_id": "MDQ6VXNlcjQyNDcxMjE2", "avatar_url": "https://avatars.githubusercontent.com/u/42471216?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NgTuong", "html_url": "https://github.com/NgTuong", "followers_url": "https://api.github.com/users/NgTuong/followers", "following_url": "https://api.github.com/users/NgTuong/following{/other_user}", "gists_url": "https://api.github.com/users/NgTuong/gists{/gist_id}", "starred_url": "https://api.github.com/users/NgTuong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NgTuong/subscriptions", "organizations_url": "https://api.github.com/users/NgTuong/orgs", "repos_url": "https://api.github.com/users/NgTuong/repos", "events_url": "https://api.github.com/users/NgTuong/events{/privacy}", "received_events_url": "https://api.github.com/users/NgTuong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-11T02:20:17Z", "updated_at": "2023-04-21T21:04:35Z", "closed_at": "2020-04-11T10:20:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, when running first epoch:\r\nFile \"train.py\", line 424, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 313, in train\r\n    dataloader=testloader)\r\n  File \"yolov3/test.py\", line 103, in test\r\n    output = non_max_suppression(inf_out, conf_thres=conf_thres, iou_thres=iou_thres)  # nms\r\n  File \"yolov3/utils/utils.py\", line 562, in non_max_suppression\r\n    weights = (box_iou(boxes[i], boxes) > iou_thres) * scores[None]  # box weights\r\nRuntimeError: expected backend CUDA and dtype Float but got backend CUDA and dtype Byte\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1038/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1038/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1037", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1037/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1037/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1037/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1037", "id": 597954557, "node_id": "MDU6SXNzdWU1OTc5NTQ1NTc=", "number": 1037, "title": "Bug/question about multichannel imagery", "user": {"login": "scaramouche88", "id": 44259133, "node_id": "MDQ6VXNlcjQ0MjU5MTMz", "avatar_url": "https://avatars.githubusercontent.com/u/44259133?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scaramouche88", "html_url": "https://github.com/scaramouche88", "followers_url": "https://api.github.com/users/scaramouche88/followers", "following_url": "https://api.github.com/users/scaramouche88/following{/other_user}", "gists_url": "https://api.github.com/users/scaramouche88/gists{/gist_id}", "starred_url": "https://api.github.com/users/scaramouche88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scaramouche88/subscriptions", "organizations_url": "https://api.github.com/users/scaramouche88/orgs", "repos_url": "https://api.github.com/users/scaramouche88/repos", "events_url": "https://api.github.com/users/scaramouche88/events{/privacy}", "received_events_url": "https://api.github.com/users/scaramouche88/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-04-10T15:44:11Z", "updated_at": "2023-04-21T21:04:36Z", "closed_at": "2020-04-10T19:07:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nMy dataset are 4-dimentional .tiff files. On each channels I have different physical informations (not the RGB channels of a classic image). I'm trying to adapt this repo, but it seems that the keyword [channels] in the .cfg file do not works properly. Or I am doing something wrong, but what?\r\n\r\n(and btw great repo! well written and well benchmarked!)\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. set `[channels] = 4` in the .cfg\r\n2. since I don't need HSV augmentation, change hyper in train.py to `hsv_h: 0.00; hsv_s: 1.0, hsv_v: 1.0`\r\n3. I need to load data as they are, so I add the flag \r\n`img = cv2.imread(img_path,cv2.IMREAD_UNCHANGED)` at line \r\nhttps://github.com/ultralytics/yolov3/blob/b98ce11d3a1d5905dcacb5d7cf28c5746ed5d967/utils/datasets.py#L506\r\n4. the function load_mosaic works only with 3 channels images, so I change to 4 the shape of img4 at line: https://github.com/ultralytics/yolov3/blob/b98ce11d3a1d5905dcacb5d7cf28c5746ed5d967/utils/datasets.py#L531\r\n5. With such changes I have the following error at the first epoch:\r\n`/torch/nn/modules/conv.py\", line 342, in conv2d_forward\r\n    self.padding, self.dilation, self.groups)\r\nRuntimeError: Given groups=1, weight of size 32 3 3 3, expected input[32, 4, 416, 416] to have 3 channels, but got 4 channels instead\r\n`\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Ubuntu 18.04\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1037/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1037/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1034", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1034/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1034/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1034/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1034", "id": 597724029, "node_id": "MDU6SXNzdWU1OTc3MjQwMjk=", "number": 1034, "title": "Check ONNX Model Error", "user": {"login": "lxgyChen", "id": 12130510, "node_id": "MDQ6VXNlcjEyMTMwNTEw", "avatar_url": "https://avatars.githubusercontent.com/u/12130510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lxgyChen", "html_url": "https://github.com/lxgyChen", "followers_url": "https://api.github.com/users/lxgyChen/followers", "following_url": "https://api.github.com/users/lxgyChen/following{/other_user}", "gists_url": "https://api.github.com/users/lxgyChen/gists{/gist_id}", "starred_url": "https://api.github.com/users/lxgyChen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lxgyChen/subscriptions", "organizations_url": "https://api.github.com/users/lxgyChen/orgs", "repos_url": "https://api.github.com/users/lxgyChen/repos", "events_url": "https://api.github.com/users/lxgyChen/events{/privacy}", "received_events_url": "https://api.github.com/users/lxgyChen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-10T06:35:24Z", "updated_at": "2023-04-21T21:04:39Z", "closed_at": "2020-04-11T10:43:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for works, but I'm having a problem export pt model to onnx. \r\n1. My envirenment:\r\nubuntu LTS 18-04, pytorch 1.4, python is 3.7\r\n2. In models.py, I set ONNX_EXPORT = True\r\n3. python detect.py --cfg cfg/yolov3.cfg  --names data/coco.names  --weights weights/yolov3.pt\r\nError occurred: Segmentation fault   (core dumped) in detect.py line 53: onnx.checker.check_model(model)\r\n\r\nThe yolov3.pt is download from [https://drive.google.com/open?id=1LezFG5g3BCW6iYaV89B2i64cqEUZD7e0](url).\r\n\r\nBut if I use the yolov3.onnx that you provided, I sucessfully convert ONNX model to  MNN [[https://github.com/alibaba/MNN](url)] model", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1034/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1027", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1027/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1027/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1027/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1027", "id": 596667086, "node_id": "MDU6SXNzdWU1OTY2NjcwODY=", "number": 1027, "title": "release yolov4.cfg ", "user": {"login": "dockerfiend", "id": 8220211, "node_id": "MDQ6VXNlcjgyMjAyMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/8220211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dockerfiend", "html_url": "https://github.com/dockerfiend", "followers_url": "https://api.github.com/users/dockerfiend/followers", "following_url": "https://api.github.com/users/dockerfiend/following{/other_user}", "gists_url": "https://api.github.com/users/dockerfiend/gists{/gist_id}", "starred_url": "https://api.github.com/users/dockerfiend/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dockerfiend/subscriptions", "organizations_url": "https://api.github.com/users/dockerfiend/orgs", "repos_url": "https://api.github.com/users/dockerfiend/repos", "events_url": "https://api.github.com/users/dockerfiend/events{/privacy}", "received_events_url": "https://api.github.com/users/dockerfiend/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-04-08T15:30:27Z", "updated_at": "2023-04-21T21:04:42Z", "closed_at": "2020-04-08T17:54:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nI would like to train a custom model using yolov4.  I see yolov4-tiny.cfg and yolov4-tiny-1cls.cfg in the repo, but I do not see a .cfg file for the full yolov4 version. @glenn-jocher ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1027/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1027/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1026", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1026/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1026/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1026/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1026", "id": 596604516, "node_id": "MDU6SXNzdWU1OTY2MDQ1MTY=", "number": 1026, "title": "No labels found error  ", "user": {"login": "CaiyuZhang", "id": 54944384, "node_id": "MDQ6VXNlcjU0OTQ0Mzg0", "avatar_url": "https://avatars.githubusercontent.com/u/54944384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CaiyuZhang", "html_url": "https://github.com/CaiyuZhang", "followers_url": "https://api.github.com/users/CaiyuZhang/followers", "following_url": "https://api.github.com/users/CaiyuZhang/following{/other_user}", "gists_url": "https://api.github.com/users/CaiyuZhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/CaiyuZhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CaiyuZhang/subscriptions", "organizations_url": "https://api.github.com/users/CaiyuZhang/orgs", "repos_url": "https://api.github.com/users/CaiyuZhang/repos", "events_url": "https://api.github.com/users/CaiyuZhang/events{/privacy}", "received_events_url": "https://api.github.com/users/CaiyuZhang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-04-08T14:02:55Z", "updated_at": "2020-05-15T00:09:12Z", "closed_at": "2020-05-15T00:09:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b \r\n![image](https://user-images.githubusercontent.com/54944384/78791594-af5e8b00-79e2-11ea-9a99-7d417f01a194.png)\r\n![image](https://user-images.githubusercontent.com/54944384/78792287-85f22f00-79e3-11ea-8484-6de5a5f43e94.png)\r\n![image](https://user-images.githubusercontent.com/54944384/78792357-95717800-79e3-11ea-8522-95fefbdb73c6.png)\r\n\r\nthis is 2020_train content, 2020_test likewise.\r\n![image](https://user-images.githubusercontent.com/54944384/78792922-5859b580-79e4-11ea-9cc3-3691b2918a95.png)\r\n\r\nI follow every step of  \"train ur custom data\" and I ran into this error. I have upload my screenshots of my error and my directory structure, please help me out, Thanksssss!  \r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1026/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1026/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1025", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1025/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1025/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1025/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1025", "id": 596483781, "node_id": "MDU6SXNzdWU1OTY0ODM3ODE=", "number": 1025, "title": "RuntimeError: CUDA out of memory. Tried to allocate 44.00 MiB (GPU 0; 8.00 GiB total capacity; 5.86 GiB already allocated; 998.40 KiB free; 172.44 MiB cached)", "user": {"login": "dongziqi001", "id": 26316345, "node_id": "MDQ6VXNlcjI2MzE2MzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/26316345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dongziqi001", "html_url": "https://github.com/dongziqi001", "followers_url": "https://api.github.com/users/dongziqi001/followers", "following_url": "https://api.github.com/users/dongziqi001/following{/other_user}", "gists_url": "https://api.github.com/users/dongziqi001/gists{/gist_id}", "starred_url": "https://api.github.com/users/dongziqi001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dongziqi001/subscriptions", "organizations_url": "https://api.github.com/users/dongziqi001/orgs", "repos_url": "https://api.github.com/users/dongziqi001/repos", "events_url": "https://api.github.com/users/dongziqi001/events{/privacy}", "received_events_url": "https://api.github.com/users/dongziqi001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-08T10:45:27Z", "updated_at": "2023-04-21T21:04:44Z", "closed_at": "2020-05-17T00:09:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "python train.py --data data/fruit.data --cfg cfg/yolov3-spp.cfg --epochs 2\r\nNamespace(accumulate=4, adam=False, batch_size=16, bucket='', cache_images=False, cfg='cfg/yolov3-spp.cfg', data='data/fruit.data', device='', epochs=2, evolve=False, img_size=[416], multi_scale=False, name='\r\n', nosave=False, notest=False, rect=False, resume=False, single_cls=False, weights='weights/yolov3-spp-ultralytics.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce RTX 2070', total_memory=8192MB)\r\n\r\nModel Summary: 225 layers, 6.25787e+07 parameters, 6.25787e+07 gradients\r\nCaching labels (45 found, 0 missing, 0 empty, 0 duplicate, for 45 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\r\n\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 45/45 [00:00<00:00, 7488.34it/s]\r\nCaching labels (11 found, 0 missing, 0 empty, 0 duplicate, for 11 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\r\n\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 11/11 [00:00<00:00, 5501.05it/s]\r\nUsing 8 dataloader workers\r\nStarting training for 2 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n  0%|                                                                                                                                                                                    | 0/3 [00:00<?, ?it/s]T\r\nraceback (most recent call last):\r\n  File \"train.py\", line 423, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 256, in train\r\n    pred = model(imgs)\r\n  File \"C:\\Users\\Anaconda3\\lib\\site-packages\\torch\\nn\\modules\\module.py\", line 493, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"F:\\work\\202048\\models.py\", line 259, in forward\r\n    x = module(x)\r\n  File \"C:\\Users\\Anaconda3\\lib\\site-packages\\torch\\nn\\modules\\module.py\", line 493, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"C:\\Users\\Anaconda3\\lib\\site-packages\\torch\\nn\\modules\\container.py\", line 92, in forward\r\n    input = module(input)\r\n  File \"C:\\Users\\Anaconda3\\lib\\site-packages\\torch\\nn\\modules\\module.py\", line 493, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"C:\\Users\\Anaconda3\\lib\\site-packages\\torch\\nn\\modules\\conv.py\", line 338, in forward\r\n    self.padding, self.dilation, self.groups)\r\nRuntimeError: CUDA out of memory. Tried to allocate 44.00 MiB (GPU 0; 8.00 GiB total capacity; 5.86 GiB already allocated; 998.40 KiB free; 172.44 MiB cached)\r\n\r\nThis problem appears in training step. To train my own datasets(2 categories)\r\nTo solve this problem, I change the batch size to 1 in yolov3-spp.cfg. But it still shows  CUDA out of memory.\r\nDoes anyone know how to solve this problem??Thanks!!!\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1025/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1024", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1024/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1024/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1024/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1024", "id": 596410577, "node_id": "MDU6SXNzdWU1OTY0MTA1Nzc=", "number": 1024, "title": "'No labels found' after 'Caching labels'", "user": {"login": "emmbertelen", "id": 9340045, "node_id": "MDQ6VXNlcjkzNDAwNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/9340045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmbertelen", "html_url": "https://github.com/emmbertelen", "followers_url": "https://api.github.com/users/emmbertelen/followers", "following_url": "https://api.github.com/users/emmbertelen/following{/other_user}", "gists_url": "https://api.github.com/users/emmbertelen/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmbertelen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmbertelen/subscriptions", "organizations_url": "https://api.github.com/users/emmbertelen/orgs", "repos_url": "https://api.github.com/users/emmbertelen/repos", "events_url": "https://api.github.com/users/emmbertelen/events{/privacy}", "received_events_url": "https://api.github.com/users/emmbertelen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 26, "created_at": "2020-04-08T08:42:40Z", "updated_at": "2023-04-21T21:04:49Z", "closed_at": "2020-04-09T09:45:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nI work in JupyterLab. I am trying to train with custom data. I have the exact same copy of my directory structure that [Train Custom Data](https://github.com/ultralytics/yolov3/wiki/Train-Custom-Data) showed with Coco. The training stops with 'No labels found' after 'Caching labels'.\r\n\r\n![k\u00e9p](https://user-images.githubusercontent.com/9340045/78763567-970c5300-7985-11ea-8684-d549642a4dd7.png)\r\n\r\nAny idea on this?\r\nThanks.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1024/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1024/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1023", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1023/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1023/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1023/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1023", "id": 596379316, "node_id": "MDU6SXNzdWU1OTYzNzkzMTY=", "number": 1023, "title": "FileNotFoundError: [Errno 2] No such file or directory: 'data\\\\test.shapes'", "user": {"login": "wwl33", "id": 61340974, "node_id": "MDQ6VXNlcjYxMzQwOTc0", "avatar_url": "https://avatars.githubusercontent.com/u/61340974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wwl33", "html_url": "https://github.com/wwl33", "followers_url": "https://api.github.com/users/wwl33/followers", "following_url": "https://api.github.com/users/wwl33/following{/other_user}", "gists_url": "https://api.github.com/users/wwl33/gists{/gist_id}", "starred_url": "https://api.github.com/users/wwl33/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wwl33/subscriptions", "organizations_url": "https://api.github.com/users/wwl33/orgs", "repos_url": "https://api.github.com/users/wwl33/repos", "events_url": "https://api.github.com/users/wwl33/events{/privacy}", "received_events_url": "https://api.github.com/users/wwl33/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-08T07:49:41Z", "updated_at": "2023-04-21T21:04:51Z", "closed_at": "2020-04-08T18:12:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nwhen i try to train ,it tell me can not find a file named test.shape...\r\nhow can i get it ?\r\n\r\nD:\\anaconda\\envs\\pytorch\\python.exe D:/Py_Program/yolov3-master/train.py\r\nNamespace(accumulate=4, adam=False, batch_size=16, bucket='', cache_images=False, cfg='cfg/yolov3-spp.cfg', data='data/rbc.data', device='', epochs=300, evolve=False, img_size=[416], multi_scale=False, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, weights='weights/yolov3-spp-ultralytics.pt')\r\nUsing CPU\r\n\r\nRun 'tensorboard --logdir=runs' to view tensorboard at http://localhost:6006/\r\nModel Summary: 225 layers, 6.27835e+07 parameters, 6.27835e+07 gradients\r\nCaching labels (4649 found, 0 missing, 0 empty, 0 duplicate, for 4649 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 4649/4649 [00:02<00:00, 1579.04it/s]\r\nReading image shapes:   0%|          | 0/464 [00:00<?, ?it/s]Traceback (most recent call last):\r\n  File \"D:\\Py_Program\\yolov3-master\\utils\\datasets.py\", line 290, in __init__\r\n    with open(sp, 'r') as f:  # read existing shapefile\r\nFileNotFoundError: [Errno 2] No such file or directory: 'data\\\\test.shapes'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:/Py_Program/yolov3-master/train.py\", line 423, in <module>\r\n    train()  # train normally\r\n  File \"D:/Py_Program/yolov3-master/train.py\", line 193, in train\r\n    single_cls=opt.single_cls),\r\n  File \"D:\\Py_Program\\yolov3-master\\utils\\datasets.py\", line 294, in __init__\r\n    s = [exif_size(Image.open(f)) for f in tqdm(self.img_files, desc='Reading image shapes')]\r\n  File \"D:\\Py_Program\\yolov3-master\\utils\\datasets.py\", line 294, in <listcomp>\r\n    s = [exif_size(Image.open(f)) for f in tqdm(self.img_files, desc='Reading image shapes')]\r\n  File \"D:\\anaconda\\envs\\pytorch\\lib\\site-packages\\PIL\\Image.py\", line 2809, in open\r\n    fp = builtins.open(filename, \"rb\")\r\nFileNotFoundError: [Errno 2] No such file or directory: 'data\\\\images\\\\2S1_(107).jpg'\r\nReading image shapes:   0%|          | 0/464 [00:00<?, ?it/s]\r\n\r\nProcess finished with exit code 1\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1023/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1022", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1022/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1022/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1022/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1022", "id": 596343169, "node_id": "MDU6SXNzdWU1OTYzNDMxNjk=", "number": 1022, "title": "Export custom onnx model ", "user": {"login": "daixiangzi", "id": 24811131, "node_id": "MDQ6VXNlcjI0ODExMTMx", "avatar_url": "https://avatars.githubusercontent.com/u/24811131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daixiangzi", "html_url": "https://github.com/daixiangzi", "followers_url": "https://api.github.com/users/daixiangzi/followers", "following_url": "https://api.github.com/users/daixiangzi/following{/other_user}", "gists_url": "https://api.github.com/users/daixiangzi/gists{/gist_id}", "starred_url": "https://api.github.com/users/daixiangzi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daixiangzi/subscriptions", "organizations_url": "https://api.github.com/users/daixiangzi/orgs", "repos_url": "https://api.github.com/users/daixiangzi/repos", "events_url": "https://api.github.com/users/daixiangzi/events{/privacy}", "received_events_url": "https://api.github.com/users/daixiangzi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-08T06:35:37Z", "updated_at": "2023-04-21T21:04:52Z", "closed_at": "2020-05-14T00:08:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. set model.py ONNX_EXPORT = True\r\n2. python3 convert.py\r\nconvert.py:\r\nfrom models import *  # set ONNX_EXPORT in models.py\r\nfrom utils.datasets import *\r\nfrom utils.utils import *\r\ndevice = torch_utils.select_device(device='cpu')\r\nmodel = Darknet('cfg/yolov3-tiny.cfg', (416,416))\r\nweights = '/home/dxz/code/yolov3/weights/best.pt'\r\nif weights.endswith('.pt'):  # pytorch format\r\n    model.load_state_dict(torch.load(weights, map_location=device)['model'])\r\nelse:  # darknet format\r\n    load_darknet_weights(model, weights)\r\nmodel.to(device).eval()\r\nmodel.fuse()\r\nimg = torch.zeros((1, 3,416,416))  # (1, 3, 320, 192)\r\nf = weights.replace(weights.split('.')[-1], 'onnx')  # *.onnx filename\r\ntorch.onnx.export(model, img, f, verbose=True, opset_version=11)\r\npytorch version is 1.4.0\r\npython version is 3.7\r\n\r\nError:\r\nAttributeError: 'YOLOLayer' object has no attribute 'grid'\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1022/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1022/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1021", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1021/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1021/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1021/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1021", "id": 596304336, "node_id": "MDU6SXNzdWU1OTYzMDQzMzY=", "number": 1021, "title": "Always 0.2475 mAP\uff0cwhat happend?", "user": {"login": "FrankCreen", "id": 3948337, "node_id": "MDQ6VXNlcjM5NDgzMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/3948337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FrankCreen", "html_url": "https://github.com/FrankCreen", "followers_url": "https://api.github.com/users/FrankCreen/followers", "following_url": "https://api.github.com/users/FrankCreen/following{/other_user}", "gists_url": "https://api.github.com/users/FrankCreen/gists{/gist_id}", "starred_url": "https://api.github.com/users/FrankCreen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FrankCreen/subscriptions", "organizations_url": "https://api.github.com/users/FrankCreen/orgs", "repos_url": "https://api.github.com/users/FrankCreen/repos", "events_url": "https://api.github.com/users/FrankCreen/events{/privacy}", "received_events_url": "https://api.github.com/users/FrankCreen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-08T04:44:17Z", "updated_at": "2020-05-14T00:08:56Z", "closed_at": "2020-05-14T00:08:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nAlways 0.2475 mAP after some train epochs on my own datasets, Try the yolov3.cfg and yolov3-spp.cfg.\r\n\r\nDoes someone have the same trouble???\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1021/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1021/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1020", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1020/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1020/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1020/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1020", "id": 596004721, "node_id": "MDU6SXNzdWU1OTYwMDQ3MjE=", "number": 1020, "title": "Why yolov3-tiny is much worser than yolov3?Doesn't it is for faster and just a little impact on performance?", "user": {"login": "xxAna", "id": 43401434, "node_id": "MDQ6VXNlcjQzNDAxNDM0", "avatar_url": "https://avatars.githubusercontent.com/u/43401434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xxAna", "html_url": "https://github.com/xxAna", "followers_url": "https://api.github.com/users/xxAna/followers", "following_url": "https://api.github.com/users/xxAna/following{/other_user}", "gists_url": "https://api.github.com/users/xxAna/gists{/gist_id}", "starred_url": "https://api.github.com/users/xxAna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xxAna/subscriptions", "organizations_url": "https://api.github.com/users/xxAna/orgs", "repos_url": "https://api.github.com/users/xxAna/repos", "events_url": "https://api.github.com/users/xxAna/events{/privacy}", "received_events_url": "https://api.github.com/users/xxAna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-07T16:39:25Z", "updated_at": "2023-04-21T21:04:53Z", "closed_at": "2020-04-23T07:28:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. \r\n2. \r\n3. \r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1020/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1020/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1019", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1019/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1019/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1019/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1019", "id": 595852176, "node_id": "MDU6SXNzdWU1OTU4NTIxNzY=", "number": 1019, "title": "Not enough memory for training?", "user": {"login": "20162021", "id": 36884005, "node_id": "MDQ6VXNlcjM2ODg0MDA1", "avatar_url": "https://avatars.githubusercontent.com/u/36884005?v=4", "gravatar_id": "", "url": "https://api.github.com/users/20162021", "html_url": "https://github.com/20162021", "followers_url": "https://api.github.com/users/20162021/followers", "following_url": "https://api.github.com/users/20162021/following{/other_user}", "gists_url": "https://api.github.com/users/20162021/gists{/gist_id}", "starred_url": "https://api.github.com/users/20162021/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/20162021/subscriptions", "organizations_url": "https://api.github.com/users/20162021/orgs", "repos_url": "https://api.github.com/users/20162021/repos", "events_url": "https://api.github.com/users/20162021/events{/privacy}", "received_events_url": "https://api.github.com/users/20162021/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-07T13:03:53Z", "updated_at": "2023-04-21T21:04:54Z", "closed_at": "2020-05-13T00:09:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Sorry if it's off topic. I need this information for my Bachelor task.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. make own data set\r\n2. try to train CNN on nVidia Jetson nano ( arm processor, 4gb RAM)\r\n\r\n## Expected behavior\r\nIt should train YoloV3-tiny on my data set\r\n\r\n## Environment\r\n![Screenshot from 2020-04-07 15-50-44](https://user-images.githubusercontent.com/36884005/78671531-18ada380-78e8-11ea-8034-bc5626332283.png)\r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Linux\r\n - Version 18.04\r\n\r\n\r\n## Additional context\r\nNeed to know if this error occurs, because of low memory ( 4gb RAM )? ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1019/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1019/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1015", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1015/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1015/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1015/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1015", "id": 594761725, "node_id": "MDU6SXNzdWU1OTQ3NjE3MjU=", "number": 1015, "title": "RuntimeError:main thread is not in main loop", "user": {"login": "zzfpython", "id": 39543924, "node_id": "MDQ6VXNlcjM5NTQzOTI0", "avatar_url": "https://avatars.githubusercontent.com/u/39543924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zzfpython", "html_url": "https://github.com/zzfpython", "followers_url": "https://api.github.com/users/zzfpython/followers", "following_url": "https://api.github.com/users/zzfpython/following{/other_user}", "gists_url": "https://api.github.com/users/zzfpython/gists{/gist_id}", "starred_url": "https://api.github.com/users/zzfpython/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zzfpython/subscriptions", "organizations_url": "https://api.github.com/users/zzfpython/orgs", "repos_url": "https://api.github.com/users/zzfpython/repos", "events_url": "https://api.github.com/users/zzfpython/events{/privacy}", "received_events_url": "https://api.github.com/users/zzfpython/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-06T02:35:01Z", "updated_at": "2023-04-21T21:04:58Z", "closed_at": "2020-04-07T08:31:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,I have translated a VOC2007 dataset to coco's style.\r\nAnd when I start to train with this code: \r\npython3 train.py --weights weights/yolov3.pt --cfg cfg/yolov3.cfg\r\nI encounted this problem\r\n![image](https://user-images.githubusercontent.com/39543924/78518128-241ea300-77f2-11ea-9406-28fd0a795f60.png)\r\n\r\nCan you teach me how to handle this bug?\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1015/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1014", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1014/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1014/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1014/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1014", "id": 594650341, "node_id": "MDU6SXNzdWU1OTQ2NTAzNDE=", "number": 1014, "title": "Boxes dont fit into the object  Yolov3-spp on thermal images", "user": {"login": "joel5638", "id": 38422983, "node_id": "MDQ6VXNlcjM4NDIyOTgz", "avatar_url": "https://avatars.githubusercontent.com/u/38422983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joel5638", "html_url": "https://github.com/joel5638", "followers_url": "https://api.github.com/users/joel5638/followers", "following_url": "https://api.github.com/users/joel5638/following{/other_user}", "gists_url": "https://api.github.com/users/joel5638/gists{/gist_id}", "starred_url": "https://api.github.com/users/joel5638/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joel5638/subscriptions", "organizations_url": "https://api.github.com/users/joel5638/orgs", "repos_url": "https://api.github.com/users/joel5638/repos", "events_url": "https://api.github.com/users/joel5638/events{/privacy}", "received_events_url": "https://api.github.com/users/joel5638/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-05T21:20:34Z", "updated_at": "2023-04-21T21:04:59Z", "closed_at": "2020-05-29T05:19:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Glenn. \r\n\r\nI have trained yolov3-spp on thermal images. \r\nDefault epochs are 273. When i trained it for 273, there were no detections. But when i trained it for 500 Epochs. \r\nI get detections. But the boxes dont fit into the object. \r\nCan you tell me if my x,y Iou is wrong? Or how can i look at it? \r\n![D9D18E37-C668-484D-9D31-EB7676F1245C](https://user-images.githubusercontent.com/38422983/78510208-522fc300-77b1-11ea-9017-c9ab12e30556.jpeg)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1014/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1014/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1013", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1013/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1013/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1013/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1013", "id": 594434962, "node_id": "MDU6SXNzdWU1OTQ0MzQ5NjI=", "number": 1013, "title": "     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size   0%|                                                                              prediction RuntimeError: shape '[4, 3, 85, 13, 13]' is invalid for input of size 24336", "user": {"login": "PointCloudNiphon", "id": 37015371, "node_id": "MDQ6VXNlcjM3MDE1Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/37015371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PointCloudNiphon", "html_url": "https://github.com/PointCloudNiphon", "followers_url": "https://api.github.com/users/PointCloudNiphon/followers", "following_url": "https://api.github.com/users/PointCloudNiphon/following{/other_user}", "gists_url": "https://api.github.com/users/PointCloudNiphon/gists{/gist_id}", "starred_url": "https://api.github.com/users/PointCloudNiphon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PointCloudNiphon/subscriptions", "organizations_url": "https://api.github.com/users/PointCloudNiphon/orgs", "repos_url": "https://api.github.com/users/PointCloudNiphon/repos", "events_url": "https://api.github.com/users/PointCloudNiphon/events{/privacy}", "received_events_url": "https://api.github.com/users/PointCloudNiphon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-05T12:34:11Z", "updated_at": "2022-04-08T19:08:48Z", "closed_at": "2020-04-05T15:05:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\nwhen I run \r\n`\r\npython train.py --cfg cfg/custom_yolo3_spp.cfg --weights weights/yolov3-spp-ultralytics.pt --data custom_data_200405/custom.data --batch-size 4 --device 0\r\n`\r\nsome errors happened\r\n\r\n```\r\nNamespace(accumulate=4, adam=False, arc='default', batch_size=4, bucket='', cache_images=False, cfg='cfg/yolov3-spp-7class.cfg', data='custom_data_200405/custom.data', device='0', epochs=300, evolve=False, img_size=[416], multi_scale=False, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, var=None, weights='weights/yolov3-spp-ultralytics.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='Tesla T4', total_memory=15079MB)\r\n\r\nCaching labels (21081 found, 0 missing, 0 empty, 0 duplicate, for 21081 images): 100%|\u2588| 21081/21081 [00:02<00:00, 9670.57it/s\r\nCaching labels (1110 found, 0 missing, 0 empty, 0 duplicate, for 1110 images): 100%|\u2588\u2588\u2588\u2588| 1110/1110 [00:00<00:00, 7458.73it/s]\r\nModel Summary: 225 layers, 6.26056e+07 parameters, 6.26056e+07 gradients\r\nUsing 4 dataloader workers\r\nStarting training for 300 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n  0%|                                                                                                | 0/5271 [00:00<?, ?it/s]Traceback (most recent call last):\r\n  File \"train.py\", line 433, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 272, in train\r\n    pred = model(imgs)\r\n  File \"/home/linqunshu/anaconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 547, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/linqunshu/CODE/zp/models.py\", line 298, in forward\r\n    yolo_out.append(module(x, img_size))\r\n  File \"/home/linqunshu/anaconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 547, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/linqunshu/CODE/zp/models.py\", line 207, in forward\r\n    p = p.view(bs, self.na, self.no, self.ny, self.nx).permute(0, 1, 3, 4, 2).contiguous()  # prediction\r\nRuntimeError: shape '[4, 3, 85, 13, 13]' is invalid for input of size 24336\r\n  0%|                                   \r\n```\r\nwhere my custom data has 7 class so I modify yolov3-spp.cfg  filters=36  in three yolo layer and classes=7,\r\na magic thing is when I run \r\n`\r\npython train.py --cfg cfg/yolov3-tiny-custom.cfg --weights weights/yolov3-spp-ultralytics.pt --data custom_data_200405/custom.data --batch-size 4 --device 0\r\n`\r\nit work well....\r\n```\r\n(base) linqunshu@T640:~/CODE/zp$ python train.py --cfg cfg/yolov3-tinyZP.cfg --data custom_data_200405/custom.data --batch-size 16 --device 0 --weights weights/yolov3-tiny.weights\r\nNamespace(accumulate=4, adam=False, arc='default', batch_size=16, bucket='', cache_images=False, cfg='cfg/yolov3-tinyZP.cfg',data='custom_data_200405/custom.data', device='0', epochs=300, evolve=False, img_size=[416], multi_scale=False, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, var=None, weights='weights/yolov3-tiny.weights')\r\nUsing CUDA device0 _CudaDeviceProperties(name='Tesla T4', total_memory=15079MB)\r\n\r\nCaching labels (21081 found, 0 missing, 0 empty, 0 duplicate, for 21081 images): 100%|\u2588| 21081/21081 [00:02<00:00, 9568.61it/s\r\nCaching labels (1110 found, 0 missing, 0 empty, 0 duplicate, for 1110 images): 100%|\u2588\u2588\u2588\u2588| 1110/1110 [00:00<00:00, 8368.69it/s]\r\nModel Summary: 37 layers, 8.68374e+06 parameters, 8.68374e+06 gradients\r\nUsing 8 dataloader workers\r\nStarting training for 300 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n     0/299     1.91G      5.17      46.6      51.8       104       100       416:   0%|    | 1/1318 [00:05<1:58:18,  5.39s/it]\r\n     0/299     1.91G      3.85      3.21      17.8      24.9        64       416: 100%|\u2588\u2588\u2588| 1318/1318 [03:07<00:00,  7.01it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 35/35 [00:08<00:00,  3.91it/s]\r\n                 all  1.11e+03  5.05e+03   0.00244     0.411     0.036   0.00485\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n     1/299     4.75G      3.45       2.7      14.1      20.3       114       416:  80%|\u2588\u2588\u258d| 1059/1318 [02:29<00:36,  7.13it/s```\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1013/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1013/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1008", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1008/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1008/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1008/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1008", "id": 593737792, "node_id": "MDU6SXNzdWU1OTM3Mzc3OTI=", "number": 1008, "title": "how to get the mAR results?", "user": {"login": "jonguo111", "id": 43916561, "node_id": "MDQ6VXNlcjQzOTE2NTYx", "avatar_url": "https://avatars.githubusercontent.com/u/43916561?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonguo111", "html_url": "https://github.com/jonguo111", "followers_url": "https://api.github.com/users/jonguo111/followers", "following_url": "https://api.github.com/users/jonguo111/following{/other_user}", "gists_url": "https://api.github.com/users/jonguo111/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonguo111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonguo111/subscriptions", "organizations_url": "https://api.github.com/users/jonguo111/orgs", "repos_url": "https://api.github.com/users/jonguo111/repos", "events_url": "https://api.github.com/users/jonguo111/events{/privacy}", "received_events_url": "https://api.github.com/users/jonguo111/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2020-04-04T03:52:28Z", "updated_at": "2020-05-17T00:09:21Z", "closed_at": "2020-05-17T00:09:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there.\r\n\r\nI can have the mAP results through the test.py, however there is no mAR info like cocoEVAL methods?\r\n\r\nCould you pls help me figure it out? Also, how can I print out the  precision and recall values of the training process?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1008/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1008/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1006", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1006/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1006/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1006/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1006", "id": 593282375, "node_id": "MDU6SXNzdWU1OTMyODIzNzU=", "number": 1006, "title": "It doesn't happen in normal time, but an error will be reported in abnormal time", "user": {"login": "Lornatang", "id": 31124350, "node_id": "MDQ6VXNlcjMxMTI0MzUw", "avatar_url": "https://avatars.githubusercontent.com/u/31124350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lornatang", "html_url": "https://github.com/Lornatang", "followers_url": "https://api.github.com/users/Lornatang/followers", "following_url": "https://api.github.com/users/Lornatang/following{/other_user}", "gists_url": "https://api.github.com/users/Lornatang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lornatang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lornatang/subscriptions", "organizations_url": "https://api.github.com/users/Lornatang/orgs", "repos_url": "https://api.github.com/users/Lornatang/repos", "events_url": "https://api.github.com/users/Lornatang/events{/privacy}", "received_events_url": "https://api.github.com/users/Lornatang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-03T10:29:21Z", "updated_at": "2020-05-10T00:08:05Z", "closed_at": "2020-05-10T00:08:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nLocal variable 'l' might be referenced before assignment in `models.py` 92 line\r\n```text\r\n j = l[yolo_index] if 'from' in mdef else -1\r\n\r\n```\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1.  Add this code to `models.py` to  79-85 line\r\n```text\r\n            stride = [32, 16, 8, 4, 2][yolo_index]  # P3-P7 stride\r\n            l = mdef['from'] if 'from' in mdef else [],  # output layers\r\n            modules = YOLOLayer(anchors=mdef['anchors'][mdef['mask']],  # anchor list\r\n                                nc=mdef['classes'],  # number of classes\r\n                                img_size=img_size,  # (416, 416)\r\n                                yolo_index=yolo_index,  # 0, 1, 2...\r\n                                layers=l,  # output layers\r\n                                stride=stride)\r\n```\r\n\r\n\r\n## Expected behavior\r\nClear this warning\r\n\r\n## Environment\r\nPython == 3.6.9\r\nCUDA & CUDNN == 10.1\r\nPyTorch == 1.4.0\r\nUbuntu == 18.04\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [Ubuntu]\r\n - Version [18.04]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [ iPhoneXS]\r\n - OS: [iOS]\r\n - Version [13.2]\r\n\r\n## Additional context\r\nGood luck to you.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1006/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1006/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1005", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1005/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1005/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1005/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1005", "id": 593217751, "node_id": "MDU6SXNzdWU1OTMyMTc3NTE=", "number": 1005, "title": "Linux can train and reason, and report errors in win", "user": {"login": "Waynepoo", "id": 41176549, "node_id": "MDQ6VXNlcjQxMTc2NTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/41176549?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Waynepoo", "html_url": "https://github.com/Waynepoo", "followers_url": "https://api.github.com/users/Waynepoo/followers", "following_url": "https://api.github.com/users/Waynepoo/following{/other_user}", "gists_url": "https://api.github.com/users/Waynepoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Waynepoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Waynepoo/subscriptions", "organizations_url": "https://api.github.com/users/Waynepoo/orgs", "repos_url": "https://api.github.com/users/Waynepoo/repos", "events_url": "https://api.github.com/users/Waynepoo/events{/privacy}", "received_events_url": "https://api.github.com/users/Waynepoo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-03T08:38:47Z", "updated_at": "2023-04-21T21:05:05Z", "closed_at": "2020-04-03T21:48:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Go to:\r\n io = p.clone()  # inference output\r\n io[..., :2] = torch.sigmoid(io[..., :2]) + self.grid  # xy\r\nError report is as follows:\r\nRuntimeError: expected backend CUDA and dtype Float but got backend CUDA and dtype Long\r\n\r\nThe weight of the training in Linux, which is predicted in win, is no problem in Linux", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1005/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1005/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1003", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1003/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1003/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1003/events", "html_url": "https://github.com/ultralytics/yolov3/issues/1003", "id": 593179291, "node_id": "MDU6SXNzdWU1OTMxNzkyOTE=", "number": 1003, "title": "Segment Fault(Core Dumped)", "user": {"login": "FrankCreen", "id": 3948337, "node_id": "MDQ6VXNlcjM5NDgzMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/3948337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FrankCreen", "html_url": "https://github.com/FrankCreen", "followers_url": "https://api.github.com/users/FrankCreen/followers", "following_url": "https://api.github.com/users/FrankCreen/following{/other_user}", "gists_url": "https://api.github.com/users/FrankCreen/gists{/gist_id}", "starred_url": "https://api.github.com/users/FrankCreen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FrankCreen/subscriptions", "organizations_url": "https://api.github.com/users/FrankCreen/orgs", "repos_url": "https://api.github.com/users/FrankCreen/repos", "events_url": "https://api.github.com/users/FrankCreen/events{/privacy}", "received_events_url": "https://api.github.com/users/FrankCreen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-04-03T07:31:23Z", "updated_at": "2023-04-21T21:05:10Z", "closed_at": "2020-05-11T00:09:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nWhen I run  `python train.py --epochs 100 --batch-size 64 --cfg cfg/yolov3-custom.cfg --data data/custom.data --weights weights/yolov3.pt --name 'res20200402' --device '0,1,2,3' ` ,I got 'Segment Fault' Error at the 33 epochs. I changed the batch_size=128,the segment fault even exists.SO what should I do?\r\n\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Ubuntu 18.04.1 64 bit\r\n - CUDA Version [10.0]\r\n-Python:3.7\r\n-PyTorch:1.4\r\n\r\n## Additional context\r\n4 Nvidia RTX GPU\r\n128G RAM\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/1003/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/1003/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/999", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/999/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/999/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/999/events", "html_url": "https://github.com/ultralytics/yolov3/issues/999", "id": 592571092, "node_id": "MDU6SXNzdWU1OTI1NzEwOTI=", "number": 999, "title": "my val classification is a bit abnormal", "user": {"login": "tinothy22", "id": 53636618, "node_id": "MDQ6VXNlcjUzNjM2NjE4", "avatar_url": "https://avatars.githubusercontent.com/u/53636618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tinothy22", "html_url": "https://github.com/tinothy22", "followers_url": "https://api.github.com/users/tinothy22/followers", "following_url": "https://api.github.com/users/tinothy22/following{/other_user}", "gists_url": "https://api.github.com/users/tinothy22/gists{/gist_id}", "starred_url": "https://api.github.com/users/tinothy22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tinothy22/subscriptions", "organizations_url": "https://api.github.com/users/tinothy22/orgs", "repos_url": "https://api.github.com/users/tinothy22/repos", "events_url": "https://api.github.com/users/tinothy22/events{/privacy}", "received_events_url": "https://api.github.com/users/tinothy22/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-04-02T11:50:00Z", "updated_at": "2020-06-03T00:15:09Z", "closed_at": "2020-06-03T00:15:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n![results](https://user-images.githubusercontent.com/53636618/78244972-327e6d80-7519-11ea-9a0c-d4ffd8d573f7.png)\r\nmy val classification looks different,Is it related to the default values of GIOU and cls? I lowered it to 1.2 and 3.5 respectively.\r\nIn addition, I change the values of GIOU and cls. The model MAP has not improved. What other methods can I use to improve my MAP?I think only 88% of the two classes classification are a bit too low\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/999/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/999/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/998", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/998/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/998/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/998/events", "html_url": "https://github.com/ultralytics/yolov3/issues/998", "id": 592465683, "node_id": "MDU6SXNzdWU1OTI0NjU2ODM=", "number": 998, "title": "Question : why not freeze darknet53 backbone?", "user": {"login": "pfeatherstone", "id": 45853521, "node_id": "MDQ6VXNlcjQ1ODUzNTIx", "avatar_url": "https://avatars.githubusercontent.com/u/45853521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfeatherstone", "html_url": "https://github.com/pfeatherstone", "followers_url": "https://api.github.com/users/pfeatherstone/followers", "following_url": "https://api.github.com/users/pfeatherstone/following{/other_user}", "gists_url": "https://api.github.com/users/pfeatherstone/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfeatherstone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfeatherstone/subscriptions", "organizations_url": "https://api.github.com/users/pfeatherstone/orgs", "repos_url": "https://api.github.com/users/pfeatherstone/repos", "events_url": "https://api.github.com/users/pfeatherstone/events{/privacy}", "received_events_url": "https://api.github.com/users/pfeatherstone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-04-02T08:52:45Z", "updated_at": "2020-05-04T06:58:52Z", "closed_at": "2020-05-04T06:58:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Looking through the code, I can't see where you might freeze the pretrained darknet53 backbone. Is there a reason why you don't do this?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/998/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/998/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/993", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/993/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/993/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/993/events", "html_url": "https://github.com/ultralytics/yolov3/issues/993", "id": 591603949, "node_id": "MDU6SXNzdWU1OTE2MDM5NDk=", "number": 993, "title": "[JIT] same problem with ---- Can use in libtorch? #938", "user": {"login": "merisgong208", "id": 62127366, "node_id": "MDQ6VXNlcjYyMTI3MzY2", "avatar_url": "https://avatars.githubusercontent.com/u/62127366?v=4", "gravatar_id": "", "url": "https://api.github.com/users/merisgong208", "html_url": "https://github.com/merisgong208", "followers_url": "https://api.github.com/users/merisgong208/followers", "following_url": "https://api.github.com/users/merisgong208/following{/other_user}", "gists_url": "https://api.github.com/users/merisgong208/gists{/gist_id}", "starred_url": "https://api.github.com/users/merisgong208/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/merisgong208/subscriptions", "organizations_url": "https://api.github.com/users/merisgong208/orgs", "repos_url": "https://api.github.com/users/merisgong208/repos", "events_url": "https://api.github.com/users/merisgong208/events{/privacy}", "received_events_url": "https://api.github.com/users/merisgong208/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-04-01T04:02:48Z", "updated_at": "2023-04-21T21:05:18Z", "closed_at": "2020-04-06T02:16:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "ultralytics yolov3 is a very good project among the repos I have tried. \r\nI encountered the same problem with #938  .\r\neither trace or script cannot work because of data-type errors maybe.\r\nhope for your solution on this.\r\n\r\n#---------------------------------------------------------------\r\ndef convert_libtorch(cfg='cfg/yolov3.cfg', weights='weights/yolov3.pt'):\r\n    # Initialize model\r\n    model = Darknet(cfg)\r\n\r\n    # Load weights\r\n    model.load_state_dict(torch.load(weights, map_location='cpu')['model'])\r\n    # Set model mode\r\n    model = model.eval()\r\n\r\n    inputs = torch.rand(1, 3, 416, 416)  # CPU model\r\n\r\n    traced_script_module = torch.jit.trace(model, inputs)\r\n    traced_script_module.save('yolov3-trace.pt')\r\n\r\n#-------------------------------------------------------------------\r\nplatform:\r\n\r\npytorch 1.4\r\npython3\r\nwin7 64bit.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/993/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/993/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/989", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/989/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/989/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/989/events", "html_url": "https://github.com/ultralytics/yolov3/issues/989", "id": 590924874, "node_id": "MDU6SXNzdWU1OTA5MjQ4NzQ=", "number": 989, "title": "Onnx export error", "user": {"login": "luke-kang", "id": 32029658, "node_id": "MDQ6VXNlcjMyMDI5NjU4", "avatar_url": "https://avatars.githubusercontent.com/u/32029658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luke-kang", "html_url": "https://github.com/luke-kang", "followers_url": "https://api.github.com/users/luke-kang/followers", "following_url": "https://api.github.com/users/luke-kang/following{/other_user}", "gists_url": "https://api.github.com/users/luke-kang/gists{/gist_id}", "starred_url": "https://api.github.com/users/luke-kang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luke-kang/subscriptions", "organizations_url": "https://api.github.com/users/luke-kang/orgs", "repos_url": "https://api.github.com/users/luke-kang/repos", "events_url": "https://api.github.com/users/luke-kang/events{/privacy}", "received_events_url": "https://api.github.com/users/luke-kang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-31T08:59:52Z", "updated_at": "2023-04-21T21:05:21Z", "closed_at": "2020-03-31T09:36:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "C.check_model(model.SerializeToString())\r\nonnx.onnx_cpp2py_export.checker.ValidationError: Node () has input size 4 not in range [min=2, max=2].\r\n\r\n==> Context: Bad node spec: input: \"328\" input: \"330\" input: \"330\" input: \"337\" output: \"338\" op_type: \"Resize\" attribute { name: \"coordinate_transformation_mode\" s: \"asymmetric\" type: STRING } attribute { name: \"cubic_coeff_a\" f: -0.75 type: FLOAT } attribute { name: \"mode\" s: \"nearest\" type: STRING } attribute { name: \"nearest_mode\" s: \"floor\" type: STRING }\r\n\r\nWhen I export the model file as onnx, I get an error. Is it the wrong version? I use: Python 1.4, python 3.7, onnx1.5.0\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/989/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/987", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/987/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/987/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/987/events", "html_url": "https://github.com/ultralytics/yolov3/issues/987", "id": 590510222, "node_id": "MDU6SXNzdWU1OTA1MTAyMjI=", "number": 987, "title": "mAP output in *txt file not created", "user": {"login": "Leprechault", "id": 17205267, "node_id": "MDQ6VXNlcjE3MjA1MjY3", "avatar_url": "https://avatars.githubusercontent.com/u/17205267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Leprechault", "html_url": "https://github.com/Leprechault", "followers_url": "https://api.github.com/users/Leprechault/followers", "following_url": "https://api.github.com/users/Leprechault/following{/other_user}", "gists_url": "https://api.github.com/users/Leprechault/gists{/gist_id}", "starred_url": "https://api.github.com/users/Leprechault/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Leprechault/subscriptions", "organizations_url": "https://api.github.com/users/Leprechault/orgs", "repos_url": "https://api.github.com/users/Leprechault/repos", "events_url": "https://api.github.com/users/Leprechault/events{/privacy}", "received_events_url": "https://api.github.com/users/Leprechault/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-30T18:45:50Z", "updated_at": "2023-04-21T21:05:23Z", "closed_at": "2020-03-30T19:20:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I try to get the mAP results in a *txt file using `./darknet detector map obj.data obj.cfg backup/obj_100.weights -map | tee result_mAP.txt`, but doesn't work (no output *txt file created). Any ideas about the absence of this file?\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/987/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/987/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/986", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/986/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/986/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/986/events", "html_url": "https://github.com/ultralytics/yolov3/issues/986", "id": 590510178, "node_id": "MDU6SXNzdWU1OTA1MTAxNzg=", "number": 986, "title": "Labels not found error", "user": {"login": "yeshwanthmaringanti", "id": 49546514, "node_id": "MDQ6VXNlcjQ5NTQ2NTE0", "avatar_url": "https://avatars.githubusercontent.com/u/49546514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yeshwanthmaringanti", "html_url": "https://github.com/yeshwanthmaringanti", "followers_url": "https://api.github.com/users/yeshwanthmaringanti/followers", "following_url": "https://api.github.com/users/yeshwanthmaringanti/following{/other_user}", "gists_url": "https://api.github.com/users/yeshwanthmaringanti/gists{/gist_id}", "starred_url": "https://api.github.com/users/yeshwanthmaringanti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yeshwanthmaringanti/subscriptions", "organizations_url": "https://api.github.com/users/yeshwanthmaringanti/orgs", "repos_url": "https://api.github.com/users/yeshwanthmaringanti/repos", "events_url": "https://api.github.com/users/yeshwanthmaringanti/events{/privacy}", "received_events_url": "https://api.github.com/users/yeshwanthmaringanti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-30T18:45:46Z", "updated_at": "2023-04-21T21:05:24Z", "closed_at": "2020-04-30T11:55:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi glenn , I followed each and every step of custom training  document as given. But still it is throwing the error. I am 100% sure that the path mentioned is correct and text files are also present in the same directory where images are present with .txt extension instead of .png. \r\nPlease look at the screenshot.  I don't know whats wrong with the data. because it worked with different train data previously , now when i re run it on new train data it's not working. Please help me out\r\n\r\n![Screenshot from 2020-03-31 00-07-26](https://user-images.githubusercontent.com/49546514/77949401-86ecd780-72e4-11ea-9e89-6fa66090c440.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/986/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/986/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/985", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/985/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/985/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/985/events", "html_url": "https://github.com/ultralytics/yolov3/issues/985", "id": 590251935, "node_id": "MDU6SXNzdWU1OTAyNTE5MzU=", "number": 985, "title": "why my loss is so big?", "user": {"login": "tinothy22", "id": 53636618, "node_id": "MDQ6VXNlcjUzNjM2NjE4", "avatar_url": "https://avatars.githubusercontent.com/u/53636618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tinothy22", "html_url": "https://github.com/tinothy22", "followers_url": "https://api.github.com/users/tinothy22/followers", "following_url": "https://api.github.com/users/tinothy22/following{/other_user}", "gists_url": "https://api.github.com/users/tinothy22/gists{/gist_id}", "starred_url": "https://api.github.com/users/tinothy22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tinothy22/subscriptions", "organizations_url": "https://api.github.com/users/tinothy22/orgs", "repos_url": "https://api.github.com/users/tinothy22/repos", "events_url": "https://api.github.com/users/tinothy22/events{/privacy}", "received_events_url": "https://api.github.com/users/tinothy22/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-03-30T12:29:58Z", "updated_at": "2020-04-01T11:25:20Z", "closed_at": "2020-04-01T11:25:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I used yolov3.cfg migration to learn my custom data set (two classes). The following is my loss for the first ten cycles. Why is it so big? Can you help me see where is the problem\r\n\r\n\r\n\r\n`Namespace(accumulate=4, adam=False, batch_size=8, bucket='', cache_images=False, cfg='cfg/yolov3.cfg', data='data/coco1.data', device='', epochs=100, evolve=False, img_size=[416], multi_scale=False, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, weights='weights/yolov3.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1660 Ti with Max-Q Design', total_memory=6144MB)`\r\n\r\nModel Summary: 222 layers, 6.15291e+07 parameters, 6.15291e+07 gradients\r\nCaching labels (6367 found, 0 missing, 0 empty, 0 duplicate, for 6367 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 6367/6367 [00:01<00:00, 6270.53it/s]\r\nCaching labels (1592 found, 0 missing, 0 empty, 0 duplicate, for 1592 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1592/1592 [00:00<00:00, 5994.82it/s]\r\nUsing 8 dataloader workers\r\nStarting training for 100 epochs...\r\nEpoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n      0/99     4.26G      5.74      2.97       101       110        20       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 796/796 [09:33<00:00,  1.39it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 199/199 [00:45<00:00,  4.34it/s]\r\n                 all  1.59e+03  3.18e+03         0         0  2.94e-05         0\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n      1/99     4.27G       5.5      2.94      60.1      68.5        16       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 796/796 [09:34<00:00,  1.39it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 199/199 [00:40<00:00,  4.86it/s]\r\n                 all  1.59e+03  3.18e+03         0         0         0         0\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n      2/99     4.27G      5.35      2.89      52.1      60.3        12       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 796/796 [09:32<00:00,  1.39it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 199/199 [00:40<00:00,  4.86it/s]\r\n                 all  1.59e+03  3.18e+03         0         0         0         0\r\n\r\nModel Bias Summary:    layer        regression        objectness    classification\r\n                          82      -0.31+/-0.39      -5.68+/-1.21      -0.66+/-3.97 \r\n                          94       0.07+/-0.22      -6.01+/-0.07      -0.18+/-1.44 \r\n                         106       0.09+/-0.19      -6.95+/-0.08       0.01+/-2.92 \r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n      3/99     4.27G      5.18      1.62      46.6      53.4        21       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 796/796 [09:35<00:00,  1.38it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 199/199 [00:39<00:00,  5.09it/s]\r\n                 all  1.59e+03  3.18e+03         0         0         0         0\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n      4/99     4.27G       5.1      1.63      43.2      49.9        19       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 796/796 [09:34<00:00,  1.38it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 199/199 [00:42<00:00,  4.73it/s]\r\n                 all  1.59e+03  3.18e+03       0.5  0.000627    0.0123   0.00125\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n      5/99     4.27G      4.98      1.63        43      49.6        16       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 796/796 [09:31<00:00,  1.39it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 199/199 [00:50<00:00,  3.98it/s]\r\n                 all  1.59e+03  3.18e+03         0         0    0.0157         0\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n      6/99     4.27G      4.96      1.63      42.6      49.2        13       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 796/796 [09:32<00:00,  1.39it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 199/199 [00:42<00:00,  4.72it/s]\r\n                 all  1.59e+03  3.18e+03       0.5  0.000627    0.0114   0.00125\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n      7/99     4.27G      4.86      1.65      40.9      47.4        19       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 796/796 [09:43<00:00,  1.36it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 199/199 [00:53<00:00,  3.70it/s]\r\n                 all  1.59e+03  3.18e+03       0.5  0.000627    0.0313   0.00125\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n      8/99     4.27G      4.78      1.65      40.8      47.3        23       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 796/796 [09:38<00:00,  1.38it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 199/199 [00:47<00:00,  4.20it/s]\r\n                 all  1.59e+03  3.18e+03         0         0    0.0171         0\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n      9/99     4.27G      4.78      1.64      39.4      45.9        16       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 796/796 [09:36<00:00,  1.38it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 199/199 [00:47<00:00,  4.15it/s]\r\n                 all  1.59e+03  3.18e+03       0.5  0.000627    0.0283   0.00125\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n     10/99     4.27G      4.71      1.67      39.5      45.8        17       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 796/796 [09:33<00:00,  1.39it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 199/199 [00:50<00:00,  3.91it/s]\r\n                 all  1.59e+03  3.18e+03       0.5  0.000627    0.0208   0.00125", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/985/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/983", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/983/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/983/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/983/events", "html_url": "https://github.com/ultralytics/yolov3/issues/983", "id": 589973997, "node_id": "MDU6SXNzdWU1ODk5NzM5OTc=", "number": 983, "title": "Problem in test loader when training the model.", "user": {"login": "houzeyu2683", "id": 42731603, "node_id": "MDQ6VXNlcjQyNzMxNjAz", "avatar_url": "https://avatars.githubusercontent.com/u/42731603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/houzeyu2683", "html_url": "https://github.com/houzeyu2683", "followers_url": "https://api.github.com/users/houzeyu2683/followers", "following_url": "https://api.github.com/users/houzeyu2683/following{/other_user}", "gists_url": "https://api.github.com/users/houzeyu2683/gists{/gist_id}", "starred_url": "https://api.github.com/users/houzeyu2683/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/houzeyu2683/subscriptions", "organizations_url": "https://api.github.com/users/houzeyu2683/orgs", "repos_url": "https://api.github.com/users/houzeyu2683/repos", "events_url": "https://api.github.com/users/houzeyu2683/events{/privacy}", "received_events_url": "https://api.github.com/users/houzeyu2683/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-03-30T03:54:05Z", "updated_at": "2020-05-08T00:07:43Z", "closed_at": "2020-05-08T00:07:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\nI use the simple coco data to learn how to training the custom data.\r\nIn the train part is work and no problem.\r\nAfter the first epoch, I get the error blow.\r\n```\r\nimg = cv2.copyMakeBorder(img, top, bottom, left, right, cv2.BORDER_CONSTANT, value=color)  # add border\r\ncv2.error: OpenCV(4.2.0) C:\\projects\\opencv-python\\opencv\\modules\\core\\src\\copy.cpp:1421: error: (-215:Assertion failed) top >= 0 && bottom >= 0 && left >= 0 && right >= 0 && _src.dims() <= 2 in function 'cv::copyMakeBorder'\r\n```\r\nTake a look in the code.\r\n1. The error happen in test loader when starting iteration.\r\n![\u64f7\u53d6](https://user-images.githubusercontent.com/42731603/77873073-748a8380-727b-11ea-9853-aff1f9f9ab38.PNG)\r\n![\u64f7\u53d6](https://user-images.githubusercontent.com/42731603/77873164-be736980-727b-11ea-82bf-217663efac53.PNG)\r\n2. In the loader, I find the error happen in the `letterbox` function.\r\n```\r\ndef letterbox(img, new_shape=(416, 416), color=(128, 128, 128),\r\n              auto=True, scaleFill=False, scaleup=True, interp=cv2.INTER_AREA):\r\n    # Resize image to a 32-pixel-multiple rectangle https://github.com/ultralytics/yolov3/issues/232\r\n    shape = img.shape[:2]  # current shape [height, width]\r\n    if isinstance(new_shape, int):\r\n        new_shape = (new_shape, new_shape)\r\n\r\n    # Scale ratio (new / old)\r\n    r = max(new_shape) / max(shape)\r\n    if not scaleup:  # only scale down, do not scale up (for better test mAP)\r\n        r = min(r, 1.0)\r\n\r\n    # Compute padding\r\n    ratio = r, r  # width, height ratios\r\n    new_unpad = int(round(shape[1] * r)), int(round(shape[0] * r))\r\n    dw, dh = new_shape[1] - new_unpad[0], new_shape[0] - new_unpad[1]  # wh padding\r\n    if auto:  # minimum rectangle\r\n        dw, dh = np.mod(dw, 32), np.mod(dh, 32)  # wh padding\r\n    elif scaleFill:  # stretch\r\n        dw, dh = 0.0, 0.0\r\n        new_unpad = new_shape\r\n        ratio = new_shape[0] / shape[1], new_shape[1] / shape[0]  # width, height ratios\r\n\r\n    dw /= 2  # divide padding into 2 sides\r\n    dh /= 2\r\n\r\n    if shape[::-1] != new_unpad:  # resize\r\n        img = cv2.resize(img, new_unpad, interpolation=interp)  # INTER_AREA is better, INTER_LINEAR is faster\r\n    top, bottom = int(round(dh - 0.1)), int(round(dh + 0.1))\r\n    left, right = int(round(dw - 0.1)), int(round(dw + 0.1))\r\n    # return(img, top, bottom, left, right, cv2.BORDER_CONSTANT, color)\r\n    img = cv2.copyMakeBorder(img, top, bottom, left, right, cv2.BORDER_CONSTANT, value=color)  # add border\r\n    return img, ratio, (dw, dh)\r\n```\r\n3. The `cv2.copyMakeBorder` happen error because there are negative number in the `top, bottom, left, right`.\r\n4. The negative number happen in this line.\r\n`dw, dh = new_shape[1] - new_unpad[0], new_shape[0] - new_unpad[1]  # wh padding`\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/983/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/978", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/978/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/978/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/978/events", "html_url": "https://github.com/ultralytics/yolov3/issues/978", "id": 589756939, "node_id": "MDU6SXNzdWU1ODk3NTY5Mzk=", "number": 978, "title": "Question about mosaic", "user": {"login": "logic03", "id": 36037882, "node_id": "MDQ6VXNlcjM2MDM3ODgy", "avatar_url": "https://avatars.githubusercontent.com/u/36037882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/logic03", "html_url": "https://github.com/logic03", "followers_url": "https://api.github.com/users/logic03/followers", "following_url": "https://api.github.com/users/logic03/following{/other_user}", "gists_url": "https://api.github.com/users/logic03/gists{/gist_id}", "starred_url": "https://api.github.com/users/logic03/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/logic03/subscriptions", "organizations_url": "https://api.github.com/users/logic03/orgs", "repos_url": "https://api.github.com/users/logic03/repos", "events_url": "https://api.github.com/users/logic03/events{/privacy}", "received_events_url": "https://api.github.com/users/logic03/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-03-29T09:55:08Z", "updated_at": "2023-04-21T21:05:28Z", "closed_at": "2020-06-18T00:15:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nI want to ask about \"Mosaic\", what is the principle and advantage of this data enhancement method? Do you have any relevant articles or materials?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/978/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/978/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/977", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/977/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/977/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/977/events", "html_url": "https://github.com/ultralytics/yolov3/issues/977", "id": 589741521, "node_id": "MDU6SXNzdWU1ODk3NDE1MjE=", "number": 977, "title": "can't train", "user": {"login": "tinothy22", "id": 53636618, "node_id": "MDQ6VXNlcjUzNjM2NjE4", "avatar_url": "https://avatars.githubusercontent.com/u/53636618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tinothy22", "html_url": "https://github.com/tinothy22", "followers_url": "https://api.github.com/users/tinothy22/followers", "following_url": "https://api.github.com/users/tinothy22/following{/other_user}", "gists_url": "https://api.github.com/users/tinothy22/gists{/gist_id}", "starred_url": "https://api.github.com/users/tinothy22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tinothy22/subscriptions", "organizations_url": "https://api.github.com/users/tinothy22/orgs", "repos_url": "https://api.github.com/users/tinothy22/repos", "events_url": "https://api.github.com/users/tinothy22/events{/privacy}", "received_events_url": "https://api.github.com/users/tinothy22/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-29T08:02:33Z", "updated_at": "2023-04-21T21:05:30Z", "closed_at": "2020-03-30T10:46:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n`D:\\Anaconda3\\envs\\pytorch\\python.exe D:/zqtgit/yolov3/train.py\r\nNamespace(accumulate=2, adam=False, arc='default', batch_size=1, bucket='', cache_images=False, cfg='cfg/yolov3.cfg', data='data/template.data', device='', epochs=50, evolve=False, img_size=416, img_weights=False, multi_scale=False, name='', nosave=False, notest=False, prebias=False, rect=False, resume=False, transfer=False, var=None, weights='weights/yolov3.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1660 Ti with Max-Q Design', total_memory=6144MB)\r\n\r\nReading labels (6367 found, 0 missing, 0 empty for 6367 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 6367/6367 [00:00<00:00, 8817.73it/s]\r\nModel Summary: 222 layers, 6.15291e+07 parameters, 6.15291e+07 gradients\r\nStarting training for 50 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n  0%|          | 0/6367 [00:00<?, ?it/s]\r\nProcess finished with exit code -1073741819 (0xC0000005)`\r\n\r\nSince my system cuda is 10.0 and torch version is 1.2, so I downloaded the version on November 24th. During the training process, an error is reported. Is it due to environmental problems?\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/977/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/977/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/976", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/976/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/976/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/976/events", "html_url": "https://github.com/ultralytics/yolov3/issues/976", "id": 589661479, "node_id": "MDU6SXNzdWU1ODk2NjE0Nzk=", "number": 976, "title": "RuntimeError: expected device cuda:0 and dtype Float but got device cuda:0 and dtype Bool", "user": {"login": "Blddwkb", "id": 49481119, "node_id": "MDQ6VXNlcjQ5NDgxMTE5", "avatar_url": "https://avatars.githubusercontent.com/u/49481119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Blddwkb", "html_url": "https://github.com/Blddwkb", "followers_url": "https://api.github.com/users/Blddwkb/followers", "following_url": "https://api.github.com/users/Blddwkb/following{/other_user}", "gists_url": "https://api.github.com/users/Blddwkb/gists{/gist_id}", "starred_url": "https://api.github.com/users/Blddwkb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Blddwkb/subscriptions", "organizations_url": "https://api.github.com/users/Blddwkb/orgs", "repos_url": "https://api.github.com/users/Blddwkb/repos", "events_url": "https://api.github.com/users/Blddwkb/events{/privacy}", "received_events_url": "https://api.github.com/users/Blddwkb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-28T21:17:04Z", "updated_at": "2020-05-17T00:09:21Z", "closed_at": "2020-05-17T00:09:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "File \"train.py\", line 432, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 321, in train\r\n    dataloader=testloader)\r\n  File \"D:\\Pytorch-yolov3-master\\test.py\", line 117, in test\r\n    output = non_max_suppression(inf_out, conf_thres=conf_thres, iou_thres=iou_thres)  # nms\r\n  File \"D:\\Pytorch-yolov3-master\\utils\\utils.py\", line 559, in non_max_suppression\r\n    weights = (iou > iou_thres) * scores.view(-1, 1)\r\nRuntimeError: expected device cuda:0 and dtype Float but got device cuda:0 and dtype Bool\r\n\r\nI'm using torchvision=0.4.0 torch=1.1.0 pytorch=1.2.0  and cudatoolkit=10.0 on WIN10.It appeared at the end of the first epoch.\r\nI would appreciate it if you could answer me!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/976/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/971", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/971/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/971/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/971/events", "html_url": "https://github.com/ultralytics/yolov3/issues/971", "id": 589310849, "node_id": "MDU6SXNzdWU1ODkzMTA4NDk=", "number": 971, "title": "missing 1 required positional argument: 'axis' ", "user": {"login": "Blddwkb", "id": 49481119, "node_id": "MDQ6VXNlcjQ5NDgxMTE5", "avatar_url": "https://avatars.githubusercontent.com/u/49481119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Blddwkb", "html_url": "https://github.com/Blddwkb", "followers_url": "https://api.github.com/users/Blddwkb/followers", "following_url": "https://api.github.com/users/Blddwkb/following{/other_user}", "gists_url": "https://api.github.com/users/Blddwkb/gists{/gist_id}", "starred_url": "https://api.github.com/users/Blddwkb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Blddwkb/subscriptions", "organizations_url": "https://api.github.com/users/Blddwkb/orgs", "repos_url": "https://api.github.com/users/Blddwkb/repos", "events_url": "https://api.github.com/users/Blddwkb/events{/privacy}", "received_events_url": "https://api.github.com/users/Blddwkb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-03-27T18:03:25Z", "updated_at": "2023-04-21T21:05:35Z", "closed_at": "2020-03-29T15:58:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"train.py\", line 433, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 321, in train\r\n    dataloader=testloader)\r\n  File \"D:\\Pytorch-yolov3-master\\test.py\", line 184, in test\r\n    p, r, ap, f1, ap_class = ap_per_class(*stats)\r\n  File \"D:\\Pytorch-yolov3-master\\utils\\utils.py\", line 212, in ap_per_class\r\n    ap[ci, j] = compute_ap(recall[:, j], precision[:, j])\r\n  File \"D:\\Pytorch-yolov3-master\\utils\\utils.py\", line 245, in compute_ap\r\n    mpre = np.flip(np.maximum.accumulate(np.flip(mpre)))\r\nTypeError: flip() missing 1 required positional argument: 'axis'", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/971/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/971/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/969", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/969/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/969/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/969/events", "html_url": "https://github.com/ultralytics/yolov3/issues/969", "id": 588655433, "node_id": "MDU6SXNzdWU1ODg2NTU0MzM=", "number": 969, "title": "Darknet-PyTorch reproducibility problems for custom dataset (incompatibility in mAP calculation)", "user": {"login": "pedbrgs", "id": 30960165, "node_id": "MDQ6VXNlcjMwOTYwMTY1", "avatar_url": "https://avatars.githubusercontent.com/u/30960165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pedbrgs", "html_url": "https://github.com/pedbrgs", "followers_url": "https://api.github.com/users/pedbrgs/followers", "following_url": "https://api.github.com/users/pedbrgs/following{/other_user}", "gists_url": "https://api.github.com/users/pedbrgs/gists{/gist_id}", "starred_url": "https://api.github.com/users/pedbrgs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pedbrgs/subscriptions", "organizations_url": "https://api.github.com/users/pedbrgs/orgs", "repos_url": "https://api.github.com/users/pedbrgs/repos", "events_url": "https://api.github.com/users/pedbrgs/events{/privacy}", "received_events_url": "https://api.github.com/users/pedbrgs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-03-26T18:59:46Z", "updated_at": "2023-04-21T21:05:37Z", "closed_at": "2020-03-28T02:59:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, guys! Hi, Glenn! Firstly, I would like to congratulate you for the incredible work of keeping the repository improving constantly.\r\n\r\n### Problem 1: Reproduce Darknet performance training in Pytorch\r\n\r\nWell, I'm using [AlexeyAB's Darknet repository](https://github.com/AlexeyAB/darknet) in parallel with that repository. I'm using the same hyperparameters and configuration files (`.cfg`, `.data`, `train.txt`, `valid.txt`) in both versions, but I can't reproduce the Darknet results in PyTorch Ultralytics with my own dataset (two classes). Yes, I followed the tutorial for custom data, my repository is up to date and I also tried the `evolve.sh` routine. \r\n\r\nHowever, when I'm training with a initial `lr` 0.001, `SGD`, `momentum` 0.9, `weight_decay` 0.0005, `burn-in` 1000 (darknet default) and `darknet53.conv.74` weights, the mAP stays at 0% for some epochs and grows extremely slowly and oscillating. In addition, Darknet training lasts about 24 hours (8000 iterations) and here in this repository it lasts more than twice and still does not have the same performance. My dataset has about 24,000 images.\r\n\r\n### Problem 2: mAP@0.50 evaluation on Darknet differs from mAP@0.50 on PyTorch for the same weight\r\n\r\nThe main problem I encounter is related to the calculation of the mAP metric, in which there is no correspondence between the two repositories. When I convert a Darknet weight (`.weights`) whose mAP@0.50 (101 points) is **63.39%** for PyTorch (`.pth`) and I evaluate it, I get **46.8%**. The precision and recall also remain different, just the F1-score that seems right to me. \r\n\r\n<p align=\"center\">\r\n<img width=\"358\" height=\"188\" src=\"https://user-images.githubusercontent.com/30960165/77680773-2de31380-6f73-11ea-99ab-a4a67f776081.png\">\r\n</p>\r\n\r\nI know that for custom data the best way is to calculate mAP@0.5 with 0 points, but I tried to use the same amount of points used in this repository for comparison.\r\n\r\n> PascalVOC 2010-2012 and IMAGEnet uses each unique point on Precision-Recall curve -. Ie calculates Area Under Curve without approximation. \r\n[Source: mAP (mean average precision) calculation for different Datasets (MSCOCO, ImageNet, PascalVOC) #2746](https://github.com/AlexeyAB/darknet/issues/2746)\r\n\r\nI thought the problem was the conversion, but when I convert Darknet to PyTorch and then PyTorch to Darknet, I remain with the same mAP, without depreciation.\r\n\r\n**Conversion:**\r\n\r\n`from models import *`\r\n`convert('cfg/yolo.cfg', 'weights/best.pt')`\r\n\r\nI tried to vary the values \u200b\u200bof all existing thresholds: `conf_thres`, `iou_thres` and `pr_score`, according to the curves below. But I was not successful in finding values \u200b\u200bthat would make me achieve the same performance as Darknet.\r\n\r\n**`pr_score` analysis:**\r\n\r\n<p align=\"center\">\r\n<img width=\"400\" height=\"400\" src=\"https://user-images.githubusercontent.com/30960165/77681564-44d63580-6f74-11ea-90d1-daa239b358ff.jpg\">\r\n</p>\r\n\r\n**`conf_thres` analysis:**\r\n\r\n<p align=\"center\">\r\n<img width=\"380\" height=\"380\" src=\"https://user-images.githubusercontent.com/30960165/77683627-6edd2700-6f77-11ea-9855-78aee2e8f281.jpg\">\r\n</p>\r\n\r\n**`iou_thres` analysis:**\r\n\r\n<p align=\"center\">\r\n<img width=\"400\" height=\"400\" src=\"https://user-images.githubusercontent.com/30960165/77685381-26733880-6f7a-11ea-99c4-f4d2dffceaa7.jpg\">\r\n</p>\r\n\r\n**Can someone help me get at least the match between the mAP calculations from both repositories?**\r\n\r\nI'm sorry if it seems like I don't know YOLO's theory very well, I'm learning it now.\r\nThank you **very much** for any help that comes!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/969/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/969/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/968", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/968/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/968/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/968/events", "html_url": "https://github.com/ultralytics/yolov3/issues/968", "id": 588393412, "node_id": "MDU6SXNzdWU1ODgzOTM0MTI=", "number": 968, "title": "How to extract all class probabilities for each bounding box?", "user": {"login": "sssmost", "id": 47088192, "node_id": "MDQ6VXNlcjQ3MDg4MTky", "avatar_url": "https://avatars.githubusercontent.com/u/47088192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sssmost", "html_url": "https://github.com/sssmost", "followers_url": "https://api.github.com/users/sssmost/followers", "following_url": "https://api.github.com/users/sssmost/following{/other_user}", "gists_url": "https://api.github.com/users/sssmost/gists{/gist_id}", "starred_url": "https://api.github.com/users/sssmost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sssmost/subscriptions", "organizations_url": "https://api.github.com/users/sssmost/orgs", "repos_url": "https://api.github.com/users/sssmost/repos", "events_url": "https://api.github.com/users/sssmost/events{/privacy}", "received_events_url": "https://api.github.com/users/sssmost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-03-26T12:44:06Z", "updated_at": "2023-04-21T21:05:38Z", "closed_at": "2020-04-28T10:07:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI am trying to extract all class probabilities for each bb returned by YOLOv3 using detect.py. However, they are loss and it is only extracted one class per bb. How I could do it? They are loss in non_max_suppression process?\r\n\r\nThanks in advance\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/968/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/968/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/967", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/967/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/967/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/967/events", "html_url": "https://github.com/ultralytics/yolov3/issues/967", "id": 588297805, "node_id": "MDU6SXNzdWU1ODgyOTc4MDU=", "number": 967, "title": "Setting the random initial weight can not work.", "user": {"login": "houzeyu2683", "id": 42731603, "node_id": "MDQ6VXNlcjQyNzMxNjAz", "avatar_url": "https://avatars.githubusercontent.com/u/42731603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/houzeyu2683", "html_url": "https://github.com/houzeyu2683", "followers_url": "https://api.github.com/users/houzeyu2683/followers", "following_url": "https://api.github.com/users/houzeyu2683/following{/other_user}", "gists_url": "https://api.github.com/users/houzeyu2683/gists{/gist_id}", "starred_url": "https://api.github.com/users/houzeyu2683/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/houzeyu2683/subscriptions", "organizations_url": "https://api.github.com/users/houzeyu2683/orgs", "repos_url": "https://api.github.com/users/houzeyu2683/repos", "events_url": "https://api.github.com/users/houzeyu2683/events{/privacy}", "received_events_url": "https://api.github.com/users/houzeyu2683/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-26T10:04:33Z", "updated_at": "2023-04-21T21:05:39Z", "closed_at": "2020-05-10T00:08:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nSetting the random initial weight can not work.\r\nIn the tutorial, set the `--weights ''` means do not load the pre-train weights.\r\nI get the error which show blow when I run `python train.py`.\r\n\r\n![\u64f7\u53d6](https://user-images.githubusercontent.com/42731603/77634532-149a9100-6f8c-11ea-85c6-017894f4f044.PNG)\r\n\r\nHow to fix it, I wanna use the random initial weights.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/967/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/967/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/964", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/964/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/964/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/964/events", "html_url": "https://github.com/ultralytics/yolov3/issues/964", "id": 588153180, "node_id": "MDU6SXNzdWU1ODgxNTMxODA=", "number": 964, "title": "Confusing error handling", "user": {"login": "cartovarc", "id": 26529546, "node_id": "MDQ6VXNlcjI2NTI5NTQ2", "avatar_url": "https://avatars.githubusercontent.com/u/26529546?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cartovarc", "html_url": "https://github.com/cartovarc", "followers_url": "https://api.github.com/users/cartovarc/followers", "following_url": "https://api.github.com/users/cartovarc/following{/other_user}", "gists_url": "https://api.github.com/users/cartovarc/gists{/gist_id}", "starred_url": "https://api.github.com/users/cartovarc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cartovarc/subscriptions", "organizations_url": "https://api.github.com/users/cartovarc/orgs", "repos_url": "https://api.github.com/users/cartovarc/repos", "events_url": "https://api.github.com/users/cartovarc/events{/privacy}", "received_events_url": "https://api.github.com/users/cartovarc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-26T04:49:54Z", "updated_at": "2023-04-21T21:05:41Z", "closed_at": "2020-04-23T16:09:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nI was get this error today:\r\nValueError: could not convert string to float: 'data/slimyolov3/images/val/0000291_00001_d_0000868.jpg'\r\n\r\n## To Reproduce\r\n\r\nthis is my .data file:\r\nclasses=10\r\ntrain=data/slimyolov3/train.list\r\nvalid=data/slimyolov3/val.list\r\nlabels=data/slimyolov3/labels.txt\r\nnames=data/slimyolov3/labels.txt\r\nbackup=backup\r\neval=coco\r\n\r\nI see that in datasets.py, if my val is in another extension than '.txt\", it will think .shapes file exists. \r\n\r\ncurrent path: \"data/slimyolov3/val.list\"\r\n`\r\nsp = path.replace('.txt', '.shapes')  # shapefile path\r\n`\r\nsp after replace: \"data/slimyolov3/val.list\"\r\n\r\nSo, when file is readed, _s_ will have something like that:\r\n\r\n[['data/slimyolov3/images/val/0000291_00001_d_0000868.jpg'], ['data/slimyolov3/images/val/0000330_01801_d_0000809.jpg'] .... ]\r\n\r\nso when this line is executed:\r\n` s = np.array(s, dtype=np.float64)\r\n`\r\nwill raise ValueError: could not convert string to float\r\n\r\n## Expected behavior\r\nI think it is a little confusing, because it is due to wrong file extension in 'valid'. I think should handle the error better. \r\n\r\nWhen I change to .txt, it works.\r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/964/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/964/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/962", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/962/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/962/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/962/events", "html_url": "https://github.com/ultralytics/yolov3/issues/962", "id": 588101114, "node_id": "MDU6SXNzdWU1ODgxMDExMTQ=", "number": 962, "title": "ONNX export with different batch size", "user": {"login": "fryant24", "id": 42134357, "node_id": "MDQ6VXNlcjQyMTM0MzU3", "avatar_url": "https://avatars.githubusercontent.com/u/42134357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fryant24", "html_url": "https://github.com/fryant24", "followers_url": "https://api.github.com/users/fryant24/followers", "following_url": "https://api.github.com/users/fryant24/following{/other_user}", "gists_url": "https://api.github.com/users/fryant24/gists{/gist_id}", "starred_url": "https://api.github.com/users/fryant24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fryant24/subscriptions", "organizations_url": "https://api.github.com/users/fryant24/orgs", "repos_url": "https://api.github.com/users/fryant24/repos", "events_url": "https://api.github.com/users/fryant24/events{/privacy}", "received_events_url": "https://api.github.com/users/fryant24/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-26T02:04:19Z", "updated_at": "2023-04-21T21:05:43Z", "closed_at": "2020-05-19T00:09:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to convert my trained model to onnx format and I set ONNX_EXPORT=True. But I found that in models.py the batch size is set to 1 with ONNX_EXPORT=True. And I try change it to 8 but got errors like \"RuntimeError: shape '[8, 3, 85, 13, 13]' is invalid for input of size 43095\". Could anybody help me with that? Thanks a lot\r\n![image](https://user-images.githubusercontent.com/42134357/77603595-6e2e9b80-6f4b-11ea-9fde-7c63b1310233.png)\r\n\r\n![image](https://user-images.githubusercontent.com/42134357/77603450-198b2080-6f4b-11ea-9fe2-48d4cc8fc813.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/962/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/962/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/954", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/954/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/954/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/954/events", "html_url": "https://github.com/ultralytics/yolov3/issues/954", "id": 585741633, "node_id": "MDU6SXNzdWU1ODU3NDE2MzM=", "number": 954, "title": "Can't train from scratch!", "user": {"login": "msadoun", "id": 62026444, "node_id": "MDQ6VXNlcjYyMDI2NDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/62026444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msadoun", "html_url": "https://github.com/msadoun", "followers_url": "https://api.github.com/users/msadoun/followers", "following_url": "https://api.github.com/users/msadoun/following{/other_user}", "gists_url": "https://api.github.com/users/msadoun/gists{/gist_id}", "starred_url": "https://api.github.com/users/msadoun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msadoun/subscriptions", "organizations_url": "https://api.github.com/users/msadoun/orgs", "repos_url": "https://api.github.com/users/msadoun/repos", "events_url": "https://api.github.com/users/msadoun/events{/privacy}", "received_events_url": "https://api.github.com/users/msadoun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-22T15:17:12Z", "updated_at": "2023-04-21T21:05:50Z", "closed_at": "2020-03-23T00:24:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "whenever I use this command:\r\ntrain.py --weights '' --cfg yolov3-spp.cfg --epochs 273 --batch 16 --accum 4 --multi\r\n\r\nit gives me this response\r\n\r\nNamespace(accumulate=4, adam=False, batch_size=16, bucket='', cache_images=False, cfg='yolov3-spp.cfg', data='data/coco2017.data', device='', epochs=273, evolve=False, img_size=[416], multi_scale=True, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, var=None, weights=\"''\")\r\nUsing CPU\r\n\r\n2020-03-22 09:11:59.021987: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'cudart64_100.dll'; dlerror: cudart64_100.dll not found\r\n2020-03-22 09:11:59.025916: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.\r\nUsing multi-scale 288 - 640\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients\r\nDownloading https://pjreddie.com/media/files/''\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r\ncurl: (22) The requested URL returned error: 404 Not Found\r\n'rm' is not recognized as an internal or external command,\r\noperable program or batch file.\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 433, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 104, in train\r\n    attempt_download(weights)\r\n  File \"C:\\Users\\msadoun\\Desktop\\YOLOv3---2\\models.py\", line 487, in attempt_download\r\n    raise Exception(msg)\r\nException: '' missing, try downloading from https://drive.google.com/open?id=1LezFG5g3BCW6iYaV89B2i64cqEUZD7e0\r\n\r\nI wanna train the network from scratch but it keeps asking about YOLO weights", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/954/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/953", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/953/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/953/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/953/events", "html_url": "https://github.com/ultralytics/yolov3/issues/953", "id": 585648514, "node_id": "MDU6SXNzdWU1ODU2NDg1MTQ=", "number": 953, "title": "IndexError: list index out of range// when running detect.py", "user": {"login": "msadoun", "id": 62026444, "node_id": "MDQ6VXNlcjYyMDI2NDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/62026444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msadoun", "html_url": "https://github.com/msadoun", "followers_url": "https://api.github.com/users/msadoun/followers", "following_url": "https://api.github.com/users/msadoun/following{/other_user}", "gists_url": "https://api.github.com/users/msadoun/gists{/gist_id}", "starred_url": "https://api.github.com/users/msadoun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msadoun/subscriptions", "organizations_url": "https://api.github.com/users/msadoun/orgs", "repos_url": "https://api.github.com/users/msadoun/repos", "events_url": "https://api.github.com/users/msadoun/events{/privacy}", "received_events_url": "https://api.github.com/users/msadoun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-22T05:21:59Z", "updated_at": "2020-03-24T17:57:04Z", "closed_at": "2020-03-22T15:15:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "C:\\Users\\msadoun\\Desktop\\YOLOv3---2>**python detect.py --weights weights/last.pt**\r\nNamespace(agnostic_nms=False, cfg='cfg/yolov3-spp.cfg', classes=None, conf_thres=0.3, device='', fourcc='mp4v', half=False, img_size=416, iou_thres=0.6, names='data/coco.names', output='output', save_txt=False, source='data/samples', view_img=False, weights='weights/last.pt')\r\nUsing CPU\r\n\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients\r\nimage 1/1 data\\samples\\BDA_unknown_20181106_2_00464.JPG: Traceback (most recent call last):\r\n  File \"detect.py\", line 179, in <module>\r\n    detect()\r\n  File \"detect.py\", line 113, in detect\r\n    s += '%g %ss, ' % (n, names[int(c)])  # add to string\r\nIndexError: list index out of range\r\n\r\nwhat causes this error ?\r\n\r\nThis happens whenever I detect an image that is not in the dataset", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/953/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/953/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/949", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/949/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/949/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/949/events", "html_url": "https://github.com/ultralytics/yolov3/issues/949", "id": 585408041, "node_id": "MDU6SXNzdWU1ODU0MDgwNDE=", "number": 949, "title": "export onnx with Segmentation fault", "user": {"login": "zhangyilalala", "id": 24427914, "node_id": "MDQ6VXNlcjI0NDI3OTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24427914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangyilalala", "html_url": "https://github.com/zhangyilalala", "followers_url": "https://api.github.com/users/zhangyilalala/followers", "following_url": "https://api.github.com/users/zhangyilalala/following{/other_user}", "gists_url": "https://api.github.com/users/zhangyilalala/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangyilalala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangyilalala/subscriptions", "organizations_url": "https://api.github.com/users/zhangyilalala/orgs", "repos_url": "https://api.github.com/users/zhangyilalala/repos", "events_url": "https://api.github.com/users/zhangyilalala/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangyilalala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-21T01:56:22Z", "updated_at": "2020-03-21T19:34:11Z", "closed_at": "2020-03-21T02:17:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I export onnx,it always come out with Segmentation fault even if I change the feature fusing to concat, there still exist Segmentation fault,could anyone help?\r\n\r\n## \ud83d\udc1b Bug\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients\r\nFusing layers...\r\nModel Summary: 152 layers, 6.29719e+07 parameters, 6.29719e+07 gradients\r\n/home/zhangyi19930620/detect/yolov3-master-new/models.py:137: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  if dc > 0:  # slice input\r\n/home/zhangyi19930620/detect/yolov3-master-new/models.py:139: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  elif dc < 0:  # slice feature\r\nSegmentation fault (core dumped)\r\n\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. change ONNX_EXPORT = True in model.py\r\n2. run detect.py \r\n\r\n\r\n## Environment\r\npytorch 1.4\r\nTITAN V / 2080ti both tried \r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/949/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/949/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/948", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/948/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/948/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/948/events", "html_url": "https://github.com/ultralytics/yolov3/issues/948", "id": 585299601, "node_id": "MDU6SXNzdWU1ODUyOTk2MDE=", "number": 948, "title": "RuntimeError", "user": {"login": "msadoun", "id": 62026444, "node_id": "MDQ6VXNlcjYyMDI2NDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/62026444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msadoun", "html_url": "https://github.com/msadoun", "followers_url": "https://api.github.com/users/msadoun/followers", "following_url": "https://api.github.com/users/msadoun/following{/other_user}", "gists_url": "https://api.github.com/users/msadoun/gists{/gist_id}", "starred_url": "https://api.github.com/users/msadoun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msadoun/subscriptions", "organizations_url": "https://api.github.com/users/msadoun/orgs", "repos_url": "https://api.github.com/users/msadoun/repos", "events_url": "https://api.github.com/users/msadoun/events{/privacy}", "received_events_url": "https://api.github.com/users/msadoun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-03-20T20:04:27Z", "updated_at": "2023-04-21T21:05:55Z", "closed_at": "2020-05-03T00:07:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ran train.py and it shows:\r\n[python train.py --data data/coco.data --cfg cfg/yolov3.cfg]\r\n--------------------------------------------------------------------------\r\n`C:\\Users\\msadoun\\Desktop\\YOLOv3---2>python train.py --data data/coco.data --cfg cfg/yolov3-spp.cfg\r\nNamespace(accumulate=4, adam=False, batch_size=16, bucket='', cache_images=False, cfg='cfg/yolov3-spp.cfg', data='data/coco.data', device='', epochs=300, evolve=False, img_size=[416], multi_scale=False, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, var=None, weights='weights/yolov3-spp-ultralytics.pt')\r\nUsing CPU\r\n\r\n2020-03-20 13:58:52.696971: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'cudart64_100.dll'; dlerror: cudart64_100.dll not found\r\n2020-03-20 13:58:52.700320: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.\r\nModel Summary: 225 layers, 6.27927e+07 parameters, 6.27927e+07 gradients\r\nCaching labels (13 found, 0 missing, 0 empty, 0 duplicate, for 13 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 13/13 [00:00<00:00, 224.26it/s]\r\nCaching labels (13 found, 0 missing, 0 empty, 0 duplicate, for 13 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 13/13 [00:00<00:00, 220.46it/s]\r\nUsing 0 dataloader workers\r\nStarting training for 300 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n     0/299        0G      7.26       107      15.7       130  9.42e+03       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 13/13 [01:13<00:00,  5.67s/it]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1:   0%|                                                                                                                               | 0/7 [00:09<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 433, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 321, in train\r\n    dataloader=testloader)\r\n  File \"C:\\Users\\msadoun\\Desktop\\YOLOv3---2\\test.py\", line 99, in test\r\n    inf_out, train_out = model(imgs)  # inference and training outputs\r\n  File \"C:\\Users\\msadoun\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\torch\\nn\\modules\\module.py\", line 532, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"C:\\Users\\msadoun\\Desktop\\YOLOv3---2\\models.py\", line 310, in forward\r\n    return torch.cat(io, 1), p\r\nRuntimeError: invalid argument 0: Sizes of tensors must match except in dimension 1. Got 18 and 85 in dimension 2 at C:\\w\\1\\s\\windows\\pytorch\\aten\\src\\TH/generic/THTensor.cpp:612`\r\n\r\nthe input size is 5472x3648 (all images have the same size)\r\n\r\nis there a solution for this problem?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/948/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/948/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/946", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/946/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/946/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/946/events", "html_url": "https://github.com/ultralytics/yolov3/issues/946", "id": 585073386, "node_id": "MDU6SXNzdWU1ODUwNzMzODY=", "number": 946, "title": "Cannot visualize model structure in TensorBoard", "user": {"login": "limingcv", "id": 48321730, "node_id": "MDQ6VXNlcjQ4MzIxNzMw", "avatar_url": "https://avatars.githubusercontent.com/u/48321730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/limingcv", "html_url": "https://github.com/limingcv", "followers_url": "https://api.github.com/users/limingcv/followers", "following_url": "https://api.github.com/users/limingcv/following{/other_user}", "gists_url": "https://api.github.com/users/limingcv/gists{/gist_id}", "starred_url": "https://api.github.com/users/limingcv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/limingcv/subscriptions", "organizations_url": "https://api.github.com/users/limingcv/orgs", "repos_url": "https://api.github.com/users/limingcv/repos", "events_url": "https://api.github.com/users/limingcv/events{/privacy}", "received_events_url": "https://api.github.com/users/limingcv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-03-20T13:34:01Z", "updated_at": "2022-03-18T14:08:24Z", "closed_at": "2020-05-07T00:07:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to look the network structure in TensorBoard, so I run following code:\r\n```\r\nimport torch\r\nfrom torch.utils.tensorboard import SummaryWriter\r\nfrom models import *\r\n\r\nnet = Darknet(\"cfg/yolov3.cfg\")\r\nx = torch.randn(1, 3, 224, 224)\r\n\r\nwith SummaryWriter(comment='yolo v3') as w:\r\n    w.add_graph(net, x)\r\n```\r\nbut got a very strange error: \r\n`TracerWarning: Converting a tensor to a Python float might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!`\r\n\r\nwhat should I do ? can you give me some suggestion?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/946/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/945", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/945/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/945/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/945/events", "html_url": "https://github.com/ultralytics/yolov3/issues/945", "id": 584897611, "node_id": "MDU6SXNzdWU1ODQ4OTc2MTE=", "number": 945, "title": "Use yolov3-spp-ultralytics.pt for c# yolo (Alturos.Yolo)", "user": {"login": "Jungmo", "id": 15346785, "node_id": "MDQ6VXNlcjE1MzQ2Nzg1", "avatar_url": "https://avatars.githubusercontent.com/u/15346785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jungmo", "html_url": "https://github.com/Jungmo", "followers_url": "https://api.github.com/users/Jungmo/followers", "following_url": "https://api.github.com/users/Jungmo/following{/other_user}", "gists_url": "https://api.github.com/users/Jungmo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jungmo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jungmo/subscriptions", "organizations_url": "https://api.github.com/users/Jungmo/orgs", "repos_url": "https://api.github.com/users/Jungmo/repos", "events_url": "https://api.github.com/users/Jungmo/events{/privacy}", "received_events_url": "https://api.github.com/users/Jungmo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-20T07:50:22Z", "updated_at": "2023-04-21T21:05:57Z", "closed_at": "2020-03-28T06:22:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nI don't think this is a bug because I am sure that your nice model will work properly on Python environment, but I think there is no reason that the yolov3-spp-ultralytics.pt cannot work properly on C# project using Alturos.Yolo. I'd like to know your idea or intuition for my next action.\r\n\r\nWhen I use cfg/yolov3-spp.cfg and yolov3-spp.weights downloaded in AlexeyAB's YOLO repository, my c# program can output the results of object detection properly.\r\nHowever, when I use cfg/yolo3-spp.cfg and yolov3-spp-ultralytics.pt for my c# project using Alturos.Yolo, the model always outputs \"no object\" in the video though the model can be loaded.\r\n\r\n## To Reproduce\r\n1. open vs 2019, make c# package, install Alturos.Yolo from Nuget package manager \r\n2. load yolov3-spp.weight with cfg/yolov3-spp.cfg and see result (working good)\r\n3. load yolov3-spp-ultralytics.pt with cfg/yolov3-spp.cfg and see result (working bad)\r\n\r\n## Expected behavior\r\n3. load yolov3-spp-ultralytics.pt with cfg/yolov3-spp.cfg and see result (working **bad**)\r\n->\r\n3. load yolov3-spp-ultralytics.pt with cfg/yolov3-spp.cfg and see result (working **good**)\r\n\r\n## Environment\r\nWindows 10, vs 2019, Alturos.Yolo\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Windows 10\r\n\r\n## Additional context\r\n-", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/945/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/939", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/939/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/939/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/939/events", "html_url": "https://github.com/ultralytics/yolov3/issues/939", "id": 583606511, "node_id": "MDU6SXNzdWU1ODM2MDY1MTE=", "number": 939, "title": "Concussion during training", "user": {"login": "Alex866850", "id": 50036229, "node_id": "MDQ6VXNlcjUwMDM2MjI5", "avatar_url": "https://avatars.githubusercontent.com/u/50036229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Alex866850", "html_url": "https://github.com/Alex866850", "followers_url": "https://api.github.com/users/Alex866850/followers", "following_url": "https://api.github.com/users/Alex866850/following{/other_user}", "gists_url": "https://api.github.com/users/Alex866850/gists{/gist_id}", "starred_url": "https://api.github.com/users/Alex866850/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Alex866850/subscriptions", "organizations_url": "https://api.github.com/users/Alex866850/orgs", "repos_url": "https://api.github.com/users/Alex866850/repos", "events_url": "https://api.github.com/users/Alex866850/events{/privacy}", "received_events_url": "https://api.github.com/users/Alex866850/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-18T09:55:42Z", "updated_at": "2023-04-21T21:06:01Z", "closed_at": "2020-04-24T00:07:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/939/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/939/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/937", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/937/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/937/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/937/events", "html_url": "https://github.com/ultralytics/yolov3/issues/937", "id": 582928704, "node_id": "MDU6SXNzdWU1ODI5Mjg3MDQ=", "number": 937, "title": "run the pretrain model get lowest precision but high recall", "user": {"login": "PointCloudNiphon", "id": 37015371, "node_id": "MDQ6VXNlcjM3MDE1Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/37015371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PointCloudNiphon", "html_url": "https://github.com/PointCloudNiphon", "followers_url": "https://api.github.com/users/PointCloudNiphon/followers", "following_url": "https://api.github.com/users/PointCloudNiphon/following{/other_user}", "gists_url": "https://api.github.com/users/PointCloudNiphon/gists{/gist_id}", "starred_url": "https://api.github.com/users/PointCloudNiphon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PointCloudNiphon/subscriptions", "organizations_url": "https://api.github.com/users/PointCloudNiphon/orgs", "repos_url": "https://api.github.com/users/PointCloudNiphon/repos", "events_url": "https://api.github.com/users/PointCloudNiphon/events{/privacy}", "received_events_url": "https://api.github.com/users/PointCloudNiphon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-17T10:59:13Z", "updated_at": "2020-04-23T00:07:11Z", "closed_at": "2020-04-23T00:07:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\nwhen I run your pretrain model download from your Google Cloud Drive...for testing the 5k data from coco, I get the too low precision... I don't know what happen,,,\r\n`\r\nNamespace(batch_size=32, cfg='cfg/yolov3-spp.cfg', conf_thres=0.001, data='data/coco2014.data', device='0', img_size=416, iou_thres=0.6, profile=False, save_json=True, single_cls=False, task='test', weights='weights/yolov3-spp-ultralytics.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=10989MB)\r\n\r\nCaching labels (4954 found, 46 missing, 0 empty, 0 duplicate, for 5000 images): \r\n               Class    Images   Targets         P         R   mAP@0.5        F1\r\n                 all     5e+03  3.55e+04    0.0499     0.841      0.59    0.0932\r\n              person     5e+03  1.07e+04    0.0786     0.889     0.756     0.144\r\n             bicycle     5e+03       316    0.0378     0.801     0.519    0.0722\r\n                 car     5e+03  1.66e+03    0.0481     0.831     0.618    0.0909\r\n          motorcycle     5e+03       390    0.0573     0.887      0.68     0.108\r\n            airplane     5e+03       131    0.0557     0.954     0.869     0.105`\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. \r\n2. \r\n3. \r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/937/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/933", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/933/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/933/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/933/events", "html_url": "https://github.com/ultralytics/yolov3/issues/933", "id": 582350848, "node_id": "MDU6SXNzdWU1ODIzNTA4NDg=", "number": 933, "title": "KeyError: \"param 'initial_lr' is not specified in param_groups[0] when resuming an optimizer\"", "user": {"login": "limingcv", "id": 48321730, "node_id": "MDQ6VXNlcjQ4MzIxNzMw", "avatar_url": "https://avatars.githubusercontent.com/u/48321730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/limingcv", "html_url": "https://github.com/limingcv", "followers_url": "https://api.github.com/users/limingcv/followers", "following_url": "https://api.github.com/users/limingcv/following{/other_user}", "gists_url": "https://api.github.com/users/limingcv/gists{/gist_id}", "starred_url": "https://api.github.com/users/limingcv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/limingcv/subscriptions", "organizations_url": "https://api.github.com/users/limingcv/orgs", "repos_url": "https://api.github.com/users/limingcv/repos", "events_url": "https://api.github.com/users/limingcv/events{/privacy}", "received_events_url": "https://api.github.com/users/limingcv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-03-16T14:40:13Z", "updated_at": "2023-04-21T21:06:06Z", "closed_at": "2020-03-17T08:22:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thank you very much for your contribution so that we can use this amazing repo, but I had some problems while training my own dataset, and the results didn't look very good. All parameter settings are default. Could you give me some advice for better results? Thanks a lot again O(\u2229_\u2229)O\r\n\r\nThere are results:\r\n![results](https://user-images.githubusercontent.com/48321730/76768690-554d1a00-67d6-11ea-8f88-7fbfb9ee8fbc.png)\r\n![results](https://user-images.githubusercontent.com/48321730/76768719-6138dc00-67d6-11ea-9a63-b17afc36e3b3.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/933/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/933/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/932", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/932/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/932/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/932/events", "html_url": "https://github.com/ultralytics/yolov3/issues/932", "id": 582214151, "node_id": "MDU6SXNzdWU1ODIyMTQxNTE=", "number": 932, "title": "A problem caused by numpy version", "user": {"login": "Lornatang", "id": 31124350, "node_id": "MDQ6VXNlcjMxMTI0MzUw", "avatar_url": "https://avatars.githubusercontent.com/u/31124350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lornatang", "html_url": "https://github.com/Lornatang", "followers_url": "https://api.github.com/users/Lornatang/followers", "following_url": "https://api.github.com/users/Lornatang/following{/other_user}", "gists_url": "https://api.github.com/users/Lornatang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lornatang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lornatang/subscriptions", "organizations_url": "https://api.github.com/users/Lornatang/orgs", "repos_url": "https://api.github.com/users/Lornatang/repos", "events_url": "https://api.github.com/users/Lornatang/events{/privacy}", "received_events_url": "https://api.github.com/users/Lornatang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-16T11:25:00Z", "updated_at": "2020-04-24T00:07:35Z", "closed_at": "2020-04-24T00:07:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nTypeError: object of type <class 'numpy.float64'> cannot be safely interpreted as an integer.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1.When I run `python3 test.py --cfg yolov3-spp.cfg --weights yolov3-spp-ultralytics.pt --img 608`\r\n2.I refer to solutions in other projects.[https://github.com/facebookresearch/detectron2/issues/580](https://github.com/facebookresearch/detectron2/issues/580)\r\n3.The current default latest version of numpy is 1.18.1.But it can only run on 1.17 at present. You should modify your `requirements.txt`\r\n\r\n## Expected behavior\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.419\r\n Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.618\r\n Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.448\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.247\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.462\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.534\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.341\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.557\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.606\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.440\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.649\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.735\r\n\r\n## Environment\r\nNone\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [Ubuntu]\r\n - Version [18.04]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [iPhone11]\r\n - OS: [ iOS]\r\n - Version [13.1]\r\n\r\n## Additional context\r\nGood luck it.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/932/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/932/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/919", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/919/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/919/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/919/events", "html_url": "https://github.com/ultralytics/yolov3/issues/919", "id": 579360966, "node_id": "MDU6SXNzdWU1NzkzNjA5NjY=", "number": 919, "title": "Two bounding box predictions for one item", "user": {"login": "h-acks", "id": 47482916, "node_id": "MDQ6VXNlcjQ3NDgyOTE2", "avatar_url": "https://avatars.githubusercontent.com/u/47482916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h-acks", "html_url": "https://github.com/h-acks", "followers_url": "https://api.github.com/users/h-acks/followers", "following_url": "https://api.github.com/users/h-acks/following{/other_user}", "gists_url": "https://api.github.com/users/h-acks/gists{/gist_id}", "starred_url": "https://api.github.com/users/h-acks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h-acks/subscriptions", "organizations_url": "https://api.github.com/users/h-acks/orgs", "repos_url": "https://api.github.com/users/h-acks/repos", "events_url": "https://api.github.com/users/h-acks/events{/privacy}", "received_events_url": "https://api.github.com/users/h-acks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-11T15:43:56Z", "updated_at": "2020-03-11T17:39:13Z", "closed_at": "2020-03-11T15:50:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've noticed that one object will have two bounding with similar items like a laptop and TV. ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/919/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/919/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/916", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/916/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/916/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/916/events", "html_url": "https://github.com/ultralytics/yolov3/issues/916", "id": 579187280, "node_id": "MDU6SXNzdWU1NzkxODcyODA=", "number": 916, "title": "iDetection iOS App Performance on  iPhone 8?", "user": {"login": "mrgloom", "id": 4003908, "node_id": "MDQ6VXNlcjQwMDM5MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/4003908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrgloom", "html_url": "https://github.com/mrgloom", "followers_url": "https://api.github.com/users/mrgloom/followers", "following_url": "https://api.github.com/users/mrgloom/following{/other_user}", "gists_url": "https://api.github.com/users/mrgloom/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrgloom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrgloom/subscriptions", "organizations_url": "https://api.github.com/users/mrgloom/orgs", "repos_url": "https://api.github.com/users/mrgloom/repos", "events_url": "https://api.github.com/users/mrgloom/events{/privacy}", "received_events_url": "https://api.github.com/users/mrgloom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1325556782, "node_id": "MDU6TGFiZWwxMzI1NTU2Nzgy", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/iOS%20App", "name": "iOS App", "color": "FF8300", "default": false, "description": "iDetection iOS Store App"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-11T11:15:08Z", "updated_at": "2020-03-25T20:46:28Z", "closed_at": "2020-03-11T18:34:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Smartphone:\r\n - Device: iPhone 8\r\n - OS: iOS 13.3.1\r\n\r\nUsing YOLOv4-tiny I get about 12.5 FPS, but using YOLOv4 from 6 FPS to 4 FPS and seems FPS is not constant, i.e. it's reducing over time to some value is this result of overheating and throttling? or maybe performance depends on number of objects in the scene?\r\n\r\nDoes YOLO use ANE when runned on iPhone 8?\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/916/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/916/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/914", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/914/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/914/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/914/events", "html_url": "https://github.com/ultralytics/yolov3/issues/914", "id": 578978910, "node_id": "MDU6SXNzdWU1Nzg5Nzg5MTA=", "number": 914, "title": "RuntimeError: No such operator torchvision::nms", "user": {"login": "yijhe", "id": 62044284, "node_id": "MDQ6VXNlcjYyMDQ0Mjg0", "avatar_url": "https://avatars.githubusercontent.com/u/62044284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yijhe", "html_url": "https://github.com/yijhe", "followers_url": "https://api.github.com/users/yijhe/followers", "following_url": "https://api.github.com/users/yijhe/following{/other_user}", "gists_url": "https://api.github.com/users/yijhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yijhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yijhe/subscriptions", "organizations_url": "https://api.github.com/users/yijhe/orgs", "repos_url": "https://api.github.com/users/yijhe/repos", "events_url": "https://api.github.com/users/yijhe/events{/privacy}", "received_events_url": "https://api.github.com/users/yijhe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-11T03:07:46Z", "updated_at": "2023-04-21T21:06:19Z", "closed_at": "2020-03-11T17:09:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nFile \"train.py\", line 433, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 319, in train\r\n    dataloader=testloader)\r\n  File \"/home/u107305002/networks/yolov3/test.py\", line 97, in test\r\n    output = non_max_suppression(inf_out, conf_thres=conf_thres, iou_thres=iou_thres)  # nms\r\n  File \"/home/u107305002/networks/yolov3/utils/utils.py\", line 571, in non_max_suppression\r\n    i = torchvision.ops.boxes.batched_nms(boxes, scores, c, iou_thres)\r\n  File \"/home/u107305002/.conda/envs/huang_yolov3/lib/python3.7/site-packages/torchvision/ops/boxes.py\", line 76, in batched_nms\r\n    keep = nms(boxes_for_nms, scores, iou_threshold)\r\n  File \"/home/u107305002/.conda/envs/huang_yolov3/lib/python3.7/site-packages/torchvision/ops/boxes.py\", line 36, in nms\r\n    return torch.ops.torchvision.nms(boxes, scores, iou_threshold)\r\n  File \"/home/u107305002/.local/lib/python3.7/site-packages/torch/_ops.py\", line 61, in __getattr__\r\n    op = torch._C._jit_get_operation(qualified_op_name)\r\nRuntimeError: No such operator torchvision::nms\r\n\r\n## To Reproduce\r\n1.  I am practicing use yolov3 network for own datasets \r\n2.  I command following: python train.py --data data/rbc.data --cfg cfg/yolov3-tiny.cfg  --epoch 10 --weights weights/yolov3-tiny.weights \r\n\r\n## Expected behavior\r\nTo get the trained model.\r\n\r\n## Environment\r\n# Name                      Version                   Build  Channel\r\n_libgcc_mutex              0.1                        main\r\n_tflow_select               2.1.0                       gpu\r\nabsl-py                       0.9.0                    py37_0\r\nalabaster                     0.7.12                   py37_0\r\nasn1crypto                 1.3.0                    py37_0\r\nastor                          0.8.0                    py37_0\r\nastroid                       2.3.3                    py37_0\r\nattrs                          19.3.0                     py_0\r\nbabel                         2.8.0                      py_0\r\nbackcall                     0.1.0                    py37_0    anaconda\r\nblas                            1.0                         mkl\r\nbleach                       3.1.0                    py37_0\r\nblinker                      1.4                      py37_0\r\nbzip2                         1.0.8                h7b6447c_0    anaconda\r\nc-ares                        1.15.0            h7b6447c_1001\r\nca-certificates           2019.11.28           hecc5488_0    conda-forge\r\ncachetools                3.1.1                      py_0\r\ncairo                         1.14.12              h8948797_3    anaconda\r\ncertifi                      2019.11.28               py37_0    conda-forge\r\ncffi                          1.14.0           py37h2e261b9_0\r\nchardet                     3.0.4                 py37_1003\r\nclick                          7.0                      py37_0\r\ncloudpickle                1.3.0                      py_0    conda-forge\r\ncryptography               2.8              py37h1ba5d50_0\r\ncudatoolkit                10.1.243             h6bb024c_0\r\ncudnn                        7.6.5                cuda10.1_0\r\ncupti                         10.1.168                      0\r\ncycler                      0.10.0                   py37_0    anaconda\r\ncython                      0.29.15          py37he1b5a44_0    conda-forge\r\ncytoolz                   0.10.1           py37h516909a_0    conda-forge\r\ndask-core                 2.12.0                     py_0    conda-forge\r\ndbus                        1.13.12              h746ee38_0    anaconda\r\ndecorator                 4.4.1                      py_0    anaconda\r\ndefusedxml                0.6.0                      py_0\r\ndocutils                  0.16                     py37_0\r\nentrypoints               0.3                      py37_0\r\nexpat                       2.2.6                he6710b0_0    anaconda\r\nffmpeg                    4.0                  hcdf2ecd_0    anaconda\r\nfontconfig                2.13.0               h9420a91_0    anaconda\r\nfreeglut                  3.0.0                hf484d3e_5    anaconda\r\nfreetype                  2.9.1                h8a8886c_1\r\nfuture                    0.18.2                   py37_0    anaconda\r\ngast                      0.2.2                    py37_0\r\nglib                        2.56.2               hd408876_0    anaconda\r\ngmp                       6.1.2                h6c8ec71_1\r\ngoogle-auth               1.11.2                     py_0\r\ngoogle-auth-oauthlib      0.4.1                      py_2\r\ngoogle-pasta              0.1.8                      py_0\r\ngraphite2                   1.3.13               h23475e2_0    anaconda\r\ngrpcio                      1.27.2           py37hf8bcb03_0\r\ngst-plugins-base          1.14.0               hbbd80ab_1    anaconda\r\ngstreamer                 1.14.0               hb453b48_1    anaconda\r\nh5py                         2.8.0            py37h989c5e5_3    anaconda\r\nharfbuzz                  1.8.8                hffaf4a1_0    anaconda\r\nhdf5                      1.10.2               hba1933b_1    anaconda\r\nicu                       58.2                 h211956c_0    anaconda\r\nidna                      2.8                      py37_0\r\nimageio                   2.8.0                      py_0    conda-forge\r\nimagesize                 1.2.0                      py_0\r\nimportlib_metadata        1.5.0                    py37_0\r\nintel-openmp              2020.0                      166\r\nipykernel                 5.1.4            py37h39e3cac_0\r\nipython                   7.12.0           py37h5ca1d4c_0    anaconda\r\nipython_genutils          0.2.0                    py37_0    anaconda\r\nisort                     4.3.21                   py37_0\r\njasper                    2.0.14               h07fcdf6_1    anaconda\r\njedi                      0.16.0                   py37_0    anaconda\r\njeepney                   0.4.2                      py_0\r\njinja2                    2.11.1                     py_0\r\njpeg                      9b                   h024ee3a_2\r\njsonschema                3.2.0                    py37_0\r\njupyter_client            5.3.4                    py37_0\r\njupyter_core              4.6.1                    py37_0\r\nkeras-applications        1.0.8                      py_0\r\nkeras-preprocessing       1.1.0                      py_1\r\nkeyring                   21.1.0                   py37_0\r\nkiwisolver                1.1.0            py37he6710b0_0    anaconda\r\nlazy-object-proxy         1.4.3            py37h7b6447c_0\r\nld_impl_linux-64          2.33.1               h53a641e_7\r\nlibblas                   3.8.0                    15_mkl    conda-forge\r\nlibcblas                  3.8.0                    15_mkl    conda-forge\r\nlibedit                   3.1.20181209         hc058e9b_0\r\nlibffi                    3.2.1                hd88cf55_4\r\nlibgcc-ng                 9.1.0                hdf63c60_0\r\nlibgfortran-ng            7.3.0                hdf63c60_0\r\nlibglu                    9.0.0                hf484d3e_1    anaconda\r\nliblapack                 3.8.0                    15_mkl    conda-forge\r\nlibopencv                 3.4.2                hb342d67_1    anaconda\r\nlibopus                   1.3                  h7b6447c_0    anaconda\r\nlibpng                    1.6.37               hbc83047_0\r\nlibprotobuf               3.11.4               hd408876_0\r\nlibsodium                 1.0.16               h1bed415_0\r\nlibstdcxx-ng              9.1.0                hdf63c60_0\r\nlibtiff                   4.1.0                h2733197_0\r\nlibuuid                   1.0.3                h1bed415_2    anaconda\r\nlibvpx                    1.7.0                h439df22_0    anaconda\r\nlibxcb                    1.13                 h1bed415_1    anaconda\r\nlibxml2                   2.9.9                hea5a465_1    anaconda\r\nline_profiler             2.1.2            py37h14c3975_0\r\nmarkdown                  3.1.1                    py37_0\r\nmarkupsafe                1.1.1            py37h7b6447c_0\r\nmatplotlib                3.1.3                    py37_0    anaconda\r\nmatplotlib-base           3.1.3            py37hef1b27d_0    anaconda\r\nmccabe                    0.6.1                    py37_1\r\nmistune                   0.8.4            py37h7b6447c_0\r\nmkl                       2020.0                      166\r\nmkl-service               2.3.0            py37he904b0f_0\r\nmkl_fft                   1.0.15           py37ha843d7b_0\r\nmkl_random                1.1.0            py37hd6b4f25_0\r\nnbconvert                 5.6.1                    py37_0\r\nnbformat                  5.0.4                      py_0\r\nncurses                   6.2                  he6710b0_0\r\nnetworkx                  2.4                        py_1    conda-forge\r\nninja                     1.9.0            py37hfd86e86_0\r\nnumpy                     1.18.1           py37h95a1406_0    conda-forge\r\nnumpy-base                1.18.1           py37hde5b4d6_1\r\nnumpydoc                  0.9.2                      py_0\r\noauthlib                  3.1.0                      py_0\r\nolefile                   0.46                     py37_0\r\nonnx                      1.6.0                    pypi_0    pypi\r\nopencv                    3.4.2            py37h6fd60c2_1    anaconda\r\nopenssl                   1.1.1d               h516909a_0    conda-forge\r\nopt_einsum                3.1.0                      py_0\r\npackaging                 20.1                       py_0\r\npandoc                    2.2.3.2                       0\r\npandocfilters             1.4.2                    py37_1\r\nparso                     0.6.1                      py_0    anaconda\r\npcre                      8.43                 he6710b0_0    anaconda\r\npexpect                   4.8.0                    py37_0    anaconda\r\npickleshare               0.7.5                    py37_0    anaconda\r\npillow                    7.0.0            py37hb39fc2d_0    anaconda\r\npip                       20.0.2                   py37_1\r\npixman                    0.38.0               h7b6447c_0    anaconda\r\nprompt_toolkit            3.0.3                      py_0    anaconda\r\nprotobuf                  3.11.4           py37he1b5a44_0    conda-forge\r\npsutil                    5.6.7            py37h7b6447c_0\r\nptyprocess                0.6.0                    py37_0    anaconda\r\npy-opencv                 3.4.2            py37hb342d67_1    anaconda\r\npyasn1                    0.4.8                      py_0\r\npyasn1-modules            0.2.7                      py_0\r\npycocotools               2.0.0           py37h516909a_1001    conda-forge\r\npycodestyle               2.5.0                    py37_0\r\npycparser                 2.19                     py37_0\r\npyflakes                  2.1.1                    py37_0\r\npygments                  2.5.2                      py_0    anaconda\r\npyjwt                     1.7.1                    py37_0\r\npylint                    2.4.4                    py37_0\r\npyopenssl                 19.1.0                   py37_0\r\npyparsing                 2.4.6                      py_0    anaconda\r\npyqt                      5.9.2            py37h22d08a2_1    anaconda\r\npyrsistent                0.15.7           py37h7b6447c_0\r\npysocks                   1.7.1                    py37_0\r\npython                    3.7.6                h0371630_2\r\npython-dateutil           2.8.1                      py_0    anaconda\r\npytorch                   1.4.0           py3.7_cuda10.1.243_cudnn7.6.3_0    pytorch\r\npytz                      2019.3                     py_0\r\npywavelets                1.1.1            py37hc1659b7_0    conda-forge\r\npyzmq                     18.1.1           py37he6710b0_0\r\nqt                        5.9.7                h5867ecd_1    anaconda\r\nqtawesome                 0.6.1                      py_0\r\nqtconsole                 4.6.0                      py_1\r\nqtpy                      1.9.0                      py_0\r\nreadline                  7.0                  h7b6447c_5\r\nrequests                  2.22.0                   py37_1\r\nrequests-oauthlib         1.3.0                      py_0\r\nrope                      0.16.0                     py_0\r\nrsa                       4.0                        py_0\r\nscikit-image              0.16.2           py37hb3f55d8_0    conda-forge\r\nscipy                     1.4.1            py37h0b6359f_0\r\nsecretstorage             3.1.2                    py37_0\r\nsetuptools                46.0.0                   py37_0\r\nsip                       4.19.13          py37he6710b0_0    anaconda\r\nsix                       1.14.0                   py37_0\r\nsnowballstemmer           2.0.0                      py_0\r\nsphinx                    2.4.0                      py_0\r\nsphinxcontrib-applehelp   1.0.1                      py_0\r\nsphinxcontrib-devhelp     1.0.1                      py_0\r\nsphinxcontrib-htmlhelp    1.0.2                      py_0\r\nsphinxcontrib-jsmath      1.0.1                      py_0\r\nsphinxcontrib-qthelp      1.0.2                      py_0\r\nsphinxcontrib-serializinghtml 1.1.3                      py_0\r\nspyder                    4.0.0b1                  py37_2    spyder-ide\r\nspyder-kernels            1.8.0                    py37_0    spyder-ide\r\nspyder-line-profiler      0.1.1                      py_1    spyder-ide\r\nsqlite                    3.31.1               h7b6447c_0\r\ntb-nightly                2.2.0a20200310           pypi_0    pypi\r\ntensorboard               2.1.0                     py3_0\r\ntensorboard-plugin-wit    1.6.0.post2              pypi_0    pypi\r\ntensorflow                2.1.0           gpu_py37h7a4bb67_0\r\ntensorflow-base           2.1.0           gpu_py37h6c5654b_0\r\ntensorflow-estimator      2.1.0              pyhd54b08b_0\r\ntensorflow-gpu            2.1.0                h0d30ee6_0\r\ntermcolor                 1.1.0                    py37_1\r\ntestpath                  0.4.4                      py_0\r\ntk                        8.6.8                hbc83047_0\r\ntoolz                     0.10.0                     py_0    conda-forge\r\ntorchvision               0.5.0                py37_cu101    pytorch\r\ntornado                   6.0.3            py37h7b6447c_3    anaconda\r\ntqdm                      4.43.0                   pypi_0    pypi\r\ntraitlets                 4.3.3                    py37_0    anaconda\r\ntyping-extensions         3.7.4.1                  pypi_0    pypi\r\nurllib3                   1.25.8                   py37_0\r\nwcwidth                   0.1.8                      py_0    anaconda\r\nwebencodings              0.5.1                    py37_1\r\nwerkzeug                  1.0.0                      py_0\r\nwheel                     0.34.2                   py37_0\r\nwrapt                     1.11.2           py37h7b6447c_0\r\nwurlitzer                 2.0.0                    py37_0\r\nxz                        5.2.4                h14c3975_4\r\nzeromq                    4.3.1                he6710b0_3\r\nzipp                      2.2.0                      py_0\r\nzlib                      1.2.11               h7b6447c_3\r\nzstd                      1.3.7                h0b5b093_0\r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Linux\r\n - Version unknown\r\n\r\n## Additional context\r\nI already following the requirements.txt but still got the nms error.please help me to solve this problem, thanks a lot\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/914/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/914/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/912", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/912/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/912/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/912/events", "html_url": "https://github.com/ultralytics/yolov3/issues/912", "id": 578962508, "node_id": "MDU6SXNzdWU1Nzg5NjI1MDg=", "number": 912, "title": "AttributeError: 'function' object has no attribute '__self__'", "user": {"login": "smalldroid", "id": 237886, "node_id": "MDQ6VXNlcjIzNzg4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/237886?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smalldroid", "html_url": "https://github.com/smalldroid", "followers_url": "https://api.github.com/users/smalldroid/followers", "following_url": "https://api.github.com/users/smalldroid/following{/other_user}", "gists_url": "https://api.github.com/users/smalldroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/smalldroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smalldroid/subscriptions", "organizations_url": "https://api.github.com/users/smalldroid/orgs", "repos_url": "https://api.github.com/users/smalldroid/repos", "events_url": "https://api.github.com/users/smalldroid/events{/privacy}", "received_events_url": "https://api.github.com/users/smalldroid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-03-11T02:07:44Z", "updated_at": "2023-04-21T21:06:20Z", "closed_at": "2020-03-12T23:16:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've just pull lastest update from this github. When i run train.py, I got this problem! I installed Pytorch 1.4. Does anyone have problem same as me? Please show me how to fix this problem. Thank you!\r\n\r\nNamespace(accumulate=4, adam=False, arc='default', batch_size=16, bucket='', cache_images=False, cfg='cfg/yolov3-1cls.cfg', data='data/custom1class.data', device='', epochs=300, evolve=False, img_size=[640], multi_scale=False, name='setup1', nosave=False, notest=Fa\r\nlse, rect=False, resume=False, single_cls=True, var=None, weights='weights/darknet53.conv.74')\r\nUsing CUDA Apex device0 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11264MB)\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 433, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 145, in train\r\n    scheduler = lr_scheduler.LambdaLR(optimizer, lr_lambda=lf)\r\n  File \"C:\\Users\\Admin\\Anaconda3\\envs\\yolov3_pt\\lib\\site-packages\\torch\\optim\\lr_scheduler.py\", line 189, in __init__\r\n    super(LambdaLR, self).__init__(optimizer, last_epoch)\r\n  File \"C:\\Users\\Admin\\Anaconda3\\envs\\yolov3_pt\\lib\\site-packages\\torch\\optim\\lr_scheduler.py\", line 73, in __init__\r\n    self.optimizer.step = with_counter(self.optimizer.step)\r\n  File \"C:\\Users\\Admin\\Anaconda3\\envs\\yolov3_pt\\lib\\site-packages\\torch\\optim\\lr_scheduler.py\", line 55, in with_counter\r\n    instance_ref = weakref.ref(method.__self__)\r\nAttributeError: 'function' object has no attribute '__self__'\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/912/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/911", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/911/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/911/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/911/events", "html_url": "https://github.com/ultralytics/yolov3/issues/911", "id": 578960352, "node_id": "MDU6SXNzdWU1Nzg5NjAzNTI=", "number": 911, "title": "corrupted size vs. prev_size Aborted (core dumped)", "user": {"login": "Catboss1999", "id": 46478567, "node_id": "MDQ6VXNlcjQ2NDc4NTY3", "avatar_url": "https://avatars.githubusercontent.com/u/46478567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Catboss1999", "html_url": "https://github.com/Catboss1999", "followers_url": "https://api.github.com/users/Catboss1999/followers", "following_url": "https://api.github.com/users/Catboss1999/following{/other_user}", "gists_url": "https://api.github.com/users/Catboss1999/gists{/gist_id}", "starred_url": "https://api.github.com/users/Catboss1999/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Catboss1999/subscriptions", "organizations_url": "https://api.github.com/users/Catboss1999/orgs", "repos_url": "https://api.github.com/users/Catboss1999/repos", "events_url": "https://api.github.com/users/Catboss1999/events{/privacy}", "received_events_url": "https://api.github.com/users/Catboss1999/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-11T01:59:41Z", "updated_at": "2023-04-21T21:06:21Z", "closed_at": "2020-04-18T00:07:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,bro\r\nI set the epoch to 100,when training to the 70th epoch, it stopped training suddenly, and reported such a problem.....\r\ncorrupted size vs. prev_size Aborted (core dumped)\r\nI have no idea what to do with it, can you please help me?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/911/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/906", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/906/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/906/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/906/events", "html_url": "https://github.com/ultralytics/yolov3/issues/906", "id": 577764351, "node_id": "MDU6SXNzdWU1Nzc3NjQzNTE=", "number": 906, "title": "It doesn't seem to work", "user": {"login": "changyu98", "id": 60870905, "node_id": "MDQ6VXNlcjYwODcwOTA1", "avatar_url": "https://avatars.githubusercontent.com/u/60870905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/changyu98", "html_url": "https://github.com/changyu98", "followers_url": "https://api.github.com/users/changyu98/followers", "following_url": "https://api.github.com/users/changyu98/following{/other_user}", "gists_url": "https://api.github.com/users/changyu98/gists{/gist_id}", "starred_url": "https://api.github.com/users/changyu98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/changyu98/subscriptions", "organizations_url": "https://api.github.com/users/changyu98/orgs", "repos_url": "https://api.github.com/users/changyu98/repos", "events_url": "https://api.github.com/users/changyu98/events{/privacy}", "received_events_url": "https://api.github.com/users/changyu98/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-09T09:20:45Z", "updated_at": "2020-04-24T00:07:35Z", "closed_at": "2020-04-24T00:07:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nSyntaxWarning: \"is\" with a literal. Did you mean \"==\"?\r\n  if report is \"full\":\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. This problem exists in `utils/torch_utils.py 80 line.\r\n```python\r\n    if report is 'full':\r\n```\r\n2. I propose to change it:\r\n```python\r\n    if report == 'full':\r\n```\r\n\r\n\r\n## Expected behavior\r\nClear this error\r\n\r\n## Environment\r\nPython==3.8.2\r\nPyTorch==1.4\r\nCUDA==10.1\r\nCUDNN==7.4\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [Ubuntu]\r\n - Version [18.04]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [iPhoneX]\r\n - OS: [iOS]\r\n - Version [13.3]\r\n\r\n## Additional context\r\nGood luck it.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/906/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/906/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/904", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/904/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/904/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/904/events", "html_url": "https://github.com/ultralytics/yolov3/issues/904", "id": 577629191, "node_id": "MDU6SXNzdWU1Nzc2MjkxOTE=", "number": 904, "title": "how can I fix this problem with cv\uff1f", "user": {"login": "Rocky-17", "id": 52768119, "node_id": "MDQ6VXNlcjUyNzY4MTE5", "avatar_url": "https://avatars.githubusercontent.com/u/52768119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rocky-17", "html_url": "https://github.com/Rocky-17", "followers_url": "https://api.github.com/users/Rocky-17/followers", "following_url": "https://api.github.com/users/Rocky-17/following{/other_user}", "gists_url": "https://api.github.com/users/Rocky-17/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rocky-17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rocky-17/subscriptions", "organizations_url": "https://api.github.com/users/Rocky-17/orgs", "repos_url": "https://api.github.com/users/Rocky-17/repos", "events_url": "https://api.github.com/users/Rocky-17/events{/privacy}", "received_events_url": "https://api.github.com/users/Rocky-17/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2020-03-09T03:02:52Z", "updated_at": "2023-04-21T21:06:29Z", "closed_at": "2020-03-09T06:25:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "$ python train.py             \r\nNamespace(accumulate=4, adam=False, arc='default', batch_size=24, bucket='', cache_images=False, cfg='cf/yolov3-spp.cfg', data='data/helmet.data', device='', epochs=273, evolve=False, img_size=[416], multi_scle=False, name='', nosave=False, notest=False, rect=False, resume=False, single_cls=False, var=None, weihts='weights/ultralytics68.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1080 Ti', total_memory=11176MB)\r\n\r\nCaching labels (6137 found, 0 missing, 0 empty, 0 duplicate, for 6137 images): 100%|\u2588| 6137/6137 [00:01<\r\nCaching labels (1535 found, 0 missing, 0 empty, 0 duplicate, for 1535 images): 100%|\u2588| 1535/1535 [00:00<\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients\r\nUsing 8 dataloader workers\r\nStarting training for 273 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n     0/272     10.8G      4.53      1.53     0.562      6.62       283       416: 100%|\u2588| 256/256 [03:59\r\n               Class    Images   Targets         P         R   mAP@0.5        F1:   0%| | 0/32 [00:00<?,Traceback (most recent call last):\r\n  File \"train.py\", line 432, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 318, in train\r\n    dataloader=testloader)\r\n  File \"/home/pmy/PP/DEMO1/yolov3/test.py\", line 73, in test\r\n    for batch_i, (imgs, targets, paths, shapes) in enumerate(tqdm(dataloader, desc=s)):\r\n  File \"/home/pmy/miniconda3/lib/python3.7/site-packages/tqdm/std.py\", line 1108, in __iter__\r\n    for obj in iterable:\r\n  File \"/home/pmy/miniconda3/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 345, in _next__\r\n    data = self._next_data()\r\n  File \"/home/pmy/miniconda3/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 856, in _ext_data\r\n    return self._process_data(data)\r\n  File \"/home/pmy/miniconda3/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 881, in _rocess_data\r\n    data.reraise()\r\n  File \"/home/pmy/miniconda3/lib/python3.7/site-packages/torch/_utils.py\", line 394, in reraise\r\n    raise self.exc_type(msg)\r\n**cv2.error: Caught error in DataLoader worker process 0.**\r\nOriginal Traceback (most recent call last):\r\n  File \"/home/pmy/miniconda3/lib/python3.7/site-packages/torch/utils/data/_utils/worker.py\", line 178, i _worker_loop\r\n    data = fetcher.fetch(index)\r\n  File \"/home/pmy/miniconda3/lib/python3.7/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in etch\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/home/pmy/miniconda3/lib/python3.7/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in listcomp>\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/home/pmy/PP/DEMO1/yolov3/utils/datasets.py\", line 432, in __getitem__\r\n    img, ratio, pad = letterbox(img, shape, auto=False, scaleup=self.augment)\r\n  File \"/home/pmy/PP/DEMO1/yolov3/utils/datasets.py\", line 630, in letterbox\r\n    img = cv2.copyMakeBorder(img, top, bottom, left, right, cv2.BORDER_CONSTANT, value=color)  # add borer\r\n**cv2.error: OpenCV(4.2.0) /io/opencv/modules/core/src/copy.cpp:1421: error: (-215:Assertion failed) top > 0 && bottom >= 0 && left >= 0 && right >= 0 && _src.dims() <= 2 in function 'copyMakeBorder'**", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/904/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/904/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/903", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/903/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/903/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/903/events", "html_url": "https://github.com/ultralytics/yolov3/issues/903", "id": 577624407, "node_id": "MDU6SXNzdWU1Nzc2MjQ0MDc=", "number": 903, "title": "Importing utils.py", "user": {"login": "ZYF-fmg", "id": 53507463, "node_id": "MDQ6VXNlcjUzNTA3NDYz", "avatar_url": "https://avatars.githubusercontent.com/u/53507463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZYF-fmg", "html_url": "https://github.com/ZYF-fmg", "followers_url": "https://api.github.com/users/ZYF-fmg/followers", "following_url": "https://api.github.com/users/ZYF-fmg/following{/other_user}", "gists_url": "https://api.github.com/users/ZYF-fmg/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZYF-fmg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZYF-fmg/subscriptions", "organizations_url": "https://api.github.com/users/ZYF-fmg/orgs", "repos_url": "https://api.github.com/users/ZYF-fmg/repos", "events_url": "https://api.github.com/users/ZYF-fmg/events{/privacy}", "received_events_url": "https://api.github.com/users/ZYF-fmg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-09T02:41:24Z", "updated_at": "2020-03-09T02:53:33Z", "closed_at": "2020-03-09T02:53:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\nwhen I'm importing utils.py, it goes wrong.\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\nimporting utils.py in python3.7\r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\nIt should be imported.\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n![image](https://user-images.githubusercontent.com/53507463/76178405-39ec7880-61f2-11ea-97f0-2211ed46d106.png)\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\nnone", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/903/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/903/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/902", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/902/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/902/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/902/events", "html_url": "https://github.com/ultralytics/yolov3/issues/902", "id": 577292166, "node_id": "MDU6SXNzdWU1NzcyOTIxNjY=", "number": 902, "title": "Loss Increase after Resuming from last.pt", "user": {"login": "jvnext1", "id": 61899861, "node_id": "MDQ6VXNlcjYxODk5ODYx", "avatar_url": "https://avatars.githubusercontent.com/u/61899861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvnext1", "html_url": "https://github.com/jvnext1", "followers_url": "https://api.github.com/users/jvnext1/followers", "following_url": "https://api.github.com/users/jvnext1/following{/other_user}", "gists_url": "https://api.github.com/users/jvnext1/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvnext1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvnext1/subscriptions", "organizations_url": "https://api.github.com/users/jvnext1/orgs", "repos_url": "https://api.github.com/users/jvnext1/repos", "events_url": "https://api.github.com/users/jvnext1/events{/privacy}", "received_events_url": "https://api.github.com/users/jvnext1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-03-07T07:09:54Z", "updated_at": "2021-01-09T01:09:25Z", "closed_at": "2020-03-12T01:17:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n![\u5fae\u4fe1\u622a\u56fe_20200307150559](https://user-images.githubusercontent.com/61899861/76138747-37b8db80-6085-11ea-8497-62f971c16c48.png)\r\nI stop after training 50 epoch , and then resume to train next 50epoch. But the loss got bad. is this normal\uff1f\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/902/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/901", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/901/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/901/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/901/events", "html_url": "https://github.com/ultralytics/yolov3/issues/901", "id": 576845890, "node_id": "MDU6SXNzdWU1NzY4NDU4OTA=", "number": 901, "title": "Target objectness", "user": {"login": "abelmouhcine", "id": 9050215, "node_id": "MDQ6VXNlcjkwNTAyMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9050215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abelmouhcine", "html_url": "https://github.com/abelmouhcine", "followers_url": "https://api.github.com/users/abelmouhcine/followers", "following_url": "https://api.github.com/users/abelmouhcine/following{/other_user}", "gists_url": "https://api.github.com/users/abelmouhcine/gists{/gist_id}", "starred_url": "https://api.github.com/users/abelmouhcine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abelmouhcine/subscriptions", "organizations_url": "https://api.github.com/users/abelmouhcine/orgs", "repos_url": "https://api.github.com/users/abelmouhcine/repos", "events_url": "https://api.github.com/users/abelmouhcine/events{/privacy}", "received_events_url": "https://api.github.com/users/abelmouhcine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-06T10:41:21Z", "updated_at": "2020-03-09T17:16:06Z", "closed_at": "2020-03-09T17:16:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nHello,\r\n\r\nWhen using CIoU for the training, I got suddenly a nan objectness loss. When I looked in the code, I saw that the target objectness loss is the giou (or ciou in my case). However, the giou, diou and ciou can be negative, and thus produce nan in binary cross entropy. I think for the target objectness we should only use iou.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/901/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/900", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/900/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/900/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/900/events", "html_url": "https://github.com/ultralytics/yolov3/issues/900", "id": 576841869, "node_id": "MDU6SXNzdWU1NzY4NDE4Njk=", "number": 900, "title": "Ambiguity in understanding bounding box tensors", "user": {"login": "yeshwanthmaringanti", "id": 49546514, "node_id": "MDQ6VXNlcjQ5NTQ2NTE0", "avatar_url": "https://avatars.githubusercontent.com/u/49546514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yeshwanthmaringanti", "html_url": "https://github.com/yeshwanthmaringanti", "followers_url": "https://api.github.com/users/yeshwanthmaringanti/followers", "following_url": "https://api.github.com/users/yeshwanthmaringanti/following{/other_user}", "gists_url": "https://api.github.com/users/yeshwanthmaringanti/gists{/gist_id}", "starred_url": "https://api.github.com/users/yeshwanthmaringanti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yeshwanthmaringanti/subscriptions", "organizations_url": "https://api.github.com/users/yeshwanthmaringanti/orgs", "repos_url": "https://api.github.com/users/yeshwanthmaringanti/repos", "events_url": "https://api.github.com/users/yeshwanthmaringanti/events{/privacy}", "received_events_url": "https://api.github.com/users/yeshwanthmaringanti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-03-06T10:34:32Z", "updated_at": "2020-04-01T06:21:46Z", "closed_at": "2020-04-01T06:21:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "In compute_loss function\r\n![compute_loss](https://user-images.githubusercontent.com/49546514/76075215-9cf7c880-5fc2-11ea-96be-b534a704041e.png)\r\n\r\n1. While iterator is iterating , is it pointing one image at a time or not?\r\n2 . If one image is being pointed at a time , then can someone explain what do the bbox and tbox tensors signify (because  for single variable , it is holding list of values instead.) . \r\nFor example , box1[0] should have one value which is x, but it is printing multiple values in list as you can see below , similarly same thing is happening for y,width,height\r\n![box1%5b0%5d](https://user-images.githubusercontent.com/49546514/76075747-8e5de100-5fc3-11ea-8b43-eae3d94141e5.png)\r\n\r\nPlease give me a clear explanation on why these random multiple values are being created for each values of box1 (predicted box) and box2(tbox). \r\nin my case no of classes = 1. I have followed everything according to the custom data train plan given by you. \r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/900/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/900/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/899", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/899/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/899/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/899/events", "html_url": "https://github.com/ultralytics/yolov3/issues/899", "id": 576777554, "node_id": "MDU6SXNzdWU1NzY3Nzc1NTQ=", "number": 899, "title": "The classification loss of verification set is much larger than that of training set", "user": {"login": "lnquan457", "id": 44767729, "node_id": "MDQ6VXNlcjQ0NzY3NzI5", "avatar_url": "https://avatars.githubusercontent.com/u/44767729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnquan457", "html_url": "https://github.com/lnquan457", "followers_url": "https://api.github.com/users/lnquan457/followers", "following_url": "https://api.github.com/users/lnquan457/following{/other_user}", "gists_url": "https://api.github.com/users/lnquan457/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnquan457/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnquan457/subscriptions", "organizations_url": "https://api.github.com/users/lnquan457/orgs", "repos_url": "https://api.github.com/users/lnquan457/repos", "events_url": "https://api.github.com/users/lnquan457/events{/privacy}", "received_events_url": "https://api.github.com/users/lnquan457/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-06T08:36:03Z", "updated_at": "2020-03-07T04:45:12Z", "closed_at": "2020-03-07T04:45:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Problem\r\n**I am training my custom data sets with yolov3-spp. And my data sets have three classes(including background).\r\nThe model converges quickly, but the classification loss of verification set is always much larger than that of training set. I'm really confused about it.**\r\n\r\n![Image of Result](https://github.com/HuanglnQuan/Javaproject/blob/master/Snipaste_2020-03-06_16-31-39.png)", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/899/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/899/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/897", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/897/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/897/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/897/events", "html_url": "https://github.com/ultralytics/yolov3/issues/897", "id": 576182913, "node_id": "MDU6SXNzdWU1NzYxODI5MTM=", "number": 897, "title": "Access EXIF data using pillow without accessing a protected member", "user": {"login": "changyu98", "id": 60870905, "node_id": "MDQ6VXNlcjYwODcwOTA1", "avatar_url": "https://avatars.githubusercontent.com/u/60870905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/changyu98", "html_url": "https://github.com/changyu98", "followers_url": "https://api.github.com/users/changyu98/followers", "following_url": "https://api.github.com/users/changyu98/following{/other_user}", "gists_url": "https://api.github.com/users/changyu98/gists{/gist_id}", "starred_url": "https://api.github.com/users/changyu98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/changyu98/subscriptions", "organizations_url": "https://api.github.com/users/changyu98/orgs", "repos_url": "https://api.github.com/users/changyu98/repos", "events_url": "https://api.github.com/users/changyu98/events{/privacy}", "received_events_url": "https://api.github.com/users/changyu98/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-05T11:24:07Z", "updated_at": "2020-04-11T00:07:00Z", "closed_at": "2020-04-11T00:07:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n_getexif() is underscored because they don't want to commit to it always working the way it does now - the code says \"This method is highly experimental, and is likely to be replaced with something better in a future version.\" Although, as far as I know, it's said that in PIL for ages.\r\n\r\nMore answer please see: https://stackoverflow.com/questions/48426771/access-exif-data-using-pillow-without-accessing-a-protected-member?rq=1\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. This problem exists in `utils/datasets.py`33 line.\r\n```python\r\nrotation = dict(img._getexif().items())[orientation]\r\n\r\n```\r\n2. I propose to change it:\r\n```python\r\nrotation = dict(img.info.get(\"exif\").items())[orientation]\r\n```\r\n\r\n\r\n## Expected behavior\r\nClear this error\r\n\r\n## Environment\r\nPython==3.8.2\r\nPyTorch==1.4\r\nCUDA==10.1\r\nCUDNN==7.4\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [Ubuntu]\r\n - Version [18.04]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [iPhoneX]\r\n - OS: [iOS]\r\n - Version [13.3]\r\n\r\n## Additional context\r\nGood luck it.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/897/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/897/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/896", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/896/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/896/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/896/events", "html_url": "https://github.com/ultralytics/yolov3/issues/896", "id": 575992501, "node_id": "MDU6SXNzdWU1NzU5OTI1MDE=", "number": 896, "title": "test.py NMS ,conf, j = pred[:, 5:].max(1)", "user": {"login": "ggyybb", "id": 61568153, "node_id": "MDQ6VXNlcjYxNTY4MTUz", "avatar_url": "https://avatars.githubusercontent.com/u/61568153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ggyybb", "html_url": "https://github.com/ggyybb", "followers_url": "https://api.github.com/users/ggyybb/followers", "following_url": "https://api.github.com/users/ggyybb/following{/other_user}", "gists_url": "https://api.github.com/users/ggyybb/gists{/gist_id}", "starred_url": "https://api.github.com/users/ggyybb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ggyybb/subscriptions", "organizations_url": "https://api.github.com/users/ggyybb/orgs", "repos_url": "https://api.github.com/users/ggyybb/repos", "events_url": "https://api.github.com/users/ggyybb/events{/privacy}", "received_events_url": "https://api.github.com/users/ggyybb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-03-05T04:55:26Z", "updated_at": "2020-04-10T00:08:07Z", "closed_at": "2020-04-10T00:08:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n![image](https://user-images.githubusercontent.com/61568153/75949139-487c1c80-5ee0-11ea-9376-e47799f6fc37.png)\r\n\r\ni do not know how to solve it ,just in 'test', 'train' do not have this problem\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/896/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/891", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/891/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/891/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/891/events", "html_url": "https://github.com/ultralytics/yolov3/issues/891", "id": 575187328, "node_id": "MDU6SXNzdWU1NzUxODczMjg=", "number": 891, "title": "Segmentation fault (core dumped)", "user": {"login": "Hwijune", "id": 37058972, "node_id": "MDQ6VXNlcjM3MDU4OTcy", "avatar_url": "https://avatars.githubusercontent.com/u/37058972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hwijune", "html_url": "https://github.com/Hwijune", "followers_url": "https://api.github.com/users/Hwijune/followers", "following_url": "https://api.github.com/users/Hwijune/following{/other_user}", "gists_url": "https://api.github.com/users/Hwijune/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hwijune/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hwijune/subscriptions", "organizations_url": "https://api.github.com/users/Hwijune/orgs", "repos_url": "https://api.github.com/users/Hwijune/repos", "events_url": "https://api.github.com/users/Hwijune/events{/privacy}", "received_events_url": "https://api.github.com/users/Hwijune/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2020-03-04T07:18:39Z", "updated_at": "2020-05-24T06:21:02Z", "closed_at": "2020-04-20T08:11:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi, @glenn-jocher \r\n\r\nThere is always a segmentation fault error.\r\n\r\nSometimes it's over 1 epoch, but it's mostly stopped.\r\n\r\nHow can I fix it? \r\n\r\nor Before I become 1 epoch, i want to save in schedule iteration\r\n\r\nMy environment \r\n = pytorch 1.4.0, python 3.7.6, nvidia driver 440, cuda 10.2, opencv 4.1.2\r\n\r\n     Namespace(accumulate=1, adam=False, arc='default', batch_size=64, bucket='', cache_images=False, cfg='/home/phj8498/darknet/cfg/yolov3-spp3-mid-mask.cfg', data=   '/home/phj8498/darknet/data/3class_mid.data', device='0,1,2,3,4,5,6,7', epochs=5, evolve=False, img_size=[608], multi_scale=False, name='', nosave=False, notest   ='True', rect='True', resume='True', single_cls=False, var=None, weights='weights/last.pt')\r\nUsing CUDA Apex device0 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11019MB)\r\n                device1 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11019MB)\r\n                device2 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11019MB)\r\n                device3 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11019MB)\r\n                device4 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11019MB)\r\n                device5 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11019MB)\r\n                device6 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11019MB)\r\n                device7 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=11019MB)\r\n\r\n     Caching labels (1.63932e+06 found, 0 missing, 85598 empty, 68 duplicate, for 1.72492e+06 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1724917/1724917 [02:29<00:00, 11543.61it/s]\r\n\r\n     Caching labels (3053 found, 0 missing, 1544 empty, 0 duplicate, for 4597 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 4597/4597 [00:00<00:00, 14925.84it/s]\r\nModel Summary: 225 layers, 6.38728e+07 parameters, 6.38728e+07 gradients\r\nUsing 8 dataloader workers\r\nStarting training for 5 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n\r\n     1/4     6.19G      2.82     0.779      5.83      9.43       284       608:  54%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a              | 14644/26952 [4:23:07<3:45:40,  1.10s/it] Segmentation fault (core dumped)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/891/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/891/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/878", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/878/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/878/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/878/events", "html_url": "https://github.com/ultralytics/yolov3/issues/878", "id": 572460327, "node_id": "MDU6SXNzdWU1NzI0NjAzMjc=", "number": 878, "title": "You need to ensure that the complete path is imported.", "user": {"login": "changyu98", "id": 60870905, "node_id": "MDQ6VXNlcjYwODcwOTA1", "avatar_url": "https://avatars.githubusercontent.com/u/60870905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/changyu98", "html_url": "https://github.com/changyu98", "followers_url": "https://api.github.com/users/changyu98/followers", "following_url": "https://api.github.com/users/changyu98/following{/other_user}", "gists_url": "https://api.github.com/users/changyu98/gists{/gist_id}", "starred_url": "https://api.github.com/users/changyu98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/changyu98/subscriptions", "organizations_url": "https://api.github.com/users/changyu98/orgs", "repos_url": "https://api.github.com/users/changyu98/repos", "events_url": "https://api.github.com/users/changyu98/events{/privacy}", "received_events_url": "https://api.github.com/users/changyu98/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-02-28T01:19:53Z", "updated_at": "2020-02-28T07:16:20Z", "closed_at": "2020-02-28T07:16:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nCannot find reference 'backends' in '__init__.pyi | __init__.pyi' \r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. This problem exists in `utils/torch_utils.py` 11 line and 12 line.\r\n```python\r\nimport os\r\n\r\nimport torch\r\n\r\n\r\ndef init_seeds(seed=0):\r\n    torch.manual_seed(seed)\r\n\r\n    # Remove randomness (may be slower on Tesla GPUs) # https://pytorch.org/docs/stable/notes/randomness.html\r\n    if seed == 0:\r\n        torch.backends.cudnn.deterministic = True\r\n        torch.backends.cudnn.benchmark = False\r\n```\r\n2. I propose to change it:\r\n```python\r\nimport os\r\n\r\nimport torch\r\nimport torch.backends.cudnn as cudnn\r\n\r\n\r\ndef init_seeds(seed=0):\r\n    torch.manual_seed(seed)\r\n\r\n    # Remove randomness (may be slower on Tesla GPUs) # https://pytorch.org/docs/stable/notes/randomness.html\r\n    if seed == 0:\r\n        cudnn.deterministic = True\r\n        cudnn.benchmark = False\r\n```\r\n\r\n## Expected behavior\r\nClear this error\r\n\r\n## Environment\r\nPython==3.8.2\r\nPyTorch==1.4\r\nCUDA==10.1\r\nCUDNN==7.4\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [Ubuntu]\r\n - Version [18.04]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [iPhoneX]\r\n - OS: [iOS]\r\n - Version [13.3]\r\n\r\n## Additional context\r\nGood luck it.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/878/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/878/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/875", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/875/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/875/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/875/events", "html_url": "https://github.com/ultralytics/yolov3/issues/875", "id": 571917159, "node_id": "MDU6SXNzdWU1NzE5MTcxNTk=", "number": 875, "title": "Parameter 'epoch' unfilled.", "user": {"login": "changyu98", "id": 60870905, "node_id": "MDQ6VXNlcjYwODcwOTA1", "avatar_url": "https://avatars.githubusercontent.com/u/60870905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/changyu98", "html_url": "https://github.com/changyu98", "followers_url": "https://api.github.com/users/changyu98/followers", "following_url": "https://api.github.com/users/changyu98/following{/other_user}", "gists_url": "https://api.github.com/users/changyu98/gists{/gist_id}", "starred_url": "https://api.github.com/users/changyu98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/changyu98/subscriptions", "organizations_url": "https://api.github.com/users/changyu98/orgs", "repos_url": "https://api.github.com/users/changyu98/repos", "events_url": "https://api.github.com/users/changyu98/events{/privacy}", "received_events_url": "https://api.github.com/users/changyu98/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-27T08:52:50Z", "updated_at": "2020-02-27T23:59:20Z", "closed_at": "2020-02-27T23:59:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nI got this warning message\r\n```python\r\nwarnings.warn(\"Seems like `optimizer.step()` has been overridden after learning rate scheduler \"\r\n                              \"initialization. Please, make sure to call `optimizer.step()` before \"\r\n                              \"`lr_scheduler.step()`. See more details at \"\r\n                              \"https://pytorch.org/docs/stable/optim.html#how-to-adjust-learning-rate\", UserWarning)\r\n```\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. This problem exists in `train.py` 305 line.\r\n2. I propose to change it to `scheduler.step(epoch)`\r\n\r\n## Expected behavior\r\nClear this error\r\n\r\n## Environment\r\nPython==3.8.2\r\nPyTorch==1.4\r\nCUDA==10.1\r\nCUDNN==7.4\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [Ubuntu]\r\n - Version [18.04]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [iPhoneX]\r\n - OS: [iOS]\r\n - Version [13.3]\r\n\r\n## Additional context\r\nGood luck it.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/875/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/875/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/874", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/874/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/874/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/874/events", "html_url": "https://github.com/ultralytics/yolov3/issues/874", "id": 571907105, "node_id": "MDU6SXNzdWU1NzE5MDcxMDU=", "number": 874, "title": "A warning that could lead to incorrect test results", "user": {"login": "Lornatang", "id": 31124350, "node_id": "MDQ6VXNlcjMxMTI0MzUw", "avatar_url": "https://avatars.githubusercontent.com/u/31124350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lornatang", "html_url": "https://github.com/Lornatang", "followers_url": "https://api.github.com/users/Lornatang/followers", "following_url": "https://api.github.com/users/Lornatang/following{/other_user}", "gists_url": "https://api.github.com/users/Lornatang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lornatang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lornatang/subscriptions", "organizations_url": "https://api.github.com/users/Lornatang/orgs", "repos_url": "https://api.github.com/users/Lornatang/repos", "events_url": "https://api.github.com/users/Lornatang/events{/privacy}", "received_events_url": "https://api.github.com/users/Lornatang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-27T08:31:56Z", "updated_at": "2020-02-27T19:30:07Z", "closed_at": "2020-02-27T19:30:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nI noticed that you defined iou= 0.5 when initializing the test function, but you changed the size to iou=0.6 during the actual call\u3002\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. This problem in `test.py` 17 line.\r\n```text\r\ndef test(cfg,\r\n         data,\r\n         weights=None,\r\n         batch_size=16,\r\n         img_size=416,\r\n         conf_thres=0.001,\r\n-->      iou_thres=0.5,  # for nms\r\n         save_json=False,\r\n         single_cls=False,\r\n         model=None,\r\n         dataloader=None):\r\n```\r\n2. But you're in the middle of the actual invocation\r\n```text\r\nparser.add_argument('--iou-thres', type=float, default=0.6, help='IOU threshold for NMS')\r\n...\r\n    if opt.task == 'test':  # task = 'test', 'study', 'benchmark'\r\n        # Test\r\n        test(opt.cfg,\r\n             opt.data,\r\n             opt.weights,\r\n             opt.batch_size,\r\n             opt.img_size, \r\n             opt.conf_thres,\r\n             opt.iou_thres,  # 0.6 not 0.5 for NMS\r\n             opt.save_json,\r\n             opt.single_cls)\r\n\r\n```\r\n\r\n## Expected behavior\r\nThe performance results of the test may vary somewhat\r\n\r\n## Environment\r\nPython==3.8.2\r\nPyTorch==1.4.0\r\nCUDA==10.1\r\nCUDNN==7.4\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [Ubuntu]\r\n - Version [18.04]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [iPhoneX]\r\n - OS: [iOS]\r\n - Version [13]\r\n\r\n## Additional context\r\nGood luck it.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/874/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/874/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/871", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/871/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/871/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/871/events", "html_url": "https://github.com/ultralytics/yolov3/issues/871", "id": 571100519, "node_id": "MDU6SXNzdWU1NzExMDA1MTk=", "number": 871, "title": "Class Optimizer() It's not in `torch.optim`", "user": {"login": "changyu98", "id": 60870905, "node_id": "MDQ6VXNlcjYwODcwOTA1", "avatar_url": "https://avatars.githubusercontent.com/u/60870905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/changyu98", "html_url": "https://github.com/changyu98", "followers_url": "https://api.github.com/users/changyu98/followers", "following_url": "https://api.github.com/users/changyu98/following{/other_user}", "gists_url": "https://api.github.com/users/changyu98/gists{/gist_id}", "starred_url": "https://api.github.com/users/changyu98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/changyu98/subscriptions", "organizations_url": "https://api.github.com/users/changyu98/orgs", "repos_url": "https://api.github.com/users/changyu98/repos", "events_url": "https://api.github.com/users/changyu98/events{/privacy}", "received_events_url": "https://api.github.com/users/changyu98/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-26T06:31:12Z", "updated_at": "2020-02-27T08:45:02Z", "closed_at": "2020-02-27T08:45:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nCannot find reference 'Optimizer' in '__init__.pyi' \r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. This problem exists in `utils/adabound` 3 line.\r\n2. I propose to change it to `from torch.optim.optimizer import Optimizer`\r\n\r\n## Expected behavior\r\nClear this error\r\n\r\n## Environment\r\nPython==3.7.5\r\nPyTorch==1.4\r\nCUDA==10.1\r\nCUDNN==7.4\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [Ubuntu]\r\n - Version [18.4]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [iPhoneX]\r\n - OS: [iOS]\r\n - Version [13.3]\r\n\r\n## Additional context\r\nGood luck it.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/871/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/866", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/866/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/866/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/866/events", "html_url": "https://github.com/ultralytics/yolov3/issues/866", "id": 569777316, "node_id": "MDU6SXNzdWU1Njk3NzczMTY=", "number": 866, "title": "why does the target include image", "user": {"login": "KochPJ", "id": 39192694, "node_id": "MDQ6VXNlcjM5MTkyNjk0", "avatar_url": "https://avatars.githubusercontent.com/u/39192694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KochPJ", "html_url": "https://github.com/KochPJ", "followers_url": "https://api.github.com/users/KochPJ/followers", "following_url": "https://api.github.com/users/KochPJ/following{/other_user}", "gists_url": "https://api.github.com/users/KochPJ/gists{/gist_id}", "starred_url": "https://api.github.com/users/KochPJ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KochPJ/subscriptions", "organizations_url": "https://api.github.com/users/KochPJ/orgs", "repos_url": "https://api.github.com/users/KochPJ/repos", "events_url": "https://api.github.com/users/KochPJ/events{/privacy}", "received_events_url": "https://api.github.com/users/KochPJ/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-24T10:53:15Z", "updated_at": "2020-02-24T20:16:57Z", "closed_at": "2020-02-24T20:16:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nthe dataset (LoadImagesAndLabels) used in the train.py for training returns the target as shape (number of labels, 6) in the __getitem__ call. Why is it 6? It sets the labels[:, 1:] = [class, x,y,w,h] but the labe[:, 0] index is left zero. In build_targets function called in the compute_loss function I found that the target is supposed to be [image, class, x, y, w, h]. However, I can not find any point in the code where this image is added to the target. Did I miss anything or why is this zero image inside the label? Does it have any purpose? \r\n\r\nI hope you can help me with my confusion. \r\n\r\nThanks\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/866/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/865", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/865/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/865/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/865/events", "html_url": "https://github.com/ultralytics/yolov3/issues/865", "id": 569431278, "node_id": "MDU6SXNzdWU1Njk0MzEyNzg=", "number": 865, "title": "Different results with same setting", "user": {"login": "pprp", "id": 29230784, "node_id": "MDQ6VXNlcjI5MjMwNzg0", "avatar_url": "https://avatars.githubusercontent.com/u/29230784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pprp", "html_url": "https://github.com/pprp", "followers_url": "https://api.github.com/users/pprp/followers", "following_url": "https://api.github.com/users/pprp/following{/other_user}", "gists_url": "https://api.github.com/users/pprp/gists{/gist_id}", "starred_url": "https://api.github.com/users/pprp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pprp/subscriptions", "organizations_url": "https://api.github.com/users/pprp/orgs", "repos_url": "https://api.github.com/users/pprp/repos", "events_url": "https://api.github.com/users/pprp/events{/privacy}", "received_events_url": "https://api.github.com/users/pprp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-02-23T03:36:58Z", "updated_at": "2020-02-25T02:08:58Z", "closed_at": "2020-02-24T07:02:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thank you for your outstanding work, I want to improve the network structure on my own database. However, I found a problem. After training the same network multiple times, the final results were very different.\r\n\r\nfirst run:\r\n```\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1194/1194 [00:47<00:00, 25.39it/s]\r\n                 all  2.39e+03  2.51e+03     0.938     0.921     0.913      0.93\r\n\r\n```\r\n\r\nsecond run:\r\n\r\n```\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1194/1194 [00:48<00:00, 24.74it/s]\r\n                 all  2.39e+03  2.51e+03     0.936     0.919     0.904     0.927\r\n```\r\n\r\nThe above two experiments are the same data, the same network, without changing any parameters.\r\n\r\nThis really confuses me. If each experiment cannot be reproduced, it is difficult to know whether the map promotion is caused by random factors or the network structure.\r\n\r\nI also noticed that the init_seeds method has been used in the code. But why the two training results are inconsistent? Do you have any suggestions for this?\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/865/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/865/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/864", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/864/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/864/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/864/events", "html_url": "https://github.com/ultralytics/yolov3/issues/864", "id": 569331151, "node_id": "MDU6SXNzdWU1NjkzMzExNTE=", "number": 864, "title": "Why I can't get good result in my own datasets?", "user": {"login": "BBuf", "id": 35585791, "node_id": "MDQ6VXNlcjM1NTg1Nzkx", "avatar_url": "https://avatars.githubusercontent.com/u/35585791?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BBuf", "html_url": "https://github.com/BBuf", "followers_url": "https://api.github.com/users/BBuf/followers", "following_url": "https://api.github.com/users/BBuf/following{/other_user}", "gists_url": "https://api.github.com/users/BBuf/gists{/gist_id}", "starred_url": "https://api.github.com/users/BBuf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BBuf/subscriptions", "organizations_url": "https://api.github.com/users/BBuf/orgs", "repos_url": "https://api.github.com/users/BBuf/repos", "events_url": "https://api.github.com/users/BBuf/events{/privacy}", "received_events_url": "https://api.github.com/users/BBuf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-02-22T12:56:16Z", "updated_at": "2020-09-07T09:46:37Z", "closed_at": "2020-02-25T01:32:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "@glenn-jocher  Hello, I recently trained two of my private detection datasets using AlexeyAB DarkNet and your project, one of which is two categories and one of which is a category, and my target sizes are all regular. Then I can achieve mAP values of 99.5 +% and 96% + respectively on AlexeyAB DarkNet, but using your project can only reach mAP values of 80% + and 70% +, respectively. I also use GIOU Loss in the AlexeyAB code, and all use the default parameters in your project. In addition, I use YOLOV3-Tiny network. I wonder if there might be some problems with this code?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/864/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/864/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/861", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/861/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/861/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/861/events", "html_url": "https://github.com/ultralytics/yolov3/issues/861", "id": 568105336, "node_id": "MDU6SXNzdWU1NjgxMDUzMzY=", "number": 861, "title": "84 Layer before convolutional layer must output image.: File exists", "user": {"login": "seboz123", "id": 49172919, "node_id": "MDQ6VXNlcjQ5MTcyOTE5", "avatar_url": "https://avatars.githubusercontent.com/u/49172919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seboz123", "html_url": "https://github.com/seboz123", "followers_url": "https://api.github.com/users/seboz123/followers", "following_url": "https://api.github.com/users/seboz123/following{/other_user}", "gists_url": "https://api.github.com/users/seboz123/gists{/gist_id}", "starred_url": "https://api.github.com/users/seboz123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seboz123/subscriptions", "organizations_url": "https://api.github.com/users/seboz123/orgs", "repos_url": "https://api.github.com/users/seboz123/repos", "events_url": "https://api.github.com/users/seboz123/events{/privacy}", "received_events_url": "https://api.github.com/users/seboz123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-20T07:31:02Z", "updated_at": "2023-04-21T21:06:50Z", "closed_at": "2020-02-24T23:18:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am trying to run launch yolo in ROS, based on the autoware package.\r\nUnfortunately when I run the network with the config: yolov3-spp.cfg and the converted weights from yolov3-spp-ultralytics.weights I get an Error in layer 84:\r\n84 Layer before convolutional layer must output image.: File exists\r\n/vision/darknet/src/utlis.c:253: error: Assertion '0' failed.\r\nThe config input height and width are 608.\r\n\r\nLoaded network config looks like this:\r\n   75 conv    512  1 x 1 / 1    19 x  19 x1024   ->    19 x  19 x 512  0.379 BFLOPs           \r\n   76 conv   1024  3 x 3 / 1    19 x  19 x 512   ->    19 x  19 x1024  3.407 BFLOPs           \r\n   77 conv    512  1 x 1 / 1    19 x  19 x1024   ->    19 x  19 x 512  0.379 BFLOPs           \r\n   78 max          5 x 5 / 1    19 x  19 x 512   ->    23 x  23 x 512                         \r\n   79 route  77                                                                               \r\n   80 max          9 x 9 / 1    19 x  19 x 512   ->    27 x  27 x 512                         \r\n   81 route  77                                                                               \r\n   82 max          13 x 13 / 1    19 x  19 x 512   ->    31 x  31 x 512                       \r\n   83 route  82 80 78 77                                                                      \r\n   84 Layer before convolutional layer must output image.: File exists\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/861/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/861/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/860", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/860/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/860/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/860/events", "html_url": "https://github.com/ultralytics/yolov3/issues/860", "id": 567872804, "node_id": "MDU6SXNzdWU1Njc4NzI4MDQ=", "number": 860, "title": "Bounding boxes stacked on live stream image", "user": {"login": "h-acks", "id": 47482916, "node_id": "MDQ6VXNlcjQ3NDgyOTE2", "avatar_url": "https://avatars.githubusercontent.com/u/47482916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h-acks", "html_url": "https://github.com/h-acks", "followers_url": "https://api.github.com/users/h-acks/followers", "following_url": "https://api.github.com/users/h-acks/following{/other_user}", "gists_url": "https://api.github.com/users/h-acks/gists{/gist_id}", "starred_url": "https://api.github.com/users/h-acks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h-acks/subscriptions", "organizations_url": "https://api.github.com/users/h-acks/orgs", "repos_url": "https://api.github.com/users/h-acks/repos", "events_url": "https://api.github.com/users/h-acks/events{/privacy}", "received_events_url": "https://api.github.com/users/h-acks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-19T21:56:52Z", "updated_at": "2023-04-21T21:06:51Z", "closed_at": "2020-04-02T00:07:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using a live stream from an IP camera, and each frame is being processed at a very high clip inference time ~ 0.02s. The bounding boxes of the detection's seem to be stacking on top of each other in the displayed frame. Is this a known issue?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/860/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/860/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/859", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/859/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/859/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/859/events", "html_url": "https://github.com/ultralytics/yolov3/issues/859", "id": 567484785, "node_id": "MDU6SXNzdWU1Njc0ODQ3ODU=", "number": 859, "title": "Train single class/Transfer learning on custom dataset", "user": {"login": "WolodjaZ", "id": 41760848, "node_id": "MDQ6VXNlcjQxNzYwODQ4", "avatar_url": "https://avatars.githubusercontent.com/u/41760848?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WolodjaZ", "html_url": "https://github.com/WolodjaZ", "followers_url": "https://api.github.com/users/WolodjaZ/followers", "following_url": "https://api.github.com/users/WolodjaZ/following{/other_user}", "gists_url": "https://api.github.com/users/WolodjaZ/gists{/gist_id}", "starred_url": "https://api.github.com/users/WolodjaZ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WolodjaZ/subscriptions", "organizations_url": "https://api.github.com/users/WolodjaZ/orgs", "repos_url": "https://api.github.com/users/WolodjaZ/repos", "events_url": "https://api.github.com/users/WolodjaZ/events{/privacy}", "received_events_url": "https://api.github.com/users/WolodjaZ/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-19T10:55:27Z", "updated_at": "2020-02-25T21:28:22Z", "closed_at": "2020-02-25T21:28:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "When i try to train a model on my custom dataset following instructions on Training single class/Transfer learning in evaluation time exception throws \"RuntimeError: invalid argument 0: Sizes of tensors must match except in dimension 1. Got 6 and 85 in dimension 2\". The training process runs like it is supposed to but when the evaluation is coming (test.py) in first insertion images to model it throws this exception. Firstly i tried changing the sizes of test dataset but it didn't help. \r\n\r\nSteps to reproduce the behavior:\r\n1. Train on one class \r\n2. python3 train.py --data data/coco_1cls.data --cfg cfg/my_new_file.cfg --weigths weights/yolov3.pt\r\n\r\nI also noticed that in transfer learning tutorial you put --transfer flag on train,py but when i check code i don't see this flag and when ruining with this flag it throws error.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/859/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/859/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/854", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/854/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/854/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/854/events", "html_url": "https://github.com/ultralytics/yolov3/issues/854", "id": 565852223, "node_id": "MDU6SXNzdWU1NjU4NTIyMjM=", "number": 854, "title": "Error when I want to resume or train with last.pt weight", "user": {"login": "ThorPham", "id": 33828708, "node_id": "MDQ6VXNlcjMzODI4NzA4", "avatar_url": "https://avatars.githubusercontent.com/u/33828708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThorPham", "html_url": "https://github.com/ThorPham", "followers_url": "https://api.github.com/users/ThorPham/followers", "following_url": "https://api.github.com/users/ThorPham/following{/other_user}", "gists_url": "https://api.github.com/users/ThorPham/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThorPham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThorPham/subscriptions", "organizations_url": "https://api.github.com/users/ThorPham/orgs", "repos_url": "https://api.github.com/users/ThorPham/repos", "events_url": "https://api.github.com/users/ThorPham/events{/privacy}", "received_events_url": "https://api.github.com/users/ThorPham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-02-16T05:01:06Z", "updated_at": "2020-03-19T18:56:27Z", "closed_at": "2020-02-18T09:41:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to resume to train but i have error.\r\npython train.py --epoch 20 --batch-size 8 --cfg cfg/yolov3.cfg --weight weights/last.pt  --rect --data data/coco.data --single-cls\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 436, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 295, in train\r\n    optimizer.step()\r\n  File \"/home/thorpham/anaconda3/envs/thorpham/lib/python3.5/site-packages/torch/optim/sgd.py\", line 100, in step\r\n    buf.mul_(momentum).add_(1 - dampening, d_p)\r\nRuntimeError: The size of tensor a (32) must match the size of tensor b (128) at non-singleton dimension 0\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/854/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/854/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/844", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/844/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/844/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/844/events", "html_url": "https://github.com/ultralytics/yolov3/issues/844", "id": 563805534, "node_id": "MDU6SXNzdWU1NjM4MDU1MzQ=", "number": 844, "title": "Please help me how to detect with onnx", "user": {"login": "17702513221", "id": 40785359, "node_id": "MDQ6VXNlcjQwNzg1MzU5", "avatar_url": "https://avatars.githubusercontent.com/u/40785359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/17702513221", "html_url": "https://github.com/17702513221", "followers_url": "https://api.github.com/users/17702513221/followers", "following_url": "https://api.github.com/users/17702513221/following{/other_user}", "gists_url": "https://api.github.com/users/17702513221/gists{/gist_id}", "starred_url": "https://api.github.com/users/17702513221/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/17702513221/subscriptions", "organizations_url": "https://api.github.com/users/17702513221/orgs", "repos_url": "https://api.github.com/users/17702513221/repos", "events_url": "https://api.github.com/users/17702513221/events{/privacy}", "received_events_url": "https://api.github.com/users/17702513221/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-12T07:26:24Z", "updated_at": "2023-04-21T21:06:58Z", "closed_at": "2020-02-14T06:36:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "When i use onnx==1.6.0,ONNX_EXPORT = True,i get a error:\u6bb5\u9519\u8bef (\u6838\u5fc3\u5df2\u8f6c\u50a8)\r\nWhen i use onnx==1.5.0,i success,but when i use --weights', type=str, default='weights/export.onnx',the error is \r\n    load_darknet_weights(model, weights)\r\n  File \"/home/xs/xs_demo/yolov3/models.py\", line 363, in load_darknet_weights\r\n    conv_w = torch.from_numpy(weights[ptr:ptr + num_w]).view_as(conv_layer.weight)\r\nRuntimeError: shape '[255, 256, 1, 1]' is invalid for input of size 14231\r\nCan you help me.l want to use it in tensorrt  inference service", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/844/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/844/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/843", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/843/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/843/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/843/events", "html_url": "https://github.com/ultralytics/yolov3/issues/843", "id": 563405045, "node_id": "MDU6SXNzdWU1NjM0MDUwNDU=", "number": 843, "title": "Problem with shape with running detect.py example", "user": {"login": "Dominux", "id": 55978340, "node_id": "MDQ6VXNlcjU1OTc4MzQw", "avatar_url": "https://avatars.githubusercontent.com/u/55978340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dominux", "html_url": "https://github.com/Dominux", "followers_url": "https://api.github.com/users/Dominux/followers", "following_url": "https://api.github.com/users/Dominux/following{/other_user}", "gists_url": "https://api.github.com/users/Dominux/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dominux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dominux/subscriptions", "organizations_url": "https://api.github.com/users/Dominux/orgs", "repos_url": "https://api.github.com/users/Dominux/repos", "events_url": "https://api.github.com/users/Dominux/events{/privacy}", "received_events_url": "https://api.github.com/users/Dominux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-02-11T18:49:54Z", "updated_at": "2023-04-21T21:07:00Z", "closed_at": "2020-03-05T21:03:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I cloned repo and ran:\r\n\r\n`python detect.py --cfg cfg/yolov3-spp.cfg --weights yolov3-spp.weights`\r\n\r\nAnd got that:\r\n\r\n```\r\nNamespace(agnostic_nms=False, cfg='cfg/yolov3-spp.cfg', classes=None, conf_thres=0.3, device='', fourcc='mp4v', half=False, img_size=416, iou_thres=0.5, names='data/coco.names', output='output', save_txt=False, source='data/samples', view_img=False, weights='yolov3-spp.weights')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce MX230', total_memory=2048MB)\r\n\r\nTraceback (most recent call last):\r\n  File \"detect.py\", line 179, in <module>\r\n    detect()\r\n  File \"detect.py\", line 28, in detect\r\n    load_darknet_weights(model, weights)\r\n  File \"d:\\My_scripts\\Fashion is my profession\\Projects versions\\D\\yolov3\\models.py\", line 363, in load_darknet_weights\r\n    conv_w = torch.from_numpy(weights[ptr:ptr + num_w]).view_as(conv_layer.weight)\r\nRuntimeError: shape '[32, 3, 3, 3]' is invalid for input of size 255\r\n```\r\n\r\n\r\nI have:\r\n\r\n* Windows 10\r\n* Nvidia GeForce MX230 with 2GB VRAM\r\n* Cuda 10.1\r\n* Python 3.7.5\r\n* PyTorch with \"Today's version\"\r\n\r\nAny idea?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/843/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/843/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/842", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/842/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/842/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/842/events", "html_url": "https://github.com/ultralytics/yolov3/issues/842", "id": 563082727, "node_id": "MDU6SXNzdWU1NjMwODI3Mjc=", "number": 842, "title": "WARNING: non-finite loss, ending training  tensor([nan, nan, nan, nan], device='cuda:0')", "user": {"login": "alontrais", "id": 54616588, "node_id": "MDQ6VXNlcjU0NjE2NTg4", "avatar_url": "https://avatars.githubusercontent.com/u/54616588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alontrais", "html_url": "https://github.com/alontrais", "followers_url": "https://api.github.com/users/alontrais/followers", "following_url": "https://api.github.com/users/alontrais/following{/other_user}", "gists_url": "https://api.github.com/users/alontrais/gists{/gist_id}", "starred_url": "https://api.github.com/users/alontrais/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alontrais/subscriptions", "organizations_url": "https://api.github.com/users/alontrais/orgs", "repos_url": "https://api.github.com/users/alontrais/repos", "events_url": "https://api.github.com/users/alontrais/events{/privacy}", "received_events_url": "https://api.github.com/users/alontrais/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 27, "created_at": "2020-02-11T09:46:20Z", "updated_at": "2023-04-21T21:07:02Z", "closed_at": "2020-05-13T00:09:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I cloned the newest version, when I run the train script I get this warning:\r\nWARNING: non-finite loss, ending training  tensor([nan, nan, nan, nan], device='cuda:0')\r\n\r\n\r\nCaching labels (20 found, 0 missing, 0 empty, 0 duplicate, for 20 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 20/20 [00:00<00:00, 465.89it/s]\r\nCaching labels (10 found, 0 missing, 0 empty, 0 duplicate, for 10 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 10/10 [00:00<00:00, 468.26it/s]\r\nModel Summary: 225 layers, 6.25787e+07 parameters, 6.25787e+07 gradients\r\nUsing 0 dataloader workers\r\nStarting training for 2730 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n    0/2729     14.9G      8.15   1.4e+03       111  1.52e+03       982   2.5e+03: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 20/20 [02:39<00:00,  7.95s/it]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 5/5 [00:32<00:00,  6.52s/it]\r\n                 all        10  1.08e+04         0         0         0         0\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n    1/2729     14.9G      7.21  1.23e+03      82.3  1.32e+03  1.42e+03   2.5e+03: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 20/20 [02:14<00:00,  6.71s/it]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 5/5 [00:11<00:00,  2.24s/it]\r\n                 all        10  1.08e+04         0         0         0         0\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n    2/2729     14.9G       7.7  5.06e+04      27.3  5.06e+04  1.31e+03   2.5e+03: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 20/20 [02:14<00:00,  6.73s/it]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 5/5 [00:18<00:00,  3.66s/it]\r\n                 all        10  1.08e+04   0.00031    0.0185  1.09e-05  0.000611\r\n\r\nModel Bias Summary:    layer        regression        objectness    classification\r\n                          89       0.00+/-0.02      -5.43+/-0.01      -5.00+/-0.01\r\n                         101      -0.01+/-0.02      -5.83+/-0.05      -4.97+/-0.06\r\n                         113      -0.02+/-0.10     -17.67+/-22.01     -2.75+/-2.99\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n    3/2729     14.9G      8.58  5.33e+04      24.8  5.33e+04  1.63e+03   2.5e+03: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 20/20 [02:14<00:00,  6.72s/it]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 5/5 [00:11<00:00,  2.21s/it]\r\n                 all        10  1.08e+04         0         0         0         0\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n    4/2729     14.9G      9.05 -7.83e+03      31.4 -7.79e+03  1.24e+03   2.5e+03: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 20/20 [02:15<00:00,  6.79s/it]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 5/5 [00:11<00:00,  2.22s/it]\r\n                 all        10  1.08e+04         0         0         0         0\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n    5/2729     14.9G      15.1  -3.9e+06  1.19e+03  -3.9e+06  1.74e+03   2.5e+03:  85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 17/20 [01:53<00:20,  6.81s/it]WARNING: non-finite loss, ending training  tensor([nan, nan, nan, nan], device='cuda:0')\r\n    5/2729     14.9G      15.1  -3.9e+06  1.19e+03  -3.9e+06  1.74e+03   2.5e+03:  85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 17/20 [01:57<00:20,  6.92s/it]\r\n\r\nWhen I run the previous version a month ago, I don't get this warning\r\n\r\nWhat could be the problem?\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/842/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/842/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/836", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/836/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/836/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/836/events", "html_url": "https://github.com/ultralytics/yolov3/issues/836", "id": 562066226, "node_id": "MDU6SXNzdWU1NjIwNjYyMjY=", "number": 836, "title": "tqdm error", "user": {"login": "poyaaa", "id": 60825897, "node_id": "MDQ6VXNlcjYwODI1ODk3", "avatar_url": "https://avatars.githubusercontent.com/u/60825897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poyaaa", "html_url": "https://github.com/poyaaa", "followers_url": "https://api.github.com/users/poyaaa/followers", "following_url": "https://api.github.com/users/poyaaa/following{/other_user}", "gists_url": "https://api.github.com/users/poyaaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/poyaaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poyaaa/subscriptions", "organizations_url": "https://api.github.com/users/poyaaa/orgs", "repos_url": "https://api.github.com/users/poyaaa/repos", "events_url": "https://api.github.com/users/poyaaa/events{/privacy}", "received_events_url": "https://api.github.com/users/poyaaa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-08T19:27:12Z", "updated_at": "2023-04-21T21:07:05Z", "closed_at": "2020-03-03T01:50:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Error:\r\n\r\n![error](https://user-images.githubusercontent.com/60825897/74090813-19cb7b80-4ac5-11ea-8fbf-d303ef8e739f.jpg)\r\n\r\nGoogle Colab", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/836/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/836/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/829", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/829/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/829/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/829/events", "html_url": "https://github.com/ultralytics/yolov3/issues/829", "id": 560320089, "node_id": "MDU6SXNzdWU1NjAzMjAwODk=", "number": 829, "title": "Fastai notebook not working", "user": {"login": "Phelan164", "id": 2509508, "node_id": "MDQ6VXNlcjI1MDk1MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/2509508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Phelan164", "html_url": "https://github.com/Phelan164", "followers_url": "https://api.github.com/users/Phelan164/followers", "following_url": "https://api.github.com/users/Phelan164/following{/other_user}", "gists_url": "https://api.github.com/users/Phelan164/gists{/gist_id}", "starred_url": "https://api.github.com/users/Phelan164/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Phelan164/subscriptions", "organizations_url": "https://api.github.com/users/Phelan164/orgs", "repos_url": "https://api.github.com/users/Phelan164/repos", "events_url": "https://api.github.com/users/Phelan164/events{/privacy}", "received_events_url": "https://api.github.com/users/Phelan164/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-05T11:48:07Z", "updated_at": "2023-04-21T21:07:07Z", "closed_at": "2020-02-05T16:51:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nFastai notebook not working in loading model\r\n\r\n--> 692     magic_number = pickle_module.load(f, **pickle_load_args)\r\n    693     if magic_number != MAGIC_NUMBER:\r\n    694         raise RuntimeError(\"Invalid magic number; corrupt file?\")\r\n\r\nUnpicklingError: invalid load key, 'v'.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. \r\n2. \r\n3. \r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/829/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/829/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/820", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/820/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/820/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/820/events", "html_url": "https://github.com/ultralytics/yolov3/issues/820", "id": 558114842, "node_id": "MDU6SXNzdWU1NTgxMTQ4NDI=", "number": 820, "title": " The following error occurred with the parameter --adam", "user": {"login": "wemindful", "id": 23290864, "node_id": "MDQ6VXNlcjIzMjkwODY0", "avatar_url": "https://avatars.githubusercontent.com/u/23290864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wemindful", "html_url": "https://github.com/wemindful", "followers_url": "https://api.github.com/users/wemindful/followers", "following_url": "https://api.github.com/users/wemindful/following{/other_user}", "gists_url": "https://api.github.com/users/wemindful/gists{/gist_id}", "starred_url": "https://api.github.com/users/wemindful/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wemindful/subscriptions", "organizations_url": "https://api.github.com/users/wemindful/orgs", "repos_url": "https://api.github.com/users/wemindful/repos", "events_url": "https://api.github.com/users/wemindful/events{/privacy}", "received_events_url": "https://api.github.com/users/wemindful/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-31T12:53:17Z", "updated_at": "2020-01-31T12:54:33Z", "closed_at": "2020-01-31T12:54:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. The following error occurred with the parameter --adam\r\n```\r\nraceback (most recent call last):\r\n  File \"train.py\", line 437, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 295, in train\r\n    optimizer.step()\r\n  File \"D:\\Program Files\\Python\\Python37\\lib\\site-packages\\torch\\optim\\lr_scheduler.py\", line 66, in wrapper\r\n    return wrapped(*args, **kwargs)\r\n  File \"D:\\Program Files\\Python\\Python37\\lib\\site-packages\\torch\\optim\\adam.py\", line 82, in step\r\n    exp_avg, exp_avg_sq = state['exp_avg'], state['exp_avg_sq']\r\nKeyError: 'exp_avg'\r\n  0%|\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/820/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/820/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/819", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/819/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/819/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/819/events", "html_url": "https://github.com/ultralytics/yolov3/issues/819", "id": 558070161, "node_id": "MDU6SXNzdWU1NTgwNzAxNjE=", "number": 819, "title": "Using different batch size leads to different results when running test.py", "user": {"login": "pprp", "id": 29230784, "node_id": "MDQ6VXNlcjI5MjMwNzg0", "avatar_url": "https://avatars.githubusercontent.com/u/29230784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pprp", "html_url": "https://github.com/pprp", "followers_url": "https://api.github.com/users/pprp/followers", "following_url": "https://api.github.com/users/pprp/following{/other_user}", "gists_url": "https://api.github.com/users/pprp/gists{/gist_id}", "starred_url": "https://api.github.com/users/pprp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pprp/subscriptions", "organizations_url": "https://api.github.com/users/pprp/orgs", "repos_url": "https://api.github.com/users/pprp/repos", "events_url": "https://api.github.com/users/pprp/events{/privacy}", "received_events_url": "https://api.github.com/users/pprp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-31T11:15:40Z", "updated_at": "2020-02-01T14:10:51Z", "closed_at": "2020-02-01T14:10:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\n@glenn-jocher Thank you for your excellent work, but I encountered a bug.\r\n\r\nI only have 39 pictures for testing.\r\n\r\nIf batch size > total number of pictures, the F1 score is 86.4% and map is 78.2%.\r\n\r\nIf batch size <total number of pictures, the F1 score is 85% and the map is 77.7%.\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. batch size = 64\r\n\r\n```\r\npython test.py --cfg cfg/yolov3.cfg --weights  weights/best.pt --batch-size 64\r\n```\r\n\r\nI got:\r\n\r\n```\r\nUsing CUDA device0 _CudaDeviceProperties(name='Tesla P100-PCIE-16GB', total_memory=16276MB)\r\n           device1 _CudaDeviceProperties(name='Tesla P100-PCIE-16GB', total_memory=16276MB)\r\n\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1/1 [00:11<00:00, 11.50s/it]\r\n                 all        39        65     0.962     0.785     0.782     0.864\r\n\r\n```\r\n2. batch size = 4\r\n\r\n```\r\npython test.py --cfg cfg/yolov3.cfg --weights  weights/best.pt --batch-size 4\r\n```\r\n\r\nI got:\r\n\r\n\r\n\r\n```\r\nUsing CUDA device0 _CudaDeviceProperties(name='Tesla P100-PCIE-16GB', total_memory=16276MB)\r\n           device1 _CudaDeviceProperties(name='Tesla P100-PCIE-16GB', total_memory=16276MB)\r\n\r\n               Class    Images   Targets         P         R   mAP@0.5        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 10/10 [00:10<00:00,  1.09s/it]\r\n                 all        39        65     0.927     0.785     0.777      0.85\r\n\r\n```\r\n\r\n\r\nDo you know where the problem is? Thank you very much!\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/819/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/819/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/816", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/816/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/816/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/816/events", "html_url": "https://github.com/ultralytics/yolov3/issues/816", "id": 557810994, "node_id": "MDU6SXNzdWU1NTc4MTA5OTQ=", "number": 816, "title": "image size", "user": {"login": "melih1996", "id": 34304254, "node_id": "MDQ6VXNlcjM0MzA0MjU0", "avatar_url": "https://avatars.githubusercontent.com/u/34304254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/melih1996", "html_url": "https://github.com/melih1996", "followers_url": "https://api.github.com/users/melih1996/followers", "following_url": "https://api.github.com/users/melih1996/following{/other_user}", "gists_url": "https://api.github.com/users/melih1996/gists{/gist_id}", "starred_url": "https://api.github.com/users/melih1996/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/melih1996/subscriptions", "organizations_url": "https://api.github.com/users/melih1996/orgs", "repos_url": "https://api.github.com/users/melih1996/repos", "events_url": "https://api.github.com/users/melih1996/events{/privacy}", "received_events_url": "https://api.github.com/users/melih1996/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-30T23:07:32Z", "updated_at": "2023-04-21T21:07:13Z", "closed_at": "2020-02-11T08:13:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I have a dataset which has variety of width,height pairs. I completed the steps in the tutorial but when I run train.py , I got the error message below:\r\nRuntimeError: shape '[16, 3, 15, 13, 13]' is invalid for input of size 689520", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/816/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/815", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/815/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/815/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/815/events", "html_url": "https://github.com/ultralytics/yolov3/issues/815", "id": 557673966, "node_id": "MDU6SXNzdWU1NTc2NzM5NjY=", "number": 815, "title": "ValueError: Format 'jpg' is not supported (supported formats: eps, pdf, pgf, png, ps, raw, rgba, svg, svgz)", "user": {"login": "SkalskiP", "id": 26109316, "node_id": "MDQ6VXNlcjI2MTA5MzE2", "avatar_url": "https://avatars.githubusercontent.com/u/26109316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SkalskiP", "html_url": "https://github.com/SkalskiP", "followers_url": "https://api.github.com/users/SkalskiP/followers", "following_url": "https://api.github.com/users/SkalskiP/following{/other_user}", "gists_url": "https://api.github.com/users/SkalskiP/gists{/gist_id}", "starred_url": "https://api.github.com/users/SkalskiP/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SkalskiP/subscriptions", "organizations_url": "https://api.github.com/users/SkalskiP/orgs", "repos_url": "https://api.github.com/users/SkalskiP/repos", "events_url": "https://api.github.com/users/SkalskiP/events{/privacy}", "received_events_url": "https://api.github.com/users/SkalskiP/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-01-30T18:30:23Z", "updated_at": "2020-03-11T00:09:41Z", "closed_at": "2020-03-11T00:09:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nWhen you run train.py script you get an exception, which I put in the title. \r\n\r\n`\r\nFile \"train.py\", line 439, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 259, in train\r\n    plot_images(imgs=imgs, targets=targets, paths=paths, fname=fname)\r\n  File \"/home/pskalski/Documents/REPOS/YOLO_ROLLS/yolov3/utils/utils.py\", line 936, in plot_images\r\n    fig.savefig(fname, dpi=200)\r\n  File \"/home/pskalski/Documents/REPOS/YOLO_ROLLS/yolov3/.env/lib/python3.7/site-packages/matplotlib/figure.py\", line 2180, in savefig\r\n    self.canvas.print_figure(fname, **kwargs)\r\n  File \"/home/pskalski/Documents/REPOS/YOLO_ROLLS/yolov3/.env/lib/python3.7/site-packages/matplotlib/backend_bases.py\", line 2021, in print_figure\r\n    canvas = self._get_output_canvas(format)\r\n  File \"/home/pskalski/Documents/REPOS/YOLO_ROLLS/yolov3/.env/lib/python3.7/site-packages/matplotlib/backend_bases.py\", line 1963, in _get_output_canvas\r\n    .format(fmt, \", \".join(sorted(self.get_supported_filetypes()))))\r\nValueError: Format 'jpg' is not supported (supported formats: eps, pdf, pgf, png, ps, raw, rgba, svg, svgz)\r\n`\r\n\r\nLocally this can be fixed by changing the extension of the saved image from .jpg to .png. But I've located the problem source here: \r\nhttps://github.com/matplotlib/matplotlib/issues/16083\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Just run `train.py` script.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/815/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/815/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/812", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/812/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/812/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/812/events", "html_url": "https://github.com/ultralytics/yolov3/issues/812", "id": 556663451, "node_id": "MDU6SXNzdWU1NTY2NjM0NTE=", "number": 812, "title": "I have three questions about training.Please help me.", "user": {"login": "MengtianLee", "id": 42642078, "node_id": "MDQ6VXNlcjQyNjQyMDc4", "avatar_url": "https://avatars.githubusercontent.com/u/42642078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MengtianLee", "html_url": "https://github.com/MengtianLee", "followers_url": "https://api.github.com/users/MengtianLee/followers", "following_url": "https://api.github.com/users/MengtianLee/following{/other_user}", "gists_url": "https://api.github.com/users/MengtianLee/gists{/gist_id}", "starred_url": "https://api.github.com/users/MengtianLee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MengtianLee/subscriptions", "organizations_url": "https://api.github.com/users/MengtianLee/orgs", "repos_url": "https://api.github.com/users/MengtianLee/repos", "events_url": "https://api.github.com/users/MengtianLee/events{/privacy}", "received_events_url": "https://api.github.com/users/MengtianLee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-29T06:23:49Z", "updated_at": "2020-01-31T19:20:04Z", "closed_at": "2020-01-31T19:20:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n1.The first question is that why the precision is always dramatically decrease on the last epoch?I find that is not an occasional  phenomena.\r\n2.The second question is that during the training whether the mAP is calculated by the partial data from train_path or by the data from test_path? I know is an easy question, but i spend so many time on it without any results.\r\n3.The last question is that it is reasonable that the mAP on test dataset preform better than valid dataset? BTW, the gap of both is narrow.\r\nThanks a lot.I really need you answer. ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/812/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/812/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/810", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/810/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/810/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/810/events", "html_url": "https://github.com/ultralytics/yolov3/issues/810", "id": 555925647, "node_id": "MDU6SXNzdWU1NTU5MjU2NDc=", "number": 810, "title": "Update on Docker Quickstart", "user": {"login": "HongyiSun", "id": 7351548, "node_id": "MDQ6VXNlcjczNTE1NDg=", "avatar_url": "https://avatars.githubusercontent.com/u/7351548?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HongyiSun", "html_url": "https://github.com/HongyiSun", "followers_url": "https://api.github.com/users/HongyiSun/followers", "following_url": "https://api.github.com/users/HongyiSun/following{/other_user}", "gists_url": "https://api.github.com/users/HongyiSun/gists{/gist_id}", "starred_url": "https://api.github.com/users/HongyiSun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HongyiSun/subscriptions", "organizations_url": "https://api.github.com/users/HongyiSun/orgs", "repos_url": "https://api.github.com/users/HongyiSun/repos", "events_url": "https://api.github.com/users/HongyiSun/events{/privacy}", "received_events_url": "https://api.github.com/users/HongyiSun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-28T01:06:33Z", "updated_at": "2023-04-21T21:07:15Z", "closed_at": "2020-01-29T18:10:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nHello, Thank you for you great work, I'm trying to reproduce your project from a docker image.\r\n\r\nFor the [Docker Quickstart Guide](https://github.com/ultralytics/yolov3/wiki/Docker-Quickstart#3-run-container), the`nvidia-docker run` usage is deprecated according to the new [nvidia-docker installation guide](https://github.com/NVIDIA/nvidia-docker). Where we should use `docker run --gpus all` instead on both [3. Run Container] and [4. Run Container with Local Directory Access] parts.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/810/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/810/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/807", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/807/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/807/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/807/events", "html_url": "https://github.com/ultralytics/yolov3/issues/807", "id": 555172382, "node_id": "MDU6SXNzdWU1NTUxNzIzODI=", "number": 807, "title": "fuse_conv_and_bn", "user": {"login": "LinCoce", "id": 16974482, "node_id": "MDQ6VXNlcjE2OTc0NDgy", "avatar_url": "https://avatars.githubusercontent.com/u/16974482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinCoce", "html_url": "https://github.com/LinCoce", "followers_url": "https://api.github.com/users/LinCoce/followers", "following_url": "https://api.github.com/users/LinCoce/following{/other_user}", "gists_url": "https://api.github.com/users/LinCoce/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinCoce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinCoce/subscriptions", "organizations_url": "https://api.github.com/users/LinCoce/orgs", "repos_url": "https://api.github.com/users/LinCoce/repos", "events_url": "https://api.github.com/users/LinCoce/events{/privacy}", "received_events_url": "https://api.github.com/users/LinCoce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1035696373, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/help%20wanted", "name": "help wanted", "color": "008672", "default": true, "description": "Extra attention is needed"}], "state": "closed", "locked": false, "assignee": {"login": "LinCoce", "id": 16974482, "node_id": "MDQ6VXNlcjE2OTc0NDgy", "avatar_url": "https://avatars.githubusercontent.com/u/16974482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinCoce", "html_url": "https://github.com/LinCoce", "followers_url": "https://api.github.com/users/LinCoce/followers", "following_url": "https://api.github.com/users/LinCoce/following{/other_user}", "gists_url": "https://api.github.com/users/LinCoce/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinCoce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinCoce/subscriptions", "organizations_url": "https://api.github.com/users/LinCoce/orgs", "repos_url": "https://api.github.com/users/LinCoce/repos", "events_url": "https://api.github.com/users/LinCoce/events{/privacy}", "received_events_url": "https://api.github.com/users/LinCoce/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "LinCoce", "id": 16974482, "node_id": "MDQ6VXNlcjE2OTc0NDgy", "avatar_url": "https://avatars.githubusercontent.com/u/16974482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinCoce", "html_url": "https://github.com/LinCoce", "followers_url": "https://api.github.com/users/LinCoce/followers", "following_url": "https://api.github.com/users/LinCoce/following{/other_user}", "gists_url": "https://api.github.com/users/LinCoce/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinCoce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinCoce/subscriptions", "organizations_url": "https://api.github.com/users/LinCoce/orgs", "repos_url": "https://api.github.com/users/LinCoce/repos", "events_url": "https://api.github.com/users/LinCoce/events{/privacy}", "received_events_url": "https://api.github.com/users/LinCoce/received_events", "type": "User", "site_admin": false}, {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2020-01-26T03:32:12Z", "updated_at": "2020-01-31T19:20:43Z", "closed_at": "2020-01-31T19:20:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### File \"torch_utils.py\", line 44, fuse_conv_and_bn() funtion\r\nThis function is from https://tehnokv.com/posts/fusing-batchnorm-and-conv/, but i think the original implementation is flawed. The fuse formula is\r\n![image](https://user-images.githubusercontent.com/16974482/73130188-86a73600-402e-11ea-93fc-afdf86dc29f4.png), but the code for fusedconv.bias calculation is: `fusedconv.bias.copy_( b_conv + b_bn )`. I think **`w_bn`** has been forgot.\r\nThe test result is still right cause when BN is used, the bias in conv is usually canceled. So the inference calculation is not affected. But I think the code is till not rigorous enough.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/807/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/790", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/790/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/790/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/790/events", "html_url": "https://github.com/ultralytics/yolov3/issues/790", "id": 551776727, "node_id": "MDU6SXNzdWU1NTE3NzY3Mjc=", "number": 790, "title": "weight conversion", "user": {"login": "poornimajd", "id": 31023599, "node_id": "MDQ6VXNlcjMxMDIzNTk5", "avatar_url": "https://avatars.githubusercontent.com/u/31023599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poornimajd", "html_url": "https://github.com/poornimajd", "followers_url": "https://api.github.com/users/poornimajd/followers", "following_url": "https://api.github.com/users/poornimajd/following{/other_user}", "gists_url": "https://api.github.com/users/poornimajd/gists{/gist_id}", "starred_url": "https://api.github.com/users/poornimajd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poornimajd/subscriptions", "organizations_url": "https://api.github.com/users/poornimajd/orgs", "repos_url": "https://api.github.com/users/poornimajd/repos", "events_url": "https://api.github.com/users/poornimajd/events{/privacy}", "received_events_url": "https://api.github.com/users/poornimajd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-18T14:32:19Z", "updated_at": "2020-01-18T19:25:57Z", "closed_at": "2020-01-18T19:25:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I actually wanted to convert the darknet weights to caffe using pytorch.Using the repository I converted darknet yolov3 weights to pytorch but how do I convert the darknet yolov3 pytorch weights to caffe weights .\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/790/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/789", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/789/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/789/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/789/events", "html_url": "https://github.com/ultralytics/yolov3/issues/789", "id": 551728623, "node_id": "MDU6SXNzdWU1NTE3Mjg2MjM=", "number": 789, "title": "Node has input size 4 not in range [min=2, max=2]", "user": {"login": "cloudrivers", "id": 24874934, "node_id": "MDQ6VXNlcjI0ODc0OTM0", "avatar_url": "https://avatars.githubusercontent.com/u/24874934?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cloudrivers", "html_url": "https://github.com/cloudrivers", "followers_url": "https://api.github.com/users/cloudrivers/followers", "following_url": "https://api.github.com/users/cloudrivers/following{/other_user}", "gists_url": "https://api.github.com/users/cloudrivers/gists{/gist_id}", "starred_url": "https://api.github.com/users/cloudrivers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cloudrivers/subscriptions", "organizations_url": "https://api.github.com/users/cloudrivers/orgs", "repos_url": "https://api.github.com/users/cloudrivers/repos", "events_url": "https://api.github.com/users/cloudrivers/events{/privacy}", "received_events_url": "https://api.github.com/users/cloudrivers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-01-18T06:21:12Z", "updated_at": "2020-03-25T23:32:27Z", "closed_at": "2020-01-19T05:37:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n Hi, When I follow the advise to save a onnx model. But onnx.checker.check_model(model)  faild.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Set ONNX_EXPORT to True\r\n2. have torch.onnx.export(model, img, 'weights/michael_export.onnx', verbose=True, opset_version=11)\r\n3. run detect.py\r\n\r\n## Environment\r\npytorch : 1.3.1\r\nonnx: 1.5.0\r\npython: 3.6.6\r\n\r\n## Error info\r\nTraceback (most recent call last):\r\n  File \"detect.py\", line 178, in <module>\r\n    detect()\r\n  File \"detect.py\", line 52, in detect\r\n    onnx.checker.check_model(model)  # Check that the IR is well formed \r\n  File \"/home/ubuntu/anaconda3/envs/pytorch_p36/lib/python3.6/site-packages/onnx/checker.py\", line 86, in check_model\r\n    C.check_model(model.SerializeToString())\r\nonnx.onnx_cpp2py_export.checker.ValidationError: Node () has input size 4 not in range [min=2, max=2].\r\n\r\n==> Context: Bad node spec: input: \"675\" input: \"698\" input: \"698\" input: \"697\" output: \"699\" op_type: \"Resize\" attribute { name: \"coordinate_transformation_mode\" s: \"asymmetric\" type: STRING } attribute { name: \"cubic_coeff_a\" f: -0.75 type: FLOAT } attribute { name: \"mode\" s: \"nearest\" type: STRING } attribute { name: \"nearest_mode\" s: \"floor\" type: STRING }\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/786", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/786/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/786/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/786/events", "html_url": "https://github.com/ultralytics/yolov3/issues/786", "id": 551080662, "node_id": "MDU6SXNzdWU1NTEwODA2NjI=", "number": 786, "title": "test.py    IndexError: list index out of range", "user": {"login": "yoga-0125", "id": 57866841, "node_id": "MDQ6VXNlcjU3ODY2ODQx", "avatar_url": "https://avatars.githubusercontent.com/u/57866841?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoga-0125", "html_url": "https://github.com/yoga-0125", "followers_url": "https://api.github.com/users/yoga-0125/followers", "following_url": "https://api.github.com/users/yoga-0125/following{/other_user}", "gists_url": "https://api.github.com/users/yoga-0125/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoga-0125/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoga-0125/subscriptions", "organizations_url": "https://api.github.com/users/yoga-0125/orgs", "repos_url": "https://api.github.com/users/yoga-0125/repos", "events_url": "https://api.github.com/users/yoga-0125/events{/privacy}", "received_events_url": "https://api.github.com/users/yoga-0125/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-01-16T22:00:27Z", "updated_at": "2020-05-10T02:13:20Z", "closed_at": "2020-01-16T22:19:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Use test.py with custom dataset:\r\n\r\nProblem 1: \r\nrun -> cocoGt = COCO(glob.glob('../coco/annotations/instances_val*.json')[0])\r\nerror -> IndexError: list index out of range\r\n\r\nProblem 2: \r\nin definition, test(...save_json=False). Why save_json=True when running the code?\r\n\r\nThank you for your help. ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/786/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/782", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/782/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/782/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/782/events", "html_url": "https://github.com/ultralytics/yolov3/issues/782", "id": 550607270, "node_id": "MDU6SXNzdWU1NTA2MDcyNzA=", "number": 782, "title": "Segmentation fault (core dumped) on TensorRT", "user": {"login": "cloudrivers", "id": 24874934, "node_id": "MDQ6VXNlcjI0ODc0OTM0", "avatar_url": "https://avatars.githubusercontent.com/u/24874934?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cloudrivers", "html_url": "https://github.com/cloudrivers", "followers_url": "https://api.github.com/users/cloudrivers/followers", "following_url": "https://api.github.com/users/cloudrivers/following{/other_user}", "gists_url": "https://api.github.com/users/cloudrivers/gists{/gist_id}", "starred_url": "https://api.github.com/users/cloudrivers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cloudrivers/subscriptions", "organizations_url": "https://api.github.com/users/cloudrivers/orgs", "repos_url": "https://api.github.com/users/cloudrivers/repos", "events_url": "https://api.github.com/users/cloudrivers/events{/privacy}", "received_events_url": "https://api.github.com/users/cloudrivers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-16T06:44:01Z", "updated_at": "2020-01-16T18:11:42Z", "closed_at": "2020-01-16T18:11:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\n  Export model as onnx and load this model in tensorrt. meet an error 'Segmentation fault (core dumped)'\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. change ONNX_EXPORT = True in model.py\r\n2. load the onnx model in tensorrt. code is as below\r\nimport os\r\nimport sys\r\nimport cv2\r\nimport time\r\nimport numpy as np\r\nimport pycuda.autoinit\r\nimport pycuda.driver as cuda\r\nimport tensorrt as trt\r\nfrom PIL import Image\r\n\r\ndef ONNX_build_engine(onnx_file_path):\r\n        G_LOGGER = trt.Logger(trt.Logger.WARNING)\r\n        EXPLICIT_BATCH = 1 << (int)(trt.NetworkDefinitionCreationFlag.EXPLICIT_BATCH)\r\n        with trt.Builder(G_LOGGER) as builder, builder.create_network(EXPLICIT_BATCH) as network, trt.OnnxParser(network, G_LOGGER) as parser:\r\n            print('1.1--Loading ONNX file from path {}...'.format(onnx_file_path))\r\n        with open(onnx_file_path, 'rb') as model:\r\n            print('1.2--Parsing ONNX model')\r\n            parser.parse(model.read())\r\n            builder.max_batch_size = 100\r\n            builder.max_workspace_size = 1 << 30\r\n            print('1.3--Completed parsing of ONNX model')\r\n        with trt.Builder(TRT_LOGGER) as builder, builder.create_builder_config() as config, builder.build_cuda_engine(network, config) as engine:\r\n            print('1.4--Building an engine from file {}; this may take a while...'.format(onnx_file_path))\r\n            serialized_engine = engine.serialize()\r\n            with trt.Runtime(TRT_LOGGER) as runtime:\r\n                runtime.deserialize_cuda_engine(serialized_engine)\r\n            print(\"1.5--Completed creating Engine\")\r\n            #with open(engine_file_path, \"wb\") as fs:\r\n            #   fs.write(engine.serialize())\r\n            return engine\r\n\r\n## Error\r\n     Segmentation fault (core dumped)\r\n\r\n## Environment\r\n  TensorRT 6.0\r\n\r\n**Desktop (please complete the following information):**\r\n   Jetson nano\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/782/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/782/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/781", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/781/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/781/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/781/events", "html_url": "https://github.com/ultralytics/yolov3/issues/781", "id": 549998076, "node_id": "MDU6SXNzdWU1NDk5OTgwNzY=", "number": 781, "title": "low confidence when train one class. ", "user": {"login": "luan1412167", "id": 37315746, "node_id": "MDQ6VXNlcjM3MzE1NzQ2", "avatar_url": "https://avatars.githubusercontent.com/u/37315746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luan1412167", "html_url": "https://github.com/luan1412167", "followers_url": "https://api.github.com/users/luan1412167/followers", "following_url": "https://api.github.com/users/luan1412167/following{/other_user}", "gists_url": "https://api.github.com/users/luan1412167/gists{/gist_id}", "starred_url": "https://api.github.com/users/luan1412167/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luan1412167/subscriptions", "organizations_url": "https://api.github.com/users/luan1412167/orgs", "repos_url": "https://api.github.com/users/luan1412167/repos", "events_url": "https://api.github.com/users/luan1412167/events{/privacy}", "received_events_url": "https://api.github.com/users/luan1412167/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1035696376, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzc2", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-01-15T06:46:32Z", "updated_at": "2022-10-11T12:45:41Z", "closed_at": "2020-01-18T02:03:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, thanks for your repo. It is very useful.\r\nMy proplem is that I have my custom dataset. It is extracted from COCO dataset with 1 cell phone class. I think that I have done rightly as train single class guide. I got about 50 mAP after 200 epoch. Then I run detect.py for inference, my model is not good as darknet original model. I notice that my model return low confidence(about ~0.7). Any suggest for me? Thanks \r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/781/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/781/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/777", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/777/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/777/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/777/events", "html_url": "https://github.com/ultralytics/yolov3/issues/777", "id": 548679572, "node_id": "MDU6SXNzdWU1NDg2Nzk1NzI=", "number": 777, "title": "Unable to save video results and use webcam", "user": {"login": "MuhammadAsadJaved", "id": 28862708, "node_id": "MDQ6VXNlcjI4ODYyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/28862708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MuhammadAsadJaved", "html_url": "https://github.com/MuhammadAsadJaved", "followers_url": "https://api.github.com/users/MuhammadAsadJaved/followers", "following_url": "https://api.github.com/users/MuhammadAsadJaved/following{/other_user}", "gists_url": "https://api.github.com/users/MuhammadAsadJaved/gists{/gist_id}", "starred_url": "https://api.github.com/users/MuhammadAsadJaved/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MuhammadAsadJaved/subscriptions", "organizations_url": "https://api.github.com/users/MuhammadAsadJaved/orgs", "repos_url": "https://api.github.com/users/MuhammadAsadJaved/repos", "events_url": "https://api.github.com/users/MuhammadAsadJaved/events{/privacy}", "received_events_url": "https://api.github.com/users/MuhammadAsadJaved/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2020-01-13T03:16:10Z", "updated_at": "2020-11-06T10:32:53Z", "closed_at": "2020-01-16T17:07:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nMy code can detect object and save output on images but unable to save output on videos and unable to open webcam.\r\n## To Reproduce\r\n1. python3 detect_boat.py --source 1.mp4 --view-img\r\n\r\n2. python3 detect_boat.py --source 1.mp4 \r\n\r\n3. python3 detect_boat.py --source 0\r\n\r\n## Expected behavior\r\nSave output of video file\r\nRun webcam and save video file\r\n## Environment\r\nPython 3.5 , cuda 10, cudnn 7.4.1\r\n\r\n**Desktop (please complete the following information):**\r\n - OS:  Ubuntu \r\n - Version 16.04\r\n\r\n\r\n## Additional context\r\noutput while running on video , but no results saved\r\n![image](https://user-images.githubusercontent.com/28862708/72231284-97e75000-35f5-11ea-9792-f5a222a77c17.png)\r\noutput when running webcam.  I have tested the webcam it running but this project is unable to open. \r\n![image](https://user-images.githubusercontent.com/28862708/72231364-0d532080-35f6-11ea-8255-1220c80c6e81.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/777/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/777/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/772", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/772/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/772/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/772/events", "html_url": "https://github.com/ultralytics/yolov3/issues/772", "id": 547865505, "node_id": "MDU6SXNzdWU1NDc4NjU1MDU=", "number": 772, "title": "Error while training. ", "user": {"login": "MuhammadAsadJaved", "id": 28862708, "node_id": "MDQ6VXNlcjI4ODYyNzA4", "avatar_url": "https://avatars.githubusercontent.com/u/28862708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MuhammadAsadJaved", "html_url": "https://github.com/MuhammadAsadJaved", "followers_url": "https://api.github.com/users/MuhammadAsadJaved/followers", "following_url": "https://api.github.com/users/MuhammadAsadJaved/following{/other_user}", "gists_url": "https://api.github.com/users/MuhammadAsadJaved/gists{/gist_id}", "starred_url": "https://api.github.com/users/MuhammadAsadJaved/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MuhammadAsadJaved/subscriptions", "organizations_url": "https://api.github.com/users/MuhammadAsadJaved/orgs", "repos_url": "https://api.github.com/users/MuhammadAsadJaved/repos", "events_url": "https://api.github.com/users/MuhammadAsadJaved/events{/privacy}", "received_events_url": "https://api.github.com/users/MuhammadAsadJaved/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-01-10T04:55:45Z", "updated_at": "2023-04-21T21:07:30Z", "closed_at": "2020-01-16T19:18:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Training custom dataset.\r\npython3 train.py --cfg cfg/yolov3-boat.cfg  --data data/boat.data --weights weights/yolov3-boat_last.weights   \r\n\r\n## Expected behavior\r\n\r\n## Environment\r\nPython 3.5 , cuda 10, cudnn 7.4.1\r\n**Desktop (please complete the following information):**\r\n - OS:  Ubuntu \r\n - Version 16.04\r\n\r\n## Additional context\r\ni am training custom dataset, my dataset is in another directory . when i run train.py it cached labels but throw error for images.\r\nI am able to train with another Fork with same dataset structure (https://github.com/erikguo/yolov3)\r\nI do not know why it throw the error while reading images. any suggestion? \r\nAs I observe it not reading only image values it is reading whole path. Please see attached screen short as well \r\n train()  # train normally\r\n  File \"train.py\", line 207, in train\r\n    cache_images=opt.cache_images),\r\n  File \"/home/littro/yolov3/utils/datasets.py\", line 297, in __init__\r\n    s = np.array(s, dtype=np.float64)\r\nValueError: could not convert string to float: '/home/littro/darknet/build/darknet/x64/data/cocoBoat/VOCdevkit/VOC2007/JPEGImages/000000528411.jpg'\r\n\r\n\r\n\r\n![yolov3newbug](https://user-images.githubusercontent.com/28862708/72126832-9e34bc80-33a8-11ea-8a4a-a8fa90b0c79b.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/772/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/772/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/766", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/766/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/766/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/766/events", "html_url": "https://github.com/ultralytics/yolov3/issues/766", "id": 547336606, "node_id": "MDU6SXNzdWU1NDczMzY2MDY=", "number": 766, "title": "Convert onnx successfully but has TracerWarnings", "user": {"login": "cbing88", "id": 9246255, "node_id": "MDQ6VXNlcjkyNDYyNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9246255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cbing88", "html_url": "https://github.com/cbing88", "followers_url": "https://api.github.com/users/cbing88/followers", "following_url": "https://api.github.com/users/cbing88/following{/other_user}", "gists_url": "https://api.github.com/users/cbing88/gists{/gist_id}", "starred_url": "https://api.github.com/users/cbing88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cbing88/subscriptions", "organizations_url": "https://api.github.com/users/cbing88/orgs", "repos_url": "https://api.github.com/users/cbing88/repos", "events_url": "https://api.github.com/users/cbing88/events{/privacy}", "received_events_url": "https://api.github.com/users/cbing88/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-01-09T08:55:06Z", "updated_at": "2020-09-25T06:07:56Z", "closed_at": "2020-01-16T19:19:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nI pulled docker image \"ultralytics/yolov3:v196\" and trained a yolov3 model \"best.pt\", and got many TracerWarnings when I convert to onnx.\r\nDo you have any code available that does the conversion?\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\nbelow is Convert Code:\r\n\r\n```\r\nimport os\r\nimport torch\r\nimport models\r\n\r\ndef main():\r\n    cur_path = os.path.dirname(os.path.abspath(__file__))\r\n    torch_model_path = os.path.join(cur_path, 'weights/best.pt')\r\n    onnx_model_path = os.path.join(cur_path, 'weights/yolov3.onnx')\r\n    cfg_path = os.path.join(cur_path, 'cfg/yolov3.cfg')\r\n\r\n    dummy_input = torch.randn(1, 3, 416, 416)\r\n    model = models.Darknet(cfg_path)\r\n    model.load_state_dict(torch.load(torch_model_path, map_location='cpu')['model'], False)\r\n    torch.onnx.export(model, dummy_input, onnx_model_path, opset_version=10)\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\r\n```\r\n \r\nI got the following warnings:\r\n```\r\n/usr/src/app/models.py:168: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  if (self.nx, self.ny) != (nx, ny):\r\n/usr/src/app/models.py:299: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  self.img_size = max(img_size)\r\n/usr/src/app/models.py:300: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  self.stride = self.img_size / max(ng)\r\n/usr/src/app/models.py:309: TracerWarning: torch.Tensor results are registered as constants in the trace. You can safely ignore this warning if you use this function to create tensors out of constant variables that would be the same every time you call this function. In any other case, this might cause the trace to be incorrect.\r\n  self.ng = torch.Tensor(ng).to(device)\r\n/usr/src/app/models.py:309: TracerWarning: Converting a tensor to a Python float might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  self.ng = torch.Tensor(ng).to(device)\r\n/usr/src/app/models.py:205: TracerWarning: There are 2 live references to the data region being modified when tracing in-place operator copy_ (possibly due to an assignment). This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  io[..., :2] = torch.sigmoid(io[..., :2]) + self.grid_xy  # xy\r\n/usr/src/app/models.py:206: TracerWarning: There are 2 live references to the data region being modified when tracing in-place operator copy_ (possibly due to an assignment). This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  io[..., 2:4] = torch.exp(io[..., 2:4]) * self.anchor_wh  # wh yolo method\r\n/usr/src/app/models.py:208: TracerWarning: There are 2 live references to the data region being modified when tracing in-place operator mul_. This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  io[..., :4] *= self.stride\r\n/usr/src/app/models.py:208: TracerWarning: There are 4 live references to the data region being modified when tracing in-place operator copy_ (possibly due to an assignment). This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  io[..., :4] *= self.stride\r\n/usr/src/app/models.py:211: TracerWarning: There are 2 live references to the data region being modified when tracing in-place operator sigmoid_. This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  torch.sigmoid_(io[..., 4])\r\n/opt/conda/lib/python3.6/site-packages/torch/onnx/symbolic_helper.py:246: UserWarning: You are trying to export the model with onnx:Resize for ONNX opset version 10. This operator might cause results to not match the expected results by PyTorch.\r\nONNX's Upsample/Resize operator did not match Pytorch's Interpolation until opset 11. Attributes to determine how to transform the input were added in onnx:Resize in opset 11 to support Pytorch's behavior (like coordinate_transformation_mode and nearest_mode).\r\nWe recommend using opset 11 and above for models using this operator. \r\n  \"\" + str(_export_onnx_opset_version) + \". \"\r\n```\r\n\r\nI could still export onnx model, I'm wondering if I cloud ignore these warnings?\r\n\r\n## Expected behavior\r\nNo warnings or errors.\r\n\r\n## Environment\r\ndocker image: ultralytics/yolov3:v196", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/766/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/766/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/765", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/765/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/765/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/765/events", "html_url": "https://github.com/ultralytics/yolov3/issues/765", "id": 546696556, "node_id": "MDU6SXNzdWU1NDY2OTY1NTY=", "number": 765, "title": "Bug while using the --classes argument. ", "user": {"login": "mesakarghm", "id": 39232725, "node_id": "MDQ6VXNlcjM5MjMyNzI1", "avatar_url": "https://avatars.githubusercontent.com/u/39232725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mesakarghm", "html_url": "https://github.com/mesakarghm", "followers_url": "https://api.github.com/users/mesakarghm/followers", "following_url": "https://api.github.com/users/mesakarghm/following{/other_user}", "gists_url": "https://api.github.com/users/mesakarghm/gists{/gist_id}", "starred_url": "https://api.github.com/users/mesakarghm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mesakarghm/subscriptions", "organizations_url": "https://api.github.com/users/mesakarghm/orgs", "repos_url": "https://api.github.com/users/mesakarghm/repos", "events_url": "https://api.github.com/users/mesakarghm/events{/privacy}", "received_events_url": "https://api.github.com/users/mesakarghm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-08T07:42:42Z", "updated_at": "2020-01-08T17:44:28Z", "closed_at": "2020-01-08T17:44:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nWhile my system is Cuda enabled and runs on my GPU with all the other command line arguments, while I pass the --classes argument, it generates the following error:\r\nRuntimeError: expected device cuda:0 but got device cpu\r\n\r\n## To Reproduce\r\n\r\n1. python detect.py --classes 1 2 3\r\n\r\n\r\n\r\n\r\n## Environment\r\nWindows\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Windows\r\n - Version ; 10\r\n\r\n\r\n![Capture](https://user-images.githubusercontent.com/39232725/71959332-99da9900-321a-11ea-99be-dd6eb8cdd262.JPG)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/765/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/763", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/763/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/763/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/763/events", "html_url": "https://github.com/ultralytics/yolov3/issues/763", "id": 546583894, "node_id": "MDU6SXNzdWU1NDY1ODM4OTQ=", "number": 763, "title": "I train yolov3 from scratch with input size(416) and darknet.conv.74, but I can't achieve your reported results(mAp0.5  55.4).Is it because I didn't use multi-scale training.My result is 54.4 mAp0.5.", "user": {"login": "xiaobin1231", "id": 44010155, "node_id": "MDQ6VXNlcjQ0MDEwMTU1", "avatar_url": "https://avatars.githubusercontent.com/u/44010155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiaobin1231", "html_url": "https://github.com/xiaobin1231", "followers_url": "https://api.github.com/users/xiaobin1231/followers", "following_url": "https://api.github.com/users/xiaobin1231/following{/other_user}", "gists_url": "https://api.github.com/users/xiaobin1231/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiaobin1231/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiaobin1231/subscriptions", "organizations_url": "https://api.github.com/users/xiaobin1231/orgs", "repos_url": "https://api.github.com/users/xiaobin1231/repos", "events_url": "https://api.github.com/users/xiaobin1231/events{/privacy}", "received_events_url": "https://api.github.com/users/xiaobin1231/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-08T00:50:05Z", "updated_at": "2020-01-09T08:14:35Z", "closed_at": "2020-01-09T08:14:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. \r\n2. \r\n3. \r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/763/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/763/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/758", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/758/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/758/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/758/events", "html_url": "https://github.com/ultralytics/yolov3/issues/758", "id": 545633696, "node_id": "MDU6SXNzdWU1NDU2MzM2OTY=", "number": 758, "title": "when I trained and used the parameters --resume, it occured RuntimeError", "user": {"login": "Nioolek", "id": 40284075, "node_id": "MDQ6VXNlcjQwMjg0MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/40284075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nioolek", "html_url": "https://github.com/Nioolek", "followers_url": "https://api.github.com/users/Nioolek/followers", "following_url": "https://api.github.com/users/Nioolek/following{/other_user}", "gists_url": "https://api.github.com/users/Nioolek/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nioolek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nioolek/subscriptions", "organizations_url": "https://api.github.com/users/Nioolek/orgs", "repos_url": "https://api.github.com/users/Nioolek/repos", "events_url": "https://api.github.com/users/Nioolek/events{/privacy}", "received_events_url": "https://api.github.com/users/Nioolek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-06T09:43:27Z", "updated_at": "2023-04-21T21:07:34Z", "closed_at": "2020-01-15T18:29:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nWhen I trained to epoch 7,I stoped it by myself. Then I use the parameter --resume to restart training, it occur the error:\r\nRuntimeError: The size of tensor a (64) must match the size of tensor b (256) at non-singleton dimension 0\r\n\r\nSpecific error information will be shown below .\r\n\r\nI guess the error was causer by loading the optimizer from pt file.\r\nI used config file of 'yolov3-1cls.cfg' for only one class without modification.\r\n\r\nThere were no errors after I blocked lines 131-133 in train.py\r\n\r\n\r\n## Environment\r\n\r\n**My environment:\r\nPC \r\n - Ubuntu 16.04\r\n - python3.5\r\n - GPU 2080Ti * 2\r\n\r\n## Additional context\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n      7/19     4.79G      2.97     0.971         0      3.94        17       992:   0%| | 1/541 [00:02<22:44,  2.53s/it]Traceback (most recent call last):\r\n  File \"/mnt/work3/code/mouse_detect/yolov3/train.py\", line 474, in <module>\r\n    train()  # train normally\r\n  File \"/mnt/work3/code/mouse_detect/yolov3/train.py\", line 318, in train\r\n    optimizer.step()\r\n  File \"/usr/local/lib/python3.5/dist-packages/torch/optim/lr_scheduler.py\", line 51, in wrapper\r\n    return wrapped(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/torch/optim/sgd.py\", line 100, in step\r\n    buf.mul_(momentum).add_(1 - dampening, d_p)\r\nRuntimeError: The size of tensor a (64) must match the size of tensor b (256) at non-singleton dimension 0\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/758/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/757", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/757/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/757/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/757/events", "html_url": "https://github.com/ultralytics/yolov3/issues/757", "id": 545516676, "node_id": "MDU6SXNzdWU1NDU1MTY2NzY=", "number": 757, "title": "ZeroDivisionErro when computing loss", "user": {"login": "andredantasrocha", "id": 12388054, "node_id": "MDQ6VXNlcjEyMzg4MDU0", "avatar_url": "https://avatars.githubusercontent.com/u/12388054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andredantasrocha", "html_url": "https://github.com/andredantasrocha", "followers_url": "https://api.github.com/users/andredantasrocha/followers", "following_url": "https://api.github.com/users/andredantasrocha/following{/other_user}", "gists_url": "https://api.github.com/users/andredantasrocha/gists{/gist_id}", "starred_url": "https://api.github.com/users/andredantasrocha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andredantasrocha/subscriptions", "organizations_url": "https://api.github.com/users/andredantasrocha/orgs", "repos_url": "https://api.github.com/users/andredantasrocha/repos", "events_url": "https://api.github.com/users/andredantasrocha/events{/privacy}", "received_events_url": "https://api.github.com/users/andredantasrocha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-06T03:12:18Z", "updated_at": "2020-01-07T02:24:16Z", "closed_at": "2020-01-07T02:24:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nFirst of all, thanks for the framework, it's amazing :)\r\n\r\nI've been using a model I trained successfully a couple of months ago. I have now decided to retrain the model with more images and latest version of the framework.\r\n\r\nI'm getting \"division by zero\" during the training and I'm not really sure what could be wrong. My config is [here](https://github.com/ultralytics/yolov3/files/4024556/config.txt)\r\n\r\n```\r\npython3 train.py \\\r\n--cfg /tmp/model3/cfg/test.cfg \\\r\n--data /tmp/model3/data/test.data \\\r\n--epochs 300\r\n```\r\n\r\n```\r\n     0/299        0G      5.48     0.719         0       6.2        11       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 169/169 [1:33:23<00:00, 34.18s/it]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1:  97%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589    | 28/29 [07:29<00:15, 15.70s/it]Traceback (most recent call last):\r\n  File \"train.py\", line 448, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 320, in train\r\n    dataloader=testloader)\r\n  File \"/tmp/yolov3/test.py\", line 88, in test\r\n    loss += compute_loss(train_out, targets, model)[1][:3].cpu()  # GIoU, obj, cls\r\n  File \"/tmp/yolov3/utils/utils.py\", line 439, in compute_loss\r\n    lbox *= 3 / ng\r\nZeroDivisionError: division by zero\r\n```\r\n\r\nAny ideas?\r\n\r\nThanks!\r\nAndre", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/757/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/757/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/752", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/752/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/752/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/752/events", "html_url": "https://github.com/ultralytics/yolov3/issues/752", "id": 544129612, "node_id": "MDU6SXNzdWU1NDQxMjk2MTI=", "number": 752, "title": "IndexError: list index out of range (File \"test.py\", line 175, in test)", "user": {"login": "ccl-1", "id": 53883947, "node_id": "MDQ6VXNlcjUzODgzOTQ3", "avatar_url": "https://avatars.githubusercontent.com/u/53883947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccl-1", "html_url": "https://github.com/ccl-1", "followers_url": "https://api.github.com/users/ccl-1/followers", "following_url": "https://api.github.com/users/ccl-1/following{/other_user}", "gists_url": "https://api.github.com/users/ccl-1/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccl-1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccl-1/subscriptions", "organizations_url": "https://api.github.com/users/ccl-1/orgs", "repos_url": "https://api.github.com/users/ccl-1/repos", "events_url": "https://api.github.com/users/ccl-1/events{/privacy}", "received_events_url": "https://api.github.com/users/ccl-1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-31T08:47:28Z", "updated_at": "2023-04-21T21:07:38Z", "closed_at": "2020-01-01T04:01:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n1. Traceback (most recent call last):\r\n  File \"test.py\", line 232, in <module>\r\n    opt.save_json)\r\n  File \"test.py\", line 175, in test\r\n    print(pf % (names[c], seen, nt[c], p[i], r[i], ap[i], f1[i]))\r\nIndexError: list index out of range\r\n\r\nThis problem arises when testing. How do I solve it\uff1fAnd i use my own data,", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/752/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/752/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/750", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/750/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/750/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/750/events", "html_url": "https://github.com/ultralytics/yolov3/issues/750", "id": 543837923, "node_id": "MDU6SXNzdWU1NDM4Mzc5MjM=", "number": 750, "title": "Question concerning exporting to ONNX", "user": {"login": "gillmac13", "id": 46053569, "node_id": "MDQ6VXNlcjQ2MDUzNTY5", "avatar_url": "https://avatars.githubusercontent.com/u/46053569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gillmac13", "html_url": "https://github.com/gillmac13", "followers_url": "https://api.github.com/users/gillmac13/followers", "following_url": "https://api.github.com/users/gillmac13/following{/other_user}", "gists_url": "https://api.github.com/users/gillmac13/gists{/gist_id}", "starred_url": "https://api.github.com/users/gillmac13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gillmac13/subscriptions", "organizations_url": "https://api.github.com/users/gillmac13/orgs", "repos_url": "https://api.github.com/users/gillmac13/repos", "events_url": "https://api.github.com/users/gillmac13/events{/privacy}", "received_events_url": "https://api.github.com/users/gillmac13/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-30T10:56:27Z", "updated_at": "2020-01-16T19:20:36Z", "closed_at": "2020-01-16T19:20:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "@glenn-jocher \r\n\r\nI have been using your repo time and again with excellent results for 1-class detection with yolov3-spp. I am now working on different ways to deploy some models which need a .onnx format.\r\nHowever, when applying the suggested conversion method to the letter, I get an unexpected output ...\r\n\r\nFor example, if I download a yolov3-spp.weights model (80 classes) from [ https://pjreddie.com/darknet/yolo/ ](url), and:\r\n- change to ONNX_EXPORT = True in models.py\r\n- run the command: python3 detect.py --cfg cfg/yolov3-spp.cfg --weights weights/yolov3-spp.weights\r\n\r\nI get an export.onnx file in return with no warning or error.\r\nNow if I inspect this export.onnx with netron, I find that the output of the model is 2 tensors, 1 of shape 10647x80 and 1 of shape 10647x1. I was under the impression that an 80-class model would produce 85 columns, not 84.\r\n\r\nUsing the code snippet:\r\n`model_onnx = onnxruntime.InferenceSession(\"weights/export.onnx\") \r\nort_inputs = {model_onnx.get_inputs()[0].name: img_t.numpy()}   \r\nort_outs = model_onnx.run(None, ort_inputs) \r\nx_out = ort_outs[0] \r\nprint(x_out.shape)`\r\n\r\nconfirms what I get in terms of output format. \r\nAnd applying this procedure to my 1-class models, I get 4+1 columns instead of the expected 6, such as in the \"pred\" variable in \"detect.py\".\r\n\r\nMy questions are simple: is what I get in terms of output normal, in which case how should I interpret the results, or is something wrong?\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/750/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/750/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/747", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/747/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/747/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/747/events", "html_url": "https://github.com/ultralytics/yolov3/issues/747", "id": 543282154, "node_id": "MDU6SXNzdWU1NDMyODIxNTQ=", "number": 747, "title": "Error when resuming training on custom data", "user": {"login": "aidanwiteck", "id": 59320558, "node_id": "MDQ6VXNlcjU5MzIwNTU4", "avatar_url": "https://avatars.githubusercontent.com/u/59320558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aidanwiteck", "html_url": "https://github.com/aidanwiteck", "followers_url": "https://api.github.com/users/aidanwiteck/followers", "following_url": "https://api.github.com/users/aidanwiteck/following{/other_user}", "gists_url": "https://api.github.com/users/aidanwiteck/gists{/gist_id}", "starred_url": "https://api.github.com/users/aidanwiteck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aidanwiteck/subscriptions", "organizations_url": "https://api.github.com/users/aidanwiteck/orgs", "repos_url": "https://api.github.com/users/aidanwiteck/repos", "events_url": "https://api.github.com/users/aidanwiteck/events{/privacy}", "received_events_url": "https://api.github.com/users/aidanwiteck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-28T21:21:02Z", "updated_at": "2019-12-28T23:05:43Z", "closed_at": "2019-12-28T23:05:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nHi, I am getting an error when I resume training on my own data. I get the following error message:\r\n`UnboundLocalError: local variable 'epoch' referenced before assignment`\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. I ran the following command and everything went smoothly. The weights saved and I was able to see how the model functioned on real data.\r\n`!python3 train.py --data data/coco1cls.data --epochs 10`\r\n\r\n2. I then tried to train off the saved weights of the first ten epochs by running the following command:\r\n`!python3 train.py --data data/coco1cls.data --epochs 10 --resume`\r\n\r\nHowever, I get the following error message:\r\n```\r\nNamespace(accumulate=4, adam=False, arc='default', batch_size=16, bucket='', cache_images=False, cfg='cfg/yolov3-spp.cfg', data='data/coco1cls.data', device='', epochs=10, evolve=False, img_size=416, multi_scale=False, name='', nosave=False, notest=False, prebias=False, rect=False, resume=True, transfer=False, var=None, weights='weights/last.pt')\r\nUsing CPU\r\n\r\nCaching labels (20 found, 0 missing, 0 empty, 0 duplicate, for 20 images): 100%|\u2588| 20/20 [00:00<00:00, 4398.62it/s]\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients\r\nUsing 8 dataloader workers\r\nStarting training for 10 epochs...\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 463, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 397, in train\r\n    print('%g epochs completed in %.3f hours.\\n' % (epoch - start_epoch + 1, (time.time() - t0) / 3600))\r\nUnboundLocalError: local variable 'epoch' referenced before assignment\r\n\r\n```\r\n\r\nI am confused mainly because the only thing different with this is that I am resuming training, but I am getting an error message about epochs. What should I do? Thanks! ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/747/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/747/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/741", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/741/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/741/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/741/events", "html_url": "https://github.com/ultralytics/yolov3/issues/741", "id": 542274540, "node_id": "MDU6SXNzdWU1NDIyNzQ1NDA=", "number": 741, "title": "utils.kmeans_targets - RuntimeError: The size of tensor a (70165) must match the size of tensor b (2) at non-singleton dimension 2", "user": {"login": "songyzh", "id": 7811860, "node_id": "MDQ6VXNlcjc4MTE4NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/7811860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/songyzh", "html_url": "https://github.com/songyzh", "followers_url": "https://api.github.com/users/songyzh/followers", "following_url": "https://api.github.com/users/songyzh/following{/other_user}", "gists_url": "https://api.github.com/users/songyzh/gists{/gist_id}", "starred_url": "https://api.github.com/users/songyzh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/songyzh/subscriptions", "organizations_url": "https://api.github.com/users/songyzh/orgs", "repos_url": "https://api.github.com/users/songyzh/repos", "events_url": "https://api.github.com/users/songyzh/events{/privacy}", "received_events_url": "https://api.github.com/users/songyzh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-25T07:02:31Z", "updated_at": "2019-12-30T19:58:45Z", "closed_at": "2019-12-30T19:58:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nthrows \"RuntimeError: The size of tensor a (70165) must match the size of tensor b (2) at non-singleton dimension 2\" when calling kmeans_targets\r\n\r\n## To Reproduce\r\npython -c \"from utils import utils; utils.kmeans_targets(path='data/custom/train.txt', img_size=832)\"\r\n\r\n## Expected behavior\r\noutput anchors\r\n\r\n## Environment\r\nlinux, \r\non master(cdc382e3131194c1e211b595e646e3943bd23c69)\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/741/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/741/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/740", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/740/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/740/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/740/events", "html_url": "https://github.com/ultralytics/yolov3/issues/740", "id": 542150555, "node_id": "MDU6SXNzdWU1NDIxNTA1NTU=", "number": 740, "title": "Train custom data issue", "user": {"login": "YANGYUFEI1234", "id": 48313636, "node_id": "MDQ6VXNlcjQ4MzEzNjM2", "avatar_url": "https://avatars.githubusercontent.com/u/48313636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YANGYUFEI1234", "html_url": "https://github.com/YANGYUFEI1234", "followers_url": "https://api.github.com/users/YANGYUFEI1234/followers", "following_url": "https://api.github.com/users/YANGYUFEI1234/following{/other_user}", "gists_url": "https://api.github.com/users/YANGYUFEI1234/gists{/gist_id}", "starred_url": "https://api.github.com/users/YANGYUFEI1234/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YANGYUFEI1234/subscriptions", "organizations_url": "https://api.github.com/users/YANGYUFEI1234/orgs", "repos_url": "https://api.github.com/users/YANGYUFEI1234/repos", "events_url": "https://api.github.com/users/YANGYUFEI1234/events{/privacy}", "received_events_url": "https://api.github.com/users/YANGYUFEI1234/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-12-24T14:52:31Z", "updated_at": "2023-04-21T21:07:43Z", "closed_at": "2020-01-16T19:11:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nThank you for sharing your project !!!\r\nTraining custom data which has two classes, if I don't modify the filtersize and numclasses in '.cfg' file, everything works fine, I can train and detect normally. (Actually I forget to change the 'cfg' file at the beginning)\r\nHowever if I modify the filtersize to 21, which is (3*(5+2)), and numclasses in yolo layer to 2. \r\nP, R, mAP are always zero, I don't know whether it is a bug or my fault.\r\nI know it seems like I should set default weights to nothing rather than the former default value as training from scratch, but it still doesn't work.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Download ZIP from [https://drive.google.com/file/d/17Fi8F1G138cMuD8tYdWP4BZC9cs32cZ/view?usp=sharing](url)\r\n2. Move all the files except 'yolov3-spp-swim.cfg' in this ZIP to 'data' folder in yolov3 project\r\n3. Move 'yolov3-spp-swim.cfg' to 'cfg' folder in yolov3 project\r\n4. run `python3 train.py --device 0 --data data/swim.data --cfg cfg/yolov3-spp-swim.cfg`\r\n\r\n\r\n\r\n## Expected behavior\r\nread 96 images for training and corresponding labels\r\nread 10 images for training and corresponding labels\r\nAnd then comes with P, R, mAP are all equals to zero no matter how many epochs\r\n![image](https://user-images.githubusercontent.com/48313636/71417620-45271200-26a1-11ea-98e0-0f1039dd911d.png)\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/740/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/740/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/738", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/738/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/738/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/738/events", "html_url": "https://github.com/ultralytics/yolov3/issues/738", "id": 541631664, "node_id": "MDU6SXNzdWU1NDE2MzE2NjQ=", "number": 738, "title": " AssertionError: No labels found. in running train.py", "user": {"login": "Northautumn", "id": 49355997, "node_id": "MDQ6VXNlcjQ5MzU1OTk3", "avatar_url": "https://avatars.githubusercontent.com/u/49355997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Northautumn", "html_url": "https://github.com/Northautumn", "followers_url": "https://api.github.com/users/Northautumn/followers", "following_url": "https://api.github.com/users/Northautumn/following{/other_user}", "gists_url": "https://api.github.com/users/Northautumn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Northautumn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Northautumn/subscriptions", "organizations_url": "https://api.github.com/users/Northautumn/orgs", "repos_url": "https://api.github.com/users/Northautumn/repos", "events_url": "https://api.github.com/users/Northautumn/events{/privacy}", "received_events_url": "https://api.github.com/users/Northautumn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-23T07:59:09Z", "updated_at": "2020-01-03T18:27:40Z", "closed_at": "2020-01-03T18:27:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\nWhen I train my dataset, I have already labeled it to generate the labels file, but there was a problem\uff1a AssertionError: No labels found. in running train.py\r\n![image](https://user-images.githubusercontent.com/49355997/71343929-2a1eaa00-259c-11ea-8961-d74989a4895d.png)\r\nwhy occurs this problem\uff0cand on this project\uff0cIT has not weights/last.pt\uff0chow can i get it? and when I run the train.py, \r\npython train.py --data data/rbc.data --cfg cfg/yolov3-tiny.cfg  it also occurs a bug,\r\nNamespace(accumulate=4, adam=False, arc='default', batch_size=16, bucket='', cache_images=False, cfg='cfg/yolov3-tiny.cfg', data='data/rbc.data', device='', epochs=10, evolve=False, img_size=416, img_weights=False, multi_scale=False, name='', nosave=False, notest=False, prebias=False, rect=False, resume=False, transfer=False, var=None, weights='weights/ultralytics68.pt')\r\nUsing CPU\r\n\r\nDownloading https://drive.google.com/uc?export=download&id=1Jm8kqnMdMGUUxGo8zMFZMJ0eaPwLkxSG as weights/ultralytics68.pt... \u7cfb\u7edf\u627e\u4e0d\u5230\u6307\u5b9a\u7684\u8def\u5f84\u3002\r\n'rm' \u4e0d\u662f\u5185\u90e8\u6216\u5916\u90e8\u547d\u4ee4\uff0c\u4e5f\u4e0d\u662f\u53ef\u8fd0\u884c\u7684\u7a0b\u5e8f\r\n File \"train.py\", line 108, in train\r\n    attempt_download(weights)\r\nhow can i get the weights,could you help me?thanks very much.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/738/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/738/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/728", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/728/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/728/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/728/events", "html_url": "https://github.com/ultralytics/yolov3/issues/728", "id": 539918097, "node_id": "MDU6SXNzdWU1Mzk5MTgwOTc=", "number": 728, "title": "Assertion Failed Error", "user": {"login": "FranciscoReveriano", "id": 48685139, "node_id": "MDQ6VXNlcjQ4Njg1MTM5", "avatar_url": "https://avatars.githubusercontent.com/u/48685139?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FranciscoReveriano", "html_url": "https://github.com/FranciscoReveriano", "followers_url": "https://api.github.com/users/FranciscoReveriano/followers", "following_url": "https://api.github.com/users/FranciscoReveriano/following{/other_user}", "gists_url": "https://api.github.com/users/FranciscoReveriano/gists{/gist_id}", "starred_url": "https://api.github.com/users/FranciscoReveriano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FranciscoReveriano/subscriptions", "organizations_url": "https://api.github.com/users/FranciscoReveriano/orgs", "repos_url": "https://api.github.com/users/FranciscoReveriano/repos", "events_url": "https://api.github.com/users/FranciscoReveriano/events{/privacy}", "received_events_url": "https://api.github.com/users/FranciscoReveriano/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-12-18T20:53:21Z", "updated_at": "2020-03-16T00:10:17Z", "closed_at": "2020-03-16T00:10:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\nI am trying to reproduce the results and I am getting an : -215 Assertion Failed) Error. top >= 0 && bottom >=0 && left >=0\r\n![image](https://user-images.githubusercontent.com/48685139/71122260-2959d280-21ae-11ea-955e-83a14f6367fe.png)\r\n\r\nI have not altered the code or images at all. I am running it directly from the .sh \r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Cloned Github\r\n2. ran the ./sh command to get COCO\r\n3. Rewrote all the paths and ran the code as instructed\r\n\r\nThis happens right when it finishes the first epoch and does the testing on it. \r\nCommand used to start training: \r\npython train.py --weights '' --cfg yolov3-spp.cfg --epochs 10 --batch 30 --accum 4 --multi --pre", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/728/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/727", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/727/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/727/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/727/events", "html_url": "https://github.com/ultralytics/yolov3/issues/727", "id": 539533599, "node_id": "MDU6SXNzdWU1Mzk1MzM1OTk=", "number": 727, "title": "RuntimeError: CUDA error: unspecified launch failure", "user": {"login": "markson14", "id": 30102000, "node_id": "MDQ6VXNlcjMwMTAyMDAw", "avatar_url": "https://avatars.githubusercontent.com/u/30102000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markson14", "html_url": "https://github.com/markson14", "followers_url": "https://api.github.com/users/markson14/followers", "following_url": "https://api.github.com/users/markson14/following{/other_user}", "gists_url": "https://api.github.com/users/markson14/gists{/gist_id}", "starred_url": "https://api.github.com/users/markson14/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markson14/subscriptions", "organizations_url": "https://api.github.com/users/markson14/orgs", "repos_url": "https://api.github.com/users/markson14/repos", "events_url": "https://api.github.com/users/markson14/events{/privacy}", "received_events_url": "https://api.github.com/users/markson14/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-12-18T08:36:56Z", "updated_at": "2020-03-11T00:09:47Z", "closed_at": "2020-03-11T00:09:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n`RuntimeError: CUDA error: unspecified launch failure, terminate called after throwing an instance of 'c10::Error`\r\n\r\n\r\nTraining will be stopped when this happened.  It is able to train for couple epoches before problem occurred. Can somebody tell me the reasons? Thank you so much.\r\n\r\n## Environment\r\ntorch = 1.1.0\r\npython = 3.7.5\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Ubuntu 16.04.5\r\n - Version 16.04.5\r\n\r\n<img width=\"1240\" alt=\"Screen Shot 2019-12-18 at 4 33 19 pm\" src=\"https://user-images.githubusercontent.com/30102000/71069869-907a8580-21b4-11ea-9f30-78cd8a067e60.png\">\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/727/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/727/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/726", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/726/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/726/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/726/events", "html_url": "https://github.com/ultralytics/yolov3/issues/726", "id": 539457377, "node_id": "MDU6SXNzdWU1Mzk0NTczNzc=", "number": 726, "title": "Training model using weights/last.pt", "user": {"login": "houzeyu2683", "id": 42731603, "node_id": "MDQ6VXNlcjQyNzMxNjAz", "avatar_url": "https://avatars.githubusercontent.com/u/42731603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/houzeyu2683", "html_url": "https://github.com/houzeyu2683", "followers_url": "https://api.github.com/users/houzeyu2683/followers", "following_url": "https://api.github.com/users/houzeyu2683/following{/other_user}", "gists_url": "https://api.github.com/users/houzeyu2683/gists{/gist_id}", "starred_url": "https://api.github.com/users/houzeyu2683/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/houzeyu2683/subscriptions", "organizations_url": "https://api.github.com/users/houzeyu2683/orgs", "repos_url": "https://api.github.com/users/houzeyu2683/repos", "events_url": "https://api.github.com/users/houzeyu2683/events{/privacy}", "received_events_url": "https://api.github.com/users/houzeyu2683/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-18T05:18:29Z", "updated_at": "2020-03-11T00:09:48Z", "closed_at": "2020-03-11T00:09:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I training a model by using my custom data with \r\n`python train.py --cfg cfg/yolov3.cfg --weights \"weights/last.pt\" --data data/coco.data`.\r\nI should get the model weights file in **weights/last.pt** when I finish all epochs.\r\nBut I find the result is not convergence, then I want to use **weights/last.pt** weights and training continuously.\r\nHence, I use \r\n`python train.py --cfg cfg/yolov3.cfg --weights \"weights/last.pt\" --data data/coco.data --resume` command but get the error blow.\r\n![Screenshot from 2019-12-18 13-16-40](https://user-images.githubusercontent.com/42731603/71057760-c14cc180-2198-11ea-8abf-da37f6d157f2.png)\r\n\r\nI try to use \r\n`python train.py --cfg cfg/yolov3.cfg --weights \"weights/last.pt\" --data data/coco.data --epochs 20 --resume` and\r\n`python train.py --cfg cfg/yolov3.cfg --weights \"weights/last.pt\" --data data/coco.data --epochs 20 --pre` but still error.\r\n\r\nWhat can I try, thanks.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/726/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/725", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/725/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/725/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/725/events", "html_url": "https://github.com/ultralytics/yolov3/issues/725", "id": 539422042, "node_id": "MDU6SXNzdWU1Mzk0MjIwNDI=", "number": 725, "title": "Segmentation fault (core dumped)", "user": {"login": "litingsjj", "id": 22285793, "node_id": "MDQ6VXNlcjIyMjg1Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/22285793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/litingsjj", "html_url": "https://github.com/litingsjj", "followers_url": "https://api.github.com/users/litingsjj/followers", "following_url": "https://api.github.com/users/litingsjj/following{/other_user}", "gists_url": "https://api.github.com/users/litingsjj/gists{/gist_id}", "starred_url": "https://api.github.com/users/litingsjj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/litingsjj/subscriptions", "organizations_url": "https://api.github.com/users/litingsjj/orgs", "repos_url": "https://api.github.com/users/litingsjj/repos", "events_url": "https://api.github.com/users/litingsjj/events{/privacy}", "received_events_url": "https://api.github.com/users/litingsjj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2019-12-18T02:58:58Z", "updated_at": "2023-04-21T21:07:47Z", "closed_at": "2020-01-03T00:10:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nHi\uff0cI use this project to training my cunstom dataset with yolov3-spp, after training 71 epochs, I get  this error. And anthor time, I also got this error after 2 epoch. Is there something wrong?\r\n` Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n    71/272     4.93G      1.98      2.16    0.0963      4.24       237       416:  65%|########################################2                     | 2394/3688 [15:30<08:03,  2.68it/s]Segmentation fault (core dumped)\r\n`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/725/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/725/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/721", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/721/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/721/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/721/events", "html_url": "https://github.com/ultralytics/yolov3/issues/721", "id": 538972076, "node_id": "MDU6SXNzdWU1Mzg5NzIwNzY=", "number": 721, "title": "run train.py, it says \"AttributeError: module 'torch.distributed' has no attribute 'init_process_group'\"", "user": {"login": "wallcuber", "id": 58249279, "node_id": "MDQ6VXNlcjU4MjQ5Mjc5", "avatar_url": "https://avatars.githubusercontent.com/u/58249279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wallcuber", "html_url": "https://github.com/wallcuber", "followers_url": "https://api.github.com/users/wallcuber/followers", "following_url": "https://api.github.com/users/wallcuber/following{/other_user}", "gists_url": "https://api.github.com/users/wallcuber/gists{/gist_id}", "starred_url": "https://api.github.com/users/wallcuber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wallcuber/subscriptions", "organizations_url": "https://api.github.com/users/wallcuber/orgs", "repos_url": "https://api.github.com/users/wallcuber/repos", "events_url": "https://api.github.com/users/wallcuber/events{/privacy}", "received_events_url": "https://api.github.com/users/wallcuber/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-12-17T10:22:31Z", "updated_at": "2022-10-27T05:57:29Z", "closed_at": "2020-01-16T19:17:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\nmy computer has four gpus. When I run train.py, it says\"AttributeError: module 'torch.distributed' has no attribute 'init_process_group'\". But it obviously has this attribute.\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. run train.py\r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\nAttributeError: module 'torch.distributed' has no attribute 'init_process_group'\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\npytorch  1.3\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]  win10\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/721/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/721/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/719", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/719/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/719/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/719/events", "html_url": "https://github.com/ultralytics/yolov3/issues/719", "id": 538398526, "node_id": "MDU6SXNzdWU1MzgzOTg1MjY=", "number": 719, "title": "awk: cannot open ./cookie (No such file or directory)  i want to know that how to solve this problem?", "user": {"login": "guobinli", "id": 48913850, "node_id": "MDQ6VXNlcjQ4OTEzODUw", "avatar_url": "https://avatars.githubusercontent.com/u/48913850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guobinli", "html_url": "https://github.com/guobinli", "followers_url": "https://api.github.com/users/guobinli/followers", "following_url": "https://api.github.com/users/guobinli/following{/other_user}", "gists_url": "https://api.github.com/users/guobinli/gists{/gist_id}", "starred_url": "https://api.github.com/users/guobinli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guobinli/subscriptions", "organizations_url": "https://api.github.com/users/guobinli/orgs", "repos_url": "https://api.github.com/users/guobinli/repos", "events_url": "https://api.github.com/users/guobinli/events{/privacy}", "received_events_url": "https://api.github.com/users/guobinli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-16T13:02:08Z", "updated_at": "2023-04-21T21:07:49Z", "closed_at": "2019-12-16T18:15:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. \r\n2. \r\n3. \r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n## Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/719/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/719/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/716", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/716/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/716/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/716/events", "html_url": "https://github.com/ultralytics/yolov3/issues/716", "id": 538087018, "node_id": "MDU6SXNzdWU1MzgwODcwMTg=", "number": 716, "title": "The 'best.pt' behaves worse than 'last.pt'", "user": {"login": "hack1nt0", "id": 5208653, "node_id": "MDQ6VXNlcjUyMDg2NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5208653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hack1nt0", "html_url": "https://github.com/hack1nt0", "followers_url": "https://api.github.com/users/hack1nt0/followers", "following_url": "https://api.github.com/users/hack1nt0/following{/other_user}", "gists_url": "https://api.github.com/users/hack1nt0/gists{/gist_id}", "starred_url": "https://api.github.com/users/hack1nt0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hack1nt0/subscriptions", "organizations_url": "https://api.github.com/users/hack1nt0/orgs", "repos_url": "https://api.github.com/users/hack1nt0/repos", "events_url": "https://api.github.com/users/hack1nt0/events{/privacy}", "received_events_url": "https://api.github.com/users/hack1nt0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-15T18:21:59Z", "updated_at": "2019-12-31T20:27:35Z", "closed_at": "2019-12-31T20:27:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I turned the '--nosave' option off, and got a best.pt, but it detected nothing. Is this normal?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/716/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/714", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/714/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/714/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/714/events", "html_url": "https://github.com/ultralytics/yolov3/issues/714", "id": 537545994, "node_id": "MDU6SXNzdWU1Mzc1NDU5OTQ=", "number": 714, "title": "COCO Label Errors (duplicates/triplicate class 0 FPs)", "user": {"login": "Ronales", "id": 20239826, "node_id": "MDQ6VXNlcjIwMjM5ODI2", "avatar_url": "https://avatars.githubusercontent.com/u/20239826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ronales", "html_url": "https://github.com/Ronales", "followers_url": "https://api.github.com/users/Ronales/followers", "following_url": "https://api.github.com/users/Ronales/following{/other_user}", "gists_url": "https://api.github.com/users/Ronales/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ronales/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ronales/subscriptions", "organizations_url": "https://api.github.com/users/Ronales/orgs", "repos_url": "https://api.github.com/users/Ronales/repos", "events_url": "https://api.github.com/users/Ronales/events{/privacy}", "received_events_url": "https://api.github.com/users/Ronales/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 22, "created_at": "2019-12-13T13:19:09Z", "updated_at": "2020-07-13T21:52:29Z", "closed_at": "2020-01-16T19:16:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. In augment,When i display the test_batch0.jpg.I find this error in final augment result,I think the bbox label encounter some problems when data augment.Some big boundingbox contain small boundingbox,but big box not true object.How to solve this augment problem\uff1f\r\n\r\nThanks very much\uff01\r\n\r\nI use coco2017 detection dataset\u3002and using class is person and cellphone\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/20239826/70802787-62c8c180-1ded-11ea-9ece-cc4ff1cc3e18.png)\r\n![image](https://user-images.githubusercontent.com/20239826/70802926-c3f09500-1ded-11ea-9746-a3d613dccb59.png)\r\n![image](https://user-images.githubusercontent.com/20239826/70803227-8809ff80-1dee-11ea-8413-fcb785d053eb.png)\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/714/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/714/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/713", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/713/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/713/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/713/events", "html_url": "https://github.com/ultralytics/yolov3/issues/713", "id": 537341165, "node_id": "MDU6SXNzdWU1MzczNDExNjU=", "number": 713, "title": "After training, the error in the test.py.", "user": {"login": "houzeyu2683", "id": 42731603, "node_id": "MDQ6VXNlcjQyNzMxNjAz", "avatar_url": "https://avatars.githubusercontent.com/u/42731603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/houzeyu2683", "html_url": "https://github.com/houzeyu2683", "followers_url": "https://api.github.com/users/houzeyu2683/followers", "following_url": "https://api.github.com/users/houzeyu2683/following{/other_user}", "gists_url": "https://api.github.com/users/houzeyu2683/gists{/gist_id}", "starred_url": "https://api.github.com/users/houzeyu2683/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/houzeyu2683/subscriptions", "organizations_url": "https://api.github.com/users/houzeyu2683/orgs", "repos_url": "https://api.github.com/users/houzeyu2683/repos", "events_url": "https://api.github.com/users/houzeyu2683/events{/privacy}", "received_events_url": "https://api.github.com/users/houzeyu2683/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-13T04:22:54Z", "updated_at": "2019-12-13T19:53:41Z", "closed_at": "2019-12-13T19:53:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nI use my custom data with 100 class, and the training process is not problem.\r\nAfter finish all epochs, the error like blow.\r\n![Screenshot from 2019-12-13 12-16-10](https://user-images.githubusercontent.com/42731603/70769047-da253380-1da2-11ea-87e6-27e1c7d50114.png)\r\n\r\nI override the **coco91class** with **[1,2,3,...,100]**, but the error not solve.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/713/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/713/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/712", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/712/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/712/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/712/events", "html_url": "https://github.com/ultralytics/yolov3/issues/712", "id": 537098211, "node_id": "MDU6SXNzdWU1MzcwOTgyMTE=", "number": 712, "title": "detect video can not show correct", "user": {"login": "fatalfeel", "id": 1575549, "node_id": "MDQ6VXNlcjE1NzU1NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1575549?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fatalfeel", "html_url": "https://github.com/fatalfeel", "followers_url": "https://api.github.com/users/fatalfeel/followers", "following_url": "https://api.github.com/users/fatalfeel/following{/other_user}", "gists_url": "https://api.github.com/users/fatalfeel/gists{/gist_id}", "starred_url": "https://api.github.com/users/fatalfeel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fatalfeel/subscriptions", "organizations_url": "https://api.github.com/users/fatalfeel/orgs", "repos_url": "https://api.github.com/users/fatalfeel/repos", "events_url": "https://api.github.com/users/fatalfeel/events{/privacy}", "received_events_url": "https://api.github.com/users/fatalfeel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-12T16:54:13Z", "updated_at": "2019-12-12T21:58:46Z", "closed_at": "2019-12-12T21:58:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "/root/projects/yolov3_master/detect.py\r\n\r\npython3 ./detect.py --cfg cfg/yolov3.cfg --weights weights/yolov3.pt --data data/coco.data --source /root/AlphaVRS_Bin/ch00.mp4 --view-img\r\n\r\n            # Stream results\r\n            if view_img:\r\n                cv2.imshow(p, im0)\r\n                cv2.waitKey(1)   #need add this\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/712/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/712/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/710", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/710/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/710/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/710/events", "html_url": "https://github.com/ultralytics/yolov3/issues/710", "id": 536975164, "node_id": "MDU6SXNzdWU1MzY5NzUxNjQ=", "number": 710, "title": "one-class custom trained weights didn't worked in other platforms such as openvino, c++", "user": {"login": "taylan24", "id": 58815936, "node_id": "MDQ6VXNlcjU4ODE1OTM2", "avatar_url": "https://avatars.githubusercontent.com/u/58815936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taylan24", "html_url": "https://github.com/taylan24", "followers_url": "https://api.github.com/users/taylan24/followers", "following_url": "https://api.github.com/users/taylan24/following{/other_user}", "gists_url": "https://api.github.com/users/taylan24/gists{/gist_id}", "starred_url": "https://api.github.com/users/taylan24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taylan24/subscriptions", "organizations_url": "https://api.github.com/users/taylan24/orgs", "repos_url": "https://api.github.com/users/taylan24/repos", "events_url": "https://api.github.com/users/taylan24/events{/privacy}", "received_events_url": "https://api.github.com/users/taylan24/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-12-12T13:23:02Z", "updated_at": "2020-01-16T19:16:26Z", "closed_at": "2020-01-16T19:16:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\n\r\nI trained the yolov3 model for wehicle detection from a fisheye camera,\r\nthe weights are working in detect.py code.\r\nhowever I have to run the model with a c++ code in order to deploy the model to our devices.\r\nI used exactly same .cfg file, darknet weights and coco.names in c++ code, but it detects nothing.\r\nthe original yolov3.weights works properly with the c++ code, but my custom one-class training code didn't worked. I tried to reduce conf threshold, even I removed the threshold, the model finds nothing.\r\nWhat is my mistake?\r\nThank you in advance.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/710/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/710/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/708", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/708/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/708/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/708/events", "html_url": "https://github.com/ultralytics/yolov3/issues/708", "id": 536893626, "node_id": "MDU6SXNzdWU1MzY4OTM2MjY=", "number": 708, "title": "Different computers, different results on detect script", "user": {"login": "alontrais", "id": 54616588, "node_id": "MDQ6VXNlcjU0NjE2NTg4", "avatar_url": "https://avatars.githubusercontent.com/u/54616588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alontrais", "html_url": "https://github.com/alontrais", "followers_url": "https://api.github.com/users/alontrais/followers", "following_url": "https://api.github.com/users/alontrais/following{/other_user}", "gists_url": "https://api.github.com/users/alontrais/gists{/gist_id}", "starred_url": "https://api.github.com/users/alontrais/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alontrais/subscriptions", "organizations_url": "https://api.github.com/users/alontrais/orgs", "repos_url": "https://api.github.com/users/alontrais/repos", "events_url": "https://api.github.com/users/alontrais/events{/privacy}", "received_events_url": "https://api.github.com/users/alontrais/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-12-12T10:37:08Z", "updated_at": "2023-04-21T21:07:53Z", "closed_at": "2019-12-23T00:11:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run the detect script with the same code, input and parameters on different computers with different CudaDevice I get different results. On the second computer, the program detects more objects than on the first computer.\r\n\r\nOn computer 1 Windows:\r\nNamespace(cfg='cfg/yolov3-spp-3cls.cfg', conf_thres=0.1, data='data/coco.data', device='', fourcc='mp4v', half=False, img_size=2176, nms_thres=0.5, output='output', source='data/samples', view_img=False, weights='weights/best.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1650', total_memory=4096MB)\r\n\r\nOn computer 2 Linux:\r\nNamespace(cfg='cfg/yolov3-spp-3cls.cfg', conf_thres=0.1, data='data/coco.data', device='', fourcc='mp4v', half=False, img_size=2176, nms_thres=0.5, output='output', source='data/samples', view_img=False, weights='weights/best.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1050 Ti', total_memory=4038MB)\r\n\r\nThe results:\r\nOn computer 1:\r\nvideo 1/1 (1/9820) data\\samples\\original.MOV: 1248x2176 **49 cars**, 4 trucks, Done. (2.328s)\r\n\r\nOn computer 2:\r\nvideo 1/1 (1/9820) data/samples/original.MOV: 1248x2176 **191 cars**, 4 trucks, Done. (0.949s)\r\n\r\nWhat could be the reason, can it be solved?\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/708/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/705", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/705/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/705/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/705/events", "html_url": "https://github.com/ultralytics/yolov3/issues/705", "id": 536498684, "node_id": "MDU6SXNzdWU1MzY0OTg2ODQ=", "number": 705, "title": "*.data files train/valid paths should be based in ./coco, not ../coco", "user": {"login": "thavlik", "id": 740031, "node_id": "MDQ6VXNlcjc0MDAzMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/740031?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thavlik", "html_url": "https://github.com/thavlik", "followers_url": "https://api.github.com/users/thavlik/followers", "following_url": "https://api.github.com/users/thavlik/following{/other_user}", "gists_url": "https://api.github.com/users/thavlik/gists{/gist_id}", "starred_url": "https://api.github.com/users/thavlik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thavlik/subscriptions", "organizations_url": "https://api.github.com/users/thavlik/orgs", "repos_url": "https://api.github.com/users/thavlik/repos", "events_url": "https://api.github.com/users/thavlik/events{/privacy}", "received_events_url": "https://api.github.com/users/thavlik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-11T16:59:45Z", "updated_at": "2023-04-21T21:07:55Z", "closed_at": "2020-01-16T19:11:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nThe *.data files should point to data in ./coco, as these are interpreted w.r.t. python's cwd. From within /usr/src/app, pointing at ../coco yields /usr/src/coco, when we want /usr/src/app/coco. Training under default conditions yields `AssertionError: No labels found. Recommend correcting image and label paths.` \r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1. Clone the repo\r\n2. Get the data with either download script\r\n3. Build the docker image:\r\n```docker build -t yolov3 .```\r\n4. Run the docker image from within the yolov3 root directory:\r\n```\r\ndocker run \\\r\n    --name yolo \\\r\n    --rm \\\r\n    -v $(pwd)/coco:/usr/src/app/coco \\\r\n    --ipc=host \\\r\n    yolov3 \\\r\n    -- \\\r\n    python3 train.py --data data/coco.data\r\n```\r\n5. Observe the following error (I put both build + run commands into ./docker-train.sh):\r\n```\r\nuser@user-4:~/Development/yolov3$ ./docker-train.sh \r\n\r\n=============\r\n== PyTorch ==\r\n=============\r\n\r\nNVIDIA Release 19.10 (build 8472689)\r\nPyTorch Version 1.3.0a0+24ae9b5\r\n\r\nContainer image Copyright (c) 2019, NVIDIA CORPORATION.  All rights reserved.\r\n\r\nCopyright (c) 2014-2019 Facebook Inc.\r\nCopyright (c) 2011-2014 Idiap Research Institute (Ronan Collobert)\r\nCopyright (c) 2012-2014 Deepmind Technologies    (Koray Kavukcuoglu)\r\nCopyright (c) 2011-2012 NEC Laboratories America (Koray Kavukcuoglu)\r\nCopyright (c) 2011-2013 NYU                      (Clement Farabet)\r\nCopyright (c) 2006-2010 NEC Laboratories America (Ronan Collobert, Leon Bottou, Iain Melvin, Jason Weston)\r\nCopyright (c) 2006      Idiap Research Institute (Samy Bengio)\r\nCopyright (c) 2001-2004 Idiap Research Institute (Ronan Collobert, Samy Bengio, Johnny Mariethoz)\r\nCopyright (c) 2015      Google Inc.\r\nCopyright (c) 2015      Yangqing Jia\r\nCopyright (c) 2013-2016 The Caffe contributors\r\nAll rights reserved.\r\n\r\nVarious files include modifications (c) NVIDIA CORPORATION.  All rights reserved.\r\nNVIDIA modifications are covered by the license terms that apply to the underlying project or file.\r\n\r\nWARNING: The NVIDIA Driver was not detected.  GPU functionality will not be available.\r\n   Use 'nvidia-docker run' to start this container; see\r\n   https://github.com/NVIDIA/nvidia-docker/wiki/nvidia-docker .\r\n\r\nNOTE: MOFED driver for multi-node communication was not detected.\r\n      Multi-node communication performance may be reduced.\r\n\r\nCaching labels: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 64/64 [00:00<00:00, 92659.81it/s]\r\nNamespace(accumulate=4, adam=False, arc='default', batch_size=16, bucket='', cache_images=False, cfg='cfg/yolov3-spp.cfg', data='data/coco_64img.data', device='', epochs=273, evolve=False, img_size=416, img_weights=False, multi_scale=False, name='', nosave=False, notest=False, prebias=False, rect=False, resume=False, transfer=False, var=None, weights='weights/ultralytics68.pt')\r\nUsing CPU\r\n\r\nDownloading https://drive.google.com/uc?export=download&id=1Jm8kqnMdMGUUxGo8zMFZMJ0eaPwLkxSG as weights/ultralytics68.pt... Done (36.3s)\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 463, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 197, in train\r\n    cache_images=opt.cache_images and not opt.prebias)\r\n  File \"/usr/src/app/utils/datasets.py\", line 374, in __init__\r\n    assert nf > 0, 'No labels found. Recommend correcting image and label paths.'\r\nAssertionError: No labels found. Recommend correcting image and label paths.\r\n```\r\n\r\n## Expected behavior\r\nIt should begin training.\r\n\r\n## Proposed Fix\r\nThe current coco.data:\r\n```\r\nclasses=80\r\ntrain=../coco/trainvalno5k.txt\r\nvalid=../coco/5k.txt\r\nnames=data/coco.names\r\nbackup=backup/\r\neval=coco\r\n```\r\n\r\nThe working coco.data (changes on lines 2 and 3):\r\n```\r\n[omitted]\r\ntrain=./coco/trainvalno5k.txt\r\nvalid=./coco/5k.txt\r\n[omitted]\r\n```\r\n\r\nThis change now also needs to be applied to `./coco/trainvalno5k.txt` and `./coco/5k.txt`, which also point at `../coco`. \r\n\r\nThanks!\r\n\r\nTom", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/705/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/703", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/703/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/703/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/703/events", "html_url": "https://github.com/ultralytics/yolov3/issues/703", "id": 536235276, "node_id": "MDU6SXNzdWU1MzYyMzUyNzY=", "number": 703, "title": "Map is always 0  When train", "user": {"login": "shenghsiaowong", "id": 42805075, "node_id": "MDQ6VXNlcjQyODA1MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/42805075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shenghsiaowong", "html_url": "https://github.com/shenghsiaowong", "followers_url": "https://api.github.com/users/shenghsiaowong/followers", "following_url": "https://api.github.com/users/shenghsiaowong/following{/other_user}", "gists_url": "https://api.github.com/users/shenghsiaowong/gists{/gist_id}", "starred_url": "https://api.github.com/users/shenghsiaowong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shenghsiaowong/subscriptions", "organizations_url": "https://api.github.com/users/shenghsiaowong/orgs", "repos_url": "https://api.github.com/users/shenghsiaowong/repos", "events_url": "https://api.github.com/users/shenghsiaowong/events{/privacy}", "received_events_url": "https://api.github.com/users/shenghsiaowong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-11T09:10:34Z", "updated_at": "2023-04-21T21:07:57Z", "closed_at": "2019-12-12T01:48:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n![image](https://user-images.githubusercontent.com/42805075/70607287-1ccafc80-1c39-11ea-9de6-733a3b3ea9b5.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/703/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/703/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/697", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/697/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/697/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/697/events", "html_url": "https://github.com/ultralytics/yolov3/issues/697", "id": 534908426, "node_id": "MDU6SXNzdWU1MzQ5MDg0MjY=", "number": 697, "title": "layer_outputs range over", "user": {"login": "fatalfeel", "id": 1575549, "node_id": "MDQ6VXNlcjE1NzU1NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1575549?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fatalfeel", "html_url": "https://github.com/fatalfeel", "followers_url": "https://api.github.com/users/fatalfeel/followers", "following_url": "https://api.github.com/users/fatalfeel/following{/other_user}", "gists_url": "https://api.github.com/users/fatalfeel/gists{/gist_id}", "starred_url": "https://api.github.com/users/fatalfeel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fatalfeel/subscriptions", "organizations_url": "https://api.github.com/users/fatalfeel/orgs", "repos_url": "https://api.github.com/users/fatalfeel/repos", "events_url": "https://api.github.com/users/fatalfeel/events{/privacy}", "received_events_url": "https://api.github.com/users/fatalfeel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-09T12:48:34Z", "updated_at": "2019-12-11T01:20:17Z", "closed_at": "2019-12-11T01:20:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\npython3 ./train.py --cfg cfg/yolov3-spp-1cls.cfg --weights weights/darknet53.conv.74 --data data/collector.data --epochs 10\r\n\r\n/root/projects/yolov3_master/models.py\r\n                    try:\r\n                        x = torch.cat([layer_outputs[i] for i in layers], 1)\r\n                    except:  # apply stride 2 for darknet reorg layer\r\n                        layer_outputs[layers[1]] = F.interpolate(layer_outputs[layers[1]], scale_factor=[0.5, 0.5])\r\n                        x = torch.cat([layer_outputs[i] for i in layers], 1)\r\n```\r\n\r\n\r\nI found i in layer_outputs[i]  large than len(layer_outputs)\r\n\r\nscreen catch\r\nhttps://drive.google.com/file/d/1urmuFBrrhy8YBwxteEnfiGlqt8imM6xU/view?usp=sharing\r\n\r\nis this a bug?\r\n\r\nmaybe use j better\r\n```\r\ntry:\r\n                        x = torch.cat([layer_outputs[j] for j in layers], 1)\r\n                    except:  # apply stride 2 for darknet reorg layer\r\n                        layer_outputs[layers[1]] = F.interpolate(layer_outputs[layers[1]], scale_factor=[0.5, 0.5])\r\n                        x = torch.cat([layer_outputs[j] for j in layers], 1)\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/697/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/693", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/693/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/693/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/693/events", "html_url": "https://github.com/ultralytics/yolov3/issues/693", "id": 533789911, "node_id": "MDU6SXNzdWU1MzM3ODk5MTE=", "number": 693, "title": "AttributeError: module 'torchvision' has no attribute 'ops'", "user": {"login": "farazBhatti", "id": 37732181, "node_id": "MDQ6VXNlcjM3NzMyMTgx", "avatar_url": "https://avatars.githubusercontent.com/u/37732181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/farazBhatti", "html_url": "https://github.com/farazBhatti", "followers_url": "https://api.github.com/users/farazBhatti/followers", "following_url": "https://api.github.com/users/farazBhatti/following{/other_user}", "gists_url": "https://api.github.com/users/farazBhatti/gists{/gist_id}", "starred_url": "https://api.github.com/users/farazBhatti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/farazBhatti/subscriptions", "organizations_url": "https://api.github.com/users/farazBhatti/orgs", "repos_url": "https://api.github.com/users/farazBhatti/repos", "events_url": "https://api.github.com/users/farazBhatti/events{/privacy}", "received_events_url": "https://api.github.com/users/farazBhatti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2019-12-06T07:13:15Z", "updated_at": "2023-04-21T21:08:06Z", "closed_at": "2019-12-11T18:25:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nA clear and concise description of what the bug is.\r\n\r\n## To Reproduce\r\nSteps to reproduce the behavior:\r\n1.` python3 detect.py --source test_data/imgs/people1.jpg --cfg cfg/yolov3.cfg --weights weights/yolov3.weights`\r\n\r\n2. torch version = 1.3.1\r\n\r\n\r\n## Expected behavior\r\nA clear and concise description of what you expected to happen.\r\n\r\n## Environment\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: linux\r\n - Version 18\r\n\r\n\r\n## Additional context\r\ni have old version of utils which works fine", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/693/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/693/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/689", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/689/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/689/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/689/events", "html_url": "https://github.com/ultralytics/yolov3/issues/689", "id": 533079851, "node_id": "MDU6SXNzdWU1MzMwNzk4NTE=", "number": 689, "title": "why use different format value for obj and cls in training and inference?", "user": {"login": "cab1211", "id": 31565727, "node_id": "MDQ6VXNlcjMxNTY1NzI3", "avatar_url": "https://avatars.githubusercontent.com/u/31565727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cab1211", "html_url": "https://github.com/cab1211", "followers_url": "https://api.github.com/users/cab1211/followers", "following_url": "https://api.github.com/users/cab1211/following{/other_user}", "gists_url": "https://api.github.com/users/cab1211/gists{/gist_id}", "starred_url": "https://api.github.com/users/cab1211/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cab1211/subscriptions", "organizations_url": "https://api.github.com/users/cab1211/orgs", "repos_url": "https://api.github.com/users/cab1211/repos", "events_url": "https://api.github.com/users/cab1211/events{/privacy}", "received_events_url": "https://api.github.com/users/cab1211/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-05T02:12:42Z", "updated_at": "2019-12-05T07:23:00Z", "closed_at": "2019-12-05T07:22:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \ud83d\udc1b Bug\r\nhi, thank you for your opening source for this repo.\r\n\r\nwhen I read the code, i find that you use the direct obj and cls value to conpute loss, but add an op of sigmoid when inference?\r\n\r\n## Code\r\ntraining:\r\nlobj += BCEobj(pi[..., 4], tobj)  # obj loss\r\nlcls += BCEcls(ps[:, 5:], t)  # BCE\r\n\r\ninference:\r\n            if 'default' in self.arc:  # seperate obj and cls\r\n                torch.sigmoid_(io[..., 4:])\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/689/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/682", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/682/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/682/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/682/events", "html_url": "https://github.com/ultralytics/yolov3/issues/682", "id": 531857983, "node_id": "MDU6SXNzdWU1MzE4NTc5ODM=", "number": 682, "title": "person ap=?", "user": {"login": "zhanghongruiupup", "id": 35714115, "node_id": "MDQ6VXNlcjM1NzE0MTE1", "avatar_url": "https://avatars.githubusercontent.com/u/35714115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhanghongruiupup", "html_url": "https://github.com/zhanghongruiupup", "followers_url": "https://api.github.com/users/zhanghongruiupup/followers", "following_url": "https://api.github.com/users/zhanghongruiupup/following{/other_user}", "gists_url": "https://api.github.com/users/zhanghongruiupup/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhanghongruiupup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhanghongruiupup/subscriptions", "organizations_url": "https://api.github.com/users/zhanghongruiupup/orgs", "repos_url": "https://api.github.com/users/zhanghongruiupup/repos", "events_url": "https://api.github.com/users/zhanghongruiupup/events{/privacy}", "received_events_url": "https://api.github.com/users/zhanghongruiupup/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-03T09:50:57Z", "updated_at": "2019-12-03T20:38:47Z", "closed_at": "2019-12-03T20:38:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "thank your work!\r\nWhat is person AP equal to in  yolov3 size=416 coco map@0.5?\r\nthanks", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/682/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/682/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/680", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/680/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/680/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/680/events", "html_url": "https://github.com/ultralytics/yolov3/issues/680", "id": 531819554, "node_id": "MDU6SXNzdWU1MzE4MTk1NTQ=", "number": 680, "title": "Missing pretrained yolov3 pytorch weights on Google drive", "user": {"login": "coolmarat", "id": 7396426, "node_id": "MDQ6VXNlcjczOTY0MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/7396426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/coolmarat", "html_url": "https://github.com/coolmarat", "followers_url": "https://api.github.com/users/coolmarat/followers", "following_url": "https://api.github.com/users/coolmarat/following{/other_user}", "gists_url": "https://api.github.com/users/coolmarat/gists{/gist_id}", "starred_url": "https://api.github.com/users/coolmarat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/coolmarat/subscriptions", "organizations_url": "https://api.github.com/users/coolmarat/orgs", "repos_url": "https://api.github.com/users/coolmarat/repos", "events_url": "https://api.github.com/users/coolmarat/events{/privacy}", "received_events_url": "https://api.github.com/users/coolmarat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-03T08:45:49Z", "updated_at": "2019-12-03T10:56:35Z", "closed_at": "2019-12-03T10:56:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to test learning transfer. I open weights\\download_yolov3_weights.sh under windows and copy link to google drive https://drive.google.com/drive/folders/1uxgUBemJVw9wZsdpboYbzUN4bcRhsuAI  but this link is broken. Where can I find yolov3 pretrained weights?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/680/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/680/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/678", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/678/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/678/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/678/events", "html_url": "https://github.com/ultralytics/yolov3/issues/678", "id": 531620299, "node_id": "MDU6SXNzdWU1MzE2MjAyOTk=", "number": 678, "title": "Target classes exceed model classes", "user": {"login": "salinaaaaaa", "id": 5199900, "node_id": "MDQ6VXNlcjUxOTk5MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/5199900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/salinaaaaaa", "html_url": "https://github.com/salinaaaaaa", "followers_url": "https://api.github.com/users/salinaaaaaa/followers", "following_url": "https://api.github.com/users/salinaaaaaa/following{/other_user}", "gists_url": "https://api.github.com/users/salinaaaaaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/salinaaaaaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/salinaaaaaa/subscriptions", "organizations_url": "https://api.github.com/users/salinaaaaaa/orgs", "repos_url": "https://api.github.com/users/salinaaaaaa/repos", "events_url": "https://api.github.com/users/salinaaaaaa/events{/privacy}", "received_events_url": "https://api.github.com/users/salinaaaaaa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 64, "created_at": "2019-12-03T00:06:19Z", "updated_at": "2023-04-21T21:08:17Z", "closed_at": "2019-12-07T02:10:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Created custom files for training:\r\n(4 + 1 + 13) * 3 = 54\r\n13 classes, 54 filters\r\n\r\n*.names has 13 names in it\r\n*.cfg was converted properly w 13 for classes, 54 for filters in all 3 yolo blocks\r\n\r\nyolov3/utils/utils.py\", line 451, in build_targets\r\n    assert c.max() <= model.nc, 'Target classes exceed model classes'\r\nAssertionError: Target classes exceed model classes\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/678/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/678/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/677", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/677/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/677/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/677/events", "html_url": "https://github.com/ultralytics/yolov3/issues/677", "id": 531155407, "node_id": "MDU6SXNzdWU1MzExNTU0MDc=", "number": 677, "title": "Distributed Training on Windows", "user": {"login": "inspire-lts", "id": 33800259, "node_id": "MDQ6VXNlcjMzODAwMjU5", "avatar_url": "https://avatars.githubusercontent.com/u/33800259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/inspire-lts", "html_url": "https://github.com/inspire-lts", "followers_url": "https://api.github.com/users/inspire-lts/followers", "following_url": "https://api.github.com/users/inspire-lts/following{/other_user}", "gists_url": "https://api.github.com/users/inspire-lts/gists{/gist_id}", "starred_url": "https://api.github.com/users/inspire-lts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/inspire-lts/subscriptions", "organizations_url": "https://api.github.com/users/inspire-lts/orgs", "repos_url": "https://api.github.com/users/inspire-lts/repos", "events_url": "https://api.github.com/users/inspire-lts/events{/privacy}", "received_events_url": "https://api.github.com/users/inspire-lts/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-12-02T14:14:57Z", "updated_at": "2023-04-21T21:08:19Z", "closed_at": "2019-12-11T01:25:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nI installed accroding \"conda install pytorch torchvision cudatoolkit=10.1 -c pytorch'', but i found this question in my windows10 system:\r\n**AttributeError: module 'torch.distributed' has no attribute 'is_initialized'**\r\nand dir(torch.distributed) returns:\r\n['_**_builtins__','__cached__','__doc__','__file__','__loader__','__name__','__package__','__path__''__spec__','absolute_imort','division', 'is_available','print_function','sys','torch','unicode_literals']**\r\nI hava one GPU. Why this happend, who can help?many thanks", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/677/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/674", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/674/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/674/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/674/events", "html_url": "https://github.com/ultralytics/yolov3/issues/674", "id": 530717160, "node_id": "MDU6SXNzdWU1MzA3MTcxNjA=", "number": 674, "title": "default weight", "user": {"login": "Gaondong", "id": 43692998, "node_id": "MDQ6VXNlcjQzNjkyOTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43692998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gaondong", "html_url": "https://github.com/Gaondong", "followers_url": "https://api.github.com/users/Gaondong/followers", "following_url": "https://api.github.com/users/Gaondong/following{/other_user}", "gists_url": "https://api.github.com/users/Gaondong/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gaondong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gaondong/subscriptions", "organizations_url": "https://api.github.com/users/Gaondong/orgs", "repos_url": "https://api.github.com/users/Gaondong/repos", "events_url": "https://api.github.com/users/Gaondong/events{/privacy}", "received_events_url": "https://api.github.com/users/Gaondong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-12-01T11:34:25Z", "updated_at": "2019-12-02T17:28:41Z", "closed_at": "2019-12-02T17:28:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I saw there are many weights in hyp(train.py) , and I trained two class, and there is imbalance of labels in the dataset, eg(60000car and 6000 person), how could I change the hyp or loss function to get better performance .\r\nI used FOCAL LOSS in objectness and classification loss to decay the imbalance but it don't work(GIOU LOSS is very high).\r\nTHE AP OF 2 CLASSES IS 0.78 and 0.49 by conf_thres=0.01 iou_thres= 0.5.\r\n![image](https://user-images.githubusercontent.com/43692998/69913561-120fab00-1474-11ea-8cf5-41008376038f.png)\r\n\r\nBEST WISHS.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/674/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/674/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/673", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/673/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/673/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/673/events", "html_url": "https://github.com/ultralytics/yolov3/issues/673", "id": 530700927, "node_id": "MDU6SXNzdWU1MzA3MDA5Mjc=", "number": 673, "title": "How can I get the trainnalvo5k.txt", "user": {"login": "1518136851", "id": 48141808, "node_id": "MDQ6VXNlcjQ4MTQxODA4", "avatar_url": "https://avatars.githubusercontent.com/u/48141808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1518136851", "html_url": "https://github.com/1518136851", "followers_url": "https://api.github.com/users/1518136851/followers", "following_url": "https://api.github.com/users/1518136851/following{/other_user}", "gists_url": "https://api.github.com/users/1518136851/gists{/gist_id}", "starred_url": "https://api.github.com/users/1518136851/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1518136851/subscriptions", "organizations_url": "https://api.github.com/users/1518136851/orgs", "repos_url": "https://api.github.com/users/1518136851/repos", "events_url": "https://api.github.com/users/1518136851/events{/privacy}", "received_events_url": "https://api.github.com/users/1518136851/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-01T09:27:18Z", "updated_at": "2023-04-21T21:08:20Z", "closed_at": "2019-12-01T20:24:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "FileNotFoundError: [Errno 2] No such file or directory: '..\\\\coco\\\\trainvalno5k.txt'", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/673/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/673/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/671", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/671/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/671/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/671/events", "html_url": "https://github.com/ultralytics/yolov3/issues/671", "id": 530522168, "node_id": "MDU6SXNzdWU1MzA1MjIxNjg=", "number": 671, "title": "Dimension Error during Testing", "user": {"login": "russellave", "id": 44121878, "node_id": "MDQ6VXNlcjQ0MTIxODc4", "avatar_url": "https://avatars.githubusercontent.com/u/44121878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/russellave", "html_url": "https://github.com/russellave", "followers_url": "https://api.github.com/users/russellave/followers", "following_url": "https://api.github.com/users/russellave/following{/other_user}", "gists_url": "https://api.github.com/users/russellave/gists{/gist_id}", "starred_url": "https://api.github.com/users/russellave/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/russellave/subscriptions", "organizations_url": "https://api.github.com/users/russellave/orgs", "repos_url": "https://api.github.com/users/russellave/repos", "events_url": "https://api.github.com/users/russellave/events{/privacy}", "received_events_url": "https://api.github.com/users/russellave/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-30T02:21:21Z", "updated_at": "2019-11-30T17:00:02Z", "closed_at": "2019-11-30T17:00:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am training a custom dataset. During training, when testing is done after an epoch, I receive a dimension error. The only things I changed in the config file were the number of filters in the last conv layer (from 255 to 48) and the number of classes (11)\r\n\r\nI run this command: \r\npython3 train.py --data data/custom_data.data --cfg cfg/custom_cfg.cfg  --weights '' --batch-size 16\r\n\r\nThis is my output: \r\n\r\nReading labels (100 found, 0 missing, 0 empty for 100 images): 100% 100/100 [00:00<00:00, 716.85it/s]\r\nModel Summary: 222 layers, 6.1896e+07 parameters, 6.1896e+07 gradients\r\nStarting training for 273 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n     0/272     4.39G      1.45      0.83      19.2      21.5         4       416: 100% 13/13 [00:08<00:00,  2.29it/s]\r\n               Class    Images   Targets         P         R   mAP@0.5        F1:   0% 0/13 [00:00<?, ?it/s]\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 448, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 320, in train\r\n    save_json=final_epoch and epoch > 0 and 'coco.data' in data)\r\n  File \"/content/drive/My Drive/Yolo/yolov3/test.py\", line 74, in test\r\n    inf_out, train_out = model(imgs)  # inference and training outputs\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py\", line 541, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/content/drive/My Drive/Yolo/yolov3/models.py\", line 273, in forward\r\n    return torch.cat(io, 1), p\r\nRuntimeError: invalid argument 0: Sizes of tensors must match except in dimension 1. Got 16 and 85 in dimension 2 at /pytorch/aten/src/THC/generic/THCTensorMath.cu:71\r\n\r\n\r\nDo you have an idea on where I can look to fix this? \r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/671/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/671/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/665", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/665/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/665/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/665/events", "html_url": "https://github.com/ultralytics/yolov3/issues/665", "id": 529349495, "node_id": "MDU6SXNzdWU1MjkzNDk0OTU=", "number": 665, "title": "how to use resnet101.pt, no where to find it?", "user": {"login": "smilealvin92", "id": 48876213, "node_id": "MDQ6VXNlcjQ4ODc2MjEz", "avatar_url": "https://avatars.githubusercontent.com/u/48876213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smilealvin92", "html_url": "https://github.com/smilealvin92", "followers_url": "https://api.github.com/users/smilealvin92/followers", "following_url": "https://api.github.com/users/smilealvin92/following{/other_user}", "gists_url": "https://api.github.com/users/smilealvin92/gists{/gist_id}", "starred_url": "https://api.github.com/users/smilealvin92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smilealvin92/subscriptions", "organizations_url": "https://api.github.com/users/smilealvin92/orgs", "repos_url": "https://api.github.com/users/smilealvin92/repos", "events_url": "https://api.github.com/users/smilealvin92/events{/privacy}", "received_events_url": "https://api.github.com/users/smilealvin92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-27T13:34:20Z", "updated_at": "2021-02-13T20:18:03Z", "closed_at": "2019-11-30T01:44:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI want to use the second classifier, and I set the classify to True, however, I can not find the resnet101.pt, and there is no place to download it, can anyone with warm heart to tell me?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/665/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/665/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/664", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/664/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/664/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/664/events", "html_url": "https://github.com/ultralytics/yolov3/issues/664", "id": 529210914, "node_id": "MDU6SXNzdWU1MjkyMTA5MTQ=", "number": 664, "title": "UnboundLocalError: local variable 'labels' referenced before assignment", "user": {"login": "cxjaicj", "id": 50646956, "node_id": "MDQ6VXNlcjUwNjQ2OTU2", "avatar_url": "https://avatars.githubusercontent.com/u/50646956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cxjaicj", "html_url": "https://github.com/cxjaicj", "followers_url": "https://api.github.com/users/cxjaicj/followers", "following_url": "https://api.github.com/users/cxjaicj/following{/other_user}", "gists_url": "https://api.github.com/users/cxjaicj/gists{/gist_id}", "starred_url": "https://api.github.com/users/cxjaicj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cxjaicj/subscriptions", "organizations_url": "https://api.github.com/users/cxjaicj/orgs", "repos_url": "https://api.github.com/users/cxjaicj/repos", "events_url": "https://api.github.com/users/cxjaicj/events{/privacy}", "received_events_url": "https://api.github.com/users/cxjaicj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-27T09:09:06Z", "updated_at": "2019-12-11T01:25:29Z", "closed_at": "2019-12-11T01:25:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Has anyone encountered this bug? How did you solve it?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/664/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/664/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/662", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/662/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/662/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/662/events", "html_url": "https://github.com/ultralytics/yolov3/issues/662", "id": 528628301, "node_id": "MDU6SXNzdWU1Mjg2MjgzMDE=", "number": 662, "title": "Recommend correcting image and label paths.", "user": {"login": "siyangxie", "id": 13971749, "node_id": "MDQ6VXNlcjEzOTcxNzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/13971749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siyangxie", "html_url": "https://github.com/siyangxie", "followers_url": "https://api.github.com/users/siyangxie/followers", "following_url": "https://api.github.com/users/siyangxie/following{/other_user}", "gists_url": "https://api.github.com/users/siyangxie/gists{/gist_id}", "starred_url": "https://api.github.com/users/siyangxie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siyangxie/subscriptions", "organizations_url": "https://api.github.com/users/siyangxie/orgs", "repos_url": "https://api.github.com/users/siyangxie/repos", "events_url": "https://api.github.com/users/siyangxie/events{/privacy}", "received_events_url": "https://api.github.com/users/siyangxie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-26T10:25:28Z", "updated_at": "2019-11-27T03:23:17Z", "closed_at": "2019-11-27T03:23:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI'm trying to train a single class with YOLOv3, however it keeps giving me \"Recommend correcting image and label paths\" error even if I have put images and labels in the exact directory as instructed.\r\n\r\n**To Reproduce**\r\nI followed these steps:\r\n```\r\nrm -rf yolov3  # Warning: remove existing\r\ngit clone https://github.com/ultralytics/yolov3 && cd yolov3  # clone\r\n# bash yolov3/data/get_coco_dataset_gdrive.sh  # copy COCO2014 dataset (20GB)\r\npython3 train.py --data data/coco_1cls.data --cfg cfg/yolov3-spp.cfg --batch-size 5 --accumulate 1 --nosave --name 1cls\r\npython3 train.py --data data/coco_1cls.data --cfg cfg/yolov3-spp-1cls.cfg --batch-size 5 --accumulate 1 --nosave --name 1cls_1clscfg\r\npython3 -c \"from utils import utils; utils.plot_results()\"  # plot as 'results.png'\r\n```\r\n\r\n**Screenshots**\r\nThis is the screenshot of my terminal:\r\n<img width=\"664\" alt=\"Screen Shot 2019-11-26 at 6 21 13 PM\" src=\"https://user-images.githubusercontent.com/13971749/69621184-9380cb00-1079-11ea-9494-d50c8909328f.png\">\r\n\r\nThis is the screenshot of my directory structure:\r\n<img width=\"390\" alt=\"Screen Shot 2019-11-26 at 6 22 38 PM\" src=\"https://user-images.githubusercontent.com/13971749/69621278-be6b1f00-1079-11ea-9887-96cd4c22db70.png\">\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: macOS\r\n - Version: Catalina 10.15.1\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/662/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/662/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/659", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/659/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/659/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/659/events", "html_url": "https://github.com/ultralytics/yolov3/issues/659", "id": 528071856, "node_id": "MDU6SXNzdWU1MjgwNzE4NTY=", "number": 659, "title": "Unstable training speed", "user": {"login": "ming71", "id": 43720092, "node_id": "MDQ6VXNlcjQzNzIwMDky", "avatar_url": "https://avatars.githubusercontent.com/u/43720092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ming71", "html_url": "https://github.com/ming71", "followers_url": "https://api.github.com/users/ming71/followers", "following_url": "https://api.github.com/users/ming71/following{/other_user}", "gists_url": "https://api.github.com/users/ming71/gists{/gist_id}", "starred_url": "https://api.github.com/users/ming71/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ming71/subscriptions", "organizations_url": "https://api.github.com/users/ming71/orgs", "repos_url": "https://api.github.com/users/ming71/repos", "events_url": "https://api.github.com/users/ming71/events{/privacy}", "received_events_url": "https://api.github.com/users/ming71/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-25T13:01:43Z", "updated_at": "2019-11-25T13:48:45Z", "closed_at": "2019-11-25T13:45:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "It's really strange that my training speed used to reach 15s for each epoch, and GPU usage 96%.\r\nHowever, I can never reach so good GPU-util again(about 10% when training ) after I rebooted my computer and modified some irrelevant code just now.What's wrong with the code ,or my GPU?\r\n![image](https://user-images.githubusercontent.com/43720092/69542641-dc2b7c00-0fc6-11ea-9a01-fa74f8987bdb.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/659/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/658", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/658/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/658/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/658/events", "html_url": "https://github.com/ultralytics/yolov3/issues/658", "id": 528046684, "node_id": "MDU6SXNzdWU1MjgwNDY2ODQ=", "number": 658, "title": "AssertionError: non-normalized or out of bounds coordinate labels:", "user": {"login": "Samjith888", "id": 39676803, "node_id": "MDQ6VXNlcjM5Njc2ODAz", "avatar_url": "https://avatars.githubusercontent.com/u/39676803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Samjith888", "html_url": "https://github.com/Samjith888", "followers_url": "https://api.github.com/users/Samjith888/followers", "following_url": "https://api.github.com/users/Samjith888/following{/other_user}", "gists_url": "https://api.github.com/users/Samjith888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Samjith888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Samjith888/subscriptions", "organizations_url": "https://api.github.com/users/Samjith888/orgs", "repos_url": "https://api.github.com/users/Samjith888/repos", "events_url": "https://api.github.com/users/Samjith888/events{/privacy}", "received_events_url": "https://api.github.com/users/Samjith888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-11-25T12:12:59Z", "updated_at": "2023-04-21T21:08:26Z", "closed_at": "2019-11-25T19:26:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Got the following error while running for custom data with 7 classes. [https://github.com/ultralytics/yolov3/issues/569](url) . \r\n\r\n$ python train.py --data data/coco.data \r\nNamespace(accumulate=2, adam=False, arc='default', batch_size=32, bucket='', cache_images=False, cfg='cfg/yolov3-spp.cfg', data='data/coco.data', device='', epochs=273, evolve=False, img_size=416, img_weights=False, multi_scale=False, name='', nosave=False, notest=False, prebias=False, rect=False, resume=False, transfer=False, var=None, weights='weights/ultralytics49.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1070', total_memory=8116MB)\r\nAssertionError: non-normalized or out of bounds coordinate labels:\r\nReading labels:   0%|                                                                                                                          | 0/1562 [00:00<?, ?it/s]Traceback (most recent call last):\r\n  File \"train.py\", line 444, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 193, in train\r\n    cache_images=False if opt.prebias else opt.cache_images)\r\n  File \"/home/samjth/Desktop/yolov3/utils/datasets.py\", line 335, in __init__\r\n    assert (l[:, 1:] <= 1).all(), 'non-normalized or out of bounds coordinate labels: %s' % file\r\nAssertionError: non-normalized or out of bounds coordinate labels: /home/samjth/Desktop/yolov3/data/coco/labels/train2014/073m_WW_5049.txt\r\nReading labels:   0%|                                                                                                                          | 0/1562 [00:00<?, ?it/s]\r\n(base) \r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/658/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/656", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/656/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/656/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/656/events", "html_url": "https://github.com/ultralytics/yolov3/issues/656", "id": 527887473, "node_id": "MDU6SXNzdWU1Mjc4ODc0NzM=", "number": 656, "title": "get_coco_dataset.sh", "user": {"login": "siyangxie", "id": 13971749, "node_id": "MDQ6VXNlcjEzOTcxNzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/13971749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siyangxie", "html_url": "https://github.com/siyangxie", "followers_url": "https://api.github.com/users/siyangxie/followers", "following_url": "https://api.github.com/users/siyangxie/following{/other_user}", "gists_url": "https://api.github.com/users/siyangxie/gists{/gist_id}", "starred_url": "https://api.github.com/users/siyangxie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siyangxie/subscriptions", "organizations_url": "https://api.github.com/users/siyangxie/orgs", "repos_url": "https://api.github.com/users/siyangxie/repos", "events_url": "https://api.github.com/users/siyangxie/events{/privacy}", "received_events_url": "https://api.github.com/users/siyangxie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-25T06:56:58Z", "updated_at": "2019-11-25T11:08:31Z", "closed_at": "2019-11-25T11:08:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen I try to run get_coco_dataset.sh on my Windows PC, it gives me error messages as it cannot execute the last two lines of the code:\r\n```\r\npaste <(awk \"{print \\\"$PWD\\\"}\" <5k.part) 5k.part | tr -d '\\t' > 5k.txt\r\npaste <(awk \"{print \\\"$PWD\\\"}\" <trainvalno5k.part) trainvalno5k.part | tr -d '\\t' > trainvalno5k.txt\r\n```\r\nIt says \"paste: /dev/fd/63: No such file or directory\". Could you tell me what these two lines do exactly and how should I implement them in Windows?\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/656/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/653", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/653/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/653/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/653/events", "html_url": "https://github.com/ultralytics/yolov3/issues/653", "id": 527705915, "node_id": "MDU6SXNzdWU1Mjc3MDU5MTU=", "number": 653, "title": "Failing to convert model to CoreML", "user": {"login": "acburigo", "id": 20728609, "node_id": "MDQ6VXNlcjIwNzI4NjA5", "avatar_url": "https://avatars.githubusercontent.com/u/20728609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acburigo", "html_url": "https://github.com/acburigo", "followers_url": "https://api.github.com/users/acburigo/followers", "following_url": "https://api.github.com/users/acburigo/following{/other_user}", "gists_url": "https://api.github.com/users/acburigo/gists{/gist_id}", "starred_url": "https://api.github.com/users/acburigo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acburigo/subscriptions", "organizations_url": "https://api.github.com/users/acburigo/orgs", "repos_url": "https://api.github.com/users/acburigo/repos", "events_url": "https://api.github.com/users/acburigo/events{/privacy}", "received_events_url": "https://api.github.com/users/acburigo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1325556782, "node_id": "MDU6TGFiZWwxMzI1NTU2Nzgy", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/iOS%20App", "name": "iOS App", "color": "FF8300", "default": false, "description": "iDetection iOS Store App"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-24T14:27:03Z", "updated_at": "2020-03-11T00:09:49Z", "closed_at": "2020-03-11T00:09:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI'm trying to convert the Ultralytics model to CoreML so I can use it in a mobile app, however I get an error while converting from ONNX to CoreML.\r\n\r\nDo you have any code available that does the conversion?\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n```\r\nimport onnx\r\nimport onnx_coreml\r\nimport torch.onnx\r\n\r\nPYTORCH_WEIGHTS_PATH = 'yolov3/weights/ultralytics49.pt'\r\nONNX_MODEL_PATH = 'model.onnx'\r\nCOREML_MODEL_PATH = 'model.mlmodel'\r\n\r\ndummy_input = torch.randn(1, 3, 416, 416)\r\nmodel = models.Darknet('yolov3/cfg/yolov3-spp.cfg')\r\nmodel.load_state_dict(torch.load(PYTORCH_WEIGHTS_PATH, map_location='cpu')['model'])\r\n\r\ntorch.onnx.export(model, dummy_input, ONNX_MODEL_PATH)\r\n\r\nmodel = onnx.load(ONNX_MODEL_PATH)\r\ncml = onnx_coreml.convert(model, target_ios='13')\r\ncml.save(COREML_MODEL_PATH)\r\n```\r\n\r\nI get the following error:\r\n```\r\nyolov3/models.py:154: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  if (self.nx, self.ny) != (nx, ny):\r\nyolov3/models.py:286: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  self.img_size = max(img_size)\r\nyolov3/models.py:287: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  self.stride = self.img_size / max(ng)\r\nyolov3/models.py:296: TracerWarning: torch.Tensor results are registered as constants in the trace. You can safely ignore this warning if you use this function to create tensors out of constant variables that would be the same every time you call this function. In any other case, this might cause the trace to be incorrect.\r\n  self.ng = torch.Tensor(ng).to(device)\r\nyolov3/models.py:296: TracerWarning: Converting a tensor to a Python float might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  self.ng = torch.Tensor(ng).to(device)\r\nyolov3/models.py:191: TracerWarning: There are 2 live references to the data region being modified when tracing in-place operator copy_ (possibly due to an assignment). This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  io[..., 0:2] = torch.sigmoid(io[..., 0:2]) + self.grid_xy  # xy\r\nyolov3/models.py:192: TracerWarning: There are 2 live references to the data region being modified when tracing in-place operator copy_ (possibly due to an assignment). This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  io[..., 2:4] = torch.exp(io[..., 2:4]) * self.anchor_wh  # wh yolo method\r\nyolov3/models.py:194: TracerWarning: There are 2 live references to the data region being modified when tracing in-place operator mul_. This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  io[..., :4] *= self.stride\r\nyolov3/models.py:194: TracerWarning: There are 4 live references to the data region being modified when tracing in-place operator copy_ (possibly due to an assignment). This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  io[..., :4] *= self.stride\r\nyolov3/models.py:197: TracerWarning: There are 2 live references to the data region being modified when tracing in-place operator sigmoid_. This might cause the trace to be incorrect, because all other views that also reference this data will not reflect this change in the trace! On the other hand, if all other views use the same memory chunk, but are disjoint (e.g. are outputs of torch.split), this might still be safe.\r\n  torch.sigmoid_(io[..., 4:])\r\n/usr/local/lib/python3.5/dist-packages/torch/onnx/symbolic_helper.py:198: UserWarning: You are trying to export the model with onnx:Upsample for ONNX opset version 9. This operator might cause results to not match the expected results by PyTorch.\r\nONNX's Upsample/Resize operator did not match Pytorch's Interpolation until opset 11. Attributes to determine how to transform the input were added in onnx:Resize in opset 11 to support Pytorch's behavior (like coordinate_transformation_mode and nearest_mode).\r\nWe recommend using opset 11 and above for models using this operator. \r\n  \"\" + str(_export_onnx_opset_version) + \". \"\r\n\r\n1/341: Converting Node Type Conv\r\n2/341: Converting Node Type BatchNormalization\r\n3/341: Converting Node Type LeakyRelu\r\n4/341: Converting Node Type Conv\r\n5/341: Converting Node Type BatchNormalization\r\n6/341: Converting Node Type LeakyRelu\r\n7/341: Converting Node Type Conv\r\n8/341: Converting Node Type BatchNormalization\r\n9/341: Converting Node Type LeakyRelu\r\n10/341: Converting Node Type Conv\r\n11/341: Converting Node Type BatchNormalization\r\n12/341: Converting Node Type LeakyRelu\r\n13/341: Converting Node Type Add\r\n14/341: Converting Node Type Conv\r\n15/341: Converting Node Type BatchNormalization\r\n16/341: Converting Node Type LeakyRelu\r\n17/341: Converting Node Type Conv\r\n18/341: Converting Node Type BatchNormalization\r\n19/341: Converting Node Type LeakyRelu\r\n20/341: Converting Node Type Conv\r\n21/341: Converting Node Type BatchNormalization\r\n22/341: Converting Node Type LeakyRelu\r\n23/341: Converting Node Type Add\r\n24/341: Converting Node Type Conv\r\n25/341: Converting Node Type BatchNormalization\r\n26/341: Converting Node Type LeakyRelu\r\n27/341: Converting Node Type Conv\r\n28/341: Converting Node Type BatchNormalization\r\n29/341: Converting Node Type LeakyRelu\r\n30/341: Converting Node Type Add\r\n31/341: Converting Node Type Conv\r\n32/341: Converting Node Type BatchNormalization\r\n33/341: Converting Node Type LeakyRelu\r\n34/341: Converting Node Type Conv\r\n35/341: Converting Node Type BatchNormalization\r\n36/341: Converting Node Type LeakyRelu\r\n37/341: Converting Node Type Conv\r\n38/341: Converting Node Type BatchNormalization\r\n39/341: Converting Node Type LeakyRelu\r\n40/341: Converting Node Type Add\r\n41/341: Converting Node Type Conv\r\n42/341: Converting Node Type BatchNormalization\r\n43/341: Converting Node Type LeakyRelu\r\n44/341: Converting Node Type Conv\r\n45/341: Converting Node Type BatchNormalization\r\n46/341: Converting Node Type LeakyRelu\r\n47/341: Converting Node Type Add\r\n48/341: Converting Node Type Conv\r\n49/341: Converting Node Type BatchNormalization\r\n50/341: Converting Node Type LeakyRelu\r\n51/341: Converting Node Type Conv\r\n52/341: Converting Node Type BatchNormalization\r\n53/341: Converting Node Type LeakyRelu\r\n54/341: Converting Node Type Add\r\n55/341: Converting Node Type Conv\r\n56/341: Converting Node Type BatchNormalization\r\n57/341: Converting Node Type LeakyRelu\r\n58/341: Converting Node Type Conv\r\n59/341: Converting Node Type BatchNormalization\r\n60/341: Converting Node Type LeakyRelu\r\n61/341: Converting Node Type Add\r\n62/341: Converting Node Type Conv\r\n63/341: Converting Node Type BatchNormalization\r\n64/341: Converting Node Type LeakyRelu\r\n65/341: Converting Node Type Conv\r\n66/341: Converting Node Type BatchNormalization\r\n67/341: Converting Node Type LeakyRelu\r\n68/341: Converting Node Type Add\r\n69/341: Converting Node Type Conv\r\n70/341: Converting Node Type BatchNormalization\r\n71/341: Converting Node Type LeakyRelu\r\n72/341: Converting Node Type Conv\r\n73/341: Converting Node Type BatchNormalization\r\n74/341: Converting Node Type LeakyRelu\r\n75/341: Converting Node Type Add\r\n76/341: Converting Node Type Conv\r\n77/341: Converting Node Type BatchNormalization\r\n78/341: Converting Node Type LeakyRelu\r\n79/341: Converting Node Type Conv\r\n80/341: Converting Node Type BatchNormalization\r\n81/341: Converting Node Type LeakyRelu\r\n82/341: Converting Node Type Add\r\n83/341: Converting Node Type Conv\r\n84/341: Converting Node Type BatchNormalization\r\n85/341: Converting Node Type LeakyRelu\r\n86/341: Converting Node Type Conv\r\n87/341: Converting Node Type BatchNormalization\r\n88/341: Converting Node Type LeakyRelu\r\n89/341: Converting Node Type Add\r\n90/341: Converting Node Type Conv\r\n91/341: Converting Node Type BatchNormalization\r\n92/341: Converting Node Type LeakyRelu\r\n93/341: Converting Node Type Conv\r\n94/341: Converting Node Type BatchNormalization\r\n95/341: Converting Node Type LeakyRelu\r\n96/341: Converting Node Type Conv\r\n97/341: Converting Node Type BatchNormalization\r\n98/341: Converting Node Type LeakyRelu\r\n99/341: Converting Node Type Add\r\n100/341: Converting Node Type Conv\r\n101/341: Converting Node Type BatchNormalization\r\n102/341: Converting Node Type LeakyRelu\r\n103/341: Converting Node Type Conv\r\n104/341: Converting Node Type BatchNormalization\r\n105/341: Converting Node Type LeakyRelu\r\n106/341: Converting Node Type Add\r\n107/341: Converting Node Type Conv\r\n108/341: Converting Node Type BatchNormalization\r\n109/341: Converting Node Type LeakyRelu\r\n110/341: Converting Node Type Conv\r\n111/341: Converting Node Type BatchNormalization\r\n112/341: Converting Node Type LeakyRelu\r\n113/341: Converting Node Type Add\r\n114/341: Converting Node Type Conv\r\n115/341: Converting Node Type BatchNormalization\r\n116/341: Converting Node Type LeakyRelu\r\n117/341: Converting Node Type Conv\r\n118/341: Converting Node Type BatchNormalization\r\n119/341: Converting Node Type LeakyRelu\r\n120/341: Converting Node Type Add\r\n121/341: Converting Node Type Conv\r\n122/341: Converting Node Type BatchNormalization\r\n123/341: Converting Node Type LeakyRelu\r\n124/341: Converting Node Type Conv\r\n125/341: Converting Node Type BatchNormalization\r\n126/341: Converting Node Type LeakyRelu\r\n127/341: Converting Node Type Add\r\n128/341: Converting Node Type Conv\r\n129/341: Converting Node Type BatchNormalization\r\n130/341: Converting Node Type LeakyRelu\r\n131/341: Converting Node Type Conv\r\n132/341: Converting Node Type BatchNormalization\r\n133/341: Converting Node Type LeakyRelu\r\n134/341: Converting Node Type Add\r\n135/341: Converting Node Type Conv\r\n136/341: Converting Node Type BatchNormalization\r\n137/341: Converting Node Type LeakyRelu\r\n138/341: Converting Node Type Conv\r\n139/341: Converting Node Type BatchNormalization\r\n140/341: Converting Node Type LeakyRelu\r\n141/341: Converting Node Type Add\r\n142/341: Converting Node Type Conv\r\n143/341: Converting Node Type BatchNormalization\r\n144/341: Converting Node Type LeakyRelu\r\n145/341: Converting Node Type Conv\r\n146/341: Converting Node Type BatchNormalization\r\n147/341: Converting Node Type LeakyRelu\r\n148/341: Converting Node Type Add\r\n149/341: Converting Node Type Conv\r\n150/341: Converting Node Type BatchNormalization\r\n151/341: Converting Node Type LeakyRelu\r\n152/341: Converting Node Type Conv\r\n153/341: Converting Node Type BatchNormalization\r\n154/341: Converting Node Type LeakyRelu\r\n155/341: Converting Node Type Conv\r\n156/341: Converting Node Type BatchNormalization\r\n157/341: Converting Node Type LeakyRelu\r\n158/341: Converting Node Type Add\r\n159/341: Converting Node Type Conv\r\n160/341: Converting Node Type BatchNormalization\r\n161/341: Converting Node Type LeakyRelu\r\n162/341: Converting Node Type Conv\r\n163/341: Converting Node Type BatchNormalization\r\n164/341: Converting Node Type LeakyRelu\r\n165/341: Converting Node Type Add\r\n166/341: Converting Node Type Conv\r\n167/341: Converting Node Type BatchNormalization\r\n168/341: Converting Node Type LeakyRelu\r\n169/341: Converting Node Type Conv\r\n170/341: Converting Node Type BatchNormalization\r\n171/341: Converting Node Type LeakyRelu\r\n172/341: Converting Node Type Add\r\n173/341: Converting Node Type Conv\r\n174/341: Converting Node Type BatchNormalization\r\n175/341: Converting Node Type LeakyRelu\r\n176/341: Converting Node Type Conv\r\n177/341: Converting Node Type BatchNormalization\r\n178/341: Converting Node Type LeakyRelu\r\n179/341: Converting Node Type Add\r\n180/341: Converting Node Type Conv\r\n181/341: Converting Node Type BatchNormalization\r\n182/341: Converting Node Type LeakyRelu\r\n183/341: Converting Node Type Conv\r\n184/341: Converting Node Type BatchNormalization\r\n185/341: Converting Node Type LeakyRelu\r\n186/341: Converting Node Type Conv\r\n187/341: Converting Node Type BatchNormalization\r\n188/341: Converting Node Type LeakyRelu\r\n189/341: Converting Node Type MaxPool\r\n190/341: Converting Node Type MaxPool\r\n191/341: Converting Node Type MaxPool\r\n192/341: Converting Node Type Concat\r\n193/341: Converting Node Type Conv\r\n194/341: Converting Node Type BatchNormalization\r\n195/341: Converting Node Type LeakyRelu\r\n196/341: Converting Node Type Conv\r\n197/341: Converting Node Type BatchNormalization\r\n198/341: Converting Node Type LeakyRelu\r\n199/341: Converting Node Type Conv\r\n200/341: Converting Node Type BatchNormalization\r\n201/341: Converting Node Type LeakyRelu\r\n202/341: Converting Node Type Conv\r\n203/341: Converting Node Type BatchNormalization\r\n204/341: Converting Node Type LeakyRelu\r\n205/341: Converting Node Type Conv\r\n206/341: Converting Node Type Shape\r\n207/341: Converting Node Type Gather\r\n208/341: Converting Node Type Shape\r\n209/341: Converting Node Type Gather\r\n210/341: Converting Node Type Shape\r\n211/341: Converting Node Type Gather\r\n212/341: Converting Node Type Unsqueeze\r\n213/341: Converting Node Type Unsqueeze\r\n214/341: Converting Node Type Unsqueeze\r\n215/341: Converting Node Type Concat\r\n216/341: Converting Node Type Reshape\r\n217/341: Converting Node Type Transpose\r\n218/341: Converting Node Type Unsqueeze\r\n219/341: Converting Node Type Concat\r\n220/341: Converting Node Type Reshape\r\n221/341: Converting Node Type Conv\r\n222/341: Converting Node Type BatchNormalization\r\n223/341: Converting Node Type LeakyRelu\r\n224/341: Converting Node Type Shape\r\n225/341: Converting Node Type Gather\r\n226/341: Converting Node Type Cast\r\n227/341: Converting Node Type Mul\r\n228/341: Converting Node Type Cast\r\n229/341: Converting Node Type Floor\r\n230/341: Converting Node Type Shape\r\n231/341: Converting Node Type Gather\r\n232/341: Converting Node Type Cast\r\n233/341: Converting Node Type Mul\r\n234/341: Converting Node Type Cast\r\n235/341: Converting Node Type Floor\r\n236/341: Converting Node Type Unsqueeze\r\n237/341: Converting Node Type Unsqueeze\r\n238/341: Converting Node Type Concat\r\n239/341: Converting Node Type Cast\r\n240/341: Converting Node Type Shape\r\n241/341: Converting Node Type Slice\r\n242/341: Converting Node Type Cast\r\n243/341: Converting Node Type Div\r\n244/341: Converting Node Type Concat\r\n245/341: Converting Node Type Upsample\r\n\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-4-1adf01fa2fc8> in <module>\r\n     14 \r\n     15 model = onnx.load(ONNX_MODEL_PATH)\r\n---> 16 cml = onnx_coreml.convert(model, target_ios='13')\r\n     17 cml.save(COREML_MODEL_PATH)\r\n\r\n/usr/local/lib/python3.5/dist-packages/onnx_coreml/converter.py in convert(model, mode, image_input_names, preprocessing_args, image_output_names, deprocessing_args, class_labels, predicted_feature_name, add_custom_layers, custom_conversion_functions, onnx_coreml_input_shape_map, target_ios)\r\n    623         print(\"%d/%d: Converting Node Type %s\" %(i+1, len(graph.nodes), node.op_type))\r\n    624         if disable_coreml_rank5_mapping:\r\n--> 625             _convert_node_nd(builder, node, graph, err)\r\n    626         else:\r\n    627             _add_const_inputs_if_required(builder, node, graph, err)\r\n\r\n/usr/local/lib/python3.5/dist-packages/onnx_coreml/_operators_nd.py in _convert_node_nd(builder, node, graph, err)\r\n   2368 def _convert_node_nd(builder, node, graph, err):  # type: (NeuralNetworkBuilder, Node, Graph, ErrorHandling) -> None\r\n   2369     converter_fn = _get_node_converter_fn(builder, node, err)\r\n-> 2370     return converter_fn(builder, node, graph, err)\r\n   2371 \r\n\r\n/usr/local/lib/python3.5/dist-packages/onnx_coreml/_operators.py in _convert_upsample(builder, node, graph, err)\r\n   1617         if len(node.inputs) > 1:\r\n   1618             return err.unsupported_op_configuration(builder, node, graph,\r\n-> 1619                                                     \"This ONNX upsample layer has 'scales' provided as an input. CoreML upsample requires 'scales' as an attribute of the layer.\")\r\n   1620         height_scale = int(node.attrs.get('height_scale', 1))\r\n   1621         width_scale = int(node.attrs.get('width_scale', 1))\r\n\r\n/usr/local/lib/python3.5/dist-packages/onnx_coreml/_error_utils.py in unsupported_op_configuration(self, builder, node, graph, err_message)\r\n     58         raise TypeError(\r\n     59           \"Error while converting op of type: {}. Error message: {} {}\\n\".format(node.op_type, err_message,\r\n---> 60                                                                                   self.rerun_suggestion)\r\n     61         )\r\n     62 \r\n\r\nTypeError: Error while converting op of type: Upsample. Error message: This ONNX upsample layer has 'scales' provided as an input. CoreML upsample requires 'scales' as an attribute of the layer. \r\n Please try converting with higher target_ios.\r\nYou can also provide custom function/layer to convert the model.\r\n```\r\n\r\n**Expected behavior**\r\nSuccessful conversion.\r\n\r\n**Screenshots**\r\nNot applicable.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Ubuntu\r\n - Version 16.04.5 LTS\r\n\r\n**Smartphone (please complete the following information):**\r\nNot applicable yet.\r\n\r\n**Additional context**\r\nEquivalent code works for alexnet model.\r\n\r\n```\r\n$ pip freeze\r\n\r\nabsl-py==0.6.1\r\nastor==0.7.1\r\nattrs==19.3.0\r\nbackcall==0.1.0\r\nbcolz==1.2.1\r\nbleach==3.0.2\r\nblis==0.4.1\r\nboto==2.49.0\r\nboto3==1.10.26\r\nbotocore==1.13.26\r\ncatalogue==0.0.8\r\ncertifi==2019.9.11\r\nchardet==3.0.4\r\nClick==7.0\r\ncoremltools==3.0\r\ncycler==0.10.0\r\ncymem==2.0.3\r\ndecorator==4.3.0\r\ndefusedxml==0.5.0\r\ndocutils==0.15.2\r\nen-core-web-sm==2.2.5\r\nentrypoints==0.2.3\r\ngast==0.2.0\r\ngensim==3.8.1\r\nGPUtil==1.4.0\r\ngraphviz==0.8.4\r\ngrpcio==1.16.0\r\nh5py==2.8.0\r\nidna==2.8\r\nimportlib-metadata==0.23\r\nipykernel==5.1.0\r\nipython==7.1.1\r\nipython-genutils==0.2.0\r\nipywidgets==7.4.2\r\njedi==0.13.1\r\nJinja2==2.10\r\njmespath==0.9.4\r\njson5==0.8.5\r\njsonschema==3.2.0\r\njupyter==1.0.0\r\njupyter-client==5.2.3\r\njupyter-console==6.0.0\r\njupyter-contrib-core==0.3.3\r\njupyter-contrib-nbextensions==0.5.1\r\njupyter-core==4.4.0\r\njupyter-highlight-selected-word==0.2.0\r\njupyter-latex-envs==1.4.6\r\njupyter-nbextensions-configurator==0.4.1\r\njupyterlab==1.2.3\r\njupyterlab-server==1.0.6\r\njupyterthemes==0.20.0\r\nKeras==2.3.1\r\nKeras-Applications==1.0.6\r\nKeras-Preprocessing==1.0.5\r\nkiwisolver==1.0.1\r\nlesscpy==0.13.0\r\nllvmlite==0.30.0\r\nlxml==4.4.1\r\nMarkdown==3.0.1\r\nMarkupSafe==1.1.0\r\nmatplotlib==3.0.1\r\nmistune==0.8.4\r\nmock==2.0.0\r\nmore-itertools==7.2.0\r\nmpmath==1.1.0\r\nmurmurhash==1.0.2\r\nmxnet==1.1.0.post0\r\nnbconvert==5.4.0\r\nnbformat==4.4.0\r\nnotebook==5.7.0\r\nnumba==0.46.0\r\nnumpy==1.16.4\r\nonnx==1.5.0\r\nonnx-coreml==1.0\r\nopencv-python==4.1.2.30\r\npandas==0.23.4\r\npandocfilters==1.4.2\r\nparso==0.3.1\r\npbr==5.1.0\r\npexpect==4.6.0\r\npickleshare==0.7.5\r\nPillow==5.3.0\r\nPillow-SIMD==6.0.0.post0\r\nplac==1.1.3\r\nply==3.11\r\npreshed==3.0.2\r\nprettytable==0.7.2\r\nprometheus-client==0.4.2\r\nprompt-toolkit==2.0.7\r\nprotobuf==3.6.1\r\nptyprocess==0.6.0\r\npycurl==7.43.0\r\nPygments==2.2.0\r\npygobject==3.20.0\r\npyparsing==2.3.0\r\npyrsistent==0.15.5\r\npython-apt==1.1.0b1+ubuntu0.16.4.2\r\npython-dateutil==2.7.5\r\npytz==2018.7\r\nPyYAML==5.1.2\r\npyzmq==17.1.2\r\nqtconsole==4.4.2\r\nrequests==2.22.0\r\nresampy==0.2.1\r\ns3transfer==0.2.1\r\nscikit-learn==0.20.0\r\nscipy==1.1.0\r\nseaborn==0.9.0\r\nSend2Trash==1.5.0\r\nsix==1.11.0\r\nsklearn==0.0\r\nsmart-open==1.9.0\r\nspacy==2.2.3\r\nsrsly==0.2.0\r\nsympy==1.4\r\ntensorboard==1.12.0\r\ntensorflow==1.12.0\r\ntermcolor==1.1.0\r\nterminado==0.8.1\r\ntestpath==0.4.2\r\nthinc==7.3.1\r\ntorch==1.3.1\r\ntorchtext==0.4.0\r\ntorchvision==0.4.2\r\ntornado==5.1.1\r\ntqdm==4.39.0\r\ntraitlets==4.3.2\r\nturicreate==5.8\r\ntyping==3.7.4.1\r\ntyping-extensions==3.7.4.1\r\nurllib3==1.25.7\r\nwasabi==0.4.0\r\nwcwidth==0.1.7\r\nwebencodings==0.5.1\r\nWerkzeug==0.14.1\r\nwidgetsnbextension==3.4.2\r\nzipp==0.6.0\r\n```\r\n\r\nDo you have the code used to convert the model to your mobile app?\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/653/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/653/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/650", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/650/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/650/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/650/events", "html_url": "https://github.com/ultralytics/yolov3/issues/650", "id": 527583243, "node_id": "MDU6SXNzdWU1Mjc1ODMyNDM=", "number": 650, "title": "KeyError: 'module_list.85.Conv2d.weight'", "user": {"login": "alontrais", "id": 54616588, "node_id": "MDQ6VXNlcjU0NjE2NTg4", "avatar_url": "https://avatars.githubusercontent.com/u/54616588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alontrais", "html_url": "https://github.com/alontrais", "followers_url": "https://api.github.com/users/alontrais/followers", "following_url": "https://api.github.com/users/alontrais/following{/other_user}", "gists_url": "https://api.github.com/users/alontrais/gists{/gist_id}", "starred_url": "https://api.github.com/users/alontrais/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alontrais/subscriptions", "organizations_url": "https://api.github.com/users/alontrais/orgs", "repos_url": "https://api.github.com/users/alontrais/repos", "events_url": "https://api.github.com/users/alontrais/events{/privacy}", "received_events_url": "https://api.github.com/users/alontrais/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 60, "created_at": "2019-11-23T17:16:54Z", "updated_at": "2023-04-21T21:08:30Z", "closed_at": "2019-11-24T21:45:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey I get a new error whan I run the train script:\r\n\r\n```bash\r\nDownloading https://drive.google.com/uc?export=download&id=158g62Vs14E3aj7oPVPuEnNZMKFNgGyNq as weights/ultralytics49.pt... Done (2.8s)\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 444, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 111, in train\r\n    chkpt['model'] = {k: v for k, v in chkpt['model'].items() if model.state_dict()[k].numel() == v.numel()}\r\n  File \"train.py\", line 111, in <dictcomp>\r\n    chkpt['model'] = {k: v for k, v in chkpt['model'].items() if model.state_dict()[k].numel() == v.numel()}\r\nKeyError: 'module_list.85.Conv2d.weight'\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/650/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/650/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/648", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/648/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/648/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/648/events", "html_url": "https://github.com/ultralytics/yolov3/issues/648", "id": 527089557, "node_id": "MDU6SXNzdWU1MjcwODk1NTc=", "number": 648, "title": "Change backbone", "user": {"login": "CuongNguyen218", "id": 43350150, "node_id": "MDQ6VXNlcjQzMzUwMTUw", "avatar_url": "https://avatars.githubusercontent.com/u/43350150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CuongNguyen218", "html_url": "https://github.com/CuongNguyen218", "followers_url": "https://api.github.com/users/CuongNguyen218/followers", "following_url": "https://api.github.com/users/CuongNguyen218/following{/other_user}", "gists_url": "https://api.github.com/users/CuongNguyen218/gists{/gist_id}", "starred_url": "https://api.github.com/users/CuongNguyen218/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CuongNguyen218/subscriptions", "organizations_url": "https://api.github.com/users/CuongNguyen218/orgs", "repos_url": "https://api.github.com/users/CuongNguyen218/repos", "events_url": "https://api.github.com/users/CuongNguyen218/events{/privacy}", "received_events_url": "https://api.github.com/users/CuongNguyen218/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-22T09:39:38Z", "updated_at": "2019-11-22T12:20:20Z", "closed_at": "2019-11-22T12:20:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nThanks for amazing works. But I want to modify network backbone? how can I do that by pytorch instead of cfg file ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/648/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/648/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/647", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/647/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/647/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/647/events", "html_url": "https://github.com/ultralytics/yolov3/issues/647", "id": 527069671, "node_id": "MDU6SXNzdWU1MjcwNjk2NzE=", "number": 647, "title": "About maps ", "user": {"login": "MengtianLee", "id": 42642078, "node_id": "MDQ6VXNlcjQyNjQyMDc4", "avatar_url": "https://avatars.githubusercontent.com/u/42642078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MengtianLee", "html_url": "https://github.com/MengtianLee", "followers_url": "https://api.github.com/users/MengtianLee/followers", "following_url": "https://api.github.com/users/MengtianLee/following{/other_user}", "gists_url": "https://api.github.com/users/MengtianLee/gists{/gist_id}", "starred_url": "https://api.github.com/users/MengtianLee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MengtianLee/subscriptions", "organizations_url": "https://api.github.com/users/MengtianLee/orgs", "repos_url": "https://api.github.com/users/MengtianLee/repos", "events_url": "https://api.github.com/users/MengtianLee/events{/privacy}", "received_events_url": "https://api.github.com/users/MengtianLee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-11-22T08:57:37Z", "updated_at": "2020-01-31T06:52:13Z", "closed_at": "2020-01-31T06:52:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "![results](https://user-images.githubusercontent.com/42642078/69411124-49c97500-0d47-11ea-8e60-8617a59b3df8.png)\r\n![image](https://user-images.githubusercontent.com/42642078/69411167-636abc80-0d47-11ea-963c-1b854ca4a1c4.png)\r\nWhen i trained on the net, i found that the map and precision dramatically decreased and maintain a low level during several epochs.However, everything soon became normal . I don't know whether this phenomenon is normal? If it is wrong, how can i figure it out? Please help me solve this issues, thanks a lot.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/647/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/647/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/646", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/646/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/646/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/646/events", "html_url": "https://github.com/ultralytics/yolov3/issues/646", "id": 526958324, "node_id": "MDU6SXNzdWU1MjY5NTgzMjQ=", "number": 646, "title": "Could not open codec 'mpeg4", "user": {"login": "AimPanpan", "id": 31302847, "node_id": "MDQ6VXNlcjMxMzAyODQ3", "avatar_url": "https://avatars.githubusercontent.com/u/31302847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AimPanpan", "html_url": "https://github.com/AimPanpan", "followers_url": "https://api.github.com/users/AimPanpan/followers", "following_url": "https://api.github.com/users/AimPanpan/following{/other_user}", "gists_url": "https://api.github.com/users/AimPanpan/gists{/gist_id}", "starred_url": "https://api.github.com/users/AimPanpan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AimPanpan/subscriptions", "organizations_url": "https://api.github.com/users/AimPanpan/orgs", "repos_url": "https://api.github.com/users/AimPanpan/repos", "events_url": "https://api.github.com/users/AimPanpan/events{/privacy}", "received_events_url": "https://api.github.com/users/AimPanpan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-22T02:59:37Z", "updated_at": "2023-04-21T21:08:31Z", "closed_at": "2019-11-22T23:29:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your code.when I run detect.py to detect video, I meet some problems. \r\n[mpeg4 @ 000001f62a8ceb00] The encoder timebase is not set. \r\nCould not open codec 'mpeg4': Unspecified error. \r\nCan you help me? Thanks.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/646/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/644", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/644/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/644/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/644/events", "html_url": "https://github.com/ultralytics/yolov3/issues/644", "id": 526616456, "node_id": "MDU6SXNzdWU1MjY2MTY0NTY=", "number": 644, "title": "Cannot find file paths when training", "user": {"login": "siyangxie", "id": 13971749, "node_id": "MDQ6VXNlcjEzOTcxNzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/13971749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siyangxie", "html_url": "https://github.com/siyangxie", "followers_url": "https://api.github.com/users/siyangxie/followers", "following_url": "https://api.github.com/users/siyangxie/following{/other_user}", "gists_url": "https://api.github.com/users/siyangxie/gists{/gist_id}", "starred_url": "https://api.github.com/users/siyangxie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siyangxie/subscriptions", "organizations_url": "https://api.github.com/users/siyangxie/orgs", "repos_url": "https://api.github.com/users/siyangxie/repos", "events_url": "https://api.github.com/users/siyangxie/events{/privacy}", "received_events_url": "https://api.github.com/users/siyangxie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-21T14:06:23Z", "updated_at": "2023-04-21T21:08:32Z", "closed_at": "2019-11-21T19:29:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI am trying to train a single class detection. I put my images and labels exactly at coco folder like this, but still cannot find paths.\r\n<img width=\"322\" alt=\"Screen Shot 2019-11-21 at 10 05 33 PM\" src=\"https://user-images.githubusercontent.com/13971749/69344882-1e914800-0cab-11ea-87b3-7152d9be3389.png\">\r\n\r\n**Screenshots**\r\n<img width=\"566\" alt=\"Screen Shot 2019-11-21 at 10 02 35 PM\" src=\"https://user-images.githubusercontent.com/13971749/69344654-b17db280-0caa-11ea-80dd-6a5e2107bb62.png\">\r\n\r\n**Desktop (please complete the following information):**\r\n - Mac OS\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/644/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/644/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/643", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/643/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/643/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/643/events", "html_url": "https://github.com/ultralytics/yolov3/issues/643", "id": 526614388, "node_id": "MDU6SXNzdWU1MjY2MTQzODg=", "number": 643, "title": "My yolov3 backup is so large\uff08492M\uff09 and I have not modified the code to save weights", "user": {"login": "Gaondong", "id": 43692998, "node_id": "MDQ6VXNlcjQzNjkyOTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43692998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gaondong", "html_url": "https://github.com/Gaondong", "followers_url": "https://api.github.com/users/Gaondong/followers", "following_url": "https://api.github.com/users/Gaondong/following{/other_user}", "gists_url": "https://api.github.com/users/Gaondong/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gaondong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gaondong/subscriptions", "organizations_url": "https://api.github.com/users/Gaondong/orgs", "repos_url": "https://api.github.com/users/Gaondong/repos", "events_url": "https://api.github.com/users/Gaondong/events{/privacy}", "received_events_url": "https://api.github.com/users/Gaondong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-21T14:02:47Z", "updated_at": "2019-11-22T01:43:29Z", "closed_at": "2019-11-22T01:43:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/43692998/69344401-4c29c180-0caa-11ea-962c-b549643aa5a3.png)\r\nI don't know why my weight file is almost twice the size of the download weight.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/643/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/643/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/640", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/640/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/640/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/640/events", "html_url": "https://github.com/ultralytics/yolov3/issues/640", "id": 526338401, "node_id": "MDU6SXNzdWU1MjYzMzg0MDE=", "number": 640, "title": "invalid literal for int() with base 10: 'module_list'", "user": {"login": "liguoyu666", "id": 47743761, "node_id": "MDQ6VXNlcjQ3NzQzNzYx", "avatar_url": "https://avatars.githubusercontent.com/u/47743761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liguoyu666", "html_url": "https://github.com/liguoyu666", "followers_url": "https://api.github.com/users/liguoyu666/followers", "following_url": "https://api.github.com/users/liguoyu666/following{/other_user}", "gists_url": "https://api.github.com/users/liguoyu666/gists{/gist_id}", "starred_url": "https://api.github.com/users/liguoyu666/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liguoyu666/subscriptions", "organizations_url": "https://api.github.com/users/liguoyu666/orgs", "repos_url": "https://api.github.com/users/liguoyu666/repos", "events_url": "https://api.github.com/users/liguoyu666/events{/privacy}", "received_events_url": "https://api.github.com/users/liguoyu666/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-21T03:13:49Z", "updated_at": "2023-04-21T21:08:34Z", "closed_at": "2019-11-21T04:07:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I trained my datas using multi-GPU , freeze_backbone=True, It reported wrongs:\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 257, in <module>\r\n    num_workers=opt.num_workers\r\n  File \"train.py\", line 129, in train\r\n    if int(name.split('.')[1]) < cutoff:  # if layer < 75\r\nValueError: invalid literal for int() with base 10: 'module_list'\r\n\r\n# print(name.split('.')[1], type(name.split('.')[1]))\r\n# module_list     <class 'str'>\r\n\r\nIf freeze_backbone=False, it woked.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/640/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/640/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/639", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/639/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/639/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/639/events", "html_url": "https://github.com/ultralytics/yolov3/issues/639", "id": 525718276, "node_id": "MDU6SXNzdWU1MjU3MTgyNzY=", "number": 639, "title": "RuntimeError: invalid argument 1", "user": {"login": "MengtianLee", "id": 42642078, "node_id": "MDQ6VXNlcjQyNjQyMDc4", "avatar_url": "https://avatars.githubusercontent.com/u/42642078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MengtianLee", "html_url": "https://github.com/MengtianLee", "followers_url": "https://api.github.com/users/MengtianLee/followers", "following_url": "https://api.github.com/users/MengtianLee/following{/other_user}", "gists_url": "https://api.github.com/users/MengtianLee/gists{/gist_id}", "starred_url": "https://api.github.com/users/MengtianLee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MengtianLee/subscriptions", "organizations_url": "https://api.github.com/users/MengtianLee/orgs", "repos_url": "https://api.github.com/users/MengtianLee/repos", "events_url": "https://api.github.com/users/MengtianLee/events{/privacy}", "received_events_url": "https://api.github.com/users/MengtianLee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-20T10:38:20Z", "updated_at": "2020-03-05T03:04:02Z", "closed_at": "2019-11-22T06:41:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n<img width=\"1434\" alt=\"bug\" src=\"https://user-images.githubusercontent.com/42642078/69231191-9edc7e00-0bc3-11ea-8890-579e8306cf07.png\">\r\n\r\nI had met this bug twice, when i trained on yolov3 .I am really confused about why i can train on yolov3-tiny without any bugs and why i can train on yolov3 before the 268th epoch without any bugs. why always 268th epochs? Please help me deal with this problem, thank you so much.\r\n\r\nerror:\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 247, in <module>\r\n    num_workers=opt.num_workers\r\n  File \"train.py\", line 151, in train\r\n    target_list = build_targets(model, targets)\r\n  File \"/home/jeff/Research/lmt/yolov3/utils/utils.py\", line 328, in build_targets\r\n    assert c.max() <= layer.nC, 'Target classes exceed model classes'\r\nRuntimeError: invalid argument 1: cannot perform reduction function max on tensor with no elements because the operation does not have an identity at /pytorch/aten/src/THC/generic/THCTensorMathReduce.cu:85\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/639/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/638", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/638/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/638/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/638/events", "html_url": "https://github.com/ultralytics/yolov3/issues/638", "id": 525698745, "node_id": "MDU6SXNzdWU1MjU2OTg3NDU=", "number": 638, "title": "GPU  occupancy rate", "user": {"login": "ming71", "id": 43720092, "node_id": "MDQ6VXNlcjQzNzIwMDky", "avatar_url": "https://avatars.githubusercontent.com/u/43720092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ming71", "html_url": "https://github.com/ming71", "followers_url": "https://api.github.com/users/ming71/followers", "following_url": "https://api.github.com/users/ming71/following{/other_user}", "gists_url": "https://api.github.com/users/ming71/gists{/gist_id}", "starred_url": "https://api.github.com/users/ming71/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ming71/subscriptions", "organizations_url": "https://api.github.com/users/ming71/orgs", "repos_url": "https://api.github.com/users/ming71/repos", "events_url": "https://api.github.com/users/ming71/events{/privacy}", "received_events_url": "https://api.github.com/users/ming71/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-20T10:03:44Z", "updated_at": "2019-11-20T17:22:45Z", "closed_at": "2019-11-20T17:22:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the training phase , GPU-Utility is able to reach 94% , but declines to 17% when test/eval . \r\nWhat's wrong with my training? \r\nTrain:\r\n![image](https://user-images.githubusercontent.com/43720092/69229194-f547bd80-0bbf-11ea-9569-0b8bfe3f999c.png)\r\n\r\nEval:\r\n![image](https://user-images.githubusercontent.com/43720092/69229146-d812ef00-0bbf-11ea-9956-01382e264c3d.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/638/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/638/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/637", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/637/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/637/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/637/events", "html_url": "https://github.com/ultralytics/yolov3/issues/637", "id": 525497067, "node_id": "MDU6SXNzdWU1MjU0OTcwNjc=", "number": 637, "title": "IndexError: index 1 is out of bounds for axis 0 with size 1", "user": {"login": "ebernalg92", "id": 39633715, "node_id": "MDQ6VXNlcjM5NjMzNzE1", "avatar_url": "https://avatars.githubusercontent.com/u/39633715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebernalg92", "html_url": "https://github.com/ebernalg92", "followers_url": "https://api.github.com/users/ebernalg92/followers", "following_url": "https://api.github.com/users/ebernalg92/following{/other_user}", "gists_url": "https://api.github.com/users/ebernalg92/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebernalg92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebernalg92/subscriptions", "organizations_url": "https://api.github.com/users/ebernalg92/orgs", "repos_url": "https://api.github.com/users/ebernalg92/repos", "events_url": "https://api.github.com/users/ebernalg92/events{/privacy}", "received_events_url": "https://api.github.com/users/ebernalg92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-20T04:53:54Z", "updated_at": "2023-04-21T21:08:36Z", "closed_at": "2019-11-20T04:55:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"train.py\", line 436, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 315, in train\r\n    save_json=final_epoch and epoch > 0 and 'coco.data' in data)\r\n  File \"/home/enrique/Documents/YOLO/yolov3/test.py\", line 193, in test\r\n    maps[c] = ap[i]\r\nIndexError: index 1 is out of bounds for axis 0 with size 1\r\n\r\n\r\nHow can i solve this ?\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/637/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/633", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/633/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/633/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/633/events", "html_url": "https://github.com/ultralytics/yolov3/issues/633", "id": 524764261, "node_id": "MDU6SXNzdWU1MjQ3NjQyNjE=", "number": 633, "title": "Memory Allocation Problem during training with COCO", "user": {"login": "steven5clu884", "id": 16292318, "node_id": "MDQ6VXNlcjE2MjkyMzE4", "avatar_url": "https://avatars.githubusercontent.com/u/16292318?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steven5clu884", "html_url": "https://github.com/steven5clu884", "followers_url": "https://api.github.com/users/steven5clu884/followers", "following_url": "https://api.github.com/users/steven5clu884/following{/other_user}", "gists_url": "https://api.github.com/users/steven5clu884/gists{/gist_id}", "starred_url": "https://api.github.com/users/steven5clu884/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steven5clu884/subscriptions", "organizations_url": "https://api.github.com/users/steven5clu884/orgs", "repos_url": "https://api.github.com/users/steven5clu884/repos", "events_url": "https://api.github.com/users/steven5clu884/events{/privacy}", "received_events_url": "https://api.github.com/users/steven5clu884/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-19T04:20:57Z", "updated_at": "2019-11-19T20:50:03Z", "closed_at": "2019-11-19T06:29:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think I downloaded everything OK.  I ran all the tests with preweighted coco  parameters just fine.\r\nBut I needed to verify that training was correctly carried out.\r\nThis is teh stack trace from Python\r\n(yolo) seercv@seer-cv-1:~/yolov3$ python3 train.py\r\nNamespace(accumulate=2, adam=False, arc='default', batch_size=32, bucket='', cache_images=False, cfg='cfg/yolov3-spp.cfg', data='data/coco.data', device='', epochs=273, evolve=False, img_size=416, img_weights=False, multi_scale=False, name='', nosave=False, notest=False, prebias=False, rect=False, resume=False, transfer=False, var=None, weights='weights/yolov3-spp.weights')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1080 Ti', total_memory=11176MB)\r\n\r\nPATH: ../coco/trainvalno5k.txt\r\nCWD: /home/seercv/yolov3\r\nHEAD1:../coco  TAIL1:trainvalno5k.txt HEAD2:..  TAIL2:coco\r\nNEW PATH: ./data/coco/trainvalno5k.txt\r\nReading labels (117264 found, 0 missing, 0 empty for 117264 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 117264/117264 [00:06<00:00, 17082.79it/s]\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients\r\nStarting training for 273 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n  0%|                                                                                                                                  | 0/3665 [00:00<?, ?it/s]Traceback (most recent call last):\r\n  File \"train.py\", line 436, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 268, in train\r\n    pred = model(imgs)\r\n  File \"/home/seercv/anaconda3/envs/yolo/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 541, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/seercv/yolov3/models.py\", line 234, in forward\r\n    x = module(x)\r\n  File \"/home/seercv/anaconda3/envs/yolo/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 541, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/seercv/anaconda3/envs/yolo/lib/python3.7/site-packages/torch/nn/modules/container.py\", line 92, in forward\r\n    input = module(input)\r\n  File \"/home/seercv/anaconda3/envs/yolo/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 541, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/seercv/anaconda3/envs/yolo/lib/python3.7/site-packages/torch/nn/modules/batchnorm.py\", line 81, in forward\r\n    exponential_average_factor, self.eps)\r\n  File \"/home/seercv/anaconda3/envs/yolo/lib/python3.7/site-packages/torch/nn/functional.py\", line 1670, in batch_norm\r\n    training, momentum, eps, torch.backends.cudnn.enabled\r\nRuntimeError: CUDA out of memory. Tried to allocate 12.00 MiB (GPU 0; 10.91 GiB total capacity; 10.16 GiB already allocated; 7.56 MiB free; 149.26 MiB cached)\r\n  0%|                                                                                                                                  | 0/3665 [00:04<?, ?it/s]", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/633/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/632", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/632/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/632/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/632/events", "html_url": "https://github.com/ultralytics/yolov3/issues/632", "id": 524725525, "node_id": "MDU6SXNzdWU1MjQ3MjU1MjU=", "number": 632, "title": "AssertionError: weights/yolov3-spp.weights missing", "user": {"login": "siyangxie", "id": 13971749, "node_id": "MDQ6VXNlcjEzOTcxNzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/13971749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siyangxie", "html_url": "https://github.com/siyangxie", "followers_url": "https://api.github.com/users/siyangxie/followers", "following_url": "https://api.github.com/users/siyangxie/following{/other_user}", "gists_url": "https://api.github.com/users/siyangxie/gists{/gist_id}", "starred_url": "https://api.github.com/users/siyangxie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siyangxie/subscriptions", "organizations_url": "https://api.github.com/users/siyangxie/orgs", "repos_url": "https://api.github.com/users/siyangxie/repos", "events_url": "https://api.github.com/users/siyangxie/events{/privacy}", "received_events_url": "https://api.github.com/users/siyangxie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-19T02:00:03Z", "updated_at": "2023-02-18T09:01:19Z", "closed_at": "2019-11-20T04:55:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI came into this error first time running detect.py to an image:\r\nAssertionError: weights/yolov3-spp.weights missing, download from https://drive.google.com/drive/folders/1uxgUBemJVw9wZsdpboYbzUN4bcRhsuAI\r\n\r\n**Screenshots**\r\n![1](https://user-images.githubusercontent.com/13971749/69109629-4d44ce00-0ab3-11ea-905d-b5d6ce12d1bd.png)\r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Windows 10\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/632/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/629", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/629/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/629/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/629/events", "html_url": "https://github.com/ultralytics/yolov3/issues/629", "id": 524151842, "node_id": "MDU6SXNzdWU1MjQxNTE4NDI=", "number": 629, "title": "mistake happen when combine mosaic and rotation", "user": {"login": "mozpp", "id": 25809906, "node_id": "MDQ6VXNlcjI1ODA5OTA2", "avatar_url": "https://avatars.githubusercontent.com/u/25809906?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mozpp", "html_url": "https://github.com/mozpp", "followers_url": "https://api.github.com/users/mozpp/followers", "following_url": "https://api.github.com/users/mozpp/following{/other_user}", "gists_url": "https://api.github.com/users/mozpp/gists{/gist_id}", "starred_url": "https://api.github.com/users/mozpp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mozpp/subscriptions", "organizations_url": "https://api.github.com/users/mozpp/orgs", "repos_url": "https://api.github.com/users/mozpp/repos", "events_url": "https://api.github.com/users/mozpp/events{/privacy}", "received_events_url": "https://api.github.com/users/mozpp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-11-18T05:53:35Z", "updated_at": "2019-12-02T23:38:05Z", "closed_at": "2019-12-02T23:38:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Mistake happen when combine mosaic and rotation\r\n![\u56fe\u7247](https://user-images.githubusercontent.com/25809906/69027457-f20ad100-0a09-11ea-8cb8-331d30e84821.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/629/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/626", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/626/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/626/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/626/events", "html_url": "https://github.com/ultralytics/yolov3/issues/626", "id": 524088080, "node_id": "MDU6SXNzdWU1MjQwODgwODA=", "number": 626, "title": "lr scheduler changed after --resume", "user": {"login": "15151874182", "id": 36249659, "node_id": "MDQ6VXNlcjM2MjQ5NjU5", "avatar_url": "https://avatars.githubusercontent.com/u/36249659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/15151874182", "html_url": "https://github.com/15151874182", "followers_url": "https://api.github.com/users/15151874182/followers", "following_url": "https://api.github.com/users/15151874182/following{/other_user}", "gists_url": "https://api.github.com/users/15151874182/gists{/gist_id}", "starred_url": "https://api.github.com/users/15151874182/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/15151874182/subscriptions", "organizations_url": "https://api.github.com/users/15151874182/orgs", "repos_url": "https://api.github.com/users/15151874182/repos", "events_url": "https://api.github.com/users/15151874182/events{/privacy}", "received_events_url": "https://api.github.com/users/15151874182/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-18T01:41:29Z", "updated_at": "2019-11-18T02:22:14Z", "closed_at": "2019-11-18T02:22:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi, at the begin, i training voc2007 dataset with learing rate set to 0.01 between 0-300epoches,and 0.001 for 300-400epoches.And the lr_scheduler figure ploted by this repo is shown. i stopped the programme at 188epoch, then, resume training. I found the lr start from 1E-4,is there any problems here?\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/626/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/624", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/624/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/624/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/624/events", "html_url": "https://github.com/ultralytics/yolov3/issues/624", "id": 523822041, "node_id": "MDU6SXNzdWU1MjM4MjIwNDE=", "number": 624, "title": "There are different objects after class dataset and dataloader ", "user": {"login": "ykhsiao25", "id": 41175965, "node_id": "MDQ6VXNlcjQxMTc1OTY1", "avatar_url": "https://avatars.githubusercontent.com/u/41175965?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ykhsiao25", "html_url": "https://github.com/ykhsiao25", "followers_url": "https://api.github.com/users/ykhsiao25/followers", "following_url": "https://api.github.com/users/ykhsiao25/following{/other_user}", "gists_url": "https://api.github.com/users/ykhsiao25/gists{/gist_id}", "starred_url": "https://api.github.com/users/ykhsiao25/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ykhsiao25/subscriptions", "organizations_url": "https://api.github.com/users/ykhsiao25/orgs", "repos_url": "https://api.github.com/users/ykhsiao25/repos", "events_url": "https://api.github.com/users/ykhsiao25/events{/privacy}", "received_events_url": "https://api.github.com/users/ykhsiao25/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-11-16T09:32:36Z", "updated_at": "2019-11-17T23:39:22Z", "closed_at": "2019-11-17T23:39:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \r\nI got some bugs when I train  my dataset.\r\nDid you have the same problem about this? \r\n\r\n**Describe the bug**\r\nAfter putting my images and labels into dataset, there are still 24 objects.\r\n(In train.py   dataset = LoadImagesAndLabels(train_path,...) )\r\n\r\nBut after putting dataset into dataloader, there are just 22 objects \r\n(In train.py    dataloader = torch.utils.data.DataLoader(dataset,...))\r\n\r\nI have checked \"__getitem__() function \", and there is no problem about this. (Still 24 objects)\r\nI think it's  \"collate_fn() function\"  problem because I get 22 objects here,too.\r\n\r\nJust want to know it's really a bug(multi_processing?? or others), or I make something wrong.\r\nThanks a lot in advance.  \r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/624/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/623", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/623/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/623/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/623/events", "html_url": "https://github.com/ultralytics/yolov3/issues/623", "id": 523770635, "node_id": "MDU6SXNzdWU1MjM3NzA2MzU=", "number": 623, "title": "OSError:[Errono 12] Cannot allocate memory", "user": {"login": "gsx0015", "id": 44722449, "node_id": "MDQ6VXNlcjQ0NzIyNDQ5", "avatar_url": "https://avatars.githubusercontent.com/u/44722449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsx0015", "html_url": "https://github.com/gsx0015", "followers_url": "https://api.github.com/users/gsx0015/followers", "following_url": "https://api.github.com/users/gsx0015/following{/other_user}", "gists_url": "https://api.github.com/users/gsx0015/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsx0015/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsx0015/subscriptions", "organizations_url": "https://api.github.com/users/gsx0015/orgs", "repos_url": "https://api.github.com/users/gsx0015/repos", "events_url": "https://api.github.com/users/gsx0015/events{/privacy}", "received_events_url": "https://api.github.com/users/gsx0015/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-16T01:43:02Z", "updated_at": "2023-04-21T21:08:40Z", "closed_at": "2019-11-16T19:15:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "hello,when run the -- python train.py, Will encounter this problem.\r\ni -- git clone https://github.com/ultralytics/yolov3 recently,\r\nhow to solve this?\r\nThanks\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/623/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/622", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/622/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/622/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/622/events", "html_url": "https://github.com/ultralytics/yolov3/issues/622", "id": 523769356, "node_id": "MDU6SXNzdWU1MjM3NjkzNTY=", "number": 622, "title": "conf_threshold dilemma", "user": {"login": "Pari-singh", "id": 24270022, "node_id": "MDQ6VXNlcjI0MjcwMDIy", "avatar_url": "https://avatars.githubusercontent.com/u/24270022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pari-singh", "html_url": "https://github.com/Pari-singh", "followers_url": "https://api.github.com/users/Pari-singh/followers", "following_url": "https://api.github.com/users/Pari-singh/following{/other_user}", "gists_url": "https://api.github.com/users/Pari-singh/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pari-singh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pari-singh/subscriptions", "organizations_url": "https://api.github.com/users/Pari-singh/orgs", "repos_url": "https://api.github.com/users/Pari-singh/repos", "events_url": "https://api.github.com/users/Pari-singh/events{/privacy}", "received_events_url": "https://api.github.com/users/Pari-singh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-16T01:33:10Z", "updated_at": "2019-11-24T22:49:08Z", "closed_at": "2019-11-24T22:49:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "@glenn-jocher I have one more question, in issue #310 you mentioned we should keep the conf_threshold at 0.001 for getting the final score on validation set (running test.py) But then you also suggest to keep the threshold between 0.1-0.9 depending on recall-precision flavor we want for our detection. \r\nWhat if I have to detect on a set and at the same time give them the mAP of my detection? Or lets say I give them the predictions on dataset and they test the mAP on their own out of that. What would you suggest in that case? Thanks!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/622/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/620", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/620/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/620/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/620/events", "html_url": "https://github.com/ultralytics/yolov3/issues/620", "id": 523502665, "node_id": "MDU6SXNzdWU1MjM1MDI2NjU=", "number": 620, "title": "Resume with transfer", "user": {"login": "Pari-singh", "id": 24270022, "node_id": "MDQ6VXNlcjI0MjcwMDIy", "avatar_url": "https://avatars.githubusercontent.com/u/24270022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pari-singh", "html_url": "https://github.com/Pari-singh", "followers_url": "https://api.github.com/users/Pari-singh/followers", "following_url": "https://api.github.com/users/Pari-singh/following{/other_user}", "gists_url": "https://api.github.com/users/Pari-singh/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pari-singh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pari-singh/subscriptions", "organizations_url": "https://api.github.com/users/Pari-singh/orgs", "repos_url": "https://api.github.com/users/Pari-singh/repos", "events_url": "https://api.github.com/users/Pari-singh/events{/privacy}", "received_events_url": "https://api.github.com/users/Pari-singh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-15T14:31:45Z", "updated_at": "2019-11-15T16:13:54Z", "closed_at": "2019-11-15T16:13:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @glenn-jocher, I was training coco only for 3 class using yolov3-spp weights and transfer, since I don't have much time to train from scratch. I stopped my training process several times in between and restarted using --resume. But when I do --resume, it takes the weigths from last.pt. I was wondering if it still uses the weights from yolov3-spp or it just lost that track and trains with the last weight? Since that will worsen the result as my model wasn't converged at last.pt.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/620/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/616", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/616/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/616/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/616/events", "html_url": "https://github.com/ultralytics/yolov3/issues/616", "id": 523028907, "node_id": "MDU6SXNzdWU1MjMwMjg5MDc=", "number": 616, "title": "Training with empty labels produces error", "user": {"login": "Pari-singh", "id": 24270022, "node_id": "MDQ6VXNlcjI0MjcwMDIy", "avatar_url": "https://avatars.githubusercontent.com/u/24270022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pari-singh", "html_url": "https://github.com/Pari-singh", "followers_url": "https://api.github.com/users/Pari-singh/followers", "following_url": "https://api.github.com/users/Pari-singh/following{/other_user}", "gists_url": "https://api.github.com/users/Pari-singh/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pari-singh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pari-singh/subscriptions", "organizations_url": "https://api.github.com/users/Pari-singh/orgs", "repos_url": "https://api.github.com/users/Pari-singh/repos", "events_url": "https://api.github.com/users/Pari-singh/events{/privacy}", "received_events_url": "https://api.github.com/users/Pari-singh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-11-14T18:26:23Z", "updated_at": "2020-03-22T22:43:19Z", "closed_at": "2019-11-14T21:20:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @glenn-jocher I realised that the code throws error when there is no object in the image implying no labels for it in my dataset. Is there a way to incorporate that into the code so that it can skip over the images where there is no label for it?\r\nCould you please direct which part in the model should be modified to get the desired result? Thanks a lot for your help!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/616/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/616/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/614", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/614/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/614/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/614/events", "html_url": "https://github.com/ultralytics/yolov3/issues/614", "id": 522784830, "node_id": "MDU6SXNzdWU1MjI3ODQ4MzA=", "number": 614, "title": "Training custom dataset using transfer learning", "user": {"login": "VinniaKemala", "id": 22129138, "node_id": "MDQ6VXNlcjIyMTI5MTM4", "avatar_url": "https://avatars.githubusercontent.com/u/22129138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VinniaKemala", "html_url": "https://github.com/VinniaKemala", "followers_url": "https://api.github.com/users/VinniaKemala/followers", "following_url": "https://api.github.com/users/VinniaKemala/following{/other_user}", "gists_url": "https://api.github.com/users/VinniaKemala/gists{/gist_id}", "starred_url": "https://api.github.com/users/VinniaKemala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VinniaKemala/subscriptions", "organizations_url": "https://api.github.com/users/VinniaKemala/orgs", "repos_url": "https://api.github.com/users/VinniaKemala/repos", "events_url": "https://api.github.com/users/VinniaKemala/events{/privacy}", "received_events_url": "https://api.github.com/users/VinniaKemala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2019-11-14T11:02:29Z", "updated_at": "2023-04-21T21:08:43Z", "closed_at": "2019-12-11T01:22:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I created the dataset as mentioned in the custom data training but when I run the training command, I get this error:\r\n```\r\n14%|\u258f| 35/252 [00:31<01:13,  2.96it/s]Traceback (most recent call last):\r\n  File \"train.py\", line 441, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 322, in train\r\n    save_json=final_epoch and epoch > 0 and 'coco.data' in data)\r\n  File \"/srv/algo/ultralytics-yolov3/test.py\", line 63, in test\r\n    for batch_i, (imgs, targets, paths, shapes) in enumerate(tqdm(dataloader, desc=s)):\r\n  File \"/srv/virtenv/pytorch-env/lib/python3.5/site-packages/tqdm/std.py\", line 1081, in __iter__\r\n    for obj in iterable:\r\n  File \"/srv/virtenv/pytorch-env/lib/python3.5/site-packages/torch/utils/data/dataloader.py\", line 801, in __next__\r\n    return self._process_data(data)\r\n  File \"/srv/virtenv/pytorch-env/lib/python3.5/site-packages/torch/utils/data/dataloader.py\", line 846, in _process_data\r\n    data.reraise()\r\n  File \"/srv/virtenv/pytorch-env/lib/python3.5/site-packages/torch/_utils.py\", line 369, in reraise\r\n    raise self.exc_type(msg)\r\ncv2.error: Caught error in DataLoader worker process 3.\r\nOriginal Traceback (most recent call last):\r\n  File \"/srv/virtenv/pytorch-env/lib/python3.5/site-packages/torch/utils/data/_utils/worker.py\", line 178, in _worker_loop\r\n    data = fetcher.fetch(index)\r\n  File \"/srv/virtenv/pytorch-env/lib/python3.5/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in fetch\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/srv/virtenv/pytorch-env/lib/python3.5/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in <listcomp>\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/srv/algo/ultralytics-yolov3/utils/datasets.py\", line 426, in __getitem__\r\n    img, ratio, padw, padh = letterbox(img, self.batch_shapes[self.batch[index]], mode='rect')\r\n  File \"/srv/algo/ultralytics-yolov3/utils/datasets.py\", line 643, in letterbox\r\n    img = cv2.copyMakeBorder(img, top, bottom, left, right, cv2.BORDER_CONSTANT, value=color)  # add border\r\ncv2.error: OpenCV(4.1.1) /io/opencv/modules/core/src/copy.cpp:1196: error: (-215:Assertion failed) top >= 0 && bottom >= 0 && left >= 0 && right >= 0 && _src.dims() <= 2 in function 'copyMakeBorder'\r\n\r\n```\r\n\r\nI'm not sure how to fix this error , so I want to ask help. Thanks a lot.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/614/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/613", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/613/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/613/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/613/events", "html_url": "https://github.com/ultralytics/yolov3/issues/613", "id": 522769404, "node_id": "MDU6SXNzdWU1MjI3Njk0MDQ=", "number": 613, "title": "GIoU is above 1", "user": {"login": "alontrais", "id": 54616588, "node_id": "MDQ6VXNlcjU0NjE2NTg4", "avatar_url": "https://avatars.githubusercontent.com/u/54616588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alontrais", "html_url": "https://github.com/alontrais", "followers_url": "https://api.github.com/users/alontrais/followers", "following_url": "https://api.github.com/users/alontrais/following{/other_user}", "gists_url": "https://api.github.com/users/alontrais/gists{/gist_id}", "starred_url": "https://api.github.com/users/alontrais/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alontrais/subscriptions", "organizations_url": "https://api.github.com/users/alontrais/orgs", "repos_url": "https://api.github.com/users/alontrais/repos", "events_url": "https://api.github.com/users/alontrais/events{/privacy}", "received_events_url": "https://api.github.com/users/alontrais/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-14T10:34:14Z", "updated_at": "2019-12-03T03:29:03Z", "closed_at": "2019-11-14T21:02:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run train script I get that the GIou parameter is between 0 to 4.\r\nIt is excepted that GIou is between -1 to 1\r\n\r\n![image](https://user-images.githubusercontent.com/54616588/68849580-02097480-06db-11ea-8bc1-b8b4ab091db8.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/613/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/609", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/609/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/609/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/609/events", "html_url": "https://github.com/ultralytics/yolov3/issues/609", "id": 521912698, "node_id": "MDU6SXNzdWU1MjE5MTI2OTg=", "number": 609, "title": "Training error for custom data using transfer learning", "user": {"login": "Pari-singh", "id": 24270022, "node_id": "MDQ6VXNlcjI0MjcwMDIy", "avatar_url": "https://avatars.githubusercontent.com/u/24270022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pari-singh", "html_url": "https://github.com/Pari-singh", "followers_url": "https://api.github.com/users/Pari-singh/followers", "following_url": "https://api.github.com/users/Pari-singh/following{/other_user}", "gists_url": "https://api.github.com/users/Pari-singh/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pari-singh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pari-singh/subscriptions", "organizations_url": "https://api.github.com/users/Pari-singh/orgs", "repos_url": "https://api.github.com/users/Pari-singh/repos", "events_url": "https://api.github.com/users/Pari-singh/events{/privacy}", "received_events_url": "https://api.github.com/users/Pari-singh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-13T02:10:11Z", "updated_at": "2023-04-21T21:08:45Z", "closed_at": "2019-11-13T02:56:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I created the dataset as mentioned in the custom data training and everything seems good. But when I run the training command, I get this error: \r\n\r\n  0%|          | 0/659 [00:00<?, ?it/s]Traceback (most recent call last):\r\n  File \"train.py\", line 438, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 237, in train\r\n    for i, (imgs, targets, paths, _) in pbar:  # batch -------------------------------------------------------------\r\n  File \"/my_project/lib/python3.5/site-packages/tqdm/std.py\", line 1091, in __iter__\r\n    for obj in iterable:\r\n  File \"/my_project/lib/python3.5/site-packages/torch/utils/data/dataloader.py\", line 819, in __next__\r\n    return self._process_data(data)\r\n  File \"i/my_project/lib/python3.5/site-packages/torch/utils/data/dataloader.py\", line 846, in _process_data\r\n    data.reraise()\r\n  File \"/my_project/lib/python3.5/site-packages/torch/_utils.py\", line 385, in reraise\r\n    raise self.exc_type(msg)\r\nValueError: Caught ValueError in DataLoader worker process 0.\r\nOriginal Traceback (most recent call last):\r\n  File \"my_project/lib/python3.5/site-packages/torch/utils/data/_utils/worker.py\", line 178, in _worker_loop\r\n    data = fetcher.fetch(index)\r\n  File \"my_project/lib/python3.5/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in fetch\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/my_project/lib/python3.5/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in <listcomp>\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"yolov3/utils/datasets.py\", line 416, in __getitem__\r\n    img, labels = load_mosaic(self, index)\r\n  File \"yolov3/utils/datasets.py\", line 593, in load_mosaic\r\n    labels4 = np.concatenate(labels4, 0)\r\n  File \"<__array_function__ internals>\", line 6, in concatenate\r\nValueError: all the input arrays must have same number of dimensions, but the array at index 0 has 2 dimension(s) and the array at index 2 has 1 dimension(s)\r\n\r\n\r\n\r\nI am not sure why is this creating a trouble and how to fix this. I am following the steps mentioned and have done it previously successfully as well on different dataset. Any guidance will be appreciated.\r\nThanks ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/609/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/609/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/606", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/606/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/606/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/606/events", "html_url": "https://github.com/ultralytics/yolov3/issues/606", "id": 521403521, "node_id": "MDU6SXNzdWU1MjE0MDM1MjE=", "number": 606, "title": "About model inference\uff01", "user": {"login": "kaaier", "id": 32322056, "node_id": "MDQ6VXNlcjMyMzIyMDU2", "avatar_url": "https://avatars.githubusercontent.com/u/32322056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaaier", "html_url": "https://github.com/kaaier", "followers_url": "https://api.github.com/users/kaaier/followers", "following_url": "https://api.github.com/users/kaaier/following{/other_user}", "gists_url": "https://api.github.com/users/kaaier/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaaier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaaier/subscriptions", "organizations_url": "https://api.github.com/users/kaaier/orgs", "repos_url": "https://api.github.com/users/kaaier/repos", "events_url": "https://api.github.com/users/kaaier/events{/privacy}", "received_events_url": "https://api.github.com/users/kaaier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-12T08:36:58Z", "updated_at": "2019-11-12T09:20:42Z", "closed_at": "2019-11-12T09:20:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, after making model inference according to the official training steps, why all the prediction boxes can be displayed are slender borders, and what is the reason for the shape of the border? We have checked the training data set, and there is no problem.\r\n\r\n\r\n\r\nThe test is shown below\r\n\r\n\r\n![Screenshot from 2019-11-12 16-32-57](https://user-images.githubusercontent.com/32322056/68655061-4a555500-056a-11ea-84a4-a29a2033e174.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/606/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/606/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/605", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/605/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/605/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/605/events", "html_url": "https://github.com/ultralytics/yolov3/issues/605", "id": 521384649, "node_id": "MDU6SXNzdWU1MjEzODQ2NDk=", "number": 605, "title": "The problem of model inference", "user": {"login": "CaiyuZhang", "id": 54944384, "node_id": "MDQ6VXNlcjU0OTQ0Mzg0", "avatar_url": "https://avatars.githubusercontent.com/u/54944384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CaiyuZhang", "html_url": "https://github.com/CaiyuZhang", "followers_url": "https://api.github.com/users/CaiyuZhang/followers", "following_url": "https://api.github.com/users/CaiyuZhang/following{/other_user}", "gists_url": "https://api.github.com/users/CaiyuZhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/CaiyuZhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CaiyuZhang/subscriptions", "organizations_url": "https://api.github.com/users/CaiyuZhang/orgs", "repos_url": "https://api.github.com/users/CaiyuZhang/repos", "events_url": "https://api.github.com/users/CaiyuZhang/events{/privacy}", "received_events_url": "https://api.github.com/users/CaiyuZhang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-12T07:50:43Z", "updated_at": "2023-04-21T21:08:46Z", "closed_at": "2019-11-12T22:24:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "    pred = pred[pred[:, :, 4] > conf_thres]  # remove boxes < threshold\r\nTypeError: tuple indices must be integers or slices, not tuple\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/605/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/603", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/603/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/603/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/603/events", "html_url": "https://github.com/ultralytics/yolov3/issues/603", "id": 521323889, "node_id": "MDU6SXNzdWU1MjEzMjM4ODk=", "number": 603, "title": "probelm about pre-training weights?", "user": {"login": "Peterisfar", "id": 31852119, "node_id": "MDQ6VXNlcjMxODUyMTE5", "avatar_url": "https://avatars.githubusercontent.com/u/31852119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Peterisfar", "html_url": "https://github.com/Peterisfar", "followers_url": "https://api.github.com/users/Peterisfar/followers", "following_url": "https://api.github.com/users/Peterisfar/following{/other_user}", "gists_url": "https://api.github.com/users/Peterisfar/gists{/gist_id}", "starred_url": "https://api.github.com/users/Peterisfar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Peterisfar/subscriptions", "organizations_url": "https://api.github.com/users/Peterisfar/orgs", "repos_url": "https://api.github.com/users/Peterisfar/repos", "events_url": "https://api.github.com/users/Peterisfar/events{/privacy}", "received_events_url": "https://api.github.com/users/Peterisfar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-12T04:40:01Z", "updated_at": "2019-11-12T22:28:02Z", "closed_at": "2019-11-12T22:28:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "* 1\u3001on the https://pjreddie.com/darknet/  pre-training weights  include darknet53.conv.74  and yolov3.weights and darknet53_448.weighs  and so on .\r\n\r\n    i print the these file'weights, but the values are different\u3002\r\n```python\r\nimport numpy as np\r\n\r\nweight_path = \"../weight/yolov3.weights\"\r\nfp = open(weight_path, \"rb\")\r\nweights_1 = np.fromfile(fp, dtype=np.float32)\r\n\r\nweight_path = \"../weight/darknet53.conv.74\"\r\nfp = open(weight_path, \"rb\")\r\nweights_2 =  np.fromfile(fp, dtype=np.float32)\r\n\r\nweight_path = \"../weight/darknet53_448.weights\"\r\nfp = open(weight_path, \"rb\")\r\nweights_3 =  np.fromfile(fp, dtype=np.float32)\r\nfp.close()\r\n\r\ni = 6\r\nprint(weights_1[6])\r\nprint(weights_2[6])\r\nprint(weights_3[6])\r\n```\r\n\r\n* 2\u3001in the new commit, why in models.py  load_darknet_weights(),   fp only reads 4  not 5  ??\r\n\r\n* 3\u3001if i only want to set backbone's weights by pre-training weights , how to init others weights, for example fpn or yolo detector layer? \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/603/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/602", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/602/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/602/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/602/events", "html_url": "https://github.com/ultralytics/yolov3/issues/602", "id": 521306936, "node_id": "MDU6SXNzdWU1MjEzMDY5MzY=", "number": 602, "title": "BDD100K 5classes  got bad map", "user": {"login": "Gaondong", "id": 43692998, "node_id": "MDQ6VXNlcjQzNjkyOTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43692998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gaondong", "html_url": "https://github.com/Gaondong", "followers_url": "https://api.github.com/users/Gaondong/followers", "following_url": "https://api.github.com/users/Gaondong/following{/other_user}", "gists_url": "https://api.github.com/users/Gaondong/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gaondong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gaondong/subscriptions", "organizations_url": "https://api.github.com/users/Gaondong/orgs", "repos_url": "https://api.github.com/users/Gaondong/repos", "events_url": "https://api.github.com/users/Gaondong/events{/privacy}", "received_events_url": "https://api.github.com/users/Gaondong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2019-11-12T03:30:08Z", "updated_at": "2023-04-21T21:08:48Z", "closed_at": "2019-12-17T18:40:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "dataset 8000train    1000val 5classes car bus truck bike motor \r\nmodel tiny-yolo3\r\nbatchsize 64 \r\naccomulate 1\r\nThis is my result.\r\n![image](https://user-images.githubusercontent.com/43692998/68639560-e3bb4180-053f-11ea-9c3f-4713d0132a21.png)\r\ndetect result\uff08best.pt\uff09\r\n![1573534293](https://user-images.githubusercontent.com/43692998/68644114-fab56000-054e-11ea-9c89-e6d6cd85f9f0.jpg)\r\n![1573534293](https://user-images.githubusercontent.com/43692998/68644115-fb4df680-054e-11ea-801d-3d78b077c547.png)\r\n![1573534396(1)](https://user-images.githubusercontent.com/43692998/68644116-fbe68d00-054e-11ea-9a03-1672564b12b2.png)\r\n![1573534437(1)](https://user-images.githubusercontent.com/43692998/68644118-fbe68d00-054e-11ea-9372-3a23f705fe9d.jpg)\r\n![1573534522(1)](https://user-images.githubusercontent.com/43692998/68644119-fc7f2380-054e-11ea-8536-deee0ace2208.jpg)\r\n![1573534713(1)](https://user-images.githubusercontent.com/43692998/68644120-fd17ba00-054e-11ea-9f46-e72360ffd1f7.jpg)\r\n\r\nAlso,I trained the same dataset by yolov3, print the AP of every category, I found the AP of bike and motor is bad,how can I fix it. (the data of bike and motor is much less than others in BDD100K)\r\n![image](https://user-images.githubusercontent.com/43692998/68662169-42e87880-0577-11ea-9548-fef0e1ef763c.png)\r\n![image](https://user-images.githubusercontent.com/43692998/68667514-1c2f3f80-0581-11ea-97d2-f42c19209acf.png)\r\n![yolov3](https://user-images.githubusercontent.com/43692998/68669194-ea1fdc80-0584-11ea-89cd-8a087f768f22.jpg)\r\n![yolov3](https://user-images.githubusercontent.com/43692998/68669196-eab87300-0584-11ea-8070-5c6c637c34ff.png)\r\n\r\nThank you\uff01 I am looking forward to your reply.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/602/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/600", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/600/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/600/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/600/events", "html_url": "https://github.com/ultralytics/yolov3/issues/600", "id": 520543331, "node_id": "MDU6SXNzdWU1MjA1NDMzMzE=", "number": 600, "title": "dimensionality error with 1 image example", "user": {"login": "ruihangdu", "id": 11513232, "node_id": "MDQ6VXNlcjExNTEzMjMy", "avatar_url": "https://avatars.githubusercontent.com/u/11513232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ruihangdu", "html_url": "https://github.com/ruihangdu", "followers_url": "https://api.github.com/users/ruihangdu/followers", "following_url": "https://api.github.com/users/ruihangdu/following{/other_user}", "gists_url": "https://api.github.com/users/ruihangdu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ruihangdu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ruihangdu/subscriptions", "organizations_url": "https://api.github.com/users/ruihangdu/orgs", "repos_url": "https://api.github.com/users/ruihangdu/repos", "events_url": "https://api.github.com/users/ruihangdu/events{/privacy}", "received_events_url": "https://api.github.com/users/ruihangdu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-10T02:29:34Z", "updated_at": "2019-11-10T14:32:16Z", "closed_at": "2019-11-10T14:32:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nFor the 1 image example, seems like the target tensor only has 1 dimension, causing an error in build_targets function.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. run\r\n```bash\r\npython train.py --data data/coco_1img.data\r\n```\r\n\r\n**Expected behavior**\r\ntrain the network without exceptions\r\n\r\n**Screenshots**\r\nOutput as follows\r\n```bash\r\nNamespace(accumulate=2, batch_size=32, bucket='', cache_images=False, cfg='cfg/yolov3-spp.cfg', data='data/coco_1img.data', epochs=273, evolve=False, img_size=416, img_weights=False, multi_scale=False, nosave=False, notest=False, rect=False, resume=False, transfer=False, xywh=False)\r\nUsing CPU\r\n\r\nReading labels (1 found, 0 missing, 0 empty for 1 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1/1 [00:00<00:00, 1613.19it/s]\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients\r\n\r\n     Epoch   gpu_mem   GIoU/xy        wh       obj       cls     total   targets  img_size\r\n  0%|                                                                                                                                                                                                                                                     | 0/1 [00:00<?, ?it/s]/Users/ray/miniconda3/envs/viz/lib/python3.6/site-packages/torch/nn/modules/upsampling.py:122: UserWarning: nn.Upsampling is deprecated. Use nn.functional.interpolate instead.\r\n  warnings.warn(\"nn.Upsampling is deprecated. Use nn.functional.interpolate instead.\")\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 395, in <module>\r\n    accumulate=opt.accumulate)\r\n  File \"train.py\", line 270, in train\r\n    loss, loss_items = compute_loss(pred, targets, model, giou_loss=not opt.xywh)\r\n  File \"/Users/ray/WorkSpace2019Q3/yolov3/utils/utils.py\", line 288, in compute_loss\r\n    txy, twh, tcls, tbox, indices, anchor_vec = build_targets(model, targets)\r\n  File \"/Users/ray/WorkSpace2019Q3/yolov3/utils/utils.py\", line 373, in build_targets\r\n    b, c = t[:, :2].long().t()  # target image, class\r\nIndexError: too many indices for tensor of dimension 1\r\n```\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: OSX Mojave\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/600/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/599", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/599/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/599/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/599/events", "html_url": "https://github.com/ultralytics/yolov3/issues/599", "id": 520321991, "node_id": "MDU6SXNzdWU1MjAzMjE5OTE=", "number": 599, "title": "Model\uff01\uff01\uff01", "user": {"login": "kaaier", "id": 32322056, "node_id": "MDQ6VXNlcjMyMzIyMDU2", "avatar_url": "https://avatars.githubusercontent.com/u/32322056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaaier", "html_url": "https://github.com/kaaier", "followers_url": "https://api.github.com/users/kaaier/followers", "following_url": "https://api.github.com/users/kaaier/following{/other_user}", "gists_url": "https://api.github.com/users/kaaier/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaaier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaaier/subscriptions", "organizations_url": "https://api.github.com/users/kaaier/orgs", "repos_url": "https://api.github.com/users/kaaier/repos", "events_url": "https://api.github.com/users/kaaier/events{/privacy}", "received_events_url": "https://api.github.com/users/kaaier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-09T03:04:20Z", "updated_at": "2019-11-09T18:25:05Z", "closed_at": "2019-11-09T18:25:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I would like to ask, does the framework support transformation of ONNX model? How does it work?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/599/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/598", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/598/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/598/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/598/events", "html_url": "https://github.com/ultralytics/yolov3/issues/598", "id": 519907159, "node_id": "MDU6SXNzdWU1MTk5MDcxNTk=", "number": 598, "title": "train error", "user": {"login": "yiningzeng", "id": 15795940, "node_id": "MDQ6VXNlcjE1Nzk1OTQw", "avatar_url": "https://avatars.githubusercontent.com/u/15795940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yiningzeng", "html_url": "https://github.com/yiningzeng", "followers_url": "https://api.github.com/users/yiningzeng/followers", "following_url": "https://api.github.com/users/yiningzeng/following{/other_user}", "gists_url": "https://api.github.com/users/yiningzeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/yiningzeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yiningzeng/subscriptions", "organizations_url": "https://api.github.com/users/yiningzeng/orgs", "repos_url": "https://api.github.com/users/yiningzeng/repos", "events_url": "https://api.github.com/users/yiningzeng/events{/privacy}", "received_events_url": "https://api.github.com/users/yiningzeng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-08T09:32:02Z", "updated_at": "2023-04-21T21:08:51Z", "closed_at": "2019-11-09T23:11:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "* err\r\n```shell\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 432, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 268, in train\r\n    pred = model(imgs)\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 541, in\r\n__call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/torch/nn/parallel/distributed.py\", line 459, in forward\r\n    self.reducer.prepare_for_backward([])\r\nRuntimeError: Expected to have finished reduction in the prior iteration before starting a new one. This error indicates that your module has parameters that were not used in producing loss. You can enable unused parameter detection by (1) passing the keyword argument `find_unused_parameters=True` to `torch.nn.parallel.DistributedDataParallel`; (2) making sure all `forward` function outputs participate in calculating loss. If you already have done the above two steps, then the distributed data parallel module wasn't able to locate the output tensors in the return value of your module's `forward` function. Please include the loss function and the structure of the return value of `forward` of your module when reporting this issue (e.g. list, dict, iterable). (prepare_for_backward at /pytorch/torch/csrc/distributed/c10d/reducer.cpp:518)\r\nframe #0: c10::Error::Error(c10::SourceLocation, std::string const&) + 0x33 (0x7f1331504813 in /root/anaconda3/lib/python3.7/site-packages/torch/lib/libc10.so)\r\nframe #1: c10d::Reducer::prepare_for_backward(std::vector<torch::autograd::Variable, std::allocator<torch::autograd::Variable> > const&) + 0x734 (0x7f1336759654 in /root/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_python.so)\r\nframe #2: <unknown function> + 0x7bed8a (0x7f1336747d8a in /root/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_python.so)\r\nframe #3: <unknown function> + 0x210ba4 (0x7f1336199ba4 in /root/anaconda3/lib/python3.7/site-packages/torch/lib/libtorch_python.so)\r\n<omitting python frames>\r\nframe #29: __libc_start_main + 0xe7 (0x7f133a464b97 in /lib/x86_64-linux-gnu/libc.so.6)\r\n```\r\n\r\n* environment\r\npython3.7\r\npytorch1.3.1", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/598/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/598/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/597", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/597/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/597/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/597/events", "html_url": "https://github.com/ultralytics/yolov3/issues/597", "id": 519902696, "node_id": "MDU6SXNzdWU1MTk5MDI2OTY=", "number": 597, "title": "running transfer learning", "user": {"login": "aqq777", "id": 27660583, "node_id": "MDQ6VXNlcjI3NjYwNTgz", "avatar_url": "https://avatars.githubusercontent.com/u/27660583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aqq777", "html_url": "https://github.com/aqq777", "followers_url": "https://api.github.com/users/aqq777/followers", "following_url": "https://api.github.com/users/aqq777/following{/other_user}", "gists_url": "https://api.github.com/users/aqq777/gists{/gist_id}", "starred_url": "https://api.github.com/users/aqq777/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aqq777/subscriptions", "organizations_url": "https://api.github.com/users/aqq777/orgs", "repos_url": "https://api.github.com/users/aqq777/repos", "events_url": "https://api.github.com/users/aqq777/events{/privacy}", "received_events_url": "https://api.github.com/users/aqq777/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-08T09:22:49Z", "updated_at": "2023-04-21T21:08:52Z", "closed_at": "2019-11-10T05:07:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nI had trained the model by using my own data, everythis is fine. I tested the trained model.\r\nwhen I want to try transfer learning.  I run following command: \r\npython train.py --transfer\r\n\r\nI get such error\r\n   File \"/fire/train.py\", line 151, in train\r\n   elif opt.transfer and p.share[0] == nf:  # train (yolo biases + weights)\r\n AttributeError: 'Parameter' object has no attribute 'share'\r\n\r\n![image](https://user-images.githubusercontent.com/27660583/68464837-4b297680-024c-11ea-9eee-b1e26ac1a456.png)\r\n\r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS:  windows 10 \r\n -  Pytorch Version : 1,3,1\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/597/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/596", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/596/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/596/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/596/events", "html_url": "https://github.com/ultralytics/yolov3/issues/596", "id": 519691359, "node_id": "MDU6SXNzdWU1MTk2OTEzNTk=", "number": 596, "title": "training single class", "user": {"login": "ZHyuwind", "id": 31769069, "node_id": "MDQ6VXNlcjMxNzY5MDY5", "avatar_url": "https://avatars.githubusercontent.com/u/31769069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHyuwind", "html_url": "https://github.com/ZHyuwind", "followers_url": "https://api.github.com/users/ZHyuwind/followers", "following_url": "https://api.github.com/users/ZHyuwind/following{/other_user}", "gists_url": "https://api.github.com/users/ZHyuwind/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHyuwind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHyuwind/subscriptions", "organizations_url": "https://api.github.com/users/ZHyuwind/orgs", "repos_url": "https://api.github.com/users/ZHyuwind/repos", "events_url": "https://api.github.com/users/ZHyuwind/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHyuwind/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-08T04:10:46Z", "updated_at": "2019-11-10T05:07:33Z", "closed_at": "2019-11-10T05:04:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "when I train single class, always appear \"AssertionError: Target classes exceed model classes\", so I want to ask help. Thanks a lot.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/596/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/596/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/594", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/594/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/594/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/594/events", "html_url": "https://github.com/ultralytics/yolov3/issues/594", "id": 519111456, "node_id": "MDU6SXNzdWU1MTkxMTE0NTY=", "number": 594, "title": "CUDA Error: out of memory", "user": {"login": "zak834", "id": 31274267, "node_id": "MDQ6VXNlcjMxMjc0MjY3", "avatar_url": "https://avatars.githubusercontent.com/u/31274267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zak834", "html_url": "https://github.com/zak834", "followers_url": "https://api.github.com/users/zak834/followers", "following_url": "https://api.github.com/users/zak834/following{/other_user}", "gists_url": "https://api.github.com/users/zak834/gists{/gist_id}", "starred_url": "https://api.github.com/users/zak834/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zak834/subscriptions", "organizations_url": "https://api.github.com/users/zak834/orgs", "repos_url": "https://api.github.com/users/zak834/repos", "events_url": "https://api.github.com/users/zak834/events{/privacy}", "received_events_url": "https://api.github.com/users/zak834/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-11-07T08:20:10Z", "updated_at": "2020-07-03T02:40:19Z", "closed_at": "2019-11-07T22:56:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "trian.py      CUDA Error: out of memory", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/594/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/592", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/592/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/592/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/592/events", "html_url": "https://github.com/ultralytics/yolov3/issues/592", "id": 518459508, "node_id": "MDU6SXNzdWU1MTg0NTk1MDg=", "number": 592, "title": "gpu is not utilized during training on windows", "user": {"login": "myounus96", "id": 13608139, "node_id": "MDQ6VXNlcjEzNjA4MTM5", "avatar_url": "https://avatars.githubusercontent.com/u/13608139?v=4", "gravatar_id": "", "url": "https://api.github.com/users/myounus96", "html_url": "https://github.com/myounus96", "followers_url": "https://api.github.com/users/myounus96/followers", "following_url": "https://api.github.com/users/myounus96/following{/other_user}", "gists_url": "https://api.github.com/users/myounus96/gists{/gist_id}", "starred_url": "https://api.github.com/users/myounus96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/myounus96/subscriptions", "organizations_url": "https://api.github.com/users/myounus96/orgs", "repos_url": "https://api.github.com/users/myounus96/repos", "events_url": "https://api.github.com/users/myounus96/events{/privacy}", "received_events_url": "https://api.github.com/users/myounus96/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-11-06T13:06:39Z", "updated_at": "2023-04-21T21:08:55Z", "closed_at": "2019-11-06T16:39:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n**how to utilize gpu for training**\r\n\r\n> here is the command I running\r\n python train.py --data custom_obj/custom.data --cfg cfg/yolov3-spp-custom.cfg --weights weights/yolov3-spp.weights --transfer --epochs 55 --batch 8 --accumulate  4 --device 0\r\n\r\nalso tried --device 1,and got error of not founding gpu device at 1 like that\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Windows\r\n - Version 10", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/592/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/591", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/591/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/591/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/591/events", "html_url": "https://github.com/ultralytics/yolov3/issues/591", "id": 518420204, "node_id": "MDU6SXNzdWU1MTg0MjAyMDQ=", "number": 591, "title": "Yolov3-tiny model and BDD10K datasets,but got bad performance after 50 epoches", "user": {"login": "Gaondong", "id": 43692998, "node_id": "MDQ6VXNlcjQzNjkyOTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43692998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gaondong", "html_url": "https://github.com/Gaondong", "followers_url": "https://api.github.com/users/Gaondong/followers", "following_url": "https://api.github.com/users/Gaondong/following{/other_user}", "gists_url": "https://api.github.com/users/Gaondong/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gaondong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gaondong/subscriptions", "organizations_url": "https://api.github.com/users/Gaondong/orgs", "repos_url": "https://api.github.com/users/Gaondong/repos", "events_url": "https://api.github.com/users/Gaondong/events{/privacy}", "received_events_url": "https://api.github.com/users/Gaondong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-06T11:45:45Z", "updated_at": "2019-11-07T14:18:38Z", "closed_at": "2019-11-07T14:18:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "First, thanks for your work.\r\n![QQ\u622a\u56fe20191106192913](https://user-images.githubusercontent.com/43692998/68295405-530edc80-00cd-11ea-83ef-98390dc7226a.png)\r\nI use 5 classes of vehicle in BDD10k **train from scrach**\uff0closs sames lower but the map very lower** than expects.\r\nepoch76\r\n![2019-11-06_194529](https://user-images.githubusercontent.com/43692998/68295732-fd86ff80-00cd-11ea-8317-9843ff0b5e10.jpg)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/591/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/589", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/589/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/589/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/589/events", "html_url": "https://github.com/ultralytics/yolov3/issues/589", "id": 517259097, "node_id": "MDU6SXNzdWU1MTcyNTkwOTc=", "number": 589, "title": "Classes overlapping", "user": {"login": "Spectra456", "id": 31315447, "node_id": "MDQ6VXNlcjMxMzE1NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/31315447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Spectra456", "html_url": "https://github.com/Spectra456", "followers_url": "https://api.github.com/users/Spectra456/followers", "following_url": "https://api.github.com/users/Spectra456/following{/other_user}", "gists_url": "https://api.github.com/users/Spectra456/gists{/gist_id}", "starred_url": "https://api.github.com/users/Spectra456/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Spectra456/subscriptions", "organizations_url": "https://api.github.com/users/Spectra456/orgs", "repos_url": "https://api.github.com/users/Spectra456/repos", "events_url": "https://api.github.com/users/Spectra456/events{/privacy}", "received_events_url": "https://api.github.com/users/Spectra456/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-11-04T16:20:54Z", "updated_at": "2019-11-06T11:32:21Z", "closed_at": "2019-11-05T00:36:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, i'm training yolov3 on wider face and coco dataset. But, when i'm inference model on persons, i get only 1 class(or very low confidence) face or person. How i can fix it? I read it's problem of using softmax, but how i can see you using sigmoid\r\n![example](https://user-images.githubusercontent.com/31315447/68137376-edd5b280-ff37-11e9-91af-93ac499f846e.png).", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/589/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/586", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/586/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/586/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/586/events", "html_url": "https://github.com/ultralytics/yolov3/issues/586", "id": 515545010, "node_id": "MDU6SXNzdWU1MTU1NDUwMTA=", "number": 586, "title": "TypeError: unsupported operand type(s) for %: 'list' and 'int'", "user": {"login": "millermuttu", "id": 30842362, "node_id": "MDQ6VXNlcjMwODQyMzYy", "avatar_url": "https://avatars.githubusercontent.com/u/30842362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/millermuttu", "html_url": "https://github.com/millermuttu", "followers_url": "https://api.github.com/users/millermuttu/followers", "following_url": "https://api.github.com/users/millermuttu/following{/other_user}", "gists_url": "https://api.github.com/users/millermuttu/gists{/gist_id}", "starred_url": "https://api.github.com/users/millermuttu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/millermuttu/subscriptions", "organizations_url": "https://api.github.com/users/millermuttu/orgs", "repos_url": "https://api.github.com/users/millermuttu/repos", "events_url": "https://api.github.com/users/millermuttu/events{/privacy}", "received_events_url": "https://api.github.com/users/millermuttu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-31T15:52:39Z", "updated_at": "2023-04-21T21:08:57Z", "closed_at": "2019-10-31T19:59:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "  File \"train.py\", line 83, in train\r\n    model = Darknet(cfg, arc=opt.arc).to(device)\r\n  File \"C:\\Users\\sjm6kor\\Desktop\\blueberry\\all_berries\\YOLO-Annotation-Tool-master\\yolov3\\models.py\", line 212, in __init__\r\n    self.module_list, self.routs = create_modules(self.module_defs, img_size, arc)\r\n  File \"C:\\Users\\sjm6kor\\Desktop\\blueberry\\all_berries\\YOLO-Annotation-Tool-master\\yolov3\\models.py\", line 34, in create_modules\r\n    bias=not bn))\r\n  File \"C:\\Users\\sjm6kor\\.conda\\envs\\py37\\lib\\site-packages\\torch\\nn\\modules\\conv.py\", line 332, in __init__\r\n    False, _pair(0), groups, bias, padding_mode)\r\n  File \"C:\\Users\\sjm6kor\\.conda\\envs\\py37\\lib\\site-packages\\torch\\nn\\modules\\conv.py\", line 22, in __init__\r\n    if in_channels % groups != 0:\r\nTypeError: unsupported operand type(s) for %: 'list' and 'int'", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/586/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/581", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/581/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/581/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/581/events", "html_url": "https://github.com/ultralytics/yolov3/issues/581", "id": 513887917, "node_id": "MDU6SXNzdWU1MTM4ODc5MTc=", "number": 581, "title": "How or What is the use of  \"--arc ARC  yolo architecture\" argument ?", "user": {"login": "Rajasekhar06", "id": 53042276, "node_id": "MDQ6VXNlcjUzMDQyMjc2", "avatar_url": "https://avatars.githubusercontent.com/u/53042276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rajasekhar06", "html_url": "https://github.com/Rajasekhar06", "followers_url": "https://api.github.com/users/Rajasekhar06/followers", "following_url": "https://api.github.com/users/Rajasekhar06/following{/other_user}", "gists_url": "https://api.github.com/users/Rajasekhar06/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rajasekhar06/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rajasekhar06/subscriptions", "organizations_url": "https://api.github.com/users/Rajasekhar06/orgs", "repos_url": "https://api.github.com/users/Rajasekhar06/repos", "events_url": "https://api.github.com/users/Rajasekhar06/events{/privacy}", "received_events_url": "https://api.github.com/users/Rajasekhar06/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-29T12:38:55Z", "updated_at": "2019-10-29T17:01:13Z", "closed_at": "2019-10-29T17:01:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "you have done a wonderful job! Thanks for Sharing you work!\r\n\r\nHow can this argument help the training process **--arc ARC  yolo architecture** Should I need to pass the backbone weights because as per your recent comment backbone weights are also weights and not to pass at --ARC argument **how this argument improves training process**", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/581/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/580", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/580/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/580/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/580/events", "html_url": "https://github.com/ultralytics/yolov3/issues/580", "id": 513815148, "node_id": "MDU6SXNzdWU1MTM4MTUxNDg=", "number": 580, "title": "Cannot reproduce results in Example:-Train-Single-Class", "user": {"login": "davidkadlecek", "id": 32246839, "node_id": "MDQ6VXNlcjMyMjQ2ODM5", "avatar_url": "https://avatars.githubusercontent.com/u/32246839?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidkadlecek", "html_url": "https://github.com/davidkadlecek", "followers_url": "https://api.github.com/users/davidkadlecek/followers", "following_url": "https://api.github.com/users/davidkadlecek/following{/other_user}", "gists_url": "https://api.github.com/users/davidkadlecek/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidkadlecek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidkadlecek/subscriptions", "organizations_url": "https://api.github.com/users/davidkadlecek/orgs", "repos_url": "https://api.github.com/users/davidkadlecek/repos", "events_url": "https://api.github.com/users/davidkadlecek/events{/privacy}", "received_events_url": "https://api.github.com/users/davidkadlecek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-29T10:13:02Z", "updated_at": "2019-11-05T00:59:23Z", "closed_at": "2019-11-05T00:59:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nRunning Example:-Train-Single-Class in google colab hangs and is not improving mAP\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Open Google Colab Notebook...\r\n2. Run the following code (no change to yolo config files, random weights initialization)...\r\nimport time\r\nimport glob\r\nimport torch\r\nimport os\r\nfrom IPython.display import Image, clear_output \r\nprint('PyTorch %s %s' % (torch.__version__, torch.cuda.get_device_properties(0) if torch.cuda.is_available() else 'CPU'))\r\n>>> 3.0+cu100 _CudaDeviceProperties(name='Tesla K80', major=3, minor=7, total_memory=11441MB, multi_processor_count=13)\r\n\r\n!git clone https://github.com/ultralytics/yolov3  # clone\r\n!bash yolov3/data/get_coco_dataset_gdrive.sh  # copy COCO2014 dataset (19GB)\r\n%cd yolov3\r\n\r\n!python3 train.py --data data/coco_1cls.data  --cfg cfg/yolov3-spp-1cls.cfg --batch-size 1 --accumulate 1\r\n\r\n**Real behavior**\r\ntraining hangs after 6 epochs.\r\nIf I provide additional argument --img-size 608 then it does not hang but mAP is 0 even after 200 iterations and is not improving.\r\n\r\n**Expected behavior**\r\n... is being trained and achieves stated results", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/580/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/577", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/577/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/577/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/577/events", "html_url": "https://github.com/ultralytics/yolov3/issues/577", "id": 513145970, "node_id": "MDU6SXNzdWU1MTMxNDU5NzA=", "number": 577, "title": "detect.py --source 0 error, can not use webcam", "user": {"login": "aluds123", "id": 43241182, "node_id": "MDQ6VXNlcjQzMjQxMTgy", "avatar_url": "https://avatars.githubusercontent.com/u/43241182?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aluds123", "html_url": "https://github.com/aluds123", "followers_url": "https://api.github.com/users/aluds123/followers", "following_url": "https://api.github.com/users/aluds123/following{/other_user}", "gists_url": "https://api.github.com/users/aluds123/gists{/gist_id}", "starred_url": "https://api.github.com/users/aluds123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aluds123/subscriptions", "organizations_url": "https://api.github.com/users/aluds123/orgs", "repos_url": "https://api.github.com/users/aluds123/repos", "events_url": "https://api.github.com/users/aluds123/events{/privacy}", "received_events_url": "https://api.github.com/users/aluds123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-10-28T07:47:48Z", "updated_at": "2020-04-11T00:07:00Z", "closed_at": "2020-04-11T00:07:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your amazing project, but I have some problem.\r\nFirst I run \"python3 detect.py --cfg cfg/yolov3.cfg --weights weights/yolov3.weights --source xxx.mp4\" , it seems good.\r\nBut I try \"python3 detect.py --cfg cfg/yolov3.cfg --weights weights/yolov3.weights --source 0\", i can't work.\r\n\r\nLike this:\r\nNamespace(cfg='cfg/yolov3.cfg', conf_thres=0.3, data='data/coco.data', device='', fourcc='mp4v', half=False, img_size=416, nms_thres=0.5, output='output', source='0', view_img=False, weights='weights/yolov3.weights')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce RTX 2080 Ti', total_memory=10986MB)\r\n\r\n1/1: 0...  success (640x480 at 30.00 FPS).\r\n\r\nTraceback (most recent call last):\r\n  File \"detect.py\", line 165, in <module>\r\n    detect()\r\n  File \"detect.py\", line 70, in detect\r\n    for path, img, im0s, vid_cap in dataset:\r\n  File \"/home/aluds/yolov3/utils/datasets.py\", line 236, in __next__\r\n    if cv2.waitKey(1) == ord('q'):  # q to quit\r\ncv2.error: OpenCV(3.4.2) /tmp/build/80754af9/opencv-suite_1535558553474/work/modules/highgui/src/window.cpp:698: error: (-2:Unspecified error) The function is not implemented. Rebuild the library with Windows, GTK+ 2.x or Carbon support. If you are on Ubuntu or Debian, install libgtk2.0-dev and pkg-config, then re-run cmake or configure script in function 'cvWaitKey'\r\n\r\nI'm not sure how can I do.\r\nMaybe just I do something wrong.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/577/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/577/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/572", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/572/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/572/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/572/events", "html_url": "https://github.com/ultralytics/yolov3/issues/572", "id": 511959517, "node_id": "MDU6SXNzdWU1MTE5NTk1MTc=", "number": 572, "title": "size mismatch for module_list.100.Conv2d.weight: copying a param with shape torch.Size([256, 128, 3, 3]) from checkpoint, the shape in current model is torch.Size([255, 512, 1, 1]).", "user": {"login": "PointCloudNiphon", "id": 37015371, "node_id": "MDQ6VXNlcjM3MDE1Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/37015371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PointCloudNiphon", "html_url": "https://github.com/PointCloudNiphon", "followers_url": "https://api.github.com/users/PointCloudNiphon/followers", "following_url": "https://api.github.com/users/PointCloudNiphon/following{/other_user}", "gists_url": "https://api.github.com/users/PointCloudNiphon/gists{/gist_id}", "starred_url": "https://api.github.com/users/PointCloudNiphon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PointCloudNiphon/subscriptions", "organizations_url": "https://api.github.com/users/PointCloudNiphon/orgs", "repos_url": "https://api.github.com/users/PointCloudNiphon/repos", "events_url": "https://api.github.com/users/PointCloudNiphon/events{/privacy}", "received_events_url": "https://api.github.com/users/PointCloudNiphon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-24T13:50:53Z", "updated_at": "2023-04-21T21:09:02Z", "closed_at": "2019-10-25T17:16:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to how I can to set the img-size parameter, I use my custom dataset with images(w=128,h=240),I try the default settings, but errors in the inference stage occured as above...\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/572/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/572/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/571", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/571/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/571/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/571/events", "html_url": "https://github.com/ultralytics/yolov3/issues/571", "id": 511887025, "node_id": "MDU6SXNzdWU1MTE4ODcwMjU=", "number": 571, "title": "invalid input of size 19200", "user": {"login": "millermuttu", "id": 30842362, "node_id": "MDQ6VXNlcjMwODQyMzYy", "avatar_url": "https://avatars.githubusercontent.com/u/30842362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/millermuttu", "html_url": "https://github.com/millermuttu", "followers_url": "https://api.github.com/users/millermuttu/followers", "following_url": "https://api.github.com/users/millermuttu/following{/other_user}", "gists_url": "https://api.github.com/users/millermuttu/gists{/gist_id}", "starred_url": "https://api.github.com/users/millermuttu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/millermuttu/subscriptions", "organizations_url": "https://api.github.com/users/millermuttu/orgs", "repos_url": "https://api.github.com/users/millermuttu/repos", "events_url": "https://api.github.com/users/millermuttu/events{/privacy}", "received_events_url": "https://api.github.com/users/millermuttu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-24T11:36:22Z", "updated_at": "2023-04-21T21:09:03Z", "closed_at": "2019-10-25T17:15:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "raceback (most recent call last):\r\n  File \"train.py\", line 470, in <module>\r\n    results = train()\r\n  File \"train.py\", line 268, in train\r\n    pred = model(imgs)\r\n  File \"C:\\Users\\sjm6kor\\AppData\\Local\\conda\\conda\\envs\\opencv35\\lib\\site-packages\\torch\\nn\\modules\\module.py\", line 489, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"C:\\Users\\sjm6kor\\Desktop\\blueberry\\all_berries\\YOLO-Annotation-Tool-master\\yolov3\\models.py\", line 240, in forward\r\n    x = module(x, img_size)\r\n  File \"C:\\Users\\sjm6kor\\AppData\\Local\\conda\\conda\\envs\\opencv35\\lib\\site-packages\\torch\\nn\\modules\\module.py\", line 489, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"C:\\Users\\sjm6kor\\Desktop\\blueberry\\all_berries\\YOLO-Annotation-Tool-master\\yolov3\\models.py\", line 149, in forward\r\n    p = p.view(bs, self.na, self.nc + 5, self.ny, self.nx).permute(0, 1, 3, 4, 2).contiguous()  # prediction\r\nRuntimeError: shape '[64, 3, 8, 10, 10]' is invalid for input of size 19200", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/571/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/571/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/569", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/569/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/569/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/569/events", "html_url": "https://github.com/ultralytics/yolov3/issues/569", "id": 510571230, "node_id": "MDU6SXNzdWU1MTA1NzEyMzA=", "number": 569, "title": "non-normalized or out of bounds coordinate labels:", "user": {"login": "ebernalg92", "id": 39633715, "node_id": "MDQ6VXNlcjM5NjMzNzE1", "avatar_url": "https://avatars.githubusercontent.com/u/39633715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebernalg92", "html_url": "https://github.com/ebernalg92", "followers_url": "https://api.github.com/users/ebernalg92/followers", "following_url": "https://api.github.com/users/ebernalg92/following{/other_user}", "gists_url": "https://api.github.com/users/ebernalg92/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebernalg92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebernalg92/subscriptions", "organizations_url": "https://api.github.com/users/ebernalg92/orgs", "repos_url": "https://api.github.com/users/ebernalg92/repos", "events_url": "https://api.github.com/users/ebernalg92/events{/privacy}", "received_events_url": "https://api.github.com/users/ebernalg92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-22T10:42:22Z", "updated_at": "2019-10-25T17:14:34Z", "closed_at": "2019-10-25T17:14:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Im running on my own dataset. it runs with few images but when i increase the size it show this error:               Any idea ? \r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 432, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 195, in train\r\n    cache_images=False if opt.prebias else opt.cache_images)\r\n  File \"/home/enrique/Documents/YoloPyTorch/yolov3/utils/datasets.py\", line 335, in __init__\r\n    assert (l[:, 1:] <= 1).all(), 'non-normalized or out of bounds coordinate labels: %s' % file\r\nAssertionError: non-normalized or out of bounds coordinate labels:", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/569/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/567", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/567/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/567/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/567/events", "html_url": "https://github.com/ultralytics/yolov3/issues/567", "id": 509551756, "node_id": "MDU6SXNzdWU1MDk1NTE3NTY=", "number": 567, "title": "The size of tensor a (128) must match the size of tensor b (16) at non-singleton dimension 1", "user": {"login": "MichaelCong", "id": 50260527, "node_id": "MDQ6VXNlcjUwMjYwNTI3", "avatar_url": "https://avatars.githubusercontent.com/u/50260527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichaelCong", "html_url": "https://github.com/MichaelCong", "followers_url": "https://api.github.com/users/MichaelCong/followers", "following_url": "https://api.github.com/users/MichaelCong/following{/other_user}", "gists_url": "https://api.github.com/users/MichaelCong/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichaelCong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichaelCong/subscriptions", "organizations_url": "https://api.github.com/users/MichaelCong/orgs", "repos_url": "https://api.github.com/users/MichaelCong/repos", "events_url": "https://api.github.com/users/MichaelCong/events{/privacy}", "received_events_url": "https://api.github.com/users/MichaelCong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-10-20T06:10:01Z", "updated_at": "2023-04-21T21:09:05Z", "closed_at": "2019-10-25T17:16:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n  0%|                                                                                                          | 0/3665 [00:00<?, ?it/s]Traceback (most recent call last):\r\n  File \"train.py\", line 432, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 268, in train\r\n    pred = model(imgs)\r\n  File \"/home/rencong/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 489, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/rencong/anaconda3/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 358, in forward\r\n    outputs = self.parallel_apply(self._module_copies[:len(inputs)], inputs, kwargs)\r\n  File \"/home/rencong/anaconda3/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 365, in parallel_apply\r\n    return parallel_apply(replicas, inputs, kwargs, self.device_ids[:len(replicas)])\r\n  File \"/home/rencong/anaconda3/lib/python3.6/site-packages/torch/nn/parallel/parallel_apply.py\", line 83, in parallel_apply\r\n    raise output\r\n  File \"/home/rencong/anaconda3/lib/python3.6/site-packages/torch/nn/parallel/parallel_apply.py\", line 59, in _worker\r\n    output = module(*input, **kwargs)\r\n  File \"/home/rencong/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 489, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/rencong/yolov3/models.py\", line 238, in forward\r\n    x = x + layer_outputs[int(mdef['from'])]\r\nRuntimeError: The size of tensor a (128) must match the size of tensor b (16) at non-singleton dimension 1\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/567/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/566", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/566/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/566/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/566/events", "html_url": "https://github.com/ultralytics/yolov3/issues/566", "id": 508413362, "node_id": "MDU6SXNzdWU1MDg0MTMzNjI=", "number": 566, "title": "Find a bug for Resnet-structure training", "user": {"login": "May-forever", "id": 20625075, "node_id": "MDQ6VXNlcjIwNjI1MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/20625075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/May-forever", "html_url": "https://github.com/May-forever", "followers_url": "https://api.github.com/users/May-forever/followers", "following_url": "https://api.github.com/users/May-forever/following{/other_user}", "gists_url": "https://api.github.com/users/May-forever/gists{/gist_id}", "starred_url": "https://api.github.com/users/May-forever/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/May-forever/subscriptions", "organizations_url": "https://api.github.com/users/May-forever/orgs", "repos_url": "https://api.github.com/users/May-forever/repos", "events_url": "https://api.github.com/users/May-forever/events{/privacy}", "received_events_url": "https://api.github.com/users/May-forever/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-17T11:32:06Z", "updated_at": "2019-11-07T23:08:35Z", "closed_at": "2019-11-07T23:08:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear @guigarfr @LukeAI @dsuess ,\r\n\r\nI am so sorry to bother you, but could you please do me a favor?\r\n\r\nI find a bug when using this repo. \r\n\r\nwhen I sparsity train resnet152_trident.cfg on my custom dataset. an error occur when I input the \r\n\r\nfollowing command: \r\n\r\n **python train.py  --data data/obj.data --cfg cfg/resnet152_trident.cfg**\r\n\r\n\r\n![1](https://user-images.githubusercontent.com/20625075/67005067-53dad100-f114-11e9-9571-ba9af22b3cc7.png)\r\n\r\nI find that all the Resnet-structure can not been sparsity train on this project.\r\n\r\nDo you know what should I do now? I would be appreciated if you can give me a hand for fixing this bug.\r\n\r\nLooking forward to hearing from you.\r\n\r\nThank you very much.\r\n\r\nBest regards,\r\nMing\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/566/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/563", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/563/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/563/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/563/events", "html_url": "https://github.com/ultralytics/yolov3/issues/563", "id": 507753735, "node_id": "MDU6SXNzdWU1MDc3NTM3MzU=", "number": 563, "title": "Working with grayscale images", "user": {"login": "nscotto", "id": 44670538, "node_id": "MDQ6VXNlcjQ0NjcwNTM4", "avatar_url": "https://avatars.githubusercontent.com/u/44670538?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nscotto", "html_url": "https://github.com/nscotto", "followers_url": "https://api.github.com/users/nscotto/followers", "following_url": "https://api.github.com/users/nscotto/following{/other_user}", "gists_url": "https://api.github.com/users/nscotto/gists{/gist_id}", "starred_url": "https://api.github.com/users/nscotto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nscotto/subscriptions", "organizations_url": "https://api.github.com/users/nscotto/orgs", "repos_url": "https://api.github.com/users/nscotto/repos", "events_url": "https://api.github.com/users/nscotto/events{/privacy}", "received_events_url": "https://api.github.com/users/nscotto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2019-10-16T10:13:14Z", "updated_at": "2020-03-12T00:09:40Z", "closed_at": "2020-03-12T00:09:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I would like to convert a custom Darknet model to ONNX using PyTorch as intermediate, my model has been trained with only one channel (grayscale images), custom image size and only one class.\r\n\r\nI am not familiar with PyTorch but I can read some code. I can change the image size in the `Darknet` class, but I can't figure out how to set the number of channels and the number of classes to 1.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/563/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/562", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/562/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/562/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/562/events", "html_url": "https://github.com/ultralytics/yolov3/issues/562", "id": 507595658, "node_id": "MDU6SXNzdWU1MDc1OTU2NTg=", "number": 562, "title": "RuntimeError", "user": {"login": "silencervan", "id": 43168725, "node_id": "MDQ6VXNlcjQzMTY4NzI1", "avatar_url": "https://avatars.githubusercontent.com/u/43168725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/silencervan", "html_url": "https://github.com/silencervan", "followers_url": "https://api.github.com/users/silencervan/followers", "following_url": "https://api.github.com/users/silencervan/following{/other_user}", "gists_url": "https://api.github.com/users/silencervan/gists{/gist_id}", "starred_url": "https://api.github.com/users/silencervan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/silencervan/subscriptions", "organizations_url": "https://api.github.com/users/silencervan/orgs", "repos_url": "https://api.github.com/users/silencervan/repos", "events_url": "https://api.github.com/users/silencervan/events{/privacy}", "received_events_url": "https://api.github.com/users/silencervan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-16T03:47:37Z", "updated_at": "2019-11-08T12:39:34Z", "closed_at": "2019-10-16T09:47:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "RuntimeError: invalid argument 0: Sizes of tensors must match except in dimension 1. Got 85 and 6 in dimension 2 at ..\\aten\\src\\TH/generic/THTensor.cpp:711", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/562/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/561", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/561/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/561/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/561/events", "html_url": "https://github.com/ultralytics/yolov3/issues/561", "id": 507248934, "node_id": "MDU6SXNzdWU1MDcyNDg5MzQ=", "number": 561, "title": "Exporting the Model to ONNX", "user": {"login": "SmallHedgehog", "id": 25521617, "node_id": "MDQ6VXNlcjI1NTIxNjE3", "avatar_url": "https://avatars.githubusercontent.com/u/25521617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SmallHedgehog", "html_url": "https://github.com/SmallHedgehog", "followers_url": "https://api.github.com/users/SmallHedgehog/followers", "following_url": "https://api.github.com/users/SmallHedgehog/following{/other_user}", "gists_url": "https://api.github.com/users/SmallHedgehog/gists{/gist_id}", "starred_url": "https://api.github.com/users/SmallHedgehog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SmallHedgehog/subscriptions", "organizations_url": "https://api.github.com/users/SmallHedgehog/orgs", "repos_url": "https://api.github.com/users/SmallHedgehog/repos", "events_url": "https://api.github.com/users/SmallHedgehog/events{/privacy}", "received_events_url": "https://api.github.com/users/SmallHedgehog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2019-10-15T13:34:06Z", "updated_at": "2023-04-21T21:09:07Z", "closed_at": "2020-03-12T00:09:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I convert this model to ONNX and running it using ONNX Runtime, but the output of ONNX Rumtime and PyToch are different with same input.\r\n\r\n![image](https://user-images.githubusercontent.com/25521617/66836184-7beef680-ef93-11e9-9a5d-4a85798fbc99.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/561/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/561/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/560", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/560/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/560/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/560/events", "html_url": "https://github.com/ultralytics/yolov3/issues/560", "id": 506958060, "node_id": "MDU6SXNzdWU1MDY5NTgwNjA=", "number": 560, "title": "about python version", "user": {"login": "May-forever", "id": 20625075, "node_id": "MDQ6VXNlcjIwNjI1MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/20625075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/May-forever", "html_url": "https://github.com/May-forever", "followers_url": "https://api.github.com/users/May-forever/followers", "following_url": "https://api.github.com/users/May-forever/following{/other_user}", "gists_url": "https://api.github.com/users/May-forever/gists{/gist_id}", "starred_url": "https://api.github.com/users/May-forever/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/May-forever/subscriptions", "organizations_url": "https://api.github.com/users/May-forever/orgs", "repos_url": "https://api.github.com/users/May-forever/repos", "events_url": "https://api.github.com/users/May-forever/events{/privacy}", "received_events_url": "https://api.github.com/users/May-forever/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-10-15T01:57:56Z", "updated_at": "2019-10-16T14:54:36Z", "closed_at": "2019-10-16T11:36:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nThe requirement lists that: Python 3.7 or later.\r\n\r\nCould I use Python 3.6 ? \r\n\r\nLooking forward to hearing from you, thank you in advance", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/560/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/556", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/556/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/556/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/556/events", "html_url": "https://github.com/ultralytics/yolov3/issues/556", "id": 506715550, "node_id": "MDU6SXNzdWU1MDY3MTU1NTA=", "number": 556, "title": "Labels Shifted in train_batch0 and test_batch0", "user": {"login": "rajatsainju", "id": 22732964, "node_id": "MDQ6VXNlcjIyNzMyOTY0", "avatar_url": "https://avatars.githubusercontent.com/u/22732964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rajatsainju", "html_url": "https://github.com/rajatsainju", "followers_url": "https://api.github.com/users/rajatsainju/followers", "following_url": "https://api.github.com/users/rajatsainju/following{/other_user}", "gists_url": "https://api.github.com/users/rajatsainju/gists{/gist_id}", "starred_url": "https://api.github.com/users/rajatsainju/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rajatsainju/subscriptions", "organizations_url": "https://api.github.com/users/rajatsainju/orgs", "repos_url": "https://api.github.com/users/rajatsainju/repos", "events_url": "https://api.github.com/users/rajatsainju/events{/privacy}", "received_events_url": "https://api.github.com/users/rajatsainju/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-14T15:10:55Z", "updated_at": "2019-10-15T15:42:05Z", "closed_at": "2019-10-15T15:41:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe labels are slightly shifted in train_batch0 and test_batch0. I did put the normalized bbox coordinates xywh. The images were labeled using VIA annotation tool fro VGG and I correct the left top corner xy to center xC, yC.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/556/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/555", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/555/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/555/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/555/events", "html_url": "https://github.com/ultralytics/yolov3/issues/555", "id": 506656596, "node_id": "MDU6SXNzdWU1MDY2NTY1OTY=", "number": 555, "title": "Mirrored images and image padding", "user": {"login": "fromm1990", "id": 7311836, "node_id": "MDQ6VXNlcjczMTE4MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/7311836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fromm1990", "html_url": "https://github.com/fromm1990", "followers_url": "https://api.github.com/users/fromm1990/followers", "following_url": "https://api.github.com/users/fromm1990/following{/other_user}", "gists_url": "https://api.github.com/users/fromm1990/gists{/gist_id}", "starred_url": "https://api.github.com/users/fromm1990/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fromm1990/subscriptions", "organizations_url": "https://api.github.com/users/fromm1990/orgs", "repos_url": "https://api.github.com/users/fromm1990/repos", "events_url": "https://api.github.com/users/fromm1990/events{/privacy}", "received_events_url": "https://api.github.com/users/fromm1990/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-10-14T13:33:22Z", "updated_at": "2020-03-31T17:47:23Z", "closed_at": "2019-10-25T17:31:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I'm trying to detect traffic signs using this great YOLOv3 implementation. However, I have stumbled upon something I would categorize a bug.\r\n\r\nMy pictures are fairly large (4000px * 3000px). I, therefore, tile the images to avoid downscaling the pictures (and thereby risking labels being 2px * 2px in some cases). Each tile will contain at least one sign and typically be 608 * 608 pixels.\r\n\r\nThe problem appears when i start training on these tiles/images. In commits from cfc562c2c889cc7a4cb7e6c3b020ec6e36ce6bc4 and older, some of the images will be mirrored. As seen in the picture below the two images in the first column is mirrored where the two pictures in the second column are unmodified. This is suboptimal for traffic sign detection, as some of the signs may mean something different when mirrored.\r\n\r\n![train_batch0 - cfc562c2c889cc7a4cb7e6c3b020ec6e36ce6bc4](https://user-images.githubusercontent.com/7311836/66754447-431d2780-ee96-11e9-889d-50248a3d9115.jpg)\r\n\r\nNewer commits (from 88ba61505fa07b12b608f598ed9d2cf91ff872c2), however, are not only mirroring the images but are also padding them with other images found in the dataset. The bottom row of the below image are both mirrored and padded, where the first row is only padded.\r\n\r\n![train_batch0 - 88ba61505fa07b12b608f598ed9d2cf91ff872c2](https://user-images.githubusercontent.com/7311836/66754781-07cf2880-ee97-11e9-8402-fbdd70824d59.jpg)\r\n\r\nIn case this is a feature rather than a bug, is there anyway to turn this behaviour off?\r\n\r\nThanks in advance.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/555/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/552", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/552/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/552/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/552/events", "html_url": "https://github.com/ultralytics/yolov3/issues/552", "id": 506487954, "node_id": "MDU6SXNzdWU1MDY0ODc5NTQ=", "number": 552, "title": "AttributeError: module 'torch.distributed' has no attribute 'init_process_group'", "user": {"login": "Belinda-great", "id": 20197516, "node_id": "MDQ6VXNlcjIwMTk3NTE2", "avatar_url": "https://avatars.githubusercontent.com/u/20197516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Belinda-great", "html_url": "https://github.com/Belinda-great", "followers_url": "https://api.github.com/users/Belinda-great/followers", "following_url": "https://api.github.com/users/Belinda-great/following{/other_user}", "gists_url": "https://api.github.com/users/Belinda-great/gists{/gist_id}", "starred_url": "https://api.github.com/users/Belinda-great/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Belinda-great/subscriptions", "organizations_url": "https://api.github.com/users/Belinda-great/orgs", "repos_url": "https://api.github.com/users/Belinda-great/repos", "events_url": "https://api.github.com/users/Belinda-great/events{/privacy}", "received_events_url": "https://api.github.com/users/Belinda-great/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-14T07:27:13Z", "updated_at": "2019-11-05T00:45:16Z", "closed_at": "2019-11-05T00:45:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "When i trained the yolov3-tiny, there has a bug, could you give me any tips to solve that?\r\n\r\nNamespace(accumulate=2, adam=False, arc='defaultpw', batch_size=8, bucket='', cache_images=False, cfg='cfg/yolov3-tiny-1cls.cfg', data='data/coco.data', device='', epochs=273, evolve=False, img_size=416, img_weights=False, multi_scale=\r\nFalse, name='', nosave=False, notest=False, prebias=False, rect=False, resume=False, transfer=False, var=None, weights='')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX TITAN X', total_memory=12218MB)\r\n           device1 _CudaDeviceProperties(name='GeForce GTX TITAN X', total_memory=12218MB)\r\n           device2 _CudaDeviceProperties(name='GeForce GTX TITAN X', total_memory=12218MB)\r\n           device3 _CudaDeviceProperties(name='GeForce GTX TITAN X', total_memory=12218MB)\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 434, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 181, in train\r\n    dist.init_process_group(backend='nccl',  # 'distributed backend'\r\nAttributeError: module 'torch.distributed' has no attribute 'init_process_group'\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/552/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/551", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/551/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/551/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/551/events", "html_url": "https://github.com/ultralytics/yolov3/issues/551", "id": 506442936, "node_id": "MDU6SXNzdWU1MDY0NDI5MzY=", "number": 551, "title": "question about \"hyp adjust\" when resuming training", "user": {"login": "zhaoedf", "id": 48846150, "node_id": "MDQ6VXNlcjQ4ODQ2MTUw", "avatar_url": "https://avatars.githubusercontent.com/u/48846150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhaoedf", "html_url": "https://github.com/zhaoedf", "followers_url": "https://api.github.com/users/zhaoedf/followers", "following_url": "https://api.github.com/users/zhaoedf/following{/other_user}", "gists_url": "https://api.github.com/users/zhaoedf/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhaoedf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhaoedf/subscriptions", "organizations_url": "https://api.github.com/users/zhaoedf/orgs", "repos_url": "https://api.github.com/users/zhaoedf/repos", "events_url": "https://api.github.com/users/zhaoedf/events{/privacy}", "received_events_url": "https://api.github.com/users/zhaoedf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-14T04:35:59Z", "updated_at": "2019-10-16T11:49:43Z", "closed_at": "2019-10-16T11:49:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "after training my custom dataset, I have a question. Does resuming simply just resume the weights or as well as the hyp?\r\n\r\n![image](https://user-images.githubusercontent.com/48846150/66729649-583a8c00-ee7f-11e9-8cdf-106b0ae68598.png)\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/551/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/551/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/550", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/550/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/550/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/550/events", "html_url": "https://github.com/ultralytics/yolov3/issues/550", "id": 506388744, "node_id": "MDU6SXNzdWU1MDYzODg3NDQ=", "number": 550, "title": "Multithreading during a training", "user": {"login": "Spectra456", "id": 31315447, "node_id": "MDQ6VXNlcjMxMzE1NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/31315447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Spectra456", "html_url": "https://github.com/Spectra456", "followers_url": "https://api.github.com/users/Spectra456/followers", "following_url": "https://api.github.com/users/Spectra456/following{/other_user}", "gists_url": "https://api.github.com/users/Spectra456/gists{/gist_id}", "starred_url": "https://api.github.com/users/Spectra456/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Spectra456/subscriptions", "organizations_url": "https://api.github.com/users/Spectra456/orgs", "repos_url": "https://api.github.com/users/Spectra456/repos", "events_url": "https://api.github.com/users/Spectra456/events{/privacy}", "received_events_url": "https://api.github.com/users/Spectra456/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-13T22:06:26Z", "updated_at": "2019-10-16T11:43:37Z", "closed_at": "2019-10-16T11:43:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi. How i can see your project using only 1 core of cpu during training. Where is bottleneck? Can you fix it? \r\nThanks.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/550/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/550/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/548", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/548/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/548/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/548/events", "html_url": "https://github.com/ultralytics/yolov3/issues/548", "id": 505646160, "node_id": "MDU6SXNzdWU1MDU2NDYxNjA=", "number": 548, "title": "    labels4.append(labels) UnboundLocalError: local variable 'labels' referenced before assignment", "user": {"login": "Samjith888", "id": 39676803, "node_id": "MDQ6VXNlcjM5Njc2ODAz", "avatar_url": "https://avatars.githubusercontent.com/u/39676803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Samjith888", "html_url": "https://github.com/Samjith888", "followers_url": "https://api.github.com/users/Samjith888/followers", "following_url": "https://api.github.com/users/Samjith888/following{/other_user}", "gists_url": "https://api.github.com/users/Samjith888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Samjith888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Samjith888/subscriptions", "organizations_url": "https://api.github.com/users/Samjith888/orgs", "repos_url": "https://api.github.com/users/Samjith888/repos", "events_url": "https://api.github.com/users/Samjith888/events{/privacy}", "received_events_url": "https://api.github.com/users/Samjith888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2019-10-11T05:30:28Z", "updated_at": "2021-01-13T18:27:25Z", "closed_at": "2021-01-13T18:26:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have replaced coco dataset with own datasets, which have only one class ('person'). While training, i got the following error.\r\n\r\n`\r\n(base) C:\\Users\\samjith.cp\\Desktop\\yolov3>python train.py --data coco.data --cfg cfg/yolov3.cfg\r\nNamespace(accumulate=2, adam=False, arc='defaultpw', batch_size=32, bucket='', cache_images=False, cfg='cfg/yolov3.cfg', data='coco.data', device='', epochs=273, evolve=False, img_size=416, img_weights=False, multi_scale=False, name='', nosave=False, notest=False, prebias=False, rect=False, resume=False, transfer=False, var=None, weights='')\r\nUsing CPU\r\n\r\nWARNING:root:This caffe2 python run does not have GPU support. Will run in CPU only mode.\r\nReading labels (357 found, 0 missing, 4 empty for 361 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 361/361 [00:00<00:00, 6489.34it/s]\r\nModel Summary: 222 layers, 6.19491e+07 parameters, 6.19491e+07 gradients\r\nStarting training for 273 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\nCorrupt JPEG data: 2 extraneous bytes before marker 0xd9\r\n  0%|                                                                                           | 0/12 [00:00<?, ?it/s]Corrupt JPEG data: 2 extraneous bytes before marker 0xd9\r\nCorrupt JPEG data: 1 extraneous bytes before marker 0xd9\r\nCorrupt JPEG data: 1 extraneous bytes before marker 0xd9\r\nCorrupt JPEG data: 2 extraneous bytes before marker 0xd9\r\nCorrupt JPEG data: 1 extraneous bytes before marker 0xd9\r\nCorrupt JPEG data: 2 extraneous bytes before marker 0xd9\r\nCorrupt JPEG data: 1 extraneous bytes before marker 0xd9\r\nCorrupt JPEG data: 1 extraneous bytes before marker 0xd9\r\nCorrupt JPEG data: 1 extraneous bytes before marker 0xd9\r\nCorrupt JPEG data: 2 extraneous bytes before marker 0xd9\r\nCorrupt JPEG data: 2 extraneous bytes before marker 0xd9\r\nCorrupt JPEG data: 1 extraneous bytes before marker 0xd9\r\nCorrupt JPEG data: 1 extraneous bytes before marker 0xd9\r\nCorrupt JPEG data: 2 extraneous bytes before marker 0xd9\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 426, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 235, in train\r\n    for i, (imgs, targets, paths, _) in pbar:  # batch -------------------------------------------------------------\r\n  File \"C:\\Users\\samjith.cp\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\tqdm\\_tqdm.py\", line 1005, in __iter__\r\n    for obj in iterable:\r\n  File \"C:\\Users\\samjith.cp\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 819, in __next__\r\n    return self._process_data(data)\r\n  File \"C:\\Users\\samjith.cp\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 846, in _process_data\r\n    data.reraise()\r\n  File \"C:\\Users\\samjith.cp\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\torch\\_utils.py\", line 369, in reraise\r\n    raise self.exc_type(msg)\r\nUnboundLocalError: Caught UnboundLocalError in DataLoader worker process 0.\r\nOriginal Traceback (most recent call last):\r\n  File \"C:\\Users\\samjith.cp\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\torch\\utils\\data\\_utils\\worker.py\", line 178, in _worker_loop\r\n    data = fetcher.fetch(index)\r\n  File \"C:\\Users\\samjith.cp\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\torch\\utils\\data\\_utils\\fetch.py\", line 44, in fetch\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"C:\\Users\\samjith.cp\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\torch\\utils\\data\\_utils\\fetch.py\", line 44, in <listcomp>\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"C:\\Users\\samjith.cp\\Desktop\\yolov3\\utils\\datasets.py\", line 416, in __getitem__\r\n    img, labels = load_mosaic(self, index)\r\n  File \"C:\\Users\\samjith.cp\\Desktop\\yolov3\\utils\\datasets.py\", line 590, in load_mosaic\r\n    labels4.append(labels)\r\nUnboundLocalError: local variable 'labels' referenced before assignment`", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/548/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/545", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/545/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/545/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/545/events", "html_url": "https://github.com/ultralytics/yolov3/issues/545", "id": 505197943, "node_id": "MDU6SXNzdWU1MDUxOTc5NDM=", "number": 545, "title": "Bug on NMS", "user": {"login": "ming71", "id": 43720092, "node_id": "MDQ6VXNlcjQzNzIwMDky", "avatar_url": "https://avatars.githubusercontent.com/u/43720092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ming71", "html_url": "https://github.com/ming71", "followers_url": "https://api.github.com/users/ming71/followers", "following_url": "https://api.github.com/users/ming71/following{/other_user}", "gists_url": "https://api.github.com/users/ming71/gists{/gist_id}", "starred_url": "https://api.github.com/users/ming71/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ming71/subscriptions", "organizations_url": "https://api.github.com/users/ming71/orgs", "repos_url": "https://api.github.com/users/ming71/repos", "events_url": "https://api.github.com/users/ming71/events{/privacy}", "received_events_url": "https://api.github.com/users/ming71/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-10T11:06:20Z", "updated_at": "2019-11-07T23:07:06Z", "closed_at": "2019-10-31T20:15:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your great work!! \r\nIt seems to be a small flaw on follow code :\r\nhttps://github.com/ultralytics/yolov3/blob/ee319aeefd97d99fcaac499d148116c71b83397f/utils/utils.py#L528-L537  \r\nIn NMS mode `MERGE`, once `dc[0]`'s iou with other boxes are less than `nms_thres` , all elements in `i` will be `False` ,leading to `weights=0` ,further `weights.sum()=0`!  \r\nIn the end , `dc[0]` is equal to nan , and the program will get stuck in a loop.   \r\n ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/545/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/543", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/543/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/543/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/543/events", "html_url": "https://github.com/ultralytics/yolov3/issues/543", "id": 504721196, "node_id": "MDU6SXNzdWU1MDQ3MjExOTY=", "number": 543, "title": "CUDA error: device-side assert triggered", "user": {"login": "sbhonde1", "id": 13461215, "node_id": "MDQ6VXNlcjEzNDYxMjE1", "avatar_url": "https://avatars.githubusercontent.com/u/13461215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbhonde1", "html_url": "https://github.com/sbhonde1", "followers_url": "https://api.github.com/users/sbhonde1/followers", "following_url": "https://api.github.com/users/sbhonde1/following{/other_user}", "gists_url": "https://api.github.com/users/sbhonde1/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbhonde1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbhonde1/subscriptions", "organizations_url": "https://api.github.com/users/sbhonde1/orgs", "repos_url": "https://api.github.com/users/sbhonde1/repos", "events_url": "https://api.github.com/users/sbhonde1/events{/privacy}", "received_events_url": "https://api.github.com/users/sbhonde1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-10-09T15:18:19Z", "updated_at": "2023-04-21T21:09:13Z", "closed_at": "2019-10-16T11:47:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**CUDA error: device-side assert triggered**\r\n\r\n\r\n - OS:Ubuntu 18.04\r\n - pytorch 1.2\r\n - python 3.7\r\n\r\nI am using custom data to train the network.\r\nI have followed the tutorial mentioned [Training Custom Data](https://github.com/ultralytics/yolov3/wiki/Train-Custom-Data)\r\nIn addition to that I am using [single class](https://github.com/ultralytics/yolov3/wiki/Example:-Train-Single-Class)\r\nMy repository is also up-to-date.\r\nI have also checked sample train_batch0.jpg which looked fine to me.\r\nAny help would be appriciated. \r\nThank you\r\n\r\n<3:49:19,  2.47it/s]/opt/conda/conda-bld/pytorch_1565272271120/work/aten/src/ATen/native/cuda/IndexKernel.cu:60: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [32,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n/opt/conda/conda-bld/pytorch_1565272271120/work/aten/src/ATen/native/cuda/IndexKernel.cu:60: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [33,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n/opt/conda/conda-bld/pytorch_1565272271120/work/aten/src/ATen/native/cuda/IndexKernel.cu:60: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [34,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n/opt/conda/conda-bld/pytorch_1565272271120/work/aten/src/ATen/native/cuda/IndexKernel.cu:60: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [35,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n/opt/conda/conda-bld/pytorch_1565272271120/work/aten/src/ATen/native/cuda/IndexKernel.cu:60: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [6,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n/opt/conda/conda-bld/pytorch_1565272271120/work/aten/src/ATen/native/cuda/IndexKernel.cu:60: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [7,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n/opt/conda/conda-bld/pytorch_1565272271120/work/aten/src/ATen/native/cuda/IndexKernel.cu:60: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [8,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n/opt/conda/conda-bld/pytorch_1565272271120/work/aten/src/ATen/native/cuda/IndexKernel.cu:60: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [9,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n/opt/conda/conda-bld/pytorch_1565272271120/work/aten/src/ATen/native/cuda/IndexKernel.cu:60: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [10,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n/opt/conda/conda-bld/pytorch_1565272271120/work/aten/src/ATen/native/cuda/IndexKernel.cu:60: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [11,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n/opt/conda/conda-bld/pytorch_1565272271120/work/aten/src/ATen/native/cuda/IndexKernel.cu:60: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [30,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n/opt/conda/conda-bld/pytorch_1565272271120/work/aten/src/ATen/native/cuda/IndexKernel.cu:60: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [31,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 425, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 270, in train\r\n    loss, loss_items = compute_loss(pred, targets, model)\r\n  File \"/home/sagarbhonde/yolov3/utils/utils.py\", line 335, in compute_loss\r\n    tobj[b, a, gj, gi] = 1.0  # obj\r\nRuntimeError: CUDA error: device-side assert triggered\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/543/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/542", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/542/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/542/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/542/events", "html_url": "https://github.com/ultralytics/yolov3/issues/542", "id": 504601319, "node_id": "MDU6SXNzdWU1MDQ2MDEzMTk=", "number": 542, "title": "test.py (no result show)", "user": {"login": "alyssa121", "id": 37036185, "node_id": "MDQ6VXNlcjM3MDM2MTg1", "avatar_url": "https://avatars.githubusercontent.com/u/37036185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alyssa121", "html_url": "https://github.com/alyssa121", "followers_url": "https://api.github.com/users/alyssa121/followers", "following_url": "https://api.github.com/users/alyssa121/following{/other_user}", "gists_url": "https://api.github.com/users/alyssa121/gists{/gist_id}", "starred_url": "https://api.github.com/users/alyssa121/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alyssa121/subscriptions", "organizations_url": "https://api.github.com/users/alyssa121/orgs", "repos_url": "https://api.github.com/users/alyssa121/repos", "events_url": "https://api.github.com/users/alyssa121/events{/privacy}", "received_events_url": "https://api.github.com/users/alyssa121/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-09T11:53:40Z", "updated_at": "2019-10-10T03:06:04Z", "closed_at": "2019-10-10T03:06:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "**command like this:**\r\npython test.py --weights weights/yolov3.weights\r\n\r\n**there is no error, however  no mAP or F, just show nothing, and I can't figure out the reason.**\r\n\r\nNamespace(batch_size=16, cfg='cfg/yolov3.cfg', conf_thres=0.001, data='data/coco/coco.data', device='1', img_size=416, iou_thres=0.5, nms_thres=0.5, save_json=False, weights='weights/yolov3.weights')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1080 Ti', total_memory=11178MB)\r\n\r\nClass    Images   Targets         P         R       mAP        F1\r\nClass    Images   Targets         P         R       mAP        F1\r\nClass    Images   Targets         P         R       mAP        F1\r\nClass    Images   Targets         P         R       mAP        F1\r\nClass    Images   Targets         P         R       mAP        F1\r\nClass    Images   Targets         P         R       mAP        F1\r\n\r\n: 100%|\u2588| 313/313 [04:46<00:00,  1.85it/s]\r\ntest.py:153: **RuntimeWarning: Mean of empty slice.**\r\n  mp, mr, map, mf1 = p.mean(), r.mean(), ap.mean(), f1.mean()\r\n/home/bobo/anaconda3/envs/detectron/lib/python3.6/site-packages/numpy/core/_methods.py:85: RuntimeWarning: invalid value encountered in double_scalars\r\n  ret = ret.dtype.type(ret / rcount)\r\n                 all     5e+03         0       nan       nan       nan       nan", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/542/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/542/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/539", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/539/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/539/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/539/events", "html_url": "https://github.com/ultralytics/yolov3/issues/539", "id": 504031917, "node_id": "MDU6SXNzdWU1MDQwMzE5MTc=", "number": 539, "title": "non-finite loss, ending training  tensor", "user": {"login": "ylsxw", "id": 52126624, "node_id": "MDQ6VXNlcjUyMTI2NjI0", "avatar_url": "https://avatars.githubusercontent.com/u/52126624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ylsxw", "html_url": "https://github.com/ylsxw", "followers_url": "https://api.github.com/users/ylsxw/followers", "following_url": "https://api.github.com/users/ylsxw/following{/other_user}", "gists_url": "https://api.github.com/users/ylsxw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ylsxw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ylsxw/subscriptions", "organizations_url": "https://api.github.com/users/ylsxw/orgs", "repos_url": "https://api.github.com/users/ylsxw/repos", "events_url": "https://api.github.com/users/ylsxw/events{/privacy}", "received_events_url": "https://api.github.com/users/ylsxw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-08T13:04:54Z", "updated_at": "2019-10-25T17:18:51Z", "closed_at": "2019-10-25T17:18:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, what caused it? How can I solve it?\r\n\r\n![2019-10-08 20-40-21\u5c4f\u5e55\u622a\u56fe](https://user-images.githubusercontent.com/52126624/66396400-43d43a80-ea0c-11e9-9ba7-051ea8bc0bec.png)\r\n\r\n![2019-10-08 20-53-46\u5c4f\u5e55\u622a\u56fe](https://user-images.githubusercontent.com/52126624/66397138-c4e00180-ea0d-11e9-90eb-d5afd23c283d.png)\r\n\r\n![2019-10-08 20-53-27\u5c4f\u5e55\u622a\u56fe](https://user-images.githubusercontent.com/52126624/66397529-9a427880-ea0e-11e9-8ca1-a8d6f76056ea.png)\r\n\r\n\r\n![2019-10-08 20-55-35\u5c4f\u5e55\u622a\u56fe](https://user-images.githubusercontent.com/52126624/66397274-08d30680-ea0e-11e9-8ba5-7a30d9529d3a.png)\r\n\r\n![2019-10-08 20-59-10\u5c4f\u5e55\u622a\u56fe](https://user-images.githubusercontent.com/52126624/66397489-826af480-ea0e-11e9-992b-5e4d49aeeb30.png)\r\n\r\nThere should be no problem with my training steps.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/539/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/538", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/538/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/538/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/538/events", "html_url": "https://github.com/ultralytics/yolov3/issues/538", "id": 503911900, "node_id": "MDU6SXNzdWU1MDM5MTE5MDA=", "number": 538, "title": "The program is aborted maybe because of thread.", "user": {"login": "Fizunimo", "id": 50652516, "node_id": "MDQ6VXNlcjUwNjUyNTE2", "avatar_url": "https://avatars.githubusercontent.com/u/50652516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fizunimo", "html_url": "https://github.com/Fizunimo", "followers_url": "https://api.github.com/users/Fizunimo/followers", "following_url": "https://api.github.com/users/Fizunimo/following{/other_user}", "gists_url": "https://api.github.com/users/Fizunimo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fizunimo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fizunimo/subscriptions", "organizations_url": "https://api.github.com/users/Fizunimo/orgs", "repos_url": "https://api.github.com/users/Fizunimo/repos", "events_url": "https://api.github.com/users/Fizunimo/events{/privacy}", "received_events_url": "https://api.github.com/users/Fizunimo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-08T08:48:43Z", "updated_at": "2019-10-16T11:48:15Z", "closed_at": "2019-10-16T11:48:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "After running detect.py with \"python3 detect.py --source 0\" and pressing q to exit, it becomes \"terminate called without an active exception\" and \"aborted\"\r\nor \"fatal exception not rethrown\" and \"aborted\".\r\nThis is thought to be a problem caused by Thread.\r\nIs there any solution?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/538/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/538/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/537", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/537/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/537/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/537/events", "html_url": "https://github.com/ultralytics/yolov3/issues/537", "id": 503778067, "node_id": "MDU6SXNzdWU1MDM3NzgwNjc=", "number": 537, "title": "WARNING: non-finite loss, ending training tensor([    nan, 0.53250, 1.26820,     nan], device='cuda:0') on custom data set", "user": {"login": "alpizano", "id": 39110859, "node_id": "MDQ6VXNlcjM5MTEwODU5", "avatar_url": "https://avatars.githubusercontent.com/u/39110859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alpizano", "html_url": "https://github.com/alpizano", "followers_url": "https://api.github.com/users/alpizano/followers", "following_url": "https://api.github.com/users/alpizano/following{/other_user}", "gists_url": "https://api.github.com/users/alpizano/gists{/gist_id}", "starred_url": "https://api.github.com/users/alpizano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alpizano/subscriptions", "organizations_url": "https://api.github.com/users/alpizano/orgs", "repos_url": "https://api.github.com/users/alpizano/repos", "events_url": "https://api.github.com/users/alpizano/events{/privacy}", "received_events_url": "https://api.github.com/users/alpizano/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-10-08T01:48:38Z", "updated_at": "2020-10-04T15:18:13Z", "closed_at": "2019-10-25T17:18:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n```WARNING: non-finite loss, ending training tensor([    nan, 0.53250, 1.26820,     nan], device='cuda:0') ``` ...error on EPOCH 2/272 while attempting to train my own custom dataset (with 2 classes) using ultralytics and the yolo3.cfg.\r\n\r\nScreen shot: \r\nhttps://gyazo.com/6e7828ef7f0473fd0b955682bc4421b4\r\n\r\nI'm using only 2 custom classes in my roulette.names, which are:\r\n```\r\nBall\r\nZero\r\n```\r\n\r\nroulette.data contains paths:\r\n```\r\nclasses = 2\r\ntrain = data/train.txt\r\nvalid = data/test.txt\r\nnames = data/roulette.names\r\nbackup = backup/roulette3\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. I took the yolov3.cfg and renamed it to roulette3.cfg\r\n2. I changed:\r\n- batches = 8 (using anything > 8 batches gave me a memory error on my GTX1060 6GB for some reason)\r\n- subdivisions to 16\r\n- max_batches to 4000\r\n- steps=3200,3600\r\n- classes=2\r\n- filters=21\r\n3. Added 697 images to the ```data/images``` folder and created a ```data/labels``` folder where I placed the corresponding label .txts.\r\n4. The train.txt and test.txt are in the ```data``` directory\r\n5. roulette.names (Ball, Zero) and roulette.data are in the ```data``` directory. \r\n6. I used this command in the Windows 10 x64 command prompt to attempt to train my data before receiving the error:\r\n```python train.py --data data/roulette.data --cfg cfg/roulette3.cfg --batch-size 8```\r\n\r\n**Expected behavior**\r\nI expected to be able to train my data.\r\n\r\n**Screenshots**\r\nScreen shot: \r\nhttps://gyazo.com/6e7828ef7f0473fd0b955682bc4421b4\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Windows 10 Pro 64 bit\r\n - Version 10..0.18362 Build 18362\r\n- GPU: Gigabyte GTX1060 6GB\r\n\r\n**Smartphone (please complete the following information):**\r\nN/A\r\n\r\n**Additional context**\r\nI'm just trying to train custom data of a roulette wheel and ball, I want to be able to detect the ball and roulette wheel ONLY and I've already annotated my own custom data with those 2 classes. Am I missing something here?\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/537/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/536", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/536/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/536/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/536/events", "html_url": "https://github.com/ultralytics/yolov3/issues/536", "id": 502941413, "node_id": "MDU6SXNzdWU1MDI5NDE0MTM=", "number": 536, "title": "Cannot run examples.ipynb", "user": {"login": "yerlantemir", "id": 38187639, "node_id": "MDQ6VXNlcjM4MTg3NjM5", "avatar_url": "https://avatars.githubusercontent.com/u/38187639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yerlantemir", "html_url": "https://github.com/yerlantemir", "followers_url": "https://api.github.com/users/yerlantemir/followers", "following_url": "https://api.github.com/users/yerlantemir/following{/other_user}", "gists_url": "https://api.github.com/users/yerlantemir/gists{/gist_id}", "starred_url": "https://api.github.com/users/yerlantemir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yerlantemir/subscriptions", "organizations_url": "https://api.github.com/users/yerlantemir/orgs", "repos_url": "https://api.github.com/users/yerlantemir/repos", "events_url": "https://api.github.com/users/yerlantemir/events{/privacy}", "received_events_url": "https://api.github.com/users/yerlantemir/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-05T09:42:44Z", "updated_at": "2019-10-16T11:41:42Z", "closed_at": "2019-10-16T11:41:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI am trying to use this repository to make an ios app to detect objects through camera, and just tried to run example and when I run cell !python3 detect.py I am getting an error\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Copy repo\r\n2. run examples.py\r\n3. Get error\r\nimage 1/2 data/samples/bus.jpg: DW DH\r\nTraceback (most recent call last):\r\n  File \"detect.py\", line 150, in <module>\r\n    detect()\r\n  File \"detect.py\", line 70, in detect\r\n    pred = model(img)\r\n  File \"/home/yerlan/anaconda3/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 493, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/yerlan/Desktop/calicmak/hackaton/yolov3-master/models.py\", line 247, in forward\r\n    io, p = list(zip(*output))  # inference output, training output\r\nValueError: not enough values to unpack (expected 2, got 1)\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/536/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/533", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/533/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/533/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/533/events", "html_url": "https://github.com/ultralytics/yolov3/issues/533", "id": 500957207, "node_id": "MDU6SXNzdWU1MDA5NTcyMDc=", "number": 533, "title": "RunTime error using image_weights", "user": {"login": "mehrdadazizi72", "id": 38887451, "node_id": "MDQ6VXNlcjM4ODg3NDUx", "avatar_url": "https://avatars.githubusercontent.com/u/38887451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mehrdadazizi72", "html_url": "https://github.com/mehrdadazizi72", "followers_url": "https://api.github.com/users/mehrdadazizi72/followers", "following_url": "https://api.github.com/users/mehrdadazizi72/following{/other_user}", "gists_url": "https://api.github.com/users/mehrdadazizi72/gists{/gist_id}", "starred_url": "https://api.github.com/users/mehrdadazizi72/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mehrdadazizi72/subscriptions", "organizations_url": "https://api.github.com/users/mehrdadazizi72/orgs", "repos_url": "https://api.github.com/users/mehrdadazizi72/repos", "events_url": "https://api.github.com/users/mehrdadazizi72/events{/privacy}", "received_events_url": "https://api.github.com/users/mehrdadazizi72/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-10-01T15:00:54Z", "updated_at": "2019-10-09T07:13:21Z", "closed_at": "2019-10-09T07:13:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "with default argument, everything works fine but when image_weights set to True error happens\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 448, in <module>\r\n    results = train()\r\n  File \"train.py\", line 228, in train\r\n    for i, (imgs, targets, paths, _) in pbar:  # batch -------------------------------------------------------------\r\n  File \"/usr/local/lib/python3.6/dist-packages/tqdm/_tqdm.py\", line 1000, in __iter__\r\n    for obj in iterable:\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/utils/data/dataloader.py\", line 582, in __next__\r\n    return self._process_next_batch(batch)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/utils/data/dataloader.py\", line 608, in _process_next_batch\r\n    raise batch.exc_type(batch.exc_msg)\r\nAttributeError: Traceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/utils/data/_utils/worker.py\", line 99, in _worker_loop\r\n    samples = collate_fn([dataset[i] for i in batch_indices])\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/utils/data/_utils/worker.py\", line 99, in <listcomp>\r\n    samples = collate_fn([dataset[i] for i in batch_indices])\r\n  File \"........./yolov3/utils/datasets.py\", line 304, in __getitem__\r\n    index = self.indices[index]\r\nAttributeError: 'LoadImagesAndLabels' object has no attribute 'indices'\r\n\r\n\r\n - OS: Ubuntu\r\n - Version 18.04\r\n - torch 1.1.0\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/533/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/532", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/532/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/532/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/532/events", "html_url": "https://github.com/ultralytics/yolov3/issues/532", "id": 500953616, "node_id": "MDU6SXNzdWU1MDA5NTM2MTY=", "number": 532, "title": "Train.py Not Working While ONNX_EXPORT=True ", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-01T14:55:46Z", "updated_at": "2019-10-03T12:31:02Z", "closed_at": "2019-10-01T15:21:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "As written in the title, I can not start training while the ONNX_EXPORT in models.py is set to True. And i get the following error.\r\n```\r\nReading labels (430 found, 0 missing, 0 empty for 430 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 430/430 [00:00<00:00, 31326.33it/s]\r\nModel Summary: 222 layers, 6.15237e+07 parameters, 6.15237e+07 gradients\r\nStarting training for 273 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n  0%|                                                                                                                                           | 0/54 [00:00<?, ?it/s]Traceback (most recent call last):\r\n  File \"train.py\", line 420, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 266, in train\r\n    pred = model(imgs)\r\n  File \"/home/ayvos/.local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 547, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/ayvos/yolov3/models.py\", line 240, in forward\r\n    x = module(x, img_size)\r\n  File \"/home/ayvos/.local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 547, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/ayvos/yolov3/models.py\", line 149, in forward\r\n    p = p.view(bs, self.na, self.nc + 5, self.ny, self.nx).permute(0, 1, 3, 4, 2).contiguous()  # prediction\r\nRuntimeError: shape '[1, 3, 6, 13, 13]' is invalid for input of size 24336\r\n\r\n```\r\nAs I replace it with False everything goes fine.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/532/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/522", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/522/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/522/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/522/events", "html_url": "https://github.com/ultralytics/yolov3/issues/522", "id": 498067547, "node_id": "MDU6SXNzdWU0OTgwNjc1NDc=", "number": 522, "title": "Why do i train  with  no transfer learning have biger mode parameter than transfer learning?", "user": {"login": "broliao", "id": 49137103, "node_id": "MDQ6VXNlcjQ5MTM3MTAz", "avatar_url": "https://avatars.githubusercontent.com/u/49137103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/broliao", "html_url": "https://github.com/broliao", "followers_url": "https://api.github.com/users/broliao/followers", "following_url": "https://api.github.com/users/broliao/following{/other_user}", "gists_url": "https://api.github.com/users/broliao/gists{/gist_id}", "starred_url": "https://api.github.com/users/broliao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/broliao/subscriptions", "organizations_url": "https://api.github.com/users/broliao/orgs", "repos_url": "https://api.github.com/users/broliao/repos", "events_url": "https://api.github.com/users/broliao/events{/privacy}", "received_events_url": "https://api.github.com/users/broliao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-09-25T06:04:32Z", "updated_at": "2020-05-24T00:47:38Z", "closed_at": "2019-09-25T11:29:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for you great work!\r\nI find that i get the weight about 250MB when I use transfer learing from begin,but if i don't use transfer learning,i will get about 500MB from begin,i do nothing other change.why? \r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/522/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/522/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/520", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/520/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/520/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/520/events", "html_url": "https://github.com/ultralytics/yolov3/issues/520", "id": 498004845, "node_id": "MDU6SXNzdWU0OTgwMDQ4NDU=", "number": 520, "title": "question about yolov3.cfg and yolov3-spp.cfg?", "user": {"login": "H-YunHui", "id": 44078888, "node_id": "MDQ6VXNlcjQ0MDc4ODg4", "avatar_url": "https://avatars.githubusercontent.com/u/44078888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/H-YunHui", "html_url": "https://github.com/H-YunHui", "followers_url": "https://api.github.com/users/H-YunHui/followers", "following_url": "https://api.github.com/users/H-YunHui/following{/other_user}", "gists_url": "https://api.github.com/users/H-YunHui/gists{/gist_id}", "starred_url": "https://api.github.com/users/H-YunHui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/H-YunHui/subscriptions", "organizations_url": "https://api.github.com/users/H-YunHui/orgs", "repos_url": "https://api.github.com/users/H-YunHui/repos", "events_url": "https://api.github.com/users/H-YunHui/events{/privacy}", "received_events_url": "https://api.github.com/users/H-YunHui/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-25T01:55:33Z", "updated_at": "2019-09-25T11:22:01Z", "closed_at": "2019-09-25T11:22:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "@glenn-jocher\r\nin yolov3.cfg, the width and height are 416, the anchor: 10,13,  16,30,  33,23,  30,61,  62,45,  59,119,  116,90,  156,198,  373,326\r\nin yolov3-spp.cfg, the width and height are 608, the anchor also: 10,13,  16,30,  33,23,  30,61,  62,45,  59,119,  116,90,  156,198,  373,326\r\nWhy is the input size\uff08width*height\uff09 different\uff0cbut the anchor are same?\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/520/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/518", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/518/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/518/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/518/events", "html_url": "https://github.com/ultralytics/yolov3/issues/518", "id": 497546876, "node_id": "MDU6SXNzdWU0OTc1NDY4NzY=", "number": 518, "title": "How to initial weights  when training Single Class?", "user": {"login": "QianSunCN", "id": 39403847, "node_id": "MDQ6VXNlcjM5NDAzODQ3", "avatar_url": "https://avatars.githubusercontent.com/u/39403847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QianSunCN", "html_url": "https://github.com/QianSunCN", "followers_url": "https://api.github.com/users/QianSunCN/followers", "following_url": "https://api.github.com/users/QianSunCN/following{/other_user}", "gists_url": "https://api.github.com/users/QianSunCN/gists{/gist_id}", "starred_url": "https://api.github.com/users/QianSunCN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QianSunCN/subscriptions", "organizations_url": "https://api.github.com/users/QianSunCN/orgs", "repos_url": "https://api.github.com/users/QianSunCN/repos", "events_url": "https://api.github.com/users/QianSunCN/events{/privacy}", "received_events_url": "https://api.github.com/users/QianSunCN/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-24T08:47:06Z", "updated_at": "2019-09-25T11:13:59Z", "closed_at": "2019-09-25T11:13:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, your code is very beautyful. I want to train Single Class, and following the \"Example: Train Single Class\" , it works. There is one question:  \r\nHow to initial the weights ?   \r\nIs there some pretrained model for yolov3-spp-1cls.cfg?  ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/518/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/518/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/508", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/508/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/508/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/508/events", "html_url": "https://github.com/ultralytics/yolov3/issues/508", "id": 495749317, "node_id": "MDU6SXNzdWU0OTU3NDkzMTc=", "number": 508, "title": "IndexError", "user": {"login": "MK990dotcom", "id": 55538964, "node_id": "MDQ6VXNlcjU1NTM4OTY0", "avatar_url": "https://avatars.githubusercontent.com/u/55538964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MK990dotcom", "html_url": "https://github.com/MK990dotcom", "followers_url": "https://api.github.com/users/MK990dotcom/followers", "following_url": "https://api.github.com/users/MK990dotcom/following{/other_user}", "gists_url": "https://api.github.com/users/MK990dotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/MK990dotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MK990dotcom/subscriptions", "organizations_url": "https://api.github.com/users/MK990dotcom/orgs", "repos_url": "https://api.github.com/users/MK990dotcom/repos", "events_url": "https://api.github.com/users/MK990dotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/MK990dotcom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-09-19T11:49:18Z", "updated_at": "2019-09-27T19:04:09Z", "closed_at": "2019-09-27T19:04:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "I wanted to make transfer learning from yolov3-spp.pt for single object detection. So I followed the tutorials but when I trained I got these errors.\r\n![Screenshot from 2019-09-19 18-17-32](https://user-images.githubusercontent.com/55538964/65241580-de2a1800-db09-11e9-8c8d-f49ed7d22943.png)\r\n\r\nI would like to know how to solve this issue??\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/508/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/506", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/506/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/506/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/506/events", "html_url": "https://github.com/ultralytics/yolov3/issues/506", "id": 495049187, "node_id": "MDU6SXNzdWU0OTUwNDkxODc=", "number": 506, "title": "KeyError: 'cls_pw'", "user": {"login": "LDoubleZhi", "id": 34958433, "node_id": "MDQ6VXNlcjM0OTU4NDMz", "avatar_url": "https://avatars.githubusercontent.com/u/34958433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LDoubleZhi", "html_url": "https://github.com/LDoubleZhi", "followers_url": "https://api.github.com/users/LDoubleZhi/followers", "following_url": "https://api.github.com/users/LDoubleZhi/following{/other_user}", "gists_url": "https://api.github.com/users/LDoubleZhi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LDoubleZhi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LDoubleZhi/subscriptions", "organizations_url": "https://api.github.com/users/LDoubleZhi/orgs", "repos_url": "https://api.github.com/users/LDoubleZhi/repos", "events_url": "https://api.github.com/users/LDoubleZhi/events{/privacy}", "received_events_url": "https://api.github.com/users/LDoubleZhi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-09-18T07:48:15Z", "updated_at": "2019-09-26T11:04:13Z", "closed_at": "2019-09-26T11:04:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nYolov3-tiny get error when traing\r\n\r\n**To Reproduce**\r\n    Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n  0%|                                                                                                  | 0/19 [00:00<?, ?it/s]Traceback (most recent call last):\r\n  File \"train.py\", line 416, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 265, in train\r\n    loss, loss_items = compute_loss(pred, targets, model)\r\n  File \"/mnt/xfs1/home/liulinzhi/CV/yolov3-master/utils/utils.py\", line 325, in compute_loss\r\n    BCEcls = nn.BCEWithLogitsLoss(pos_weight=ft([h['cls_pw']]))\r\nKeyError: 'cls_pw'\r\n  0%|   ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/506/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/506/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/505", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/505/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/505/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/505/events", "html_url": "https://github.com/ultralytics/yolov3/issues/505", "id": 494956267, "node_id": "MDU6SXNzdWU0OTQ5NTYyNjc=", "number": 505, "title": " i on line 75 of detect.py  is always 0.", "user": {"login": "Fizunimo", "id": 50652516, "node_id": "MDQ6VXNlcjUwNjUyNTE2", "avatar_url": "https://avatars.githubusercontent.com/u/50652516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fizunimo", "html_url": "https://github.com/Fizunimo", "followers_url": "https://api.github.com/users/Fizunimo/followers", "following_url": "https://api.github.com/users/Fizunimo/following{/other_user}", "gists_url": "https://api.github.com/users/Fizunimo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fizunimo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fizunimo/subscriptions", "organizations_url": "https://api.github.com/users/Fizunimo/orgs", "repos_url": "https://api.github.com/users/Fizunimo/repos", "events_url": "https://api.github.com/users/Fizunimo/events{/privacy}", "received_events_url": "https://api.github.com/users/Fizunimo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-18T02:51:00Z", "updated_at": "2019-09-18T12:47:03Z", "closed_at": "2019-09-18T12:47:03Z", "author_association": "NONE", "active_lock_reason": null, "body": " i on line 75 of detect.py  is always 0.\r\n\r\nI think enumerate should be used on line 66 instead of line 75.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/505/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/503", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/503/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/503/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/503/events", "html_url": "https://github.com/ultralytics/yolov3/issues/503", "id": 494576708, "node_id": "MDU6SXNzdWU0OTQ1NzY3MDg=", "number": 503, "title": "OSError:[Errono 12] Cannot allocate memory\uff01\uff01", "user": {"login": "kaaier", "id": 32322056, "node_id": "MDQ6VXNlcjMyMzIyMDU2", "avatar_url": "https://avatars.githubusercontent.com/u/32322056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaaier", "html_url": "https://github.com/kaaier", "followers_url": "https://api.github.com/users/kaaier/followers", "following_url": "https://api.github.com/users/kaaier/following{/other_user}", "gists_url": "https://api.github.com/users/kaaier/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaaier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaaier/subscriptions", "organizations_url": "https://api.github.com/users/kaaier/orgs", "repos_url": "https://api.github.com/users/kaaier/repos", "events_url": "https://api.github.com/users/kaaier/events{/privacy}", "received_events_url": "https://api.github.com/users/kaaier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-17T11:54:13Z", "updated_at": "2023-04-21T21:09:28Z", "closed_at": "2019-09-17T13:55:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, can you help me to solve it?\r\n\r\nI think it's test.py. When I comment it out, I can train it normally. I want to ask, why can't I print a map? My batchsize=1\r\n\r\n\r\n\r\nOSError:[Errono 12] Cannot allocate memory\uff01\uff01\uff01\uff01\uff01", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/503/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/500", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/500/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/500/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/500/events", "html_url": "https://github.com/ultralytics/yolov3/issues/500", "id": 493730512, "node_id": "MDU6SXNzdWU0OTM3MzA1MTI=", "number": 500, "title": "Error when using last.pt for object detection after custom training", "user": {"login": "souvik3333", "id": 24843773, "node_id": "MDQ6VXNlcjI0ODQzNzcz", "avatar_url": "https://avatars.githubusercontent.com/u/24843773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/souvik3333", "html_url": "https://github.com/souvik3333", "followers_url": "https://api.github.com/users/souvik3333/followers", "following_url": "https://api.github.com/users/souvik3333/following{/other_user}", "gists_url": "https://api.github.com/users/souvik3333/gists{/gist_id}", "starred_url": "https://api.github.com/users/souvik3333/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/souvik3333/subscriptions", "organizations_url": "https://api.github.com/users/souvik3333/orgs", "repos_url": "https://api.github.com/users/souvik3333/repos", "events_url": "https://api.github.com/users/souvik3333/events{/privacy}", "received_events_url": "https://api.github.com/users/souvik3333/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-15T12:15:17Z", "updated_at": "2019-11-25T21:05:13Z", "closed_at": "2019-09-15T12:22:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I trained as mentioned in  #192 on data/coco_16img.data file. After training is done when I am trying to detect object on last.pt it's giving following error.\r\nAlso I have tried using backupX.pt files in weight folder. They are giving same error. Only yolov3.weights is working without any error.\r\n\r\nNamespace(cfg='cfg/yolov3.cfg', conf_thres=0.3, data='data/coco.data', device='', fourcc='mp4v', half=False, img_size=416, nms_thres=0.5, output='output', source='beauty-3428550_1280.jpg', weights='weights/last.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='Tesla K80', total_memory=11441MB)\r\n\r\nTraceback (most recent call last):\r\n  File \"detect.py\", line 149, in <module>\r\n    detect()\r\n  File \"detect.py\", line 26, in detect\r\n    model.load_state_dict(torch.load(weights, map_location=device)['model'])\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py\", line 777, in load_state_dict\r\n    self.__class__.__name__, \"\\n\\t\".join(error_msgs)))\r\nRuntimeError: Error(s) in loading state_dict for Darknet:\r\n\tMissing key(s) in state_dict: \"module_list.78.Conv2d.weight\", \"module_list.78.BatchNorm2d.weight\", \"module_list.78.BatchNorm2d.bias\", \"module_list.78.BatchNorm2d.running_mean\", \"module_list.78.BatchNorm2d.running_var\", \"module_list.79.Conv2d.weight\", \"module_list.79.BatchNorm2d.weight\", \"module_list.79.BatchNorm2d.bias\", \"module_list.79.BatchNorm2d.running_mean\", \"module_list.79.BatchNorm2d.running_var\", \"module_list.80.Conv2d.weight\", \"module_list.80.BatchNorm2d.weight\", \"module_list.80.BatchNorm2d.bias\", \"module_list.80.BatchNorm2d.running_mean\", \"module_list.80.BatchNorm2d.running_var\", \"module_list.81.Conv2d.weight\", \"module_list.81.Conv2d.bias\", \"module_list.88.BatchNorm2d.weight\", \"module_list.88.BatchNorm2d.bias\", \"module_list.88.BatchNorm2d.running_mean\", \"module_list.88.BatchNorm2d.running_var\", \"module_list.89.Conv2d.weight\", \"module_list.89.BatchNorm2d.weight\", \"module_list.89.BatchNorm2d.bias\", \"module_list.89.BatchNorm2d.running_mean\", \"module_list.89.BatchNorm2d.running_var\", \"module_list.90.Conv2d.weight\", \"module_list.90.BatchNorm2d.weight\", \"module_list.90.BatchNorm2d.bias\", \"module_list.90.BatchNorm2d.running_mean\", \"module_list.90.BatchNorm2d.running_var\", \"module_list.92.Conv2d.weight\", \"module_list.92.BatchNorm2d.weight\", \"module_list.92.BatchNorm2d.bias\", \"module_list.92.BatchNorm2d.running_mean\", \"module_list.92.BatchNorm2d.running_var\", \"module_list.93.Conv2d.weight\", \"module_list.93.Conv2d.bias\", \"module_list.100.BatchNorm2d.weight\", \"module_list.100.BatchNorm2d.bias\", \"module_list.100.BatchNorm2d.running_mean\", \"module_list.100.BatchNorm2d.running_var\", \"module_list.101.Conv2d.weight\", \"module_list.101.BatchNorm2d.weight\", \"module_list.101.BatchNorm2d.bias\", \"module_list.101.BatchNorm2d.running_mean\", \"module_list.101.BatchNorm2d.running_var\", \"module_list.102.Conv2d.weight\", \"module_list.102.BatchNorm2d.weight\", \"module_list.102.BatchNorm2d.bias\", \"module_list.102.BatchNorm2d.running_mean\", \"module_list.102.BatchNorm2d.running_var\", \"module_list.104.Conv2d.weight\", \"module_list.104.BatchNorm2d.weight\", \"module_list.104.BatchNorm2d.bias\", \"module_list.104.BatchNorm2d.running_mean\", \"module_list.104.BatchNorm2d.running_var\", \"module_list.105.Conv2d.weight\", \"module_list.105.Conv2d.bias\". \r\n\tUnexpected key(s) in state_dict: \"module_list.107.Conv2d.weight\", \"module_list.107.BatchNorm2d.weight\", \"module_list.107.BatchNorm2d.bias\", \"module_list.107.BatchNorm2d.running_mean\", \"module_list.107.BatchNorm2d.running_var\", \"module_list.107.BatchNorm2d.num_batches_tracked\", \"module_list.108.Conv2d.weight\", \"module_list.108.BatchNorm2d.weight\", \"module_list.108.BatchNorm2d.bias\", \"module_list.108.BatchNorm2d.running_mean\", \"module_list.108.BatchNorm2d.running_var\", \"module_list.108.BatchNorm2d.num_batches_tracked\", \"module_list.109.Conv2d.weight\", \"module_list.109.BatchNorm2d.weight\", \"module_list.109.BatchNorm2d.bias\", \"module_list.109.BatchNorm2d.running_mean\", \"module_list.109.BatchNorm2d.running_var\", \"module_list.109.BatchNorm2d.num_batches_tracked\", \"module_list.110.Conv2d.weight\", \"module_list.110.BatchNorm2d.weight\", \"module_list.110.BatchNorm2d.bias\", \"module_list.110.BatchNorm2d.running_mean\", \"module_list.110.BatchNorm2d.running_var\", \"module_list.110.BatchNorm2d.num_batches_tracked\", \"module_list.111.Conv2d.weight\", \"module_list.111.BatchNorm2d.weight\", \"module_list.111.BatchNorm2d.bias\", \"module_list.111.BatchNorm2d.running_mean\", \"module_list.111.BatchNorm2d.running_var\", \"module_list.111.BatchNorm2d.num_batches_tracked\", \"module_list.112.Conv2d.weight\", \"module_list.112.Conv2d.bias\", \"module_list.85.Conv2d.weight\", \"module_list.85.BatchNorm2d.weight\", \"module_list.85.BatchNorm2d.bias\", \"module_list.85.BatchNorm2d.running_mean\", \"module_list.85.BatchNorm2d.running_var\", \"module_list.85.BatchNorm2d.num_batches_tracked\", \"module_list.86.Conv2d.weight\", \"module_list.86.BatchNorm2d.weight\", \"module_list.86.BatchNorm2d.bias\", \"module_list.86.BatchNorm2d.running_mean\", \"module_list.86.BatchNorm2d.running_var\", \"module_list.86.BatchNorm2d.num_batches_tracked\", \"module_list.88.Conv2d.bias\", \"module_list.94.Conv2d.weight\", \"module_list.94.BatchNorm2d.weight\", \"module_list.94.BatchNorm2d.bias\", \"module_list.94.BatchNorm2d.running_mean\", \"module_list.94.BatchNorm2d.running_var\", \"module_list.94.BatchNorm2d.num_batches_tracked\", \"module_list.95.Conv2d.weight\", \"module_list.95.BatchNorm2d.weight\", \"module_list.95.BatchNorm2d.bias\", \"module_list.95.BatchNorm2d.running_mean\", \"module_list.95.BatchNorm2d.running_var\", \"module_list.95.BatchNorm2d.num_batches_tracked\", \"module_list.97.Conv2d.weight\", \"module_list.97.BatchNorm2d.weight\", \"module_list.97.BatchNorm2d.bias\", \"module_list.97.BatchNorm2d.running_mean\", \"module_list.97.BatchNorm2d.running_var\", \"module_list.97.BatchNorm2d.num_batches_tracked\", \"module_list.98.Conv2d.weight\", \"module_list.98.BatchNorm2d.weight\", \"module_list.98.BatchNorm2d.bias\", \"module_list.98.BatchNorm2d.running_mean\", \"module_list.98.BatchNorm2d.running_var\", \"module_list.98.BatchNorm2d.num_batches_tracked\", \"module_list.100.Conv2d.bias\", \"module_list.106.Conv2d.weight\", \"module_list.106.BatchNorm2d.weight\", \"module_list.106.BatchNorm2d.bias\", \"module_list.106.BatchNorm2d.running_mean\", \"module_list.106.BatchNorm2d.running_var\", \"module_list.106.BatchNorm2d.num_batches_tracked\". \r\n\tsize mismatch for module_list.84.Conv2d.weight: copying a param with shape torch.Size([512, 2048, 1, 1]) from checkpoint, the shape in current model is torch.Size([256, 512, 1, 1]).\r\n\tsize mismatch for module_list.84.BatchNorm2d.weight: copying a param with shape torch.Size([512]) from checkpoint, the shape in current model is torch.Size([256]).\r\n\tsize mismatch for module_list.84.BatchNorm2d.bias: copying a param with shape torch.Size([512]) from checkpoint, the shape in current model is torch.Size([256]).\r\n\tsize mismatch for module_list.84.BatchNorm2d.running_mean: copying a param with shape torch.Size([512]) from checkpoint, the shape in current model is torch.Size([256]).\r\n\tsize mismatch for module_list.84.BatchNorm2d.running_var: copying a param with shape torch.Size([512]) from checkpoint, the shape in current model is torch.Size([256]).\r\n\tsize mismatch for module_list.87.Conv2d.weight: copying a param with shape torch.Size([1024, 512, 3, 3]) from checkpoint, the shape in current model is torch.Size([256, 768, 1, 1]).\r\n\tsize mismatch for module_list.87.BatchNorm2d.weight: copying a param with shape torch.Size([1024]) from checkpoint, the shape in current model is torch.Size([256]).\r\n\tsize mismatch for module_list.87.BatchNorm2d.bias: copying a param with shape torch.Size([1024]) from checkpoint, the shape in current model is torch.Size([256]).\r\n\tsize mismatch for module_list.87.BatchNorm2d.running_mean: copying a param with shape torch.Size([1024]) from checkpoint, the shape in current model is torch.Size([256]).\r\n\tsize mismatch for module_list.87.BatchNorm2d.running_var: copying a param with shape torch.Size([1024]) from checkpoint, the shape in current model is torch.Size([256]).\r\n\tsize mismatch for module_list.88.Conv2d.weight: copying a param with shape torch.Size([255, 1024, 1, 1]) from checkpoint, the shape in current model is torch.Size([512, 256, 3, 3]).\r\n\tsize mismatch for module_list.96.Conv2d.weight: copying a param with shape torch.Size([256, 512, 1, 1]) from checkpoint, the shape in current model is torch.Size([128, 256, 1, 1]).\r\n\tsize mismatch for module_list.96.BatchNorm2d.weight: copying a param with shape torch.Size([256]) from checkpoint, the shape in current model is torch.Size([128]).\r\n\tsize mismatch for module_list.96.BatchNorm2d.bias: copying a param with shape torch.Size([256]) from checkpoint, the shape in current model is torch.Size([128]).\r\n\tsize mismatch for module_list.96.BatchNorm2d.running_mean: copying a param with shape torch.Size([256]) from checkpoint, the shape in current model is torch.Size([128]).\r\n\tsize mismatch for module_list.96.BatchNorm2d.running_var: copying a param with shape torch.Size([256]) from checkpoint, the shape in current model is torch.Size([128]).\r\n\tsize mismatch for module_list.99.Conv2d.weight: copying a param with shape torch.Size([512, 256, 3, 3]) from checkpoint, the shape in current model is torch.Size([128, 384, 1, 1]).\r\n\tsize mismatch for module_list.99.BatchNorm2d.weight: copying a param with shape torch.Size([512]) from checkpoint, the shape in current model is torch.Size([128]).\r\n\tsize mismatch for module_list.99.BatchNorm2d.bias: copying a param with shape torch.Size([512]) from checkpoint, the shape in current model is torch.Size([128]).\r\n\tsize mismatch for module_list.99.BatchNorm2d.running_mean: copying a param with shape torch.Size([512]) from checkpoint, the shape in current model is torch.Size([128]).\r\n\tsize mismatch for module_list.99.BatchNorm2d.running_var: copying a param with shape torch.Size([512]) from checkpoint, the shape in current model is torch.Size([128]).\r\n\tsize mismatch for module_list.100.Conv2d.weight: copying a param with shape torch.Size([255, 512, 1, 1]) from checkpoint, the shape in current model is torch.Size([256, 128, 3, 3]).\r\n\r\n**To Reproduce:**\r\nUsed commands: \r\npython3 train.py --data data/coco_16img.data\r\npython3 detect.py --cfg cfg/yolov3.cfg --weights weights/last.pt --source test.jpg\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/500/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/500/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/499", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/499/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/499/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/499/events", "html_url": "https://github.com/ultralytics/yolov3/issues/499", "id": 493706220, "node_id": "MDU6SXNzdWU0OTM3MDYyMjA=", "number": 499, "title": "Training was interrupted after the first epoch", "user": {"login": "TOMLEUNGKS", "id": 51043693, "node_id": "MDQ6VXNlcjUxMDQzNjkz", "avatar_url": "https://avatars.githubusercontent.com/u/51043693?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TOMLEUNGKS", "html_url": "https://github.com/TOMLEUNGKS", "followers_url": "https://api.github.com/users/TOMLEUNGKS/followers", "following_url": "https://api.github.com/users/TOMLEUNGKS/following{/other_user}", "gists_url": "https://api.github.com/users/TOMLEUNGKS/gists{/gist_id}", "starred_url": "https://api.github.com/users/TOMLEUNGKS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TOMLEUNGKS/subscriptions", "organizations_url": "https://api.github.com/users/TOMLEUNGKS/orgs", "repos_url": "https://api.github.com/users/TOMLEUNGKS/repos", "events_url": "https://api.github.com/users/TOMLEUNGKS/events{/privacy}", "received_events_url": "https://api.github.com/users/TOMLEUNGKS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-09-15T07:36:47Z", "updated_at": "2023-04-21T21:09:30Z", "closed_at": "2019-09-18T10:09:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using AWS EC2 to train a custom model with my own dataset (6 classes, 12594 images in total). After the first epoch, the training was interrupted. And here is the error log:\r\n\r\n\r\n[ec2-user@ip-172-31-4-237 yolo_retrain_v2]$ python3 train.py --cfg cfg/yolov3.cfg --weights weights/yolov3.weights --epochs 500\r\nFontconfig warning: ignoring UTF-8: not a valid region tag\r\nNamespace(accumulate=2, adam=False, arc='defaultpw', batch_size=32, bucket='', cache_images=False, cfg='cfg/yolov3.cfg', data='data/coco.data', device='', epochs=500, evolve=False, img_size=416, img_weights=False, multi_scale=False, name='', nosave=False, notest=False, prebias=False, rect=False, resume=False, transfer=False, var=None, weights='weights/yolov3.weights')\r\nUsing CUDA device0 _CudaDeviceProperties(name='Tesla K80', total_memory=11441MB)\r\n           device1 _CudaDeviceProperties(name='Tesla K80', total_memory=11441MB)\r\n           device2 _CudaDeviceProperties(name='Tesla K80', total_memory=11441MB)\r\n           device3 _CudaDeviceProperties(name='Tesla K80', total_memory=11441MB)\r\n           device4 _CudaDeviceProperties(name='Tesla K80', total_memory=11441MB)\r\n           device5 _CudaDeviceProperties(name='Tesla K80', total_memory=11441MB)\r\n           device6 _CudaDeviceProperties(name='Tesla K80', total_memory=11441MB)\r\n           device7 _CudaDeviceProperties(name='Tesla K80', total_memory=11441MB)\r\n\r\nReading labels (12594 found, 0 missing, 0 empty for 12594 images): 100%|##########################################################| 12594/12594 [00:00<00:00, 16385.53it/s]\r\nModel Summary: 222 layers, 6.15507e+07 parameters, 6.15507e+07 gradients\r\nStarting training for 500 epochs...\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n     0/499     2.95G      1.55      2.87      13.7      18.1        18       416: 100%|##################################################| 394/394 [07:04<00:00,  1.08s/it]\r\n               Class    Images   Targets         P         R       mAP        F1: 100%|######################################################| 2/2 [00:06<00:00,  3.04s/it]\r\n                 all        60        64     0.503     0.896     0.827     0.614\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n  0%|                                                                                                                                              | 0/394 [00:00<?, ?it/s]Traceback (most recent call last):\r\n  File \"train.py\", line 415, in <module>\r\n    train()  # train normally\r\n  File \"train.py\", line 261, in train\r\n    pred = model(imgs)\r\n  File \"/home/ec2-user/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 547, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/ec2-user/anaconda3/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 459, in forward\r\n    self.reducer.prepare_for_backward([])\r\nRuntimeError: Expected to have finished reduction in the prior iteration before starting a new one. This error indicates that your module has parameters that were not used in producing loss. You can enable unused parameter detection by (1) passing the keyword argument `find_unused_parameters=True` to `torch.nn.parallel.DistributedDataParallel`; (2) making sure all `forward` function outputs participate in calculating loss. If you already have done the above two steps, then the distributed data parallel module wasn't able to locate the output tensors in the return value of your module's `forward` function. Please include the loss function and the structure of the return value of `forward` of your module when reporting this issue (e.g. list, dict, iterable). (prepare_for_backward at /pytorch/torch/csrc/distributed/c10d/reducer.cpp:518)\r\nframe #0: c10::Error::Error(c10::SourceLocation, std::string const&) + 0x33 (0x7f08ce370273 in /home/ec2-user/anaconda3/lib/python3.6/site-packages/torch/lib/libc10.so)\r\nframe #1: c10d::Reducer::prepare_for_backward(std::vector<torch::autograd::Variable, std::allocator<torch::autograd::Variable> > const&) + 0x734 (0x7f0918c3c9e4 in /home/ec2-user/anaconda3/lib/python3.6/site-packages/torch/lib/libtorch_python.so)\r\nframe #2: <unknown function> + 0x691a4c (0x7f0918c2ba4c in /home/ec2-user/anaconda3/lib/python3.6/site-packages/torch/lib/libtorch_python.so)\r\nframe #3: <unknown function> + 0x1d3ef4 (0x7f091876def4 in /home/ec2-user/anaconda3/lib/python3.6/site-packages/torch/lib/libtorch_python.so)\r\n<omitting python frames>\r\nframe #33: __libc_start_main + 0xf5 (0x7f092c5af445 in /lib64/libc.so.6)\r\n\r\nException in thread Thread-3172:\r\nTraceback (most recent call last):\r\n  File \"/home/ec2-user/anaconda3/lib/python3.6/threading.py\", line 916, in _bootstrap_inner\r\n    self.run()\r\n  File \"/home/ec2-user/anaconda3/lib/python3.6/threading.py\", line 864, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/home/ec2-user/anaconda3/lib/python3.6/site-packages/torch/utils/data/_utils/pin_memory.py\", line 21, in _pin_memory_loop\r\n    r = in_queue.get(timeout=MP_STATUS_CHECK_INTERVAL)\r\n  File \"/home/ec2-user/anaconda3/lib/python3.6/multiprocessing/queues.py\", line 113, in get\r\n    return _ForkingPickler.loads(res)\r\n  File \"/home/ec2-user/anaconda3/lib/python3.6/site-packages/torch/multiprocessing/reductions.py\", line 284, in rebuild_storage_fd\r\n    fd = df.detach()\r\n  File \"/home/ec2-user/anaconda3/lib/python3.6/multiprocessing/resource_sharer.py\", line 57, in detach\r\n    with _resource_sharer.get_connection(self._id) as conn:\r\n  File \"/home/ec2-user/anaconda3/lib/python3.6/multiprocessing/resource_sharer.py\", line 87, in get_connection\r\n    c = Client(address, authkey=process.current_process().authkey)\r\n  File \"/home/ec2-user/anaconda3/lib/python3.6/multiprocessing/connection.py\", line 493, in Client\r\n    answer_challenge(c, authkey)\r\n  File \"/home/ec2-user/anaconda3/lib/python3.6/multiprocessing/connection.py\", line 732, in answer_challenge\r\n    message = connection.recv_bytes(256)         # reject large message\r\n  File \"/home/ec2-user/anaconda3/lib/python3.6/multiprocessing/connection.py\", line 216, in recv_bytes\r\n    buf = self._recv_bytes(maxlength)\r\n  File \"/home/ec2-user/anaconda3/lib/python3.6/multiprocessing/connection.py\", line 407, in _recv_bytes\r\n    buf = self._recv(4)\r\n  File \"/home/ec2-user/anaconda3/lib/python3.6/multiprocessing/connection.py\", line 379, in _recv\r\n    chunk = read(handle, remaining)\r\nConnectionResetError: [Errno 104] Connection reset by peer\r\n\r\n\r\nMay I know how this error can be fixed? I tried --nosave, but the error was the same. Thank you so much for your generous help!\r\n\r\nRegards,\r\nTom\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/496", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/496/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/496/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/496/events", "html_url": "https://github.com/ultralytics/yolov3/issues/496", "id": 492142393, "node_id": "MDU6SXNzdWU0OTIxNDIzOTM=", "number": 496, "title": "WARNING: nan loss detected, ending training", "user": {"login": "broliao", "id": 49137103, "node_id": "MDQ6VXNlcjQ5MTM3MTAz", "avatar_url": "https://avatars.githubusercontent.com/u/49137103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/broliao", "html_url": "https://github.com/broliao", "followers_url": "https://api.github.com/users/broliao/followers", "following_url": "https://api.github.com/users/broliao/following{/other_user}", "gists_url": "https://api.github.com/users/broliao/gists{/gist_id}", "starred_url": "https://api.github.com/users/broliao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/broliao/subscriptions", "organizations_url": "https://api.github.com/users/broliao/orgs", "repos_url": "https://api.github.com/users/broliao/repos", "events_url": "https://api.github.com/users/broliao/events{/privacy}", "received_events_url": "https://api.github.com/users/broliao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-11T10:09:56Z", "updated_at": "2020-07-07T06:31:39Z", "closed_at": "2019-09-16T17:04:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "thank you for your great work.\r\nwhen i run **python3 train.py --transfer** ,i get this erro,Could you tell me how can i solve it,thanks!\r\n\r\nNamespace(accumulate=1, arc='default', batch_size=16, bucket='', cache_images=False, cfg='cfg/yolov3-spp.cfg', data='data/coco.data', epochs=273, evolve=False, img_size=416, img_weights=False, multi_scale=False, nosave=False, notest=False, prebias=False, rect=False, resume=False, transfer=True, weights='')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1060 6GB', total_memory=6078MB)\r\n\r\nReading labels (117263 found, 0 missing, 0 empty for 117263 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 117263/117263 [10:34<00:00, 184.85it/s]\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 457725 gradients\r\n\r\n     Epoch   gpu_mem      GIoU       obj       cls     total   targets  img_size\r\n     0/272     2.29G      4.21      27.8      6.75      38.8        94       416:   1%|\u258f         | 102/7329 [00:44<37:37,  3.20it/s]Exception ignored in: <bound method tqdm.__del__ of      0/272     2.29G      4.21      27.8      6.75      38.8        94       416:   1%|\u258f         | 102/7329 [00:44<37:37,  3.20it/s]>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/dist-packages/tqdm/_tqdm.py\", line 931, in __del__\r\nWARNING: nan loss detected, ending training", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/496/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/495", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/495/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/495/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/495/events", "html_url": "https://github.com/ultralytics/yolov3/issues/495", "id": 491956875, "node_id": "MDU6SXNzdWU0OTE5NTY4NzU=", "number": 495, "title": " When using webcam, a window is displayed for each frame.", "user": {"login": "Fizunimo", "id": 50652516, "node_id": "MDQ6VXNlcjUwNjUyNTE2", "avatar_url": "https://avatars.githubusercontent.com/u/50652516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fizunimo", "html_url": "https://github.com/Fizunimo", "followers_url": "https://api.github.com/users/Fizunimo/followers", "following_url": "https://api.github.com/users/Fizunimo/following{/other_user}", "gists_url": "https://api.github.com/users/Fizunimo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fizunimo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fizunimo/subscriptions", "organizations_url": "https://api.github.com/users/Fizunimo/orgs", "repos_url": "https://api.github.com/users/Fizunimo/repos", "events_url": "https://api.github.com/users/Fizunimo/events{/privacy}", "received_events_url": "https://api.github.com/users/Fizunimo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-11T00:25:47Z", "updated_at": "2019-09-11T13:15:52Z", "closed_at": "2019-09-11T13:15:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using webcam, a window is displayed for each frame.\r\n\r\nThe window name on line 107 of detect.py is a variable.\r\nThis causes another window to be displayed each time the frame changes.\r\nShouldn't the window name be a fixed value?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/495/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/495/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/493", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/493/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/493/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/493/events", "html_url": "https://github.com/ultralytics/yolov3/issues/493", "id": 491422355, "node_id": "MDU6SXNzdWU0OTE0MjIzNTU=", "number": 493, "title": "About batchsize and epoch", "user": {"login": "kaaier", "id": 32322056, "node_id": "MDQ6VXNlcjMyMzIyMDU2", "avatar_url": "https://avatars.githubusercontent.com/u/32322056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaaier", "html_url": "https://github.com/kaaier", "followers_url": "https://api.github.com/users/kaaier/followers", "following_url": "https://api.github.com/users/kaaier/following{/other_user}", "gists_url": "https://api.github.com/users/kaaier/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaaier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaaier/subscriptions", "organizations_url": "https://api.github.com/users/kaaier/orgs", "repos_url": "https://api.github.com/users/kaaier/repos", "events_url": "https://api.github.com/users/kaaier/events{/privacy}", "received_events_url": "https://api.github.com/users/kaaier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-10T02:55:18Z", "updated_at": "2019-09-14T19:39:15Z", "closed_at": "2019-09-14T19:39:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Why did I set batchsize and epoch, but the number of steps was not consistent, such as 100 pictures, batchsize=1, epoch=1, so there should be 100 bacth, but no matter how I set it, bacth is 50, may I ask what caused this?\r\n\r\n\r\nPlease\uff01\uff01\uff01\uff01\uff01\uff01", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/493/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/492", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/492/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/492/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/492/events", "html_url": "https://github.com/ultralytics/yolov3/issues/492", "id": 491235008, "node_id": "MDU6SXNzdWU0OTEyMzUwMDg=", "number": 492, "title": "how to convert darknet53.conv.74 to yolov3 format?", "user": {"login": "zaitoun90", "id": 16225773, "node_id": "MDQ6VXNlcjE2MjI1Nzcz", "avatar_url": "https://avatars.githubusercontent.com/u/16225773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaitoun90", "html_url": "https://github.com/zaitoun90", "followers_url": "https://api.github.com/users/zaitoun90/followers", "following_url": "https://api.github.com/users/zaitoun90/following{/other_user}", "gists_url": "https://api.github.com/users/zaitoun90/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaitoun90/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaitoun90/subscriptions", "organizations_url": "https://api.github.com/users/zaitoun90/orgs", "repos_url": "https://api.github.com/users/zaitoun90/repos", "events_url": "https://api.github.com/users/zaitoun90/events{/privacy}", "received_events_url": "https://api.github.com/users/zaitoun90/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-09T17:46:37Z", "updated_at": "2019-09-18T12:47:20Z", "closed_at": "2019-09-18T12:47:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Actually, I have converted yolov3.weights to yolov3.pt by using the convert function.\r\nbut when I tried to convert darknet53.conv.74  does not work.\r\n\r\nDo you know how should convert darknet53.conv.74   weights!?\r\n\r\nthanks", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/492/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/492/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/491", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/491/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/491/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/491/events", "html_url": "https://github.com/ultralytics/yolov3/issues/491", "id": 491079797, "node_id": "MDU6SXNzdWU0OTEwNzk3OTc=", "number": 491, "title": "Cuda memory ", "user": {"login": "centurions", "id": 15854687, "node_id": "MDQ6VXNlcjE1ODU0Njg3", "avatar_url": "https://avatars.githubusercontent.com/u/15854687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/centurions", "html_url": "https://github.com/centurions", "followers_url": "https://api.github.com/users/centurions/followers", "following_url": "https://api.github.com/users/centurions/following{/other_user}", "gists_url": "https://api.github.com/users/centurions/gists{/gist_id}", "starred_url": "https://api.github.com/users/centurions/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/centurions/subscriptions", "organizations_url": "https://api.github.com/users/centurions/orgs", "repos_url": "https://api.github.com/users/centurions/repos", "events_url": "https://api.github.com/users/centurions/events{/privacy}", "received_events_url": "https://api.github.com/users/centurions/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-09T12:56:57Z", "updated_at": "2019-09-10T08:43:49Z", "closed_at": "2019-09-10T08:43:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi . thank you for your great work \r\n\r\nHow can I fix this ? (training mode)\r\n \r\nRuntimeError: CUDA out of memory. Tried to allocate 338.00 MiB (GPU 0; 3.95 GiB total capacity; 1.62 GiB already allocated; 23.00 MiB free; 9.10 MiB cached)", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/491/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/490", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/490/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/490/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/490/events", "html_url": "https://github.com/ultralytics/yolov3/issues/490", "id": 490956807, "node_id": "MDU6SXNzdWU0OTA5NTY4MDc=", "number": 490, "title": "unable to write to file </torch_*>", "user": {"login": "fengxingxiang", "id": 40738236, "node_id": "MDQ6VXNlcjQwNzM4MjM2", "avatar_url": "https://avatars.githubusercontent.com/u/40738236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fengxingxiang", "html_url": "https://github.com/fengxingxiang", "followers_url": "https://api.github.com/users/fengxingxiang/followers", "following_url": "https://api.github.com/users/fengxingxiang/following{/other_user}", "gists_url": "https://api.github.com/users/fengxingxiang/gists{/gist_id}", "starred_url": "https://api.github.com/users/fengxingxiang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fengxingxiang/subscriptions", "organizations_url": "https://api.github.com/users/fengxingxiang/orgs", "repos_url": "https://api.github.com/users/fengxingxiang/repos", "events_url": "https://api.github.com/users/fengxingxiang/events{/privacy}", "received_events_url": "https://api.github.com/users/fengxingxiang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-09T08:35:37Z", "updated_at": "2019-09-09T09:51:49Z", "closed_at": "2019-09-09T09:51:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run\r\n```\r\npython3 train.py --cfg ../voc/train.cfg --data ../voc/voc.data --weights ../voc/backup/train_50000_0.226390_0.241525.weights\r\n```\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/multiprocessing/queues.py\", line 234, in _feed\r\n    obj = _ForkingPickler.dumps(obj)\r\n  File \"/usr/lib/python3.6/multiprocessing/reduction.py\", line 51, in dumps\r\n    cls(buf, protocol).dump(obj)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/multiprocessing/reductions.py\", line 323, in reduce_storage\r\n    fd, size = storage._share_fd_()\r\nRuntimeError: unable to write to file </torch_1131_1226038649>\r\n\r\nPlease help me to address the bugs.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/490/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/489", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/489/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/489/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/489/events", "html_url": "https://github.com/ultralytics/yolov3/issues/489", "id": 490896202, "node_id": "MDU6SXNzdWU0OTA4OTYyMDI=", "number": 489, "title": "Incorrect screenshot in the transfer learning wiki", "user": {"login": "dselivanov", "id": 5123805, "node_id": "MDQ6VXNlcjUxMjM4MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5123805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dselivanov", "html_url": "https://github.com/dselivanov", "followers_url": "https://api.github.com/users/dselivanov/followers", "following_url": "https://api.github.com/users/dselivanov/following{/other_user}", "gists_url": "https://api.github.com/users/dselivanov/gists{/gist_id}", "starred_url": "https://api.github.com/users/dselivanov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dselivanov/subscriptions", "organizations_url": "https://api.github.com/users/dselivanov/orgs", "repos_url": "https://api.github.com/users/dselivanov/repos", "events_url": "https://api.github.com/users/dselivanov/events{/privacy}", "received_events_url": "https://api.github.com/users/dselivanov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-09T06:13:37Z", "updated_at": "2019-09-12T10:27:14Z", "closed_at": "2019-09-12T10:27:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Screenshot [here](https://github.com/ultralytics/yolov3/wiki/Example:-Transfer-Learning#transfer-learning) is screenshot of the vanilla yolo-v3 network (not SPP)\r\n![](https://user-images.githubusercontent.com/26833433/55468450-abe03900-5603-11e9-9c45-fd83183c38b8.png)", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/489/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/489/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/488", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/488/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/488/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/488/events", "html_url": "https://github.com/ultralytics/yolov3/issues/488", "id": 490704646, "node_id": "MDU6SXNzdWU0OTA3MDQ2NDY=", "number": 488, "title": "N target is 0 when training ?", "user": {"login": "ThorPham", "id": 33828708, "node_id": "MDQ6VXNlcjMzODI4NzA4", "avatar_url": "https://avatars.githubusercontent.com/u/33828708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThorPham", "html_url": "https://github.com/ThorPham", "followers_url": "https://api.github.com/users/ThorPham/followers", "following_url": "https://api.github.com/users/ThorPham/following{/other_user}", "gists_url": "https://api.github.com/users/ThorPham/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThorPham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThorPham/subscriptions", "organizations_url": "https://api.github.com/users/ThorPham/orgs", "repos_url": "https://api.github.com/users/ThorPham/repos", "events_url": "https://api.github.com/users/ThorPham/events{/privacy}", "received_events_url": "https://api.github.com/users/ThorPham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-08T03:15:40Z", "updated_at": "2023-04-21T21:09:33Z", "closed_at": "2019-09-11T13:16:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I don't know when i training MAP is NA and ntarget is 0 . I follow by guidelines\r\ncan you explained this code ?\r\nhttps://github.com/ultralytics/yolov3/blob/641996ecdf50cb14b1c2d4f9d44384fe0da6f8e0/utils/datasets.py#L327\r\nThank so much", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/488/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/488/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/487", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/487/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/487/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/487/events", "html_url": "https://github.com/ultralytics/yolov3/issues/487", "id": 490620942, "node_id": "MDU6SXNzdWU0OTA2MjA5NDI=", "number": 487, "title": "mAP = 0 for single-class training", "user": {"login": "rinabuoy", "id": 9147160, "node_id": "MDQ6VXNlcjkxNDcxNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/9147160?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rinabuoy", "html_url": "https://github.com/rinabuoy", "followers_url": "https://api.github.com/users/rinabuoy/followers", "following_url": "https://api.github.com/users/rinabuoy/following{/other_user}", "gists_url": "https://api.github.com/users/rinabuoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/rinabuoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rinabuoy/subscriptions", "organizations_url": "https://api.github.com/users/rinabuoy/orgs", "repos_url": "https://api.github.com/users/rinabuoy/repos", "events_url": "https://api.github.com/users/rinabuoy/events{/privacy}", "received_events_url": "https://api.github.com/users/rinabuoy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-09-07T10:43:43Z", "updated_at": "2023-04-21T21:09:34Z", "closed_at": "2019-09-09T00:39:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi All, \r\nI am working on single-class training. I noticed that the mAPs for the first two iterations are 0. Is it normal? Or there is something wrong ?\r\n\r\nThanks, \r\n\r\nRina\r\n![image](https://user-images.githubusercontent.com/9147160/64473918-02473a00-d197-11e9-94c3-4461739e11ed.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/487/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/483", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/483/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/483/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/483/events", "html_url": "https://github.com/ultralytics/yolov3/issues/483", "id": 489202992, "node_id": "MDU6SXNzdWU0ODkyMDI5OTI=", "number": 483, "title": "targets tensor", "user": {"login": "rinabuoy", "id": 9147160, "node_id": "MDQ6VXNlcjkxNDcxNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/9147160?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rinabuoy", "html_url": "https://github.com/rinabuoy", "followers_url": "https://api.github.com/users/rinabuoy/followers", "following_url": "https://api.github.com/users/rinabuoy/following{/other_user}", "gists_url": "https://api.github.com/users/rinabuoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/rinabuoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rinabuoy/subscriptions", "organizations_url": "https://api.github.com/users/rinabuoy/orgs", "repos_url": "https://api.github.com/users/rinabuoy/repos", "events_url": "https://api.github.com/users/rinabuoy/events{/privacy}", "received_events_url": "https://api.github.com/users/rinabuoy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-04T14:39:03Z", "updated_at": "2019-09-04T15:57:28Z", "closed_at": "2019-09-04T15:57:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi All, \r\n\r\nIn the targets tensor (utils.py, line 380), the targets tensor is [image, class, x, y, w, h]. My question is about 'image'. What is it for ? its value seems always zero. \r\n\r\nAppreciate any clarification.\r\n\r\nThank you,\r\n\r\nRina\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/483/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/483/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/482", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/482/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/482/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/482/events", "html_url": "https://github.com/ultralytics/yolov3/issues/482", "id": 489091132, "node_id": "MDU6SXNzdWU0ODkwOTExMzI=", "number": 482, "title": "AssertionError: No labels found. Recommend correcting image and label paths", "user": {"login": "Rajasekhar06", "id": 53042276, "node_id": "MDQ6VXNlcjUzMDQyMjc2", "avatar_url": "https://avatars.githubusercontent.com/u/53042276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rajasekhar06", "html_url": "https://github.com/Rajasekhar06", "followers_url": "https://api.github.com/users/Rajasekhar06/followers", "following_url": "https://api.github.com/users/Rajasekhar06/following{/other_user}", "gists_url": "https://api.github.com/users/Rajasekhar06/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rajasekhar06/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rajasekhar06/subscriptions", "organizations_url": "https://api.github.com/users/Rajasekhar06/orgs", "repos_url": "https://api.github.com/users/Rajasekhar06/repos", "events_url": "https://api.github.com/users/Rajasekhar06/events{/privacy}", "received_events_url": "https://api.github.com/users/Rajasekhar06/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2019-09-04T11:02:18Z", "updated_at": "2023-04-21T21:09:36Z", "closed_at": "2019-09-16T11:51:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "![Screenshot from 2019-09-04 16-29-57](https://user-images.githubusercontent.com/53042276/64249504-6bc60f00-cf31-11e9-9d32-ade9c4c5e89d.png)\r\n\r\nwhere should I set the path for my dataset ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/482/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/482/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/474", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/474/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/474/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/474/events", "html_url": "https://github.com/ultralytics/yolov3/issues/474", "id": 486262290, "node_id": "MDU6SXNzdWU0ODYyNjIyOTA=", "number": 474, "title": "IndexError in dataset.py", "user": {"login": "Santhosh1509", "id": 50985246, "node_id": "MDQ6VXNlcjUwOTg1MjQ2", "avatar_url": "https://avatars.githubusercontent.com/u/50985246?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Santhosh1509", "html_url": "https://github.com/Santhosh1509", "followers_url": "https://api.github.com/users/Santhosh1509/followers", "following_url": "https://api.github.com/users/Santhosh1509/following{/other_user}", "gists_url": "https://api.github.com/users/Santhosh1509/gists{/gist_id}", "starred_url": "https://api.github.com/users/Santhosh1509/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Santhosh1509/subscriptions", "organizations_url": "https://api.github.com/users/Santhosh1509/orgs", "repos_url": "https://api.github.com/users/Santhosh1509/repos", "events_url": "https://api.github.com/users/Santhosh1509/events{/privacy}", "received_events_url": "https://api.github.com/users/Santhosh1509/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-28T09:28:32Z", "updated_at": "2023-04-21T21:09:42Z", "closed_at": "2019-08-28T12:25:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/50985246/63843326-d7453500-c9a3-11e9-9209-98f6859edb14.png)\r\n\r\n**Describe the bug**\r\nIndexError in dataset.py\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Ubuntu - Version 18.04\r\n - Python version: 3.6.5\r\n\r\nused command `python train.py --transfer`", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/474/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/474/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/471", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/471/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/471/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/471/events", "html_url": "https://github.com/ultralytics/yolov3/issues/471", "id": 484901175, "node_id": "MDU6SXNzdWU0ODQ5MDExNzU=", "number": 471, "title": "Problems when using opencv to read network", "user": {"login": "ShawnCheung123", "id": 31264474, "node_id": "MDQ6VXNlcjMxMjY0NDc0", "avatar_url": "https://avatars.githubusercontent.com/u/31264474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ShawnCheung123", "html_url": "https://github.com/ShawnCheung123", "followers_url": "https://api.github.com/users/ShawnCheung123/followers", "following_url": "https://api.github.com/users/ShawnCheung123/following{/other_user}", "gists_url": "https://api.github.com/users/ShawnCheung123/gists{/gist_id}", "starred_url": "https://api.github.com/users/ShawnCheung123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ShawnCheung123/subscriptions", "organizations_url": "https://api.github.com/users/ShawnCheung123/orgs", "repos_url": "https://api.github.com/users/ShawnCheung123/repos", "events_url": "https://api.github.com/users/ShawnCheung123/events{/privacy}", "received_events_url": "https://api.github.com/users/ShawnCheung123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-08-25T07:36:49Z", "updated_at": "2019-08-26T12:22:09Z", "closed_at": "2019-08-26T12:22:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello! Nice of you to share this great work.\r\nI currently have some proplems using cv2 to reproduce the work.\r\nI have already trained a weight on my custom dataset and works well on your code.\r\nI am trying to use opencv to read the network, by using cv2.dnn.readNetFromDarknet. \r\nHowever, nothing is detected. The network is loaded successfully.\r\nDo you have any idea on this issue.\r\nLooking forward to your kind reply.\r\n\r\nMy opencv job basically follows[https://github.com/PySimpleGUI/PySimpleGUI/blob/master/YoloObjectDetection/yolo.py](url)", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/471/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/471/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/467", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/467/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/467/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/467/events", "html_url": "https://github.com/ultralytics/yolov3/issues/467", "id": 484369438, "node_id": "MDU6SXNzdWU0ODQzNjk0Mzg=", "number": 467, "title": "training got stuck when working out the mAP", "user": {"login": "TOMLEUNGKS", "id": 51043693, "node_id": "MDQ6VXNlcjUxMDQzNjkz", "avatar_url": "https://avatars.githubusercontent.com/u/51043693?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TOMLEUNGKS", "html_url": "https://github.com/TOMLEUNGKS", "followers_url": "https://api.github.com/users/TOMLEUNGKS/followers", "following_url": "https://api.github.com/users/TOMLEUNGKS/following{/other_user}", "gists_url": "https://api.github.com/users/TOMLEUNGKS/gists{/gist_id}", "starred_url": "https://api.github.com/users/TOMLEUNGKS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TOMLEUNGKS/subscriptions", "organizations_url": "https://api.github.com/users/TOMLEUNGKS/orgs", "repos_url": "https://api.github.com/users/TOMLEUNGKS/repos", "events_url": "https://api.github.com/users/TOMLEUNGKS/events{/privacy}", "received_events_url": "https://api.github.com/users/TOMLEUNGKS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-08-23T07:19:27Z", "updated_at": "2019-08-24T11:28:27Z", "closed_at": "2019-08-23T18:18:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello! First of all, thanks for all the contributors to this amazing project. I was trying to train a model with 4 classes, by custom data (containing 1,233 images). And I followed the tutorial: https://github.com/ultralytics/yolov3/wiki/Train-Custom-Data\r\n\r\nWhen I started training, it got stuck at epoch 0 when working out the mAP without any error. Here's how it looks like:\r\n\r\n![Screenshot 2019-08-23 at 3 15 36 PM](https://user-images.githubusercontent.com/51043693/63573933-30ceed80-c5b9-11e9-9042-0447db39815e.png)\r\n\r\nThis is where it stops. \r\n\r\nDoes anyone have any idea on how to solve this issue? Million thanks!! \r\n\r\n(here's the link to the all the files: https://github.com/TOMLEUNGKS/YOLO_V4.git)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/467/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/467/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/466", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/466/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/466/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/466/events", "html_url": "https://github.com/ultralytics/yolov3/issues/466", "id": 484367780, "node_id": "MDU6SXNzdWU0ODQzNjc3ODA=", "number": 466, "title": "can not run train.py YOLOLayer' object has no attribute 'ng'", "user": {"login": "AnmachenGuo", "id": 21275962, "node_id": "MDQ6VXNlcjIxMjc1OTYy", "avatar_url": "https://avatars.githubusercontent.com/u/21275962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AnmachenGuo", "html_url": "https://github.com/AnmachenGuo", "followers_url": "https://api.github.com/users/AnmachenGuo/followers", "following_url": "https://api.github.com/users/AnmachenGuo/following{/other_user}", "gists_url": "https://api.github.com/users/AnmachenGuo/gists{/gist_id}", "starred_url": "https://api.github.com/users/AnmachenGuo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AnmachenGuo/subscriptions", "organizations_url": "https://api.github.com/users/AnmachenGuo/orgs", "repos_url": "https://api.github.com/users/AnmachenGuo/repos", "events_url": "https://api.github.com/users/AnmachenGuo/events{/privacy}", "received_events_url": "https://api.github.com/users/AnmachenGuo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-23T07:14:52Z", "updated_at": "2023-04-21T21:09:45Z", "closed_at": "2019-08-23T10:19:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"train_ghs.py\", line 396, in <module>\r\n    accumulate=opt.accumulate)\r\n  File \"train_ghs.py\", line 272, in train\r\n    loss, loss_items = compute_loss(pred, targets, model)\r\n  File \"/data1/ghs/yolov3/utils/utils.py\", line 318, in compute_loss\r\n    tcls, tbox, indices, anchor_vec = build_targets(model, targets)\r\n  File \"/data1/ghs/yolov3/utils/utils.py\", line 388, in build_targets\r\n    ng, anchor_vec = model.module.module_list[i].ng, model.module.module_list[i].anchor_vec\r\n  File \"/usr/local/anaconda3/lib/python3.5/site-packages/torch/nn/modules/module.py\", line 539, in __getattr__\r\n    type(self).__name__, name))\r\nAttributeError: 'YOLOLayer' object has no attribute 'ng'", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/466/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/465", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/465/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/465/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/465/events", "html_url": "https://github.com/ultralytics/yolov3/issues/465", "id": 483721112, "node_id": "MDU6SXNzdWU0ODM3MjExMTI=", "number": 465, "title": "test mAP: img-size 416  is bigger than img-size 608", "user": {"login": "zhzgithub", "id": 30263132, "node_id": "MDQ6VXNlcjMwMjYzMTMy", "avatar_url": "https://avatars.githubusercontent.com/u/30263132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhzgithub", "html_url": "https://github.com/zhzgithub", "followers_url": "https://api.github.com/users/zhzgithub/followers", "following_url": "https://api.github.com/users/zhzgithub/following{/other_user}", "gists_url": "https://api.github.com/users/zhzgithub/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhzgithub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhzgithub/subscriptions", "organizations_url": "https://api.github.com/users/zhzgithub/orgs", "repos_url": "https://api.github.com/users/zhzgithub/repos", "events_url": "https://api.github.com/users/zhzgithub/events{/privacy}", "received_events_url": "https://api.github.com/users/zhzgithub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-22T01:21:37Z", "updated_at": "2019-09-26T11:03:41Z", "closed_at": "2019-09-26T11:03:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello! When I test my model, the mAP of img-size 416  is bigger than img-size 608. What's wrong? Looking forward to your reply\uff01\r\n608:\r\n```\r\nNamespace(batch_size=16, cfg='cfg/yolov3-voc.cfg', conf_thres=0.001, data='data/voc.data', gpus='3', img_size=608, iou_thres=0.5, nms_thres=0.5, save_json=False, weights='weights/last.pt')           \r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1080 Ti', total_memory=11178MB)\r\n\r\n                         Class    Images   Targets         P         R       mAP        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 310/310 [08:24<00:00,  1.63s/it]\r\n                           all  4.95e+03   1.2e+04    0.0301     0.892     0.642     0.058\r\n```\r\n\r\n416:\r\n```\r\nNamespace(batch_size=16, cfg='cfg/yolov3-voc.cfg', conf_thres=0.001, data='data/voc.data', gpus='1', img_size=416, iou_thres=0.5, nms_thres=0.5, save_json=False, weights='weights/best.pt')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1080 Ti', total_memory=11178MB)\r\n\r\n                         Class    Images   Targets         P         R       mAP        F1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 310/310 [06:30<00:00,  1.26s/it]\r\n                           all  4.95e+03   1.2e+04    0.0531     0.878     0.695    0.0983\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/465/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/465/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/462", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/462/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/462/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/462/events", "html_url": "https://github.com/ultralytics/yolov3/issues/462", "id": 482743540, "node_id": "MDU6SXNzdWU0ODI3NDM1NDA=", "number": 462, "title": "Hyperparamets", "user": {"login": "varghesealex90", "id": 10129358, "node_id": "MDQ6VXNlcjEwMTI5MzU4", "avatar_url": "https://avatars.githubusercontent.com/u/10129358?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varghesealex90", "html_url": "https://github.com/varghesealex90", "followers_url": "https://api.github.com/users/varghesealex90/followers", "following_url": "https://api.github.com/users/varghesealex90/following{/other_user}", "gists_url": "https://api.github.com/users/varghesealex90/gists{/gist_id}", "starred_url": "https://api.github.com/users/varghesealex90/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varghesealex90/subscriptions", "organizations_url": "https://api.github.com/users/varghesealex90/orgs", "repos_url": "https://api.github.com/users/varghesealex90/repos", "events_url": "https://api.github.com/users/varghesealex90/events{/privacy}", "received_events_url": "https://api.github.com/users/varghesealex90/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-20T09:19:47Z", "updated_at": "2019-08-20T10:21:07Z", "closed_at": "2019-08-20T10:21:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using Alexy's github page (https://github.com/AlexeyAB/darknet) and using the this cfg \r\n[https://github.com/PengyiZhang/SlimYOLOv3/blob/master/cfg/00-unpruned/yolov3-spp3.cfg](url) I was able to mAP of 82.  Apart from the number of classes, no other changes in hyper-parameters were made. \r\nI would like to replicate the same using ultralytics. Can someone please tell how to change the hyper-parameters in ultralytics accordingly. I see parameters such as \r\n\r\n'giou': 1.582,  # giou loss gain\r\n       'xy': 4.688,  # xy loss gain\r\n       'wh': 0.1857,  # wh loss gain\r\n       'cls': 27.76,  # cls loss gain  (CE=~1.0, uCE=~20, uBCE=~200,~30)\r\n       'cls_pw': 1.446,  # cls BCELoss positive_weight\r\n       'obj': 21.35,  # obj loss gain\r\n       'obj_pw': 3.941,  # obj BCELoss positive_weight\r\n       'iou_t': 0.2635,  # iou training threshold\r\n       'lr0': 0.002324\r\n\r\nWhere can see these hyperparametrs in the original yolov3 implementation\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/462/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/454", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/454/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/454/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/454/events", "html_url": "https://github.com/ultralytics/yolov3/issues/454", "id": 480973034, "node_id": "MDU6SXNzdWU0ODA5NzMwMzQ=", "number": 454, "title": "RuntimeError: Expected to have finished reduction in the prior iteration before starting a new one.", "user": {"login": "XiaoJiNu", "id": 30587645, "node_id": "MDQ6VXNlcjMwNTg3NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/30587645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XiaoJiNu", "html_url": "https://github.com/XiaoJiNu", "followers_url": "https://api.github.com/users/XiaoJiNu/followers", "following_url": "https://api.github.com/users/XiaoJiNu/following{/other_user}", "gists_url": "https://api.github.com/users/XiaoJiNu/gists{/gist_id}", "starred_url": "https://api.github.com/users/XiaoJiNu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XiaoJiNu/subscriptions", "organizations_url": "https://api.github.com/users/XiaoJiNu/orgs", "repos_url": "https://api.github.com/users/XiaoJiNu/repos", "events_url": "https://api.github.com/users/XiaoJiNu/events{/privacy}", "received_events_url": "https://api.github.com/users/XiaoJiNu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-15T03:01:02Z", "updated_at": "2023-04-21T21:09:49Z", "closed_at": "2019-08-15T09:21:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, when I used pytorch1.2  it outputed bug as follows:\r\nRuntimeError: Expected to have finished reduction in the prior iteration before starting a new one.\r\nBut when I used pytorch1.0 it was ok. What's the problem?\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/454/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/454/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/452", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/452/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/452/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/452/events", "html_url": "https://github.com/ultralytics/yolov3/issues/452", "id": 480573904, "node_id": "MDU6SXNzdWU0ODA1NzM5MDQ=", "number": 452, "title": "August 3rd, 2019 breaking change: Error(s) in loading state_dict", "user": {"login": "lexer21", "id": 22595140, "node_id": "MDQ6VXNlcjIyNTk1MTQw", "avatar_url": "https://avatars.githubusercontent.com/u/22595140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lexer21", "html_url": "https://github.com/lexer21", "followers_url": "https://api.github.com/users/lexer21/followers", "following_url": "https://api.github.com/users/lexer21/following{/other_user}", "gists_url": "https://api.github.com/users/lexer21/gists{/gist_id}", "starred_url": "https://api.github.com/users/lexer21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lexer21/subscriptions", "organizations_url": "https://api.github.com/users/lexer21/orgs", "repos_url": "https://api.github.com/users/lexer21/repos", "events_url": "https://api.github.com/users/lexer21/events{/privacy}", "received_events_url": "https://api.github.com/users/lexer21/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-14T09:25:36Z", "updated_at": "2019-08-14T11:48:01Z", "closed_at": "2019-08-14T11:48:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "So recently I have pulled the latest version of this repo, when I try to run detect.py with my custom weights like so:\r\n\r\n`python detect.py --weights weights/backup10.pt --cfg cfg/yolov3_test.cfg --data data/test.data`\r\n\r\nI get this output: \r\n\r\n`Traceback (most recent call last):\r\n  File \"detect.py\", line 154, in <module>\r\n    output=opt.output)\r\n  File \"detect.py\", line 37, in detect\r\n    model.load_state_dict(torch.load(weights, map_location=device)['model'])\r\n  File \"/home/leon/anaconda3/envs/yolo/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 777, in load_state_dict\r\n    self.__class__.__name__, \"\\n\\t\".join(error_msgs)))\r\nRuntimeError: Error(s) in loading state_dict for Darknet:\r\n\tMissing key(s) in state_dict: \"module_list.0.Conv2d.weight\", \"module_list.0.BatchNorm2d.weight\", \"module_list.0.BatchNorm2d.bias\", \"module_list.0.BatchNorm2d.running_mean\", \"module_list.0.BatchNorm2d.running_var\", \"module_list.1.Conv2d.weight\", \"module_list.1.BatchNorm2d.weight\", \"module_list.1.BatchNorm2d.bias\", \"module_list.1.BatchNorm2d.running_mean\", \"module_list.1.BatchNorm2d.running_var\", \"module_list.2.Conv2d.weight\", \"module_list.2.BatchNorm2d.weight\", \"module_list.2.BatchNorm2d.bias\", \"module_list.2.BatchNorm2d.running_mean\", \"module_list.2.BatchNorm2d.running_var\", \"module_list.3.Conv2d.weight\", \"module_list.3.BatchNorm2d.weight\", \"module_list.3.BatchNorm2d.bias\", \"module_list.3.BatchNorm2d.running_mean\", \"module_list.3.BatchNorm2d.running_var\", \"module_list.5.Conv2d.weight\", \"module_list.5.BatchNorm2d.weight\", \"module_list.5.BatchNorm2d.bias\" ........ `\r\n\r\nBut if I revert the pull and use the previous version the detect.py works fine. So I'm guessing my weights are the problem? Do I need to retrain my model with the new repo or I am missing something?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/452/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/451", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/451/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/451/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/451/events", "html_url": "https://github.com/ultralytics/yolov3/issues/451", "id": 480511602, "node_id": "MDU6SXNzdWU0ODA1MTE2MDI=", "number": 451, "title": "Transfer learning cannot be resumed?", "user": {"login": "JiahongXue", "id": 9140483, "node_id": "MDQ6VXNlcjkxNDA0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/9140483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JiahongXue", "html_url": "https://github.com/JiahongXue", "followers_url": "https://api.github.com/users/JiahongXue/followers", "following_url": "https://api.github.com/users/JiahongXue/following{/other_user}", "gists_url": "https://api.github.com/users/JiahongXue/gists{/gist_id}", "starred_url": "https://api.github.com/users/JiahongXue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JiahongXue/subscriptions", "organizations_url": "https://api.github.com/users/JiahongXue/orgs", "repos_url": "https://api.github.com/users/JiahongXue/repos", "events_url": "https://api.github.com/users/JiahongXue/events{/privacy}", "received_events_url": "https://api.github.com/users/JiahongXue/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-14T06:54:14Z", "updated_at": "2019-09-26T11:09:18Z", "closed_at": "2019-09-26T11:07:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWasn't entirely sure if this is a bug or just yolo feature. together with transfer flag, the resume flag will not actually resume the process. I did take look at the code and I described the code in the last section.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. have some training on transfer learning with --transfer flag\r\n2. Ctrl+C\r\n3. resume the training by the exactly same command plus --resume flag\r\n4. starts from epoch number 1.\r\n\r\n**Expected behavior**\r\nTo resume training from latest.pt\r\n\r\n**Additional context**\r\nI looked at the train.py (line 98 to 108), the code specifically did treat if the transfer flag is on, the model will retrain from epoch 1. otherwise will retrain from latest.py. Any chance we can get resume on transfer learning as well?\r\n\r\n**What I did make it seems working**\r\nSo I copied line 107 `chkpt = torch.load(latest, map_location=device)  # load checkpoint` and replaced into line 98 `chkpt = torch.load(weights + 'yolov3-spp.pt', map_location=device)` It looks like it is doing transfer learning and start from latest.pt. However, I am not sure if this is doing actually what I expected it to do. Any idea?\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/451/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/449", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/449/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/449/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/449/events", "html_url": "https://github.com/ultralytics/yolov3/issues/449", "id": 480165431, "node_id": "MDU6SXNzdWU0ODAxNjU0MzE=", "number": 449, "title": "Tensorboard not writing on --resume", "user": {"login": "Ownmarc", "id": 24617457, "node_id": "MDQ6VXNlcjI0NjE3NDU3", "avatar_url": "https://avatars.githubusercontent.com/u/24617457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ownmarc", "html_url": "https://github.com/Ownmarc", "followers_url": "https://api.github.com/users/Ownmarc/followers", "following_url": "https://api.github.com/users/Ownmarc/following{/other_user}", "gists_url": "https://api.github.com/users/Ownmarc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ownmarc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ownmarc/subscriptions", "organizations_url": "https://api.github.com/users/Ownmarc/orgs", "repos_url": "https://api.github.com/users/Ownmarc/repos", "events_url": "https://api.github.com/users/Ownmarc/events{/privacy}", "received_events_url": "https://api.github.com/users/Ownmarc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-13T13:44:30Z", "updated_at": "2020-01-16T19:14:59Z", "closed_at": "2020-01-16T19:14:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Tried this last night and it created a new run file, but didn't write in it. I'm on Windows, I'll check whats up with this later this week and PR. ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/449/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/449/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/447", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/447/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/447/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/447/events", "html_url": "https://github.com/ultralytics/yolov3/issues/447", "id": 480079225, "node_id": "MDU6SXNzdWU0ODAwNzkyMjU=", "number": 447, "title": "Error occurs when using multi_gpu train", "user": {"login": "HoracceFeng", "id": 20824041, "node_id": "MDQ6VXNlcjIwODI0MDQx", "avatar_url": "https://avatars.githubusercontent.com/u/20824041?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HoracceFeng", "html_url": "https://github.com/HoracceFeng", "followers_url": "https://api.github.com/users/HoracceFeng/followers", "following_url": "https://api.github.com/users/HoracceFeng/following{/other_user}", "gists_url": "https://api.github.com/users/HoracceFeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/HoracceFeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HoracceFeng/subscriptions", "organizations_url": "https://api.github.com/users/HoracceFeng/orgs", "repos_url": "https://api.github.com/users/HoracceFeng/repos", "events_url": "https://api.github.com/users/HoracceFeng/events{/privacy}", "received_events_url": "https://api.github.com/users/HoracceFeng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-08-13T10:26:35Z", "updated_at": "2020-05-18T04:36:26Z", "closed_at": "2019-08-14T06:33:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @glenn-jocher, this error is pretty weird. I use your code in cpu and single gpu, everything is prefect, but when I try to use multi_gpus, this error occurs:\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 299, in train\r\n    loss, loss_items = compute_loss(pred, targets, model, giou_loss=giou_loss)   \r\n  File \"/code/utils/utils.py\", line 340, in compute_loss\r\n    txy, twh, tcls, tbox, indices, anchor_vec = build_targets(model, targets)\r\n  File \"/code/utils/utils.py\", line 398, in build_targets\r\n    print(\"check yololayer.ng\", model.module.module_list[16][0].ng, model.module.module_list[23][0].ng)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py\", line 535, in __getattr__\r\n    type(self).__name__, name))\r\nAttributeError: 'YOLOLayer' object has no attribute 'ng'\r\n\r\nI have checked the YOLOLayer, the attr `ng` exists when I define the model using the class `Darknet`. But when it runs to `compute_loss`, the `build_targets` cannot find `ng` in YoloLayer. It only occurs in multi_gpus. [I also check \"model.module.module_list\", the `ng` just disappear, don't know why.]\r\n\r\nBTW, I try to use multi_gpus but not distributed training, so I replace the `DistributedDataParallel` to `DataParallel`, not sure if this change makes the error.\r\n\r\nNeed help. I trap into this bug for a whole day ...", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/447/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/447/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/439", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/439/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/439/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/439/events", "html_url": "https://github.com/ultralytics/yolov3/issues/439", "id": 478472946, "node_id": "MDU6SXNzdWU0Nzg0NzI5NDY=", "number": 439, "title": "RuntimeError: shape '[128, 256, 1, 1]' is invalid for input of size 18766", "user": {"login": "DeepLearning723", "id": 52575426, "node_id": "MDQ6VXNlcjUyNTc1NDI2", "avatar_url": "https://avatars.githubusercontent.com/u/52575426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DeepLearning723", "html_url": "https://github.com/DeepLearning723", "followers_url": "https://api.github.com/users/DeepLearning723/followers", "following_url": "https://api.github.com/users/DeepLearning723/following{/other_user}", "gists_url": "https://api.github.com/users/DeepLearning723/gists{/gist_id}", "starred_url": "https://api.github.com/users/DeepLearning723/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DeepLearning723/subscriptions", "organizations_url": "https://api.github.com/users/DeepLearning723/orgs", "repos_url": "https://api.github.com/users/DeepLearning723/repos", "events_url": "https://api.github.com/users/DeepLearning723/events{/privacy}", "received_events_url": "https://api.github.com/users/DeepLearning723/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-08-08T13:30:24Z", "updated_at": "2023-04-21T21:09:54Z", "closed_at": "2019-08-09T14:54:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!I am a beginner.First of all, thank you very much for your excellent code.\r\n\r\nI downloaded your code and installed the environment as required.I directly ran the train.py,and then I had the above problem.I didn't know how to handle it.\r\n\r\nI did the following work\uff1a\r\n1. Go to install your code without doing any changes.\r\n2. Click on the train.py.\r\n3. At first,I saw the \"Download https://pjreddie.com/media/files/darknet53.conv.74\".And I had been waiting for a while.\r\n4. Then the above error message appeared.\r\n\r\nHow can I solve it?Please enlighten me.Thank you very much!\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/439/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/438", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/438/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/438/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/438/events", "html_url": "https://github.com/ultralytics/yolov3/issues/438", "id": 478257784, "node_id": "MDU6SXNzdWU0NzgyNTc3ODQ=", "number": 438, "title": "Code improvement", "user": {"login": "MichaelCong", "id": 50260527, "node_id": "MDQ6VXNlcjUwMjYwNTI3", "avatar_url": "https://avatars.githubusercontent.com/u/50260527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichaelCong", "html_url": "https://github.com/MichaelCong", "followers_url": "https://api.github.com/users/MichaelCong/followers", "following_url": "https://api.github.com/users/MichaelCong/following{/other_user}", "gists_url": "https://api.github.com/users/MichaelCong/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichaelCong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichaelCong/subscriptions", "organizations_url": "https://api.github.com/users/MichaelCong/orgs", "repos_url": "https://api.github.com/users/MichaelCong/repos", "events_url": "https://api.github.com/users/MichaelCong/events{/privacy}", "received_events_url": "https://api.github.com/users/MichaelCong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-08T05:26:21Z", "updated_at": "2019-08-08T16:50:07Z", "closed_at": "2019-08-08T16:47:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I find that you have made many improvements to the original code. What are the main reasons for these improvements?\r\nFor example: delete similar layer modules. add_module ('upsample_% d'% i, upsample)\r\nThe empty layer was removed.\r\nFor i, mdef in enumerate (module_defs):\r\nI is not used here either.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/438/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/434", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/434/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/434/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/434/events", "html_url": "https://github.com/ultralytics/yolov3/issues/434", "id": 477825419, "node_id": "MDU6SXNzdWU0Nzc4MjU0MTk=", "number": 434, "title": "multi-gpu: \"nan loss detected, ending training\"", "user": {"login": "zhzgithub", "id": 30263132, "node_id": "MDQ6VXNlcjMwMjYzMTMy", "avatar_url": "https://avatars.githubusercontent.com/u/30263132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhzgithub", "html_url": "https://github.com/zhzgithub", "followers_url": "https://api.github.com/users/zhzgithub/followers", "following_url": "https://api.github.com/users/zhzgithub/following{/other_user}", "gists_url": "https://api.github.com/users/zhzgithub/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhzgithub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhzgithub/subscriptions", "organizations_url": "https://api.github.com/users/zhzgithub/orgs", "repos_url": "https://api.github.com/users/zhzgithub/repos", "events_url": "https://api.github.com/users/zhzgithub/events{/privacy}", "received_events_url": "https://api.github.com/users/zhzgithub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-07T09:53:41Z", "updated_at": "2019-08-08T16:52:21Z", "closed_at": "2019-08-08T16:52:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I use one gpu, it works well. \r\nBut when I use 2 gpus\uff0cthe following situation has occurred\uff1a\r\n```\r\nNamespace(accumulate=2, batch_size=4, bucket='', cfg='cfg/yolov3-spp.cfg', data='data/coco.data', epochs=273, evolve=False, gpus='0,1', img_size=416, img_weights=False, multi_scale=True, nosave=False, notest=False, num_workers=32, rect=False, resume=False, transfer=False, xywh=False)\r\nUsing CUDA Apex device0 _CudaDeviceProperties(name='GeForce GTX 1080 Ti', total_memory=11178MB)\r\n                device1 _CudaDeviceProperties(name='GeForce GTX 1080 Ti', total_memory=11178MB)\r\n\r\nUsing multi-scale 320 - 608\r\nReading labels (117264 found, 0 missing, 0 empty for 117264 images): 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 117264/117264 [00:11<00:00, 10167.36it/s]\r\nModel Summary: 225 layers, 6.29987e+07 parameters, 6.29987e+07 gradients\r\n\r\n     Epoch   gpu_mem   GIoU/xy        wh       obj       cls     total   targets  img_size\r\n  0%|                                                                                                     | 0/29316 [00:00<?, ?it/s]WARNING: nan loss detected, ending training\r\nException ignored in: <bound method tqdm.__del__ of   0%|                                                                                                                                                                                     | 0/29316 [00:21<?, ?it/s]>\r\nTraceback (most recent call last):\r\n  File \"/home/cidi/.local/lib/python3.5/site-packages/tqdm/_tqdm.py\", line 885, in __del__\r\n    self.close()\r\n  File \"/home/cidi/.local/lib/python3.5/site-packages/tqdm/_tqdm.py\", line 1090, in close\r\n    self._decr_instances(self)\r\n  File \"/home/cidi/.local/lib/python3.5/site-packages/tqdm/_tqdm.py\", line 454, in _decr_instances\r\n    cls.monitor.exit()\r\n  File \"/home/cidi/.local/lib/python3.5/site-packages/tqdm/_monitor.py\", line 52, in exit\r\n    self.join()\r\n  File \"/usr/lib/python3.5/threading.py\", line 1051, in join\r\n    raise RuntimeError(\"cannot join current thread\")\r\nRuntimeError: cannot join current thread\r\n```\r\nHow can I solve this problem? Help,please!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/434/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/434/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/428", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/428/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/428/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/428/events", "html_url": "https://github.com/ultralytics/yolov3/issues/428", "id": 477395703, "node_id": "MDU6SXNzdWU0NzczOTU3MDM=", "number": 428, "title": "RuntimeError: Failed to export an ONNX attribute", "user": {"login": "AndresOsp", "id": 31508327, "node_id": "MDQ6VXNlcjMxNTA4MzI3", "avatar_url": "https://avatars.githubusercontent.com/u/31508327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndresOsp", "html_url": "https://github.com/AndresOsp", "followers_url": "https://api.github.com/users/AndresOsp/followers", "following_url": "https://api.github.com/users/AndresOsp/following{/other_user}", "gists_url": "https://api.github.com/users/AndresOsp/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndresOsp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndresOsp/subscriptions", "organizations_url": "https://api.github.com/users/AndresOsp/orgs", "repos_url": "https://api.github.com/users/AndresOsp/repos", "events_url": "https://api.github.com/users/AndresOsp/events{/privacy}", "received_events_url": "https://api.github.com/users/AndresOsp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-08-06T13:54:15Z", "updated_at": "2020-06-02T06:42:01Z", "closed_at": "2019-08-10T17:19:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "The bug\r\nI am trying to export my model to ONNX. However, I have the error:\r\n\r\nTypeError: 'YOLOLayer' object does not support indexing\r\n\r\nSteps to reproduce the behavior:\r\n1. Set: ONNX_EXPORT = True\r\n2. run: python detect.py\r\n\r\nThanks for your work and help", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/428/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/427", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/427/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/427/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/427/events", "html_url": "https://github.com/ultralytics/yolov3/issues/427", "id": 477349668, "node_id": "MDU6SXNzdWU0NzczNDk2Njg=", "number": 427, "title": "Something's wrong in train.py", "user": {"login": "hajlyx", "id": 29885780, "node_id": "MDQ6VXNlcjI5ODg1Nzgw", "avatar_url": "https://avatars.githubusercontent.com/u/29885780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hajlyx", "html_url": "https://github.com/hajlyx", "followers_url": "https://api.github.com/users/hajlyx/followers", "following_url": "https://api.github.com/users/hajlyx/following{/other_user}", "gists_url": "https://api.github.com/users/hajlyx/gists{/gist_id}", "starred_url": "https://api.github.com/users/hajlyx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hajlyx/subscriptions", "organizations_url": "https://api.github.com/users/hajlyx/orgs", "repos_url": "https://api.github.com/users/hajlyx/repos", "events_url": "https://api.github.com/users/hajlyx/events{/privacy}", "received_events_url": "https://api.github.com/users/hajlyx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-08-06T12:25:03Z", "updated_at": "2019-08-07T12:35:00Z", "closed_at": "2019-08-06T12:50:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "In train.py line 208: \"results = (0, 0, 0, 0, 0)\"\r\nThis line conficts with line 294:  \"file.write(s + '%11.3g' * 7 % results + '\\n')\"\r\nIf I run train.py with --evolve --epochs 2, the program will break because the length of results is still 5, not 7.\r\n\r\nIn train.py line 378:  \"hyp[k] = x[i + 5]\"\r\nThis line may change to    \"hyp[k] = x[i + 7]\" to match the evolve params.\r\n\r\nDon't know how to quote code pages...", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/427/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/426", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/426/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/426/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/426/events", "html_url": "https://github.com/ultralytics/yolov3/issues/426", "id": 477198360, "node_id": "MDU6SXNzdWU0NzcxOTgzNjA=", "number": 426, "title": "Unable to convert alexnet.pt to .weights", "user": {"login": "vamsime", "id": 13024260, "node_id": "MDQ6VXNlcjEzMDI0MjYw", "avatar_url": "https://avatars.githubusercontent.com/u/13024260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vamsime", "html_url": "https://github.com/vamsime", "followers_url": "https://api.github.com/users/vamsime/followers", "following_url": "https://api.github.com/users/vamsime/following{/other_user}", "gists_url": "https://api.github.com/users/vamsime/gists{/gist_id}", "starred_url": "https://api.github.com/users/vamsime/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vamsime/subscriptions", "organizations_url": "https://api.github.com/users/vamsime/orgs", "repos_url": "https://api.github.com/users/vamsime/repos", "events_url": "https://api.github.com/users/vamsime/events{/privacy}", "received_events_url": "https://api.github.com/users/vamsime/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-06T06:42:57Z", "updated_at": "2019-08-09T14:27:40Z", "closed_at": "2019-08-09T14:27:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen I tried to convert alexnet PyTorch weights to darknet .weights format, I have encountered an error: \r\nTraceback (most recent call last):\r\n/home/ultralytics/yolov3/models.py\", line 353, in convert\r\n    model.load_state_dict(torch.load(weights, map_location='cpu')['model'])\r\nTypeError: 'AlexNet' object is not subscriptable\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to https://github.com/pjreddie/darknet/blob/master/cfg/alexnet.cfg\r\n2. Get the configuration file and save it in cfg directory of ultralytics directory\r\n3. Use torchvision.models and torch to save the alexnet weights:\r\n\r\nfrom torchvision import models\r\nimport torch\r\n\r\ndir(models)\r\n\r\nalexnet = models.alexnet(pretrained=True)\r\n\r\ntorch.save(alexnet, \"/home/alexenetweights/alexnetweights.pt\")    \r\n\r\n4. Save alexnetweights.pt in weights directory of ultralytics directory.\r\n\r\n**Expected behavior**\r\n\r\nI wanted to explore the ultralytics as I have a requirement to convert a PyTorch model weights to darknet .weights format.\r\n\r\nTo start with, I wanted to get alexnet weights in .weights format.\r\n \r\nI have used the command: python3  -c \"from models import *; convert('cfg/alexnet.cfg', 'weights/alexnetweights.pt')\"\r\n\r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]\r\n - Version [e.g. 22]\r\n\r\nUbuntu 18.04.2 LTS\r\n\r\n**Additional context**\r\n\r\nPlease let me know how to get the proper cfg file if the cfg file that I have used is not expected. Also, if the way I got the alexnet weights is correct\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/426/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/424", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/424/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/424/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/424/events", "html_url": "https://github.com/ultralytics/yolov3/issues/424", "id": 477028488, "node_id": "MDU6SXNzdWU0NzcwMjg0ODg=", "number": 424, "title": "File not found ../coco/images/val2014/COCO_val2014_000000121497.jpg", "user": {"login": "Pari-singh", "id": 24270022, "node_id": "MDQ6VXNlcjI0MjcwMDIy", "avatar_url": "https://avatars.githubusercontent.com/u/24270022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pari-singh", "html_url": "https://github.com/Pari-singh", "followers_url": "https://api.github.com/users/Pari-singh/followers", "following_url": "https://api.github.com/users/Pari-singh/following{/other_user}", "gists_url": "https://api.github.com/users/Pari-singh/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pari-singh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pari-singh/subscriptions", "organizations_url": "https://api.github.com/users/Pari-singh/orgs", "repos_url": "https://api.github.com/users/Pari-singh/repos", "events_url": "https://api.github.com/users/Pari-singh/events{/privacy}", "received_events_url": "https://api.github.com/users/Pari-singh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-08-05T19:50:18Z", "updated_at": "2020-03-09T04:39:25Z", "closed_at": "2019-08-06T15:57:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nRunning python train.py from the repository's main directory (yolov3) on coco_1cls.data using 1cls config, I get the error File not found ../coco/images/val2014/COCO_val2014_000000121497.jpg even though I can see the data at the location.\r\nI assume the file saved is ../coco/.. instead of coco/... as coco is inside the main path.\r\n\r\nCould the author @glenn-jocher  tell which main directory he expects us to run train from? ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/424/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/424/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/423", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/423/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/423/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/423/events", "html_url": "https://github.com/ultralytics/yolov3/issues/423", "id": 476756856, "node_id": "MDU6SXNzdWU0NzY3NTY4NTY=", "number": 423, "title": "How to convert the weights from pth to pt?", "user": {"login": "qcy1026", "id": 35254145, "node_id": "MDQ6VXNlcjM1MjU0MTQ1", "avatar_url": "https://avatars.githubusercontent.com/u/35254145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qcy1026", "html_url": "https://github.com/qcy1026", "followers_url": "https://api.github.com/users/qcy1026/followers", "following_url": "https://api.github.com/users/qcy1026/following{/other_user}", "gists_url": "https://api.github.com/users/qcy1026/gists{/gist_id}", "starred_url": "https://api.github.com/users/qcy1026/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qcy1026/subscriptions", "organizations_url": "https://api.github.com/users/qcy1026/orgs", "repos_url": "https://api.github.com/users/qcy1026/repos", "events_url": "https://api.github.com/users/qcy1026/events{/privacy}", "received_events_url": "https://api.github.com/users/qcy1026/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-05T09:38:35Z", "updated_at": "2019-08-05T11:17:30Z", "closed_at": "2019-08-05T11:13:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to '...'\r\n2. Click on '....'\r\n3. Scroll down to '....'\r\n4. See error\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/423/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/418", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/418/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/418/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/418/events", "html_url": "https://github.com/ultralytics/yolov3/issues/418", "id": 476078204, "node_id": "MDU6SXNzdWU0NzYwNzgyMDQ=", "number": 418, "title": "The training model is twice as good as the pre-training model", "user": {"login": "1451595897", "id": 39090271, "node_id": "MDQ6VXNlcjM5MDkwMjcx", "avatar_url": "https://avatars.githubusercontent.com/u/39090271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1451595897", "html_url": "https://github.com/1451595897", "followers_url": "https://api.github.com/users/1451595897/followers", "following_url": "https://api.github.com/users/1451595897/following{/other_user}", "gists_url": "https://api.github.com/users/1451595897/gists{/gist_id}", "starred_url": "https://api.github.com/users/1451595897/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1451595897/subscriptions", "organizations_url": "https://api.github.com/users/1451595897/orgs", "repos_url": "https://api.github.com/users/1451595897/repos", "events_url": "https://api.github.com/users/1451595897/events{/privacy}", "received_events_url": "https://api.github.com/users/1451595897/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-02T09:09:52Z", "updated_at": "2019-08-03T14:56:05Z", "closed_at": "2019-08-03T14:56:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I trained on my data set and found that the size of the saved model was twice that of the pre-trained model. Was there any problem with the configuration when I trained?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/418/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/415", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/415/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/415/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/415/events", "html_url": "https://github.com/ultralytics/yolov3/issues/415", "id": 475810643, "node_id": "MDU6SXNzdWU0NzU4MTA2NDM=", "number": 415, "title": "RuntimeError: shape '[16]' is invalid for input of size 5 using yolov3-tiny.cfg", "user": {"login": "ismaeIfm", "id": 7130927, "node_id": "MDQ6VXNlcjcxMzA5Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/7130927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ismaeIfm", "html_url": "https://github.com/ismaeIfm", "followers_url": "https://api.github.com/users/ismaeIfm/followers", "following_url": "https://api.github.com/users/ismaeIfm/following{/other_user}", "gists_url": "https://api.github.com/users/ismaeIfm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ismaeIfm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ismaeIfm/subscriptions", "organizations_url": "https://api.github.com/users/ismaeIfm/orgs", "repos_url": "https://api.github.com/users/ismaeIfm/repos", "events_url": "https://api.github.com/users/ismaeIfm/events{/privacy}", "received_events_url": "https://api.github.com/users/ismaeIfm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-08-01T17:49:25Z", "updated_at": "2019-10-16T06:35:33Z", "closed_at": "2019-08-01T20:53:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nChanging the default conf from `cfg/yolov3.cfg` to `cfg/yolov3-tiny.cfg` raises `RuntimeError: shape '[16]' is invalid for input of size 5`.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Clone the repo.\r\n```bash\r\ngit clone https://github.com/ultralytics/yolov3\r\n```\r\n2. Download COCO dataset:\r\n```bash\r\nbash yolov3/data/get_coco_dataset.sh\r\n```\r\n3. Execute: \r\n```bash\r\npython3 train.py --cfg cfg/yolov3-tiny.cfg\r\n```\r\n4. See error\r\n\r\n**Expected behavior**\r\n```bash\r\npython3 train.py --cfg cfg/yolov3-tiny.cfg\r\n```\r\nOutput:\r\n```\r\nNamespace(accumulate=2, batch_size=32, bucket='', cfg='cfg/yolov3-tiny.cfg', data='data/coco_64img.data', epochs=273, evolve=False, img_size=416, img_weights=False, multi_scale=False, nosave=False, notest=False, num_workers=4, rect=False, resume=False, transfer=False, xywh=False)\r\nUsing CPU\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 363, in <module>\r\n    accumulate=opt.accumulate)\r\n  File \"train.py\", line 143, in train\r\n    cutoff = load_darknet_weights(model, weights + 'yolov3-tiny.conv.15')\r\n  File \"/yolov3/models.py\", line 307, in load_darknet_weights\r\n    bn_rm = torch.from_numpy(weights[ptr:ptr + num_b]).view_as(bn_layer.running_mean)\r\nRuntimeError: shape '[16]' is invalid for input of size 5\r\n```\r\n\r\n**Desktop:**\r\n - OS: Ubuntu\r\n - Version 18.04", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/415/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/414", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/414/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/414/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/414/events", "html_url": "https://github.com/ultralytics/yolov3/issues/414", "id": 475747883, "node_id": "MDU6SXNzdWU0NzU3NDc4ODM=", "number": 414, "title": "test.py error upon 'negative examples' (completely empty batches)", "user": {"login": "bigrobinson", "id": 42244176, "node_id": "MDQ6VXNlcjQyMjQ0MTc2", "avatar_url": "https://avatars.githubusercontent.com/u/42244176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bigrobinson", "html_url": "https://github.com/bigrobinson", "followers_url": "https://api.github.com/users/bigrobinson/followers", "following_url": "https://api.github.com/users/bigrobinson/following{/other_user}", "gists_url": "https://api.github.com/users/bigrobinson/gists{/gist_id}", "starred_url": "https://api.github.com/users/bigrobinson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bigrobinson/subscriptions", "organizations_url": "https://api.github.com/users/bigrobinson/orgs", "repos_url": "https://api.github.com/users/bigrobinson/repos", "events_url": "https://api.github.com/users/bigrobinson/events{/privacy}", "received_events_url": "https://api.github.com/users/bigrobinson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-08-01T15:27:20Z", "updated_at": "2019-09-26T11:06:37Z", "closed_at": "2019-09-26T11:06:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Description of the bug**\r\nI have four classes along with negative examples, with training set about evenly split with 4000 images total, and test block also evenly split with about 500 images.  (Train/test/validation split is 80/10/10 all cases.) If I exclude negative examples, it trains just fine and will calculate mAP in every epoch. When I include the negative examples, it trains but it will not calculate mAP without giving the error below:\r\n\r\n**Screen output**\r\n```bash\r\nNamespace(accumulate=2, batch_size=32, bucket='', cfg='/home/brian/yolov3_ultralytics/data/RawTrainingData/yolov3-spp_uxo.cfg', data='/home/brian/yolov3_ultralytics/data/RawTrainingData/Uxo.data', epochs=273, evolve=False, img_size=416, img_weights=False, multi_scale=False, nosave=False, notest=False, num_workers=4, rect=False, resume=False, transfer=False, xywh=False)\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1080 Ti', total_memory=11175MB)\r\n           device1 _CudaDeviceProperties(name='GeForce GTX 1080', total_memory=8119MB)\r\n\r\nModel Summary: 225 layers, 6.25895e+07 parameters, 6.25895e+07 gradients\r\n\r\n     Epoch   gpu_mem   GIoU/xy        wh       obj       cls     total   targets  img_size\r\n     0/272     2.42G      1.23         0      1.49      17.4      20.1         5       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 127/127 [11:59<00:00,  4.17s/it]\r\nReading image shapes: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 502/502 [00:07<00:00, 65.69it/s]\r\n                         Class    Images   Targets         P         R       mAP        F1:  75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c                    | 12/16 [01:20<00:16,  4.03s/it]Traceback (most recent call last):\r\n  File \"/home/brian/anaconda3/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 511, in _try_get_batch\r\n    data = self.data_queue.get(timeout=timeout)\r\n  File \"/home/brian/anaconda3/lib/python3.7/queue.py\", line 179, in get\r\n    self.not_empty.wait(remaining)\r\n  File \"/home/brian/anaconda3/lib/python3.7/threading.py\", line 300, in wait\r\n    gotit = waiter.acquire(True, timeout)\r\n  File \"/home/brian/anaconda3/lib/python3.7/site-packages/torch/utils/data/_utils/signal_handling.py\", line 63, in handler\r\n    _error_if_any_worker_fails()\r\nRuntimeError: DataLoader worker (pid 18316) is killed by signal: Killed. \r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 362, in <module>\r\n    accumulate=opt.accumulate)\r\n  File \"train.py\", line 288, in train\r\n    conf_thres=0.1)\r\n  File \"/home/brian/yolov3/test.py\", line 61, in test\r\n    for batch_i, (imgs, targets, paths, shapes) in enumerate(tqdm(dataloader, desc=s)):\r\n  File \"/home/brian/anaconda3/lib/python3.7/site-packages/tqdm/_tqdm.py\", line 1005, in __iter__\r\n    for obj in iterable:\r\n  File \"/home/brian/anaconda3/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 576, in __next__\r\n    idx, batch = self._get_batch()\r\n  File \"/home/brian/anaconda3/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 543, in _get_batch\r\n    success, data = self._try_get_batch()\r\n  File \"/home/brian/anaconda3/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 519, in _try_get_batch\r\n    raise RuntimeError('DataLoader worker (pid(s) {}) exited unexpectedly'.format(pids_str))\r\nRuntimeError: DataLoader worker (pid(s) 18316) exited unexpectedly\r\n```\r\n\r\n**Steps to reproduce the behavior:**\r\n1. Divide data into train and test directories and assemble .data text files using custom python module\r\n2. Execute train.py with above switches set from root directory\r\n3. Wait for first epoch to finish and mAP calculation to start\r\n4. See error around time when negative examples are reached (test data does not appear to be shuffled)\r\n\r\n**Expected behavior**\r\nI expect it to train for 272 epochs and track the mAP for each epoch\r\n\r\n**Desktop:**\r\n - OS: Ubuntu\r\n - Version 18.04\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/414/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/412", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/412/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/412/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/412/events", "html_url": "https://github.com/ultralytics/yolov3/issues/412", "id": 475705877, "node_id": "MDU6SXNzdWU0NzU3MDU4Nzc=", "number": 412, "title": "train.py initialized as many times as there is workers every batch ?", "user": {"login": "Ownmarc", "id": 24617457, "node_id": "MDQ6VXNlcjI0NjE3NDU3", "avatar_url": "https://avatars.githubusercontent.com/u/24617457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ownmarc", "html_url": "https://github.com/Ownmarc", "followers_url": "https://api.github.com/users/Ownmarc/followers", "following_url": "https://api.github.com/users/Ownmarc/following{/other_user}", "gists_url": "https://api.github.com/users/Ownmarc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ownmarc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ownmarc/subscriptions", "organizations_url": "https://api.github.com/users/Ownmarc/orgs", "repos_url": "https://api.github.com/users/Ownmarc/repos", "events_url": "https://api.github.com/users/Ownmarc/events{/privacy}", "received_events_url": "https://api.github.com/users/Ownmarc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 23, "created_at": "2019-08-01T14:09:54Z", "updated_at": "2019-10-04T20:28:21Z", "closed_at": "2019-10-04T20:28:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Is it normal to get the \"train.py\" to be initialized every batch * number of workers ?\r\n\r\nI was trying to set up the tensorboard_writer and was defining it just bellow the imports in \"train.py\" and it was creating 4 writers every batch. \r\n\r\nTo reproduce, simply add a print bellow the imports in train.py and watch the training console. If I make num-workers = 8, it will print it 8 times. Got tensorboard to work by moving the import and the initialization under the if __name__ == '__main__', but I find it weird. Maybe is me not understanding how dataloader works.\r\n\r\nwith 4 workers :\r\n![Screenshot_4](https://user-images.githubusercontent.com/24617457/62300291-8134ae80-b444-11e9-964f-5a078e232f0c.jpg)\r\n\r\nwith 8 workers:\r\n![Screenshot_5](https://user-images.githubusercontent.com/24617457/62300477-dc66a100-b444-11e9-8618-ba2e1e0d68e4.jpg)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/412/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/395", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/395/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/395/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/395/events", "html_url": "https://github.com/ultralytics/yolov3/issues/395", "id": 473266107, "node_id": "MDU6SXNzdWU0NzMyNjYxMDc=", "number": 395, "title": "RuntimeError: Error(s) in loading state_dict for Darknet:", "user": {"login": "YRunner", "id": 41246794, "node_id": "MDQ6VXNlcjQxMjQ2Nzk0", "avatar_url": "https://avatars.githubusercontent.com/u/41246794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YRunner", "html_url": "https://github.com/YRunner", "followers_url": "https://api.github.com/users/YRunner/followers", "following_url": "https://api.github.com/users/YRunner/following{/other_user}", "gists_url": "https://api.github.com/users/YRunner/gists{/gist_id}", "starred_url": "https://api.github.com/users/YRunner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YRunner/subscriptions", "organizations_url": "https://api.github.com/users/YRunner/orgs", "repos_url": "https://api.github.com/users/YRunner/repos", "events_url": "https://api.github.com/users/YRunner/events{/privacy}", "received_events_url": "https://api.github.com/users/YRunner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-26T09:29:47Z", "updated_at": "2023-04-21T21:10:10Z", "closed_at": "2019-08-06T16:52:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "i successfulliy trained my own datasets and get the \"best.pt\",but when i use it to detect,it gives me Runtimerror:\r\nTraceback (most recent call last):\r\nFile \"detect.py\", line 144, in \r\noutput=opt.output)\r\nFile \"detect.py\", line 39, in detect\r\nmodel.load_state_dict(torch.load(weights, map_location=device)['model'])\r\nFile \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\torch\\nn\\modules\\module.py\", line 837, in load_state_dict\r\nself.class.name, \"\\n\\t\".join(error_msgs)))\r\nRuntimeError: Error(s) in loading state_dict for Darknet:\r\nsize mismatch for module_list.81.conv_81.weight: copying a param with shape torch.Size([255, 1024, 1, 1]) from checkpoint, the shape in current model is torch.Size([18, 1024, 1, 1]).\r\nsize mismatch for module_list.81.conv_81.bias: copying a param with shape torch.Size([255]) from checkpoint, the shape in current model is torch.Size([18]).\r\nsize mismatch for module_list.93.conv_93.weight: copying a param with shape torch.Size([255, 512, 1, 1]) from checkpoint, the shape in current model is torch.Size([18, 512, 1, 1]).\r\nsize mismatch for module_list.93.conv_93.bias: copying a param with shape torch.Size([255]) from checkpoint, the shape in current model is torch.Size([18]).\r\nsize mismatch for module_list.105.conv_105.weight: copying a param with shape torch.Size([255, 256, 1, 1]) from checkpoint, the shape in current model is torch.Size([18, 256, 1, 1]).\r\nsize mismatch for module_list.105.conv_105.bias: copying a param with shape torch.Size([255]) from checkpoint, the shape in current model is torch.Size([18]).\r\nThank you for any advice.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/395/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/393", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/393/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/393/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/393/events", "html_url": "https://github.com/ultralytics/yolov3/issues/393", "id": 472961160, "node_id": "MDU6SXNzdWU0NzI5NjExNjA=", "number": 393, "title": "KeyError: 'training_results'", "user": {"login": "Aria20155", "id": 53309543, "node_id": "MDQ6VXNlcjUzMzA5NTQz", "avatar_url": "https://avatars.githubusercontent.com/u/53309543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aria20155", "html_url": "https://github.com/Aria20155", "followers_url": "https://api.github.com/users/Aria20155/followers", "following_url": "https://api.github.com/users/Aria20155/following{/other_user}", "gists_url": "https://api.github.com/users/Aria20155/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aria20155/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aria20155/subscriptions", "organizations_url": "https://api.github.com/users/Aria20155/orgs", "repos_url": "https://api.github.com/users/Aria20155/repos", "events_url": "https://api.github.com/users/Aria20155/events{/privacy}", "received_events_url": "https://api.github.com/users/Aria20155/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-07-25T16:30:30Z", "updated_at": "2019-07-25T17:11:23Z", "closed_at": "2019-07-25T17:11:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, after I run train.py, I got this error:\r\n(I downloaded yolov3-spp.pt from your google drive and opt.transfer=True )\r\n\r\n\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/Aria/Desktop/pycharm-2019.1.3/helpers/pydev/pydevd.py\", line 1758, in <module>\r\n    main()\r\n  File \"/home/Aria/Desktop/pycharm-2019.1.3/helpers/pydev/pydevd.py\", line 1752, in main\r\n    globals = debugger.run(setup['file'], None, None, is_module)\r\n  File \"/home/Aria/Desktop/pycharm-2019.1.3/helpers/pydev/pydevd.py\", line 1147, in run\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"/home/Aria/Desktop/pycharm-2019.1.3/helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"/home/Aria/Documents/yolov3-master/train.py\", line 352, in <module>\r\n    accumulate=opt.accumulate)\r\n  File \"/home/Aria/Documents/yolov3-master/train.py\", line 127, in train\r\n    if chkpt['training_results'] is not None:\r\nKeyError: 'training_results'\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/393/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/388", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/388/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/388/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/388/events", "html_url": "https://github.com/ultralytics/yolov3/issues/388", "id": 472205970, "node_id": "MDU6SXNzdWU0NzIyMDU5NzA=", "number": 388, "title": "new version error||test map", "user": {"login": "yyx1107", "id": 50829614, "node_id": "MDQ6VXNlcjUwODI5NjE0", "avatar_url": "https://avatars.githubusercontent.com/u/50829614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yyx1107", "html_url": "https://github.com/yyx1107", "followers_url": "https://api.github.com/users/yyx1107/followers", "following_url": "https://api.github.com/users/yyx1107/following{/other_user}", "gists_url": "https://api.github.com/users/yyx1107/gists{/gist_id}", "starred_url": "https://api.github.com/users/yyx1107/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yyx1107/subscriptions", "organizations_url": "https://api.github.com/users/yyx1107/orgs", "repos_url": "https://api.github.com/users/yyx1107/repos", "events_url": "https://api.github.com/users/yyx1107/events{/privacy}", "received_events_url": "https://api.github.com/users/yyx1107/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-24T10:31:53Z", "updated_at": "2019-07-24T12:08:03Z", "closed_at": "2019-07-24T12:08:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! I was trying to train coco and  had some questions~\r\n1. \r\nI download the newest version and run the train.py with coco_16img.data.I met an error but training process is finished.\r\n     Epoch   gpu_mem   GIoU/xy        wh       obj       cls     total   targets  img_size\r\n     99/99     7.96G     0.332         0     0.492     0.827      1.65        73       416: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1/1 [00:00<00:00,  1.76it/s]\r\n\r\n       Class    Images   Targets         P         R       mAP        F1: \r\n\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1/1 [00:00<00:00,  2.08it/s]\r\n                           all        16        76     0.561     0.587     0.554     0.551\r\n100 epochs completed in 0.123 hours.\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 381, in <module>\r\n    accumulate=opt.accumulate)\r\n  File \"train.py\", line 321, in train\r\n    del model, optimizer, loss, dataset, dataloader, scaled_loss, scheduler\r\nUnboundLocalError: local variable 'scaled_loss' referenced before assignment\r\nSo I commented the \"# del model, optimizer, loss, dataset, dataloader, scaled_loss, scheduler\" \r\nDoes the comment statement have any effect? \r\n![results](https://user-images.githubusercontent.com/50829614/61786719-e7b43e00-ae40-11e9-8ba9-87855b064ae0.png)\r\n\r\n2. Test mAP\r\nI tested the yolov3.weights and got 54.1%.Is this result normal?\r\n(batch_size=1, cfg='cfg/yolov3.cfg', conf_thres=0.001, data_cfg='data/coco.data', img_size=416, iou_thres=0.5, nms_thres=0.5, save_json=False, weights='weights/yolov3.weights')", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/388/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/388/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/386", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/386/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/386/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/386/events", "html_url": "https://github.com/ultralytics/yolov3/issues/386", "id": 471586639, "node_id": "MDU6SXNzdWU0NzE1ODY2Mzk=", "number": 386, "title": "Multi-GPU training freezes", "user": {"login": "lexer21", "id": 22595140, "node_id": "MDQ6VXNlcjIyNTk1MTQw", "avatar_url": "https://avatars.githubusercontent.com/u/22595140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lexer21", "html_url": "https://github.com/lexer21", "followers_url": "https://api.github.com/users/lexer21/followers", "following_url": "https://api.github.com/users/lexer21/following{/other_user}", "gists_url": "https://api.github.com/users/lexer21/gists{/gist_id}", "starred_url": "https://api.github.com/users/lexer21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lexer21/subscriptions", "organizations_url": "https://api.github.com/users/lexer21/orgs", "repos_url": "https://api.github.com/users/lexer21/repos", "events_url": "https://api.github.com/users/lexer21/events{/privacy}", "received_events_url": "https://api.github.com/users/lexer21/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-07-23T09:31:54Z", "updated_at": "2020-04-02T23:58:13Z", "closed_at": "2019-07-23T15:15:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have two 1080ti graphics cards. When I train with one (just one card installed in the computer) everything goes fine. But when I put another card into the computer, the training process freezes at the first epoch. I just get this output:\r\n\r\n```\r\nNamespace(accumulate=8, batch_size=8, bucket='', cfg='cfg/yolov3.cfg', data_cfg='data/pladenj.data', epochs=100, evolve=False, img_size=416, nosave=False, notest=False, num_workers=4, rect=False, resume=False, single_scale=False, transfer=False, var=0, xywh=False)\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1080 Ti', total_memory=11175MB)\r\n           device1 _CudaDeviceProperties(name='GeForce GTX 1080 Ti', total_memory=11178MB)\r\n\r\nModel Summary: 222 layers, 6.15237e+07 parameters, 6.15237e+07 gradients\r\n\r\n   Epoch       Batch   GIoU/xy        wh       obj       cls     total   targets  img_size\r\n```\r\n\r\nAnd it stays like this forever, then if I kill my process the whole computer just freezes and I have to restart. I checked the motherboards manual and it supports multiple gpu's. Also did some stress tests on the gpu's and everything turned out to be fine. Only thing that bothers me is when i check in the terminal on how many pci lanes they are running it says 16x on both, but in the manual it says if using multiple gpu's they should use 8x lanes. Any help greatly appreciated.\r\n\r\n**Software:**\r\n\r\n- OS: ubuntu 18.04\r\n- Cuda: 9.1\r\n- Python: 3.7\r\n\r\n**Hardware:**\r\n\r\n- GPU: 2x Gigabyte Aurus 1080ti\r\n- Motherboard: Gigabyte GA-AX370-Gaming-K7\r\n- CPU: Ryzen 1800x\r\n- RAM: 64 Gb\r\n- PSU: Corsair 1000W\r\n- Storage: 500gb SSD", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/386/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/386/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/384", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/384/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/384/events", "html_url": "https://github.com/ultralytics/yolov3/issues/384", "id": 471305341, "node_id": "MDU6SXNzdWU0NzEzMDUzNDE=", "number": 384, "title": "dist_url is not defined", "user": {"login": "ifahim", "id": 1225514, "node_id": "MDQ6VXNlcjEyMjU1MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1225514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ifahim", "html_url": "https://github.com/ifahim", "followers_url": "https://api.github.com/users/ifahim/followers", "following_url": "https://api.github.com/users/ifahim/following{/other_user}", "gists_url": "https://api.github.com/users/ifahim/gists{/gist_id}", "starred_url": "https://api.github.com/users/ifahim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ifahim/subscriptions", "organizations_url": "https://api.github.com/users/ifahim/orgs", "repos_url": "https://api.github.com/users/ifahim/repos", "events_url": "https://api.github.com/users/ifahim/events{/privacy}", "received_events_url": "https://api.github.com/users/ifahim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-22T20:20:15Z", "updated_at": "2019-07-25T00:11:32Z", "closed_at": "2019-07-25T00:11:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Recently i added a second gpu on my machine. Earlier the train.py use to work without any issue but now I started seeing following error:\r\n\r\n`\r\npython train.py  --cfg 'yolov3.cfg' --data-cfg 'yolov3_pytorch.data'  --chkpt_freq 10  --epochs 200\r\n`\r\n\r\n`Using CUDA device0 _CudaDeviceProperties(name='GeForce RTX 2080', total_memory=7952MB)\r\n           device1 _CudaDeviceProperties(name='GeForce GTX 1080 Ti', total_memory=11177MB)\r\nloading darknet weights ........\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 337, in <module>\r\n    chkpt_freq = 10\r\n  File \"train.py\", line 141, in train\r\n    dist.init_process_group(backend=backend, init_method=dist_url, world_size=world_size, rank=rank)\r\nNameError: name 'dist_url' is not defined\r\n` \r\nNot sure why I started getting this.  Including this in the command does not help. dist_url='tcp://127.0.0.1:9999' \r\n\r\n1. How to solve this issue? \r\n2. I want to train on only one of my GPU. Is there a way to tell the code to use only one of the GPU?  ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/384/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/384/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/377", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/377/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/377/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/377/events", "html_url": "https://github.com/ultralytics/yolov3/issues/377", "id": 469705688, "node_id": "MDU6SXNzdWU0Njk3MDU2ODg=", "number": 377, "title": "multi-scale training automatically stops, without error.", "user": {"login": "92ypli", "id": 22673185, "node_id": "MDQ6VXNlcjIyNjczMTg1", "avatar_url": "https://avatars.githubusercontent.com/u/22673185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/92ypli", "html_url": "https://github.com/92ypli", "followers_url": "https://api.github.com/users/92ypli/followers", "following_url": "https://api.github.com/users/92ypli/following{/other_user}", "gists_url": "https://api.github.com/users/92ypli/gists{/gist_id}", "starred_url": "https://api.github.com/users/92ypli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/92ypli/subscriptions", "organizations_url": "https://api.github.com/users/92ypli/orgs", "repos_url": "https://api.github.com/users/92ypli/repos", "events_url": "https://api.github.com/users/92ypli/events{/privacy}", "received_events_url": "https://api.github.com/users/92ypli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-07-18T11:01:40Z", "updated_at": "2019-07-27T00:55:35Z", "closed_at": "2019-07-27T00:55:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nA clear and concise description of what the bug is.\r\nmulti-scale training automatically stops, without error.\r\n\r\n**Screenshots**\r\n![image](https://user-images.githubusercontent.com/22673185/61452464-5c453380-a98e-11e9-9877-13bc88ff1e93.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/377/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/374", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/374/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/374/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/374/events", "html_url": "https://github.com/ultralytics/yolov3/issues/374", "id": 469178237, "node_id": "MDU6SXNzdWU0NjkxNzgyMzc=", "number": 374, "title": "Evaluate my trained model, output seems the original image", "user": {"login": "whitecosmos1996", "id": 48247928, "node_id": "MDQ6VXNlcjQ4MjQ3OTI4", "avatar_url": "https://avatars.githubusercontent.com/u/48247928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whitecosmos1996", "html_url": "https://github.com/whitecosmos1996", "followers_url": "https://api.github.com/users/whitecosmos1996/followers", "following_url": "https://api.github.com/users/whitecosmos1996/following{/other_user}", "gists_url": "https://api.github.com/users/whitecosmos1996/gists{/gist_id}", "starred_url": "https://api.github.com/users/whitecosmos1996/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whitecosmos1996/subscriptions", "organizations_url": "https://api.github.com/users/whitecosmos1996/orgs", "repos_url": "https://api.github.com/users/whitecosmos1996/repos", "events_url": "https://api.github.com/users/whitecosmos1996/events{/privacy}", "received_events_url": "https://api.github.com/users/whitecosmos1996/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-07-17T12:58:11Z", "updated_at": "2019-07-24T15:14:18Z", "closed_at": "2019-07-17T15:19:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can't see the predict bounding box at all, how can I solve this problem?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/374/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/374/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/373", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/373/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/373/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/373/events", "html_url": "https://github.com/ultralytics/yolov3/issues/373", "id": 469163954, "node_id": "MDU6SXNzdWU0NjkxNjM5NTQ=", "number": 373, "title": "RuntimeError: Error(s) in loading state_dict for Darknet", "user": {"login": "whitecosmos1996", "id": 48247928, "node_id": "MDQ6VXNlcjQ4MjQ3OTI4", "avatar_url": "https://avatars.githubusercontent.com/u/48247928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whitecosmos1996", "html_url": "https://github.com/whitecosmos1996", "followers_url": "https://api.github.com/users/whitecosmos1996/followers", "following_url": "https://api.github.com/users/whitecosmos1996/following{/other_user}", "gists_url": "https://api.github.com/users/whitecosmos1996/gists{/gist_id}", "starred_url": "https://api.github.com/users/whitecosmos1996/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whitecosmos1996/subscriptions", "organizations_url": "https://api.github.com/users/whitecosmos1996/orgs", "repos_url": "https://api.github.com/users/whitecosmos1996/repos", "events_url": "https://api.github.com/users/whitecosmos1996/events{/privacy}", "received_events_url": "https://api.github.com/users/whitecosmos1996/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-17T12:27:47Z", "updated_at": "2020-05-08T16:49:14Z", "closed_at": "2019-07-17T15:18:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have uninstalled the old pytorch and made sure to reinstall the latest version, but the above error still appears. How can I fix it\uff1f", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/373/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/373/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/370", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/370/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/370/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/370/events", "html_url": "https://github.com/ultralytics/yolov3/issues/370", "id": 468094384, "node_id": "MDU6SXNzdWU0NjgwOTQzODQ=", "number": 370, "title": "list index out of range because of not considering extreme cases", "user": {"login": "chibai", "id": 5702248, "node_id": "MDQ6VXNlcjU3MDIyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5702248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chibai", "html_url": "https://github.com/chibai", "followers_url": "https://api.github.com/users/chibai/followers", "following_url": "https://api.github.com/users/chibai/following{/other_user}", "gists_url": "https://api.github.com/users/chibai/gists{/gist_id}", "starred_url": "https://api.github.com/users/chibai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chibai/subscriptions", "organizations_url": "https://api.github.com/users/chibai/orgs", "repos_url": "https://api.github.com/users/chibai/repos", "events_url": "https://api.github.com/users/chibai/events{/privacy}", "received_events_url": "https://api.github.com/users/chibai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-15T12:17:02Z", "updated_at": "2019-08-18T20:03:51Z", "closed_at": "2019-07-16T21:16:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nwhen run the python3 train.py\r\nIn line 251 of train.py, the script call test.test(.......)\r\nIn line 147 of test.py(nt = np.bincount(stats[3].astype(np.int64), minlength=nc)  # number of targets per class), the bug will appear if stats is empty list. And there's no other code to resolve the bug\r\n \r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Please set add following code in the line 145 of test.py\r\n    stats = []\r\n2. then run train.py\r\n3. wait until validation after training, then the bug will appear\r\n\r\n\r\n**Expected behavior**\r\nThe training process should go on without break\r\n\r\n**Screenshots**\r\n![\u5fae\u4fe1\u56fe\u7247_20190715201500](https://user-images.githubusercontent.com/5702248/61215415-6b817280-a73d-11e9-835b-b411f1174c77.jpg)\r\n\r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Ubuntu\r\n - Version:18.04\r\n\r\n\r\n\r\n**Additional context**\r\nstats is initiallized as [](empty list), so it's possible that at the line 145 of the test.py, it's still an empty list\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/370/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/370/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/368", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/368/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/368/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/368/events", "html_url": "https://github.com/ultralytics/yolov3/issues/368", "id": 467793033, "node_id": "MDU6SXNzdWU0Njc3OTMwMzM=", "number": 368, "title": "the txt outputs from detect.py are out of boundary", "user": {"login": "rayjan0114", "id": 47523852, "node_id": "MDQ6VXNlcjQ3NTIzODUy", "avatar_url": "https://avatars.githubusercontent.com/u/47523852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayjan0114", "html_url": "https://github.com/rayjan0114", "followers_url": "https://api.github.com/users/rayjan0114/followers", "following_url": "https://api.github.com/users/rayjan0114/following{/other_user}", "gists_url": "https://api.github.com/users/rayjan0114/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayjan0114/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayjan0114/subscriptions", "organizations_url": "https://api.github.com/users/rayjan0114/orgs", "repos_url": "https://api.github.com/users/rayjan0114/repos", "events_url": "https://api.github.com/users/rayjan0114/events{/privacy}", "received_events_url": "https://api.github.com/users/rayjan0114/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-14T04:15:42Z", "updated_at": "2019-07-16T21:02:32Z", "closed_at": "2019-07-16T21:02:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nSome boxes' xyxy that my model detects exceed the original image size.\r\nAny ideas would be grateful.\r\nThanks\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. turn conf_thres=0.001\r\n2. turn save_txt=True\r\n3. run detect.py\r\n\r\n**Version**\r\ncloned at 5 days ago", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/368/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/361", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/361/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/361/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/361/events", "html_url": "https://github.com/ultralytics/yolov3/issues/361", "id": 464120984, "node_id": "MDU6SXNzdWU0NjQxMjA5ODQ=", "number": 361, "title": "dataloader", "user": {"login": "MichaelCong", "id": 50260527, "node_id": "MDQ6VXNlcjUwMjYwNTI3", "avatar_url": "https://avatars.githubusercontent.com/u/50260527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichaelCong", "html_url": "https://github.com/MichaelCong", "followers_url": "https://api.github.com/users/MichaelCong/followers", "following_url": "https://api.github.com/users/MichaelCong/following{/other_user}", "gists_url": "https://api.github.com/users/MichaelCong/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichaelCong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichaelCong/subscriptions", "organizations_url": "https://api.github.com/users/MichaelCong/orgs", "repos_url": "https://api.github.com/users/MichaelCong/repos", "events_url": "https://api.github.com/users/MichaelCong/events{/privacy}", "received_events_url": "https://api.github.com/users/MichaelCong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-04T07:57:14Z", "updated_at": "2023-04-21T21:10:27Z", "closed_at": "2019-07-05T10:24:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"train.py\", line 308, in <module>\r\n    multi_scale=opt.multi_scale,\r\n  File \"train.py\", line 168, in train\r\n    for i, (imgs, targets, _, _) in enumerate(dataloader):\r\n  File \"/home/rencong/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 582, in __next__\r\n    return self._process_next_batch(batch)\r\n  File \"/home/rencong/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 608, in _process_next_batch\r\n    raise batch.exc_type(batch.exc_msg)\r\nRuntimeError: Traceback (most recent call last):\r\n  File \"/home/rencong/anaconda3/lib/python3.6/site-packages/torch/utils/data/_utils/worker.py\", line 99, in _worker_loop\r\n    samples = collate_fn([dataset[i] for i in batch_indices])\r\n  File \"/home/rencong/yolov3-6/utils/datasets.py\", line 338, in collate_fn\r\n    return torch.stack(img, 0), torch.cat(label, 0), path, hw\r\nRuntimeError: invalid argument 0: Sizes of tensors must match except in dimension 0. Got 288 and 416 in dimension 2 at /pytorch/aten/src/TH/generic/THTensor.cpp:711\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/361/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/361/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/360", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/360/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/360/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/360/events", "html_url": "https://github.com/ultralytics/yolov3/issues/360", "id": 463686107, "node_id": "MDU6SXNzdWU0NjM2ODYxMDc=", "number": 360, "title": "NameError: name 'yolo_layer' is not defined", "user": {"login": "zhyj3038", "id": 14101478, "node_id": "MDQ6VXNlcjE0MTAxNDc4", "avatar_url": "https://avatars.githubusercontent.com/u/14101478?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhyj3038", "html_url": "https://github.com/zhyj3038", "followers_url": "https://api.github.com/users/zhyj3038/followers", "following_url": "https://api.github.com/users/zhyj3038/following{/other_user}", "gists_url": "https://api.github.com/users/zhyj3038/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhyj3038/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhyj3038/subscriptions", "organizations_url": "https://api.github.com/users/zhyj3038/orgs", "repos_url": "https://api.github.com/users/zhyj3038/repos", "events_url": "https://api.github.com/users/zhyj3038/events{/privacy}", "received_events_url": "https://api.github.com/users/zhyj3038/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-03T10:59:13Z", "updated_at": "2019-07-03T13:28:49Z", "closed_at": "2019-07-03T13:28:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "# bug\r\n\r\nHi, after I trained a model, and exported  to onnx model, I got this error\r\n\r\nNameError: name 'yolo_layer' is not defined\r\n\r\n# how to reproduce\r\n1 train a model\r\n2 set ONNX_EXPORT = True\r\n3 run detect.py\r\n\r\nthen this error occured!\r\n\r\n \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/360/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/360/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/358", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/358/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/358/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/358/events", "html_url": "https://github.com/ultralytics/yolov3/issues/358", "id": 463605747, "node_id": "MDU6SXNzdWU0NjM2MDU3NDc=", "number": 358, "title": "Multi-scale incompatibility with Rectangular Training", "user": {"login": "cmiller2air", "id": 18655386, "node_id": "MDQ6VXNlcjE4NjU1Mzg2", "avatar_url": "https://avatars.githubusercontent.com/u/18655386?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmiller2air", "html_url": "https://github.com/cmiller2air", "followers_url": "https://api.github.com/users/cmiller2air/followers", "following_url": "https://api.github.com/users/cmiller2air/following{/other_user}", "gists_url": "https://api.github.com/users/cmiller2air/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmiller2air/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmiller2air/subscriptions", "organizations_url": "https://api.github.com/users/cmiller2air/orgs", "repos_url": "https://api.github.com/users/cmiller2air/repos", "events_url": "https://api.github.com/users/cmiller2air/events{/privacy}", "received_events_url": "https://api.github.com/users/cmiller2air/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-07-03T08:06:30Z", "updated_at": "2019-07-25T00:12:29Z", "closed_at": "2019-07-25T00:12:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI used 1024*288 images as a training image, using four  1080ti gpus. I tried to enable both rectangular_training and multi-scale_learning but tensor size mismatch occurred on route modules. The error seems to occur because the input image doesn't have multiples of 32. \r\nIt seems the images are resized and padded to have multiples of 32, but they are changed by resizing part of multi-scale module. Switching the location of the two modules may fix the problem. Or using estimated width and height to scale the image instead of using resizing factor would help too.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/358/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/357", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/357/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/357/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/357/events", "html_url": "https://github.com/ultralytics/yolov3/issues/357", "id": 463222832, "node_id": "MDU6SXNzdWU0NjMyMjI4MzI=", "number": 357, "title": "UnboundLocalError", "user": {"login": "oludash02", "id": 39872951, "node_id": "MDQ6VXNlcjM5ODcyOTUx", "avatar_url": "https://avatars.githubusercontent.com/u/39872951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oludash02", "html_url": "https://github.com/oludash02", "followers_url": "https://api.github.com/users/oludash02/followers", "following_url": "https://api.github.com/users/oludash02/following{/other_user}", "gists_url": "https://api.github.com/users/oludash02/gists{/gist_id}", "starred_url": "https://api.github.com/users/oludash02/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oludash02/subscriptions", "organizations_url": "https://api.github.com/users/oludash02/orgs", "repos_url": "https://api.github.com/users/oludash02/repos", "events_url": "https://api.github.com/users/oludash02/events{/privacy}", "received_events_url": "https://api.github.com/users/oludash02/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-07-02T13:14:46Z", "updated_at": "2019-07-16T21:28:43Z", "closed_at": "2019-07-03T00:12:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I training on my own dataset using the updated train.py code but got this error\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 341, in <module>\r\n    accumulate=opt.accumulate)\r\n  File \"train.py\", line 279, in train\r\n    if best_loss == test_loss:\r\nUnboundLocalError: local variable 'best_loss' referenced before assignment\r\n\r\nThe previous code (before the changes) ran smoothly", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/357/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/357/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/354", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/354/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/354/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/354/events", "html_url": "https://github.com/ultralytics/yolov3/issues/354", "id": 462398401, "node_id": "MDU6SXNzdWU0NjIzOTg0MDE=", "number": 354, "title": "shape", "user": {"login": "MichaelCong", "id": 50260527, "node_id": "MDQ6VXNlcjUwMjYwNTI3", "avatar_url": "https://avatars.githubusercontent.com/u/50260527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichaelCong", "html_url": "https://github.com/MichaelCong", "followers_url": "https://api.github.com/users/MichaelCong/followers", "following_url": "https://api.github.com/users/MichaelCong/following{/other_user}", "gists_url": "https://api.github.com/users/MichaelCong/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichaelCong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichaelCong/subscriptions", "organizations_url": "https://api.github.com/users/MichaelCong/orgs", "repos_url": "https://api.github.com/users/MichaelCong/repos", "events_url": "https://api.github.com/users/MichaelCong/events{/privacy}", "received_events_url": "https://api.github.com/users/MichaelCong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-06-30T12:12:05Z", "updated_at": "2023-04-21T21:10:30Z", "closed_at": "2019-07-02T10:24:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "RuntimeError: shape '[128, 64, 3, 3]' is invalid for input of size 44878\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/354/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/353", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/353/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/353/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/353/events", "html_url": "https://github.com/ultralytics/yolov3/issues/353", "id": 462378878, "node_id": "MDU6SXNzdWU0NjIzNzg4Nzg=", "number": 353, "title": "RuntimeError: set_storage is not allowed on Tensor created from .data or .detach()", "user": {"login": "haoran1062", "id": 23375031, "node_id": "MDQ6VXNlcjIzMzc1MDMx", "avatar_url": "https://avatars.githubusercontent.com/u/23375031?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haoran1062", "html_url": "https://github.com/haoran1062", "followers_url": "https://api.github.com/users/haoran1062/followers", "following_url": "https://api.github.com/users/haoran1062/following{/other_user}", "gists_url": "https://api.github.com/users/haoran1062/gists{/gist_id}", "starred_url": "https://api.github.com/users/haoran1062/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haoran1062/subscriptions", "organizations_url": "https://api.github.com/users/haoran1062/orgs", "repos_url": "https://api.github.com/users/haoran1062/repos", "events_url": "https://api.github.com/users/haoran1062/events{/privacy}", "received_events_url": "https://api.github.com/users/haoran1062/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-30T08:00:24Z", "updated_at": "2023-04-21T21:10:31Z", "closed_at": "2019-06-30T11:03:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "pytorch1.1 cuda9.0, run train get error:\r\n```\r\nModel Summary: 222 layers, 6.15291e+07 parameters, 6.15291e+07 gradients\r\n\r\n   Epoch       Batch        xy        wh      conf       cls     total  nTargets      time\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 308, in <module>\r\n    multi_scale=opt.multi_scale,\r\n  File \"train.py\", line 184, in train\r\n    pred = model(imgs)\r\n  File \"/root/anaconda3/envs/py36/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 491, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/root/anaconda3/envs/py36/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 360, in forward\r\n    self._sync_params()\r\n  File \"/root/anaconda3/envs/py36/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 392, in _sync_params\r\n    param_data.set_(tensor)\r\nRuntimeError: set_storage is not allowed on Tensor created from .data or .detach()\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/353/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/353/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/348", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/348/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/348/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/348/events", "html_url": "https://github.com/ultralytics/yolov3/issues/348", "id": 460785928, "node_id": "MDU6SXNzdWU0NjA3ODU5Mjg=", "number": 348, "title": "Why set batch_normalize to 0 in parse_config.py", "user": {"login": "marsggbo", "id": 13477956, "node_id": "MDQ6VXNlcjEzNDc3OTU2", "avatar_url": "https://avatars.githubusercontent.com/u/13477956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marsggbo", "html_url": "https://github.com/marsggbo", "followers_url": "https://api.github.com/users/marsggbo/followers", "following_url": "https://api.github.com/users/marsggbo/following{/other_user}", "gists_url": "https://api.github.com/users/marsggbo/gists{/gist_id}", "starred_url": "https://api.github.com/users/marsggbo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marsggbo/subscriptions", "organizations_url": "https://api.github.com/users/marsggbo/orgs", "repos_url": "https://api.github.com/users/marsggbo/repos", "events_url": "https://api.github.com/users/marsggbo/events{/privacy}", "received_events_url": "https://api.github.com/users/marsggbo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-26T06:31:34Z", "updated_at": "2019-06-26T09:29:05Z", "closed_at": "2019-06-26T09:29:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "In `parse_config.py`, you set \r\n\r\n```python\r\ndef parse_model_cfg(path):\r\n    \"\"\"Parses the yolo-v3 layer configuration file and returns module definitions\"\"\"\r\n    file = open(path, 'r')\r\n    lines = file.read().split('\\n')\r\n    lines = [x for x in lines if x and not x.startswith('#')]\r\n    lines = [x.rstrip().lstrip() for x in lines]  # get rid of fringe whitespaces\r\n    module_defs = []\r\n    for line in lines:\r\n        if line.startswith('['):  # This marks the start of a new block\r\n            module_defs.append({})\r\n            module_defs[-1]['type'] = line[1:-1].rstrip()\r\n            if module_defs[-1]['type'] == 'convolutional':\r\n                module_defs[-1]['batch_normalize'] = 0  # why is 0?\r\n        else:\r\n            key, value = line.split(\"=\")\r\n            value = value.strip()\r\n            module_defs[-1][key.rstrip()] = value.strip()\r\n\r\n    return module_defs\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/348/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/342", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/342/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/342/events", "html_url": "https://github.com/ultralytics/yolov3/issues/342", "id": 459263016, "node_id": "MDU6SXNzdWU0NTkyNjMwMTY=", "number": 342, "title": "Does the \"reject = True\" in build_targets cause a logical problem?", "user": {"login": "rayjan0114", "id": 47523852, "node_id": "MDQ6VXNlcjQ3NTIzODUy", "avatar_url": "https://avatars.githubusercontent.com/u/47523852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayjan0114", "html_url": "https://github.com/rayjan0114", "followers_url": "https://api.github.com/users/rayjan0114/followers", "following_url": "https://api.github.com/users/rayjan0114/following{/other_user}", "gists_url": "https://api.github.com/users/rayjan0114/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayjan0114/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayjan0114/subscriptions", "organizations_url": "https://api.github.com/users/rayjan0114/orgs", "repos_url": "https://api.github.com/users/rayjan0114/repos", "events_url": "https://api.github.com/users/rayjan0114/events{/privacy}", "received_events_url": "https://api.github.com/users/rayjan0114/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-06-21T15:49:59Z", "updated_at": "2020-06-03T12:02:44Z", "closed_at": "2019-06-24T05:00:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for this great work!  I really appreciate it. I had two questions.\r\n**Describe the issue**\r\n(1). The formula of IoU  \"iou = [wh_iou(x, gwh) for x in layer.anchor_vec]\" always compare with anchor boxes, but those anchor boxes are prior fixed boxes which means we always compare the same thing.\r\nIt might be good at the beginning of training, but as the model has grown, won't it be better to compare with some new states of boxes?\r\n(2). If (1) is true, the reject mask \"j = iou > iou_thres\" will always neglect those targets which are not similar to the prior boxes, and will never be learned by our model?\r\n\r\nBut seems the issues above may be offset by the multi-scale process. \r\nI'm not sure which part I miss, I hope anyone can help. Thanks in advance here.\r\n\r\n**Screenshots**\r\n![image](https://user-images.githubusercontent.com/47523852/59933683-80d7e980-947c-11e9-81ea-9ccebeb900d5.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/342/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/341", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/341/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/341/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/341/events", "html_url": "https://github.com/ultralytics/yolov3/issues/341", "id": 458855053, "node_id": "MDU6SXNzdWU0NTg4NTUwNTM=", "number": 341, "title": "What does \"normalized xywh\" mean?", "user": {"login": "rlewkowicz", "id": 17415445, "node_id": "MDQ6VXNlcjE3NDE1NDQ1", "avatar_url": "https://avatars.githubusercontent.com/u/17415445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rlewkowicz", "html_url": "https://github.com/rlewkowicz", "followers_url": "https://api.github.com/users/rlewkowicz/followers", "following_url": "https://api.github.com/users/rlewkowicz/following{/other_user}", "gists_url": "https://api.github.com/users/rlewkowicz/gists{/gist_id}", "starred_url": "https://api.github.com/users/rlewkowicz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rlewkowicz/subscriptions", "organizations_url": "https://api.github.com/users/rlewkowicz/orgs", "repos_url": "https://api.github.com/users/rlewkowicz/repos", "events_url": "https://api.github.com/users/rlewkowicz/events{/privacy}", "received_events_url": "https://api.github.com/users/rlewkowicz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-06-20T20:19:19Z", "updated_at": "2023-04-21T21:10:37Z", "closed_at": "2019-06-20T22:17:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use Microsoft VoTT to do my image annotation and their V2 product is amazing. I can't live without it now. The only real export they provide though is Pascal VOC format which is that xml style format. There's converters out there, but they either don't work at all or are just wrong in some cases. If I was taking a format like:\r\n\r\n```\r\n    <bndbox>\r\n        <xmin>814.3226424126376</xmin>\r\n        <ymin>376.42021276595744</ymin>\r\n        <xmax>941.1584490186692</xmax>\r\n        <ymax>455.46702127659574</ymax>\r\n    </bndbox>\r\n\r\n```\r\n\r\nAnd try to \"Normalize\" that, what does that mean? ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/341/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/336", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/336/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/336/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/336/events", "html_url": "https://github.com/ultralytics/yolov3/issues/336", "id": 457475794, "node_id": "MDU6SXNzdWU0NTc0NzU3OTQ=", "number": 336, "title": "AttributeError: module 'torch.distributed' has no attribute 'init_process_group'", "user": {"login": "CharlesYXW", "id": 51958687, "node_id": "MDQ6VXNlcjUxOTU4Njg3", "avatar_url": "https://avatars.githubusercontent.com/u/51958687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CharlesYXW", "html_url": "https://github.com/CharlesYXW", "followers_url": "https://api.github.com/users/CharlesYXW/followers", "following_url": "https://api.github.com/users/CharlesYXW/following{/other_user}", "gists_url": "https://api.github.com/users/CharlesYXW/gists{/gist_id}", "starred_url": "https://api.github.com/users/CharlesYXW/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CharlesYXW/subscriptions", "organizations_url": "https://api.github.com/users/CharlesYXW/orgs", "repos_url": "https://api.github.com/users/CharlesYXW/repos", "events_url": "https://api.github.com/users/CharlesYXW/events{/privacy}", "received_events_url": "https://api.github.com/users/CharlesYXW/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-06-18T13:15:56Z", "updated_at": "2020-08-06T07:08:40Z", "closed_at": "2019-06-18T13:47:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Excuse me, when I try to use train.py to train my own data, I found this problem. My torch is 1.1.0 and I have 4 RTX 2080Ti.\r\nCan you help me solve the problem? Thank you!\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/336/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/335", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/335/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/335/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/335/events", "html_url": "https://github.com/ultralytics/yolov3/issues/335", "id": 457274285, "node_id": "MDU6SXNzdWU0NTcyNzQyODU=", "number": 335, "title": "IOS app bug", "user": {"login": "hktxt", "id": 16555750, "node_id": "MDQ6VXNlcjE2NTU1NzUw", "avatar_url": "https://avatars.githubusercontent.com/u/16555750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hktxt", "html_url": "https://github.com/hktxt", "followers_url": "https://api.github.com/users/hktxt/followers", "following_url": "https://api.github.com/users/hktxt/following{/other_user}", "gists_url": "https://api.github.com/users/hktxt/gists{/gist_id}", "starred_url": "https://api.github.com/users/hktxt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hktxt/subscriptions", "organizations_url": "https://api.github.com/users/hktxt/orgs", "repos_url": "https://api.github.com/users/hktxt/repos", "events_url": "https://api.github.com/users/hktxt/events{/privacy}", "received_events_url": "https://api.github.com/users/hktxt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1325556782, "node_id": "MDU6TGFiZWwxMzI1NTU2Nzgy", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/iOS%20App", "name": "iOS App", "color": "FF8300", "default": false, "description": "iDetection iOS Store App"}, {"id": 1890885613, "node_id": "MDU6TGFiZWwxODkwODg1NjEz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/Stale", "name": "Stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-18T05:51:28Z", "updated_at": "2020-03-12T00:09:44Z", "closed_at": "2020-03-12T00:09:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nThis ios app has a problem of screen shot.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\nthe detection algorithm works perfectly. However, it can't capture images which camera sees.\r\nI press the camera icon button, it takes a screen shot, then I check it in photos, but nothing saved only bounding box. \r\n\r\n\r\n**Screenshots**\r\n![image](https://user-images.githubusercontent.com/16555750/59656440-261a6580-91d0-11e9-99a6-80031223c3ee.png)\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [iPhoneXR]\r\n - OS: [iOS12.3.1]\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/335/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/334", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/334/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/334/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/334/events", "html_url": "https://github.com/ultralytics/yolov3/issues/334", "id": 457271051, "node_id": "MDU6SXNzdWU0NTcyNzEwNTE=", "number": 334, "title": "QXcbConnection: Could not connect to display", "user": {"login": "Rainayangyang", "id": 49405041, "node_id": "MDQ6VXNlcjQ5NDA1MDQx", "avatar_url": "https://avatars.githubusercontent.com/u/49405041?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rainayangyang", "html_url": "https://github.com/Rainayangyang", "followers_url": "https://api.github.com/users/Rainayangyang/followers", "following_url": "https://api.github.com/users/Rainayangyang/following{/other_user}", "gists_url": "https://api.github.com/users/Rainayangyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rainayangyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rainayangyang/subscriptions", "organizations_url": "https://api.github.com/users/Rainayangyang/orgs", "repos_url": "https://api.github.com/users/Rainayangyang/repos", "events_url": "https://api.github.com/users/Rainayangyang/events{/privacy}", "received_events_url": "https://api.github.com/users/Rainayangyang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-18T05:39:16Z", "updated_at": "2023-04-21T21:10:41Z", "closed_at": "2019-06-20T06:09:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I train with my own data set, this problem arises. Can you help me? Thank you\uff01\r\n![QQ\u622a\u56fe20190618133726](https://user-images.githubusercontent.com/49405041/59655883-72fd3c80-91ce-11e9-8e6f-75f83504bbfe.jpg)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/334/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/331", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/331/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/331/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/331/events", "html_url": "https://github.com/ultralytics/yolov3/issues/331", "id": 455634578, "node_id": "MDU6SXNzdWU0NTU2MzQ1Nzg=", "number": 331, "title": "RuntimeError: Expected to have finished reduction in the prior iteration before starting a new one", "user": {"login": "feitiandemiaomi", "id": 18325462, "node_id": "MDQ6VXNlcjE4MzI1NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/18325462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feitiandemiaomi", "html_url": "https://github.com/feitiandemiaomi", "followers_url": "https://api.github.com/users/feitiandemiaomi/followers", "following_url": "https://api.github.com/users/feitiandemiaomi/following{/other_user}", "gists_url": "https://api.github.com/users/feitiandemiaomi/gists{/gist_id}", "starred_url": "https://api.github.com/users/feitiandemiaomi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feitiandemiaomi/subscriptions", "organizations_url": "https://api.github.com/users/feitiandemiaomi/orgs", "repos_url": "https://api.github.com/users/feitiandemiaomi/repos", "events_url": "https://api.github.com/users/feitiandemiaomi/events{/privacy}", "received_events_url": "https://api.github.com/users/feitiandemiaomi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-06-13T09:31:52Z", "updated_at": "2023-04-21T21:10:42Z", "closed_at": "2019-06-26T09:31:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, my friend , when I train my data ,a strange error happen, showing as follows:\r\n\r\n**Traceback (most recent call last):\r\n  File \"train.py\", line 342, in <module>\r\n    accumulate=opt.accumulate,\r\n  File \"train.py\", line 224, in train\r\n    pred = model(imgs)\r\n  File \"/home/data/anaconda3/envs/caffe2_py36/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 493, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/data/anaconda3/envs/caffe2_py36/lib/python3.6/site-packages/torch/nn/parallel/distributed.py\", line 392, in forward\r\n    self.reducer.prepare_for_backward([])\r\nRuntimeError: Expected to have finished reduction in the prior iteration before starting a new one. This error indicates that your module has parameters that were not used in producing its output (the return value of `forward`). You can enable unused parameter detection by passing the keyword argument `find_unused_parameters=True` to `torch.nn.parallel.DistributedDataParallel`. If you already have this argument set, then the distributed data parallel module wasn't able to locate the output tensors in the return value of your module's `forward` function. Please include the structure of the return value of `forward` of your module when reporting this issue (e.g. list, dict, iterable). (prepare_for_backward at /pytorch/torch/csrc/distributed/c10d/reducer.cpp:408)\r\nframe #0: std::function<std::string ()>::operator()() const + 0x11 (0x7f6a5435c441 in /home/data/anaconda3/envs/caffe2_py36/lib/python3.6/site-packages/torch/lib/libc10.so)\r\nframe #1: c10::Error::Error(c10::SourceLocation, std::string const&) + 0x2a (0x7f6a5435bd7a in /home/data/anaconda3/envs/caffe2_py36/lib/python3.6/site-packages/torch/lib/libc10.so)\r\nframe #2: c10d::Reducer::prepare_for_backward(std::vector<torch::autograd::Variable, std::allocator<torch::autograd::Variable> > const&) + 0x5ec (0x7f6a54e8283c in /home/data/anaconda3/envs/caffe2_py36/lib/python3.6/site-packages/torch/lib/libtorch_python.so)\r\nframe #3: <unknown function> + 0x6c52bd (0x7f6a54e782bd in /home/data/anaconda3/envs/caffe2_py36/lib/python3.6/site-packages/torch/lib/libtorch_python.so)\r\nframe #4: <unknown function> + 0x130cfc (0x7f6a548e3cfc in /home/data/anaconda3/envs/caffe2_py36/lib/python3.6/site-packages/torch/lib/libtorch_python.so)\r\n<omitting python frames>\r\nframe #33: __libc_start_main + 0xf0 (0x7f6a594a8830 in /lib/x86_64-linux-gnu/libc.so.6)\r\nframe #34: python() [0x4009e9]**\r\n\r\nThis is a puzzling problem, because I use my second dataset ,it is ok , I have try to make a dataset only include one img, but it's still wrong. Is it related to the number of datasets or batch-size\uff1f\r\nI don't know why it happend , and how to slove it, could you give me some advice? Thanks a lot.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/331/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/327", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/327/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/327/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/327/events", "html_url": "https://github.com/ultralytics/yolov3/issues/327", "id": 454718079, "node_id": "MDU6SXNzdWU0NTQ3MTgwNzk=", "number": 327, "title": "Bug-random.choices", "user": {"login": "BITQinYong", "id": 27351432, "node_id": "MDQ6VXNlcjI3MzUxNDMy", "avatar_url": "https://avatars.githubusercontent.com/u/27351432?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BITQinYong", "html_url": "https://github.com/BITQinYong", "followers_url": "https://api.github.com/users/BITQinYong/followers", "following_url": "https://api.github.com/users/BITQinYong/following{/other_user}", "gists_url": "https://api.github.com/users/BITQinYong/gists{/gist_id}", "starred_url": "https://api.github.com/users/BITQinYong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BITQinYong/subscriptions", "organizations_url": "https://api.github.com/users/BITQinYong/orgs", "repos_url": "https://api.github.com/users/BITQinYong/repos", "events_url": "https://api.github.com/users/BITQinYong/events{/privacy}", "received_events_url": "https://api.github.com/users/BITQinYong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-11T14:16:40Z", "updated_at": "2019-06-11T18:01:29Z", "closed_at": "2019-06-11T18:01:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "  Traceback (most recent call last):\r\n  File \"train.py\", line 342, in <module>\r\n    multi_scale=opt.multi_scale,\r\n  File \"train.py\", line 200, in train\r\n    dataset.indices = random.choices(range(dataset.n), weights=image_weights, k=dataset.n)  # random weighted index\r\nAttributeError: module 'random' has no attribute 'choices'\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/327/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/326", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/326/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/326/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/326/events", "html_url": "https://github.com/ultralytics/yolov3/issues/326", "id": 454195145, "node_id": "MDU6SXNzdWU0NTQxOTUxNDU=", "number": 326, "title": "error occur during the training ", "user": {"login": "noobgrow", "id": 34785633, "node_id": "MDQ6VXNlcjM0Nzg1NjMz", "avatar_url": "https://avatars.githubusercontent.com/u/34785633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/noobgrow", "html_url": "https://github.com/noobgrow", "followers_url": "https://api.github.com/users/noobgrow/followers", "following_url": "https://api.github.com/users/noobgrow/following{/other_user}", "gists_url": "https://api.github.com/users/noobgrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/noobgrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/noobgrow/subscriptions", "organizations_url": "https://api.github.com/users/noobgrow/orgs", "repos_url": "https://api.github.com/users/noobgrow/repos", "events_url": "https://api.github.com/users/noobgrow/events{/privacy}", "received_events_url": "https://api.github.com/users/noobgrow/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-10T14:20:12Z", "updated_at": "2019-06-12T16:23:29Z", "closed_at": "2019-06-12T16:23:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n\r\n  File \"/home/dong/yolov3-giou/yolo/train.py\", line 344, in <module>\r\n    multi_scale=opt.multi_scale,\r\n\r\n  File \"/home/dong/yolov3-giou/yolo/train.py\", line 198, in train\r\n    dataset.indices = random.choices(range(dataset.n), weights=image_weights, k=dataset.n)  # random weighted index\r\n\r\n  File \"/home/dong/anaconda3/lib/python3.6/random.py\", line 361, in choices\r\n    return [population[bisect(cum_weights, random() * total)] for i in range(k)]\r\n\r\n  File \"/home/dong/anaconda3/lib/python3.6/random.py\", line 361, in <listcomp>\r\n    return [population[bisect(cum_weights, random() * total)] for i in range(k)]\r\n\r\nIndexError: range object index out of range\r\n\r\n```\r\nI can train for the first several epoch ,but suddenly it come to this error ,\u3000I set the batchsize to 12, where I have 1200 images ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/326/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/324", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/324/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/324/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/324/events", "html_url": "https://github.com/ultralytics/yolov3/issues/324", "id": 454096532, "node_id": "MDU6SXNzdWU0NTQwOTY1MzI=", "number": 324, "title": "i use detect.py to transform from darknet to onnx but i got this mistake.", "user": {"login": "DDFlyInCode", "id": 46618196, "node_id": "MDQ6VXNlcjQ2NjE4MTk2", "avatar_url": "https://avatars.githubusercontent.com/u/46618196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DDFlyInCode", "html_url": "https://github.com/DDFlyInCode", "followers_url": "https://api.github.com/users/DDFlyInCode/followers", "following_url": "https://api.github.com/users/DDFlyInCode/following{/other_user}", "gists_url": "https://api.github.com/users/DDFlyInCode/gists{/gist_id}", "starred_url": "https://api.github.com/users/DDFlyInCode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DDFlyInCode/subscriptions", "organizations_url": "https://api.github.com/users/DDFlyInCode/orgs", "repos_url": "https://api.github.com/users/DDFlyInCode/repos", "events_url": "https://api.github.com/users/DDFlyInCode/events{/privacy}", "received_events_url": "https://api.github.com/users/DDFlyInCode/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-10T10:12:12Z", "updated_at": "2019-06-10T10:13:33Z", "closed_at": "2019-06-10T10:13:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to '...'\r\n2. Click on '....'\r\n3. Scroll down to '....'\r\n4. See error\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/324/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/322", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/322/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/322/events", "html_url": "https://github.com/ultralytics/yolov3/issues/322", "id": 453823297, "node_id": "MDU6SXNzdWU0NTM4MjMyOTc=", "number": 322, "title": "ValueError: operands could not be broadcast together with shapes (3,) (17,) (3,) ", "user": {"login": "asifkareem03", "id": 48887516, "node_id": "MDQ6VXNlcjQ4ODg3NTE2", "avatar_url": "https://avatars.githubusercontent.com/u/48887516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asifkareem03", "html_url": "https://github.com/asifkareem03", "followers_url": "https://api.github.com/users/asifkareem03/followers", "following_url": "https://api.github.com/users/asifkareem03/following{/other_user}", "gists_url": "https://api.github.com/users/asifkareem03/gists{/gist_id}", "starred_url": "https://api.github.com/users/asifkareem03/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asifkareem03/subscriptions", "organizations_url": "https://api.github.com/users/asifkareem03/orgs", "repos_url": "https://api.github.com/users/asifkareem03/repos", "events_url": "https://api.github.com/users/asifkareem03/events{/privacy}", "received_events_url": "https://api.github.com/users/asifkareem03/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-08T18:43:23Z", "updated_at": "2023-04-21T21:10:45Z", "closed_at": "2019-06-09T10:41:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using cuda _CudaDeviceProperties(name='Tesla T4', major=7, minor=5, total_memory=15079MB, multi_processor_count=40)\r\n\r\n      Image      Total          P          R        mAP\r\n         16        200    0.00844     0.0309     0.0176       0.68s\r\n         32        200    0.00755      0.028     0.0147      0.656s\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 213, in <module>\r\n    multi_scale=opt.multi_scale,\r\n  File \"train.py\", line 183, in train\r\n    P, R, mAP = test.test(cfg, data_cfg, weights=latest, batch_size=batch_size, img_size=img_size, model=model)\r\n  File \"/content/drive/My Drive/yolov3-v5/test.py\", line 117, in test\r\n    AP_accum_count += np.bincount(AP_class, minlength=nC)\r\nValueError: operands could not be broadcast together with shapes (3,) (17,) (3,) ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/322/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/321", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/321/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/321/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/321/events", "html_url": "https://github.com/ultralytics/yolov3/issues/321", "id": 453385250, "node_id": "MDU6SXNzdWU0NTMzODUyNTA=", "number": 321, "title": "how to plot the predicted anchor box? ", "user": {"login": "marsggbo", "id": 13477956, "node_id": "MDQ6VXNlcjEzNDc3OTU2", "avatar_url": "https://avatars.githubusercontent.com/u/13477956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marsggbo", "html_url": "https://github.com/marsggbo", "followers_url": "https://api.github.com/users/marsggbo/followers", "following_url": "https://api.github.com/users/marsggbo/following{/other_user}", "gists_url": "https://api.github.com/users/marsggbo/gists{/gist_id}", "starred_url": "https://api.github.com/users/marsggbo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marsggbo/subscriptions", "organizations_url": "https://api.github.com/users/marsggbo/orgs", "repos_url": "https://api.github.com/users/marsggbo/repos", "events_url": "https://api.github.com/users/marsggbo/events{/privacy}", "received_events_url": "https://api.github.com/users/marsggbo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-06-07T07:55:35Z", "updated_at": "2019-06-07T13:55:12Z", "closed_at": "2019-06-07T09:53:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that the code can only plot the ground truth anchor box. Where can I get the prediction (x, y, w, h)?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/321/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/318", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/318/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/318/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/318/events", "html_url": "https://github.com/ultralytics/yolov3/issues/318", "id": 452917448, "node_id": "MDU6SXNzdWU0NTI5MTc0NDg=", "number": 318, "title": "Label path issues when training on own dataset", "user": {"login": "YxChen98", "id": 32979705, "node_id": "MDQ6VXNlcjMyOTc5NzA1", "avatar_url": "https://avatars.githubusercontent.com/u/32979705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YxChen98", "html_url": "https://github.com/YxChen98", "followers_url": "https://api.github.com/users/YxChen98/followers", "following_url": "https://api.github.com/users/YxChen98/following{/other_user}", "gists_url": "https://api.github.com/users/YxChen98/gists{/gist_id}", "starred_url": "https://api.github.com/users/YxChen98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YxChen98/subscriptions", "organizations_url": "https://api.github.com/users/YxChen98/orgs", "repos_url": "https://api.github.com/users/YxChen98/repos", "events_url": "https://api.github.com/users/YxChen98/events{/privacy}", "received_events_url": "https://api.github.com/users/YxChen98/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-06-06T09:10:38Z", "updated_at": "2023-04-21T21:10:47Z", "closed_at": "2019-06-06T11:31:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was following this instruction to train custom dataset:\r\nhttps://github.com/ultralytics/yolov3/wiki/Train-Custom-Data\r\n\r\nAnd I have the dataset downloaded by running get_coco_dataset.sh\r\n\r\nI tried to use the given coco_1cls.data as the training data with the given yolov3-1cls.cfg as the cfg file\r\nMy input command was:\r\npython train.py --data data/coco_1cls.data --cfg cfg/yolov3-1cls.cfg\r\n\r\nAnd what I got was this:\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 341, in <module>\r\n    multi_scale=opt.multi_scale,\r\n  File \"train.py\", line 147, in train\r\n    multi_scale=multi_scale)\r\n  File \"F:\\yolo\\nest\\utils\\datasets.py\", line 208, in __init__\r\n    assert len(np.concatenate(self.labels, 0)) > 0, 'No labels found. Incorrect label paths provided.'\r\nAssertionError: No labels found. Incorrect label paths provided.\r\n\r\nI am using PyCharm 2019,1,2 on Windows 10\r\n\r\nHas anyone experienced this issue?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/318/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/316", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/316/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/316/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/316/events", "html_url": "https://github.com/ultralytics/yolov3/issues/316", "id": 452022281, "node_id": "MDU6SXNzdWU0NTIwMjIyODE=", "number": 316, "title": "module 'random' has no attribute 'choices'.... in train.py", "user": {"login": "Devinwon", "id": 20663923, "node_id": "MDQ6VXNlcjIwNjYzOTIz", "avatar_url": "https://avatars.githubusercontent.com/u/20663923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Devinwon", "html_url": "https://github.com/Devinwon", "followers_url": "https://api.github.com/users/Devinwon/followers", "following_url": "https://api.github.com/users/Devinwon/following{/other_user}", "gists_url": "https://api.github.com/users/Devinwon/gists{/gist_id}", "starred_url": "https://api.github.com/users/Devinwon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Devinwon/subscriptions", "organizations_url": "https://api.github.com/users/Devinwon/orgs", "repos_url": "https://api.github.com/users/Devinwon/repos", "events_url": "https://api.github.com/users/Devinwon/events{/privacy}", "received_events_url": "https://api.github.com/users/Devinwon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-06-04T14:13:53Z", "updated_at": "2023-04-21T21:10:48Z", "closed_at": "2019-06-04T14:34:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,when I run the file train.py,I  confronted an error `AttributeError: module 'random' has no attribute 'choices'`located at line 199 .It was below\r\n```\r\ndataset.indices = random.choices(range(dataset.n), weights=image_weights, k=dataset.n)  \r\n# random weighted index\r\n```\r\nI  found another line 247 is `dataset.img_size = random.choice(range(10, 20)) * 32`\r\n\r\nOne is random.choices(),another is random.choice(),\r\nAt the beginning of  train.py,I also didnt find `import random`\r\n\r\nSo, I dont know what is the difference. \r\n\r\nThanks for you help. \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/316/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/316/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/311", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/311/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/311/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/311/events", "html_url": "https://github.com/ultralytics/yolov3/issues/311", "id": 451076391, "node_id": "MDU6SXNzdWU0NTEwNzYzOTE=", "number": 311, "title": "Yolov3 model trained on custom data returns Nan when used in OpenCV 3.4.6 C++ project", "user": {"login": "joiskash", "id": 48797364, "node_id": "MDQ6VXNlcjQ4Nzk3MzY0", "avatar_url": "https://avatars.githubusercontent.com/u/48797364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joiskash", "html_url": "https://github.com/joiskash", "followers_url": "https://api.github.com/users/joiskash/followers", "following_url": "https://api.github.com/users/joiskash/following{/other_user}", "gists_url": "https://api.github.com/users/joiskash/gists{/gist_id}", "starred_url": "https://api.github.com/users/joiskash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joiskash/subscriptions", "organizations_url": "https://api.github.com/users/joiskash/orgs", "repos_url": "https://api.github.com/users/joiskash/repos", "events_url": "https://api.github.com/users/joiskash/events{/privacy}", "received_events_url": "https://api.github.com/users/joiskash/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-01T11:38:50Z", "updated_at": "2019-06-30T13:33:38Z", "closed_at": "2019-06-30T13:33:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Description**\r\nI trained a yolov3 model on python using pytorch. It works perfectly well in any python implementation. But when I try to use the same model in C++ using openCV 3.4.6 the model returns Nan. I have tested the openCV C++ code using the yolov3.weights model that is provided by you. It works fine with that model too. Any idea as to what I am doing wrong? \r\nPS: This model is trained to predict only one class.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Train model in python using pytorch\r\n2. Convert the model_weights.pt file to model_weights.weights\r\n3. Import model in openCV C++ project\r\n4. Forward pass of model in openCV C++ project returns Nan\r\n\r\nPS: OpenCV version used for training is 3.4.2 and that used for testing on C++ is 3.4.6", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/311/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/308", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/308/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/308/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/308/events", "html_url": "https://github.com/ultralytics/yolov3/issues/308", "id": 450683636, "node_id": "MDU6SXNzdWU0NTA2ODM2MzY=", "number": 308, "title": "your aug has problems.Function random_affine() makes the image exceeds the mask. This maybe lost some objects.", "user": {"login": "majuncai", "id": 32629717, "node_id": "MDQ6VXNlcjMyNjI5NzE3", "avatar_url": "https://avatars.githubusercontent.com/u/32629717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/majuncai", "html_url": "https://github.com/majuncai", "followers_url": "https://api.github.com/users/majuncai/followers", "following_url": "https://api.github.com/users/majuncai/following{/other_user}", "gists_url": "https://api.github.com/users/majuncai/gists{/gist_id}", "starred_url": "https://api.github.com/users/majuncai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/majuncai/subscriptions", "organizations_url": "https://api.github.com/users/majuncai/orgs", "repos_url": "https://api.github.com/users/majuncai/repos", "events_url": "https://api.github.com/users/majuncai/events{/privacy}", "received_events_url": "https://api.github.com/users/majuncai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-31T08:39:55Z", "updated_at": "2019-06-03T12:10:50Z", "closed_at": "2019-06-03T12:10:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to '...'\r\n2. Click on '....'\r\n3. Scroll down to '....'\r\n4. See error\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/308/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/308/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/304", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/304/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/304/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/304/events", "html_url": "https://github.com/ultralytics/yolov3/issues/304", "id": 449345765, "node_id": "MDU6SXNzdWU0NDkzNDU3NjU=", "number": 304, "title": "Train.py Seeking for .SHAPES", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-05-28T15:47:00Z", "updated_at": "2020-03-19T19:03:10Z", "closed_at": "2019-05-28T16:30:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI just created the necessary files and set my dataset according to tutorial. But end up with the error below. Using conda on win10.\r\n\r\n`Namespace(accumulate=1, backend='nccl', batch_size=16, cfg='cfg/cone_yolov3-tiny.cfg', data_cfg='data/deneme_imgs.data', dist_url='tcp://127.0.0.1:9999', epochs=273, evolve=False, img_size=416, multi_scale=False, nosave=False, notest=False, num_workers=4, rank=0, resume=False, transfer=False, var=0, world_size=1)\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1050 with Max-Q Design', total_memory=4096MB)\r\n\r\nModel Summary: 37 layers, 8.79146e+06 parameters, 8.79146e+06 gradients\r\n\r\n   Epoch       Batch        xy        wh      conf       cls     total   targets      time\r\n   0/272         0/0     0.428     0.737      76.3      2.01      79.5        47      5.82\r\nReading image shapes: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 12/12 [00:00<00:00, 6021.25it/s]\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 339, in <module>\r\n    multi_scale=opt.multi_scale,\r\n  File \"train.py\", line 252, in train\r\n    conf_thres=0.1)\r\n  File \"C:\\Users\\Orcun\\yolov3-master\\test.py\", line 47, in test\r\n    dataset = LoadImagesAndLabels(test_path, img_size, batch_size)\r\n  File \"C:\\Users\\Orcun\\yolov3-master\\utils\\datasets.py\", line 172, in __init__\r\n    np.savetxt(sp, s, fmt='%g')\r\n  File \"C:\\Users\\Orcun\\Anaconda3\\envs\\tensfl\\lib\\site-packages\\numpy\\lib\\npyio.py\", line 1359, in savetxt\r\n    open(fname, 'wt').close()\r\nFileNotFoundError: [Errno 2] No such file or directory: 'data\\\\./data/deneme_imgs.shapes'`\r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Win 10 64bit\r\n - Version 10.0.17134\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/304/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/303", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/303/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/303/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/303/events", "html_url": "https://github.com/ultralytics/yolov3/issues/303", "id": 449033689, "node_id": "MDU6SXNzdWU0NDkwMzM2ODk=", "number": 303, "title": "the new epoch loss return back to the last epoch's loss", "user": {"login": "zkchen95", "id": 37893487, "node_id": "MDQ6VXNlcjM3ODkzNDg3", "avatar_url": "https://avatars.githubusercontent.com/u/37893487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zkchen95", "html_url": "https://github.com/zkchen95", "followers_url": "https://api.github.com/users/zkchen95/followers", "following_url": "https://api.github.com/users/zkchen95/following{/other_user}", "gists_url": "https://api.github.com/users/zkchen95/gists{/gist_id}", "starred_url": "https://api.github.com/users/zkchen95/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zkchen95/subscriptions", "organizations_url": "https://api.github.com/users/zkchen95/orgs", "repos_url": "https://api.github.com/users/zkchen95/repos", "events_url": "https://api.github.com/users/zkchen95/events{/privacy}", "received_events_url": "https://api.github.com/users/zkchen95/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-28T02:11:40Z", "updated_at": "2019-05-28T14:02:21Z", "closed_at": "2019-05-28T14:02:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've trained with coco\r\nThe loss and mAP seem to be not converge, after a new epoch, the loss go back to the last epoch's value, as show in the following fig:\r\nIn a epoch, the loss was actually reduced. \r\n![image](https://user-images.githubusercontent.com/37893487/58445721-48204b00-8130-11e9-9da9-5b71819134d6.png)\r\n![image](https://user-images.githubusercontent.com/37893487/58445741-5ec6a200-8130-11e9-8c71-df2fb9d6a696.png)\r\nHowever, the next epoch, the loss go back to high:\r\n![image](https://user-images.githubusercontent.com/37893487/58445776-96354e80-8130-11e9-8e02-572f200b5d15.png)\r\n![image](https://user-images.githubusercontent.com/37893487/58445793-a4836a80-8130-11e9-84e1-651af86cb1f9.png)\r\nThough, the loss was reduced, why they didn't continue the loss of last epoch?\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/303/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/301", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/301/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/301/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/301/events", "html_url": "https://github.com/ultralytics/yolov3/issues/301", "id": 448864296, "node_id": "MDU6SXNzdWU0NDg4NjQyOTY=", "number": 301, "title": "visualize train_batch", "user": {"login": "mehrdadazizi72", "id": 38887451, "node_id": "MDQ6VXNlcjM4ODg3NDUx", "avatar_url": "https://avatars.githubusercontent.com/u/38887451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mehrdadazizi72", "html_url": "https://github.com/mehrdadazizi72", "followers_url": "https://api.github.com/users/mehrdadazizi72/followers", "following_url": "https://api.github.com/users/mehrdadazizi72/following{/other_user}", "gists_url": "https://api.github.com/users/mehrdadazizi72/gists{/gist_id}", "starred_url": "https://api.github.com/users/mehrdadazizi72/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mehrdadazizi72/subscriptions", "organizations_url": "https://api.github.com/users/mehrdadazizi72/orgs", "repos_url": "https://api.github.com/users/mehrdadazizi72/repos", "events_url": "https://api.github.com/users/mehrdadazizi72/events{/privacy}", "received_events_url": "https://api.github.com/users/mehrdadazizi72/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-27T13:42:00Z", "updated_at": "2023-04-21T21:10:57Z", "closed_at": "2019-05-28T14:04:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nwhen I train on my custom dataset (tt100k), the first batch visualize by program but the bbox is not correct. I test bbox on my self and everything is right.\r\n\r\n\r\n**To Reproduce**\r\nthe labels are :\r\n9 0.1162109375 0.33837890625 0.07568359375 0.0986328125\r\n90 0.10904931640625 0.2451171875 0.09087451171874998 0.0927734375\r\n\r\n**Screenshots**\r\n![train_batch0](https://user-images.githubusercontent.com/38887451/58423190-ba9a1800-80a9-11e9-94d8-a27451e3f93a.jpg)\r\n\r\n![out](https://user-images.githubusercontent.com/38887451/58423207-c4238000-80a9-11e9-951c-60af718bf943.jpg)\r\n\r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: ubuntu\r\n - Version 18.04\r\n\r\n**Additional context**\r\npytorch = 1.1.0\r\npython = 3.7\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/301/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/296", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/296/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/296/events", "html_url": "https://github.com/ultralytics/yolov3/issues/296", "id": 447138099, "node_id": "MDU6SXNzdWU0NDcxMzgwOTk=", "number": 296, "title": "Pickle data was truncated", "user": {"login": "enoceanwei", "id": 31890692, "node_id": "MDQ6VXNlcjMxODkwNjky", "avatar_url": "https://avatars.githubusercontent.com/u/31890692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/enoceanwei", "html_url": "https://github.com/enoceanwei", "followers_url": "https://api.github.com/users/enoceanwei/followers", "following_url": "https://api.github.com/users/enoceanwei/following{/other_user}", "gists_url": "https://api.github.com/users/enoceanwei/gists{/gist_id}", "starred_url": "https://api.github.com/users/enoceanwei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/enoceanwei/subscriptions", "organizations_url": "https://api.github.com/users/enoceanwei/orgs", "repos_url": "https://api.github.com/users/enoceanwei/repos", "events_url": "https://api.github.com/users/enoceanwei/events{/privacy}", "received_events_url": "https://api.github.com/users/enoceanwei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-22T13:30:06Z", "updated_at": "2023-04-21T21:11:00Z", "closed_at": "2019-05-26T20:07:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen I used the lasest code, there is problem about the multiprocessing. Which is shown below: \r\n\"_pickle.UnpicklingError: pickle data was truncated\".\r\n\r\n**Log info**\r\n```\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 342, in <module>\r\n    multi_scale=opt.multi_scale,\r\n  File \"train.py\", line 200, in train\r\n    for i, (imgs, targets, _, _) in enumerate(dataloader):\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 193, in __iter__\r\n    return _DataLoaderIter(self)\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 469, in __init__\r\n    w.start()\r\n  File \"C:\\Program Files\\Python37\\lib\\multiprocessing\\process.py\", line 112, in start\r\n    self._popen = self._Popen(self)\r\n  File \"C:\\Program Files\\Python37\\lib\\multiprocessing\\context.py\", line 223, in _Popen\r\n    return _default_context.get_context().Process._Popen(process_obj)\r\n  File \"C:\\Program Files\\Python37\\lib\\multiprocessing\\context.py\", line 322, in _Popen\r\n    return Popen(process_obj)\r\n  File \"C:\\Program Files\\Python37\\lib\\multiprocessing\\popen_spawn_win32.py\", line 89, in __init__\r\n    reduction.dump(process_obj, to_child)\r\n  File \"C:\\Program Files\\Python37\\lib\\multiprocessing\\reduction.py\", line 60, in dump\r\n    ForkingPickler(file, protocol).dump(obj)\r\nOSError: [Errno 22] Invalid argument\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"C:\\Program Files\\Python37\\lib\\multiprocessing\\spawn.py\", line 105, in spawn_main\r\n    exitcode = _main(fd)\r\n  File \"C:\\Program Files\\Python37\\lib\\multiprocessing\\spawn.py\", line 115, in _main\r\n    self = reduction.pickle.load(from_parent)\r\n_pickle.UnpicklingError: pickle data was truncated\r\n```\r\n\r\n**Screenshots**\r\n\r\n![image](https://user-images.githubusercontent.com/31890692/58178266-789f5980-7cd8-11e9-8cea-cb00cd4ecdcb.png)\r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [windows10 x64]\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/296/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/296/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/293", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/293/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/293/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/293/events", "html_url": "https://github.com/ultralytics/yolov3/issues/293", "id": 446184099, "node_id": "MDU6SXNzdWU0NDYxODQwOTk=", "number": 293, "title": "batch is 0 all the time.", "user": {"login": "Star41", "id": 37405516, "node_id": "MDQ6VXNlcjM3NDA1NTE2", "avatar_url": "https://avatars.githubusercontent.com/u/37405516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Star41", "html_url": "https://github.com/Star41", "followers_url": "https://api.github.com/users/Star41/followers", "following_url": "https://api.github.com/users/Star41/following{/other_user}", "gists_url": "https://api.github.com/users/Star41/gists{/gist_id}", "starred_url": "https://api.github.com/users/Star41/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Star41/subscriptions", "organizations_url": "https://api.github.com/users/Star41/orgs", "repos_url": "https://api.github.com/users/Star41/repos", "events_url": "https://api.github.com/users/Star41/events{/privacy}", "received_events_url": "https://api.github.com/users/Star41/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-05-20T15:36:28Z", "updated_at": "2023-04-21T21:11:03Z", "closed_at": "2019-05-21T11:01:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "I train my own data, but the batch is 0. And I cannot use \"python detect.py --cfg cfg/yolov3-custom.cfg --weights weights/custom-100.pt\" to test data. The output is always the primary picture. ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/293/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/291", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/291/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/291/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/291/events", "html_url": "https://github.com/ultralytics/yolov3/issues/291", "id": 445908133, "node_id": "MDU6SXNzdWU0NDU5MDgxMzM=", "number": 291, "title": "AssertionError: File Not Found data/samples/images/aaaaaa.jpg", "user": {"login": "auniquesun", "id": 25259958, "node_id": "MDQ6VXNlcjI1MjU5OTU4", "avatar_url": "https://avatars.githubusercontent.com/u/25259958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auniquesun", "html_url": "https://github.com/auniquesun", "followers_url": "https://api.github.com/users/auniquesun/followers", "following_url": "https://api.github.com/users/auniquesun/following{/other_user}", "gists_url": "https://api.github.com/users/auniquesun/gists{/gist_id}", "starred_url": "https://api.github.com/users/auniquesun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auniquesun/subscriptions", "organizations_url": "https://api.github.com/users/auniquesun/orgs", "repos_url": "https://api.github.com/users/auniquesun/repos", "events_url": "https://api.github.com/users/auniquesun/events{/privacy}", "received_events_url": "https://api.github.com/users/auniquesun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-20T03:28:35Z", "updated_at": "2019-05-20T07:35:11Z", "closed_at": "2019-05-20T07:35:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Below is Error Information I encountered:\r\nimage 889/1495 data/samples/images/abcdefg.jpg: 416x352 1 person, Done. (0.021s)\r\nTraceback (most recent call last):\r\n  File \"detect.py\", line 149, in <module>\r\n    nms_thres=opt.nms_thres\r\n  File \"detect.py\", line 65, in detect\r\n    for i, (path, img, im0, vid_cap) in enumerate(dataloader):\r\n  File \"/data/hhhhhh/iGitRepo/yolov3/utils/datasets.py\", line 73, in __next__\r\n    assert img0 is not None, 'File Not Found ' + path\r\nAssertionError: File Not Found data/samples/images/aaaaaa.jpg\r\n\r\nDescription:\r\nAfter training process stopped, I wanted to test model performance on the weights best.pt I got. Firstly it will load my test images, but error information above always occurred after loading some images. In fact, the image aaaaaa.jpg existed in the data/samples/images and I can find it. In addition, other images were loaded without error. So, what's the reasion of it? I don't want to solve the problem by deleting that image. Any suggestion? I need help.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/291/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/284", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/284/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/284/events", "html_url": "https://github.com/ultralytics/yolov3/issues/284", "id": 444858969, "node_id": "MDU6SXNzdWU0NDQ4NTg5Njk=", "number": 284, "title": "Results do not correspond to current coco set", "user": {"login": "pprp", "id": 29230784, "node_id": "MDQ6VXNlcjI5MjMwNzg0", "avatar_url": "https://avatars.githubusercontent.com/u/29230784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pprp", "html_url": "https://github.com/pprp", "followers_url": "https://api.github.com/users/pprp/followers", "following_url": "https://api.github.com/users/pprp/following{/other_user}", "gists_url": "https://api.github.com/users/pprp/gists{/gist_id}", "starred_url": "https://api.github.com/users/pprp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pprp/subscriptions", "organizations_url": "https://api.github.com/users/pprp/orgs", "repos_url": "https://api.github.com/users/pprp/repos", "events_url": "https://api.github.com/users/pprp/events{/privacy}", "received_events_url": "https://api.github.com/users/pprp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-16T09:49:03Z", "updated_at": "2019-05-20T13:29:09Z", "closed_at": "2019-05-20T13:29:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI am training my custom datasets. After training, I run `python test.py --save-json --weights weights/best.pt` and meet the following error:\r\n\r\n```\r\nloading annotations into memory...\r\nDone (t=0.00s)\r\ncreating index...\r\nindex created!\r\nLoading and preparing results...\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 209, in <module>\r\n    opt.save_json\r\n  File \"test.py\", line 169, in test\r\n    cocoDt = cocoGt.loadRes('results.json')  # initialize COCO pred api\r\n  File \"/media/cieserver/209b4bc6-b4ad-4a37-b5ee-cde3c165103e/dpj/github/yolov3.pytorch/pycocotools/coco.py\", line 317, in loadRes\r\n    'Results do not correspond to current coco set'\r\nAssertionError: Results do not correspond to current coco set\r\n```\r\n\r\nwhat should I do with my datasets?  Thank you very much!!\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/284/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/283", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/283/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/283/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/283/events", "html_url": "https://github.com/ultralytics/yolov3/issues/283", "id": 444815525, "node_id": "MDU6SXNzdWU0NDQ4MTU1MjU=", "number": 283, "title": "ERROR: Unexpected bus error encountered in worker. This might be caused by insufficient shared memory (shm).", "user": {"login": "auniquesun", "id": 25259958, "node_id": "MDQ6VXNlcjI1MjU5OTU4", "avatar_url": "https://avatars.githubusercontent.com/u/25259958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auniquesun", "html_url": "https://github.com/auniquesun", "followers_url": "https://api.github.com/users/auniquesun/followers", "following_url": "https://api.github.com/users/auniquesun/following{/other_user}", "gists_url": "https://api.github.com/users/auniquesun/gists{/gist_id}", "starred_url": "https://api.github.com/users/auniquesun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auniquesun/subscriptions", "organizations_url": "https://api.github.com/users/auniquesun/orgs", "repos_url": "https://api.github.com/users/auniquesun/repos", "events_url": "https://api.github.com/users/auniquesun/events{/privacy}", "received_events_url": "https://api.github.com/users/auniquesun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-05-16T08:15:50Z", "updated_at": "2023-04-21T21:11:08Z", "closed_at": "2019-05-20T02:23:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I start training process on my Red Hat Enterprise Linux Server 7.4, after hundreds of iterations, the error always occurred: **Unexpected bus error encountered in worker. This might be caused by insufficient shared memory (shm)**. What should I do to solve this problem? I need help.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/283/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/283/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/281", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/281/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/281/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/281/events", "html_url": "https://github.com/ultralytics/yolov3/issues/281", "id": 444560938, "node_id": "MDU6SXNzdWU0NDQ1NjA5Mzg=", "number": 281, "title": "Transfer Learning Freezes", "user": {"login": "dkendall100", "id": 43619961, "node_id": "MDQ6VXNlcjQzNjE5OTYx", "avatar_url": "https://avatars.githubusercontent.com/u/43619961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkendall100", "html_url": "https://github.com/dkendall100", "followers_url": "https://api.github.com/users/dkendall100/followers", "following_url": "https://api.github.com/users/dkendall100/following{/other_user}", "gists_url": "https://api.github.com/users/dkendall100/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkendall100/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkendall100/subscriptions", "organizations_url": "https://api.github.com/users/dkendall100/orgs", "repos_url": "https://api.github.com/users/dkendall100/repos", "events_url": "https://api.github.com/users/dkendall100/events{/privacy}", "received_events_url": "https://api.github.com/users/dkendall100/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-15T17:35:30Z", "updated_at": "2019-05-28T17:22:55Z", "closed_at": "2019-05-28T14:12:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhile attempting to implement transfer learning, I came across an issue. I did not make a good record of it happening, but I plan to recreate it again soon and update this issue. \r\n\r\nI attempted to implement transfer learning and modified the system to detect a single class. While the model was training on the data set it froze on the 21st epoch, GPU resources were locked up, so I aborted the training. \r\n\r\nI attempted to start transfer learning training again, but it did the same thing. Everything worked fine until the 21st epoch then it froze, and seemed to happen around the same percentage. I resolved to train the model on every layer instead of implementing the transfer learning switch, and everything worked fine. \r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Try to train a single class model with transfer learning\r\n2. Observe the training freeze on the 21st epoch\r\n\r\n**Expected behavior**\r\nThe model to train without any problems.\r\n\r\n**Screenshots**\r\n[transfer_learning_freeze.txt](https://github.com/ultralytics/yolov3/files/3194791/transfer_learning_freeze.txt)\r\n![freeze](https://user-images.githubusercontent.com/43619961/57978127-3fab7000-79cc-11e9-8d1e-2e77f472bc6f.png)\r\n\r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Ubuntu 18.04\r\n\r\n**Smartphone (please complete the following information):**\r\n N/A\r\n\r\n**Additional context**\r\nI was training my model on an AMD Ryzen 1600X desktop computer with an NVIDIA RTX 2060 GPU.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/281/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/278", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/278/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/278/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/278/events", "html_url": "https://github.com/ultralytics/yolov3/issues/278", "id": 444280753, "node_id": "MDU6SXNzdWU0NDQyODA3NTM=", "number": 278, "title": "Augment=False raises error", "user": {"login": "mlbach", "id": 38857773, "node_id": "MDQ6VXNlcjM4ODU3Nzcz", "avatar_url": "https://avatars.githubusercontent.com/u/38857773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mlbach", "html_url": "https://github.com/mlbach", "followers_url": "https://api.github.com/users/mlbach/followers", "following_url": "https://api.github.com/users/mlbach/following{/other_user}", "gists_url": "https://api.github.com/users/mlbach/gists{/gist_id}", "starred_url": "https://api.github.com/users/mlbach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mlbach/subscriptions", "organizations_url": "https://api.github.com/users/mlbach/orgs", "repos_url": "https://api.github.com/users/mlbach/repos", "events_url": "https://api.github.com/users/mlbach/events{/privacy}", "received_events_url": "https://api.github.com/users/mlbach/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-15T07:32:17Z", "updated_at": "2023-04-21T21:11:11Z", "closed_at": "2019-05-15T14:09:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "@glenn-jocher Thanks for creating and maintaining this great repo!\r\n\r\n**Describe the bug**\r\nI can successfully train a model on my own data. I used augmentation to enlarge my dataset in preparation and wanted to turn off augmentation at runtime, to speed up training. However, when I turn it off, I get a (seemingly unrelated) error:\r\n\r\n> /media/nvidia/Jetspace/pytorch/aten/src/ATen/native/cuda/IndexKernel.cu:53: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [64,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n> /media/nvidia/Jetspace/pytorch/aten/src/ATen/native/cuda/IndexKernel.cu:53: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [65,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n> /media/nvidia/Jetspace/pytorch/aten/src/ATen/native/cuda/IndexKernel.cu:53: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [66,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n> /media/nvidia/Jetspace/pytorch/aten/src/ATen/native/cuda/IndexKernel.cu:53: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [67,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n> /media/nvidia/Jetspace/pytorch/aten/src/ATen/native/cuda/IndexKernel.cu:53: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [68,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n> /media/nvidia/Jetspace/pytorch/aten/src/ATen/native/cuda/IndexKernel.cu:53: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [69,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n> /media/nvidia/Jetspace/pytorch/aten/src/ATen/native/cuda/IndexKernel.cu:53: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [70,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n> /media/nvidia/Jetspace/pytorch/aten/src/ATen/native/cuda/IndexKernel.cu:53: lambda [](int)->auto::operator()(int)->auto: block: [0,0,0], thread: [71,0,0] Assertion `index >= -sizes[i] && index < sizes[i] && \"index out of bounds\"` failed.\r\n> Traceback (most recent call last):\r\n>   File \"train.py\", line 320, in <module>\r\n>     multi_scale=opt.multi_scale,\r\n>   File \"train.py\", line 197, in train\r\n>     loss, loss_items = compute_loss(pred, targets, model)\r\n>   File \"/home/nvidia/Documents/Ampair/yolov3/utils/utils.py\", line 288, in compute_loss\r\n>     lxy += (k * h['xy']) * MSE(torch.sigmoid(pi[..., 0:2]), txy[i])  # xy loss\r\n>   File \"/usr/local/lib/python3.5/dist-packages/torch/nn/modules/module.py\", line 489, in __call__\r\n>     result = self.forward(*input, **kwargs)\r\n>   File \"/usr/local/lib/python3.5/dist-packages/torch/nn/modules/loss.py\", line 435, in forward\r\n>     return F.mse_loss(input, target, reduction=self.reduction)\r\n>   File \"/usr/local/lib/python3.5/dist-packages/torch/nn/functional.py\", line 2156, in mse_loss\r\n>     ret = torch._C._nn.mse_loss(expanded_input, expanded_target, **_Reduction.get_enum(reduction))\r\n> RuntimeError: reduce failed to synchronize: device-side assert triggered**\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to 'train.py' and set `augment=False` in `LoadImagesAndLabels` (line 122)\r\n2. Run train.py to train the model\r\n3. See error (occurs in the first 5-10 batches)\r\n\r\n**Expected behavior**\r\nStable training without augmentation, just like it works with `augment=True`.\r\n\r\n**NVIDIA Jetson TX2:**\r\n- Jetpack 3.3 | 3.2.1 [L4T 28.2.1]\r\n- Ubuntu 16.04 LTS (GNU/Linux 4.4.38-tegra aarch64)\r\n- Python 3.5\r\n- PyTorch 1.0.0\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/278/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/278/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/277", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/277/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/277/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/277/events", "html_url": "https://github.com/ultralytics/yolov3/issues/277", "id": 444016374, "node_id": "MDU6SXNzdWU0NDQwMTYzNzQ=", "number": 277, "title": "Parameter mismatch during the training", "user": {"login": "yanfei96", "id": 48779515, "node_id": "MDQ6VXNlcjQ4Nzc5NTE1", "avatar_url": "https://avatars.githubusercontent.com/u/48779515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yanfei96", "html_url": "https://github.com/yanfei96", "followers_url": "https://api.github.com/users/yanfei96/followers", "following_url": "https://api.github.com/users/yanfei96/following{/other_user}", "gists_url": "https://api.github.com/users/yanfei96/gists{/gist_id}", "starred_url": "https://api.github.com/users/yanfei96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yanfei96/subscriptions", "organizations_url": "https://api.github.com/users/yanfei96/orgs", "repos_url": "https://api.github.com/users/yanfei96/repos", "events_url": "https://api.github.com/users/yanfei96/events{/privacy}", "received_events_url": "https://api.github.com/users/yanfei96/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2019-05-14T16:40:09Z", "updated_at": "2023-04-21T21:11:12Z", "closed_at": "2019-05-14T16:47:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is something wrong as follows when I trained 40000 pictures but the program is running well when I trained 6 pictures. Could you give some advice? Thank you very much.\r\n```\r\npython3 train.py --cfg cfg/yolov3.cfg --batch-size 25\r\nNamespace(accumulate=1, backend='nccl', batch_size=25, cfg='cfg/yolov3.cfg', data_cfg='data/coco.data', dist_url='tcp://127.0.0.1:9999', epochs=273, evolve=False, img_size=416, multi_scale=False, nosave=False, notest=False, num_workers=4, rank=0, resume=False, transfer=False, var=0, world_size=1)\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX TITAN X', total_memory=12212MB)\r\n\r\nReading labels: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 29379/29379 [00:01<00:00, 21934.37it/s]\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 340, in <module>\r\n    multi_scale=opt.multi_scale,\r\n  File \"train.py\", line 170, in train\r\n    model.class_weights = labels_to_class_weights(dataset.labels, nc).to(device)  # attach class weights\r\n  File \"/home/ubuntu/yolo_v3/utils/utils.py\", line 56, in labels_to_class_weights\r\n    labels = np.concatenate(labels, 0)  # labels.shape = (866643, 5) for COCO\r\nValueError: all the input arrays must have same number of dimensions\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/277/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/277/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/276", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/276/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/276/events", "html_url": "https://github.com/ultralytics/yolov3/issues/276", "id": 443997698, "node_id": "MDU6SXNzdWU0NDM5OTc2OTg=", "number": 276, "title": "ONNX export for tiny yolov3 fails", "user": {"login": "romanoss", "id": 2591631, "node_id": "MDQ6VXNlcjI1OTE2MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2591631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/romanoss", "html_url": "https://github.com/romanoss", "followers_url": "https://api.github.com/users/romanoss/followers", "following_url": "https://api.github.com/users/romanoss/following{/other_user}", "gists_url": "https://api.github.com/users/romanoss/gists{/gist_id}", "starred_url": "https://api.github.com/users/romanoss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/romanoss/subscriptions", "organizations_url": "https://api.github.com/users/romanoss/orgs", "repos_url": "https://api.github.com/users/romanoss/repos", "events_url": "https://api.github.com/users/romanoss/events{/privacy}", "received_events_url": "https://api.github.com/users/romanoss/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-14T15:58:26Z", "updated_at": "2019-05-14T17:15:57Z", "closed_at": "2019-05-14T17:15:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "!python3 detect.py --cfg cfg/yolov3-tiny.cfg --weights weights/yolov3-tiny.weights \r\n\r\nproduces with pytorch 1.0.1:\r\n\r\n```bash\r\nNamespace(cfg='cfg/yolov3-tiny.cfg', conf_thres=0.5, data_cfg='data/coco.data', images='data/samples', img_size=416, nms_thres=0.5, weights='weights/yolov3-tiny.weights')\r\nUsing CPU\r\n\r\n/content/yolov3/models.py:192: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  img_size = max(x.shape[-2:])\r\nTraceback (most recent call last):\r\n  File \"detect.py\", line 140, in <module>\r\n    nms_thres=opt.nms_thres\r\n  File \"detect.py\", line 49, in detect\r\n    torch.onnx.export(model, img, 'weights/export.onnx', verbose=True,input_names=['image'])\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/onnx/__init__.py\", line 27, in export\r\n    return utils.export(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/onnx/utils.py\", line 104, in export\r\n    operator_export_type=operator_export_type)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/onnx/utils.py\", line 281, in _export\r\n    example_outputs, propagate)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/onnx/utils.py\", line 224, in _model_to_graph\r\n    graph, torch_out = _trace_and_get_graph_from_model(model, args, training)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/onnx/utils.py\", line 192, in _trace_and_get_graph_from_model\r\n    trace, torch_out = torch.jit.get_trace_graph(model, args, _force_outplace=True)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/jit/__init__.py\", line 197, in get_trace_graph\r\n    return LegacyTracedModule(f, _force_outplace)(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py\", line 489, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/jit/__init__.py\", line 252, in forward\r\n    out = self.inner(*trace_inputs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py\", line 487, in __call__\r\n    result = self._slow_forward(*input, **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py\", line 477, in _slow_forward\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/content/yolov3/models.py\", line 210, in forward\r\n    x = module[0](x, img_size)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py\", line 487, in __call__\r\n    result = self._slow_forward(*input, **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py\", line 477, in _slow_forward\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/content/yolov3/models.py\", line 130, in forward\r\n    p = p.view(bs, self.na, self.nc + 5, self.ny, self.nx).permute(0, 1, 3, 4, 2).contiguous()  # prediction\r\nRuntimeError: shape '[1, 3, 85, 6, 6]' is invalid for input of size 43095\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/276/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/275", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/275/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/275/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/275/events", "html_url": "https://github.com/ultralytics/yolov3/issues/275", "id": 443748368, "node_id": "MDU6SXNzdWU0NDM3NDgzNjg=", "number": 275, "title": "get_coco_dataset.sh bug", "user": {"login": "SZUHvern", "id": 31432912, "node_id": "MDQ6VXNlcjMxNDMyOTEy", "avatar_url": "https://avatars.githubusercontent.com/u/31432912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SZUHvern", "html_url": "https://github.com/SZUHvern", "followers_url": "https://api.github.com/users/SZUHvern/followers", "following_url": "https://api.github.com/users/SZUHvern/following{/other_user}", "gists_url": "https://api.github.com/users/SZUHvern/gists{/gist_id}", "starred_url": "https://api.github.com/users/SZUHvern/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SZUHvern/subscriptions", "organizations_url": "https://api.github.com/users/SZUHvern/orgs", "repos_url": "https://api.github.com/users/SZUHvern/repos", "events_url": "https://api.github.com/users/SZUHvern/events{/privacy}", "received_events_url": "https://api.github.com/users/SZUHvern/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-14T07:16:06Z", "updated_at": "2019-05-14T07:35:08Z", "closed_at": "2019-05-14T07:34:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "when i use 'sh data/get_coco_dataset.sh'\r\nit produced an error:\r\n\r\ndata/get_coco_dataset.sh: 30: data/get_coco_dataset.sh: Syntax error: \"(\" unexpected\r\n\r\nMy system is ubuntu16.04, I don't know if it is this problem.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/275/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/272", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/272/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/272/events", "html_url": "https://github.com/ultralytics/yolov3/issues/272", "id": 443058426, "node_id": "MDU6SXNzdWU0NDMwNTg0MjY=", "number": 272, "title": "cannot read datasets correctly during the training", "user": {"login": "yanfei96", "id": 48779515, "node_id": "MDQ6VXNlcjQ4Nzc5NTE1", "avatar_url": "https://avatars.githubusercontent.com/u/48779515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yanfei96", "html_url": "https://github.com/yanfei96", "followers_url": "https://api.github.com/users/yanfei96/followers", "following_url": "https://api.github.com/users/yanfei96/following{/other_user}", "gists_url": "https://api.github.com/users/yanfei96/gists{/gist_id}", "starred_url": "https://api.github.com/users/yanfei96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yanfei96/subscriptions", "organizations_url": "https://api.github.com/users/yanfei96/orgs", "repos_url": "https://api.github.com/users/yanfei96/repos", "events_url": "https://api.github.com/users/yanfei96/events{/privacy}", "received_events_url": "https://api.github.com/users/yanfei96/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-12T03:00:18Z", "updated_at": "2019-05-12T15:01:13Z", "closed_at": "2019-05-12T15:01:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your project. I have tested it successfully, but I have something wrong during the training. The information is as follows. Can you give some suggestions?\r\npython train.py\r\nNamespace(accumulate=1, backend='nccl', batch_size=16, cfg='cfg/yolov3-spp.cfg', data_cfg='data/coco.data', dist_url='tcp://127.0.0.1:9999', epochs=273, evolve=False, img_size=416, multi_scale=False, nosave=False, notest=False, num_workers=4, rank=0, resume=False, transfer=False, var=0, world_size=1)\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX TITAN X', total_memory=12209MB)\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 338, in <module>\r\n    multi_scale=opt.multi_scale,\r\n  File \"train.py\", line 141, in train\r\n    dataset = LoadImagesAndLabels(train_path, img_size, batch_size, augment=True, rect=True, image_weights=True)\r\n  File \"/home/ubuntu/yolov3/utils/datasets.py\", line 134, in __init__\r\n    with open(path, 'r') as f:\r\nFileNotFoundError: [Errno 2] No such file or directory: '../coco/trainvalno5k.txt'\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/272/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/258", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/258/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/258/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/258/events", "html_url": "https://github.com/ultralytics/yolov3/issues/258", "id": 440388150, "node_id": "MDU6SXNzdWU0NDAzODgxNTA=", "number": 258, "title": "PyTorch 1.1 ONNX export error", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-05-05T01:42:18Z", "updated_at": "2019-08-06T15:46:19Z", "closed_at": "2019-08-06T15:46:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello with current master after setting ONNX_EXPORT to True, detect.py failed with \r\nRuntimeError: Input type (torch.FloatTensor) and weight type (torch.cuda.FloatTensor) should be the same\r\n\r\n\r\n$ python3 detect.py --cfg yolov3.cfg --weights yolov3.weights \r\nNamespace(cfg='yolov3.cfg', conf_thres=0.5, data_cfg='data/coco.data', images='data/samples', img_size=416, nms_thres=0.5, weights='yolov3.weights')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1080 Ti', total_memory=11178MB)\r\n\r\n/home/clement/Downloads/ultralytics/models.py:192: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  img_size = max(x.shape[-2:])\r\nTraceback (most recent call last):\r\n  File \"detect.py\", line 140, in <module>\r\n    nms_thres=opt.nms_thres\r\n  File \"detect.py\", line 49, in detect\r\n    torch.onnx.export(model, img, 'weights/export.onnx', verbose=True)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/onnx/__init__.py\", line 25, in export\r\n    return utils.export(*args, **kwargs)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/onnx/utils.py\", line 131, in export\r\n    strip_doc_string=strip_doc_string)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/onnx/utils.py\", line 363, in _export\r\n    _retain_param_name, do_constant_folding)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/onnx/utils.py\", line 266, in _model_to_graph\r\n    graph, torch_out = _trace_and_get_graph_from_model(model, args, training)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/onnx/utils.py\", line 225, in _trace_and_get_graph_from_model\r\n    trace, torch_out = torch.jit.get_trace_graph(model, args, _force_outplace=True)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/jit/__init__.py\", line 231, in get_trace_graph\r\n    return LegacyTracedModule(f, _force_outplace, return_inputs)(*args, **kwargs)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 493, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/jit/__init__.py\", line 294, in forward\r\n    out = self.inner(*trace_inputs)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 491, in __call__\r\n    result = self._slow_forward(*input, **kwargs)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 481, in _slow_forward\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/clement/Downloads/ultralytics/models.py\", line 199, in forward\r\n    x = module(x)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 491, in __call__\r\n    result = self._slow_forward(*input, **kwargs)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 481, in _slow_forward\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/nn/modules/container.py\", line 92, in forward\r\n    input = module(input)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 491, in __call__\r\n    result = self._slow_forward(*input, **kwargs)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 481, in _slow_forward\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/clement/.local/lib/python3.6/site-packages/torch/nn/modules/conv.py\", line 338, in forward\r\n    self.padding, self.dilation, self.groups)\r\nRuntimeError: Input type (torch.FloatTensor) and weight type (torch.cuda.FloatTensor) should be the same\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/258/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/255", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/255/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/255/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/255/events", "html_url": "https://github.com/ultralytics/yolov3/issues/255", "id": 439899780, "node_id": "MDU6SXNzdWU0Mzk4OTk3ODA=", "number": 255, "title": "bug of training with \"--evolve\" option (training on a single machine with multi-GPU)", "user": {"login": "zhou-ren", "id": 5122098, "node_id": "MDQ6VXNlcjUxMjIwOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5122098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhou-ren", "html_url": "https://github.com/zhou-ren", "followers_url": "https://api.github.com/users/zhou-ren/followers", "following_url": "https://api.github.com/users/zhou-ren/following{/other_user}", "gists_url": "https://api.github.com/users/zhou-ren/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhou-ren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhou-ren/subscriptions", "organizations_url": "https://api.github.com/users/zhou-ren/orgs", "repos_url": "https://api.github.com/users/zhou-ren/repos", "events_url": "https://api.github.com/users/zhou-ren/events{/privacy}", "received_events_url": "https://api.github.com/users/zhou-ren/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-05-03T06:05:13Z", "updated_at": "2019-07-25T01:25:54Z", "closed_at": "2019-07-25T01:25:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**1. Describe the bug**\r\nWhen training on a multi-GPU single machine, e.g., \"python3 train.py --evolve --data data/coco_100img.data  --epochs 3\", it will report error \"**_RuntimeError: trying to initialize the default process group twice!_**\" at the second evolve cycle when initializing the pytorch distributed training.\r\n\r\nI tried to add \"dist.destroy_process_group()\" at the end of the train() function. But it still reports error \"**_RuntimeError: Address already in use_**\".\r\n\r\n\r\n**2. To Reproduce**\r\nSteps to reproduce the behavior:\r\n1). use a multi-gpu single machine\r\n2). run script \"python3 train.py --evolve --data data/coco_100img.data  --epochs 3\"\r\n3). will see the error\r\n\r\n**3. Expected behavior**\r\nIt should clear GPU memory at the end of every distributed training function. When evolving into the next generation (cycle), the dist.init_process_group() should work and start training for the next cycle.\r\n\r\n**4. Desktop (please complete the following information):**\r\n - OS: Ubuntu \r\n - Version 18.04\r\n - PyTorch 1.0.1 (Glenn also noticed this problem in PyTorch 1.1)\r\n - Python 3.7\r\n\r\nThis problem is related to pytorch distributed package but I cannot figure it out. \r\nThank you so much for the help!\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/255/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/254", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/254/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/254/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/254/events", "html_url": "https://github.com/ultralytics/yolov3/issues/254", "id": 439891982, "node_id": "MDU6SXNzdWU0Mzk4OTE5ODI=", "number": 254, "title": "Training single class", "user": {"login": "InstantWindy", "id": 23608180, "node_id": "MDQ6VXNlcjIzNjA4MTgw", "avatar_url": "https://avatars.githubusercontent.com/u/23608180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InstantWindy", "html_url": "https://github.com/InstantWindy", "followers_url": "https://api.github.com/users/InstantWindy/followers", "following_url": "https://api.github.com/users/InstantWindy/following{/other_user}", "gists_url": "https://api.github.com/users/InstantWindy/gists{/gist_id}", "starred_url": "https://api.github.com/users/InstantWindy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InstantWindy/subscriptions", "organizations_url": "https://api.github.com/users/InstantWindy/orgs", "repos_url": "https://api.github.com/users/InstantWindy/repos", "events_url": "https://api.github.com/users/InstantWindy/events{/privacy}", "received_events_url": "https://api.github.com/users/InstantWindy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-03T05:25:19Z", "updated_at": "2023-04-21T21:11:24Z", "closed_at": "2019-05-05T02:18:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! When I traing my own dataset which contain one class with your model, it appears error,as shown in the following figure\r\n![image](https://user-images.githubusercontent.com/23608180/57120893-da8a3480-6da6-11e9-8d83-508f1fd0d721.png)\r\nThanks\uff01", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/253", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/253/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/253/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/253/events", "html_url": "https://github.com/ultralytics/yolov3/issues/253", "id": 439184049, "node_id": "MDU6SXNzdWU0MzkxODQwNDk=", "number": 253, "title": "Label Fromat", "user": {"login": "InstantWindy", "id": 23608180, "node_id": "MDQ6VXNlcjIzNjA4MTgw", "avatar_url": "https://avatars.githubusercontent.com/u/23608180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InstantWindy", "html_url": "https://github.com/InstantWindy", "followers_url": "https://api.github.com/users/InstantWindy/followers", "following_url": "https://api.github.com/users/InstantWindy/following{/other_user}", "gists_url": "https://api.github.com/users/InstantWindy/gists{/gist_id}", "starred_url": "https://api.github.com/users/InstantWindy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InstantWindy/subscriptions", "organizations_url": "https://api.github.com/users/InstantWindy/orgs", "repos_url": "https://api.github.com/users/InstantWindy/repos", "events_url": "https://api.github.com/users/InstantWindy/events{/privacy}", "received_events_url": "https://api.github.com/users/InstantWindy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-01T14:30:05Z", "updated_at": "2019-11-22T23:31:01Z", "closed_at": "2019-05-01T15:18:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! In your 'dataset.py' ,' labels_out = torch.zeros((nL, 6))', I don't understand why you set label batch_size x 6 dimesion. I think that it should be bacth_size x 5 dimension which represents x,y,w,h. Thanks! ", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/253/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/243", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/243/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/243/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/243/events", "html_url": "https://github.com/ultralytics/yolov3/issues/243", "id": 438094577, "node_id": "MDU6SXNzdWU0MzgwOTQ1Nzc=", "number": 243, "title": "Video Codec Hard Coded", "user": {"login": "dkendall100", "id": 43619961, "node_id": "MDQ6VXNlcjQzNjE5OTYx", "avatar_url": "https://avatars.githubusercontent.com/u/43619961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkendall100", "html_url": "https://github.com/dkendall100", "followers_url": "https://api.github.com/users/dkendall100/followers", "following_url": "https://api.github.com/users/dkendall100/following{/other_user}", "gists_url": "https://api.github.com/users/dkendall100/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkendall100/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkendall100/subscriptions", "organizations_url": "https://api.github.com/users/dkendall100/orgs", "repos_url": "https://api.github.com/users/dkendall100/repos", "events_url": "https://api.github.com/users/dkendall100/events{/privacy}", "received_events_url": "https://api.github.com/users/dkendall100/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-04-28T20:05:33Z", "updated_at": "2019-05-18T10:47:13Z", "closed_at": "2019-05-18T10:47:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen you run with a video as the operand, it doesn't output the file to the specified directory. This is because the FourCC code is hardcoded to 'avc1' instead of using the input video's fourcc. \r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Run '''python3 detect.py --images ~/Video_File_Here.mp4\r\n2. You then see verbose output and the network is running properly\r\n3. No output file is generated.\r\n\r\n(When I changed the output fourcc to mp4 it output the video fine.)\r\nAlso, there is some unclarity in the code and there should be an else block instead of just an if statement then another unindented. It is the block '''if save_path!=vid_path'''\r\n\r\n**Expected behavior**\r\nOutput a video file to the specified directory\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Ubuntu 18.04\r\n - Version 18.04\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/243/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/243/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/240", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/240/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/240/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/240/events", "html_url": "https://github.com/ultralytics/yolov3/issues/240", "id": 437216137, "node_id": "MDU6SXNzdWU0MzcyMTYxMzc=", "number": 240, "title": "I ran detect.py, but there was no test result graph", "user": {"login": "felixgalaxy", "id": 49911457, "node_id": "MDQ6VXNlcjQ5OTExNDU3", "avatar_url": "https://avatars.githubusercontent.com/u/49911457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/felixgalaxy", "html_url": "https://github.com/felixgalaxy", "followers_url": "https://api.github.com/users/felixgalaxy/followers", "following_url": "https://api.github.com/users/felixgalaxy/following{/other_user}", "gists_url": "https://api.github.com/users/felixgalaxy/gists{/gist_id}", "starred_url": "https://api.github.com/users/felixgalaxy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/felixgalaxy/subscriptions", "organizations_url": "https://api.github.com/users/felixgalaxy/orgs", "repos_url": "https://api.github.com/users/felixgalaxy/repos", "events_url": "https://api.github.com/users/felixgalaxy/events{/privacy}", "received_events_url": "https://api.github.com/users/felixgalaxy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-25T14:00:05Z", "updated_at": "2019-04-25T19:50:34Z", "closed_at": "2019-04-25T19:50:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello , I have a problem here,can you help me solve it?\r\nfelix@galaxy:~/myproject/yolov3$ ****python3 detect.py --cfg cfg/yolov3.cfg --weights weights/yolov3.weights****\r\nNamespace(cfg='cfg/yolov3.cfg', conf_thres=0.5, data_cfg='data/coco.data', images='data/samples', img_size=416, nms_thres=0.5, weights='weights/yolov3.weights')\r\nUsing CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1060 6GB', total_memory=6069MB)\r\n\r\n1. image 1/2 data/samples/students.jpeg: 288x416 4 persons, Done. (0.141s)\r\n2. image 2/2 data/samples/zidane.jpg: 256x416 2 persons, 1 ties, Done. (0.028s)\r\nbut there was no test result graph", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/240/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/233", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/233/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/233/events", "html_url": "https://github.com/ultralytics/yolov3/issues/233", "id": 435782133, "node_id": "MDU6SXNzdWU0MzU3ODIxMzM=", "number": 233, "title": "how to use the GPU using detect.py", "user": {"login": "elcantador", "id": 37727232, "node_id": "MDQ6VXNlcjM3NzI3MjMy", "avatar_url": "https://avatars.githubusercontent.com/u/37727232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elcantador", "html_url": "https://github.com/elcantador", "followers_url": "https://api.github.com/users/elcantador/followers", "following_url": "https://api.github.com/users/elcantador/following{/other_user}", "gists_url": "https://api.github.com/users/elcantador/gists{/gist_id}", "starred_url": "https://api.github.com/users/elcantador/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elcantador/subscriptions", "organizations_url": "https://api.github.com/users/elcantador/orgs", "repos_url": "https://api.github.com/users/elcantador/repos", "events_url": "https://api.github.com/users/elcantador/events{/privacy}", "received_events_url": "https://api.github.com/users/elcantador/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-04-22T16:05:49Z", "updated_at": "2023-04-21T21:11:35Z", "closed_at": "2019-04-22T20:31:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "hello when i use detect.py it will only says \"using cpu\"\r\nis it possible to use the gpu instead ? is some parameter or file to change to do so ?\r\ni have read several times the tutorial but can't figure it out\r\n\r\ni have installed cudnn and cuda, i am on windows 10, i have gtx 1070\r\n\r\ni am currently at 0.8sec per frame for a 2560*1440 video\r\nthanks for answer !", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/233/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/231", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/231/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/231/events", "html_url": "https://github.com/ultralytics/yolov3/issues/231", "id": 435715738, "node_id": "MDU6SXNzdWU0MzU3MTU3Mzg=", "number": 231, "title": "Dataloader BUG ValueError: sampler option is mutually exclusive with shuffle", "user": {"login": "yang-jin-hai", "id": 23076222, "node_id": "MDQ6VXNlcjIzMDc2MjIy", "avatar_url": "https://avatars.githubusercontent.com/u/23076222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yang-jin-hai", "html_url": "https://github.com/yang-jin-hai", "followers_url": "https://api.github.com/users/yang-jin-hai/followers", "following_url": "https://api.github.com/users/yang-jin-hai/following{/other_user}", "gists_url": "https://api.github.com/users/yang-jin-hai/gists{/gist_id}", "starred_url": "https://api.github.com/users/yang-jin-hai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yang-jin-hai/subscriptions", "organizations_url": "https://api.github.com/users/yang-jin-hai/orgs", "repos_url": "https://api.github.com/users/yang-jin-hai/repos", "events_url": "https://api.github.com/users/yang-jin-hai/events{/privacy}", "received_events_url": "https://api.github.com/users/yang-jin-hai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-04-22T12:50:37Z", "updated_at": "2019-04-23T14:01:26Z", "closed_at": "2019-04-23T14:01:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nValueError: sampler option is mutually exclusive with shuffle\r\n\r\n**To Reproduce**\r\n`python  train.py \r\n\r\n**Additional context**\r\nI think the following codes in train.py lines 120-135 cause this error:\r\n```python\r\n# Initialize distributed training\r\n    if torch.cuda.device_count() > 1:\r\n        dist.init_process_group(backend=opt.backend, init_method=opt.dist_url, world_size=opt.world_size, rank=opt.rank)\r\n        model = torch.nn.parallel.DistributedDataParallel(model)\r\n        sampler = torch.utils.data.distributed.DistributedSampler(dataset)\r\n    else:\r\n        sampler = None\r\n\r\n# Dataloader\r\n    dataloader = DataLoader(dataset,\r\n                            batch_size=batch_size,\r\n                            num_workers=opt.num_workers,\r\n                            shuffle=True,\r\n                            pin_memory=True,\r\n                            collate_fn=dataset.collate_fn,\r\n                            sampler=sampler)\r\n```\r\nIf there are multi-gpu available, sampler is not `None`, and parameter shuffer in dataloader is `True`, which leads to an error according to pytorch docs.\r\n\r\n[https://pytorch.org/docs/stable/_modules/torch/utils/data/dataloader.html](url)\r\n```python\r\nclass DataLoader(object):\r\n\r\n    *******************\r\n\r\n    def __init__(self, dataset, batch_size=1, shuffle=False, sampler=None, batch_sampler=None,\r\n                 num_workers=0, collate_fn=default_collate, pin_memory=False, drop_last=False,\r\n                 timeout=0, worker_init_fn=None):\r\n\r\n        *******************\r\n\r\n        if sampler is not None and shuffle:\r\n            raise ValueError('sampler option is mutually exclusive with '\r\n                             'shuffle')\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/231/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/228", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/228/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/228/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/228/events", "html_url": "https://github.com/ultralytics/yolov3/issues/228", "id": 435419555, "node_id": "MDU6SXNzdWU0MzU0MTk1NTU=", "number": 228, "title": "Hyperparameters in training", "user": {"login": "saaddia", "id": 48386389, "node_id": "MDQ6VXNlcjQ4Mzg2Mzg5", "avatar_url": "https://avatars.githubusercontent.com/u/48386389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saaddia", "html_url": "https://github.com/saaddia", "followers_url": "https://api.github.com/users/saaddia/followers", "following_url": "https://api.github.com/users/saaddia/following{/other_user}", "gists_url": "https://api.github.com/users/saaddia/gists{/gist_id}", "starred_url": "https://api.github.com/users/saaddia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saaddia/subscriptions", "organizations_url": "https://api.github.com/users/saaddia/orgs", "repos_url": "https://api.github.com/users/saaddia/repos", "events_url": "https://api.github.com/users/saaddia/events{/privacy}", "received_events_url": "https://api.github.com/users/saaddia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-20T17:05:31Z", "updated_at": "2019-04-20T18:52:31Z", "closed_at": "2019-04-20T18:52:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "All of these terms appear during transfer learning training\r\n\"\" 'Epoch', 'Batch', 'xy', 'wh', 'conf', 'cls', 'total', 'nTargets', 'time' \"\"\r\n can any one tell what xy , wh ,conf, clas , total, ntragets ?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/228/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/226", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/226/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/226/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/226/events", "html_url": "https://github.com/ultralytics/yolov3/issues/226", "id": 435068125, "node_id": "MDU6SXNzdWU0MzUwNjgxMjU=", "number": 226, "title": "Problems!", "user": {"login": "kaaier", "id": 32322056, "node_id": "MDQ6VXNlcjMyMzIyMDU2", "avatar_url": "https://avatars.githubusercontent.com/u/32322056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaaier", "html_url": "https://github.com/kaaier", "followers_url": "https://api.github.com/users/kaaier/followers", "following_url": "https://api.github.com/users/kaaier/following{/other_user}", "gists_url": "https://api.github.com/users/kaaier/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaaier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaaier/subscriptions", "organizations_url": "https://api.github.com/users/kaaier/orgs", "repos_url": "https://api.github.com/users/kaaier/repos", "events_url": "https://api.github.com/users/kaaier/events{/privacy}", "received_events_url": "https://api.github.com/users/kaaier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-19T06:39:49Z", "updated_at": "2023-04-21T21:11:38Z", "closed_at": "2019-04-19T10:15:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "[\u56fe\u7247]\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/226/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/225", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/225/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/225/events", "html_url": "https://github.com/ultralytics/yolov3/issues/225", "id": 435035683, "node_id": "MDU6SXNzdWU0MzUwMzU2ODM=", "number": 225, "title": "A bug about the latest update", "user": {"login": "shadyatscu", "id": 5959212, "node_id": "MDQ6VXNlcjU5NTkyMTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5959212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shadyatscu", "html_url": "https://github.com/shadyatscu", "followers_url": "https://api.github.com/users/shadyatscu/followers", "following_url": "https://api.github.com/users/shadyatscu/following{/other_user}", "gists_url": "https://api.github.com/users/shadyatscu/gists{/gist_id}", "starred_url": "https://api.github.com/users/shadyatscu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shadyatscu/subscriptions", "organizations_url": "https://api.github.com/users/shadyatscu/orgs", "repos_url": "https://api.github.com/users/shadyatscu/repos", "events_url": "https://api.github.com/users/shadyatscu/events{/privacy}", "received_events_url": "https://api.github.com/users/shadyatscu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-19T03:22:59Z", "updated_at": "2023-04-21T21:11:39Z", "closed_at": "2019-04-19T10:19:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your teams great work! Ive been followed your work on yolov3 from a month, it really help me a lot! In recent time, i find you update repo almost everyday and i always git the latest commit it all works very well. However when i git the latest update(2019/04/19), the loss compute seems meet a bug. I dont know its my problem or the latest update`s, i post the training process below:\r\n\r\n   Epoch       Batch        xy        wh      conf       cls     total  nTargets      time\r\n   0/272      0/1383         0         0  1.05e+03         0  1.05e+03         0      27.7\r\n   0/272      1/1383         0         0  1.05e+03         0  1.05e+03         0      3.23\r\n   0/272      2/1383         0         0  1.05e+03         0  1.05e+03         0     0.738\r\n   0/272      3/1383         0         0  1.05e+03         0  1.05e+03         0     0.599\r\n   0/272      4/1383         0         0  1.05e+03         0  1.05e+03         0      0.61\r\n   0/272      5/1383         0         0  1.05e+03         0  1.05e+03         0     0.718\r\n   0/272      6/1383         0         0  1.05e+03         0  1.05e+03         0      0.72\r\n   0/272      7/1383         0         0  1.05e+03         0  1.05e+03         0     0.648\r\n   0/272      8/1383         0         0  1.05e+03         0  1.05e+03         0     0.731\r\n   0/272      9/1383         0         0  1.05e+03         0  1.05e+03         0     0.802\r\n   0/272     10/1383         0         0  1.05e+03         0  1.05e+03         0     0.693\r\n   0/272     11/1383         0         0  1.05e+03         0  1.05e+03         0     0.634\r\n   0/272     12/1383         0         0  1.05e+03         0  1.05e+03         0      0.74\r\n   0/272     13/1383         0         0  1.05e+03         0  1.05e+03         0     0.644\r\n   0/272     14/1383         0         0  1.05e+03         0  1.05e+03         0     0.682\r\n   0/272     15/1383         0         0  1.05e+03         0  1.05e+03         0     0.713\r\n   0/272     16/1383         0         0  1.05e+03         0  1.05e+03         0     0.789\r\n   0/272     17/1383         0         0  1.05e+03         0  1.05e+03         0     0.741\r\n   0/272     18/1383         0         0  1.05e+03         0  1.05e+03         0     0.761\r\n   0/272     19/1383         0         0  1.05e+03         0  1.05e+03         0     0.787\r\n   0/272     20/1383         0         0  1.05e+03         0  1.05e+03         0     0.665\r\n   0/272     21/1383         0         0  1.05e+03         0  1.05e+03         0     0.725\r\n   0/272     22/1383         0         0  1.05e+03         0  1.05e+03         0      0.67\r\n   0/272     23/1383         0         0  1.05e+03         0  1.05e+03         0     0.659\r\n   0/272     24/1383         0         0  1.05e+03         0  1.05e+03         0     0.776\r\n   0/272     25/1383         0         0  1.05e+03         0  1.05e+03         0     0.648\r\n   0/272     26/1383         0         0  1.05e+03         0  1.05e+03         0     0.655\r\n   0/272     27/1383         0         0  1.05e+03         0  1.05e+03         0     0.683\r\n   0/272     28/1383         0         0  1.05e+03         0  1.05e+03         0     0.651\r\n   0/272     29/1383         0         0  1.05e+03         0  1.05e+03         0     0.643\r\n\r\nthe loss of xy wh and cls always be zero, and i didn`t modify any code except the input data.\r\nsorry to bother and thanks a lot!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/225/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/223", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/223/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/223/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/223/events", "html_url": "https://github.com/ultralytics/yolov3/issues/223", "id": 434865542, "node_id": "MDU6SXNzdWU0MzQ4NjU1NDI=", "number": 223, "title": "tiny-yolo darknet pretrained weiget lost", "user": {"login": "jjaacckkyy63", "id": 19526787, "node_id": "MDQ6VXNlcjE5NTI2Nzg3", "avatar_url": "https://avatars.githubusercontent.com/u/19526787?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jjaacckkyy63", "html_url": "https://github.com/jjaacckkyy63", "followers_url": "https://api.github.com/users/jjaacckkyy63/followers", "following_url": "https://api.github.com/users/jjaacckkyy63/following{/other_user}", "gists_url": "https://api.github.com/users/jjaacckkyy63/gists{/gist_id}", "starred_url": "https://api.github.com/users/jjaacckkyy63/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jjaacckkyy63/subscriptions", "organizations_url": "https://api.github.com/users/jjaacckkyy63/orgs", "repos_url": "https://api.github.com/users/jjaacckkyy63/repos", "events_url": "https://api.github.com/users/jjaacckkyy63/events{/privacy}", "received_events_url": "https://api.github.com/users/jjaacckkyy63/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-18T16:55:40Z", "updated_at": "2019-04-18T16:59:31Z", "closed_at": "2019-04-18T16:59:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"train.py\", line 210, in <module>\r\n    var=opt.var,\r\n  File \"train.py\", line 79, in train\r\n    load_darknet_weights(model, weights + 'yolov3-tiny.conv.15')\r\n  File \"/home/jovyan/EJ/CTW-Pytorch/yolov3/models.py\", line 311, in load_darknet_weights\r\n    self.seen = header[3]  # number of images seen during training\r\nIndexError: index 3 is out of bounds for axis 0 with size 0\r\n\r\nThen I tried directly link to the address, the following shows\r\n\r\n![\u87a2\u5e55\u5feb\u7167 2019-04-19 \u4e0a\u534812 54 26](https://user-images.githubusercontent.com/19526787/56377765-b6bede80-623d-11e9-9ec2-f72402dcd4e0.png)\r\n\r\nhttps://pjreddie.com/media/files/yolov3-tiny.conv.15 seems to be empty file. Is there any other pretrained weiget for tiny-yolo for the training from custom data? Thank you", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/223/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/222", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/222/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/222/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/222/events", "html_url": "https://github.com/ultralytics/yolov3/issues/222", "id": 434680161, "node_id": "MDU6SXNzdWU0MzQ2ODAxNjE=", "number": 222, "title": "mAP Code in test.py", "user": {"login": "fereenwong", "id": 43628797, "node_id": "MDQ6VXNlcjQzNjI4Nzk3", "avatar_url": "https://avatars.githubusercontent.com/u/43628797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fereenwong", "html_url": "https://github.com/fereenwong", "followers_url": "https://api.github.com/users/fereenwong/followers", "following_url": "https://api.github.com/users/fereenwong/following{/other_user}", "gists_url": "https://api.github.com/users/fereenwong/gists{/gist_id}", "starred_url": "https://api.github.com/users/fereenwong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fereenwong/subscriptions", "organizations_url": "https://api.github.com/users/fereenwong/orgs", "repos_url": "https://api.github.com/users/fereenwong/repos", "events_url": "https://api.github.com/users/fereenwong/events{/privacy}", "received_events_url": "https://api.github.com/users/fereenwong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-04-18T09:40:30Z", "updated_at": "2019-10-01T14:45:12Z", "closed_at": "2019-04-27T12:32:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for sharing.\r\nFor the code in line 125 in test.py,  it seems to be a mistake as a correct prediction requires both correct classification and accuracy localization. In my view, the code below:\r\n **iou, bi = bbox_iou(pbox, tbox).max(0)**\r\nshould be changed as:\r\n  **iou, bi = bbox_iou(pbox, tbox[tcls == pcls]).max(0)**\r\nI am not sure if I am right, so feel free to correct me if I am wrong.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/222/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/221", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/221/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/221/events", "html_url": "https://github.com/ultralytics/yolov3/issues/221", "id": 434547113, "node_id": "MDU6SXNzdWU0MzQ1NDcxMTM=", "number": 221, "title": "use gpu to trian", "user": {"login": "XiaoJiNu", "id": 30587645, "node_id": "MDQ6VXNlcjMwNTg3NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/30587645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XiaoJiNu", "html_url": "https://github.com/XiaoJiNu", "followers_url": "https://api.github.com/users/XiaoJiNu/followers", "following_url": "https://api.github.com/users/XiaoJiNu/following{/other_user}", "gists_url": "https://api.github.com/users/XiaoJiNu/gists{/gist_id}", "starred_url": "https://api.github.com/users/XiaoJiNu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XiaoJiNu/subscriptions", "organizations_url": "https://api.github.com/users/XiaoJiNu/orgs", "repos_url": "https://api.github.com/users/XiaoJiNu/repos", "events_url": "https://api.github.com/users/XiaoJiNu/events{/privacy}", "received_events_url": "https://api.github.com/users/XiaoJiNu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-18T01:06:32Z", "updated_at": "2023-04-21T21:11:43Z", "closed_at": "2019-04-18T14:39:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "@glenn-jocher I downloaded and compiled the lastest version of this repository, but the torch_utils.py has been changed and now it automatically selects cpu to train, I have checked torch_utils.py and i think it should automatically selects all GPUs of my computer. What's the problem and how can i use GPU to trian ?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/221/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/216", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/216/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/216/events", "html_url": "https://github.com/ultralytics/yolov3/issues/216", "id": 434056256, "node_id": "MDU6SXNzdWU0MzQwNTYyNTY=", "number": 216, "title": "build_targets has something wrong? b, c = t[:, :2].long().t()  # target image, class, index error or some other wrong report. ", "user": {"login": "foocker", "id": 21965361, "node_id": "MDQ6VXNlcjIxOTY1MzYx", "avatar_url": "https://avatars.githubusercontent.com/u/21965361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/foocker", "html_url": "https://github.com/foocker", "followers_url": "https://api.github.com/users/foocker/followers", "following_url": "https://api.github.com/users/foocker/following{/other_user}", "gists_url": "https://api.github.com/users/foocker/gists{/gist_id}", "starred_url": "https://api.github.com/users/foocker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/foocker/subscriptions", "organizations_url": "https://api.github.com/users/foocker/orgs", "repos_url": "https://api.github.com/users/foocker/repos", "events_url": "https://api.github.com/users/foocker/events{/privacy}", "received_events_url": "https://api.github.com/users/foocker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-17T01:52:29Z", "updated_at": "2023-04-21T21:11:47Z", "closed_at": "2019-04-17T09:55:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to '...'\r\n2. Click on '....'\r\n3. Scroll down to '....'\r\n4. See error\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]\r\n - Version [e.g. 22]\r\n\r\n**Smartphone (please complete the following information):**\r\n - Device: [e.g. iPhoneXS]\r\n - OS: [e.g. iOS8.1]\r\n - Version [e.g. 22]\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/216/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/215", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/215/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/215/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/215/events", "html_url": "https://github.com/ultralytics/yolov3/issues/215", "id": 433534096, "node_id": "MDU6SXNzdWU0MzM1MzQwOTY=", "number": 215, "title": "'nan' Train Problem", "user": {"login": "JohnpaulC", "id": 22259204, "node_id": "MDQ6VXNlcjIyMjU5MjA0", "avatar_url": "https://avatars.githubusercontent.com/u/22259204?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnpaulC", "html_url": "https://github.com/JohnpaulC", "followers_url": "https://api.github.com/users/JohnpaulC/followers", "following_url": "https://api.github.com/users/JohnpaulC/following{/other_user}", "gists_url": "https://api.github.com/users/JohnpaulC/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnpaulC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnpaulC/subscriptions", "organizations_url": "https://api.github.com/users/JohnpaulC/orgs", "repos_url": "https://api.github.com/users/JohnpaulC/repos", "events_url": "https://api.github.com/users/JohnpaulC/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnpaulC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-04-16T00:39:45Z", "updated_at": "2023-04-21T21:11:48Z", "closed_at": "2019-04-17T08:30:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe training loss is not expected\r\nI don't know what happened, may my command is not ture.\r\nPlease give me some suggestion\r\n```\r\n   0/272     18/7328       nan       nan       nan       nan       nan       116     0.273\r\n   0/272     19/7328       nan       nan       nan       nan       nan       119     0.273\r\n   0/272     20/7328       nan       nan       nan       nan       nan        87     0.273\r\n   0/272     21/7328       nan       nan       nan       nan       nan       101     0.273\r\n   0/272     22/7328       nan       nan       nan       nan       nan        96     0.273\r\n   0/272     23/7328       nan       nan       nan       nan       nan       124     0.273\r\n   0/272     24/7328       nan       nan       nan       nan       nan        89     0.273\r\n   0/272     25/7328       nan       nan       nan       nan       nan       152     0.273\r\n```\r\n**To Reproduce**\r\npython train --cfg cfg/yolov3.cfg\r\n\r\n**Expected behavior**\r\nSimple training process, the loss is int maybe\r\n\r\n**Desktop (please complete the following information):**\r\n - Python 3.6\r\n- Pytroch 1.0\r\n- RTX 2080ti\r\n\r\n\r\n**Additional context**\r\nThank you for the suggestion", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/215/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/213", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/213/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/213/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/213/events", "html_url": "https://github.com/ultralytics/yolov3/issues/213", "id": 432954476, "node_id": "MDU6SXNzdWU0MzI5NTQ0NzY=", "number": 213, "title": "Different default value in parser and function in test.py", "user": {"login": "LinSHP", "id": 19932215, "node_id": "MDQ6VXNlcjE5OTMyMjE1", "avatar_url": "https://avatars.githubusercontent.com/u/19932215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinSHP", "html_url": "https://github.com/LinSHP", "followers_url": "https://api.github.com/users/LinSHP/followers", "following_url": "https://api.github.com/users/LinSHP/following{/other_user}", "gists_url": "https://api.github.com/users/LinSHP/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinSHP/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinSHP/subscriptions", "organizations_url": "https://api.github.com/users/LinSHP/orgs", "repos_url": "https://api.github.com/users/LinSHP/repos", "events_url": "https://api.github.com/users/LinSHP/events{/privacy}", "received_events_url": "https://api.github.com/users/LinSHP/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-04-14T10:05:49Z", "updated_at": "2019-04-14T21:25:30Z", "closed_at": "2019-04-14T21:25:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI found the map, precision and recall is different using same weights for **python train.py** and **python test.py**.\r\n\r\n I debug for a long time and find is that the default value for conf threshold if different in parser which is 0.001 and in function **test** which is 0.1. So it produce different results.\r\n\r\nwhy?..\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/213/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/212", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/212/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/212/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/212/events", "html_url": "https://github.com/ultralytics/yolov3/issues/212", "id": 432943300, "node_id": "MDU6SXNzdWU0MzI5NDMzMDA=", "number": 212, "title": "Inference Time", "user": {"login": "ZLeopard", "id": 16731559, "node_id": "MDQ6VXNlcjE2NzMxNTU5", "avatar_url": "https://avatars.githubusercontent.com/u/16731559?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZLeopard", "html_url": "https://github.com/ZLeopard", "followers_url": "https://api.github.com/users/ZLeopard/followers", "following_url": "https://api.github.com/users/ZLeopard/following{/other_user}", "gists_url": "https://api.github.com/users/ZLeopard/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZLeopard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZLeopard/subscriptions", "organizations_url": "https://api.github.com/users/ZLeopard/orgs", "repos_url": "https://api.github.com/users/ZLeopard/repos", "events_url": "https://api.github.com/users/ZLeopard/events{/privacy}", "received_events_url": "https://api.github.com/users/ZLeopard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-14T07:47:47Z", "updated_at": "2019-04-14T08:00:38Z", "closed_at": "2019-04-14T08:00:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "when i test one image using yolov3-tiny, first i use CPU, I get that time is 0.214s in CPU\r\n> Namespace(cfg='cfg/yolov3-tiny.cfg', conf_thres=0.5, data_cfg='data/coco.data', images='data/samples', img_size=416, nms_thres=0.5, weights='weights/yolov3-tiny.weights')\r\n> Using CPU\r\n> image 1/1 data/samples\\zidane.jpg: Done. (0.214s)\r\n> 2 persons, \r\n\r\nbut when i use the GPU(GTX 1050Ti), the time is slow , about 0.9\r\n\r\n> Namespace(cfg='cfg/yolov3-tiny.cfg', conf_thres=0.5, data_cfg='data/coco.data', images='data/samples', img_size=416, nms_thres=0.5, weights='weights/yolov3-tiny.weights')\r\n> Using CUDA device0 _CudaDeviceProperties(name='GeForce GTX 1050 Ti', total_memory=4096MB)\r\n> image 1/1 data/samples\\zidane.jpg: Done. (0.970s)\r\n> 2 persons, \r\n\r\nPlease tell me what's wrong with this, thank you!", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/212/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/212/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/211", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/211/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/211/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/211/events", "html_url": "https://github.com/ultralytics/yolov3/issues/211", "id": 432785952, "node_id": "MDU6SXNzdWU0MzI3ODU5NTI=", "number": 211, "title": "Transfer Learning Performance", "user": {"login": "vivian-wong", "id": 30191150, "node_id": "MDQ6VXNlcjMwMTkxMTUw", "avatar_url": "https://avatars.githubusercontent.com/u/30191150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vivian-wong", "html_url": "https://github.com/vivian-wong", "followers_url": "https://api.github.com/users/vivian-wong/followers", "following_url": "https://api.github.com/users/vivian-wong/following{/other_user}", "gists_url": "https://api.github.com/users/vivian-wong/gists{/gist_id}", "starred_url": "https://api.github.com/users/vivian-wong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vivian-wong/subscriptions", "organizations_url": "https://api.github.com/users/vivian-wong/orgs", "repos_url": "https://api.github.com/users/vivian-wong/repos", "events_url": "https://api.github.com/users/vivian-wong/events{/privacy}", "received_events_url": "https://api.github.com/users/vivian-wong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-04-13T00:12:37Z", "updated_at": "2019-11-07T23:06:25Z", "closed_at": "2019-04-17T10:03:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen I train my custom dataset (via transfer learning) over 273 epochs (for example 840 epochs) , I found out that I get different results if I stop at 273 epochs, then do \"--resume --epochs 840\", versus if I do \"--epochs 840\"\r\n\r\nThis is what happens if I set epochs = 840 from the beginning of training. \r\n![results](https://user-images.githubusercontent.com/30191150/56071808-ac847800-5d45-11e9-9404-b8a068780da2.png)\r\nThis is what happens if I resume after epochs 273. \r\n![results](https://user-images.githubusercontent.com/30191150/56071816-befeb180-5d45-11e9-97f8-708ab00256e0.png)\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. \r\n`python train.py --data-cfg data/*mydata* --transfer\r\npython train.py --data-cfg data/*mydata.data* --resume --epochs 840\r\n`\r\n2. \r\n`python train.py --data-cfg data/*mydata* --transfer --epochs 840\r\n`\r\n\r\n**Expected behavior**\r\nTheoretically both should return the same results. The second scenario should not have converged that early. My conjecture is that it has something to do with the change in learning rate? \r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: [e.g. iOS]", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/211/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/208", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/208/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/208/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/208/events", "html_url": "https://github.com/ultralytics/yolov3/issues/208", "id": 432006286, "node_id": "MDU6SXNzdWU0MzIwMDYyODY=", "number": 208, "title": "AttributeError: 'DataParallel' object has no attribute 'module_defs'", "user": {"login": "HulkMaker", "id": 5285649, "node_id": "MDQ6VXNlcjUyODU2NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5285649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HulkMaker", "html_url": "https://github.com/HulkMaker", "followers_url": "https://api.github.com/users/HulkMaker/followers", "following_url": "https://api.github.com/users/HulkMaker/following{/other_user}", "gists_url": "https://api.github.com/users/HulkMaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/HulkMaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HulkMaker/subscriptions", "organizations_url": "https://api.github.com/users/HulkMaker/orgs", "repos_url": "https://api.github.com/users/HulkMaker/repos", "events_url": "https://api.github.com/users/HulkMaker/events{/privacy}", "received_events_url": "https://api.github.com/users/HulkMaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-11T12:51:47Z", "updated_at": "2019-04-12T08:50:20Z", "closed_at": "2019-04-11T16:12:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen calculate the mAP, it shows this error:\r\nAttributeError: 'DataParallel' object has no attribute 'module_defs'\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. run command:\r\n$python3 test.py --save-json --img-size 416 --batch-size 16\r\n\r\n**Expected behavior**\r\n\r\n`(pytorch) [qing@localhost yolov3]$ python3 test.py --save-json --img-size 416 --batch-size 16\r\nNamespace(batch_size=16, cfg='cfg/yolov3.cfg', conf_thres=0.001, data_cfg='data/coco.data', img_size=416, iou_thres=0.5, nms_thres=0.5, save_json=True, weights='weights/yolov3.pt')\r\n\r\nUsing CUDA device0 _CudaDeviceProperties(name='Quadro P6000', total_memory=24440MB)\r\n           device1 _CudaDeviceProperties(name='Quadro P6000', total_memory=24449MB)\r\n               Class    Images   Targets         P         R       mAP        F1\r\nComputing mAP:   0%|                                                        | 0/313 [00:00<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 201, in <module>\r\n    opt.save_json\r\n  File \"test.py\", line 72, in test\r\n    target_list = build_targets(model, targets)\r\n  File \"/home/qing/ngs/yolov3/utils/utils.py\", line 291, in build_targets\r\n    for i, layer in enumerate(get_yolo_layers(model)):\r\n  File \"/home/qing/ngs/yolov3/utils/utils.py\", line 426, in get_yolo_layers\r\n    bool_vec = [x['type'] == 'yolo' for x in model.module_defs]\r\n  File \"/home/qing/anaconda3/envs/pytorch/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 535, in __getattr__\r\n    type(self).__name__, name))\r\nAttributeError: 'DataParallel' object has no attribute 'module_defs'\r\n`\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n![image](https://user-images.githubusercontent.com/5285649/55958303-df256680-5c9a-11e9-8dd1-213aabb41aed.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/208/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/204", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/204/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/204/events", "html_url": "https://github.com/ultralytics/yolov3/issues/204", "id": 431539338, "node_id": "MDU6SXNzdWU0MzE1MzkzMzg=", "number": 204, "title": "Error when running detect.py ", "user": {"login": "Chonwing", "id": 43702666, "node_id": "MDQ6VXNlcjQzNzAyNjY2", "avatar_url": "https://avatars.githubusercontent.com/u/43702666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Chonwing", "html_url": "https://github.com/Chonwing", "followers_url": "https://api.github.com/users/Chonwing/followers", "following_url": "https://api.github.com/users/Chonwing/following{/other_user}", "gists_url": "https://api.github.com/users/Chonwing/gists{/gist_id}", "starred_url": "https://api.github.com/users/Chonwing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Chonwing/subscriptions", "organizations_url": "https://api.github.com/users/Chonwing/orgs", "repos_url": "https://api.github.com/users/Chonwing/repos", "events_url": "https://api.github.com/users/Chonwing/events{/privacy}", "received_events_url": "https://api.github.com/users/Chonwing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-10T14:34:20Z", "updated_at": "2019-04-11T07:28:44Z", "closed_at": "2019-04-10T14:40:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am running using ubuntu 16.04, python3.7, pytorch 1.0.1 on two GPUs 1070. I put webcam= True. \r\nMy command is ` python3 detect.py --cfg cfg/yolov3.cfg --weights weights/yolov3.weights`.\r\nI am getting an error of \r\n```\r\n`Traceback (most recent call last):\r\n  File \"detect.py\", line 127, in <module>\r\n    nms_thres=opt.nms_thres\r\n  File \"detect.py\", line 52, in detect\r\n    for i, (path, img, im0, vid_cap) in enumerate(dataloader):\r\n\r\nValueError: not enough values to unpack (expected 4, got 3)`\r\n```\r\nNote: The sample image of Zidan worked fine", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/204/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/204/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/202", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/202/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/202/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/202/events", "html_url": "https://github.com/ultralytics/yolov3/issues/202", "id": 431321575, "node_id": "MDU6SXNzdWU0MzEzMjE1NzU=", "number": 202, "title": "MAP=0", "user": {"login": "kaaier", "id": 32322056, "node_id": "MDQ6VXNlcjMyMzIyMDU2", "avatar_url": "https://avatars.githubusercontent.com/u/32322056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaaier", "html_url": "https://github.com/kaaier", "followers_url": "https://api.github.com/users/kaaier/followers", "following_url": "https://api.github.com/users/kaaier/following{/other_user}", "gists_url": "https://api.github.com/users/kaaier/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaaier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaaier/subscriptions", "organizations_url": "https://api.github.com/users/kaaier/orgs", "repos_url": "https://api.github.com/users/kaaier/repos", "events_url": "https://api.github.com/users/kaaier/events{/privacy}", "received_events_url": "https://api.github.com/users/kaaier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-04-10T06:14:27Z", "updated_at": "2019-04-10T11:36:09Z", "closed_at": "2019-04-10T11:36:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nHello, I am training in my own training set. The loss is reduced and the map appears in one scene. Do you know what this is\uff1a\r\n\r\nComputing mAP: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 100/100 [00:07<00:00, 12.93it/s]\r\n                 all       200       338         0         0         0         0\r\n\r\n                nine       200        55         0         0         0         0\r\n                 ten       200        55         0         0         0         0\r\n                jack       200        57         0         0         0         0\r\n               queen       200        52         0         0         0         0\r\n                king       200        59         0         0         0         0\r\n                 ace       200        60         \r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/202/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/201", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/201/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/201/events", "html_url": "https://github.com/ultralytics/yolov3/issues/201", "id": 431107125, "node_id": "MDU6SXNzdWU0MzExMDcxMjU=", "number": 201, "title": "re-run cmake or configure script in function cvWaitKey", "user": {"login": "asifkareem03", "id": 48887516, "node_id": "MDQ6VXNlcjQ4ODg3NTE2", "avatar_url": "https://avatars.githubusercontent.com/u/48887516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asifkareem03", "html_url": "https://github.com/asifkareem03", "followers_url": "https://api.github.com/users/asifkareem03/followers", "following_url": "https://api.github.com/users/asifkareem03/following{/other_user}", "gists_url": "https://api.github.com/users/asifkareem03/gists{/gist_id}", "starred_url": "https://api.github.com/users/asifkareem03/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asifkareem03/subscriptions", "organizations_url": "https://api.github.com/users/asifkareem03/orgs", "repos_url": "https://api.github.com/users/asifkareem03/repos", "events_url": "https://api.github.com/users/asifkareem03/events{/privacy}", "received_events_url": "https://api.github.com/users/asifkareem03/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-09T18:14:50Z", "updated_at": "2023-04-21T21:11:57Z", "closed_at": "2019-04-10T11:41:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "*Namespace(cfg='cfg/yolov3.cfg', conf_thres=0.5, images='data/samples', img_size=416, nms_thres=0.45, weights='weights/latest.pt')\r\nUsing cpu \r\n\r\nOpenCV(3.4.1) Error: Unspecified error (The function is not implemented. Rebuild the library with Windows, GTK+ 2.x or Carbon support. If you are on Ubuntu or Debian, install libgtk2.0-dev and pkg-config, then re-run cmake or configure script) in cvWaitKey, file /opt/conda/conda-bld/opencv-suite_1527005194613/work/modules/highgui/src/window.cpp, line 707\r\nTraceback (most recent call last):\r\n  File \"detect.py\", line 125, in <module>\r\n    nms_thres=opt.nms_thres\r\n  File \"detect.py\", line 54, in detect\r\n    for i, (path, img, im0) in enumerate(dataloader):\r\n  File \"/home/ridha/yolov3-v5/utils/datasets.py\", line 68, in __next__\r\n    if cv2.waitKey(1) == 27:  # esc to quit\r\ncv2.error: OpenCV(3.4.1) /opt/conda/conda-bld/opencv-suite_1527005194613/work/modules/highgui/src/window.cpp:707: error: (-2) The function is not implemented. Rebuild the library with Windows, GTK+ 2.x or Carbon support. If you are on Ubuntu or Debian, install libgtk2.0-dev and pkg-config, then re-run cmake or configure script in function cvWaitKey\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/201/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/200", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/200/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/200/events", "html_url": "https://github.com/ultralytics/yolov3/issues/200", "id": 431046186, "node_id": "MDU6SXNzdWU0MzEwNDYxODY=", "number": 200, "title": "/var/spool/torque/mom_priv/prologue: line 41: echo: write error: Invalid argument", "user": {"login": "RickvanHek", "id": 11407553, "node_id": "MDQ6VXNlcjExNDA3NTUz", "avatar_url": "https://avatars.githubusercontent.com/u/11407553?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RickvanHek", "html_url": "https://github.com/RickvanHek", "followers_url": "https://api.github.com/users/RickvanHek/followers", "following_url": "https://api.github.com/users/RickvanHek/following{/other_user}", "gists_url": "https://api.github.com/users/RickvanHek/gists{/gist_id}", "starred_url": "https://api.github.com/users/RickvanHek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RickvanHek/subscriptions", "organizations_url": "https://api.github.com/users/RickvanHek/orgs", "repos_url": "https://api.github.com/users/RickvanHek/repos", "events_url": "https://api.github.com/users/RickvanHek/events{/privacy}", "received_events_url": "https://api.github.com/users/RickvanHek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-09T15:55:38Z", "updated_at": "2023-04-21T21:11:58Z", "closed_at": "2019-04-10T11:41:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I randomly get the following error and execution stops:\r\n\"/var/spool/torque/mom_priv/prologue: line 41: echo: write error: Invalid argument\"\r\n\r\nThis is since the new commits, I did not have this at commit:\r\nhttps://github.com/ultralytics/yolov3/tree/f2cb8401236c130281ed94731e3f19dde0fdb211\r\n\r\nI have no idea which commit caused this, and it doesn't show any more information than just that error.  I run on Linux.\r\n\r\n\r\nIf i run the project from the commit mentioned above, it works fine, if run the latest, i get this error. Sometimes instantly, sometimes after a few commits. Is this something of this project or would this be an issue with my machine?\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/200/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/197", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/197/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/197/events", "html_url": "https://github.com/ultralytics/yolov3/issues/197", "id": 430234365, "node_id": "MDU6SXNzdWU0MzAyMzQzNjU=", "number": 197, "title": "mAP and detection not working", "user": {"login": "Ownmarc", "id": 24617457, "node_id": "MDQ6VXNlcjI0NjE3NDU3", "avatar_url": "https://avatars.githubusercontent.com/u/24617457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ownmarc", "html_url": "https://github.com/Ownmarc", "followers_url": "https://api.github.com/users/Ownmarc/followers", "following_url": "https://api.github.com/users/Ownmarc/following{/other_user}", "gists_url": "https://api.github.com/users/Ownmarc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ownmarc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ownmarc/subscriptions", "organizations_url": "https://api.github.com/users/Ownmarc/orgs", "repos_url": "https://api.github.com/users/Ownmarc/repos", "events_url": "https://api.github.com/users/Ownmarc/events{/privacy}", "received_events_url": "https://api.github.com/users/Ownmarc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 42, "created_at": "2019-04-08T02:59:32Z", "updated_at": "2023-04-21T21:12:04Z", "closed_at": "2019-04-12T20:03:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I think there is something wrong with the scaling of the bounding boxes. My mAP is always at zero even if my training is going well. Also, when I use detect.py, the bounding boxes are at the right places, but are really small.\r\n\r\nI didn't touch anything in util.py and my .txt files for the images are right.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/197/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/196", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/196/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/196/events", "html_url": "https://github.com/ultralytics/yolov3/issues/196", "id": 430143867, "node_id": "MDU6SXNzdWU0MzAxNDM4Njc=", "number": 196, "title": "Some errors and need help", "user": {"login": "Mysorrows", "id": 29940894, "node_id": "MDQ6VXNlcjI5OTQwODk0", "avatar_url": "https://avatars.githubusercontent.com/u/29940894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mysorrows", "html_url": "https://github.com/Mysorrows", "followers_url": "https://api.github.com/users/Mysorrows/followers", "following_url": "https://api.github.com/users/Mysorrows/following{/other_user}", "gists_url": "https://api.github.com/users/Mysorrows/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mysorrows/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mysorrows/subscriptions", "organizations_url": "https://api.github.com/users/Mysorrows/orgs", "repos_url": "https://api.github.com/users/Mysorrows/repos", "events_url": "https://api.github.com/users/Mysorrows/events{/privacy}", "received_events_url": "https://api.github.com/users/Mysorrows/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 23, "created_at": "2019-04-07T13:07:07Z", "updated_at": "2023-04-21T21:12:06Z", "closed_at": "2019-04-10T11:43:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "1. 'utils.py' . If only people are detected, is it only necessary to return to [1]?   \r\n\r\n`def coco80_to_coco91_class():  \r\n    x = [1]\r\n    return x\r\n`\r\n    \r\n  2.Why does the program stop at Calculate mAP when a loss value exceeds e+3?  I use the program of three days ago, when conf_loss exceeds e+3, it will reappear.\r\n\r\n  3.I am currently using Transfer learning to detect an object (people).  My training set has only 200 pictures, and the verification has only 100 pictures.  At present, its effect is very bad. The values of P, R MAP and F1 are very low, and in most cases are less than 0.01.  Can you give me some advice?\r\n\r\n  4.'train.py'.  When use transfer learn\uff0cthe  value of 'start_epoch'  should be 0 instead of being obtained from the model?\r\n\r\n![12](https://user-images.githubusercontent.com/29940894/55683990-c6564180-5978-11e9-9056-d6f89d0eca4b.PNG)\r\n\r\n5.'train.py'.  If Transfer of learning is interrupted, the last training cannot be continued after the next use --resume. All gradients will be calculated at this time.\r\n\r\n6.Must the size of the picture be a multiple of 32?  Will the program scale to the default value of 416 pixels?\r\n\r\n**Desktop:**\r\n - OS: [linux]\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/196/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/191", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/191/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/191/events", "html_url": "https://github.com/ultralytics/yolov3/issues/191", "id": 429759394, "node_id": "MDU6SXNzdWU0Mjk3NTkzOTQ=", "number": 191, "title": "one class training", "user": {"login": "Niculuse", "id": 33613547, "node_id": "MDQ6VXNlcjMzNjEzNTQ3", "avatar_url": "https://avatars.githubusercontent.com/u/33613547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Niculuse", "html_url": "https://github.com/Niculuse", "followers_url": "https://api.github.com/users/Niculuse/followers", "following_url": "https://api.github.com/users/Niculuse/following{/other_user}", "gists_url": "https://api.github.com/users/Niculuse/gists{/gist_id}", "starred_url": "https://api.github.com/users/Niculuse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Niculuse/subscriptions", "organizations_url": "https://api.github.com/users/Niculuse/orgs", "repos_url": "https://api.github.com/users/Niculuse/repos", "events_url": "https://api.github.com/users/Niculuse/events{/privacy}", "received_events_url": "https://api.github.com/users/Niculuse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-05T13:37:22Z", "updated_at": "2019-04-06T12:36:43Z", "closed_at": "2019-04-06T12:36:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "When one class training is performed, the classification loss is always 0, because any N*1 matrix is going to become a N*1 matrix with all elements 1 after softmax operation in nn.CrossEntropyLoss(). Dose it matter? Do we need to modify codes to change it into a 2-class classificaiton problem, that's, we need to use background as another class?\r\nThanks!\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/191/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/184", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/184/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/184/events", "html_url": "https://github.com/ultralytics/yolov3/issues/184", "id": 428251389, "node_id": "MDU6SXNzdWU0MjgyNTEzODk=", "number": 184, "title": "quick fix for the \"cp\" issue in windows", "user": {"login": "Ownmarc", "id": 24617457, "node_id": "MDQ6VXNlcjI0NjE3NDU3", "avatar_url": "https://avatars.githubusercontent.com/u/24617457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ownmarc", "html_url": "https://github.com/Ownmarc", "followers_url": "https://api.github.com/users/Ownmarc/followers", "following_url": "https://api.github.com/users/Ownmarc/following{/other_user}", "gists_url": "https://api.github.com/users/Ownmarc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ownmarc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ownmarc/subscriptions", "organizations_url": "https://api.github.com/users/Ownmarc/orgs", "repos_url": "https://api.github.com/users/Ownmarc/repos", "events_url": "https://api.github.com/users/Ownmarc/events{/privacy}", "received_events_url": "https://api.github.com/users/Ownmarc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-02T14:10:45Z", "updated_at": "2019-04-02T14:53:42Z", "closed_at": "2019-04-02T14:53:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Here is what I suggest:\r\n\r\n```\r\n            # Save best checkpoint\r\n            if best_loss == mloss['total']:\r\n                if os.name == 'nt':\r\n                    os.system('copy ' + latest + ' ' + best)\r\n                else:\r\n                    os.system('cp ' + latest + ' ' + best)\r\n\r\n            # Save backup weights every 10 epochs (optional)\r\n            if epoch > 0 and epoch % 10 == 0:\r\n                if os.name == 'nt':\r\n                    os.system('copy ' + latest + ' ' + weights + 'backup%g.pt' % epoch)\r\n                else:\r\n                    os.system('cp ' + latest + ' ' + weights + 'backup%g.pt' % epoch)\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/184/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/183", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/183/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/183/events", "html_url": "https://github.com/ultralytics/yolov3/issues/183", "id": 428173250, "node_id": "MDU6SXNzdWU0MjgxNzMyNTA=", "number": 183, "title": "Same weights produce better inference results than darknet.", "user": {"login": "RooneyYangsm", "id": 49194138, "node_id": "MDQ6VXNlcjQ5MTk0MTM4", "avatar_url": "https://avatars.githubusercontent.com/u/49194138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RooneyYangsm", "html_url": "https://github.com/RooneyYangsm", "followers_url": "https://api.github.com/users/RooneyYangsm/followers", "following_url": "https://api.github.com/users/RooneyYangsm/following{/other_user}", "gists_url": "https://api.github.com/users/RooneyYangsm/gists{/gist_id}", "starred_url": "https://api.github.com/users/RooneyYangsm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RooneyYangsm/subscriptions", "organizations_url": "https://api.github.com/users/RooneyYangsm/orgs", "repos_url": "https://api.github.com/users/RooneyYangsm/repos", "events_url": "https://api.github.com/users/RooneyYangsm/events{/privacy}", "received_events_url": "https://api.github.com/users/RooneyYangsm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-04-02T11:30:20Z", "updated_at": "2019-04-15T02:07:08Z", "closed_at": "2019-04-09T08:53:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I 've compared Yolo3 pytorch implementation result and darknet result with zidane.jpg\r\nhttps://github.com/ultralytics/yolov3.git\r\nhttps://github.com/pjreddie/darknet\r\n\r\nthere are slight score difference.  \r\npytorch implementation : person 1.00 person 1.00 tie 0.93 but \r\ndarknet implementation : tie: 90% persion 100% persion 98%\r\n\r\nI expect same inference result because darknet and pytorch yolov3 used same weight param.\r\nIs there any reason for the different result\r\n![image](https://user-images.githubusercontent.com/49194138/55399443-1783c100-5586-11e9-9b5e-27f9ac65f6c8.png)\r\n![image](https://user-images.githubusercontent.com/49194138/55399462-1f436580-5586-11e9-93ba-a0e462e75447.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/183/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/181", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/181/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/181/events", "html_url": "https://github.com/ultralytics/yolov3/issues/181", "id": 427936675, "node_id": "MDU6SXNzdWU0Mjc5MzY2NzU=", "number": 181, "title": "Transfer learning", "user": {"login": "Ownmarc", "id": 24617457, "node_id": "MDQ6VXNlcjI0NjE3NDU3", "avatar_url": "https://avatars.githubusercontent.com/u/24617457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ownmarc", "html_url": "https://github.com/Ownmarc", "followers_url": "https://api.github.com/users/Ownmarc/followers", "following_url": "https://api.github.com/users/Ownmarc/following{/other_user}", "gists_url": "https://api.github.com/users/Ownmarc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ownmarc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ownmarc/subscriptions", "organizations_url": "https://api.github.com/users/Ownmarc/orgs", "repos_url": "https://api.github.com/users/Ownmarc/repos", "events_url": "https://api.github.com/users/Ownmarc/events{/privacy}", "received_events_url": "https://api.github.com/users/Ownmarc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-01T22:18:42Z", "updated_at": "2019-04-02T12:48:23Z", "closed_at": "2019-04-02T12:48:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n\r\nIs there a way to only initialize the 3 layers that do the classification to new weights/bias ?\r\n\r\nTrying to change the cfg file for 21 classes (78 filters and 21 classes) gave me an error on the 81, 93 and 105 layers while trying to load the pre-trained weights (yolov3.pt). I know we had this in darkflow (Tensorflow version of yolov2), is there a way create new layers for the transfer learning ?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/181/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/180", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/180/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/180/events", "html_url": "https://github.com/ultralytics/yolov3/issues/180", "id": 427496362, "node_id": "MDU6SXNzdWU0Mjc0OTYzNjI=", "number": 180, "title": "a question in train.py", "user": {"login": "tianqiaotiemo", "id": 33590742, "node_id": "MDQ6VXNlcjMzNTkwNzQy", "avatar_url": "https://avatars.githubusercontent.com/u/33590742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tianqiaotiemo", "html_url": "https://github.com/tianqiaotiemo", "followers_url": "https://api.github.com/users/tianqiaotiemo/followers", "following_url": "https://api.github.com/users/tianqiaotiemo/following{/other_user}", "gists_url": "https://api.github.com/users/tianqiaotiemo/gists{/gist_id}", "starred_url": "https://api.github.com/users/tianqiaotiemo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tianqiaotiemo/subscriptions", "organizations_url": "https://api.github.com/users/tianqiaotiemo/orgs", "repos_url": "https://api.github.com/users/tianqiaotiemo/repos", "events_url": "https://api.github.com/users/tianqiaotiemo/events{/privacy}", "received_events_url": "https://api.github.com/users/tianqiaotiemo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-01T03:33:48Z", "updated_at": "2023-04-21T21:12:20Z", "closed_at": "2019-04-01T10:19:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"train.py\", line 230, in <module>\r\n    num_workers=opt.num_workers\r\n  File \"train.py\", line 76, in train\r\n    dist.init_process_group(backend=opt.backend, init_method=opt.dist_url, world_size=opt.world_size, rank=opt.rank)\r\n  File \"/home/zyf2413/anaconda3/lib/python3.6/site-packages/torch/distributed/__init__.py\", line 94, in init_process_group\r\n    group_name, rank)\r\nRuntimeError: public_address was not set in config at /opt/conda/conda-bld/pytorch_1535491974311/work/torch/lib/THD/process_group/General.cpp:17\r\n\r\n\r\nHOW TO SOLVE IT? THANKS\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/180/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/179", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/179/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/179/events", "html_url": "https://github.com/ultralytics/yolov3/issues/179", "id": 427443066, "node_id": "MDU6SXNzdWU0Mjc0NDMwNjY=", "number": 179, "title": "Using sudo cause error to pycocotool not being found", "user": {"login": "xinanhuang", "id": 44845583, "node_id": "MDQ6VXNlcjQ0ODQ1NTgz", "avatar_url": "https://avatars.githubusercontent.com/u/44845583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xinanhuang", "html_url": "https://github.com/xinanhuang", "followers_url": "https://api.github.com/users/xinanhuang/followers", "following_url": "https://api.github.com/users/xinanhuang/following{/other_user}", "gists_url": "https://api.github.com/users/xinanhuang/gists{/gist_id}", "starred_url": "https://api.github.com/users/xinanhuang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xinanhuang/subscriptions", "organizations_url": "https://api.github.com/users/xinanhuang/orgs", "repos_url": "https://api.github.com/users/xinanhuang/repos", "events_url": "https://api.github.com/users/xinanhuang/events{/privacy}", "received_events_url": "https://api.github.com/users/xinanhuang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-03-31T20:41:31Z", "updated_at": "2019-04-02T11:50:04Z", "closed_at": "2019-04-02T11:50:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nEnter **$ sudo python3 test.py --save-json --conf-thres 0.001 --img-size 416** returns error **\"No module names 'pycocotools._mask'\"**. This problem does not exist when either the train.py or test.py wasn't running in root.\r\n\r\n![unnamed](https://user-images.githubusercontent.com/44845583/55294759-d3e95580-53d3-11e9-8fa1-6d8045626597.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/179/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/171", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/171/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/171/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/171/events", "html_url": "https://github.com/ultralytics/yolov3/issues/171", "id": 426054335, "node_id": "MDU6SXNzdWU0MjYwNTQzMzU=", "number": 171, "title": "Different mAP from cocoAPI", "user": {"login": "xiao1228", "id": 11752039, "node_id": "MDQ6VXNlcjExNzUyMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/11752039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiao1228", "html_url": "https://github.com/xiao1228", "followers_url": "https://api.github.com/users/xiao1228/followers", "following_url": "https://api.github.com/users/xiao1228/following{/other_user}", "gists_url": "https://api.github.com/users/xiao1228/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiao1228/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiao1228/subscriptions", "organizations_url": "https://api.github.com/users/xiao1228/orgs", "repos_url": "https://api.github.com/users/xiao1228/repos", "events_url": "https://api.github.com/users/xiao1228/events{/privacy}", "received_events_url": "https://api.github.com/users/xiao1228/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 23, "created_at": "2019-03-27T16:14:35Z", "updated_at": "2019-04-15T12:25:19Z", "closed_at": "2019-03-28T16:32:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am training the code from scratch and the results from best.pt are shown below\r\n\r\n```\r\npython3 test.py --weights weights/best.pt --save-json --img-size 416\r\nNamespace(batch_size=32, cfg='cfg/yolov3.cfg', conf_thres=0.3, data_cfg='cfg/coco.data', img_size=416, iou_thres=0.5, nms_thres=0.45, save_json=True, weights='weights/best.pt')\r\n\r\n      Image      Total          P          R        mAP\r\n         32       5000      0.562      0.545      0.523      0.744s\r\n         64       5000      0.554      0.549      0.522      0.472s\r\n         96       5000      0.546      0.555      0.529      0.461s\r\n        128       5000      0.547      0.558      0.533      0.435s\r\n        160       5000      0.548      0.559      0.537      0.468s\r\n        192       5000      0.554      0.562       0.54      0.431s\r\n        224       5000       0.55      0.552       0.53       0.45s\r\n        256       5000      0.558      0.555      0.535      0.469s\r\n        288       5000      0.568      0.565      0.545      0.408s\r\n        320       5000      0.561      0.559      0.539      0.461s\r\n        352       5000       0.56      0.556      0.535      0.474s\r\n        384       5000      0.565      0.564      0.543      0.417s\r\n        416       5000      0.564      0.566      0.545      0.514s\r\n        448       5000      0.563      0.562      0.542      0.553s\r\n        480       5000      0.558      0.557      0.536      0.431s\r\n        512       5000      0.553      0.553      0.532      0.505s\r\n        544       5000       0.55      0.551       0.53      0.477s\r\n        576       5000      0.554      0.554      0.533      0.489s\r\n        608       5000      0.557      0.556      0.535      0.553s\r\n        640       5000      0.555      0.553      0.532      0.485s\r\n        672       5000      0.551      0.549      0.528      0.556s\r\n        704       5000      0.553       0.55       0.53      0.395s\r\n        736       5000      0.551      0.547      0.526      0.521s\r\n        768       5000      0.552       0.55      0.529      0.498s\r\n        800       5000      0.553       0.55      0.529      0.478s\r\n        832       5000      0.554      0.551      0.529      0.491s\r\n        864       5000      0.552      0.549      0.527      0.493s\r\n        896       5000       0.55      0.547      0.525       0.58s\r\n        928       5000      0.549      0.546      0.524      0.554s\r\n        960       5000      0.552      0.548      0.526      0.448s\r\n        992       5000       0.55      0.546      0.524      0.554s\r\n       1024       5000      0.551      0.547      0.525      0.496s\r\n       1056       5000      0.552      0.547      0.526      0.427s\r\n       1088       5000      0.551      0.546      0.524      0.473s\r\n       1120       5000       0.55      0.546      0.524      0.538s\r\n       1152       5000      0.549      0.544      0.523       0.49s\r\n       1184       5000      0.547      0.542       0.52      0.484s\r\n       1216       5000      0.545       0.54      0.519      0.508s\r\n       1248       5000      0.545      0.539      0.518       0.51s\r\n       1280       5000      0.544      0.539      0.517      0.535s\r\n       1312       5000      0.548      0.541       0.52      0.494s\r\n       1344       5000      0.548      0.542      0.521      0.608s\r\n       1376       5000      0.549      0.544      0.523      0.532s\r\n       1408       5000      0.551      0.546      0.525      0.465s\r\n       1440       5000       0.55      0.546      0.525       0.46s\r\n       1472       5000      0.549      0.546      0.524       0.57s\r\n       1504       5000       0.55      0.546      0.525      0.522s\r\n       1536       5000       0.55      0.547      0.526      0.495s\r\n       1568       5000       0.55      0.547      0.526      0.453s\r\n       1600       5000      0.551      0.547      0.526      0.513s\r\n       1632       5000      0.551      0.548      0.527      0.444s\r\n       1664       5000      0.552      0.549      0.528      0.443s\r\n       1696       5000      0.554       0.55      0.529      0.494s\r\n       1728       5000      0.554      0.551       0.53      0.529s\r\n       1760       5000      0.554       0.55      0.529      0.487s\r\n       1792       5000      0.555      0.551       0.53      0.497s\r\n       1824       5000      0.554      0.551       0.53      0.465s\r\n       1856       5000      0.554       0.55      0.529      0.493s\r\n       1888       5000      0.554       0.55      0.529      0.534s\r\n       1920       5000      0.554       0.55      0.529      0.501s\r\n       1952       5000      0.552      0.548      0.528      0.517s\r\n       1984       5000      0.552      0.548      0.527      0.483s\r\n       2016       5000      0.551      0.547      0.526      0.447s\r\n       2048       5000       0.55      0.546      0.525      0.576s\r\n       2080       5000       0.55      0.546      0.525      0.438s\r\n       2112       5000      0.551      0.547      0.526      0.497s\r\n       2144       5000      0.551      0.547      0.526      0.538s\r\n       2176       5000      0.552      0.548      0.526      0.562s\r\n       2208       5000       0.55      0.546      0.525      0.551s\r\n       2240       5000      0.549      0.545      0.524      0.516s\r\n       2272       5000      0.549      0.545      0.524      0.506s\r\n       2304       5000      0.549      0.545      0.524      0.446s\r\n       2336       5000      0.549      0.545      0.523      0.486s\r\n       2368       5000       0.55      0.546      0.524      0.545s\r\n       2400       5000       0.55      0.546      0.524      0.506s\r\n       2432       5000       0.55      0.546      0.524      0.468s\r\n       2464       5000       0.55      0.546      0.525       0.54s\r\n       2496       5000       0.55      0.547      0.525      0.551s\r\n       2528       5000       0.55      0.546      0.525      0.543s\r\n       2560       5000      0.549      0.546      0.524      0.465s\r\n       2592       5000      0.549      0.546      0.524      0.495s\r\n       2624       5000      0.549      0.546      0.524      0.612s\r\n       2656       5000      0.549      0.546      0.525      0.512s\r\n       2688       5000      0.549      0.546      0.524      0.523s\r\n       2720       5000      0.547      0.545      0.523      0.547s\r\n       2752       5000      0.547      0.545      0.523      0.537s\r\n       2784       5000      0.547      0.545      0.523      0.519s\r\n       2816       5000      0.548      0.545      0.524      0.474s\r\n       2848       5000      0.547      0.545      0.523      0.498s\r\n       2880       5000      0.548      0.545      0.523      0.526s\r\n       2912       5000      0.547      0.545      0.523      0.478s\r\n       2944       5000      0.547      0.544      0.523      0.487s\r\n       2976       5000      0.547      0.545      0.523      0.536s\r\n       3008       5000      0.545      0.543      0.521      0.509s\r\n       3040       5000      0.544      0.541       0.52      0.466s\r\n       3072       5000      0.543      0.541      0.519      0.511s\r\n       3104       5000      0.544      0.541       0.52      0.489s\r\n       3136       5000      0.544      0.542       0.52       0.42s\r\n       3168       5000      0.545      0.543      0.521      0.536s\r\n       3200       5000      0.545      0.543      0.521      0.452s\r\n       3232       5000      0.545      0.543      0.521      0.545s\r\n       3264       5000      0.544      0.542       0.52       0.56s\r\n       3296       5000      0.544      0.542       0.52      0.533s\r\n       3328       5000      0.544      0.542       0.52       0.48s\r\n       3360       5000      0.543      0.541      0.519       0.49s\r\n       3392       5000      0.542      0.541      0.519      0.507s\r\n       3424       5000      0.542      0.541      0.519      0.522s\r\n       3456       5000      0.542      0.542       0.52      0.522s\r\n       3488       5000      0.541      0.541      0.519      0.675s\r\n       3520       5000      0.541       0.54      0.518      0.443s\r\n       3552       5000      0.541       0.54      0.518      0.515s\r\n       3584       5000      0.541      0.541      0.519       0.54s\r\n       3616       5000      0.541       0.54      0.518      0.462s\r\n       3648       5000      0.542       0.54      0.519      0.575s\r\n       3680       5000      0.542      0.541      0.519      0.575s\r\n       3712       5000      0.543      0.541      0.519      0.604s\r\n       3744       5000      0.542       0.54      0.519      0.595s\r\n       3776       5000      0.542      0.541      0.519      0.504s\r\n       3808       5000      0.542      0.541      0.519      0.469s\r\n       3840       5000      0.542      0.541      0.519      0.572s\r\n       3872       5000      0.541       0.54      0.518      0.485s\r\n       3904       5000      0.541       0.54      0.518      0.585s\r\n       3936       5000      0.541       0.54      0.518      0.518s\r\n       3968       5000      0.541      0.539      0.517       0.53s\r\n       4000       5000      0.541      0.539      0.517      0.472s\r\n       4032       5000      0.541      0.539      0.517      0.585s\r\n       4064       5000      0.541      0.539      0.517      0.545s\r\n       4096       5000      0.541      0.539      0.518      0.568s\r\n       4128       5000      0.541      0.539      0.517      0.508s\r\n       4160       5000      0.541      0.539      0.517      0.447s\r\n       4192       5000       0.54      0.538      0.516      0.571s\r\n       4224       5000       0.54      0.538      0.516      0.553s\r\n       4256       5000       0.54      0.538      0.517      0.493s\r\n       4288       5000      0.541      0.539      0.517      0.451s\r\n       4320       5000      0.542      0.539      0.517      0.538s\r\n       4352       5000      0.542      0.539      0.518      0.535s\r\n       4384       5000      0.541      0.539      0.517      0.636s\r\n       4416       5000      0.542       0.54      0.518      0.448s\r\n       4448       5000      0.542      0.539      0.518      0.507s\r\n       4480       5000      0.542       0.54      0.518      0.566s\r\n       4512       5000      0.542       0.54      0.518      0.606s\r\n       4544       5000      0.542      0.539      0.518      0.587s\r\n       4576       5000      0.541      0.539      0.517      0.479s\r\n       4608       5000      0.541      0.539      0.517      0.523s\r\n       4640       5000      0.542      0.539      0.517      0.542s\r\n       4672       5000      0.541      0.539      0.517      0.633s\r\n       4704       5000      0.542      0.539      0.517       0.54s\r\n       4736       5000      0.542      0.539      0.517      0.448s\r\n       4768       5000      0.542      0.539      0.517      0.552s\r\n       4800       5000      0.542      0.539      0.518        0.5s\r\n       4832       5000      0.542      0.539      0.517      0.476s\r\n       4864       5000      0.542      0.539      0.518      0.524s\r\n       4896       5000      0.543       0.54      0.518      0.535s\r\n       4928       5000      0.542      0.539      0.518       0.61s\r\n       4960       5000      0.542      0.539      0.518      0.517s\r\n       4992       5000      0.542      0.539      0.517      0.513s\r\n       5000       5000      0.542      0.538      0.517      0.142s\r\nmAP Per Class:\r\n         person: 0.6545\r\n        bicycle: 0.3390\r\n            car: 0.4087\r\n     motorcycle: 0.5551\r\n       airplane: 0.7695\r\n            bus: 0.6553\r\n          train: 0.7421\r\n          truck: 0.3311\r\n           boat: 0.3917\r\n  traffic light: 0.3546\r\n   fire hydrant: 0.6711\r\n      stop sign: 0.5843\r\n  parking meter: 0.2901\r\n          bench: 0.2239\r\n           bird: 0.4490\r\n            cat: 0.6029\r\n            dog: 0.5982\r\n          horse: 0.5965\r\n          sheep: 0.4772\r\n            cow: 0.4832\r\n       elephant: 0.7780\r\n           bear: 0.6631\r\n          zebra: 0.7580\r\n        giraffe: 0.8608\r\n       backpack: 0.1389\r\n       umbrella: 0.4296\r\n        handbag: 0.1174\r\n            tie: 0.4122\r\n       suitcase: 0.2834\r\n        frisbee: 0.4407\r\n           skis: 0.3457\r\n      snowboard: 0.4403\r\n    sports ball: 0.4385\r\n           kite: 0.5387\r\n   baseball bat: 0.3634\r\n baseball glove: 0.3577\r\n     skateboard: 0.6406\r\n      surfboard: 0.4961\r\n  tennis racket: 0.6215\r\n         bottle: 0.2793\r\n     wine glass: 0.3463\r\n            cup: 0.3451\r\n           fork: 0.2618\r\n          knife: 0.1097\r\n          spoon: 0.1302\r\n           bowl: 0.2915\r\n         banana: 0.2537\r\n          apple: 0.1686\r\n       sandwich: 0.3510\r\n         orange: 0.2597\r\n       broccoli: 0.2330\r\n         carrot: 0.1589\r\n        hot dog: 0.4160\r\n          pizza: 0.5690\r\n          donut: 0.3708\r\n           cake: 0.3449\r\n          chair: 0.2805\r\n          couch: 0.3294\r\n   potted plant: 0.3229\r\n            bed: 0.3898\r\n   dining table: 0.2956\r\n         toilet: 0.6938\r\n             tv: 0.5832\r\n         laptop: 0.5667\r\n          mouse: 0.4683\r\n         remote: 0.2484\r\n       keyboard: 0.4403\r\n     cell phone: 0.2181\r\n      microwave: 0.5130\r\n           oven: 0.3297\r\n        toaster: 0.0714\r\n           sink: 0.4191\r\n   refrigerator: 0.4699\r\n           book: 0.1062\r\n          clock: 0.5111\r\n           vase: 0.3223\r\n       scissors: 0.1696\r\n     teddy bear: 0.5323\r\n     hair drier: 0.0000\r\n     toothbrush: 0.2262\r\n```\r\n\r\nHowever from COCOAPI the results are shown below\r\n```\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.100\r\n Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.101\r\n Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.100\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.064\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.122\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.077\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.117\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.200\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.210\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.232\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.308\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.252\r\n\r\n```\r\n\r\nSo from the test.py it gives mAP 50+ however from COCOAPI it seems like only around 10\r\nAm I missing something or what? \r\nThank you very much @glenn-jocher sorry for the long results. \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/171/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/167", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/167/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/167/events", "html_url": "https://github.com/ultralytics/yolov3/issues/167", "id": 425258163, "node_id": "MDU6SXNzdWU0MjUyNTgxNjM=", "number": 167, "title": "train my own data ,the MAP are always be 0.", "user": {"login": "xiaoyunl", "id": 36145304, "node_id": "MDQ6VXNlcjM2MTQ1MzA0", "avatar_url": "https://avatars.githubusercontent.com/u/36145304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiaoyunl", "html_url": "https://github.com/xiaoyunl", "followers_url": "https://api.github.com/users/xiaoyunl/followers", "following_url": "https://api.github.com/users/xiaoyunl/following{/other_user}", "gists_url": "https://api.github.com/users/xiaoyunl/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiaoyunl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiaoyunl/subscriptions", "organizations_url": "https://api.github.com/users/xiaoyunl/orgs", "repos_url": "https://api.github.com/users/xiaoyunl/repos", "events_url": "https://api.github.com/users/xiaoyunl/events{/privacy}", "received_events_url": "https://api.github.com/users/xiaoyunl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-03-26T07:08:37Z", "updated_at": "2023-04-21T21:12:25Z", "closed_at": "2019-03-26T17:05:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use the train.py to train my own data , my data has only 1 class . I have  changed the .data and .cfg . and run python train.py  followed  this tutorial https://github.com/ultralytics/yolov3/wiki/Train-Custom-Data\r\nit can run success. but i found there maybe has some problems. the MAP are always be 0.\r\n![image](https://user-images.githubusercontent.com/36145304/54977452-5b038b80-4fd8-11e9-8753-2cd42ec7c915.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/167/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/166", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/166/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/166/events", "html_url": "https://github.com/ultralytics/yolov3/issues/166", "id": 425207183, "node_id": "MDU6SXNzdWU0MjUyMDcxODM=", "number": 166, "title": "CUSTOM DATASET: RuntimeError: reduce failed to synchronize: device-side assert triggered ", "user": {"login": "asifkareem03", "id": 48887516, "node_id": "MDQ6VXNlcjQ4ODg3NTE2", "avatar_url": "https://avatars.githubusercontent.com/u/48887516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asifkareem03", "html_url": "https://github.com/asifkareem03", "followers_url": "https://api.github.com/users/asifkareem03/followers", "following_url": "https://api.github.com/users/asifkareem03/following{/other_user}", "gists_url": "https://api.github.com/users/asifkareem03/gists{/gist_id}", "starred_url": "https://api.github.com/users/asifkareem03/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asifkareem03/subscriptions", "organizations_url": "https://api.github.com/users/asifkareem03/orgs", "repos_url": "https://api.github.com/users/asifkareem03/repos", "events_url": "https://api.github.com/users/asifkareem03/events{/privacy}", "received_events_url": "https://api.github.com/users/asifkareem03/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-26T03:16:23Z", "updated_at": "2023-04-21T21:12:26Z", "closed_at": "2019-03-29T11:02:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "iam using the latest version but it still showing this error\r\n\r\n```\r\n   Epoch       Batch        xy        wh      conf       cls     total  nTargets      time\r\n   0/269        0/17     0.247      5.34       136     0.887       142       197      18.7\r\n/pytorch/aten/src/THCUNN/ClassNLLCriterion.cu:105: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [10,0,0] Assertion `t >= 0 && t < n_classes` failed.\r\n/pytorch/aten/src/THCUNN/ClassNLLCriterion.cu:105: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [11,0,0] Assertion `t >= 0 && t < n_classes` failed.\r\n/pytorch/aten/src/THCUNN/ClassNLLCriterion.cu:105: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [12,0,0] Assertion `t >= 0 && t < n_classes` failed.\r\n/pytorch/aten/src/THCUNN/ClassNLLCriterion.cu:105: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [13,0,0] Assertion `t >= 0 && t < n_classes` failed.\r\n/pytorch/aten/src/THCUNN/ClassNLLCriterion.cu:105: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [14,0,0] Assertion `t >= 0 && t < n_classes` failed.\r\n/pytorch/aten/src/THCUNN/ClassNLLCriterion.cu:105: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [15,0,0] Assertion `t >= 0 && t < n_classes` failed.\r\n/pytorch/aten/src/THCUNN/ClassNLLCriterion.cu:105: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [16,0,0] Assertion `t >= 0 && t < n_classes` failed.\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 229, in <module>\r\n    num_workers=opt.num_workers\r\n  File \"train.py\", line 142, in train\r\n    loss, loss_dict = compute_loss(pred, target_list)\r\n  File \"/content/drive/My Drive/yolov3/utils/utils.py\", line 271, in compute_loss\r\n    lxy += k * MSE(torch.sigmoid(pi[..., 0:2]), txy[i])  # xy\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py\", line 489, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/modules/loss.py\", line 435, in forward\r\n    return F.mse_loss(input, target, reduction=self.reduction)\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/nn/functional.py\", line 2156, in mse_loss\r\n    ret = torch._C._nn.mse_loss(expanded_input, expanded_target, _Reduction.get_enum(reduction))\r\nRuntimeError: reduce failed to synchronize: device-side assert triggered\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/166/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/165", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/165/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/165/events", "html_url": "https://github.com/ultralytics/yolov3/issues/165", "id": 425206743, "node_id": "MDU6SXNzdWU0MjUyMDY3NDM=", "number": 165, "title": "CUSTOM DATASET: RuntimeError: DataLoader worker (pid 2064) is killed by signal: Killed error is occuring during training", "user": {"login": "asifkareem03", "id": 48887516, "node_id": "MDQ6VXNlcjQ4ODg3NTE2", "avatar_url": "https://avatars.githubusercontent.com/u/48887516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asifkareem03", "html_url": "https://github.com/asifkareem03", "followers_url": "https://api.github.com/users/asifkareem03/followers", "following_url": "https://api.github.com/users/asifkareem03/following{/other_user}", "gists_url": "https://api.github.com/users/asifkareem03/gists{/gist_id}", "starred_url": "https://api.github.com/users/asifkareem03/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asifkareem03/subscriptions", "organizations_url": "https://api.github.com/users/asifkareem03/orgs", "repos_url": "https://api.github.com/users/asifkareem03/repos", "events_url": "https://api.github.com/users/asifkareem03/events{/privacy}", "received_events_url": "https://api.github.com/users/asifkareem03/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-26T03:14:13Z", "updated_at": "2023-04-21T21:12:27Z", "closed_at": "2019-03-29T11:02:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "iam using the latest version but it still showing this error\r\n\r\n```\r\nEpoch Batch xy wh conf cls total nTargets time\r\nTraceback (most recent call last):\r\nFile \"train.py\", line 221, in\r\nnum_workers=opt.num_workers\r\nFile \"train.py\", line 131, in train\r\npred = model(imgs.to(device))\r\nFile \"/home/ridha/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 489, in call\r\nresult = self.forward(*input, **kwargs)\r\nFile \"/home/ridha/yolov3/models.py\", line 186, in forward\r\nx = module(x)\r\nFile \"/home/ridha/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 489, in call\r\nresult = self.forward(*input, **kwargs)\r\nFile \"/home/ridha/anaconda3/lib/python3.6/site-packages/torch/nn/modules/container.py\", line 92, in forward\r\ninput = module(input)\r\nFile \"/home/ridha/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 489, in call\r\nresult = self.forward(*input, **kwargs)\r\nFile \"/home/ridha/anaconda3/lib/python3.6/site-packages/torch/nn/modules/conv.py\", line 320, in forward\r\nself.padding, self.dilation, self.groups)\r\nFile \"/home/ridha/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 274, in handler\r\n_error_if_any_worker_fails()\r\nRuntimeError: DataLoader worker (pid 2064) is killed by signal: Killed.\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/146", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/146/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/146/events", "html_url": "https://github.com/ultralytics/yolov3/issues/146", "id": 423594373, "node_id": "MDU6SXNzdWU0MjM1OTQzNzM=", "number": 146, "title": "Zero mAP, Precision, Recall", "user": {"login": "fatihbaltaci", "id": 10353650, "node_id": "MDQ6VXNlcjEwMzUzNjUw", "avatar_url": "https://avatars.githubusercontent.com/u/10353650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fatihbaltaci", "html_url": "https://github.com/fatihbaltaci", "followers_url": "https://api.github.com/users/fatihbaltaci/followers", "following_url": "https://api.github.com/users/fatihbaltaci/following{/other_user}", "gists_url": "https://api.github.com/users/fatihbaltaci/gists{/gist_id}", "starred_url": "https://api.github.com/users/fatihbaltaci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fatihbaltaci/subscriptions", "organizations_url": "https://api.github.com/users/fatihbaltaci/orgs", "repos_url": "https://api.github.com/users/fatihbaltaci/repos", "events_url": "https://api.github.com/users/fatihbaltaci/events{/privacy}", "received_events_url": "https://api.github.com/users/fatihbaltaci/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 26, "created_at": "2019-03-21T07:05:29Z", "updated_at": "2020-03-30T13:15:27Z", "closed_at": "2019-03-25T16:15:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "@glenn-jocher Hi, when I run test.py with **latest**.pt or **best**.pt; mAP, precision, and recall became zero. But there is no problem with official yolo weights (yolov3.weights).\r\n\r\nMy training command is:\r\n`python train.py --img-size=608`\r\n\r\nIs there any problem with model saving?", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/146/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/21", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/21/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/21/events", "html_url": "https://github.com/ultralytics/yolov3/issues/21", "id": 365934740, "node_id": "MDU6SXNzdWUzNjU5MzQ3NDA=", "number": 21, "title": "Multi-GPU Training", "user": {"login": "xiao1228", "id": 11752039, "node_id": "MDQ6VXNlcjExNzUyMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/11752039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiao1228", "html_url": "https://github.com/xiao1228", "followers_url": "https://api.github.com/users/xiao1228/followers", "following_url": "https://api.github.com/users/xiao1228/following{/other_user}", "gists_url": "https://api.github.com/users/xiao1228/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiao1228/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiao1228/subscriptions", "organizations_url": "https://api.github.com/users/xiao1228/orgs", "repos_url": "https://api.github.com/users/xiao1228/repos", "events_url": "https://api.github.com/users/xiao1228/events{/privacy}", "received_events_url": "https://api.github.com/users/xiao1228/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1035696373, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/help%20wanted", "name": "help wanted", "color": "008672", "default": true, "description": "Extra attention is needed"}], "state": "closed", "locked": false, "assignee": {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 34, "created_at": "2018-10-02T14:48:40Z", "updated_at": "2022-01-16T16:10:13Z", "closed_at": "2019-03-21T13:32:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nHave you tried to run training on multiple gpus?\r\nI am getting the below error when I try to do that.thank you\r\n```\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 194, in <module>\r\n    main(opt)\r\n  File \"train.py\", line 128, in main\r\n    loss = model(imgs, targets, requestPrecision=True)\r\n  File \"/opt/anaconda/envs/pytorch_p35/lib/python3.5/site-packages/torch/nn/modules/module.py\", line 477, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/opt/anaconda/envs/pytorch_p35/lib/python3.5/site-packages/torch/nn/parallel/data_parallel.py\", line 123, in forward\r\n    outputs = self.parallel_apply(replicas, inputs, kwargs)\r\n  File \"/opt/anaconda/envs/pytorch_p35/lib/python3.5/site-packages/torch/nn/parallel/data_parallel.py\", line 133, in parallel_apply\r\n    return parallel_apply(replicas, inputs, kwargs, self.device_ids[:len(replicas)])\r\n  File \"/opt/anaconda/envs/pytorch_p35/lib/python3.5/site-packages/torch/nn/parallel/parallel_apply.py\", line 77, in parallel_apply\r\n    raise output\r\n  File \"/opt/anaconda/envs/pytorch_p35/lib/python3.5/site-packages/torch/nn/parallel/parallel_apply.py\", line 53, in _worker\r\n    output = module(*input, **kwargs)\r\n  File \"/opt/anaconda/envs/pytorch_p35/lib/python3.5/site-packages/torch/nn/modules/module.py\", line 477, in __call__\r\n    result = self.forward(*input, **kwargs)\r\nTypeError: forward() missing 1 required positional argument: 'x'\r\n```", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/21/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/21/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/17", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/17/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/17/events", "html_url": "https://github.com/ultralytics/yolov3/issues/17", "id": 362952419, "node_id": "MDU6SXNzdWUzNjI5NTI0MTk=", "number": 17, "title": "Loss Constants: _coord, _obj and _noobj", "user": {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-09-23T15:39:12Z", "updated_at": "2018-11-26T19:30:23Z", "closed_at": "2018-11-26T19:30:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The correct YOLO **v3** loss constants are:\r\n``` python\r\nlambda_coord = 1.0\r\nlambda_obj = 1.0\r\nlambda_noobj = 1.0\r\n```\r\n\r\nrather than the below constants, which derive from the original yolov1.cfg file:\r\nhttps://github.com/pjreddie/darknet/blob/61c9d02ec461e30d55762ec7669d6a1d3c356fb2/cfg/yolov1.cfg#L257-L260\r\n``` python\r\nlambda_coord = 5.0\r\nlambda_obj = 1.0\r\nlambda_noobj = 0.5\r\n```\r\n\r\n**The latest yolov3 constants appear to be hard coded into the parser.c rather than in yolov3.cfg** Credit to @ydixon who originally noticed this discrepancy in issue #12.\r\nhttps://github.com/pjreddie/darknet/blob/680d3bde1924c8ee2d1c1dea54d3e56a05ca9a26/src/parser.c#L376-L381\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/17/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/17/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/12", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/12/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/12/events", "html_url": "https://github.com/ultralytics/yolov3/issues/12", "id": 359581926, "node_id": "MDU6SXNzdWUzNTk1ODE5MjY=", "number": 12, "title": "Model Loss", "user": {"login": "okanlv", "id": 29547397, "node_id": "MDQ6VXNlcjI5NTQ3Mzk3", "avatar_url": "https://avatars.githubusercontent.com/u/29547397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/okanlv", "html_url": "https://github.com/okanlv", "followers_url": "https://api.github.com/users/okanlv/followers", "following_url": "https://api.github.com/users/okanlv/following{/other_user}", "gists_url": "https://api.github.com/users/okanlv/gists{/gist_id}", "starred_url": "https://api.github.com/users/okanlv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/okanlv/subscriptions", "organizations_url": "https://api.github.com/users/okanlv/orgs", "repos_url": "https://api.github.com/users/okanlv/repos", "events_url": "https://api.github.com/users/okanlv/events{/privacy}", "received_events_url": "https://api.github.com/users/okanlv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2018-09-12T17:34:39Z", "updated_at": "2019-08-06T16:57:51Z", "closed_at": "2019-08-06T16:57:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey,\r\nFollowing **Section 2.2** of [YOLO](https://arxiv.org/abs/1506.02640), I have a few questions about the loss calculation shown at the end of this issue.\r\n\r\n1. We are using `\u03bb coord = 5` from line 156 to line 159. Should we also use `\u03bb noobj = .5` in line 167?\r\n\r\n2. Why are we multiplying BCELoss with `1.5` in line 160? I have not found any reference to this in the papers.\r\n\r\n3. `pred_conf` gives us a `[batch_size x anchor_number x grid_size x grid_size]` tensor. Assuming `batch_size = 1`,  `anchor_number=3` and `grid_size = 2`, there are 12 elements in this tensor. If `nM = 3`, `pred_conf[~mask]` contains 9 elements, so does `mask[~mask].float()`. `BCEWithLogitsLoss1` gives the sum of BCE loss for these 9 elements, whereas `BCEWithLogitsLoss2` takes the mean of  `BCEWithLogitsLoss1` (i.e. divides it by 9 for our case). Now, my question is why are we multiplying `BCEWithLogitsLoss2` with `nM` instead of using `BCEWithLogitsLoss1` (should divide by batch_size too prob.) in line 167? There is no division in **Section 2.2** of [YOLO](https://arxiv.org/abs/1506.02640). Btw,  `pred_conf[~mask]` could contain 15k elements normally, so we are practically ignoring the confidence loss in line 167.\r\n\r\n4. Similar to 3, we should use `BCEWithLogitsLoss1` (should divide by batch_size too prob.) in line 163. Because\r\n`BCEWithLogitsLoss1(pred_cls[mask], tcls.float()) / BCEWithLogitsLoss2(pred_cls[mask], tcls.float()) =  batch_size x nM x number_of_classes`.\r\n\r\n5. Why are we not dividing all the losses by  the `batch_size`? As the `batch_size` increases, the loss increases too. However, we should minimize the expected loss per sample.\r\n\r\nhttps://github.com/ultralytics/yolov3/blob/9514e7443891ab2eaa106292a041cb0b8770f7c3/models.py#L155-L167", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/12/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/12/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/10", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/10/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/10/events", "html_url": "https://github.com/ultralytics/yolov3/issues/10", "id": 359297405, "node_id": "MDU6SXNzdWUzNTkyOTc0MDU=", "number": 10, "title": "PyCharm Printing Numpy Arrays (IndexError: tuple index out of range)", "user": {"login": "CF2220160244", "id": 27803630, "node_id": "MDQ6VXNlcjI3ODAzNjMw", "avatar_url": "https://avatars.githubusercontent.com/u/27803630?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CF2220160244", "html_url": "https://github.com/CF2220160244", "followers_url": "https://api.github.com/users/CF2220160244/followers", "following_url": "https://api.github.com/users/CF2220160244/following{/other_user}", "gists_url": "https://api.github.com/users/CF2220160244/gists{/gist_id}", "starred_url": "https://api.github.com/users/CF2220160244/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CF2220160244/subscriptions", "organizations_url": "https://api.github.com/users/CF2220160244/orgs", "repos_url": "https://api.github.com/users/CF2220160244/repos", "events_url": "https://api.github.com/users/CF2220160244/events{/privacy}", "received_events_url": "https://api.github.com/users/CF2220160244/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-09-12T03:02:06Z", "updated_at": "2023-04-21T21:13:24Z", "closed_at": "2018-10-15T18:26:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "when i print (labels) in datasets.py ,row 143, there are a problem:\r\n i can not print (lables), but i can print (labels[0][0]), print(labels0.shape)\r\n\r\n   # Load labels\r\n            if os.path.isfile(label_path):\r\n                labels0 = np.loadtxt(label_path, dtype=np.float32).reshape(-1, 5)\r\n                print(labels0.shape)    #143\r\n                print(labels0[0][0])      #144\r\n                print(labels)                #145\r\n                exit()\r\n#############\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 193, in <module>\r\n    main(opt)\r\n  File \"train.py\", line 116, in main\r\n    for i, (imgs, targets) in enumerate(dataloader):\r\n  File \"/home/chenfei/Downloads/yolov3-master1/utils/datasets.py\", line 143, in __next__\r\n    print(labels)\r\n  File \"/home/chenfei/anaconda3/lib/python3.6/site-packages/numpy/core/arrayprint.py\", line 1504, in array_str\r\n    return array2string(a, max_line_width, precision, suppress_small, ' ', \"\")\r\n  File \"/home/chenfei/anaconda3/lib/python3.6/site-packages/numpy/core/arrayprint.py\", line 668, in array2string\r\n    return _array2string(a, options, separator, prefix)\r\n  File \"/home/chenfei/anaconda3/lib/python3.6/site-packages/numpy/core/arrayprint.py\", line 460, in wrapper\r\n    return f(self, *args, **kwargs)\r\n  File \"/home/chenfei/anaconda3/lib/python3.6/site-packages/numpy/core/arrayprint.py\", line 495, in _array2string\r\n    summary_insert, options['legacy'])\r\n  File \"/home/chenfei/anaconda3/lib/python3.6/site-packages/numpy/core/arrayprint.py\", line 796, in _formatArray\r\n    curr_width=line_width)\r\n  File \"/home/chenfei/anaconda3/lib/python3.6/site-packages/numpy/core/arrayprint.py\", line 750, in recurser\r\n    word = recurser(index + (-i,), next_hanging_indent, next_width)\r\n  File \"/home/chenfei/anaconda3/lib/python3.6/site-packages/numpy/core/arrayprint.py\", line 704, in recurser\r\n    return format_function(a[index])\r\nIndexError: tuple index out of range\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/10/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/8", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/8/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/8/events", "html_url": "https://github.com/ultralytics/yolov3/issues/8", "id": 358313172, "node_id": "MDU6SXNzdWUzNTgzMTMxNzI=", "number": 8, "title": "build_targets function", "user": {"login": "okanlv", "id": 29547397, "node_id": "MDQ6VXNlcjI5NTQ3Mzk3", "avatar_url": "https://avatars.githubusercontent.com/u/29547397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/okanlv", "html_url": "https://github.com/okanlv", "followers_url": "https://api.github.com/users/okanlv/followers", "following_url": "https://api.github.com/users/okanlv/following{/other_user}", "gists_url": "https://api.github.com/users/okanlv/gists{/gist_id}", "starred_url": "https://api.github.com/users/okanlv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/okanlv/subscriptions", "organizations_url": "https://api.github.com/users/okanlv/orgs", "repos_url": "https://api.github.com/users/okanlv/repos", "events_url": "https://api.github.com/users/okanlv/events{/privacy}", "received_events_url": "https://api.github.com/users/okanlv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-09-08T17:21:34Z", "updated_at": "2023-04-21T21:13:26Z", "closed_at": "2018-09-10T10:32:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can you explain why have you used the following constants? I have inspected a few different yolov3 implementation but none had a similar operation.\r\n\r\nhttps://github.com/ultralytics/yolov3/blob/a284fc921db7b87710651238e5e0951c08c59ff1/utils/utils.py#L183", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/8/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/8/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/7", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/7/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/7/events", "html_url": "https://github.com/ultralytics/yolov3/issues/7", "id": 357486222, "node_id": "MDU6SXNzdWUzNTc0ODYyMjI=", "number": 7, "title": "mAP Computation vs Pycocotools", "user": {"login": "xyutao", "id": 42927482, "node_id": "MDQ6VXNlcjQyOTI3NDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42927482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xyutao", "html_url": "https://github.com/xyutao", "followers_url": "https://api.github.com/users/xyutao/followers", "following_url": "https://api.github.com/users/xyutao/following{/other_user}", "gists_url": "https://api.github.com/users/xyutao/gists{/gist_id}", "starred_url": "https://api.github.com/users/xyutao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xyutao/subscriptions", "organizations_url": "https://api.github.com/users/xyutao/orgs", "repos_url": "https://api.github.com/users/xyutao/repos", "events_url": "https://api.github.com/users/xyutao/events{/privacy}", "received_events_url": "https://api.github.com/users/xyutao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1035696373, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/help%20wanted", "name": "help wanted", "color": "008672", "default": true, "description": "Extra attention is needed"}], "state": "closed", "locked": false, "assignee": {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 20, "created_at": "2018-09-06T03:47:54Z", "updated_at": "2019-04-03T10:26:21Z", "closed_at": "2019-04-03T10:26:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "The mAP computation code is similar as https://github.com/eriklindernoren/PyTorch-YOLOv3/blob/959e0ff43f5b82bdacef87f4240bae8415eac45b/test.py#L69\r\n\r\nIt is incorrect to average the AP for each sample, because AP is computed per-class. The right way is to rank all detected instances across the whole test set for each object class, compute AP for each class, and then average the AP.", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/7/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/7/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/2", "repository_url": "https://api.github.com/repos/ultralytics/yolov3", "labels_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2/comments", "events_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2/events", "html_url": "https://github.com/ultralytics/yolov3/issues/2", "id": 356562199, "node_id": "MDU6SXNzdWUzNTY1NjIxOTk=", "number": 2, "title": "Resume training from official yolov3 weights", "user": {"login": "lianuo", "id": 28760530, "node_id": "MDQ6VXNlcjI4NzYwNTMw", "avatar_url": "https://avatars.githubusercontent.com/u/28760530?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lianuo", "html_url": "https://github.com/lianuo", "followers_url": "https://api.github.com/users/lianuo/followers", "following_url": "https://api.github.com/users/lianuo/following{/other_user}", "gists_url": "https://api.github.com/users/lianuo/gists{/gist_id}", "starred_url": "https://api.github.com/users/lianuo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lianuo/subscriptions", "organizations_url": "https://api.github.com/users/lianuo/orgs", "repos_url": "https://api.github.com/users/lianuo/repos", "events_url": "https://api.github.com/users/lianuo/events{/privacy}", "received_events_url": "https://api.github.com/users/lianuo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035696370, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcw", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1035696373, "node_id": "MDU6TGFiZWwxMDM1Njk2Mzcz", "url": "https://api.github.com/repos/ultralytics/yolov3/labels/help%20wanted", "name": "help wanted", "color": "008672", "default": true, "description": "Extra attention is needed"}], "state": "closed", "locked": false, "assignee": {"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "glenn-jocher", "id": 26833433, "node_id": "MDQ6VXNlcjI2ODMzNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/26833433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenn-jocher", "html_url": "https://github.com/glenn-jocher", "followers_url": "https://api.github.com/users/glenn-jocher/followers", "following_url": "https://api.github.com/users/glenn-jocher/following{/other_user}", "gists_url": "https://api.github.com/users/glenn-jocher/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenn-jocher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenn-jocher/subscriptions", "organizations_url": "https://api.github.com/users/glenn-jocher/orgs", "repos_url": "https://api.github.com/users/glenn-jocher/repos", "events_url": "https://api.github.com/users/glenn-jocher/events{/privacy}", "received_events_url": "https://api.github.com/users/glenn-jocher/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 54, "created_at": "2018-09-03T16:39:58Z", "updated_at": "2019-04-10T11:46:14Z", "closed_at": "2019-04-10T11:46:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for your improvement of this YOLOv3 implementation.\r\nI have just test the training ,got some problem .\r\nI follow these steps.\r\n1. load the original yolov3.weight to the model\r\n2. train it on coco2014 with your train.py.\r\n3.Got the following logs ,the precision is down fast from 0.5->0.1. but recall is up to 0.35.\r\nsee Screenshot here\r\n![log](https://user-images.githubusercontent.com/28760530/45008052-2677b480-b033-11e8-837a-361da3b012b4.png)\r\n\r\n4.I save the weight with precision0.2, and run the detect.py\r\nthe result like this , \r\n![000000000019](https://user-images.githubusercontent.com/28760530/44996478-b2112700-afda-11e8-9399-eec286192a96.jpg)\r\nif I do not train,the orginal wight can get this result:\r\n![000000000019](https://user-images.githubusercontent.com/28760530/45008197-d6e5b880-b033-11e8-89dc-97541686dd55.jpg)\r\n\r\nI do not know whether I used wrong parameters or something else, lead to generation of many bbox .\r\ncould you give me some suggestion?\r\nThank you~\r\n", "reactions": {"url": "https://api.github.com/repos/ultralytics/yolov3/issues/2/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/ultralytics/yolov3/issues/2/timeline", "performed_via_github_app": null, "state_reason": "completed"}]