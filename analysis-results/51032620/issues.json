[{"url": "https://api.github.com/repos/rasterio/rasterio/issues/2808", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2808/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2808/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2808/events", "html_url": "https://github.com/rasterio/rasterio/issues/2808", "id": 1666608015, "node_id": "I_kwDOANdm_M5jVmuP", "number": 2808, "title": "WarpedVRT issue when alpha ", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-13T15:02:59Z", "updated_at": "2023-04-18T07:34:45Z", "closed_at": "2023-04-18T07:34:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In https://github.com/rasterio/rasterio/blob/d008e8aab38afd5d14d98499847754bd0eeaa501/rasterio/_warp.pyx#L978-L979\r\n`dst_alpha` will always be set to `0` when `add_alpha` is False. \r\n\r\nThis cause an issue when we already have an alpha band in the data. For some reason the output data will then be totally different.\r\n\r\n#### Show image difference \r\n\r\n```python\r\n#### Comparison between rasterio / WarpedVRT and GDALWarpedVRT\r\n\r\n```python\r\nimport os\r\nimport rasterio\r\nfrom rasterio.vrt import WarpedVRT\r\n\r\n# Pure Rasterio Read\r\nwith rasterio.open(\"fake.tif\") as src:\r\n    alpha = src.read(out_shape=(1, int(src.height/10), int(src.width/10)), indexes=(6,))\r\n    arr = src.read(out_shape=(1, int(src.height/10), int(src.width/10)), indexes=(1,))\r\n    print(\"Rasterio - mean: \", arr[alpha > 0].mean())\r\n\r\n# Use WarpedVRT but without reprojection\r\nwith rasterio.open(\"fake.tif\") as src:\r\n    with WarpedVRT(src, add_alpha=False) as vrt:\r\n        alpha = src.read(out_shape=(1, int(src.height/10), int(src.width/10)), indexes=(6,))\r\n        arr = vrt.read(out_shape=(1, int(src.height/10), int(src.width/10)), indexes=(1,))\r\n        print(\"WarpedVRT - mean: \", arr[alpha > 0].mean())\r\n\r\n\r\n# Create a WarpedVRT using GDAL\r\nos.system(\"gdalwarp -of VRT fake.tif fake.vrt -overwrite\")\r\n\r\nwith rasterio.open(\"fake.vrt\") as src:\r\n    alpha = src.read(out_shape=(1, int(src.height/10), int(src.width/10)), indexes=(6,))\r\n    arr = src.read(out_shape=(1, int(src.height/10), int(src.width/10)), indexes=(1,))\r\n    print(\"GDAL - mean: \", arr[alpha > 0].mean())\r\n>>> Rasterio - mean:  10000\r\n>>> WarpedVRT - mean:  39\r\n>>> GDAL - mean: 10000\r\n```\r\n\r\nFirst reported in https://github.com/developmentseed/titiler/discussions/629", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2808/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2808/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2790", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2790/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2790/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2790/events", "html_url": "https://github.com/rasterio/rasterio/pull/2790", "id": 1623185899, "node_id": "PR_kwDOANdm_M5L-6RP", "number": 2790, "title": "BUG: Fix calculation of bounds in transform.array_bounds", "user": {"login": "DFEvans", "id": 28623784, "node_id": "MDQ6VXNlcjI4NjIzNzg0", "avatar_url": "https://avatars.githubusercontent.com/u/28623784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DFEvans", "html_url": "https://github.com/DFEvans", "followers_url": "https://api.github.com/users/DFEvans/followers", "following_url": "https://api.github.com/users/DFEvans/following{/other_user}", "gists_url": "https://api.github.com/users/DFEvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/DFEvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DFEvans/subscriptions", "organizations_url": "https://api.github.com/users/DFEvans/orgs", "repos_url": "https://api.github.com/users/DFEvans/repos", "events_url": "https://api.github.com/users/DFEvans/events{/privacy}", "received_events_url": "https://api.github.com/users/DFEvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/123", "html_url": "https://github.com/rasterio/rasterio/milestone/123", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/123/labels", "id": 9285269, "node_id": "MI_kwDOANdm_M4Aja6V", "number": 123, "title": "1.3.7", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 2, "state": "open", "created_at": "2023-04-14T17:56:30Z", "updated_at": "2023-04-27T00:59:50Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2023-03-14T10:32:50Z", "updated_at": "2023-04-25T20:21:23Z", "closed_at": "2023-04-25T20:21:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2790", "html_url": "https://github.com/rasterio/rasterio/pull/2790", "diff_url": "https://github.com/rasterio/rasterio/pull/2790.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2790.patch", "merged_at": "2023-04-25T20:21:23Z"}, "body": "Fixes #2787.\r\n\r\nThe method of computing raster bounds in `rasterio.transform.array_bounds` assumes a standard GIS orientation of the image - north down, east right when just viewing the array. If the image is rotated in any way, the returned bounds may be in the wrong order (e.g. `east` is west of `west`), or may be entirely incorrect.\r\n\r\nReplace the current implementation with the more general calculation used in DatasetBase.bounds. Add an array of tests to both implementations, passing in various transforms.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2790/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2790/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2787", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2787/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2787/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2787/events", "html_url": "https://github.com/rasterio/rasterio/issues/2787", "id": 1621345711, "node_id": "I_kwDOANdm_M5go8Wv", "number": 2787, "title": "Calculation of raster bounds is incorrect for rotated rasters", "user": {"login": "DFEvans", "id": 28623784, "node_id": "MDQ6VXNlcjI4NjIzNzg0", "avatar_url": "https://avatars.githubusercontent.com/u/28623784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DFEvans", "html_url": "https://github.com/DFEvans", "followers_url": "https://api.github.com/users/DFEvans/followers", "following_url": "https://api.github.com/users/DFEvans/following{/other_user}", "gists_url": "https://api.github.com/users/DFEvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/DFEvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DFEvans/subscriptions", "organizations_url": "https://api.github.com/users/DFEvans/orgs", "repos_url": "https://api.github.com/users/DFEvans/repos", "events_url": "https://api.github.com/users/DFEvans/events{/privacy}", "received_events_url": "https://api.github.com/users/DFEvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-03-13T12:01:37Z", "updated_at": "2023-04-25T20:21:24Z", "closed_at": "2023-04-25T20:21:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nExpected: Rasterio computes correct raster bounds using functions like ~`ds.bounds~` and `rasterio.transform.array_bounds` (edit: the first one does work properly - the maths is implemented differently).\r\n\r\nActual: Rasterio computes the bounding box based on the 'top left' and 'bottom right' corners of the *pixel array*, which do not represent the projected bounds.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nfrom affine import Affine\r\n\r\ntransform = Affine(6.302162394202463, 6.152691784443768, 444048.6420808117,\r\n       4.143808265940849, -3.2637657016189103, 5417729.777950762)\r\nheight, width = 1280, 1024\r\n\r\n# Compute the coordinates of each corner of the array\r\ntransform * (0, 0)  # Top left of pixel array\r\n# (444048, 5417729)\r\n\r\ntransform * (width, 0)  # Top right of pixel array\r\n# (450502, 5421973)\r\n\r\nds.transform * (0, height)  # Bottom left of pixel array\r\n# (451924, 5413552)\r\n\r\nds.transform * (width, height)  # Bottom right of pixel array\r\n# (458377, 5417795)\r\n\r\n# Min, max x coordinate = west, east = (444048, 458377)\r\n# Min, max y coordinate = south, north = (5414387, 5421973)\r\n\r\n# Ask rasterio for the bounds\r\nrasterio.transform.array_bounds(height, width, transform)\r\n# Expected: (444048, 5414387, 458377, 5421973)\r\n# Actual: (444048, 5417795, 458377, 5417729)\r\n# Y values are computed incorrectly\r\n# South and North values are flipped (south > north)\r\n```\r\n\r\nIllustration of a raster with this transform and dimensions (from QGIS), with the orange box showing the bounding box that rasterio is computing:\r\n![image](https://user-images.githubusercontent.com/28623784/224695378-2415c4e2-8a04-40f2-bcc6-b25844bd64b4.png)\r\n\r\nFor my case, querying the four corners and taking min/max of the x and y values works. However, I don't know:\r\na) If that works for all transforms\r\nb) Whether there's a simpler way of using the affine to get them without querying four corners\r\n\r\n\r\n#### Environment Information\r\n```\r\nrasterio info:\r\n  rasterio: 1.3.6\r\n      GDAL: 3.5.3\r\n      PROJ: 9.0.1\r\n      GEOS: 3.11.1\r\n PROJ DATA: /home/danielevans/.cache/pypoetry/virtualenvs/georeferencing-validation-w0lP6d6Z-py3.10/lib/python3.10/site-packages/rasterio/proj_data\r\n GDAL DATA: /home/danielevans/.cache/pypoetry/virtualenvs/georeferencing-validation-w0lP6d6Z-py3.10/lib/python3.10/site-packages/rasterio/gdal_data\r\n\r\nSystem:\r\n    python: 3.10.6 (main, Nov 14 2022, 16:10:14) [GCC 11.3.0]\r\nexecutable: /home/danielevans/.cache/pypoetry/virtualenvs/georeferencing-validation-w0lP6d6Z-py3.10/bin/python\r\n   machine: Linux-5.15.90.1-microsoft-standard-WSL2-x86_64-with-glibc2.35\r\n\r\nPython deps:\r\n    affine: 2.4.0\r\n     attrs: 22.2.0\r\n   certifi: 2022.12.07\r\n     click: 8.1.3\r\n     cligj: 0.7.2\r\n    cython: None\r\n     numpy: 1.24.2\r\n    snuggs: 1.4.7\r\nclick-plugins: None\r\nsetuptools: 67.5.1\r\n```\r\n\r\n\r\n## Installation Method\r\n1.3.6 wheel via Pip on Linux", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2787/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2787/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2761", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2761/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2761/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2761/events", "html_url": "https://github.com/rasterio/rasterio/pull/2761", "id": 1576604754, "node_id": "PR_kwDOANdm_M5JjQxi", "number": 2761, "title": "Dodge empty sequences when computing bounds.", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/122", "html_url": "https://github.com/rasterio/rasterio/milestone/122", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/122/labels", "id": 9018380, "node_id": "MI_kwDOANdm_M4AiZwM", "number": 122, "title": "1.3.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2023-02-08T00:07:11Z", "updated_at": "2023-02-13T17:26:44Z", "due_on": null, "closed_at": "2023-02-13T17:26:44Z"}, "comments": 0, "created_at": "2023-02-08T18:28:56Z", "updated_at": "2023-02-08T18:56:58Z", "closed_at": "2023-02-08T18:56:58Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2761", "html_url": "https://github.com/rasterio/rasterio/pull/2761", "diff_url": "https://github.com/rasterio/rasterio/pull/2761.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2761.patch", "merged_at": "2023-02-08T18:56:58Z"}, "body": "Plus a 30-40% speed gain by using zip.\r\n\r\nResolves #2745.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2761/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2760", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2760/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2760/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2760/events", "html_url": "https://github.com/rasterio/rasterio/pull/2760", "id": 1575228701, "node_id": "PR_kwDOANdm_M5Jepax", "number": 2760, "title": "Add a new StatisticsError exception class", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/122", "html_url": "https://github.com/rasterio/rasterio/milestone/122", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/122/labels", "id": 9018380, "node_id": "MI_kwDOANdm_M4AiZwM", "number": 122, "title": "1.3.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2023-02-08T00:07:11Z", "updated_at": "2023-02-13T17:26:44Z", "due_on": null, "closed_at": "2023-02-13T17:26:44Z"}, "comments": 0, "created_at": "2023-02-08T00:10:24Z", "updated_at": "2023-02-08T17:44:35Z", "closed_at": "2023-02-08T17:44:31Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2760", "html_url": "https://github.com/rasterio/rasterio/pull/2760", "diff_url": "https://github.com/rasterio/rasterio/pull/2760.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2760.patch", "merged_at": "2023-02-08T17:44:31Z"}, "body": "Also make an outer `with Env():` optional when using an opened dataset as a context manager.\r\n\r\nResolves #2759", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2760/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2759", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2759/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2759/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2759/events", "html_url": "https://github.com/rasterio/rasterio/issues/2759", "id": 1575225925, "node_id": "I_kwDOANdm_M5d5ApF", "number": 2759, "title": "Statistics exception and GDAL stderr output", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 5141048903, "node_id": "LA_kwDOANdm_M8AAAABMm4uRw", "url": "https://api.github.com/repos/rasterio/rasterio/labels/resolved", "name": "resolved", "color": "772A85", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/122", "html_url": "https://github.com/rasterio/rasterio/milestone/122", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/122/labels", "id": 9018380, "node_id": "MI_kwDOANdm_M4AiZwM", "number": 122, "title": "1.3.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2023-02-08T00:07:11Z", "updated_at": "2023-02-13T17:26:44Z", "due_on": null, "closed_at": "2023-02-13T17:26:44Z"}, "comments": 0, "created_at": "2023-02-08T00:07:14Z", "updated_at": "2023-02-13T17:26:03Z", "closed_at": "2023-02-13T17:26:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Discussed in https://github.com/rasterio/rasterio/discussions/2757\r\n\r\n<div type='discussions-op-text'>\r\n\r\n<sup>Originally posted by **tschaub** February  6, 2023</sup>\r\nHello.  I'm making use of the `statistics` method on raster bands that was added in #2441.  I notice that when a band includes all nodata values, a `rasterio._err.CPLE_AppDefinedError` is raised.  In addition, an error message is written to `stderr`.\r\n\r\nUsing `all-nodata.tif` from the attached [all-nodata.tif.zip](https://github.com/rasterio/rasterio/files/10670116/all-nodata.tif.zip), the following script demonstrates the issue:\r\n```py\r\n# using v1.3.4\r\nimport rasterio\r\n\r\nwith rasterio.open(\"all-nodata.tif\") as src:\r\n    stats = src.statistics(1)\r\n```\r\n\r\nAnd this is the output:\r\n```\r\nERROR 1: all-nodata.tif, band 1: Failed to compute statistics, no valid pixels found in sampling.\r\nTraceback (most recent call last):\r\n  File \"/path/to/file.py\", line 4, in <module>\r\n    stats = src.statistics(1)\r\n            ^^^^^^^^^^^^^^^^^\r\n  File \"rasterio/_io.pyx\", line 1111, in rasterio._io.DatasetReaderBase.statistics\r\n  File \"rasterio/_io.pyx\", line 1107, in rasterio._io.DatasetReaderBase.statistics\r\n  File \"rasterio/_err.pyx\", line 195, in rasterio._err.exc_wrap_int\r\nrasterio._err.CPLE_AppDefinedError: all-nodata.tif, band 1: Failed to compute statistics, no valid pixels found in sampling.\r\n```\r\n\r\nI'm curious if the recommendation here is to catch all `Exception`s or if I should use a more specific class.  It looks like exceptions based on `CPLE_BaseError` are [not intended for API users](https://github.com/rasterio/rasterio/blob/1.3.4/rasterio/_err.pyx#L21-L22).\r\n\r\nWhen I do catch the exception from GDAL, I still see the `ERROR 1: all-nodata.tif, band 1: Failed to compute statistics, no valid pixels found in sampling.` logged to `stderr`.  Poking around a bit, I thought maybe pushing the `CPLQuietErrorHandler ` was supposed to silence this output.\r\n\r\nSo my questions are\r\n * Should I catch `rasterio._err.CPLE_AppDefinedError` or `Exception` in the above situation?\r\n * Is there a recommended way to silence the error message from GDAL (I've seen `with rasterio.drivers(CPL_LOG=\"/dev/null\")` [suggested](https://github.com/rasterio/rasterio/issues/649#issuecomment-208429078) and have tried `logging.getLogger(\"GDAL\").addHandler(NullHandler())` without luck)?\r\n\r\n\r\n</div>", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2759/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2759/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2753", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2753/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2753/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2753/events", "html_url": "https://github.com/rasterio/rasterio/issues/2753", "id": 1569065665, "node_id": "I_kwDOANdm_M5dhgrB", "number": 2753, "title": "Significant degradation in sample() method from 1.2.10 to 1.3.2", "user": {"login": "holgerteichgraeber", "id": 23627173, "node_id": "MDQ6VXNlcjIzNjI3MTcz", "avatar_url": "https://avatars.githubusercontent.com/u/23627173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/holgerteichgraeber", "html_url": "https://github.com/holgerteichgraeber", "followers_url": "https://api.github.com/users/holgerteichgraeber/followers", "following_url": "https://api.github.com/users/holgerteichgraeber/following{/other_user}", "gists_url": "https://api.github.com/users/holgerteichgraeber/gists{/gist_id}", "starred_url": "https://api.github.com/users/holgerteichgraeber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/holgerteichgraeber/subscriptions", "organizations_url": "https://api.github.com/users/holgerteichgraeber/orgs", "repos_url": "https://api.github.com/users/holgerteichgraeber/repos", "events_url": "https://api.github.com/users/holgerteichgraeber/events{/privacy}", "received_events_url": "https://api.github.com/users/holgerteichgraeber/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 5141048903, "node_id": "LA_kwDOANdm_M8AAAABMm4uRw", "url": "https://api.github.com/repos/rasterio/rasterio/labels/resolved", "name": "resolved", "color": "772A85", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/122", "html_url": "https://github.com/rasterio/rasterio/milestone/122", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/122/labels", "id": 9018380, "node_id": "MI_kwDOANdm_M4AiZwM", "number": 122, "title": "1.3.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2023-02-08T00:07:11Z", "updated_at": "2023-02-13T17:26:44Z", "due_on": null, "closed_at": "2023-02-13T17:26:44Z"}, "comments": 7, "created_at": "2023-02-03T01:44:59Z", "updated_at": "2023-02-13T17:26:40Z", "closed_at": "2023-02-13T17:26:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using the rasterio raster_image.sample() method, I observe a significant speed degradation from rasterio==1.2.10 to rasterio==1.3.2 . For context, I am trying to get a single pixel value at a point in a raster, similar to what is described in this [gis.stackexchange thread](https://gis.stackexchange.com/questions/190423/getting-pixel-values-at-single-point-using-rasterio).\r\n\r\nRuntime decreases from 0.00007s/call to 0.01s/call for the following `get_value_of_interest` function, with the slow down pinned down to the line of `value = next(sample_return)` . \r\n\r\nI have added some sample code below, with the problem broken down into its components. I measured the time for each of the functions. The part that is slow is when pulling the first element from the generator object that is returned by rasterio.sample(), either using `next()` or using `list(gen)[0]`.\r\n \r\nI believe it must have to do with the data structure that the rds.sample() method returns, because getting the first element of that datastructure (a generator in both cases) takes much longer in 1.3.2 than in 1.2.10.\r\n\r\nAny idea what is going on, both `value` objects are of type generator, but something significant must have changed in between versions? \r\n\r\n\r\n```\r\ndef get_value_of_interest(rds, transformer,lon, lat):\r\n    xx, yy = calc_xy(lon, lat, transformer)\r\n    value = calc_value(xx, yy, rds)\r\n    return value[0]\r\n\r\ndef calc_xy(lon, lat, transformer):\r\n    xx, yy = transformer.transform(lon, lat)\r\n    return xx, yy\r\n\r\ndef calc_value(xx, yy, rds):\r\n    sample_return = sample(xx, yy, rds)\r\n    ######### THIS IS THE SLOW PART in 1.3.2, but not in 1.2.10 ############\r\n    value = next(sample_return)\r\n    ######### THIS IS WHERE THE SLOW PART ENDS #######\r\n    # value = list(sample_return)[0] <-- approx. same speed as next()\r\n    return value\r\n\r\ndef sample(xx, yy, rds):\r\n    rds_sample = rds.sample((xx, yy))\r\n    return rds_sample\r\n\r\nif __name__==\"__main__\":\r\n    path = \"\"\r\n    lon_lats=[(1,2),(3,4),(5,6)] # exemplary, fill in path and load lon, lats in from somewhere. In my case, this has 3 million rows. \r\n\r\n    rds = rasterio.open(path)\r\n    transformer = Transformer.from_crs(\"EPSG:4326\", rds.crs, always_xy=True)\r\n\r\n    for lon, lat in lon_lats:\r\n        get_value_of_interest(rds, transformer, lon, lat)\r\n\r\n\r\n```\r\n\r\nI'm using MacOS and used `pip install rasterio==VERSIONNUMBER`.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2753/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2752", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2752/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2752/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2752/events", "html_url": "https://github.com/rasterio/rasterio/issues/2752", "id": 1568247870, "node_id": "I_kwDOANdm_M5deZA-", "number": 2752, "title": "CRS.from_wkt() and CRS.from_user_input() return different results for same WKT string", "user": {"login": "deppen8", "id": 28818837, "node_id": "MDQ6VXNlcjI4ODE4ODM3", "avatar_url": "https://avatars.githubusercontent.com/u/28818837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deppen8", "html_url": "https://github.com/deppen8", "followers_url": "https://api.github.com/users/deppen8/followers", "following_url": "https://api.github.com/users/deppen8/following{/other_user}", "gists_url": "https://api.github.com/users/deppen8/gists{/gist_id}", "starred_url": "https://api.github.com/users/deppen8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deppen8/subscriptions", "organizations_url": "https://api.github.com/users/deppen8/orgs", "repos_url": "https://api.github.com/users/deppen8/repos", "events_url": "https://api.github.com/users/deppen8/events{/privacy}", "received_events_url": "https://api.github.com/users/deppen8/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 989674718, "node_id": "MDU6TGFiZWw5ODk2NzQ3MTg=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/upstream", "name": "upstream", "color": "ef5fbf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-02T15:19:06Z", "updated_at": "2023-02-04T17:03:49Z", "closed_at": "2023-02-04T13:21:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI expected `CRS.from_user_input(my_wkt_string)` to pass off my string to `CRS.from_wkt(my_wkt_string)` when it detected that it was valid WKT. Instead, for my input, `CRS.from_user_input(my_wkt_string)` raises an error, but `CRS.from_wkt(my_wkt_string)` is valid.\r\n\r\nThe error raised is the same as #1648, but I am not doing the same capitalization thing.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\n>>> from rasterio.crs import CRS\r\n>>> my_wkt_string = \"\"\"\r\n        PROJCS[\"North_America_Albers_Equal_Area_Conic\",\r\n        GEOGCS[\"GCS_North_American_1983\",\r\n        DATUM[\"North_American_Datum_1983\",\r\n        SPHEROID[\"GRS_1980\",6378137,298.257222101]],\r\n        PRIMEM[\"Greenwich\",0],\r\n        UNIT[\"Degree\",0.017453292519943295]],\r\n        PROJECTION[\"Albers_Conic_Equal_Area\"],\r\n        PARAMETER[\"False_Easting\",0],\r\n        PARAMETER[\"False_Northing\",0],\r\n        PARAMETER[\"longitude_of_center\",-96],\r\n        PARAMETER[\"Standard_Parallel_1\",20],\r\n        PARAMETER[\"Standard_Parallel_2\",60],\r\n        PARAMETER[\"latitude_of_center\",40],\r\n        UNIT[\"Meter\",1],\r\n        AUTHORITY[\"EPSG\",\"102008\"]]\"\"\"\r\n>>> CRS.from_wkt(my_wkt_string).is_valid  \r\nTrue\r\n>>> CRS.from_user_input(my_wkt_string) \r\nTraceback (most recent call last):\r\n  File \"rasterio/crs.pyx\", line 775, in rasterio.crs.CRS.from_user_input\r\n  File \"rasterio/_err.pyx\", line 205, in rasterio._err.exc_wrap_ogrerr\r\nrasterio._err.CPLE_BaseError: OGR Error code 5\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"rasterio/crs.pyx\", line 777, in rasterio.crs.CRS.from_user_input\r\nrasterio.errors.CRSError: The WKT could not be parsed. OGR Error code 5\r\n```\r\n\r\n#### Environment Information\r\n\r\nOutput from: `rio --show-versions` or `python -c \"import rasterio; rasterio.show_versions()\"`\r\n\r\n```\r\nrasterio info:\r\n  rasterio: 1.3.1\r\n      GDAL: 3.5.1\r\n      PROJ: 9.0.1\r\n      GEOS: 0.0.0\r\n PROJ DATA: /opt/miniconda3/envs/my_conda_env/lib/python3.9/site-packages/rasterio/proj_data\r\n GDAL DATA: /opt/miniconda3/envs/my_conda_env/lib/python3.9/site-packages/rasterio/gdal_data\r\n\r\nSystem:\r\n    python: 3.9.13 | packaged by conda-forge | (main, May 27 2022, 17:01:00)  [Clang 13.0.1 ]\r\nexecutable: /opt/miniconda3/envs/my_conda_env/bin/python3.9\r\n   machine: macOS-13.0-x86_64-i386-64bit\r\n```\r\n\r\n## Installation Method\r\n\r\nInstalled in a conda environment by poetry/pip (I know that's bananas...don't ask).", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2752/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2752/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2747", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2747/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2747/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2747/events", "html_url": "https://github.com/rasterio/rasterio/issues/2747", "id": 1565999362, "node_id": "I_kwDOANdm_M5dV0EC", "number": 2747, "title": "1.3.5: pytest is failing", "user": {"login": "kloczek", "id": 31284574, "node_id": "MDQ6VXNlcjMxMjg0NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/31284574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kloczek", "html_url": "https://github.com/kloczek", "followers_url": "https://api.github.com/users/kloczek/followers", "following_url": "https://api.github.com/users/kloczek/following{/other_user}", "gists_url": "https://api.github.com/users/kloczek/gists{/gist_id}", "starred_url": "https://api.github.com/users/kloczek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kloczek/subscriptions", "organizations_url": "https://api.github.com/users/kloczek/orgs", "repos_url": "https://api.github.com/users/kloczek/repos", "events_url": "https://api.github.com/users/kloczek/events{/privacy}", "received_events_url": "https://api.github.com/users/kloczek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 5141048903, "node_id": "LA_kwDOANdm_M8AAAABMm4uRw", "url": "https://api.github.com/repos/rasterio/rasterio/labels/resolved", "name": "resolved", "color": "772A85", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/122", "html_url": "https://github.com/rasterio/rasterio/milestone/122", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/122/labels", "id": 9018380, "node_id": "MI_kwDOANdm_M4AiZwM", "number": 122, "title": "1.3.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2023-02-08T00:07:11Z", "updated_at": "2023-02-13T17:26:44Z", "due_on": null, "closed_at": "2023-02-13T17:26:44Z"}, "comments": 6, "created_at": "2023-02-01T12:09:12Z", "updated_at": "2023-02-13T17:26:39Z", "closed_at": "2023-02-13T17:26:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm packaging your module as an rpm package so I'm using the typical PEP517 based build, install and test cycle used on building packages from non-root account.\r\n- `python3 -sBm build -w --no-isolation`\r\n- because I'm calling `build` with `--no-isolation` I'm using during all processes only locally installed modules\r\n- install .whl file in </install/prefix>\r\n- run pytest with $PYTHONPATH pointing to sitearch and sitelib inside </install/prefix>\r\n- build is performed in env which is *`cut off from access to the public network`* (pytest is executed with `-m \"not network\"`)\r\n\r\nHere is pytest output:\r\n<details>\r\n\r\n```console\r\n+ PYTHONPATH=/home/tkloczko/rpmbuild/BUILDROOT/python-rasterio-1.3.5-2.fc35.x86_64/usr/lib64/python3.8/site-packages:/home/tkloczko/rpmbuild/BUILDROOT/python-rasterio-1.3.5-2.fc35.x86_64/usr/lib/python3.8/site-packages\r\n+ /usr/bin/pytest -ra -m 'not network' --import-mode=importlib\r\nTest data present.\r\n==================================================================================== test session starts ====================================================================================\r\nplatform linux -- Python 3.8.16, pytest-7.2.1, pluggy-1.0.0\r\nrootdir: /home/tkloczko/rpmbuild/BUILD/rasterio-1.3.5, configfile: pyproject.toml\r\nplugins: xdist-3.1.0, hypothesis-6.65.0, flaky-3.7.0\r\ncollected 1913 items / 3 errors / 15 deselected / 1898 selected\r\n\r\n========================================================================================== ERRORS ===========================================================================================\r\n________________________________________________________________________ ERROR collecting tests/test_dataset_mask.py ________________________________________________________________________\r\ntests/test_dataset_mask.py:9: in <module>\r\n    mpl.use('agg')\r\nE   AttributeError: module 'matplotlib' has no attribute 'use'\r\n____________________________________________________________________________ ERROR collecting tests/test_plot.py ____________________________________________________________________________\r\ntests/test_plot.py:9: in <module>\r\n    mpl.use('agg')\r\nE   AttributeError: module 'matplotlib' has no attribute 'use'\r\n____________________________________________________________________________ ERROR collecting tests/test_warp.py ____________________________________________________________________________\r\nImportError while importing test module '/home/tkloczko/rpmbuild/BUILD/rasterio-1.3.5/tests/test_warp.py'.\r\nHint: make sure your test modules/packages have valid Python names.\r\nTraceback:\r\ntests/test_warp.py:37: in <module>\r\n    from . import rangehttpserver\r\nE   ImportError: cannot import name 'rangehttpserver' from 'tests' (unknown location)\r\n===================================================================================== warnings summary ======================================================================================\r\n../../../../../usr/lib/python3.8/site-packages/pkg_resources/__init__.py:123\r\n  /usr/lib/python3.8/site-packages/pkg_resources/__init__.py:123: PkgResourcesDeprecationWarning: 1.18.0-unknown is an invalid version and will not be supported in a future release\r\n    warnings.warn(\r\n\r\n../../../../../usr/lib/python3.8/site-packages/pkg_resources/_vendor/packaging/version.py:111: 20 warnings\r\n  /usr/lib/python3.8/site-packages/pkg_resources/_vendor/packaging/version.py:111: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n    warnings.warn(\r\n\r\n../../BUILDROOT/python-rasterio-1.3.5-2.fc35.x86_64/usr/lib64/python3.8/site-packages/rasterio/path.py:15\r\n  /home/tkloczko/rpmbuild/BUILDROOT/python-rasterio-1.3.5-2.fc35.x86_64/usr/lib64/python3.8/site-packages/rasterio/path.py:15: RasterioDeprecationWarning: rasterio.path will be removed in version 1.4.\r\n    warnings.warn(\r\n\r\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\r\n================================================================================== short test summary info ==================================================================================\r\nERROR tests/test_dataset_mask.py - AttributeError: module 'matplotlib' has no attribute 'use'\r\nERROR tests/test_plot.py - AttributeError: module 'matplotlib' has no attribute 'use'\r\nERROR tests/test_warp.py\r\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! Interrupted: 3 errors during collection !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n======================================================================= 15 deselected, 22 warnings, 3 errors in 6.38s =======================================================================\r\n```\r\n</details>\r\n\r\ntests/test_warp.py uses rangehttpserver which is not maintained since 2016\r\n\r\nHere is list of installed modules in build env\r\n<details>\r\n\r\n```console\r\nPackage                       Version\r\n----------------------------- -----------------\r\naffine                        2.4.0\r\nalabaster                     0.7.12\r\nappdirs                       1.4.4\r\nattrs                         22.2.0\r\nBabel                         2.11.0\r\nboto3                         1.26.61\r\nbotocore                      1.29.61\r\nbuild                         0.9.0\r\ncharset-normalizer            3.0.1\r\nclick                         8.1.3\r\nclick-plugins                 1.1.1\r\ncligj                         0.7.2\r\ncssselect                     1.1.0\r\nCython                        0.29.33\r\ndistro                        1.8.0\r\ndocutils                      0.19\r\nexceptiongroup                1.0.0\r\nexecnet                       1.9.0\r\nextras                        1.0.0\r\nfixtures                      4.0.0\r\nflaky                         3.7.0\r\ngpg                           1.18.0-unknown\r\nhypothesis                    6.65.0\r\nidna                          3.4\r\nimagesize                     1.4.1\r\nimportlib-metadata            6.0.0\r\niniconfig                     2.0.0\r\nJinja2                        3.1.2\r\njmespath                      1.0.0\r\nlibcomps                      0.1.19\r\nlxml                          4.9.2\r\nMarkupSafe                    2.1.1\r\nnumpy                         1.24.1\r\nolefile                       0.46\r\npackaging                     21.3\r\npbr                           5.9.0\r\npep517                        0.13.0\r\nPillow                        9.4.0\r\npip                           22.3.1\r\npluggy                        1.0.0\r\npyenchant                     3.2.2\r\nPygments                      2.14.0\r\nPyGObject                     3.43.1.dev0\r\npyparsing                     3.0.9\r\npytest                        7.2.1\r\npytest-xdist                  3.1.0\r\npython-dateutil               2.8.2\r\npytz                          2022.4\r\nrequests                      2.28.2\r\nrpm                           4.17.0\r\ns3transfer                    0.6.0\r\nscour                         0.38.2\r\nsetuptools                    65.6.3\r\nshapely                       2.0.0\r\nsix                           1.16.0\r\nsnowballstemmer               2.2.0\r\nsnuggs                        1.4.7\r\nsortedcontainers              2.4.0\r\nSphinx                        6.1.3\r\nsphinx-rst-builder            0.0.3\r\nsphinx-rtd-theme              1.1.1\r\nsphinx-tabs                   3.4.1\r\nsphinxcontrib-applehelp       1.0.2.dev20221204\r\nsphinxcontrib-devhelp         1.0.2.dev20221204\r\nsphinxcontrib-htmlhelp        2.0.0\r\nsphinxcontrib.jquery          3.0.0\r\nsphinxcontrib-jsmath          1.0.1.dev20230128\r\nsphinxcontrib-qthelp          1.0.3.dev20230128\r\nsphinxcontrib-restbuilder     0.3\r\nsphinxcontrib-serializinghtml 1.1.5\r\nsphinxcontrib-spelling        7.6.0\r\ntesttools                     2.5.0\r\ntomli                         2.0.1\r\nurllib3                       1.26.12\r\nwheel                         0.38.4\r\nzipp                          3.12.0\r\n```\r\n</details>\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2747/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2747/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2745", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2745/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2745/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2745/events", "html_url": "https://github.com/rasterio/rasterio/issues/2745", "id": 1564839302, "node_id": "I_kwDOANdm_M5dRY2G", "number": 2745, "title": "Functional code suddenly breaking at rasterio.mask.mask(src, shapes)", "user": {"login": "jonnyzwi", "id": 76882288, "node_id": "MDQ6VXNlcjc2ODgyMjg4", "avatar_url": "https://avatars.githubusercontent.com/u/76882288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonnyzwi", "html_url": "https://github.com/jonnyzwi", "followers_url": "https://api.github.com/users/jonnyzwi/followers", "following_url": "https://api.github.com/users/jonnyzwi/following{/other_user}", "gists_url": "https://api.github.com/users/jonnyzwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonnyzwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonnyzwi/subscriptions", "organizations_url": "https://api.github.com/users/jonnyzwi/orgs", "repos_url": "https://api.github.com/users/jonnyzwi/repos", "events_url": "https://api.github.com/users/jonnyzwi/events{/privacy}", "received_events_url": "https://api.github.com/users/jonnyzwi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 5141048903, "node_id": "LA_kwDOANdm_M8AAAABMm4uRw", "url": "https://api.github.com/repos/rasterio/rasterio/labels/resolved", "name": "resolved", "color": "772A85", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/122", "html_url": "https://github.com/rasterio/rasterio/milestone/122", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/122/labels", "id": 9018380, "node_id": "MI_kwDOANdm_M4AiZwM", "number": 122, "title": "1.3.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2023-02-08T00:07:11Z", "updated_at": "2023-02-13T17:26:44Z", "due_on": null, "closed_at": "2023-02-13T17:26:44Z"}, "comments": 15, "created_at": "2023-01-31T18:55:46Z", "updated_at": "2023-02-13T17:26:04Z", "closed_at": "2023-02-13T17:26:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Working code (as of two weeks ago) has stopped working.  Neither the script itself nor the input has changed.\r\n\r\nHowever, it appears that there was a new merge of rasterio into Main last week. Perhaps this is causing the sudden error?\r\n\r\nAfter inspecting `rasterio/_features.pyx in rasterio._features._bounds()` that was mentioned in the error, my guess is that `north_up` is the empty sequence that `ValueError: min() arg is an empty sequence`  is complaining about.  \r\n\r\nHowever, it is unclear as to how my call to `rasterio.mask.mask(src, shapes)` interacts with `bounds()` or `_bounds()`, or where `north_up` is supposed to be getting passed in via `rasterio.mask.mask`.\r\n\r\nAny assistance would be appreciated.\r\n\r\n\r\n```---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n[<ipython-input-18-a1f872635462>](https://localhost:8080/#) in <module>\r\n     39 \r\n     40 with rasterio.open(inputTIF) as src:\r\n---> 41     out_image, out_transform = rasterio.mask.mask(src, shapes)\r\n     42     out_meta = src.meta\r\n     43 \r\n\r\n4 frames\r\n[/usr/local/lib/python3.8/site-packages/rasterio/features.py](https://localhost:8080/#) in bounds(geometry, north_up, transform)\r\n    394         )\r\n    395 \r\n--> 396     return _bounds(geom, north_up=north_up, transform=transform)\r\n    397 \r\n    398 \r\n\r\nrasterio/_features.pyx in rasterio._features._bounds()\r\n\r\nValueError: min() arg is an empty sequence\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2745/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2745/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2740", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2740/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2740/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2740/events", "html_url": "https://github.com/rasterio/rasterio/pull/2740", "id": 1560371047, "node_id": "PR_kwDOANdm_M5ItaMo", "number": 2740, "title": "Raise exception when CRS differs during merge", "user": {"login": "groutr", "id": 10678620, "node_id": "MDQ6VXNlcjEwNjc4NjIw", "avatar_url": "https://avatars.githubusercontent.com/u/10678620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/groutr", "html_url": "https://github.com/groutr", "followers_url": "https://api.github.com/users/groutr/followers", "following_url": "https://api.github.com/users/groutr/following{/other_user}", "gists_url": "https://api.github.com/users/groutr/gists{/gist_id}", "starred_url": "https://api.github.com/users/groutr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/groutr/subscriptions", "organizations_url": "https://api.github.com/users/groutr/orgs", "repos_url": "https://api.github.com/users/groutr/repos", "events_url": "https://api.github.com/users/groutr/events{/privacy}", "received_events_url": "https://api.github.com/users/groutr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167170, "node_id": "MDU6TGFiZWw2NDE2NzE3MA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/enhancement", "name": "enhancement", "color": "00449e", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/120", "html_url": "https://github.com/rasterio/rasterio/milestone/120", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/120/labels", "id": 8642562, "node_id": "MI_kwDOANdm_M4Ag-AC", "number": 120, "title": "1.4.0", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 30, "closed_issues": 20, "state": "open", "created_at": "2022-11-10T15:38:38Z", "updated_at": "2023-04-27T18:47:37Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2023-01-27T20:12:10Z", "updated_at": "2023-02-13T14:36:44Z", "closed_at": "2023-02-13T14:36:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2740", "html_url": "https://github.com/rasterio/rasterio/pull/2740", "diff_url": "https://github.com/rasterio/rasterio/pull/2740.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2740.patch", "merged_at": "2023-02-13T14:36:43Z"}, "body": "During a merge, check that source CRS matches the first raster. Raise an exception when CRS doesn't match. I considered raising a warning instead, but I think a mismatched CRS is grounds to abort the merge operation.\r\n\r\nIssue discussed here: https://github.com/rasterio/rasterio/discussions/2682", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2740/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2740/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2734", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2734/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2734/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2734/events", "html_url": "https://github.com/rasterio/rasterio/pull/2734", "id": 1556931992, "node_id": "PR_kwDOANdm_M5IhzFC", "number": 2734, "title": "Resolve get_minimum_dtype with mixed dtype lists", "user": {"login": "groutr", "id": 10678620, "node_id": "MDQ6VXNlcjEwNjc4NjIw", "avatar_url": "https://avatars.githubusercontent.com/u/10678620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/groutr", "html_url": "https://github.com/groutr", "followers_url": "https://api.github.com/users/groutr/followers", "following_url": "https://api.github.com/users/groutr/following{/other_user}", "gists_url": "https://api.github.com/users/groutr/gists{/gist_id}", "starred_url": "https://api.github.com/users/groutr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/groutr/subscriptions", "organizations_url": "https://api.github.com/users/groutr/orgs", "repos_url": "https://api.github.com/users/groutr/repos", "events_url": "https://api.github.com/users/groutr/events{/privacy}", "received_events_url": "https://api.github.com/users/groutr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/120", "html_url": "https://github.com/rasterio/rasterio/milestone/120", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/120/labels", "id": 8642562, "node_id": "MI_kwDOANdm_M4Ag-AC", "number": 120, "title": "1.4.0", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 30, "closed_issues": 20, "state": "open", "created_at": "2022-11-10T15:38:38Z", "updated_at": "2023-04-27T18:47:37Z", "due_on": null, "closed_at": null}, "comments": 7, "created_at": "2023-01-25T16:25:06Z", "updated_at": "2023-02-08T17:12:45Z", "closed_at": "2023-02-06T15:14:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2734", "html_url": "https://github.com/rasterio/rasterio/pull/2734", "diff_url": "https://github.com/rasterio/rasterio/pull/2734.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2734.patch", "merged_at": "2023-02-06T15:14:56Z"}, "body": "Use the numpy internal function to discover array dtype to handle mixed dtype lists without creating an array.\r\n\r\nNow if we pass a list of `[0, 1.5, 5]` we get the proper dtype of float32 instead of uint8. Added this as a test case.\r\n\r\nSupersedes #2730 ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2734/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2734/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2730", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2730/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2730/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2730/events", "html_url": "https://github.com/rasterio/rasterio/pull/2730", "id": 1555982495, "node_id": "PR_kwDOANdm_M5IeocO", "number": 2730, "title": "BUG: Revert get_minimum_dtype change to avoid numpy array", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/120", "html_url": "https://github.com/rasterio/rasterio/milestone/120", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/120/labels", "id": 8642562, "node_id": "MI_kwDOANdm_M4Ag-AC", "number": 120, "title": "1.4.0", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 30, "closed_issues": 20, "state": "open", "created_at": "2022-11-10T15:38:38Z", "updated_at": "2023-04-27T18:47:37Z", "due_on": null, "closed_at": null}, "comments": 10, "created_at": "2023-01-25T02:58:35Z", "updated_at": "2023-02-08T17:43:12Z", "closed_at": "2023-02-08T17:43:12Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2730", "html_url": "https://github.com/rasterio/rasterio/pull/2730", "diff_url": "https://github.com/rasterio/rasterio/pull/2730.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2730.patch", "merged_at": null}, "body": "This reverts commit e46cc0374b2b14ecfda547ec9b0b60b5bb7eb774.\r\n\r\nhttps://github.com/rasterio/rasterio/pull/2716#issuecomment-1401010485\r\n\r\ncc: @groutr ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2730/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2713", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2713/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2713/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2713/events", "html_url": "https://github.com/rasterio/rasterio/pull/2713", "id": 1529533100, "node_id": "PR_kwDOANdm_M5HLumI", "number": 2713, "title": "Fix issue when GDAL DLL is in current working directory", "user": {"login": "katieb1", "id": 33553358, "node_id": "MDQ6VXNlcjMzNTUzMzU4", "avatar_url": "https://avatars.githubusercontent.com/u/33553358?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katieb1", "html_url": "https://github.com/katieb1", "followers_url": "https://api.github.com/users/katieb1/followers", "following_url": "https://api.github.com/users/katieb1/following{/other_user}", "gists_url": "https://api.github.com/users/katieb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/katieb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katieb1/subscriptions", "organizations_url": "https://api.github.com/users/katieb1/orgs", "repos_url": "https://api.github.com/users/katieb1/repos", "events_url": "https://api.github.com/users/katieb1/events{/privacy}", "received_events_url": "https://api.github.com/users/katieb1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/121", "html_url": "https://github.com/rasterio/rasterio/milestone/121", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/121/labels", "id": 8765036, "node_id": "MI_kwDOANdm_M4Ahb5s", "number": 121, "title": "1.3.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2022-12-15T02:02:39Z", "updated_at": "2023-01-25T21:09:24Z", "due_on": null, "closed_at": "2023-01-25T21:09:24Z"}, "comments": 0, "created_at": "2023-01-11T19:03:06Z", "updated_at": "2023-01-18T23:31:31Z", "closed_at": "2023-01-18T23:31:31Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2713", "html_url": "https://github.com/rasterio/rasterio/pull/2713", "diff_url": "https://github.com/rasterio/rasterio/pull/2713.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2713.patch", "merged_at": null}, "body": "Added minor change to fix https://github.com/rasterio/rasterio/issues/2705", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2713/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2713/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2707", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2707/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2707/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2707/events", "html_url": "https://github.com/rasterio/rasterio/pull/2707", "id": 1524342999, "node_id": "PR_kwDOANdm_M5G6Vek", "number": 2707, "title": "Update write_mask to accept Numpy booleans, to enable writing optimized masked array (mask == mp.ma.nomask)", "user": {"login": "zakjan", "id": 173585, "node_id": "MDQ6VXNlcjE3MzU4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/173585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zakjan", "html_url": "https://github.com/zakjan", "followers_url": "https://api.github.com/users/zakjan/followers", "following_url": "https://api.github.com/users/zakjan/following{/other_user}", "gists_url": "https://api.github.com/users/zakjan/gists{/gist_id}", "starred_url": "https://api.github.com/users/zakjan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zakjan/subscriptions", "organizations_url": "https://api.github.com/users/zakjan/orgs", "repos_url": "https://api.github.com/users/zakjan/repos", "events_url": "https://api.github.com/users/zakjan/events{/privacy}", "received_events_url": "https://api.github.com/users/zakjan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/121", "html_url": "https://github.com/rasterio/rasterio/milestone/121", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/121/labels", "id": 8765036, "node_id": "MI_kwDOANdm_M4Ahb5s", "number": 121, "title": "1.3.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2022-12-15T02:02:39Z", "updated_at": "2023-01-25T21:09:24Z", "due_on": null, "closed_at": "2023-01-25T21:09:24Z"}, "comments": 1, "created_at": "2023-01-08T05:51:52Z", "updated_at": "2023-01-11T19:31:28Z", "closed_at": "2023-01-11T19:31:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2707", "html_url": "https://github.com/rasterio/rasterio/pull/2707", "diff_url": "https://github.com/rasterio/rasterio/pull/2707.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2707.patch", "merged_at": "2023-01-11T19:31:28Z"}, "body": "Fixes #2706", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2707/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2706", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2706/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2706/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2706/events", "html_url": "https://github.com/rasterio/rasterio/issues/2706", "id": 1523590500, "node_id": "I_kwDOANdm_M5a0CVk", "number": 2706, "title": "Writing masked arrays with optimized empty mask (np.ma.nomask) fails", "user": {"login": "zakjan", "id": 173585, "node_id": "MDQ6VXNlcjE3MzU4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/173585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zakjan", "html_url": "https://github.com/zakjan", "followers_url": "https://api.github.com/users/zakjan/followers", "following_url": "https://api.github.com/users/zakjan/following{/other_user}", "gists_url": "https://api.github.com/users/zakjan/gists{/gist_id}", "starred_url": "https://api.github.com/users/zakjan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zakjan/subscriptions", "organizations_url": "https://api.github.com/users/zakjan/orgs", "repos_url": "https://api.github.com/users/zakjan/repos", "events_url": "https://api.github.com/users/zakjan/events{/privacy}", "received_events_url": "https://api.github.com/users/zakjan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/121", "html_url": "https://github.com/rasterio/rasterio/milestone/121", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/121/labels", "id": 8765036, "node_id": "MI_kwDOANdm_M4Ahb5s", "number": 121, "title": "1.3.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2022-12-15T02:02:39Z", "updated_at": "2023-01-25T21:09:24Z", "due_on": null, "closed_at": "2023-01-25T21:09:24Z"}, "comments": 4, "created_at": "2023-01-07T08:01:36Z", "updated_at": "2023-01-11T19:31:30Z", "closed_at": "2023-01-11T19:31:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nActual behavior:\r\n\r\nWriting masked arrays with optimized empty mask (`np.ma.nomask`) fails: \r\n\r\n```\r\n    output_dataset.write(output_values, masked=True)\r\n  File \"rasterio/_io.pyx\", line 1675, in rasterio._io.DatasetWriterBase.write\r\n  File \"rasterio/_io.pyx\", line 1926, in rasterio._io.DatasetWriterBase.write_mask\r\n  File \"rasterio/_io.pyx\", line 84, in rasterio._io.io_band\r\nTypeError: Cannot convert numpy.int64 to numpy.ndarray\r\n```\r\n\r\nSuch array is received by `read(masked=True)` if there is no mask in the dataset (e.g. float data with all values valid).\r\n\r\nExpected behavior:\r\n\r\nArray received by `read(masked=True)` can be written by `write(masked=True)`, no matter if the original dataset contains a mask or not.\r\n\r\nA potential minimal fix in Rasterio could be to update the following boolean checks to accept both Python and Numpy booleans `mask_array is True or mask_array is np.True_` / `mask_array is False or mask_array is np.False_`. I'm not sure whether it's desirable here though. https://github.com/rasterio/rasterio/blob/72bdbc05b4670043fb81413e6ee718f06617b86c/rasterio/_io.pyx#L1926-L1929\r\n\r\nDocs:\r\n\r\n[What is a masked array?](https://numpy.org/doc/stable/reference/maskedarray.generic.html#what-is-a-masked-array)\r\n\r\n> A mask is either [`nomask`](https://numpy.org/doc/stable/reference/maskedarray.baseclass.html#numpy.ma.nomask), indicating that no value of the associated array is invalid\r\n\r\n[`numpy.ma.nomask`](https://numpy.org/doc/stable/reference/maskedarray.baseclass.html#numpy.ma.nomask)\r\n\r\n> Value indicating that a masked array has no invalid entry. [`nomask`](https://numpy.org/doc/stable/reference/maskedarray.baseclass.html#numpy.ma.nomask) is used internally to speed up computations when the mask is not needed. It is represented internally as `np.False_`.\r\n\r\nIt's confusing that `np.True_` / `np.False_` are printed as `True` / `False`, but they are not equivalent.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nvalues = np.ma.masked_array([1,2,3])\r\nprint(values.mask) # False\r\nprint(values.mask is False) # False\r\nprint(values.mask is np.ma.nomask) # True\r\ndataset.write(values, masked=True) # TypeError: Cannot convert numpy.int64 to numpy.ndarray\r\ndataset.write(values, masked=values.mask is not np.ma.nomask) # ok\r\n```\r\n\r\n#### Environment Information\r\n```\r\nrasterio info:\r\n  rasterio: 1.3.4\r\n      GDAL: 3.6.2\r\n      PROJ: 9.1.1\r\n      GEOS: 3.11.1\r\n PROJ DATA: /Users/zakjan/Library/Application Support/proj:/opt/homebrew/Cellar/proj/9.1.1/share/proj:/opt/homebrew/Cellar/proj/9.1.1/share/proj\r\n GDAL DATA: None\r\n\r\nSystem:\r\n    python: 3.10.9 (main, Dec 15 2022, 17:11:09) [Clang 14.0.0 (clang-1400.0.29.202)]\r\nexecutable: /opt/homebrew/opt/python@3.10/bin/python3.10\r\n   machine: macOS-13.0-arm64-arm-64bit\r\n\r\nPython deps:\r\n    affine: 2.3.1\r\n     attrs: 22.1.0\r\n   certifi: 2022.09.24\r\n     click: 8.1.3\r\n     cligj: 0.7.2\r\n    cython: 0.29.32\r\n     numpy: 1.24.1\r\n    snuggs: 1.4.7\r\nclick-plugins: None\r\nsetuptools: 65.6.3\r\n```\r\n\r\n## Installation Method\r\n```\r\npip install rasterio==1.3.4\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2706/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2706/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2705", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2705/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2705/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2705/events", "html_url": "https://github.com/rasterio/rasterio/issues/2705", "id": 1523370330, "node_id": "I_kwDOANdm_M5azMla", "number": 2705, "title": "import rasterio fails when \".\" in PATH", "user": {"login": "katieb1", "id": 33553358, "node_id": "MDQ6VXNlcjMzNTUzMzU4", "avatar_url": "https://avatars.githubusercontent.com/u/33553358?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katieb1", "html_url": "https://github.com/katieb1", "followers_url": "https://api.github.com/users/katieb1/followers", "following_url": "https://api.github.com/users/katieb1/following{/other_user}", "gists_url": "https://api.github.com/users/katieb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/katieb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katieb1/subscriptions", "organizations_url": "https://api.github.com/users/katieb1/orgs", "repos_url": "https://api.github.com/users/katieb1/repos", "events_url": "https://api.github.com/users/katieb1/events{/privacy}", "received_events_url": "https://api.github.com/users/katieb1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 4452644055, "node_id": "LA_kwDOANdm_M8AAAABCWX01w", "url": "https://api.github.com/repos/rasterio/rasterio/labels/windows", "name": "windows", "color": "738BE2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2023-01-07T01:02:25Z", "updated_at": "2023-01-19T01:08:48Z", "closed_at": "2023-01-19T01:08:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nWhen importing rasterio from an executable that contains a GDAL DLL in the current directory folder, I get the following error message:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\gitprojects\\ssimbin\\Packages\\omniscape\\omniscapeTransformer.py\", line 4, in <module>\r\n    import pysyncrosim as ps\r\n  File \"C:\\Users\\birch\\SyncroSim\\Conda\\envs\\omniscape\\omniscapeEnvironment\\Lib\\site-packages\\pysyncrosim\\__init__.py\", line 5, in <module>\r\n    from pysyncrosim.raster import Raster\r\n  File \"C:\\Users\\birch\\SyncroSim\\Conda\\envs\\omniscape\\omniscapeEnvironment\\Lib\\site-packages\\pysyncrosim\\raster.py\", line 2, in <module>\r\n    import rasterio\r\n  File \"C:\\Users\\birch\\SyncroSim\\Conda\\envs\\omniscape\\omniscapeEnvironment\\Lib\\site-packages\\rasterio\\__init__.py\", line 24, in <module>\r\n    os.add_dll_directory(p)\r\n  File \"<frozen os>\", line 1118, in add_dll_directory\r\nOSError: [WinError 87] The parameter is incorrect: '.'\r\n```\r\n\r\nBecause I have \".\" in my PATH, and the current working directory contains a GDAL DLL, the `rasterio` __init__.py script fails on line 24 because \".\" is not a valid input to `os.add_dll_directory(p)`. \r\n\r\nThe program should be able to import rasterio and set the correct search path to the GDAL DLL with no error message.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nI am using the SyncroSim software, which can be downloaded here: https://syncrosim.com/download-id/syncrosim-for-windows-version-2-4-18/\r\n\r\nAfter installing the software, install the omniscape package and run the example model following this tutorial: https://apexrms.github.io/omniscape/getting_started\r\n\r\nMake sure to follow the prompts to install conda and create the conda environment. The model will succeed to run if you do not have a \".\" in your PATH, so make sure to add a \".\" to your PATH if you don't already have it in there. I discovered that I had a \".\" in my path after running `os.environ[\"PATH\"]` in python and seeing the following in my output:\r\n\r\n'C:\\\\Users\\\\birch\\\\miniconda3\\\\Library\\\\bin;.'\r\n\r\n#### Environment Information\r\n - rasterio version 1.3.4\r\n - Python version 3.8.15\r\n - Windows 11\r\n\r\n\r\n## Installation Method\r\n\r\nInstalled from the conda-forge channel\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2705/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2703", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2703/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2703/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2703/events", "html_url": "https://github.com/rasterio/rasterio/issues/2703", "id": 1521896651, "node_id": "I_kwDOANdm_M5atkzL", "number": 2703, "title": "Numpy deprecation for conversion of out-of-bound python integers", "user": {"login": "groutr", "id": 10678620, "node_id": "MDQ6VXNlcjEwNjc4NjIw", "avatar_url": "https://avatars.githubusercontent.com/u/10678620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/groutr", "html_url": "https://github.com/groutr", "followers_url": "https://api.github.com/users/groutr/followers", "following_url": "https://api.github.com/users/groutr/following{/other_user}", "gists_url": "https://api.github.com/users/groutr/gists{/gist_id}", "starred_url": "https://api.github.com/users/groutr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/groutr/subscriptions", "organizations_url": "https://api.github.com/users/groutr/orgs", "repos_url": "https://api.github.com/users/groutr/repos", "events_url": "https://api.github.com/users/groutr/events{/privacy}", "received_events_url": "https://api.github.com/users/groutr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 337782406, "node_id": "MDU6TGFiZWwzMzc3ODI0MDY=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/testing", "name": "testing", "color": "fef2c0", "default": false, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-06T04:10:58Z", "updated_at": "2023-01-11T19:29:39Z", "closed_at": "2023-01-11T19:29:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Seeing these deprecation warnings in CI:\r\n```\r\n/__w/rasterio/rasterio/tests/test_gdal_raster_io.py:22: DeprecationWarning: NumPy will stop allowing conversion of out-of-bound Python integers to integer arrays.  The conversion of 596 to uint8 will fail in the future.\r\n  For the old behavior, usually:\r\n      np.array(value).astype(dtype)`\r\n  will give the desired result (the cast overflows).\r\n    return np.array(range(height * width), dtype=dtype).reshape(height, width)\r\n```\r\n\r\nhttps://numpy.org/doc/1.24/release/1.24.0-notes.html#conversion-of-out-of-bound-python-integers\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2703/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2703/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2689", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2689/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2689/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2689/events", "html_url": "https://github.com/rasterio/rasterio/pull/2689", "id": 1501146475, "node_id": "PR_kwDOANdm_M5FsM8y", "number": 2689, "title": "Handle and silence sigpipe errors", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/121", "html_url": "https://github.com/rasterio/rasterio/milestone/121", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/121/labels", "id": 8765036, "node_id": "MI_kwDOANdm_M4Ahb5s", "number": 121, "title": "1.3.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2022-12-15T02:02:39Z", "updated_at": "2023-01-25T21:09:24Z", "due_on": null, "closed_at": "2023-01-25T21:09:24Z"}, "comments": 1, "created_at": "2022-12-17T03:35:09Z", "updated_at": "2022-12-19T16:20:18Z", "closed_at": "2022-12-19T16:20:13Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2689", "html_url": "https://github.com/rasterio/rasterio/pull/2689", "diff_url": "https://github.com/rasterio/rasterio/pull/2689.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2689.patch", "merged_at": "2022-12-19T16:20:13Z"}, "body": "Resolves #818. I've learned some things about Python!\r\n\r\nPython ignores SIGPIPE by default. By never catching BrokenPipeError via `except Exception` when, for example, piping the output of rio-shapes to  the Unix head program, we avoid getting an unhandled BrokenPipeError message when the interpreter shuts down (#2689).\r\n\r\nI also did a little linting, caught a case of using print instead of click.echo, and reformatted a few blocks that look gross to my black-adjusted eyes.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2689/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2678", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2678/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2678/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2678/events", "html_url": "https://github.com/rasterio/rasterio/pull/2678", "id": 1487857902, "node_id": "PR_kwDOANdm_M5E93w6", "number": 2678, "title": "BUG: ignore blockysize when converting untiled to tiled", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/121", "html_url": "https://github.com/rasterio/rasterio/milestone/121", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/121/labels", "id": 8765036, "node_id": "MI_kwDOANdm_M4Ahb5s", "number": 121, "title": "1.3.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2022-12-15T02:02:39Z", "updated_at": "2023-01-25T21:09:24Z", "due_on": null, "closed_at": "2023-01-25T21:09:24Z"}, "comments": 1, "created_at": "2022-12-10T03:15:24Z", "updated_at": "2022-12-16T21:32:47Z", "closed_at": "2022-12-13T01:58:09Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2678", "html_url": "https://github.com/rasterio/rasterio/pull/2678", "diff_url": "https://github.com/rasterio/rasterio/pull/2678.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2678.patch", "merged_at": "2022-12-13T01:58:09Z"}, "body": "Closes #2668", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2678/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2678/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2669", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2669/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2669/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2669/events", "html_url": "https://github.com/rasterio/rasterio/pull/2669", "id": 1475322867, "node_id": "PR_kwDOANdm_M5ERnFf", "number": 2669, "title": "Fixes for unsigned access to S3", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/121", "html_url": "https://github.com/rasterio/rasterio/milestone/121", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/121/labels", "id": 8765036, "node_id": "MI_kwDOANdm_M4Ahb5s", "number": 121, "title": "1.3.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2022-12-15T02:02:39Z", "updated_at": "2023-01-25T21:09:24Z", "due_on": null, "closed_at": "2023-01-25T21:09:24Z"}, "comments": 0, "created_at": "2022-12-05T00:02:38Z", "updated_at": "2022-12-16T21:43:22Z", "closed_at": "2022-12-13T01:59:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2669", "html_url": "https://github.com/rasterio/rasterio/pull/2669", "diff_url": "https://github.com/rasterio/rasterio/pull/2669.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2669.patch", "merged_at": "2022-12-13T01:59:31Z"}, "body": "This PR fixes several issues around use of `AWSSession` when accessing public resources (`aws_unsigned=True` case)\r\n\r\n1. S3 endpoint configuration was not propagated in the unsigned case\r\n2. Value stored inside `AWS_NO_SIGN_REQUEST` and `AZURE_NO_SIGN_REQUEST` was always parsed as `True`\r\n3. `AWSSession` could not be constructed when `boto3` is missing\r\n4. No way to force `aws_unsigned=False` configuration when `AWS_NO_SIGN_REQUEST=YES` is configured in the environment.\r\n\r\n`AWSSession` does more than just credential management for S3 access, so it's needed even when accessing public S3 buckets without relying on environment variables. `boto3` is an optional dependency of `rasterio`, and I think `rasterio` should work without `boto3` when accessing public S3 buckets.\r\n\r\nExample of user confusion:\r\n\r\n```\r\nconda create -n rio python=3.10 rasterio=1.3.4\r\nconda activate rio\r\nrio --aws-no-sign-requests info s3://sentinel-cogs/sentinel-s2-l2a-cogs/42/C/WA/2020/1/S2B_42CWA_20200103_0_L2A/B01.tif\r\n```\r\n\r\nThis currently fails with:\r\n\r\n```\r\n  File \"/envs/rio/lib/python3.10/site-packages/rasterio/session.py\", line 277, in __init__\r\n    self._session = boto3.Session(\r\nAttributeError: 'NoneType' object has no attribute 'Session'\r\n```\r\n\r\nAfter changes in this PR it should work without needing to install `boto3`.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2669/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2668", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2668/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2668/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2668/events", "html_url": "https://github.com/rasterio/rasterio/issues/2668", "id": 1472995487, "node_id": "I_kwDOANdm_M5XzCCf", "number": 2668, "title": "BLOCKYSIZE included in un-tiled datasets metadata profile", "user": {"login": "peetw", "id": 1334162, "node_id": "MDQ6VXNlcjEzMzQxNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1334162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peetw", "html_url": "https://github.com/peetw", "followers_url": "https://api.github.com/users/peetw/followers", "following_url": "https://api.github.com/users/peetw/following{/other_user}", "gists_url": "https://api.github.com/users/peetw/gists{/gist_id}", "starred_url": "https://api.github.com/users/peetw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peetw/subscriptions", "organizations_url": "https://api.github.com/users/peetw/orgs", "repos_url": "https://api.github.com/users/peetw/repos", "events_url": "https://api.github.com/users/peetw/events{/privacy}", "received_events_url": "https://api.github.com/users/peetw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/121", "html_url": "https://github.com/rasterio/rasterio/milestone/121", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/121/labels", "id": 8765036, "node_id": "MI_kwDOANdm_M4Ahb5s", "number": 121, "title": "1.3.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2022-12-15T02:02:39Z", "updated_at": "2023-01-25T21:09:24Z", "due_on": null, "closed_at": "2023-01-25T21:09:24Z"}, "comments": 0, "created_at": "2022-12-02T14:54:37Z", "updated_at": "2022-12-16T21:44:07Z", "closed_at": "2022-12-13T01:58:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nFollowing the release of rasterio 1.3.3 (in particular, the changes in #2615), a dataset's profile now includes a value for `blockysize`, even if the dataset is not tiled.\r\n\r\nThis now means that you cannot convert an un-tiled dataset to a tiled version without also explicitly overriding the value for `blockysize`, otherwise rasterio will complain that the block size is not a multiple of 16 (unless of course the input dataset height happens to be a multiple of 16...). Previously, `blockysize` would not be set for un-tiled datasets and thus the driver would select a default value for `blockysize`, which is likely to be the desired behaviour in the majority of cases.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nThe `test_untiled.tif` file is available here: [test_untiled.zip](https://github.com/rasterio/rasterio/files/10142052/test_untiled.zip)\r\n\r\n```\r\nimport rasterio\r\n\r\nwith rasterio.open('test_untiled.tif', 'r') as src_ds:\r\n    dst_profile = src_ds.profile\r\n    dst_profile.update(tiled=True)\r\n    print(src_ds.profile)\r\n    print(dst_ds.profile)\r\n    with rasterio.open(r'test_tiled.tif', 'w+', **dst_profile) as dst_ds:\r\n        data = src_ds.read(1)\r\n        dst_ds.write(data, 1)\r\n```\r\n\r\nUsing `rasterio < 1.3.3`, this will output:\r\n\r\n```\r\n{\r\n    'driver': 'GTiff',\r\n    'dtype': 'float64',\r\n    'nodata': -999.0,\r\n    'width': 4,\r\n    'height': 3,\r\n    'count': 1,\r\n    'crs': CRS.from_epsg(4326),\r\n    'transform': Affine(2.0, 0.0, 0.0, 0.0, -2.0, 6.0),\r\n    'tiled': False,\r\n    'interleave': 'band'\r\n}\r\n{\r\n    'driver': 'GTiff',\r\n    'dtype': 'float64',\r\n    'nodata': -999.0,\r\n    'width': 4,\r\n    'height': 3,\r\n    'count': 1,\r\n    'crs': CRS.from_epsg(4326),\r\n    'transform': Affine(2.0, 0.0, 0.0, 0.0, -2.0, 6.0),\r\n    'blockxsize': 256,\r\n    'blockysize': 256,\r\n    'tiled': True,\r\n    'interleave': 'band'\r\n}\r\n```\r\n\r\nHowever, with `rasterio >= 1.3.3`, the following error will be output:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\peetw\\Downloads\\rasterio_bug\\test.py\", line 25, in <module>\r\n    with rasterio.open(r'C:\\Users\\peetw\\Downloads\\rasterio_bug\\test_tmp.tif', 'w+', **dst_profile) as dst_ds:\r\n  File \"C:\\Users\\peetw\\miniforge3\\envs\\test\\lib\\site-packages\\rasterio\\env.py\", line 444, in wrapper\r\n    return f(*args, **kwds)\r\n  File \"C:\\Users\\peetw\\miniforge3\\envs\\test\\lib\\site-packages\\rasterio\\__init__.py\", line 314, in open\r\n    dataset = writer(\r\n  File \"rasterio\\_io.pyx\", line 1415, in rasterio._io.DatasetWriterBase.__init__\r\nrasterio.errors.RasterBlockError: The height and width of dataset blocks must be multiples of 16\r\n```\r\n\r\n#### Environment Information\r\n\r\n<details>\r\n<summary>Show</summary>\r\n\r\n```\r\nrasterio info:\r\n  rasterio: 1.3.3\r\n      GDAL: 3.5.3\r\n      PROJ: 9.1.1\r\n      GEOS: 3.11.1\r\n PROJ DATA: C:\\Users\\peetw\\miniforge3\\envs\\test\\Library\\share\\proj\r\n GDAL DATA: C:\\Users\\peetw\\miniforge3\\envs\\test\\Library\\share\\gdal\r\n\r\nSystem:\r\n    python: 3.10.8 | packaged by conda-forge | (main, Nov 22 2022, 08:16:33) [MSC v.1929 64 bit (AMD64)]\r\nexecutable: C:\\Users\\peetw\\miniforge3\\envs\\test\\python.exe\r\n   machine: Windows-10-10.0.19045-SP0\r\n\r\nPython deps:\r\n    affine: 2.3.1\r\n     attrs: 22.1.0\r\n   certifi: 2022.09.24\r\n     click: 8.1.3\r\n     cligj: 0.7.2\r\n    cython: None\r\n     numpy: 1.23.5\r\n    snuggs: 1.4.7\r\nclick-plugins: None\r\nsetuptools: 65.5.1\r\n```\r\n</details>", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2668/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2665", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2665/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2665/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2665/events", "html_url": "https://github.com/rasterio/rasterio/issues/2665", "id": 1471358645, "node_id": "I_kwDOANdm_M5Xsya1", "number": 2665, "title": "DOC: Documentation inconsistency in rasterio.features.rasterize", "user": {"login": "emilyselwood", "id": 645622, "node_id": "MDQ6VXNlcjY0NTYyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/645622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emilyselwood", "html_url": "https://github.com/emilyselwood", "followers_url": "https://api.github.com/users/emilyselwood/followers", "following_url": "https://api.github.com/users/emilyselwood/following{/other_user}", "gists_url": "https://api.github.com/users/emilyselwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/emilyselwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emilyselwood/subscriptions", "organizations_url": "https://api.github.com/users/emilyselwood/orgs", "repos_url": "https://api.github.com/users/emilyselwood/repos", "events_url": "https://api.github.com/users/emilyselwood/events{/privacy}", "received_events_url": "https://api.github.com/users/emilyselwood/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-01T13:54:10Z", "updated_at": "2022-12-01T16:45:15Z", "closed_at": "2022-12-01T16:45:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `out` parameter of `rasterio.features.rasterize`'s documentation mentions a `source` but there is no parameter called source it is not clear what size it needs to be in this case, or if it matters.\r\n\r\nhttps://github.com/rasterio/rasterio/blob/main/rasterio/features.py#L209 \r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2665/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2665/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2652", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2652/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2652/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2652/events", "html_url": "https://github.com/rasterio/rasterio/pull/2652", "id": 1447582657, "node_id": "PR_kwDOANdm_M5C0DKL", "number": 2652, "title": "Avoid narrowing file stream position to `int` inside `filepath_tell`", "user": {"login": "elisw93", "id": 83802262, "node_id": "MDQ6VXNlcjgzODAyMjYy", "avatar_url": "https://avatars.githubusercontent.com/u/83802262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elisw93", "html_url": "https://github.com/elisw93", "followers_url": "https://api.github.com/users/elisw93/followers", "following_url": "https://api.github.com/users/elisw93/following{/other_user}", "gists_url": "https://api.github.com/users/elisw93/gists{/gist_id}", "starred_url": "https://api.github.com/users/elisw93/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elisw93/subscriptions", "organizations_url": "https://api.github.com/users/elisw93/orgs", "repos_url": "https://api.github.com/users/elisw93/repos", "events_url": "https://api.github.com/users/elisw93/events{/privacy}", "received_events_url": "https://api.github.com/users/elisw93/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/119", "html_url": "https://github.com/rasterio/rasterio/milestone/119", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/119/labels", "id": 8610799, "node_id": "MI_kwDOANdm_M4Ag2Pv", "number": 119, "title": "1.3.4", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-11-02T23:04:42Z", "updated_at": "2022-11-17T01:33:51Z", "due_on": null, "closed_at": "2022-11-17T01:33:51Z"}, "comments": 1, "created_at": "2022-11-14T08:09:12Z", "updated_at": "2022-11-14T21:57:26Z", "closed_at": "2022-11-14T21:48:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2652", "html_url": "https://github.com/rasterio/rasterio/pull/2652", "diff_url": "https://github.com/rasterio/rasterio/pull/2652.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2652.patch", "merged_at": "2022-11-14T21:48:44Z"}, "body": "Hi, this is my first time submitting a change request to this project. I've read the `CODE_OF_CONDUCT.md` and I agree to abide by it. Let me know if there is anything else I need to do.\r\n\r\nThis PR concerns a bug that I discovered while operating on large (larger than 2^31 bytes) GeoTIFF files with Rasterio. If you pass such a file into `rasterio.open` using a file-like object, Rasterio will raise a runtime exception when it tries to read that file past the 2^31 byte mark. From what I can tell, this is because Rasterio holds the file stream position in an `int`, but the actual file stream offset obtained from `tell()` is `long`, so this value ends up getting narrowed.\r\n\r\nThis behavior will only occur if you pass a Python file-like object to `rasterio.open`, and won't happen if you pass the path of a file. (I've already applied this as a mitigation inside my code which uses the Rasterio API.) \r\n\r\nDescription of this change:\r\n* I changed the type of `pos` inside `filepath_tell` from `int` to `long`. (It appears that this value [should be a `long` in CPython](https://github.com/python/cpython/blob/db115682bd639a2642c617f0b7d5b30cd7d7f472/Modules/_io/bytesio.c#L379-L391) as it is in POSIX `ftell`.)\r\n* `filepath_tell` returns a `vsi_l_offset` type which is also typedef to `int`, but [in GDAL, this is a `GUIntBig`](https://gdal.org/doxygen/cpl__vsi_8h.html#af56f9ebab1994e4c2ed3f0a50af787b2) (= [`unsigned long long`](https://gdal.org/doxygen/cpl__port_8h.html#a4f0794a0fb78d55ba284a414191dbc93)) so I updated this typedef as well.\r\n\r\nI have also [written a short C program](https://gist.github.com/elisw93/6548c42390fab176bc0c99f1578114be) that generates a problem TIF file with the LibTIFF API. (You can decompress `problem.tif.bz2` if you don't want to run this program.) Before applying this code change, `readtiff.py` should produce a runtime error similar to the following snippet. After applying this change to Rasterio, it should print the string `OK`.\r\n\r\n```\r\nOverflowError: value too large to convert to int\r\nException ignored in: 'rasterio._filepath.filepath_tell'\r\nTraceback (most recent call last):\r\n  File \"/.../rasterio/io.py\", line 220, in open\r\n    return DatasetReader(mempath, driver=driver, sharing=sharing, **kwargs)\r\nOverflowError: value too large to convert to int\r\nTraceback (most recent call last):\r\n  File \"rasterio/_base.pyx\", line 302, in rasterio._base.DatasetBase.__init__\r\n  File \"rasterio/_base.pyx\", line 213, in rasterio._base.open_dataset\r\n  File \"rasterio/_err.pyx\", line 217, in rasterio._err.exc_wrap_pointer\r\nrasterio._err.CPLE_AppDefinedError: /vsipythonfilelike/bd0b47a9-8eea-4bba-af6c-455e6d4f43d2/bd0b47a9-8eea-4bba-af6c-455e6d4f43d2: TIFFReadDirectory:Failed to read directory at offset 2415919122\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/.../readtiff.py\", line 7, in <module>\r\n    with rasterio.open(tif_fp) as tif:\r\n  File \"/.../rasterio/env.py\", line 444, in wrapper\r\n    return f(*args, **kwds)\r\n  File \"/.../rasterio/__init__.py\", line 241, in open\r\n    return FilePath(fp).open(driver=driver, sharing=sharing, **kwargs)\r\n  File \"/.../rasterio/env.py\", line 391, in wrapper\r\n    return f(*args, **kwds)\r\n  File \"/.../rasterio/io.py\", line 220, in open\r\n    return DatasetReader(mempath, driver=driver, sharing=sharing, **kwargs)\r\n  File \"rasterio/_base.pyx\", line 304, in rasterio._base.DatasetBase.__init__\r\nrasterio.errors.RasterioIOError: /vsipythonfilelike/bd0b47a9-8eea-4bba-af6c-455e6d4f43d2/bd0b47a9-8eea-4bba-af6c-455e6d4f43d2: TIFFReadDirectory:Failed to read directory at offset 2415919122\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2652/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2637", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2637/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2637/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2637/events", "html_url": "https://github.com/rasterio/rasterio/pull/2637", "id": 1440695517, "node_id": "PR_kwDOANdm_M5Cc0dF", "number": 2637, "title": "pull AZURE_STORAGE_ACCESS_KEY from env if not provided as arg to AzureSession", "user": {"login": "hrodmn", "id": 17726304, "node_id": "MDQ6VXNlcjE3NzI2MzA0", "avatar_url": "https://avatars.githubusercontent.com/u/17726304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hrodmn", "html_url": "https://github.com/hrodmn", "followers_url": "https://api.github.com/users/hrodmn/followers", "following_url": "https://api.github.com/users/hrodmn/following{/other_user}", "gists_url": "https://api.github.com/users/hrodmn/gists{/gist_id}", "starred_url": "https://api.github.com/users/hrodmn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hrodmn/subscriptions", "organizations_url": "https://api.github.com/users/hrodmn/orgs", "repos_url": "https://api.github.com/users/hrodmn/repos", "events_url": "https://api.github.com/users/hrodmn/events{/privacy}", "received_events_url": "https://api.github.com/users/hrodmn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/119", "html_url": "https://github.com/rasterio/rasterio/milestone/119", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/119/labels", "id": 8610799, "node_id": "MI_kwDOANdm_M4Ag2Pv", "number": 119, "title": "1.3.4", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-11-02T23:04:42Z", "updated_at": "2022-11-17T01:33:51Z", "due_on": null, "closed_at": "2022-11-17T01:33:51Z"}, "comments": 4, "created_at": "2022-11-08T18:23:08Z", "updated_at": "2022-12-02T17:23:45Z", "closed_at": "2022-11-10T16:40:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2637", "html_url": "https://github.com/rasterio/rasterio/pull/2637", "diff_url": "https://github.com/rasterio/rasterio/pull/2637.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2637.patch", "merged_at": "2022-11-10T16:40:26Z"}, "body": "I believe adding `AZURE_STORAGE_ACCESS_KEY` to the credentials in an `AzureSession` follows the authentication logic: use `AZURE_CONNECTION_STRING` if available, use `AZURE_STORAGE_ACCOUNT` and `AZURE_STORAGE_ACCESS_KEY` unless `AZURE_NO_SIGN_REQUEST` is set in which case we only need `AZURE_STORAGE_ACCOUTN`. I assume that we get away without passing any secrets for S3 authentication because `boto` handles it.\r\n\r\nresolves #2636", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2637/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2636", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2636/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2636/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2636/events", "html_url": "https://github.com/rasterio/rasterio/issues/2636", "id": 1440613701, "node_id": "I_kwDOANdm_M5V3gVF", "number": 2636, "title": "unable to read private key from azure with az://{container}/{key} but /vsiaz/{container}/{key} works", "user": {"login": "hrodmn", "id": 17726304, "node_id": "MDQ6VXNlcjE3NzI2MzA0", "avatar_url": "https://avatars.githubusercontent.com/u/17726304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hrodmn", "html_url": "https://github.com/hrodmn", "followers_url": "https://api.github.com/users/hrodmn/followers", "following_url": "https://api.github.com/users/hrodmn/following{/other_user}", "gists_url": "https://api.github.com/users/hrodmn/gists{/gist_id}", "starred_url": "https://api.github.com/users/hrodmn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hrodmn/subscriptions", "organizations_url": "https://api.github.com/users/hrodmn/orgs", "repos_url": "https://api.github.com/users/hrodmn/repos", "events_url": "https://api.github.com/users/hrodmn/events{/privacy}", "received_events_url": "https://api.github.com/users/hrodmn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/119", "html_url": "https://github.com/rasterio/rasterio/milestone/119", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/119/labels", "id": 8610799, "node_id": "MI_kwDOANdm_M4Ag2Pv", "number": 119, "title": "1.3.4", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-11-02T23:04:42Z", "updated_at": "2022-11-17T01:33:51Z", "due_on": null, "closed_at": "2022-11-17T01:33:51Z"}, "comments": 0, "created_at": "2022-11-08T17:27:31Z", "updated_at": "2022-11-10T16:40:27Z", "closed_at": "2022-11-10T16:40:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI would like to be able to rely on the environment variables `AZURE_STORAGE_ACCOUNT` and `AZURE_STORAGE_ACCESS_KEY` to make it possible to read files that look like `az://{container}/{key}`, but rasterio does not seem to be pulling those environment variables the same way it can for S3 URIs.\r\n\r\nThis was working for me as recently as version 1.3a3, but in 1.3.3 I cannot get it to work! I have combed through `rasterio/session.py` and it appears that `AZURE_STORAGE_ACCOUNT` gets pulled from the environment, but `AZURE_STORAGE_ACCESS_KEY` does not. Is that intentional?\r\n\r\n## Steps to reproduce the problem.\r\nI am not really sure how to provide a full reproducible examples for private storage container, but here is the pattern that I have observed.\r\n\r\nThis works:\r\n```sh\r\nAZURE_STORAGE_ACCOUNT={AZURE_STORAGE_ACCOUNT} AZURE_STORAGE_ACCESS_KEY={AZURE_STORAGE_ACCESS_KEY} rio info /vsiaz/{container}/{key}\r\n```\r\n\r\nThis fails:\r\n```sh\r\nAZURE_STORAGE_ACCOUNT={AZURE_STORAGE_ACCOUNT} AZURE_STORAGE_ACCESS_KEY={AZURE_STORAGE_ACCESS_KEY} rio info az://{container}/{key}\r\n```\r\n\r\nI think this is happening because `AzureSession` will not pull `AZURE_STORAGE_ACCESS_KEY` from the environment.\r\n\r\n```sh\r\n$ AZURE_STORAGE_ACCOUNT=foo AZURE_STORAGE_ACCESS_KEY=bar python - <<EOF\r\n> from rasterio.session import Session\r\n> sesh = Session.from_path(\"az://lol/wut\")\r\n> print(sesh.credentials)\r\n> EOF\r\n{'azure_storage_account': 'foo', 'azure_storage_access_key': None}\r\n```\r\n\r\nAs far as I can tell the only way to provide it is by calling `AzureSession(azure_storage_access_key={AZURE_STORAGE_ACCESS_KEY})`, but I don't know how to propagate that behavior through my entire environment.\r\n\r\n\r\n\r\n#### Environment Information\r\n```sh\r\n$ rio --show-versions\r\nrasterio info:\r\n  rasterio: 1.3.3\r\n      GDAL: 3.4.3\r\n      PROJ: 8.2.1\r\n      GEOS: 3.10.2\r\n PROJ DATA: /home/henry/.local/share/proj:/usr/share/proj\r\n GDAL DATA: None\r\n\r\nSystem:\r\n    python: 3.10.6 (main, Nov  2 2022, 18:53:38) [GCC 11.3.0]\r\nexecutable: /home/henry/.virtualenvs/sequoia/bin/python\r\n   machine: Linux-5.15.0-52-generic-x86_64-with-glibc2.35\r\n\r\nPython deps:\r\n    affine: 2.3.0\r\n     attrs: 21.4.0\r\n   certifi: 2021.10.08\r\n     click: 8.0.3\r\n     cligj: 0.7.2\r\n    cython: 0.29.32\r\n     numpy: 1.22.1\r\n    snuggs: 1.4.7\r\nclick-plugins: None\r\nsetuptools: 59.8.0\r\n```\r\n\r\n## Installation Method\r\n\r\n```sh\r\npip install rasterio==1.3.3\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2636/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2636/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2634", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2634/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2634/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2634/events", "html_url": "https://github.com/rasterio/rasterio/pull/2634", "id": 1439471248, "node_id": "PR_kwDOANdm_M5CYp28", "number": 2634, "title": "BUG: ensure default driver for tif to be GTiff", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/119", "html_url": "https://github.com/rasterio/rasterio/milestone/119", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/119/labels", "id": 8610799, "node_id": "MI_kwDOANdm_M4Ag2Pv", "number": 119, "title": "1.3.4", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-11-02T23:04:42Z", "updated_at": "2022-11-17T01:33:51Z", "due_on": null, "closed_at": "2022-11-17T01:33:51Z"}, "comments": 3, "created_at": "2022-11-08T04:39:47Z", "updated_at": "2022-11-10T18:34:44Z", "closed_at": "2022-11-09T16:35:13Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2634", "html_url": "https://github.com/rasterio/rasterio/pull/2634", "diff_url": "https://github.com/rasterio/rasterio/pull/2634.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2634.patch", "merged_at": "2022-11-09T16:35:13Z"}, "body": "Related #2632\r\n\r\nSome change made COG preferred over GTiff driver in the defaults in 3.6.0.\r\nThis ensures it is consistent moving forward.\r\n\r\nBefore:\r\n```python\r\n>>> from rasterio.drivers import raster_driver_extensions\r\n>>> raster_driver_extensions()\r\n{'tif': 'COG', 'tiff': 'COG', ...}\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2634/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2634/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2629", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2629/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2629/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2629/events", "html_url": "https://github.com/rasterio/rasterio/pull/2629", "id": 1433797748, "node_id": "PR_kwDOANdm_M5CF3wJ", "number": 2629, "title": "BUG: fix get_data_window for nodata=nan, fixes #2628", "user": {"login": "scottstanie", "id": 8291800, "node_id": "MDQ6VXNlcjgyOTE4MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8291800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottstanie", "html_url": "https://github.com/scottstanie", "followers_url": "https://api.github.com/users/scottstanie/followers", "following_url": "https://api.github.com/users/scottstanie/following{/other_user}", "gists_url": "https://api.github.com/users/scottstanie/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottstanie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottstanie/subscriptions", "organizations_url": "https://api.github.com/users/scottstanie/orgs", "repos_url": "https://api.github.com/users/scottstanie/repos", "events_url": "https://api.github.com/users/scottstanie/events{/privacy}", "received_events_url": "https://api.github.com/users/scottstanie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/119", "html_url": "https://github.com/rasterio/rasterio/milestone/119", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/119/labels", "id": 8610799, "node_id": "MI_kwDOANdm_M4Ag2Pv", "number": 119, "title": "1.3.4", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-11-02T23:04:42Z", "updated_at": "2022-11-17T01:33:51Z", "due_on": null, "closed_at": "2022-11-17T01:33:51Z"}, "comments": 1, "created_at": "2022-11-02T21:16:04Z", "updated_at": "2022-11-09T17:05:40Z", "closed_at": "2022-11-09T16:36:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2629", "html_url": "https://github.com/rasterio/rasterio/pull/2629", "diff_url": "https://github.com/rasterio/rasterio/pull/2629.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2629.patch", "merged_at": "2022-11-09T16:36:02Z"}, "body": "Closes #2628 \r\n\r\nAdded an analogous test to the `test_data_window_nodata`, using `nan` instead of 0 as the nodata.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2629/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2628", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2628/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2628/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2628/events", "html_url": "https://github.com/rasterio/rasterio/issues/2628", "id": 1433793980, "node_id": "I_kwDOANdm_M5VdfW8", "number": 2628, "title": "get_data_window fails with `nan` nodata value", "user": {"login": "scottstanie", "id": 8291800, "node_id": "MDQ6VXNlcjgyOTE4MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8291800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottstanie", "html_url": "https://github.com/scottstanie", "followers_url": "https://api.github.com/users/scottstanie/followers", "following_url": "https://api.github.com/users/scottstanie/following{/other_user}", "gists_url": "https://api.github.com/users/scottstanie/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottstanie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottstanie/subscriptions", "organizations_url": "https://api.github.com/users/scottstanie/orgs", "repos_url": "https://api.github.com/users/scottstanie/repos", "events_url": "https://api.github.com/users/scottstanie/events{/privacy}", "received_events_url": "https://api.github.com/users/scottstanie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/119", "html_url": "https://github.com/rasterio/rasterio/milestone/119", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/119/labels", "id": 8610799, "node_id": "MI_kwDOANdm_M4Ag2Pv", "number": 119, "title": "1.3.4", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-11-02T23:04:42Z", "updated_at": "2022-11-17T01:33:51Z", "due_on": null, "closed_at": "2022-11-17T01:33:51Z"}, "comments": 0, "created_at": "2022-11-02T21:12:07Z", "updated_at": "2022-11-09T16:36:03Z", "closed_at": "2022-11-09T16:36:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nThe `get_data_window` works great for most nodata values, but not for `nan`s.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nfrom rasterio.windows import get_data_window\r\nimport numpy as np\r\n\r\narr = np.ones((3, 3))\r\narr[0, :] = np.nan\r\nwindow = get_data_window(arr, nodata=0)\r\nprint(window)\r\n# Window(col_off=0, row_off=0, width=3, height=3)\r\n```\r\n\r\n#### Environment Information\r\n<!-- If you have rasterio>=1.3.0 -->\r\n - Output from: `rio --show-versions` or `python -c \"import rasterio; rasterio.show_versions()\"`\r\n```\r\n(mapping) staniewi:rasterio$ python -c \"import rasterio; rasterio.show_versions()\"\r\nrasterio info:\r\n  rasterio: 1.4dev\r\n      GDAL: 3.5.0\r\n      PROJ: 9.0.1\r\n      GEOS: 3.11.0\r\n PROJ DATA: /Users/staniewi/miniconda3/envs/mapping/share/proj\r\n GDAL DATA: /Users/staniewi/miniconda3/envs/mapping/share/gdal\r\n\r\nSystem:\r\n    python: 3.10.5 | packaged by conda-forge | (main, Jun 14 2022, 07:07:06) [Clang 13.0.1 ]\r\nexecutable: /Users/staniewi/miniconda3/envs/mapping/bin/python\r\n   machine: macOS-12.6.1-arm64-arm-64bit\r\n\r\nPython deps:\r\n    affine: 2.3.1\r\n     attrs: 21.4.0\r\n   certifi: 2022.09.24\r\n     click: 8.1.3\r\n     cligj: 0.7.2\r\n    cython: 0.29.30\r\n     numpy: 1.22.4\r\n    snuggs: 1.4.7\r\nclick-plugins: None\r\nsetuptools: 62.6.0\r\n```\r\n\r\n## Installation Method\r\n\r\nHappens with either current conda install, or from source.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2628/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2626", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2626/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2626/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2626/events", "html_url": "https://github.com/rasterio/rasterio/pull/2626", "id": 1433282196, "node_id": "PR_kwDOANdm_M5CEIBt", "number": 2626, "title": "Fix possible init crash when Windows PATH has empty entry", "user": {"login": "PPazderski", "id": 13628240, "node_id": "MDQ6VXNlcjEzNjI4MjQw", "avatar_url": "https://avatars.githubusercontent.com/u/13628240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PPazderski", "html_url": "https://github.com/PPazderski", "followers_url": "https://api.github.com/users/PPazderski/followers", "following_url": "https://api.github.com/users/PPazderski/following{/other_user}", "gists_url": "https://api.github.com/users/PPazderski/gists{/gist_id}", "starred_url": "https://api.github.com/users/PPazderski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PPazderski/subscriptions", "organizations_url": "https://api.github.com/users/PPazderski/orgs", "repos_url": "https://api.github.com/users/PPazderski/repos", "events_url": "https://api.github.com/users/PPazderski/events{/privacy}", "received_events_url": "https://api.github.com/users/PPazderski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/119", "html_url": "https://github.com/rasterio/rasterio/milestone/119", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/119/labels", "id": 8610799, "node_id": "MI_kwDOANdm_M4Ag2Pv", "number": 119, "title": "1.3.4", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-11-02T23:04:42Z", "updated_at": "2022-11-17T01:33:51Z", "due_on": null, "closed_at": "2022-11-17T01:33:51Z"}, "comments": 1, "created_at": "2022-11-02T14:49:29Z", "updated_at": "2022-11-09T16:36:37Z", "closed_at": "2022-11-09T16:36:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2626", "html_url": "https://github.com/rasterio/rasterio/pull/2626", "diff_url": "https://github.com/rasterio/rasterio/pull/2626.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2626.patch", "merged_at": "2022-11-09T16:36:37Z"}, "body": "Rasterio might fall back to search the gdal lib in PATH. For the not so unusual case that PATH has an empty element (most likely a trailing ';') the current method would glob for \"gdal*.dll\" in the current working directory and if found something would try to pass empty string to os.add_dll_directory which raise an error.\r\n\r\nProblematic example PATH=C:\\WINDOWS\\system32;C:\\WINDOWS;\r\nI have seen such a trailing PATH separator on a quite clean Windows installation so I assume it is not too uncommon.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2626/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2622", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2622/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2622/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2622/events", "html_url": "https://github.com/rasterio/rasterio/issues/2622", "id": 1421683094, "node_id": "I_kwDOANdm_M5UvSmW", "number": 2622, "title": "statistics crashing kernel", "user": {"login": "artttt", "id": 4626281, "node_id": "MDQ6VXNlcjQ2MjYyODE=", "avatar_url": "https://avatars.githubusercontent.com/u/4626281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/artttt", "html_url": "https://github.com/artttt", "followers_url": "https://api.github.com/users/artttt/followers", "following_url": "https://api.github.com/users/artttt/following{/other_user}", "gists_url": "https://api.github.com/users/artttt/gists{/gist_id}", "starred_url": "https://api.github.com/users/artttt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/artttt/subscriptions", "organizations_url": "https://api.github.com/users/artttt/orgs", "repos_url": "https://api.github.com/users/artttt/repos", "events_url": "https://api.github.com/users/artttt/events{/privacy}", "received_events_url": "https://api.github.com/users/artttt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-25T01:03:35Z", "updated_at": "2022-11-11T13:25:09Z", "closed_at": "2022-11-11T13:15:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to add internal statistics to a tif file and my kernel crashes \r\n\r\nusing rasterio versions 1.3.2 and gdal version 3.4.1 (and im guessing this is a gdal issue more then a rasterio issue but im reporting here is i've not written code to bypass rasterio to confirm this)\r\n\r\nHere is code that reproduces the issue\r\n```\r\nimport rasterio\r\nfrom rasterio.rio.overview import get_maximum_overview_level\r\nfrom rasterio.enums import Resampling\r\nimport numpy as np\r\nfrom rasterio.transform import Affine\r\n\r\nfname = 'test.tif'\r\n\r\nZ = np.random.rand(512*4,512*4)\r\nres = 0.1\r\ntransform = Affine.translation(0,0) * Affine.scale(res, res)\r\n\r\nwith rasterio.open(\r\n    fname,\r\n    'w',\r\n    driver='GTiff',\r\n    compress=\"deflate\",  \r\n    level=1,\r\n    predictor=3,\r\n    tiled=True,\r\n    sparse_ok=True,\r\n    bigtiff='YES',\r\n    num_threads=\"all_cpus\",\r\n    height=Z.shape[0],\r\n    width=Z.shape[1],\r\n    count=1,\r\n    dtype=Z.dtype,\r\n    crs='+proj=latlong',\r\n    transform=transform,\r\n) as dst:\r\n    dst.write(Z, 1)\r\n\r\nwith rasterio.open(fname,mode='r+',num_threads=\"all_cpus\") as dst:\r\n    overview_level = get_maximum_overview_level(dst.width, dst.height, minsize=512)\r\n    overviews = [2**j for j in range(1, overview_level + 1)]\r\n    print (overviews)\r\n    dst.build_overviews(overviews, Resampling.nearest)\r\n\r\n#doing stats separately to be clear there is no interaction between the earlier processing\r\nwith rasterio.open(fname,mode='r+',num_threads=\"all_cpus\") as dst:\r\n    stats = dst.statistics(1,approx=True,clear_cache=False)\r\n```\r\nKernel crashes on the last line but the file does have statistics written to it.\r\n\r\nif changed to the following it doesn't crash but is obviously much slower for a large dataset.\r\n`stats = dst.statistics(1,approx=False,clear_cache=False)`\r\n\r\nThis also crashes\r\n`stats = dst.statistics(1,approx=True,clear_cache=True)`\r\n\r\nIf the approximate statistics are requested before the overviews are built then it does not crash.\r\n\r\nAlso somewhat unexpected behaviour when a dataset has approx stats already in the file\r\n`stats = dst.statistics(1)`\r\nwhich is equivalent to \r\n`stats = dst.statistics(1,approx=False,clear_cache=False)`\r\nwill clear the cache and trigger the creation of non approximate stats. I guess if i'm happy to return approx. stats then I need to explicitly state that. Maybe a tweak of the documentation is needed.\r\n\r\nI'm in no hurry for a fix but i thought it best to report as it might save someone else some head scratching.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2622/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2603", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2603/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2603/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2603/events", "html_url": "https://github.com/rasterio/rasterio/pull/2603", "id": 1400508943, "node_id": "PR_kwDOANdm_M5AXCrg", "number": 2603, "title": "BUG: parse path without modifying query", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/118", "html_url": "https://github.com/rasterio/rasterio/milestone/118", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/118/labels", "id": 8349141, "node_id": "MI_kwDOANdm_M4Af2XV", "number": 118, "title": "1.3.3", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2022-08-25T11:55:41Z", "updated_at": "2022-10-19T21:51:45Z", "due_on": null, "closed_at": "2022-10-19T21:51:45Z"}, "comments": 3, "created_at": "2022-10-07T01:38:07Z", "updated_at": "2022-10-07T20:18:39Z", "closed_at": "2022-10-07T18:22:37Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2603", "html_url": "https://github.com/rasterio/rasterio/pull/2603", "diff_url": "https://github.com/rasterio/rasterio/pull/2603.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2603.patch", "merged_at": "2022-10-07T18:22:37Z"}, "body": "Closes #2602", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2603/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2599", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2599/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2599/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2599/events", "html_url": "https://github.com/rasterio/rasterio/issues/2599", "id": 1395316373, "node_id": "I_kwDOANdm_M5TKtaV", "number": 2599, "title": "Unable to pass BLOCKYSIZE for creating striped geotiff files", "user": {"login": "gogglesguy", "id": 1843382, "node_id": "MDQ6VXNlcjE4NDMzODI=", "avatar_url": "https://avatars.githubusercontent.com/u/1843382?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gogglesguy", "html_url": "https://github.com/gogglesguy", "followers_url": "https://api.github.com/users/gogglesguy/followers", "following_url": "https://api.github.com/users/gogglesguy/following{/other_user}", "gists_url": "https://api.github.com/users/gogglesguy/gists{/gist_id}", "starred_url": "https://api.github.com/users/gogglesguy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gogglesguy/subscriptions", "organizations_url": "https://api.github.com/users/gogglesguy/orgs", "repos_url": "https://api.github.com/users/gogglesguy/repos", "events_url": "https://api.github.com/users/gogglesguy/events{/privacy}", "received_events_url": "https://api.github.com/users/gogglesguy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/118", "html_url": "https://github.com/rasterio/rasterio/milestone/118", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/118/labels", "id": 8349141, "node_id": "MI_kwDOANdm_M4Af2XV", "number": 118, "title": "1.3.3", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2022-08-25T11:55:41Z", "updated_at": "2022-10-19T21:51:45Z", "due_on": null, "closed_at": "2022-10-19T21:51:45Z"}, "comments": 2, "created_at": "2022-10-03T20:50:08Z", "updated_at": "2022-10-19T21:43:37Z", "closed_at": "2022-10-19T21:43:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "GDAL allows setting **BLOCKYSIZE** to control strip heights in **striped** geotiff files. _rasterio_ has the mistaken impression this parameter only is relevant for _TILED_ geotiffs and actively prohibits this flag from being passed on: \r\n\r\nhttps://github.com/rasterio/rasterio/blob/5cf71dc806adc299108543def00647845ab4fc42/rasterio/_io.pyx#L349-L360\r\n\r\nRelevant Geotiff Driver:\r\nhttps://gdal.org/drivers/raster/gtiff.html\r\n\r\n> BLOCKYSIZE=n: Set tile or **strip** height. Tile height defaults to 256, **strip** height defaults to a value such that one strip is 8K or less.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2599/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2594", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2594/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2594/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2594/events", "html_url": "https://github.com/rasterio/rasterio/pull/2594", "id": 1386410480, "node_id": "PR_kwDOANdm_M4_n9Jl", "number": 2594, "title": "Remove _loading, copy it into __init__", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/118", "html_url": "https://github.com/rasterio/rasterio/milestone/118", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/118/labels", "id": 8349141, "node_id": "MI_kwDOANdm_M4Af2XV", "number": 118, "title": "1.3.3", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2022-08-25T11:55:41Z", "updated_at": "2022-10-19T21:51:45Z", "due_on": null, "closed_at": "2022-10-19T21:51:45Z"}, "comments": 6, "created_at": "2022-09-26T16:47:36Z", "updated_at": "2022-09-29T16:45:32Z", "closed_at": "2022-09-27T00:02:54Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2594", "html_url": "https://github.com/rasterio/rasterio/pull/2594", "diff_url": "https://github.com/rasterio/rasterio/pull/2594.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2594.patch", "merged_at": "2022-09-27T00:02:54Z"}, "body": "Resolves #2593.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2594/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2593", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2593/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2593/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2593/events", "html_url": "https://github.com/rasterio/rasterio/issues/2593", "id": 1385203907, "node_id": "I_kwDOANdm_M5SkIjD", "number": 2593, "title": "Add DLL directory for Windows wheels once and only once", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/118", "html_url": "https://github.com/rasterio/rasterio/milestone/118", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/118/labels", "id": 8349141, "node_id": "MI_kwDOANdm_M4Af2XV", "number": 118, "title": "1.3.3", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2022-08-25T11:55:41Z", "updated_at": "2022-10-19T21:51:45Z", "due_on": null, "closed_at": "2022-10-19T21:51:45Z"}, "comments": 0, "created_at": "2022-09-25T23:40:53Z", "updated_at": "2022-09-27T20:37:37Z", "closed_at": "2022-09-27T20:37:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Like delvewheel: https://github.com/adang1345/delvewheel/blob/2b0aa0625795918355b04d5c459c9f4ae893519d/delvewheel/wheel_repair.py#L24. I think the _loading.py module could be unnecessary and that it may be possible to inline it into `__init__.py`. The widespread use of the context manager in _loading may stem from a misunderstanding on my part about how import mechanics and DLL directories interact.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2593/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2593/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2583", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2583/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2583/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2583/events", "html_url": "https://github.com/rasterio/rasterio/pull/2583", "id": 1360566611, "node_id": "PR_kwDOANdm_M4-TR6L", "number": 2583, "title": "Create destfile with proper dictionary", "user": {"login": "PedroAQCoutinho", "id": 30662095, "node_id": "MDQ6VXNlcjMwNjYyMDk1", "avatar_url": "https://avatars.githubusercontent.com/u/30662095?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PedroAQCoutinho", "html_url": "https://github.com/PedroAQCoutinho", "followers_url": "https://api.github.com/users/PedroAQCoutinho/followers", "following_url": "https://api.github.com/users/PedroAQCoutinho/following{/other_user}", "gists_url": "https://api.github.com/users/PedroAQCoutinho/gists{/gist_id}", "starred_url": "https://api.github.com/users/PedroAQCoutinho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PedroAQCoutinho/subscriptions", "organizations_url": "https://api.github.com/users/PedroAQCoutinho/orgs", "repos_url": "https://api.github.com/users/PedroAQCoutinho/repos", "events_url": "https://api.github.com/users/PedroAQCoutinho/events{/privacy}", "received_events_url": "https://api.github.com/users/PedroAQCoutinho/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-02T20:05:18Z", "updated_at": "2022-09-02T20:10:13Z", "closed_at": "2022-09-02T20:10:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2583", "html_url": "https://github.com/rasterio/rasterio/pull/2583", "diff_url": "https://github.com/rasterio/rasterio/pull/2583.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2583.patch", "merged_at": "2022-09-02T20:10:13Z"}, "body": "The dictionary was updated but the src (not updated) dictionary was being used. Because of that the iteration wasn't using the blocks", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2583/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2569", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2569/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2569/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2569/events", "html_url": "https://github.com/rasterio/rasterio/pull/2569", "id": 1350358253, "node_id": "PR_kwDOANdm_M49xGha", "number": 2569, "title": "Add missing warnings import in transform.py", "user": {"login": "nandan-manjunatha", "id": 104966151, "node_id": "U_kgDOBkGoBw", "avatar_url": "https://avatars.githubusercontent.com/u/104966151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nandan-manjunatha", "html_url": "https://github.com/nandan-manjunatha", "followers_url": "https://api.github.com/users/nandan-manjunatha/followers", "following_url": "https://api.github.com/users/nandan-manjunatha/following{/other_user}", "gists_url": "https://api.github.com/users/nandan-manjunatha/gists{/gist_id}", "starred_url": "https://api.github.com/users/nandan-manjunatha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nandan-manjunatha/subscriptions", "organizations_url": "https://api.github.com/users/nandan-manjunatha/orgs", "repos_url": "https://api.github.com/users/nandan-manjunatha/repos", "events_url": "https://api.github.com/users/nandan-manjunatha/events{/privacy}", "received_events_url": "https://api.github.com/users/nandan-manjunatha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/118", "html_url": "https://github.com/rasterio/rasterio/milestone/118", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/118/labels", "id": 8349141, "node_id": "MI_kwDOANdm_M4Af2XV", "number": 118, "title": "1.3.3", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2022-08-25T11:55:41Z", "updated_at": "2022-10-19T21:51:45Z", "due_on": null, "closed_at": "2022-10-19T21:51:45Z"}, "comments": 1, "created_at": "2022-08-25T05:49:01Z", "updated_at": "2022-08-29T10:59:51Z", "closed_at": "2022-08-29T10:59:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2569", "html_url": "https://github.com/rasterio/rasterio/pull/2569", "diff_url": "https://github.com/rasterio/rasterio/pull/2569.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2569.patch", "merged_at": "2022-08-29T10:59:38Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2569/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2555", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2555/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2555/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2555/events", "html_url": "https://github.com/rasterio/rasterio/issues/2555", "id": 1343794420, "node_id": "I_kwDOANdm_M5QGKz0", "number": 2555, "title": "1.3.1 released code does not include changes listed on github release", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/117", "html_url": "https://github.com/rasterio/rasterio/milestone/117", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/117/labels", "id": 8325239, "node_id": "MI_kwDOANdm_M4Afwh3", "number": 117, "title": "1.3.2", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2022-08-19T15:25:06Z", "updated_at": "2022-11-18T17:27:45Z", "due_on": null, "closed_at": "2022-08-19T18:55:01Z"}, "comments": 3, "created_at": "2022-08-19T00:52:33Z", "updated_at": "2022-08-19T18:53:08Z", "closed_at": "2022-08-19T18:53:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Thanks for the new release, but it looks like something did not go quite right with 1.3.1 packaging or merge.\r\n\r\nI have checked the content of `_io.pyx` file from [rasterio-1.3.1.tar.gz](https://files.pythonhosted.org/packages/91/5c/8ad8a5bb99a313ad00723e92704bcc890e29f6361e89f9a84e45c48af989/rasterio-1.3.1.tar.gz) and it does NOT have fixes for strided image destination.\r\n\r\nAlso this diff looks odd:\r\n\r\nhttps://github.com/rasterio/rasterio/compare/1.3.0.post1...1.3.1\r\n\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2555/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2550", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2550/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2550/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2550/events", "html_url": "https://github.com/rasterio/rasterio/issues/2550", "id": 1340900912, "node_id": "I_kwDOANdm_M5P7IYw", "number": 2550, "title": "BUG: Repeat reading from BytesIO error", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/118", "html_url": "https://github.com/rasterio/rasterio/milestone/118", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/118/labels", "id": 8349141, "node_id": "MI_kwDOANdm_M4Af2XV", "number": 118, "title": "1.3.3", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2022-08-25T11:55:41Z", "updated_at": "2022-10-19T21:51:45Z", "due_on": null, "closed_at": "2022-10-19T21:51:45Z"}, "comments": 2, "created_at": "2022-08-16T21:28:33Z", "updated_at": "2022-10-10T18:17:18Z", "closed_at": "2022-10-10T18:17:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "\r\n## Expected behavior and actual behavior.\r\n```\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\nFile rasterio/_filepath.pyx:158, in rasterio._filepath.filepath_close()\r\n\r\nKeyError: b'd8d17673-c6bb-430e-89f4-2ead5269e8f7/d8d17673-c6bb-430e-89f4-2ead5269e8f7'\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nSystemError                               Traceback (most recent call last)\r\nInput In [27], in <cell line: 1>()\r\n----> 1 with rasterio.open(ascii_raster_io) as rds:\r\n      2     print(rds.bounds)\r\n\r\nFile /rasterio/env.py:442, in ensure_env_with_credentials.<locals>.wrapper(*args, **kwds)\r\n    439     session = DummySession()\r\n    441 with env_ctor(session=session):\r\n--> 442     return f(*args, **kwds)\r\n\r\nFile /rasterio/__init__.py:215, in open(fp, mode, driver, width, height, count, crs, transform, dtype, nodata, sharing, **kwargs)\r\n    213 if mode == 'r' and hasattr(fp, 'read'):\r\n    214     if have_vsi_plugin:\r\n--> 215         return FilePath(fp).open(driver=driver, sharing=sharing, **kwargs)\r\n    216     else:\r\n    217         memfile = MemoryFile(fp.read())\r\n\r\nFile /rasterio/env.py:389, in ensure_env.<locals>.wrapper(*args, **kwds)\r\n    386 @wraps(f)\r\n    387 def wrapper(*args, **kwds):\r\n    388     if local._env:\r\n--> 389         return f(*args, **kwds)\r\n    390     else:\r\n    391         with Env.from_defaults():\r\n\r\nFile /rasterio/io.py:219, in _FilePath.open(self, driver, sharing, **kwargs)\r\n    217 # Assume we were given a non-empty file-like object\r\n    218 log.debug(\"VSI path: {}\".format(mempath.path))\r\n--> 219 return DatasetReader(mempath, driver=driver, sharing=sharing, **kwargs)\r\n\r\nFile rasterio/_base.pyx:302, in rasterio._base.DatasetBase.__init__()\r\n\r\nFile rasterio/_base.pyx:213, in rasterio._base.open_dataset()\r\n\r\nFile rasterio/_err.pyx:215, in rasterio._err.exc_wrap_pointer()\r\n\r\nFile rasterio/_err.pyx:162, in rasterio._err.exc_check()\r\n\r\nSystemError: <class 'rasterio._err.CPLE_AppDefinedError'> returned a result with an exception set\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nascii_raster_string = \"\"\"ncols        5\r\nnrows        5\r\nxllcorner    440720.000000000000\r\nyllcorner    3750120.000000000000\r\ncellsize     60.000000000000\r\nnodata_value -99999\r\n    107    123    132    115    132\r\n    115    132    107    123    148\r\n    115    132    140    132    123\r\n    148    132    123    123    115\r\n    132    156    132    140    132\r\n\"\"\"\r\nascii_raster_io = io.BytesIO(ascii_raster_string.encode(\"utf-8\"))\r\n\r\n# Works on first call\r\nwith rasterio.open(ascii_raster_io) as rds:\r\n    print(rds.bounds)\r\n\r\n# Fails on second call\r\nwith rasterio.open(ascii_raster_io) as rds:\r\n    print(rds.bounds)\r\n```\r\n#### Environment Information\r\n```\r\nrasterio info:\r\n  rasterio: 1.3.0\r\n      GDAL: 3.5.1\r\n      PROJ: 9.0.1\r\n      GEOS: 3.11.0\r\n PROJ DATA: ~/miniconda/envs/rio/share/proj\r\n GDAL DATA: ~/miniconda/envs/rio/share/gdal\r\n\r\nSystem:\r\n    python: 3.10.5 | packaged by conda-forge | (main, Jun 14 2022, 07:04:59) [GCC 10.3.0]\r\n   machine: Linux-5.15.0-46-generic-x86_64-with-glibc2.31\r\n\r\nPython deps:\r\n    affine: 2.3.1\r\n     attrs: 21.4.0\r\n   certifi: 2022.06.15\r\n     click: 8.1.3\r\n     cligj: 0.7.2\r\n    cython: None\r\n     numpy: 1.23.1\r\n    snuggs: 1.4.7\r\nclick-plugins: None\r\nsetuptools: 64.0.3\r\n```\r\n\r\n\r\n## Installation Method\r\nconda-forge", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2550/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2550/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2548", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2548/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2548/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2548/events", "html_url": "https://github.com/rasterio/rasterio/pull/2548", "id": 1336572017, "node_id": "PR_kwDOANdm_M49DwDP", "number": 2548, "title": "Silence non-informative errors from _delete_dataset_if_exists", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/116", "html_url": "https://github.com/rasterio/rasterio/milestone/116", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/116/labels", "id": 8179113, "node_id": "MI_kwDOANdm_M4AfM2p", "number": 116, "title": "1.3.1", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-07-08T14:26:58Z", "updated_at": "2022-08-18T03:59:45Z", "due_on": null, "closed_at": "2022-08-18T03:59:45Z"}, "comments": 0, "created_at": "2022-08-11T22:51:14Z", "updated_at": "2022-08-11T23:40:13Z", "closed_at": "2022-08-11T23:40:10Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2548", "html_url": "https://github.com/rasterio/rasterio/pull/2548", "diff_url": "https://github.com/rasterio/rasterio/pull/2548.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2548.patch", "merged_at": "2022-08-11T23:40:10Z"}, "body": "Resolves #2525.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2548/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2543", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2543/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2543/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2543/events", "html_url": "https://github.com/rasterio/rasterio/issues/2543", "id": 1333514107, "node_id": "I_kwDOANdm_M5Pe897", "number": 2543, "title": "DOC: readthedocs not building docs", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-08-09T16:38:00Z", "updated_at": "2022-08-09T21:41:59Z", "closed_at": "2022-08-09T20:43:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Most recent build from a month ago. I am thinking it has to do with switching the default branch from master -> main.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2543/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2536", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2536/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2536/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2536/events", "html_url": "https://github.com/rasterio/rasterio/pull/2536", "id": 1321662783, "node_id": "PR_kwDOANdm_M48ScY5", "number": 2536, "title": "BUG: RasterioDeprecationWarning import missing", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/116", "html_url": "https://github.com/rasterio/rasterio/milestone/116", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/116/labels", "id": 8179113, "node_id": "MI_kwDOANdm_M4AfM2p", "number": 116, "title": "1.3.1", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-07-08T14:26:58Z", "updated_at": "2022-08-18T03:59:45Z", "due_on": null, "closed_at": "2022-08-18T03:59:45Z"}, "comments": 0, "created_at": "2022-07-29T01:46:36Z", "updated_at": "2022-08-02T21:42:23Z", "closed_at": "2022-08-02T21:39:56Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2536", "html_url": "https://github.com/rasterio/rasterio/pull/2536", "diff_url": "https://github.com/rasterio/rasterio/pull/2536.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2536.patch", "merged_at": "2022-08-02T21:39:56Z"}, "body": "https://github.com/rasterio/rasterio/blob/38ad052cc2ab460d0b632bd2f3d7919e3d96c3c8/rasterio/__init__.py#L75", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2536/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2525", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2525/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2525/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2525/events", "html_url": "https://github.com/rasterio/rasterio/issues/2525", "id": 1305299893, "node_id": "I_kwDOANdm_M5NzUu1", "number": 2525, "title": "Rasterio 1.3.0 reports GDAL error when opening geotiff without context manager", "user": {"login": "djhoese", "id": 1828519, "node_id": "MDQ6VXNlcjE4Mjg1MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1828519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djhoese", "html_url": "https://github.com/djhoese", "followers_url": "https://api.github.com/users/djhoese/followers", "following_url": "https://api.github.com/users/djhoese/following{/other_user}", "gists_url": "https://api.github.com/users/djhoese/gists{/gist_id}", "starred_url": "https://api.github.com/users/djhoese/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djhoese/subscriptions", "organizations_url": "https://api.github.com/users/djhoese/orgs", "repos_url": "https://api.github.com/users/djhoese/repos", "events_url": "https://api.github.com/users/djhoese/events{/privacy}", "received_events_url": "https://api.github.com/users/djhoese/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/116", "html_url": "https://github.com/rasterio/rasterio/milestone/116", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/116/labels", "id": 8179113, "node_id": "MI_kwDOANdm_M4AfM2p", "number": 116, "title": "1.3.1", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-07-08T14:26:58Z", "updated_at": "2022-08-18T03:59:45Z", "due_on": null, "closed_at": "2022-08-18T03:59:45Z"}, "comments": 4, "created_at": "2022-07-14T21:18:59Z", "updated_at": "2022-08-18T03:59:12Z", "closed_at": "2022-08-18T03:59:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nWhen opening a geotiff for writing with `rasterio.open` I expect no GDAL errors or INFO log messages from rasterio. This worked with rasterio `<1.3.0`, but seems to have changed with #2357 or possibly changes in GDAL itself. When running the code described below with 1.3.0 I get:\r\n\r\n```\r\nINFO:rasterio._env:GDAL signalled an error: err_no=4, msg='/tmp/my.tif: No such file or directory'\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport logging\r\nlogging.basicConfig(level=logging.INFO)\r\n\r\nimport rasterio\r\nimport numpy as np\r\n\r\nrfile = rasterio.open(\"/tmp/my.tif\", \"w\", driver=\"gtiff\", width=500, height=500, count=4, dtype=np.uint8, nodata=255)\r\n```\r\n\r\n#### Environment Information\r\n\r\n```\r\nrasterio info:\r\n  rasterio: 1.3.0\r\n      GDAL: 3.5.1\r\n      PROJ: 9.0.1\r\n      GEOS: 3.11.0\r\n PROJ DATA: /home/davidh/miniconda3/envs/satpy_py39/share/proj\r\n GDAL DATA: /home/davidh/miniconda3/envs/satpy_py39/share/gdal\r\n\r\nSystem:\r\n    python: 3.9.12 | packaged by conda-forge | (main, Mar 24 2022, 23:25:59)  [GCC 10.3.0]\r\nexecutable: /home/davidh/miniconda3/envs/satpy_py39/bin/python\r\n   machine: Linux-5.17.15-76051715-generic-x86_64-with-glibc2.34\r\n\r\nPython deps:\r\n    affine: 2.3.1\r\n     attrs: 21.4.0\r\n   certifi: 2022.06.15\r\n     click: 8.1.3\r\n     cligj: 0.7.2\r\n    cython: 0.29.28\r\n     numpy: 1.22.4\r\n    snuggs: 1.4.7\r\nclick-plugins: None\r\nsetuptools: 63.2.0\r\n```\r\n\r\n## Installation Method\r\n\r\nconda via conda-forge\r\n\r\n## Other context\r\n\r\nThis is used along side dask where we open the rasterio Dataset once and then close it much later after dask has written all the data in its threaded workers. We can't use the context manager approach for opening the file.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2525/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2525/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2515", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2515/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2515/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2515/events", "html_url": "https://github.com/rasterio/rasterio/issues/2515", "id": 1302052763, "node_id": "I_kwDOANdm_M5Nm7-b", "number": 2515, "title": "DatasetReader.sample() no longer supports passing a list of points as a numpy array", "user": {"login": "nickodell", "id": 666402, "node_id": "MDQ6VXNlcjY2NjQwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/666402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickodell", "html_url": "https://github.com/nickodell", "followers_url": "https://api.github.com/users/nickodell/followers", "following_url": "https://api.github.com/users/nickodell/following{/other_user}", "gists_url": "https://api.github.com/users/nickodell/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickodell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickodell/subscriptions", "organizations_url": "https://api.github.com/users/nickodell/orgs", "repos_url": "https://api.github.com/users/nickodell/repos", "events_url": "https://api.github.com/users/nickodell/events{/privacy}", "received_events_url": "https://api.github.com/users/nickodell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/116", "html_url": "https://github.com/rasterio/rasterio/milestone/116", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/116/labels", "id": 8179113, "node_id": "MI_kwDOANdm_M4AfM2p", "number": 116, "title": "1.3.1", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-07-08T14:26:58Z", "updated_at": "2022-08-18T03:59:45Z", "due_on": null, "closed_at": "2022-08-18T03:59:45Z"}, "comments": 1, "created_at": "2022-07-12T13:17:39Z", "updated_at": "2022-08-18T04:05:40Z", "closed_at": "2022-08-18T03:59:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Context\r\n\r\nWhen testing [OSMnx](https://osmnx.readthedocs.io/en/stable/), we recently had a test case failure. The test case looks up an address with OSMnx, then uses a raster file to add elevation data to each node. The full OSMnx details are in the linked issue.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nWe want to be able to use numpy arrays with [DatasetReader.sample()](https://rasterio.readthedocs.io/en/latest/api/rasterio._io.html#rasterio._io.DatasetReaderBase.sample). In versions 1.2.10 and before, that worked.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nHere is a minimal example of the behavior we're observing.\r\n\r\n```\r\nimport rasterio\r\nimport numpy as np\r\n# Download this file here: https://github.com/gboeing/osmnx/blob/main/tests/input_data/elevation2.tif\r\nf = rasterio.open('./tests/input_data/elevation2.tif')\r\n# A list of points works...\r\npoints = [[-122.402, 37.795]]\r\nprint(list(f.sample(points)))\r\n# ...but a numpy array does not\r\npoints = np.array([[-122.402, 37.795]])\r\nprint(list(f.sample(points)))\r\n```\r\n\r\nIn 1.2.10, this produces the following:\r\n\r\n```\r\n[array([36], dtype=int16)]\r\n[array([36], dtype=int16)]\r\n```\r\n\r\nIn 1.3.0, this produces the following:\r\n\r\n```\r\n[array([36], dtype=int16)]\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 10, in <module>\r\n    print(list(f.sample(points)))\r\n  File \"/Users/nick/.anaconda3/anaconda3/envs/osmnx-dev2/lib/python3.8/site-packages/rasterio/sample.py\", line 61, in sample_gen\r\n    pts = zip(*filter(None, pts))\r\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\r\n```\r\n\r\n#### Environment Information\r\n\r\n##### Nonworking config\r\n\r\n```\r\nrasterio info:\r\n  rasterio: 1.3.0\r\n      GDAL: 3.5.0\r\n      PROJ: 9.0.0\r\n      GEOS: 0.0.0\r\n PROJ DATA: /Users/nick/.anaconda3/anaconda3/envs/osmnx-dev2/share/proj\r\n GDAL DATA: /Users/nick/.anaconda3/anaconda3/envs/osmnx-dev2/share/gdal\r\n\r\nSystem:\r\n    python: 3.8.13 | packaged by conda-forge | (default, Mar 25 2022, 06:05:47)  [Clang 12.0.1 ]\r\nexecutable: /Users/nick/.anaconda3/anaconda3/envs/osmnx-dev2/bin/python\r\n   machine: macOS-10.16-x86_64-i386-64bit\r\n\r\nPython deps:\r\n    affine: 2.3.1\r\n     attrs: 21.4.0\r\n   certifi: 2022.06.15\r\n     click: 8.1.3\r\n     cligj: 0.7.2\r\n    cython: None\r\n     numpy: 1.23.1\r\n    snuggs: 1.4.7\r\nclick-plugins: None\r\nsetuptools: 63.1.0\r\n```\r\n\r\n##### Working config\r\n\r\n- rasterio version 1.2.10\r\n - GDAL version 3.3.2\r\n - Python version 3.8.13 | packaged by conda-forge | (default, Mar 25 2022, 06:05:47)  [Clang 12.0.1 ]\r\n - Operation macOS-10.16-x86_64-i386-64bit\r\n\r\n\r\n## Installation Method\r\n\r\nAll versions installed from PyPI using pip 22.1.2\r\n\r\n## Related threads\r\n\r\nOSMnx fix discussion: https://github.com/gboeing/osmnx/pull/842 (ignore first three comments, they correspond to a different issue)\r\n\r\nLast PR changing sample_gen(): https://github.com/rasterio/rasterio/pull/2338", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2515/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2515/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2514", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2514/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2514/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2514/events", "html_url": "https://github.com/rasterio/rasterio/pull/2514", "id": 1299737855, "node_id": "PR_kwDOANdm_M47JQbZ", "number": 2514, "title": "Support non-contiguous array storage in MemoryDataset", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/116", "html_url": "https://github.com/rasterio/rasterio/milestone/116", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/116/labels", "id": 8179113, "node_id": "MI_kwDOANdm_M4AfM2p", "number": 116, "title": "1.3.1", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-07-08T14:26:58Z", "updated_at": "2022-08-18T03:59:45Z", "due_on": null, "closed_at": "2022-08-18T03:59:45Z"}, "comments": 1, "created_at": "2022-07-09T18:14:13Z", "updated_at": "2022-12-17T01:17:51Z", "closed_at": "2022-07-09T21:54:39Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": true, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2514", "html_url": "https://github.com/rasterio/rasterio/pull/2514", "diff_url": "https://github.com/rasterio/rasterio/pull/2514.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2514.patch", "merged_at": null}, "body": "Resolves #2509\r\n\r\nAdjustments are made to _fillnodata to account for the changes to MemoryDataset.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2514/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2512", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2512/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2512/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2512/events", "html_url": "https://github.com/rasterio/rasterio/pull/2512", "id": 1298766681, "node_id": "PR_kwDOANdm_M47GCOB", "number": 2512, "title": "Pass along strides to GDAL in MemoryDataset #2511", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/116", "html_url": "https://github.com/rasterio/rasterio/milestone/116", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/116/labels", "id": 8179113, "node_id": "MI_kwDOANdm_M4AfM2p", "number": 116, "title": "1.3.1", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-07-08T14:26:58Z", "updated_at": "2022-08-18T03:59:45Z", "due_on": null, "closed_at": "2022-08-18T03:59:45Z"}, "comments": 0, "created_at": "2022-07-08T09:40:49Z", "updated_at": "2022-07-09T22:30:58Z", "closed_at": "2022-07-09T22:30:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2512", "html_url": "https://github.com/rasterio/rasterio/pull/2512", "diff_url": "https://github.com/rasterio/rasterio/pull/2512.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2512.patch", "merged_at": "2022-07-09T22:30:57Z"}, "body": "when given non-contigous array on output pass along strides\r\ninformation to GDAL.\r\n\r\ncloses #2511 \r\ncloses #2509 ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2512/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2512/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2511", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2511/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2511/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2511/events", "html_url": "https://github.com/rasterio/rasterio/issues/2511", "id": 1298506510, "node_id": "I_kwDOANdm_M5NZaMO", "number": 2511, "title": "Warping into non-contigous numpy arrays produces incorrect result", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/116", "html_url": "https://github.com/rasterio/rasterio/milestone/116", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/116/labels", "id": 8179113, "node_id": "MI_kwDOANdm_M4AfM2p", "number": 116, "title": "1.3.1", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-07-08T14:26:58Z", "updated_at": "2022-08-18T03:59:45Z", "due_on": null, "closed_at": "2022-08-18T03:59:45Z"}, "comments": 0, "created_at": "2022-07-08T05:25:13Z", "updated_at": "2022-07-09T22:30:57Z", "closed_at": "2022-07-09T22:30:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nReprojecting into a slice of ndarray (non-contigous memory) should work the same as reprojecting into a contigous memory array.\r\n\r\nStride information of the destination image is not passed on to GDAL by `MemoryDataset`.\r\nI commented on another issue: https://github.com/rasterio/rasterio/issues/2509#issuecomment-1178542933 but I'll copy it here too:\r\n\r\nhttps://github.com/rasterio/rasterio/blob/6e7521c4b67ffdacc56410ec77c28f316be00196/rasterio/_io.pyx#L2061-L2068\r\n\r\nMemoryDataset doesn't pass along stride information to GDAL (`LINEOFFSET` for sub-arrays/crop, there is also `PIXELOFFSET` that allows filling single band in a YXB array, and `BANDOFFSET` for multi-band). One can extract that information for `strides` property, it contains a `Tuple[int,....]|None`.\r\n\r\n```python\r\nif arr_info[\"strides\"] is not None:\r\n    bandoffset, lineoffset, pixeloffset = arr_info[\"strides\"]\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\nsee this gist:\r\n\r\nhttps://gist.github.com/Kirill888/d2d93bb023608cdca9996720a11f681f\r\n\r\n```python\r\n%matplotlib inline\r\nfrom matplotlib import pyplot as plt\r\nimport rasterio\r\nimport rasterio.warp\r\nimport numpy as np\r\n\r\nsrc = rasterio.open(\"rgb1_fake_nir_epsg3857.tif\")\r\noriginal = src.read()[0]\r\n\r\ndst1 = original.astype(\"float32\")\r\ndst2 = original.astype(\"float32\")\r\n\r\nrasterio.warp.reproject(rasterio.band(src,1), dst1, dst_transform=src.transform, dst_crs=src.crs)\r\nrasterio.warp.reproject(rasterio.band(src,1), dst2[:,1:-1], dst_transform=src.transform, dst_crs=src.crs)\r\n\r\nfig, ax = plt.subplots(1, 3, figsize=(12, 4))\r\nax[0].imshow(original)\r\nax[1].imshow(dst1)\r\nax[2].imshow(dst2);\r\n```\r\n\r\n\r\n#### Environment Information\r\n\r\n```\r\nrasterio info:\r\n  rasterio: 1.3.0\r\n      GDAL: 3.5.1\r\n      PROJ: 9.0.1\r\n      GEOS: 3.11.0\r\n PROJ DATA: /home/jovyan/.envs/Lab/share/proj\r\n GDAL DATA: /home/jovyan/.envs/Lab/share/gdal\r\n\r\nSystem:\r\n    python: 3.10.5 | packaged by conda-forge | (main, Jun 14 2022, 07:04:59) [GCC 10.3.0]\r\nexecutable: /home/jovyan/.envs/rio13/bin/python\r\n   machine: Linux-5.4.0-1040-azure-x86_64-with-glibc2.31\r\n\r\nPython deps:\r\n    affine: 2.3.1\r\n     attrs: 21.4.0\r\n   certifi: 2022.06.15\r\n     click: 8.1.3\r\n     cligj: 0.7.2\r\n    cython: None\r\n     numpy: 1.22.4\r\n    snuggs: 1.4.7\r\nclick-plugins: None\r\nsetuptools: 63.1.0\r\n```\r\n\r\n## Installation Method\r\n\r\nconda on Linux", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2511/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2511/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2510", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2510/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2510/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2510/events", "html_url": "https://github.com/rasterio/rasterio/pull/2510", "id": 1297890932, "node_id": "PR_kwDOANdm_M47DA2h", "number": 2510, "title": "get_data_window cleanup", "user": {"login": "groutr", "id": 10678620, "node_id": "MDQ6VXNlcjEwNjc4NjIw", "avatar_url": "https://avatars.githubusercontent.com/u/10678620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/groutr", "html_url": "https://github.com/groutr", "followers_url": "https://api.github.com/users/groutr/followers", "following_url": "https://api.github.com/users/groutr/following{/other_user}", "gists_url": "https://api.github.com/users/groutr/gists{/gist_id}", "starred_url": "https://api.github.com/users/groutr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/groutr/subscriptions", "organizations_url": "https://api.github.com/users/groutr/orgs", "repos_url": "https://api.github.com/users/groutr/repos", "events_url": "https://api.github.com/users/groutr/events{/privacy}", "received_events_url": "https://api.github.com/users/groutr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 3548689147, "node_id": "LA_kwDOANdm_M7ThLL7", "url": "https://api.github.com/repos/rasterio/rasterio/labels/refactor", "name": "refactor", "color": "839266", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/116", "html_url": "https://github.com/rasterio/rasterio/milestone/116", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/116/labels", "id": 8179113, "node_id": "MI_kwDOANdm_M4AfM2p", "number": 116, "title": "1.3.1", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-07-08T14:26:58Z", "updated_at": "2022-08-18T03:59:45Z", "due_on": null, "closed_at": "2022-08-18T03:59:45Z"}, "comments": 2, "created_at": "2022-07-07T18:25:08Z", "updated_at": "2022-08-16T16:33:23Z", "closed_at": "2022-08-16T16:33:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2510", "html_url": "https://github.com/rasterio/rasterio/pull/2510", "diff_url": "https://github.com/rasterio/rasterio/pull/2510.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2510.patch", "merged_at": "2022-08-16T16:33:23Z"}, "body": "Supersedes #2262. Updated PR for rasterio 1.3.0.\r\n\r\nCleans up the implementation of get_data_window and extends it to properly handle 1D arrays. The documentation implied that 1D arrays are supported, but constructing a full window assumed 2 dimensions.\r\n\r\nPrimary wins:\r\n* doesn't create a masked array anymore\r\n* nicer handling of masked array (True maps to valid data)\r\n* Avoid some temporary array allocations and removed unnecessary rollaxis usage.\r\n* Small performance improvement.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2510/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2510/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2492", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2492/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2492/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2492/events", "html_url": "https://github.com/rasterio/rasterio/issues/2492", "id": 1281439667, "node_id": "I_kwDOANdm_M5MYTez", "number": 2492, "title": "Raise Error on functions with `except NULL` when return is NULL", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/119", "html_url": "https://github.com/rasterio/rasterio/milestone/119", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/119/labels", "id": 8610799, "node_id": "MI_kwDOANdm_M4Ag2Pv", "number": 119, "title": "1.3.4", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-11-02T23:04:42Z", "updated_at": "2022-11-17T01:33:51Z", "due_on": null, "closed_at": "2022-11-17T01:33:51Z"}, "comments": 1, "created_at": "2022-06-23T01:08:30Z", "updated_at": "2022-11-12T13:17:33Z", "closed_at": "2022-11-12T13:17:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Test setup by adding these functions to test:\r\n```python\r\ncdef void *return_null_without_error() except NULL:\r\n    return NULL\r\n\r\ncdef void *raise_error() except NULL:\r\n    raise SystemError(\"Fatal Error\")\r\n\r\ndef call_return_null_without_error():\r\n    return_null_without_error()\r\n\r\ndef call_raise_error():\r\n    raise_error()\r\n```\r\n\r\nResults when running:\r\n```python\r\n>>> from rasterio._err import call_return_null_without_error, call_raise_error\r\n>>> call_return_null_without_error()\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nSystemError: <built-in function call_return_null_without_error> returned NULL without setting an exception\r\n>>> call_raise_error()\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"rasterio/_err.pyx\", line 232, in rasterio._err.call_raise_error\r\n    raise_error()\r\n  File \"rasterio/_err.pyx\", line 226, in rasterio._err.raise_error\r\n    raise SystemError(\"Fatal Error\")\r\nSystemError: Fatal Error\r\n```\r\nI think raising an exception is more clear in this scenario. Thoughts?", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2492/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2492/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2479", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2479/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2479/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2479/events", "html_url": "https://github.com/rasterio/rasterio/issues/2479", "id": 1268293770, "node_id": "I_kwDOANdm_M5LmKCK", "number": 2479, "title": "DOC: A confusing description of a DatasetBase.descriptions property:  described as returning a list while it is a tuple ", "user": {"login": "vitalizzare", "id": 72524604, "node_id": "MDQ6VXNlcjcyNTI0NjA0", "avatar_url": "https://avatars.githubusercontent.com/u/72524604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vitalizzare", "html_url": "https://github.com/vitalizzare", "followers_url": "https://api.github.com/users/vitalizzare/followers", "following_url": "https://api.github.com/users/vitalizzare/following{/other_user}", "gists_url": "https://api.github.com/users/vitalizzare/gists{/gist_id}", "starred_url": "https://api.github.com/users/vitalizzare/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vitalizzare/subscriptions", "organizations_url": "https://api.github.com/users/vitalizzare/orgs", "repos_url": "https://api.github.com/users/vitalizzare/repos", "events_url": "https://api.github.com/users/vitalizzare/events{/privacy}", "received_events_url": "https://api.github.com/users/vitalizzare/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-06-11T14:41:12Z", "updated_at": "2022-07-29T02:47:30Z", "closed_at": "2022-07-29T02:47:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/rasterio/rasterio/blob/b2ef88f97e841ca34a8d74a458f15287f8a70e80/rasterio/_base.pyx#L682\r\n\r\nThe doc-string says:\r\n```\r\n        Returns\r\n        -------\r\n        list of str\r\n```\r\nBut a tuple is returned:\r\n```\r\n        ...\r\n            self._descriptions = tuple((d or None) for d in descr)\r\n        return self._descriptions\r\n```\r\nThis may result in a KeyError. The code below works with a `list` and does not work with a `tuple`:\r\n```\r\ndataset = rasterio.open(...)\r\ndf = pandas.DataFrame(...)\r\ndf[dataset.descriptions] = ...\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2479/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2474", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2474/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2474/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2474/events", "html_url": "https://github.com/rasterio/rasterio/issues/2474", "id": 1262018517, "node_id": "I_kwDOANdm_M5LON_V", "number": 2474, "title": "Different behavior in fillnodata with GDAL when smoothing_iterations > 0", "user": {"login": "mothersup", "id": 55152922, "node_id": "MDQ6VXNlcjU1MTUyOTIy", "avatar_url": "https://avatars.githubusercontent.com/u/55152922?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mothersup", "html_url": "https://github.com/mothersup", "followers_url": "https://api.github.com/users/mothersup/followers", "following_url": "https://api.github.com/users/mothersup/following{/other_user}", "gists_url": "https://api.github.com/users/mothersup/gists{/gist_id}", "starred_url": "https://api.github.com/users/mothersup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mothersup/subscriptions", "organizations_url": "https://api.github.com/users/mothersup/orgs", "repos_url": "https://api.github.com/users/mothersup/repos", "events_url": "https://api.github.com/users/mothersup/events{/privacy}", "received_events_url": "https://api.github.com/users/mothersup/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 989674718, "node_id": "MDU6TGFiZWw5ODk2NzQ3MTg=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/upstream", "name": "upstream", "color": "ef5fbf", "default": false, "description": ""}, {"id": 1183053396, "node_id": "MDU6TGFiZWwxMTgzMDUzMzk2", "url": "https://api.github.com/repos/rasterio/rasterio/labels/needs%20discussion", "name": "needs discussion", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/116", "html_url": "https://github.com/rasterio/rasterio/milestone/116", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/116/labels", "id": 8179113, "node_id": "MI_kwDOANdm_M4AfM2p", "number": 116, "title": "1.3.1", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2022-07-08T14:26:58Z", "updated_at": "2022-08-18T03:59:45Z", "due_on": null, "closed_at": "2022-08-18T03:59:45Z"}, "comments": 5, "created_at": "2022-06-06T15:39:10Z", "updated_at": "2022-08-18T01:49:18Z", "closed_at": "2022-08-18T01:49:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI was using interpolation to fill empty values (*NaN*) in a raster (or simply np.array). I would expect \r\n  \r\n  1. The result of `rasterio.fill.fillnodata` and `gdal.FillNodata` to be the same under the same set of parameters.\r\n  2. Even with `smoothing_iterations` > 0, the raster would have no *NaN*'s after running `rasterio.fill.fillnodata`.\r\n\r\nThe actual behavior are\r\n  1. `rasterio.fill.fillnodata` and `gdal.FillNodata` gives different values when `smoothing_iteration` **> 0**.\r\n  2. After running `rasterio.fill.fillnodata`, some cells are still *NaN*. This is not seen in `gdal.FillNodata`, as the values are all non *NaN*.\r\n\r\nThe behavior for both functions under `smoothing_iterations` = 0 is the same though.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nHere I used a 5 $\\times$ 5 array to reproduce the problem.\r\n\r\n### Code\r\n\r\n```\r\nfrom osgeo import gdal\r\nimport numpy as np\r\nimport rasterio\r\nfrom rasterio.fill import fillnodata\r\n\r\n# setup array\r\nar = np.full((5, 5), np.nan)\r\nar[0, 0] = 5\r\nar[4, 4] = 10\r\n\r\n# use `gdal.FillNodata`\r\ndriver = gdal.GetDriverByName('MEM')\r\nsrc_ds = driver.Create('', 5, 5, 1, eType=gdal.GDT_Float64)\r\nsrc_ds.GetRasterBand(1).WriteArray(ar)\r\nsrc_ds.GetRasterBand(1).SetNoDataValue(np.nan)\r\ngdal_filled = src_ds.GetRasterBand(1)\r\ngdal.FillNodata(targetBand=gdal_filled, maskBand=None, maxSearchDist=100,\r\n                smoothingIterations=10)\r\nband2.ReadAsArray()\r\n\r\n# use `rasterio.fill.fillnodata`\r\nrio_filled = fillnodata(ar, ~np.isnan(ar), smoothing_iterations=10)\r\n\r\n# print results\r\nprint(gdal_filled.ReadAsArray())\r\nprint(rio_filled)\r\n```\r\n\r\n### Outputs\r\n#### Result from `gdal.FillNodata`\r\n\r\n```\r\n[[ 5.          5.83333349  6.54508495  7.10582304  8.33333302]\r\n [ 6.32579899  6.56685448  7.03844786  7.55719614  7.81131172]\r\n [ 7.03526783  7.20659351  7.56178665  7.92615461  8.11460972]\r\n [ 7.45309019  7.64245415  8.04526424  8.50459099  8.74629498]\r\n [ 7.5         7.89417696  8.45491505  9.16666698 10.        ]]\r\n```\r\n\r\n#### Result from `rasterio.fill.fillnodata`\r\n\r\n```\r\n[[ 5.          5.83333349  6.54508495  7.10582304  8.33333302]\r\n [ 5.          5.                 nan         nan         nan]\r\n [        nan         nan         nan         nan         nan]\r\n [        nan         nan         nan 10.         10.        ]\r\n [ 7.5         7.89417696  8.45491505  9.16666698 10.        ]]\r\n```\r\n\r\n#### Environment Information\r\n\r\nI have tested on both `rasterio` version 1.2.10 and 1.3a3\r\n\r\nFor **rasterio version: 1.2.10**:\r\n - rasterio version: 1.2.10\r\n - GDAL version: 3.4.2\r\n - Python version: 3.10.4 | packaged by conda-forge | (main, Mar 24 2022, 17:38:57) [GCC 10.3.0]\r\n - Operation System Information: Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.35\r\n\r\nFor **rasterio version: 1.3a3**:\r\n - rasterio version: 1.3a3\r\n - GDAL version: 3.4.0\r\n - Python version: 3.10.4 | packaged by conda-forge | (main, Mar 24 2022, 17:38:57) [GCC 10.3.0]\r\n - Operation System Information: Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.35\r\n\r\n## Installation Method\r\n\r\nBoth version are installed by `conda 4.12.0` and `mamba 0.24.0`. The commands are:\r\n - rasterio 1.2.10: `mamba install -c conda-forge rasterio `\r\n - rasterio 1.3a3: `mamba install -c conda-forge/label/rasterio_dev rasterio`\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2474/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2474/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2455", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2455/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2455/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2455/events", "html_url": "https://github.com/rasterio/rasterio/issues/2455", "id": 1219603243, "node_id": "I_kwDOANdm_M5Isasr", "number": 2455, "title": "BUG: Use GDAL_CURL_CA_BUNDLE", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 0, "created_at": "2022-04-29T02:11:10Z", "updated_at": "2022-05-09T18:22:59Z", "closed_at": "2022-05-09T18:22:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Related:\r\n- https://github.com/Toblerity/Fiona/issues/1091\r\n- https://github.com/OSGeo/gdal/pull/3025", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2455/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2450", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2450/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2450/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2450/events", "html_url": "https://github.com/rasterio/rasterio/pull/2450", "id": 1211088286, "node_id": "PR_kwDOANdm_M42j7e9", "number": 2450, "title": "BUG: Fix output file dtype in merge", "user": {"login": "JotaFan", "id": 23263893, "node_id": "MDQ6VXNlcjIzMjYzODkz", "avatar_url": "https://avatars.githubusercontent.com/u/23263893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JotaFan", "html_url": "https://github.com/JotaFan", "followers_url": "https://api.github.com/users/JotaFan/followers", "following_url": "https://api.github.com/users/JotaFan/following{/other_user}", "gists_url": "https://api.github.com/users/JotaFan/gists{/gist_id}", "starred_url": "https://api.github.com/users/JotaFan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JotaFan/subscriptions", "organizations_url": "https://api.github.com/users/JotaFan/orgs", "repos_url": "https://api.github.com/users/JotaFan/repos", "events_url": "https://api.github.com/users/JotaFan/events{/privacy}", "received_events_url": "https://api.github.com/users/JotaFan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 5, "created_at": "2022-04-21T13:59:06Z", "updated_at": "2022-04-24T02:47:55Z", "closed_at": "2022-04-24T02:47:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2450", "html_url": "https://github.com/rasterio/rasterio/pull/2450", "diff_url": "https://github.com/rasterio/rasterio/pull/2450.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2450.patch", "merged_at": "2022-04-24T02:47:54Z"}, "body": "When passing dtype as a parameter in merge, the output file was not compliant with the docstring explicit behavior. This was due to the given dtype being only used for the array, and not updated in the out_profile.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2450/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2434", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2434/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2434/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2434/events", "html_url": "https://github.com/rasterio/rasterio/pull/2434", "id": 1197860784, "node_id": "PR_kwDOANdm_M415Znu", "number": 2434, "title": "Produce slices that don't erronously select from an array", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 4, "created_at": "2022-04-08T21:36:29Z", "updated_at": "2022-04-11T17:15:54Z", "closed_at": "2022-04-11T16:54:27Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2434", "html_url": "https://github.com/rasterio/rasterio/pull/2434", "diff_url": "https://github.com/rasterio/rasterio/pull/2434.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2434.patch", "merged_at": "2022-04-11T16:54:26Z"}, "body": "By subtracting array dimensions from the slice indexes when they are left of the dial (negative).\r\n\r\nResolves #2378", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2434/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2434/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2432", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2432/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2432/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2432/events", "html_url": "https://github.com/rasterio/rasterio/pull/2432", "id": 1195301801, "node_id": "PR_kwDOANdm_M41xUN-", "number": 2432, "title": "No more epsilon usage in transform.rowcol and window.from_bounds", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 0, "created_at": "2022-04-06T23:28:38Z", "updated_at": "2022-12-17T01:16:33Z", "closed_at": "2022-04-08T16:48:00Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2432", "html_url": "https://github.com/rasterio/rasterio/pull/2432", "diff_url": "https://github.com/rasterio/rasterio/pull/2432.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2432.patch", "merged_at": "2022-04-08T16:47:59Z"}, "body": "Responsibility is on the caller (merge.merge).\r\n\r\nResolves #2374\r\n\r\nThe gist of it: https://github.com/rasterio/rasterio/pull/2432/commits/dcc9ef498c10b33231c3b81eecaaed2ccb677840#diff-59130575b4fb2932c957db2922977d7d89afb0b2085357db1a14615a2fcad776R12-R15", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2432/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2430", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2430/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2430/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2430/events", "html_url": "https://github.com/rasterio/rasterio/pull/2430", "id": 1193728292, "node_id": "PR_kwDOANdm_M41sAJt", "number": 2430, "title": "Fix rpcs parsing", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 4, "created_at": "2022-04-05T21:18:55Z", "updated_at": "2022-04-07T15:01:34Z", "closed_at": "2022-04-07T15:01:34Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2430", "html_url": "https://github.com/rasterio/rasterio/pull/2430", "diff_url": "https://github.com/rasterio/rasterio/pull/2430.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2430.patch", "merged_at": "2022-04-07T15:01:34Z"}, "body": "New PR since I fumbled #2419. Sorry about that @ungarj ! @underchemist can I get a review from you? Aren't the values supposed to be floats? Does GDAL intentionally or only accidentally trim off the units?", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2430/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2430/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2428", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2428/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2428/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2428/events", "html_url": "https://github.com/rasterio/rasterio/pull/2428", "id": 1193360180, "node_id": "PR_kwDOANdm_M41qxCg", "number": 2428, "title": "DatasetReader and Writer now accept string filenames and URLs", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 0, "created_at": "2022-04-05T15:37:44Z", "updated_at": "2022-04-05T16:27:39Z", "closed_at": "2022-04-05T16:27:34Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2428", "html_url": "https://github.com/rasterio/rasterio/pull/2428", "diff_url": "https://github.com/rasterio/rasterio/pull/2428.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2428.patch", "merged_at": "2022-04-05T16:27:33Z"}, "body": "This was the intent for some time, but there were a few bugs and no tests that called the constructors directly. Now there are.\r\n\r\nResolves #2426", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2428/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2425", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2425/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2425/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2425/events", "html_url": "https://github.com/rasterio/rasterio/pull/2425", "id": 1190473302, "node_id": "PR_kwDOANdm_M41hV6G", "number": 2425, "title": "BUG: Allow compound EPSG strings", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 0, "created_at": "2022-04-02T02:52:44Z", "updated_at": "2022-04-05T21:31:59Z", "closed_at": "2022-04-05T21:30:20Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2425", "html_url": "https://github.com/rasterio/rasterio/pull/2425", "diff_url": "https://github.com/rasterio/rasterio/pull/2425.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2425.patch", "merged_at": "2022-04-05T21:30:20Z"}, "body": null, "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2425/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2423", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2423/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2423/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2423/events", "html_url": "https://github.com/rasterio/rasterio/pull/2423", "id": 1190191721, "node_id": "PR_kwDOANdm_M41gnq2", "number": 2423, "title": "Rename rasterio.path to rasterio._path", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 6, "created_at": "2022-04-01T19:27:53Z", "updated_at": "2022-12-17T01:16:37Z", "closed_at": "2022-04-05T20:05:10Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2423", "html_url": "https://github.com/rasterio/rasterio/pull/2423", "diff_url": "https://github.com/rasterio/rasterio/pull/2423.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2423.patch", "merged_at": "2022-04-05T20:05:09Z"}, "body": "And add a _ to the start of all member names. It was a mistake to expose this module and its members in the public API. The potential for confusion with other modules and classes is high. Our rasterio._path is all about the dirty details of interfacing with GDAL. We should be sparing Rasterio users from thinking about this stuff.\r\n\r\nThis change would break a number of serious projects, so after renaming path.py to  _path.py the PR also adds a new path.py which only imports members of _path.py under aliases. This preserves compatibility. Importing anything from path.py results in a deprecation warning. Rasterio's own code only uses _path.py, however, and doesn't cause this warning.\r\n\r\nIn the future, we will delete path.py, delete one test, and that's it as far as rasterio is concerned.\r\n\r\nResolves #2365", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2423/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2422", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2422/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2422/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2422/events", "html_url": "https://github.com/rasterio/rasterio/pull/2422", "id": 1189976374, "node_id": "PR_kwDOANdm_M41f5wF", "number": 2422, "title": "Fix ignored z values when using transform mixin methods with rpcs", "user": {"login": "underchemist", "id": 5283998, "node_id": "MDQ6VXNlcjUyODM5OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5283998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/underchemist", "html_url": "https://github.com/underchemist", "followers_url": "https://api.github.com/users/underchemist/followers", "following_url": "https://api.github.com/users/underchemist/following{/other_user}", "gists_url": "https://api.github.com/users/underchemist/gists{/gist_id}", "starred_url": "https://api.github.com/users/underchemist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/underchemist/subscriptions", "organizations_url": "https://api.github.com/users/underchemist/orgs", "repos_url": "https://api.github.com/users/underchemist/repos", "events_url": "https://api.github.com/users/underchemist/events{/privacy}", "received_events_url": "https://api.github.com/users/underchemist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 0, "created_at": "2022-04-01T15:41:36Z", "updated_at": "2022-04-05T21:21:32Z", "closed_at": "2022-04-05T21:21:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2422", "html_url": "https://github.com/rasterio/rasterio/pull/2422", "diff_url": "https://github.com/rasterio/rasterio/pull/2422.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2422.patch", "merged_at": "2022-04-05T21:21:31Z"}, "body": "closes #2421 ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2422/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2422/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2421", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2421/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2421/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2421/events", "html_url": "https://github.com/rasterio/rasterio/issues/2421", "id": 1189644776, "node_id": "I_kwDOANdm_M5G6Ino", "number": 2421, "title": " xy transform with rpcs not sensitive to the input argument z and incorrect", "user": {"login": "SimoneDeGasperis", "id": 36958248, "node_id": "MDQ6VXNlcjM2OTU4MjQ4", "avatar_url": "https://avatars.githubusercontent.com/u/36958248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimoneDeGasperis", "html_url": "https://github.com/SimoneDeGasperis", "followers_url": "https://api.github.com/users/SimoneDeGasperis/followers", "following_url": "https://api.github.com/users/SimoneDeGasperis/following{/other_user}", "gists_url": "https://api.github.com/users/SimoneDeGasperis/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimoneDeGasperis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimoneDeGasperis/subscriptions", "organizations_url": "https://api.github.com/users/SimoneDeGasperis/orgs", "repos_url": "https://api.github.com/users/SimoneDeGasperis/repos", "events_url": "https://api.github.com/users/SimoneDeGasperis/events{/privacy}", "received_events_url": "https://api.github.com/users/SimoneDeGasperis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 2, "created_at": "2022-04-01T11:15:49Z", "updated_at": "2022-04-05T21:21:31Z", "closed_at": "2022-04-05T21:21:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI expect that when applying xy method from https://github.com/rasterio/rasterio/blob/master/rasterio/transform.py by specifying rpcs as TransformMethod the result can be different according to the input argument z.\r\nMoreover, in both cases the output coordinates are far from the true coordinates.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nfrom rasterio.enums import TransformMethod\r\nimport rasterio\r\n\r\nwith rasterio.open('tests/data/RGB.byte.rpc.vrt', 'r') as test_raster:\r\n    x,y = test_raster.xy(row=0, col=0, z=0, transform_method=TransformMethod.rpcs)\r\n    print(x,y)\r\n    x,y = test_raster.xy(row=0, col=0, z=2000, transform_method=TransformMethod.rpcs)\r\n    print(x,y)\r\n```\r\nOutput:\r\n-123.47959047080701 49.52794990575094\r\n-123.47959047080701 49.52794990575094\r\n\r\nExpected coordinates (by QGIS)\r\n-78.484675 25.510018\r\n\r\n## Operating system\r\n\r\nUbuntu 21.04\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio      1.3a3", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2421/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2421/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2419", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2419/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2419/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2419/events", "html_url": "https://github.com/rasterio/rasterio/pull/2419", "id": 1184997891, "node_id": "PR_kwDOANdm_M41PKnz", "number": 2419, "title": "fix RPC metadata parsing", "user": {"login": "ungarj", "id": 3802285, "node_id": "MDQ6VXNlcjM4MDIyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/3802285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ungarj", "html_url": "https://github.com/ungarj", "followers_url": "https://api.github.com/users/ungarj/followers", "following_url": "https://api.github.com/users/ungarj/following{/other_user}", "gists_url": "https://api.github.com/users/ungarj/gists{/gist_id}", "starred_url": "https://api.github.com/users/ungarj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ungarj/subscriptions", "organizations_url": "https://api.github.com/users/ungarj/orgs", "repos_url": "https://api.github.com/users/ungarj/repos", "events_url": "https://api.github.com/users/ungarj/events{/privacy}", "received_events_url": "https://api.github.com/users/ungarj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 2, "created_at": "2022-03-29T14:54:27Z", "updated_at": "2022-04-05T21:20:42Z", "closed_at": "2022-04-05T21:16:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2419", "html_url": "https://github.com/rasterio/rasterio/pull/2419", "diff_url": "https://github.com/rasterio/rasterio/pull/2419.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2419.patch", "merged_at": "2022-04-05T21:16:56Z"}, "body": "We have a RPC referenced file from a customer with tags that cause a `ValueError` when calling rasterio `src.rpcs`:\r\n\r\n```\r\n$ gdalinfo foo.tif\r\n...\r\nRPC Metadata:\r\n  HEIGHT_OFF=482.50 meters\r\n  HEIGHT_SCALE=397.45 meters\r\n  LAT_OFF=26.80851366 degrees\r\n  LAT_SCALE=0.08428740 degrees\r\n...\r\n```\r\nObviously the units are not expected here but using `gdalwarp` seems to be fault tolerant as it can warp the file correctly.\r\n\r\nThis PR fixes this behavior but I don't have a small enough example image to add a test case. Is this an issue?\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2419/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2415", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2415/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2415/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2415/events", "html_url": "https://github.com/rasterio/rasterio/issues/2415", "id": 1178664605, "node_id": "I_kwDOANdm_M5GQP6d", "number": 2415, "title": "Segfault in _crs_matches using COG with compound coordinate system.", "user": {"login": "hobu", "id": 87751, "node_id": "MDQ6VXNlcjg3NzUx", "avatar_url": "https://avatars.githubusercontent.com/u/87751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hobu", "html_url": "https://github.com/hobu", "followers_url": "https://api.github.com/users/hobu/followers", "following_url": "https://api.github.com/users/hobu/following{/other_user}", "gists_url": "https://api.github.com/users/hobu/gists{/gist_id}", "starred_url": "https://api.github.com/users/hobu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hobu/subscriptions", "organizations_url": "https://api.github.com/users/hobu/orgs", "repos_url": "https://api.github.com/users/hobu/repos", "events_url": "https://api.github.com/users/hobu/events{/privacy}", "received_events_url": "https://api.github.com/users/hobu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 6, "created_at": "2022-03-23T21:04:20Z", "updated_at": "2022-03-30T00:15:01Z", "closed_at": "2022-03-30T00:15:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In a file with a compound coordinate system, the CRS matching is segfaulting.\r\n\r\n```\r\n * frame #0: 0x000000019fcfd884 libsystem_platform.dylib`_platform_strlen + 4\r\n    frame #1: 0x000000010006669c python`PyBytes_FromString + 32\r\n    frame #2: 0x00000001295732b0 _crs.cpython-310-darwin.so`__pyx_pw_8rasterio_4_crs_4_CRS_13_matches + 1008\r\n```\r\n\r\n```\r\nimport rasterio\r\nraster = rasterio.open('zip://test.zip!test.tif')\r\ncrs = raster.read_crs()\r\nprint (crs)\r\n```\r\n\r\n[test.zip](https://github.com/rasterio/rasterio/files/8336667/test.zip)\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2415/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2399", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2399/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2399/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2399/events", "html_url": "https://github.com/rasterio/rasterio/issues/2399", "id": 1157270782, "node_id": "I_kwDOANdm_M5E-oz-", "number": 2399, "title": "Inferred type of DatasetReader changes when calling a member", "user": {"login": "Battleman", "id": 6746316, "node_id": "MDQ6VXNlcjY3NDYzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/6746316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Battleman", "html_url": "https://github.com/Battleman", "followers_url": "https://api.github.com/users/Battleman/followers", "following_url": "https://api.github.com/users/Battleman/following{/other_user}", "gists_url": "https://api.github.com/users/Battleman/gists{/gist_id}", "starred_url": "https://api.github.com/users/Battleman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Battleman/subscriptions", "organizations_url": "https://api.github.com/users/Battleman/orgs", "repos_url": "https://api.github.com/users/Battleman/repos", "events_url": "https://api.github.com/users/Battleman/events{/privacy}", "received_events_url": "https://api.github.com/users/Battleman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 6, "created_at": "2022-03-02T14:28:27Z", "updated_at": "2022-03-30T14:26:53Z", "closed_at": "2022-03-30T12:06:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Preface\r\nI'm not sure if this is pylint's or rasterio's fault, but as Codium's intellisense also seems to be triggered, I tend to blame rasterio. \r\n\r\n## Expected behavior and actual behavior.\r\nThe following code:\r\n```py\r\n\"\"\"Module doc.\"\"\"\r\nimport rasterio\r\nsrc = rasterio(\"myfile.tif\")\r\nprint(src.bounds)\r\nprint(src.bounds)\r\n```\r\nShould pass all linting. Unfortunately Pylint complains on the last line:\r\n```\r\ntest.py:4:6: E1101: Generator 'generator' has no 'bounds' member (no-member)\r\ntest.py:4:6: E1101: Generator 'generator' has no 'bounds' member (no-member)\r\n```\r\n\r\nWhereas simply calling one member/method on `src` works:\r\n```py\r\n\"\"\"Module doc.\"\"\"\r\nimport rasterio\r\nsrc = rasterio(\"myfile.tif\")\r\nprint(src.bounds)\r\n```\r\n\r\nOther combinations of the two last lines also fail on the second one:\r\n\r\n```py\r\nprint(src.bounds)\r\nprint(src.count) # <-- no attribute \"count\"\r\n```\r\n```py\r\nprint(src.block_size())\r\nprint(src.bounds) # <-- no attribute \"bounds\"\r\n```\r\n\r\nIt seems any call on `src` results in changing its inferred type to a `generator`. More interestingly even is the fact that there are two identical fails.\r\n\r\n## Steps to reproduce the problem.\r\nPut the example code in a file `test.py`\r\n```bash\r\nconda create -n mytest -y\r\nconda activate mytest\r\nconda install -y -c conda-forge python=3.8 rasterio pylint\r\npylint test.py\r\n```\r\nSame behavior with pip:\r\n\r\n```bash\r\npython3 -m venv .venv\r\nsource .venv/bin/activate\r\npip install rasterio pylint\r\npylint test.py\r\n```\r\n\r\n\r\n## Operating system\r\nPop!_OS 21.10\r\n\r\n## Rasterio version and provenance\r\n* With conda: `rasterio 1.2.10 py38hc13c803_4` using `conda 4.11.0` and `pylint 2.12.2`.\r\n* With pip/venv: `rasterio==1.2.10`, with `pip==22.0.3` and `pylint==2.12.2`\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2399/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2395", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2395/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2395/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2395/events", "html_url": "https://github.com/rasterio/rasterio/pull/2395", "id": 1134814800, "node_id": "PR_kwDOANdm_M4ypZgX", "number": 2395, "title": "Catch overflows in from_epsg and raise CRSError (#2394)", "user": {"login": "a-gn", "id": 32413451, "node_id": "MDQ6VXNlcjMyNDEzNDUx", "avatar_url": "https://avatars.githubusercontent.com/u/32413451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a-gn", "html_url": "https://github.com/a-gn", "followers_url": "https://api.github.com/users/a-gn/followers", "following_url": "https://api.github.com/users/a-gn/following{/other_user}", "gists_url": "https://api.github.com/users/a-gn/gists{/gist_id}", "starred_url": "https://api.github.com/users/a-gn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a-gn/subscriptions", "organizations_url": "https://api.github.com/users/a-gn/orgs", "repos_url": "https://api.github.com/users/a-gn/repos", "events_url": "https://api.github.com/users/a-gn/events{/privacy}", "received_events_url": "https://api.github.com/users/a-gn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 2, "created_at": "2022-02-12T23:48:26Z", "updated_at": "2022-08-18T15:41:46Z", "closed_at": "2022-03-30T15:12:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2395", "html_url": "https://github.com/rasterio/rasterio/pull/2395", "diff_url": "https://github.com/rasterio/rasterio/pull/2395.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2395.patch", "merged_at": "2022-03-30T15:12:04Z"}, "body": "This fixes #2394. Catching `OverflowError` in Cython in `crs.pyx` somehow didn't work (`OverflowError` was still raised in Python), so I caught it in Python instead.\r\n\r\nThe test passes a large enough argument to `from_epsg` to cause an `OverflowError`. Not sure if it's needed.\r\n\r\nEdit: sorry about the unrelated removed space on line 578, I have VSCode configured to remove trailing spaces.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2395/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2394", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2394/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2394/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2394/events", "html_url": "https://github.com/rasterio/rasterio/issues/2394", "id": 1134735588, "node_id": "I_kwDOANdm_M5DorDk", "number": 2394, "title": "Uncaught OverflowError when comparing a CRS to an object of some types", "user": {"login": "a-gn", "id": 32413451, "node_id": "MDQ6VXNlcjMyNDEzNDUx", "avatar_url": "https://avatars.githubusercontent.com/u/32413451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a-gn", "html_url": "https://github.com/a-gn", "followers_url": "https://api.github.com/users/a-gn/followers", "following_url": "https://api.github.com/users/a-gn/following{/other_user}", "gists_url": "https://api.github.com/users/a-gn/gists{/gist_id}", "starred_url": "https://api.github.com/users/a-gn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a-gn/subscriptions", "organizations_url": "https://api.github.com/users/a-gn/orgs", "repos_url": "https://api.github.com/users/a-gn/repos", "events_url": "https://api.github.com/users/a-gn/events{/privacy}", "received_events_url": "https://api.github.com/users/a-gn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 4, "created_at": "2022-02-12T22:44:49Z", "updated_at": "2022-03-30T15:12:04Z", "closed_at": "2022-03-30T15:12:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\nThis is a followup of https://github.com/rasterio/rasterio/issues/1439#issuecomment-1037447833.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI expected this code:\r\n\r\n```python\r\nfrom rasterio.crs import CRS\r\nprint(CRS.from_epsg(4326) == 1111111111111111111)\r\n```\r\n\r\n...to print `False` (based on [this pull request](https://github.com/rasterio/rasterio/pull/1754)).\r\n\r\nInstead, it raises an `OverflowError`:\r\n\r\n```\r\n% python3 crs_eq.py\r\nTraceback (most recent call last):\r\n  File \"crs_eq.py\", line 2, in <module>\r\n    print(CRS.from_epsg(4326) == 1111111111111111111)\r\n  File \"/Users/arno/venv/all3.8/lib/python3.8/site-packages/rasterio/crs.py\", line 89, in __eq__\r\n    other = CRS.from_user_input(other)\r\n  File \"/Users/arno/venv/all3.8/lib/python3.8/site-packages/rasterio/crs.py\", line 492, in from_user_input\r\n    return cls.from_epsg(value)\r\n  File \"/Users/arno/venv/all3.8/lib/python3.8/site-packages/rasterio/crs.py\", line 333, in from_epsg\r\n    obj._crs = _CRS.from_epsg(code)\r\n  File \"rasterio/_crs.pyx\", line 330, in rasterio._crs._CRS.from_epsg\r\nOverflowError: value too large to convert to int\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\nRun this script:\r\n\r\n```python\r\nfrom rasterio.crs import CRS\r\nprint(CRS.from_epsg(4326) == 1111111111111111111)\r\n```\r\n\r\n## Operating system\r\n\r\nmacOS Monterey 12.2.1 (ARM64) and Ubuntu 20.04 (AMD64).\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 1.2.10 from PyPI using pip 22.0.2 and GDAL 3.4.1\r\n\r\n## Suggestion\r\n\r\nThe [docs of from_user_input](https://github.com/rasterio/rasterio/blob/72a7e86be0b1c5f06ea4f07763bff450a8e91753/rasterio/crs.py#L466) say that it accepts \"A Python int, dict, or str\", but [`CRS.__eq__`](https://github.com/rasterio/rasterio/blob/72a7e86be0b1c5f06ea4f07763bff450a8e91753/rasterio/crs.py#L87) always passes its argument to `from_user_input`. Maybe `__eq__` could  check the argument's type first? Something like:\r\n\r\n```python\r\n    def __eq__(self, other):\r\n        if (isinstance(other, (int, str, dict, CRS))):\r\n            try:\r\n                other = CRS.from_user_input(other)\r\n            except CRSError:\r\n                return False\r\n            return (self._crs == other._crs)\r\n        else:\r\n            return False\r\n```\r\n\r\nOr it could just catch `OverflowError`, but I don't know if that's the only exception that can be raised by `CRS.from_user_input`.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2394/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2393", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2393/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2393/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2393/events", "html_url": "https://github.com/rasterio/rasterio/pull/2393", "id": 1129366026, "node_id": "PR_kwDOANdm_M4yWBk6", "number": 2393, "title": "BUG: Prevent core dump with invalid input to rasterize", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 2, "created_at": "2022-02-10T02:47:45Z", "updated_at": "2022-04-08T14:01:51Z", "closed_at": "2022-04-08T13:55:37Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2393", "html_url": "https://github.com/rasterio/rasterio/pull/2393", "diff_url": "https://github.com/rasterio/rasterio/pull/2393.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2393.patch", "merged_at": "2022-04-08T13:55:37Z"}, "body": "Closes #2385", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2393/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2385", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2385/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2385/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2385/events", "html_url": "https://github.com/rasterio/rasterio/issues/2385", "id": 1116433307, "node_id": "I_kwDOANdm_M5Ci2ub", "number": 2385, "title": "Segmentation fault when calling `rasterio.features.rasterize` with specific LineString geometries", "user": {"login": "a-gn", "id": 32413451, "node_id": "MDQ6VXNlcjMyNDEzNDUx", "avatar_url": "https://avatars.githubusercontent.com/u/32413451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a-gn", "html_url": "https://github.com/a-gn", "followers_url": "https://api.github.com/users/a-gn/followers", "following_url": "https://api.github.com/users/a-gn/following{/other_user}", "gists_url": "https://api.github.com/users/a-gn/gists{/gist_id}", "starred_url": "https://api.github.com/users/a-gn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a-gn/subscriptions", "organizations_url": "https://api.github.com/users/a-gn/orgs", "repos_url": "https://api.github.com/users/a-gn/repos", "events_url": "https://api.github.com/users/a-gn/events{/privacy}", "received_events_url": "https://api.github.com/users/a-gn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-27T15:58:54Z", "updated_at": "2022-04-08T13:55:37Z", "closed_at": "2022-04-08T13:55:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI expected the following script to run to the end with no output:\r\n\r\n```python3\r\nfrom numpy import array\r\nimport rasterio.features\r\n\r\nshapes = [\r\n    (\r\n        {\r\n            \"type\": \"LineString\",\r\n            \"coordinates\": array(\r\n                [\r\n                    [425596.0123443, 4932971.35636043],\r\n                    [425598.03434254, 4932966.09916503],\r\n                    [425592.56573176, 4932963.99585319],\r\n                    [425590.54373353, 4932969.2530486],\r\n                    [425596.0123443, 4932971.35636043],\r\n                ]\r\n            ),\r\n        },\r\n        2,\r\n    ),\r\n    (\r\n        {\r\n            \"type\": \"LineString\",\r\n            \"coordinates\": array(\r\n                [\r\n                    [425582.9243515, 4932973.24623693],\r\n                    [425592.85588065, 4932951.94800393],\r\n                    [425584.24595668, 4932947.93313045],\r\n                    [425574.31442752, 4932969.23136344],\r\n                    [425582.9243515, 4932973.24623693],\r\n                ]\r\n            ),\r\n        },\r\n        2,\r\n    ),\r\n]\r\n\r\nrasterio.features.rasterize(shapes=shapes, out_shape=(100, 100))\r\n```\r\n\r\nInstead, I got a segfault:\r\n\r\n```\r\n$ python test_rasterize_crash.py \r\nSegmentation fault (core dumped)\r\n```\r\n\r\n## Operating system\r\n\r\nReproduced on:\r\n- Ubuntu 20.04.3 LTS, 64 bits\r\n- Windows 10 21H2, 64 bits\r\n\r\n## Rasterio version and provenance\r\n\r\n- On Ubuntu: rasterio 1.2.10, installed with pip 21.3.1. Linked with GDAL 3.0.4+dfsg-1build3 and Python 3.9 from Ubuntu 20.04's default repositories.\r\n- On Windows: rasterio 1.1.8, as installed in QGIS 3.16's Python environment.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2385/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2382", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2382/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2382/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2382/events", "html_url": "https://github.com/rasterio/rasterio/issues/2382", "id": 1106778412, "node_id": "I_kwDOANdm_M5B-Bks", "number": 2382, "title": "Window (boundless) with negative offset may result in resampling", "user": {"login": "caspervdw", "id": 8937919, "node_id": "MDQ6VXNlcjg5Mzc5MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/8937919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caspervdw", "html_url": "https://github.com/caspervdw", "followers_url": "https://api.github.com/users/caspervdw/followers", "following_url": "https://api.github.com/users/caspervdw/following{/other_user}", "gists_url": "https://api.github.com/users/caspervdw/gists{/gist_id}", "starred_url": "https://api.github.com/users/caspervdw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caspervdw/subscriptions", "organizations_url": "https://api.github.com/users/caspervdw/orgs", "repos_url": "https://api.github.com/users/caspervdw/repos", "events_url": "https://api.github.com/users/caspervdw/events{/privacy}", "received_events_url": "https://api.github.com/users/caspervdw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 5078175067, "node_id": "LA_kwDOANdm_M8AAAABLq7NWw", "url": "https://api.github.com/repos/rasterio/rasterio/labels/obsolete", "name": "obsolete", "color": "AF90A5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 5, "created_at": "2022-01-18T11:16:15Z", "updated_at": "2023-01-25T19:42:06Z", "closed_at": "2023-01-25T17:15:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nWhen reading from a dataset in boundless mode, supplying a window with exact integer coordinates, I expect no resampling to be done.\r\nWe encountered a situation where there is resampling, which might have to do with internal conversions to coordinates. \r\nI tried to narrow it down by reducing array dimensions, but the issue went away.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nfrom rasterio.io import MemoryFile\r\nfrom rasterio.transform import Affine\r\nfrom rasterio.windows import Window\r\nimport numpy as np\r\nfrom numpy.testing import assert_almost_equal\r\n\r\n\r\nHEIGHT = 9508  # only happens for this specific height\r\ndata_array = np.arange(HEIGHT, dtype=\"f4\").reshape((HEIGHT, 1))\r\n\r\nwith MemoryFile() as memfile:\r\n    with memfile.open(\r\n        driver='GTiff',\r\n        count=1,\r\n        height=HEIGHT,\r\n        width=1,\r\n        dtype=data_array.dtype,\r\n        transform=Affine(1.0, 0.0, 0, 0.0, 1.0, 0),\r\n    ) as dataset:\r\n        dataset.write(data_array[np.newaxis, ...])\r\n\r\n    with memfile.open(driver='GTiff') as dataset:\r\n        # read first column, rows 0-388\r\n        a = dataset.read(\r\n            1,\r\n            window=Window(col_off=0, row_off=0, width=1, height=388),\r\n            boundless=True,\r\n            fill_value=-9999,\r\n        )[:, 0]\r\n        # the result is an array that increases from 0-388\r\n        assert_almost_equal(a, np.arange(388))\r\n\r\n        b = dataset.read(\r\n            1,\r\n            window=Window(col_off=0, row_off=-12, width=1, height=400),\r\n            boundless=True,\r\n            fill_value=-9999,\r\n        )[:, 0]\r\n        # the expected result is 12 * -9999 and then the same as above\r\n        try:\r\n            assert_almost_equal(b, np.concatenate([[-9999] * 12, a]))\r\n        except AssertionError:\r\n            assert b.shape == (400, )\r\n            print(\"The shape of b is correct: \", b.shape)\r\n\r\n            assert np.all(b[:12] == -9999)\r\n            print(\"The first 12 values in b are nodata\")\r\n\r\n            assert b[12] == 0\r\n            print(\"The first data value (index 12) is 0\")\r\n\r\n            assert b[-1] != 387\r\n            print(\"The last data entry of b is incorrect (expected 387): \", b[-1])\r\n\r\n            index = np.where(np.diff(b[12:]) != 1)[0][0] + 12\r\n            print(\"b skips a pixel at index \", index)\r\n            print(\"Values around there: \", b[index-2: index+3])\r\n```\r\nOutput:\r\n```\r\nThe shape of b is correct:  (400,)\r\nThe first 12 values in b are nodata\r\nThe first data value (index 12) is 0\r\nThe last data entry of b is incorrect (expected 387):  388.0\r\nb skips a pixel at index  205\r\nValues around there:  [191. 192. 193. 195. 196.]\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu 20.04\r\n\r\n## Rasterio version and provenance\r\n\r\nVersion 1.2.10 manylinux wheel installed from PyPI\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2382/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2378", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2378/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2378/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2378/events", "html_url": "https://github.com/rasterio/rasterio/issues/2378", "id": 1098808736, "node_id": "I_kwDOANdm_M5Bfn2g", "number": 2378, "title": "Conflicting meaning of negative offsets in `Window.from_bounds` vs `Window.from_slices`", "user": {"login": "gjoseph92", "id": 3309802, "node_id": "MDQ6VXNlcjMzMDk4MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3309802?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gjoseph92", "html_url": "https://github.com/gjoseph92", "followers_url": "https://api.github.com/users/gjoseph92/followers", "following_url": "https://api.github.com/users/gjoseph92/following{/other_user}", "gists_url": "https://api.github.com/users/gjoseph92/gists{/gist_id}", "starred_url": "https://api.github.com/users/gjoseph92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gjoseph92/subscriptions", "organizations_url": "https://api.github.com/users/gjoseph92/orgs", "repos_url": "https://api.github.com/users/gjoseph92/repos", "events_url": "https://api.github.com/users/gjoseph92/events{/privacy}", "received_events_url": "https://api.github.com/users/gjoseph92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 1, "created_at": "2022-01-11T07:53:53Z", "updated_at": "2022-04-11T16:54:26Z", "closed_at": "2022-04-11T16:54:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Generally, throughout the `windows` code, negative indexes are interpreted \"Python style\" as offsets from the \"end\" of the window. From `to_slices`:\r\n\r\n        Negative start indexes are evaluated relative to the lower right of the\r\n        dataset: rows=(-2, None), cols=(-2, None) defines a window that is 2\r\n        rows high and 2 columns wide starting from the bottom right.\r\n\r\nHowever, in `Window.from_bounds`, if the bounds you give start to the west/north of the transform's origin, the window will end up with negative offsets. But these aren't given relative to the lower-right of the dataset; they're negative relative to the top-left.\r\n\r\n```python\r\nfrom rasterio import windows, transform\r\nimport numpy as np\r\n\r\nt = transform.from_origin(0, 0, 1, 1)  # start at (0, 0) with 1m resolution\r\nw = windows.from_bounds(-3, -3, -1, -1, t, precision=0.0)  # window should not intersect\r\n# Window(col_off=-2.0, row_off=0.0, width=2.0, height=2.0)\r\n\r\ndata = np.arange(25).reshape(5, 5)\r\n# array([[ 0,  1,  2,  3,  4],\r\n#        [ 5,  6,  7,  8,  9],\r\n#        [10, 11, 12, 13, 14],\r\n#        [15, 16, 17, 18, 19],\r\n#        [20, 21, 22, 23, 24]])\r\n```\r\nOur window and data should be laid out like this:\r\n<img width=\"462\" alt=\"window\" src=\"https://user-images.githubusercontent.com/3309802/148901422-ea30e9fe-9b90-409e-83a6-3f2199a68330.png\">\r\n\r\n```python\r\nw.toslices()\r\n# (slice(1.0, 3.0, None), slice(-3.0, -1.0, None))\r\n# ^ NumPy will interpret those negatives as relative to the end of the array!\r\n\r\n# Slicing the array with this window returns data, even though they shouldn't overlap\r\ndata[windows.window_index(w)]\r\n# array([[ 7,  8],\r\n#        [12, 13]])\r\n```\r\n\r\nA solution here could be having `from_bounds` subtract the width/height from `row_off`/`col_off` if they're negative (make them even more negative), so they're correct when interpreted as offsets from the lower-right corner.\r\n\r\n## Operating system\r\n\r\nMac OS X 11.6\r\n\r\n## Rasterio version and provenance\r\n\r\n`rasterio-1.2.10-cp39-cp39-macosx_10_9_x86_64.whl` installed from PyPI using pip 21.3.1.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2378/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2377", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2377/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2377/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2377/events", "html_url": "https://github.com/rasterio/rasterio/issues/2377", "id": 1094885271, "node_id": "I_kwDOANdm_M5BQp-X", "number": 2377, "title": "Incompatible usage of MaskedArray.astype", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 0, "created_at": "2022-01-06T01:36:30Z", "updated_at": "2022-01-06T19:07:33Z", "closed_at": "2022-01-06T19:07:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "While updating the rasterio-wheel project, I started building and testing wheels using the oldest supported numpy for Python versions and found that we have a bug in rio-calc: https://github.com/rasterio/rasterio-wheels/runs/4721671335\r\n\r\n```\r\n                      res = snuggs.eval(command, **ctxkwds)\r\n  >                   results = res.astype(dtype, copy=False)\r\n  E                   TypeError: astype() got an unexpected keyword argument 'copy'\r\n```\r\n\r\nThe oldest supported version of numpy for Python 3.7 is 1.14, but masked array astype() didn't get `copy` or other keyword arguments until 1.15.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2377/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2371", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2371/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2371/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2371/events", "html_url": "https://github.com/rasterio/rasterio/pull/2371", "id": 1086052999, "node_id": "PR_kwDOANdm_M4wJPoQ", "number": 2371, "title": "rasterio.open returns a dataset object for all kinds of input", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 1, "created_at": "2021-12-21T17:20:55Z", "updated_at": "2022-03-30T14:26:47Z", "closed_at": "2022-01-06T16:34:19Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2371", "html_url": "https://github.com/rasterio/rasterio/pull/2371", "diff_url": "https://github.com/rasterio/rasterio/pull/2371.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2371.patch", "merged_at": "2022-01-06T16:34:19Z"}, "body": "Resolves #2360.\r\nResolves #2399.\r\n\r\nWe already had an optional context manager attached to our dataset objects, see https://github.com/rasterio/rasterio/pull/2371/files#diff-9729b3413c39ccb6eea16562e513703922f21d4d94a3e27980926dd01a0c5068L445. I've replaced it in the `have_vsi_plugin=False` case with an ExitStack. First time I've used ExitStack in the implementation of a library. Seems to do the trick.\r\n\r\nAs pointed out, this is in some ways an API change, but I consider it most of all a bug fix, and not something that requires a new version.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2371/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2371/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2366", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2366/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2366/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2366/events", "html_url": "https://github.com/rasterio/rasterio/issues/2366", "id": 1080363635, "node_id": "I_kwDOANdm_M5AZQpz", "number": 2366, "title": "Segmentation fault with rasterio master and GDAL 3.1.3", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 0, "created_at": "2021-12-14T22:38:14Z", "updated_at": "2021-12-15T21:20:08Z", "closed_at": "2021-12-15T21:20:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Discovered in https://github.com/rasterio/rasterio/pull/2344.\r\n\r\n```\r\ntests/test_warpedvrt.py \r\nThread 1 \"python\" received signal SIGSEGV, Segmentation fault.\r\n__Pyx_PyErr_GivenExceptionMatches (err=0x0, exc_type=0x1504bd0) at rasterio/_warp.cpp:27904\r\n27904       if (likely(PyExceptionClass_Check(err))) {\r\n(gdb) \r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2366/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2365", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2365/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2365/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2365/events", "html_url": "https://github.com/rasterio/rasterio/issues/2365", "id": 1078730055, "node_id": "I_kwDOANdm_M5ATB1H", "number": 2365, "title": "Move rasterio.path.Path out of public API", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 8, "created_at": "2021-12-13T16:24:30Z", "updated_at": "2022-04-05T20:05:09Z", "closed_at": "2022-04-05T20:05:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It's only intended for internal use, people shouldn't be using it in applications. Concretely, I'm proposing to move rasterio.path to rasterio._path and rename the Path* classes to _Path* in 1.3.0.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2365/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 2}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2365/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2364", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2364/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2364/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2364/events", "html_url": "https://github.com/rasterio/rasterio/pull/2364", "id": 1077677230, "node_id": "PR_kwDOANdm_M4vt33T", "number": 2364, "title": "Scaling on the right of mult preserves origin", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 0, "created_at": "2021-12-11T23:53:00Z", "updated_at": "2021-12-13T16:07:36Z", "closed_at": "2021-12-13T16:07:32Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2364", "html_url": "https://github.com/rasterio/rasterio/pull/2364", "diff_url": "https://github.com/rasterio/rasterio/pull/2364.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2364.patch", "merged_at": "2021-12-13T16:07:32Z"}, "body": "Resolves #2346", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2364/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2364/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2363", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2363/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2363/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2363/events", "html_url": "https://github.com/rasterio/rasterio/pull/2363", "id": 1077110437, "node_id": "PR_kwDOANdm_M4vsTCl", "number": 2363, "title": "warn when reprojecting with RPCs using a source CRS that is not EPSG:4326", "user": {"login": "underchemist", "id": 5283998, "node_id": "MDQ6VXNlcjUyODM5OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5283998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/underchemist", "html_url": "https://github.com/underchemist", "followers_url": "https://api.github.com/users/underchemist/followers", "following_url": "https://api.github.com/users/underchemist/following{/other_user}", "gists_url": "https://api.github.com/users/underchemist/gists{/gist_id}", "starred_url": "https://api.github.com/users/underchemist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/underchemist/subscriptions", "organizations_url": "https://api.github.com/users/underchemist/orgs", "repos_url": "https://api.github.com/users/underchemist/repos", "events_url": "https://api.github.com/users/underchemist/events{/privacy}", "received_events_url": "https://api.github.com/users/underchemist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 3, "created_at": "2021-12-10T18:16:34Z", "updated_at": "2021-12-23T03:16:03Z", "closed_at": "2021-12-23T03:16:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2363", "html_url": "https://github.com/rasterio/rasterio/pull/2363", "diff_url": "https://github.com/rasterio/rasterio/pull/2363.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2363.patch", "merged_at": "2021-12-23T03:16:03Z"}, "body": "closes #2362 \r\n\r\nAlso fixes a usage issue when passing `src_rpcs` with a dataset that also has gcps\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2363/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2363/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2362", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2362/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2362/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2362/events", "html_url": "https://github.com/rasterio/rasterio/issues/2362", "id": 1076190703, "node_id": "I_kwDOANdm_M5AJV3v", "number": 2362, "title": "Throw a warning for RPC-based reprojection and supplied source CRS other than EPSG:4326", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 2, "created_at": "2021-12-09T23:46:23Z", "updated_at": "2021-12-23T03:16:03Z", "closed_at": "2021-12-23T03:16:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "From [here](https://rasterio.readthedocs.io/en/latest/topics/reproject.html):\r\n> When reprojecting a dataset with gcps or rpcs, the src_crs parameter should be supplied with the coordinate reference system that the gcps or rpcs are referenced against. By definition rpcs are always referenced against WGS84 ellipsoid with geographic coordinates (EPSG:4326).\r\n\r\nI think it worth to throw a warning in case of reprojecting a dataset with rpcs and provided `src_crs` other than EPSG:4326.\r\n\r\ncc @underchemist ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2362/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2360", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2360/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2360/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2360/events", "html_url": "https://github.com/rasterio/rasterio/issues/2360", "id": 1074610583, "node_id": "I_kwDOANdm_M5ADUGX", "number": 2360, "title": "BUG: passing fsspec into rasterio.open returns ContextManager", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 12, "created_at": "2021-12-08T16:44:54Z", "updated_at": "2022-03-24T14:49:10Z", "closed_at": "2022-01-06T16:34:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nWhen doing this:\r\n```python\r\nimport fsspec\r\nimport rasterio\r\n\r\nfs = fsspec.filesystem('s3', anon=True)\r\ns3uri = 's3://sentinel-s1-rtc-indigo/tiles/RTC/1/IW/10/T/ET/2020/S1B_20200106_10TET_ASC/Gamma0_VV.tif'\r\n\r\nwith fs.open(s3uri) as fsh:\r\n    riods = rasterio.open(fsh)\r\n    print(riods)\r\n```\r\nOutput:\r\n```\r\n<contextlib._GeneratorContextManager object at 0x7f66e850b9a0>\r\n```\r\nHowever, if I use `with`, it works:\r\n```python\r\nimport fsspec\r\nimport rasterio\r\n\r\nfs = fsspec.filesystem('s3', anon=True)\r\ns3uri = 's3://sentinel-s1-rtc-indigo/tiles/RTC/1/IW/10/T/ET/2020/S1B_20200106_10TET_ASC/Gamma0_VV.tif'\r\n\r\nwith fs.open(s3uri) as fsh:\r\n    with rasterio.open(fsh) as riods:\r\n        print(riods)\r\n```\r\n```\r\n<open DatasetReader name='/vsimem/c44e696f-728c-4540-95d1-5ecea7c1fe91/c44e696f-728c-4540-95d1-5ecea7c1fe91.tif' mode='r'>\r\n```\r\n## Operating system\r\nOS: `Linux-5.11.0-41-generic-x86_64-with-glibc2.31`\r\nPython version: `3.9.7 | packaged by conda-forge | (default, Sep 29 2021, 19:23:11)  [GCC 9.4.0]`\r\n\r\n## Rasterio version and provenance\r\n\r\n`python -m pip install rasterio --no-binary`\r\n\r\n```\r\n>>> rasterio.__version__\r\n'1.3a2'\r\n>>> rasterio.__gdal_version__\r\n'3.4.0'\r\n```\r\n## Log messages\r\n\r\n<details>\r\n\r\n```\r\nDEBUG:Setting up s3fs instance\r\nDEBUG:Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane\r\nDEBUG:Changing event name from before-call.apigateway to before-call.api-gateway\r\nDEBUG:Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict\r\nDEBUG:Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration\r\nDEBUG:Changing event name from before-parameter-build.route53 to before-parameter-build.route-53\r\nDEBUG:Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search\r\nDEBUG:Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section\r\nDEBUG:Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask\r\nDEBUG:Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section\r\nDEBUG:Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search\r\nDEBUG:Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section\r\nDEBUG:RC: caching enabled? False (explicit option is False)\r\nDEBUG:Loading JSON file: /home/snowal/miniconda/envs/yagdal/lib/python3.9/site-packages/botocore/data/endpoints.json\r\nDEBUG:Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fc6296b4dc0>\r\nDEBUG:Loading JSON file: /home/snowal/miniconda/envs/yagdal/lib/python3.9/site-packages/botocore/data/s3/2006-03-01/service-2.json\r\nDEBUG:Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7fc6282d4ee0>\r\nDEBUG:Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7fc6282d4dc0>\r\nDEBUG:Setting s3 timeout as (5, 15)\r\nDEBUG:Certificate path: /home/snowal/miniconda/envs/yagdal/lib/python3.9/site-packages/certifi/cacert.pem\r\nDEBUG:Loading JSON file: /home/snowal/miniconda/envs/yagdal/lib/python3.9/site-packages/botocore/data/_retry.json\r\nDEBUG:Registering retry handlers for service: s3\r\nDEBUG:CALL: head_object - ({},) - {'Bucket': 'sentinel-s1-rtc-indigo', 'Key': 'tiles/RTC/1/IW/10/T/ET/2020/S1B_20200106_10TET_ASC/Gamma0_VV.tif'}\r\nDEBUG:Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7fc62954aee0>\r\nDEBUG:Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7fc62954ae50>\r\nDEBUG:Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirector.redirect_from_cache of <aiobotocore.utils.AioS3RegionRedirector object at 0x7fc62738f820>>\r\nDEBUG:Event before-parameter-build.s3.HeadObject: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7fc62738f8b0>>\r\nDEBUG:Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7fc62954aca0>\r\nDEBUG:Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7fc62954f1f0>\r\nDEBUG:Event before-call.s3.HeadObject: calling handler <bound method S3RegionRedirector.set_request_url of <aiobotocore.utils.AioS3RegionRedirector object at 0x7fc62738f820>>\r\nDEBUG:Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7fc629552550>\r\nDEBUG:Making request for OperationModel(name=HeadObject) with params: {'url_path': '/sentinel-s1-rtc-indigo/tiles/RTC/1/IW/10/T/ET/2020/S1B_20200106_10TET_ASC/Gamma0_VV.tif', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Botocore/1.22.8 Python/3.9.7 Linux/5.11.0-41-generic'}, 'body': b'', 'url': 'https://s3.amazonaws.com/sentinel-s1-rtc-indigo/tiles/RTC/1/IW/10/T/ET/2020/S1B_20200106_10TET_ASC/Gamma0_VV.tif', 'context': {'client_region': 'us-east-1', 'client_config': <aiobotocore.config.AioConfig object at 0x7fc6271e7d30>, 'has_streaming_input': False, 'auth_type': None, 'signing': {'bucket': 'sentinel-s1-rtc-indigo'}}}\r\nDEBUG:Event request-created.s3.HeadObject: calling handler <bound method AioRequestSigner.handler of <aiobotocore.signers.AioRequestSigner object at 0x7fc6271e7b50>>\r\nDEBUG:Event choose-signer.s3.HeadObject: calling handler <bound method S3EndpointSetter.set_signer of <botocore.utils.S3EndpointSetter object at 0x7fc62738f910>>\r\nDEBUG:Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7fc62954ab80>\r\nDEBUG:Event before-sign.s3.HeadObject: calling handler <bound method S3EndpointSetter.set_endpoint of <botocore.utils.S3EndpointSetter object at 0x7fc62738f910>>\r\nDEBUG:Defaulting to S3 virtual host style addressing with path style addressing fallback.\r\nDEBUG:Checking for DNS compatible bucket for: https://s3.amazonaws.com/sentinel-s1-rtc-indigo/tiles/RTC/1/IW/10/T/ET/2020/S1B_20200106_10TET_ASC/Gamma0_VV.tif\r\nDEBUG:URI updated to: https://sentinel-s1-rtc-indigo.s3.amazonaws.com/tiles/RTC/1/IW/10/T/ET/2020/S1B_20200106_10TET_ASC/Gamma0_VV.tif\r\nDEBUG:Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://sentinel-s1-rtc-indigo.s3.amazonaws.com/tiles/RTC/1/IW/10/T/ET/2020/S1B_20200106_10TET_ASC/Gamma0_VV.tif, headers={'User-Agent': b'Botocore/1.22.8 Python/3.9.7 Linux/5.11.0-41-generic'}>\r\nDEBUG:Response headers: HTTPHeaderDict({'x-amz-id-2': 'jVjoHdr2pL7XRY+fZ2eT6wsOJgVs44/9gSwEBzXwgAcy7duov0yVR4MlE/LXO/DNNvktPP3+KIw=', 'x-amz-request-id': 'SVB469XJG2ZPHJ90', 'date': 'Wed, 08 Dec 2021 16:51:55 GMT', 'last-modified': 'Thu, 24 Sep 2020 19:02:57 GMT', 'etag': '\"b30079f1e421db474ad52358071b35ab-8\"', 'x-amz-storage-class': 'INTELLIGENT_TIERING', 'x-amz-meta-absolute_orbit_number': '19690', 'x-amz-meta-date': '2020-01-06', 'x-amz-meta-number_scenes': '2', 'x-amz-meta-tile_id': '10TET', 'x-amz-meta-orbit_direction': 'ascending', 'x-amz-meta-scenes': 'S1B_IW_GRDH_1SDV_20200106T015322_20200106T015347_019690_025387_1BC3,S1B_IW_GRDH_1SDV_20200106T015257_20200106T015322_019690_025387_5DB3', 'x-amz-meta-mission_id': 'S1B', 'x-amz-version-id': '5J3sV9WqjC0psRsNk9gHSVNQ8BvtuAsK', 'accept-ranges': 'bytes', 'content-type': 'binary/octet-stream', 'server': 'AmazonS3', 'content-length': '62773343'})\r\nDEBUG:Response body:\r\nb''\r\nDEBUG:Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7fc62738f760>\r\nDEBUG:No retry needed.\r\nDEBUG:Event needs-retry.s3.HeadObject: calling handler <bound method AioS3RegionRedirector.redirect_from_error of <aiobotocore.utils.AioS3RegionRedirector object at 0x7fc62738f820>>\r\nDEBUG:Entering env context: <rasterio.env.Env object at 0x7fc629bca820>\r\nDEBUG:Starting outermost env\r\nDEBUG:No GDAL environment exists\r\nDEBUG:New GDAL environment <rasterio._env.GDALEnv object at 0x7fc6280207c0> created\r\nDEBUG:GDAL_DATA found in environment.\r\nDEBUG:PROJ_LIB found in environment.\r\nDEBUG:Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fc6280207c0>.\r\nDEBUG:Entered env context: <rasterio.env.Env object at 0x7fc629bca820>\r\nDEBUG:Exiting env context: <rasterio.env.Env object at 0x7fc629bca820>\r\nDEBUG:Cleared existing <rasterio._env.GDALEnv object at 0x7fc6280207c0> options\r\nDEBUG:Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fc6280207c0>.\r\nDEBUG:Exiting outermost env\r\nDEBUG:Exited env context: <rasterio.env.Env object at 0x7fc629bca820>\r\n```\r\n\r\n</details>", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2360/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2360/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2359", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2359/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2359/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2359/events", "html_url": "https://github.com/rasterio/rasterio/issues/2359", "id": 1074364077, "node_id": "I_kwDOANdm_M5ACX6t", "number": 2359, "title": "'adjust' parameter in plot.show defaults to string", "user": {"login": "daniellobrunello", "id": 4480835, "node_id": "MDQ6VXNlcjQ0ODA4MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/4480835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniellobrunello", "html_url": "https://github.com/daniellobrunello", "followers_url": "https://api.github.com/users/daniellobrunello/followers", "following_url": "https://api.github.com/users/daniellobrunello/following{/other_user}", "gists_url": "https://api.github.com/users/daniellobrunello/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniellobrunello/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniellobrunello/subscriptions", "organizations_url": "https://api.github.com/users/daniellobrunello/orgs", "repos_url": "https://api.github.com/users/daniellobrunello/repos", "events_url": "https://api.github.com/users/daniellobrunello/events{/privacy}", "received_events_url": "https://api.github.com/users/daniellobrunello/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 2, "created_at": "2021-12-08T12:36:45Z", "updated_at": "2021-12-13T19:57:59Z", "closed_at": "2021-12-13T19:57:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "The _adjust_ parameter in rasterio.plot.show() defaults to `'linear'`. The documentation proposes the values `'linear'` and `None`.\r\nHowever, the condition is `if adjust is True...` \r\nhttps://github.com/rasterio/rasterio/blob/d26743c4b3192af201932724a9c883e9f7f28a1d/rasterio/plot.py#L123\r\n\r\nWorks fine if _adjust_ parameter is set to `True`.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2359/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2353", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2353/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2353/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2353/events", "html_url": "https://github.com/rasterio/rasterio/issues/2353", "id": 1070801014, "node_id": "I_kwDOANdm_M4_0yB2", "number": 2353, "title": "Weird behaviour of `CPLE_AppDefinedError ` Error handling in after `calculate_default_transform` or `WarpedVRT`", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/115", "html_url": "https://github.com/rasterio/rasterio/milestone/115", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/115/labels", "id": 8098985, "node_id": "MI_kwDOANdm_M4Ae5Sp", "number": 115, "title": "1.3b2", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2022-06-20T16:02:00Z", "updated_at": "2022-06-22T18:41:22Z", "due_on": null, "closed_at": "2022-06-22T18:41:22Z"}, "comments": 15, "created_at": "2021-12-03T17:20:05Z", "updated_at": "2022-11-09T19:31:13Z", "closed_at": "2022-06-21T21:22:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nFirst reported in https://github.com/cogeotiff/rio-tiler/issues/468\r\n\r\nThere are something weird happening when using `calculate_default_transform` or `WarpedVRT` with some GOES dataset. As mentioned in https://github.com/OSGeo/gdal/issues/4934, PROJ/GDAL will raise some `ERROR 1: tolerance condition error` errors but, while gdalwarp ignores them, it's not clear to me if rasterio ignore them as well.\r\n\r\nIn the next code block, we can see that the function `calculate_default_transform` returned correctly but in a next call to `src.colorinterp`, rasterio will raise an error `CPLE_AppDefinedError: tolerance condition error` which is something that I believe was produced in the previous step. I suspect there is a variable that wasn't deleted or something \ud83e\udd37\u200d\u2642\ufe0f \r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport rasterio\r\nfrom rasterio.warp import calculate_default_transform\r\nwith rasterio.open(\"http://static2.skysight.io/demo2.tiff\") as src:\r\n    print(\"color interp:\", src.colorinterp)\r\n    t, w, h = calculate_default_transform(src.crs, \"epsg:4326\", src.width, src.height, *src.bounds)\r\n    print(f\"raster size: {w}x{h}\")\r\n    print(\"color interp:\", src.colorinterp)\r\n\r\ncolor interp: (<ColorInterp.red: 3>, <ColorInterp.green: 4>, <ColorInterp.blue: 5>)\r\nraster size: 28244x11988\r\n\r\n---------------------------------------------------------------------------\r\nCPLE_AppDefinedError                      Traceback (most recent call last)\r\n<ipython-input-3-9432866837b0> in <module>\r\n      3     t, w, h = calculate_default_transform(src.crs, \"epsg:4326\", src.width, src.height, *src.bounds)\r\n      4     print(f\"raster size: {w}x{h}\")\r\n----> 5     print(\"color interp:\", src.colorinterp)\r\n      6 \r\n\r\nrasterio/rasterio/_base.pyx in rasterio._base.DatasetBase.colorinterp.__get__()\r\n   1249             out = []\r\n   1250             for bidx in self.indexes:\r\n-> 1251                 value = exc_wrap_int(\r\n   1252                     GDALGetRasterColorInterpretation(self.band(bidx)))\r\n   1253                 out.append(ColorInterp(value))\r\n\r\nrasterio/rasterio/_err.pyx in rasterio._err.exc_wrap_int()\r\n    186         exc = exc_check()\r\n    187         if exc:\r\n--> 188             raise exc\r\n    189     return err\r\n    190 \r\n\r\nCPLE_AppDefinedError: tolerance condition error\r\n```\r\n## Operating system\r\n\r\nMac OS X\r\n\r\n## Rasterio version and provenance\r\n\r\nsource (master), GDAL 3.3.3", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2353/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2353/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2347", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2347/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2347/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2347/events", "html_url": "https://github.com/rasterio/rasterio/issues/2347", "id": 1064673718, "node_id": "I_kwDOANdm_M4_daG2", "number": 2347, "title": "Fill and write mask when masked array is passed to write()", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167170, "node_id": "MDU6TGFiZWw2NDE2NzE3MA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/enhancement", "name": "enhancement", "color": "00449e", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 6, "created_at": "2021-11-26T16:23:24Z", "updated_at": "2022-05-10T13:44:08Z", "closed_at": "2022-05-10T13:44:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The first change was proposed in https://rasterio.groups.io/g/main/message/891 and I proposed taking it a little further. Generalizing write() to do the reasonably expected thing when passed a masked array seems like it could simplify documentation and prevent bugs due to users not calling write_mask. This might require the addition of a `masked=True` keyword argument so that users can disable the writing of a mask.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2347/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2347/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2339", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2339/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2339/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2339/events", "html_url": "https://github.com/rasterio/rasterio/issues/2339", "id": 1057295170, "node_id": "I_kwDOANdm_M4_BQtC", "number": 2339, "title": "ERROR 4 when closing a COG file", "user": {"login": "howff", "id": 3064316, "node_id": "MDQ6VXNlcjMwNjQzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/3064316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/howff", "html_url": "https://github.com/howff", "followers_url": "https://api.github.com/users/howff/followers", "following_url": "https://api.github.com/users/howff/following{/other_user}", "gists_url": "https://api.github.com/users/howff/gists{/gist_id}", "starred_url": "https://api.github.com/users/howff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/howff/subscriptions", "organizations_url": "https://api.github.com/users/howff/orgs", "repos_url": "https://api.github.com/users/howff/repos", "events_url": "https://api.github.com/users/howff/events{/privacy}", "received_events_url": "https://api.github.com/users/howff/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/117", "html_url": "https://github.com/rasterio/rasterio/milestone/117", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/117/labels", "id": 8325239, "node_id": "MI_kwDOANdm_M4Afwh3", "number": 117, "title": "1.3.2", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2022-08-19T15:25:06Z", "updated_at": "2022-11-18T17:27:45Z", "due_on": null, "closed_at": "2022-08-19T18:55:01Z"}, "comments": 10, "created_at": "2021-11-18T12:22:16Z", "updated_at": "2022-11-18T17:27:45Z", "closed_at": "2022-08-24T17:22:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Actual behavior.\r\n\r\nThe output file appears to be written but we get this error:\r\n`ERROR 4: /tmp/fresh_dataset.tif: No such file or directory`\r\n\r\nThe error occurs during the call to `close()`.\r\n\r\nRelated issues have been closed but this bug is still present. (#2065 and #2088)\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nimport rasterio\r\nimport numpy as np\r\nfrom pathlib import Path\r\npth = Path('/tmp/') / 'fresh_dataset.tif'\r\n\r\nif pth.exists():\r\n    pth.unlink()\r\ndst = rasterio.open(pth, 'w', driver='COG',\r\n        height=10, width=10, count=1, dtype='uint8')\r\ndst.write(np.ones((1, 10, 10), dtype='uint8'))\r\ndst.close()\r\n```\r\n\r\n## Operating system\r\n\r\nLinux 5.4.0-89-generic #100-Ubuntu SMP Fri Sep 24 14:50:10 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio==1.2.10 from pypi\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2339/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2334", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2334/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2334/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2334/events", "html_url": "https://github.com/rasterio/rasterio/pull/2334", "id": 1048613223, "node_id": "PR_kwDOANdm_M4uSS-7", "number": 2334, "title": "upgrade cython to allow building against python 3.10", "user": {"login": "nmandery", "id": 140716, "node_id": "MDQ6VXNlcjE0MDcxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/140716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nmandery", "html_url": "https://github.com/nmandery", "followers_url": "https://api.github.com/users/nmandery/followers", "following_url": "https://api.github.com/users/nmandery/following{/other_user}", "gists_url": "https://api.github.com/users/nmandery/gists{/gist_id}", "starred_url": "https://api.github.com/users/nmandery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nmandery/subscriptions", "organizations_url": "https://api.github.com/users/nmandery/orgs", "repos_url": "https://api.github.com/users/nmandery/repos", "events_url": "https://api.github.com/users/nmandery/events{/privacy}", "received_events_url": "https://api.github.com/users/nmandery/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 1, "created_at": "2021-11-09T13:32:57Z", "updated_at": "2021-11-26T15:17:30Z", "closed_at": "2021-11-26T15:17:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2334", "html_url": "https://github.com/rasterio/rasterio/pull/2334", "diff_url": "https://github.com/rasterio/rasterio/pull/2334.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2334.patch", "merged_at": "2021-11-26T15:17:30Z"}, "body": "fixes #2333", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2334/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2334/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2333", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2333/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2333/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2333/events", "html_url": "https://github.com/rasterio/rasterio/issues/2333", "id": 1048611801, "node_id": "I_kwDOANdm_M4-gIvZ", "number": 2333, "title": "Build against python 3.10 because of removal of `_PyGen_Send`", "user": {"login": "nmandery", "id": 140716, "node_id": "MDQ6VXNlcjE0MDcxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/140716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nmandery", "html_url": "https://github.com/nmandery", "followers_url": "https://api.github.com/users/nmandery/followers", "following_url": "https://api.github.com/users/nmandery/following{/other_user}", "gists_url": "https://api.github.com/users/nmandery/gists{/gist_id}", "starred_url": "https://api.github.com/users/nmandery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nmandery/subscriptions", "organizations_url": "https://api.github.com/users/nmandery/orgs", "repos_url": "https://api.github.com/users/nmandery/repos", "events_url": "https://api.github.com/users/nmandery/events{/privacy}", "received_events_url": "https://api.github.com/users/nmandery/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 8, "created_at": "2021-11-09T13:31:31Z", "updated_at": "2022-03-19T19:03:49Z", "closed_at": "2021-11-26T15:17:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When building rasterio 1.20 on debian bullseye against Python 3.10 and GDAL 3.4.0 the build fails with the following error:\r\n\r\n```\r\n  rasterio/_warp.cpp:43950:19: error: \u2018_PyGen_Send\u2019 was not declared in this scope; did you mean \u2018_PyGen_yf\u2019?\r\n  43950 |             ret = _PyGen_Send((PyGenObject*)yf, value == Py_None ? NULL : value);\r\n        |                   ^~~~~~~~~~~\r\n        |                   _PyGen_yf\r\n  rasterio/_warp.cpp:43955:19: error: \u2018_PyGen_Send\u2019 was not declared in this scope; did you mean \u2018_PyGen_yf\u2019?\r\n  43955 |             ret = _PyGen_Send((PyGenObject*)yf, value == Py_None ? NULL : value);\r\n        |                   ^~~~~~~~~~~\r\n        |                   _PyGen_yf\r\n  rasterio/_warp.cpp: In function \u2018PyObject* __Pyx_Generator_Next(PyObject*)\u2019:\r\n  rasterio/_warp.cpp:44039:19: error: \u2018_PyGen_Send\u2019 was not declared in this scope; did you mean \u2018_PyGen_yf\u2019?\r\n  44039 |             ret = _PyGen_Send((PyGenObject*)yf, NULL);\r\n        |                   ^~~~~~~~~~~\r\n        |                   _PyGen_yf\r\n  error: command '/usr/bin/gcc' failed with exit code 1\r\n  ----------------------------------------\r\nFailed to build rasterio\r\n  ERROR: Failed building wheel for rasterio\r\nERROR: Could not build wheels for rasterio, which is required to install pyproject.toml-based projects\r\n```\r\n\r\nThis is an upstream cython issue and is fixed in https://github.com/cython/cython/pull/3921 . After updating cython to the latest released version (0.29.24) the build is able to finish successful. I will submit a PR for this.\r\n\r\nI did not do any more testing with python 3.10 yet, though.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2333/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2333/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2326", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2326/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2326/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2326/events", "html_url": "https://github.com/rasterio/rasterio/issues/2326", "id": 1040588088, "node_id": "I_kwDOANdm_M4-Bh04", "number": 2326, "title": "TypeError: can't multiply sequence by non-int of type 'Affine'", "user": {"login": "twei55", "id": 5564, "node_id": "MDQ6VXNlcjU1NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twei55", "html_url": "https://github.com/twei55", "followers_url": "https://api.github.com/users/twei55/followers", "following_url": "https://api.github.com/users/twei55/following{/other_user}", "gists_url": "https://api.github.com/users/twei55/gists{/gist_id}", "starred_url": "https://api.github.com/users/twei55/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twei55/subscriptions", "organizations_url": "https://api.github.com/users/twei55/orgs", "repos_url": "https://api.github.com/users/twei55/repos", "events_url": "https://api.github.com/users/twei55/events{/privacy}", "received_events_url": "https://api.github.com/users/twei55/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 5, "created_at": "2021-10-31T21:37:05Z", "updated_at": "2022-11-18T17:28:38Z", "closed_at": "2021-11-20T04:25:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nExpected rasterio.mask.mask to return tuple, got `TypeError: can't multiply sequence by non-int of type 'Affine'`.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nimport rasterio\r\nimport rasterio.mask\r\n\r\nwith rasterio.open(\"image.tif\") as src:\r\n     geometry = {'type': 'Polygon', 'coordinates': [[[292113.56138090976, 3952071.898168271, 0.0], [292113.56138090976, 3951971.898168271, 0.0], [292213.56138090976, 3951971.898168271, 0.0], [292213.56138090976, 3952071.898168271, 0.0], [292113.56138090976, 3952071.898168271, 0.0]]]}\r\n     out_image, out_transform = rasterio.mask.mask(src, [geometry], crop=True)\r\n```\r\n(The coordinates used in `geometry` are dummy coordinates only)\r\n\r\n## Traceback\r\n\r\n```\r\nout_image, out_transform = mask(src, [geometry], crop=True)\r\n  File \"/root/.local/share/virtualenvs/app-lp47FrbD/lib/python3.8/site-packages/rasterio/mask.py\", line 178, in mask\r\n    shape_mask, transform, window = raster_geometry_mask(\r\n  File \"/root/.local/share/virtualenvs/app-lp47FrbD/lib/python3.8/site-packages/rasterio/mask.py\", line 80, in raster_geometry_mask\r\n    window = geometry_window(dataset, shapes, pad_x=pad_x, pad_y=pad_y)\r\n  File \"/root/.local/share/virtualenvs/app-lp47FrbD/lib/python3.8/site-packages/rasterio/features.py\", line 441, in geometry_window\r\n    all_bounds = [bounds(shape, transform=~dataset.transform) for shape in shapes]\r\n  File \"/root/.local/share/virtualenvs/app-lp47FrbD/lib/python3.8/site-packages/rasterio/features.py\", line 441, in <listcomp>\r\n    all_bounds = [bounds(shape, transform=~dataset.transform) for shape in shapes]\r\n  File \"/root/.local/share/virtualenvs/app-lp47FrbD/lib/python3.8/site-packages/rasterio/features.py\", line 390, in bounds\r\n    return _bounds(geom, north_up=north_up, transform=transform)\r\n  File \"rasterio/_features.pyx\", line 434, in rasterio._features._bounds\r\nTypeError: can't multiply sequence by non-int of type 'Affine'\r\n```\r\n\r\n## Operating system\r\n\r\nMac OS X 12.0.1\r\nGDAL 3.3\r\n\r\n## Rasterio version and provenance\r\n\r\nI am not sure what the problem is but it seems that it was introduced in version 1.2.9. The code above is working properly in version 1.2.8 and below. The same code throws the above mentioned exception in version 1.2.9 and above.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2326/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2319", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2319/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2319/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2319/events", "html_url": "https://github.com/rasterio/rasterio/pull/2319", "id": 1030906946, "node_id": "PR_kwDOANdm_M4tahJX", "number": 2319, "title": "REF: Use OCTTransformBounds in transform_bounds", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 2, "created_at": "2021-10-20T02:22:12Z", "updated_at": "2021-12-14T00:59:36Z", "closed_at": "2021-12-14T00:56:30Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2319", "html_url": "https://github.com/rasterio/rasterio/pull/2319", "diff_url": "https://github.com/rasterio/rasterio/pull/2319.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2319.patch", "merged_at": "2021-12-14T00:56:30Z"}, "body": "Closes #2313", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2319/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2313", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2313/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2313/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2313/events", "html_url": "https://github.com/rasterio/rasterio/issues/2313", "id": 1029139657, "node_id": "I_kwDOANdm_M49V2zJ", "number": 2313, "title": "REF: Use OCTTransformBounds (GDAL 3.4+) in transform_bounds", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 0, "created_at": "2021-10-18T13:47:17Z", "updated_at": "2021-12-14T00:56:30Z", "closed_at": "2021-12-14T00:56:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/OSGeo/gdal/pull/4666\r\n\r\nContinuation of #2144\r\n\r\nThis also adds support for transforming bounds at the north/south poles.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2313/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2307", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2307/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2307/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2307/events", "html_url": "https://github.com/rasterio/rasterio/issues/2307", "id": 1018417458, "node_id": "I_kwDOANdm_M48s9Ey", "number": 2307, "title": "Add Python@3.10 to build scripts", "user": {"login": "songololo", "id": 4347878, "node_id": "MDQ6VXNlcjQzNDc4Nzg=", "avatar_url": "https://avatars.githubusercontent.com/u/4347878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/songololo", "html_url": "https://github.com/songololo", "followers_url": "https://api.github.com/users/songololo/followers", "following_url": "https://api.github.com/users/songololo/following{/other_user}", "gists_url": "https://api.github.com/users/songololo/gists{/gist_id}", "starred_url": "https://api.github.com/users/songololo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/songololo/subscriptions", "organizations_url": "https://api.github.com/users/songololo/orgs", "repos_url": "https://api.github.com/users/songololo/repos", "events_url": "https://api.github.com/users/songololo/events{/privacy}", "received_events_url": "https://api.github.com/users/songololo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 3332518674, "node_id": "MDU6TGFiZWwzMzMyNTE4Njc0", "url": "https://api.github.com/repos/rasterio/rasterio/labels/ci", "name": "ci", "color": "1A726D", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-10-06T14:14:17Z", "updated_at": "2021-12-14T00:47:17Z", "closed_at": "2021-12-14T00:47:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Opening an issue to request the addition of `Python@3.10` to the build scripts.\r\n\r\nI'm naive as to the build steps involved on Travis otherwise I'd chance a pull request...\r\n\r\nThanks.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2307/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2306", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2306/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2306/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2306/events", "html_url": "https://github.com/rasterio/rasterio/issues/2306", "id": 1018104299, "node_id": "I_kwDOANdm_M48rwnr", "number": 2306, "title": "Mosaicking SRTM DEM in new release produces different size", "user": {"login": "dangus1985", "id": 92027958, "node_id": "U_kgDOBXw8Ng", "avatar_url": "https://avatars.githubusercontent.com/u/92027958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dangus1985", "html_url": "https://github.com/dangus1985", "followers_url": "https://api.github.com/users/dangus1985/followers", "following_url": "https://api.github.com/users/dangus1985/following{/other_user}", "gists_url": "https://api.github.com/users/dangus1985/gists{/gist_id}", "starred_url": "https://api.github.com/users/dangus1985/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dangus1985/subscriptions", "organizations_url": "https://api.github.com/users/dangus1985/orgs", "repos_url": "https://api.github.com/users/dangus1985/repos", "events_url": "https://api.github.com/users/dangus1985/events{/privacy}", "received_events_url": "https://api.github.com/users/dangus1985/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 3, "created_at": "2021-10-06T11:28:16Z", "updated_at": "2021-12-14T00:44:38Z", "closed_at": "2021-12-14T00:44:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Mosaicking SRTM DEM in new release produces different size\r\n\r\nEXAMPLE\r\n\r\nAfter using rasterio.merge.merge:\r\n\r\nThe product retrieved in version 1.1.2 has the following dimensions: [3243, 2603]\r\nThe product rerieved in version 1.2.9 has the following dimensions: [3242, 2602]\r\n\r\nFurthermore, the products retrieve different values, i.e., the matching pixels are not the exact same (see below).\r\n\r\n![a](https://user-images.githubusercontent.com/92027958/136193180-93bb6108-035b-4edd-9da8-45a28e55ee84.PNG)\r\n\r\nFig 1: venv1 = version 1.1.2\r\nFig 2: venv2 = version 1.2.9\r\nFig 3: a[0:3242, 0:2602] - b\r\n\r\nThe difference in the title is the sum of the absolute values of their subtraction:\r\nnp.sum(np.abs(a[0:3242, 0:2602]-b))\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2306/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2305", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2305/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2305/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2305/events", "html_url": "https://github.com/rasterio/rasterio/pull/2305", "id": 1016506048, "node_id": "PR_kwDOANdm_M4stG7f", "number": 2305, "title": "Raise WarpOperationError (new) if ChunkAndWarpMulti/Image fail", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/113", "html_url": "https://github.com/rasterio/rasterio/milestone/113", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/113/labels", "id": 7222266, "node_id": "MI_kwDOANdm_M4AbjP6", "number": 113, "title": "1.2.10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2021-10-05T16:03:13Z", "updated_at": "2021-10-11T18:05:52Z", "due_on": null, "closed_at": "2021-10-11T18:05:52Z"}, "comments": 0, "created_at": "2021-10-05T16:03:22Z", "updated_at": "2022-12-17T01:17:08Z", "closed_at": "2021-10-05T17:34:28Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2305", "html_url": "https://github.com/rasterio/rasterio/pull/2305", "diff_url": "https://github.com/rasterio/rasterio/pull/2305.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2305.patch", "merged_at": "2021-10-05T17:34:28Z"}, "body": "We've been hiding these errors and allowing chunks of a warp operation to pass with no data copied to the output.\r\n\r\nNote that the error message isn't very detailed. In a lot of cases it's a generic \"TIFF read block error\" and doesn't surface root causes like server errors.\r\n\r\nWithout the changes to _warp.pyx, reproject passes with no output copied (out will be all zeros). With the changes, an exception is raised.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2305/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2303", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2303/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2303/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2303/events", "html_url": "https://github.com/rasterio/rasterio/issues/2303", "id": 1004795243, "node_id": "I_kwDOANdm_M474_Vr", "number": 2303, "title": "Regression from 1.2.0 to >= 1.2.1: Wrong geometry window for rotated CRS", "user": {"login": "giacomov", "id": 5917371, "node_id": "MDQ6VXNlcjU5MTczNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/5917371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/giacomov", "html_url": "https://github.com/giacomov", "followers_url": "https://api.github.com/users/giacomov/followers", "following_url": "https://api.github.com/users/giacomov/following{/other_user}", "gists_url": "https://api.github.com/users/giacomov/gists{/gist_id}", "starred_url": "https://api.github.com/users/giacomov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/giacomov/subscriptions", "organizations_url": "https://api.github.com/users/giacomov/orgs", "repos_url": "https://api.github.com/users/giacomov/repos", "events_url": "https://api.github.com/users/giacomov/events{/privacy}", "received_events_url": "https://api.github.com/users/giacomov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/112", "html_url": "https://github.com/rasterio/rasterio/milestone/112", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/112/labels", "id": 7207027, "node_id": "MI_kwDOANdm_M4Abfhz", "number": 112, "title": "1.2.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2021-09-30T18:07:33Z", "updated_at": "2021-10-01T20:18:20Z", "due_on": null, "closed_at": "2021-10-01T20:18:20Z"}, "comments": 3, "created_at": "2021-09-22T21:32:52Z", "updated_at": "2021-10-01T22:26:47Z", "closed_at": "2021-10-01T20:18:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\nThe function that computes the window around a geometry changed behavior in version 1.2.1 and is now returning the wrong result when the CRS is rotated.\r\n\r\nThis bug has been introduced by PR #2116. \r\n\r\nThe PR mentions:\r\n`Support geotransforms with rotation in Window.from_bounds and\r\n  feature.geometry_window so that rotated rasters may be clipped (#2112).`\r\nin the `CHANGES.txt` file, but it actually apparently broke the support for rotated rasters.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI have a dataset with a rotated CRS and a geometry. \r\n\r\nThe window for the geometry should be Window(col_off=182, row_off=133, width=165, height=162) (as obtained with rasterio=1.2.0 and also verified independently), while I get Window(col_off=128, row_off=67, width=275, height=274) with rasterio>=1.2.1.\r\n\r\nThis has also been verified with other geometries.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nScript to reproduce the problem and data files are in here: [window_bug.tar.gz](https://github.com/mapbox/rasterio/files/7213926/window_bug.tar.gz)\r\n\r\n## Operating system\r\n\r\nUbuntu 18.04.6 (Linux)\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 1.2.0 and >=1.2.1 from PyPi.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2303/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2300", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2300/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2300/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2300/events", "html_url": "https://github.com/rasterio/rasterio/issues/2300", "id": 1002477381, "node_id": "I_kwDOANdm_M47wJdF", "number": 2300, "title": "Rasterio GPKG APPEND_SUBDATASET doesnt work", "user": {"login": "igieon", "id": 1535798, "node_id": "MDQ6VXNlcjE1MzU3OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1535798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igieon", "html_url": "https://github.com/igieon", "followers_url": "https://api.github.com/users/igieon/followers", "following_url": "https://api.github.com/users/igieon/following{/other_user}", "gists_url": "https://api.github.com/users/igieon/gists{/gist_id}", "starred_url": "https://api.github.com/users/igieon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igieon/subscriptions", "organizations_url": "https://api.github.com/users/igieon/orgs", "repos_url": "https://api.github.com/users/igieon/repos", "events_url": "https://api.github.com/users/igieon/events{/privacy}", "received_events_url": "https://api.github.com/users/igieon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 4, "created_at": "2021-09-21T13:23:13Z", "updated_at": "2021-10-13T18:20:12Z", "closed_at": "2021-10-13T18:10:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have code like this:\r\n```\r\nw1=rasterio.open('test.gpkg','w+',driver='GPKG',height=input.height,width=input.width,count=1,dtype='float32',RASTER_TABLE='P2O5_1',transform=input.transform,crs=input.crs,APPEND_SUBDATASET='YES')\r\nw1.write(numpy.float32(input.read()+1))\r\nw1.close()\r\nw1=rasterio.open('test.gpkg','w+',driver='GPKG',height=input.height,width=input.width,count=1,dtype='float32',RASTER_TABLE='P2O5_2',transform=input.transform,crs=input.crs,APPEND_SUBDATASET='YES')\r\nw1.write(numpy.float32(input.read()+1))\r\nw1.close()\r\n```\r\nI expected to have 2 layers in test.gpkg, but i have always 1 latest one.\r\nI use several param like:\r\nAPPEND_SUBDATASET='YES'\r\nAPPEND_SUBDATASET=True\r\n\r\nneither of them works\r\nbut command line gdal translate \r\ngdal_translate -of GPKG Lime.tif test.gpkg -ot FLoat32 -co APPEND_SUBDATASET=YES -co RASTER_TABLE=new_table1\r\n\r\nI also try:\r\n```\r\nw1=BufferedDatasetWriter(parse_path('test.gpkg'),'r+',driver='GPKG',height=input.height,width=input.width,count=1,dtype='float32',RASTER_TABLE='P2O5_1',transform=input.transform,crs=input.crs,APPEND_SUBDATASET=True)\r\nw1.write(numpy.float32(input.read()+1))\r\nw1.close()\r\nw2=BufferedDatasetWriter(parse_path('test.gpkg'),'r+',driver='GPKG',height=input.height,width=input.width,count=1,dtype='float32',RASTER_TABLE='P2O5_w2',transform=input.transform,crs=input.crs,APPEND_SUBDATASET=True)\r\nw2.write(numpy.float32(input.read()+1))\r\nw2.close()\r\n```\r\nDifference between open and BufferedDatasetWriter is when i use mode with open r+ layer is preserved no overwrite but with BufferedDatasetWriter r+  is same as open w+ (produced file, 1 layer)\r\n\r\ntested with latest rasterio 1.2.8 and 1.2.0", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2300/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2300/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2299", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2299/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2299/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2299/events", "html_url": "https://github.com/rasterio/rasterio/pull/2299", "id": 999138780, "node_id": "PR_kwDOANdm_M4r4bFR", "number": 2299, "title": "Fix writing file to GCS when using a new prefix", "user": {"login": "AndreaGiardini", "id": 3543138, "node_id": "MDQ6VXNlcjM1NDMxMzg=", "avatar_url": "https://avatars.githubusercontent.com/u/3543138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndreaGiardini", "html_url": "https://github.com/AndreaGiardini", "followers_url": "https://api.github.com/users/AndreaGiardini/followers", "following_url": "https://api.github.com/users/AndreaGiardini/following{/other_user}", "gists_url": "https://api.github.com/users/AndreaGiardini/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndreaGiardini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndreaGiardini/subscriptions", "organizations_url": "https://api.github.com/users/AndreaGiardini/orgs", "repos_url": "https://api.github.com/users/AndreaGiardini/repos", "events_url": "https://api.github.com/users/AndreaGiardini/events{/privacy}", "received_events_url": "https://api.github.com/users/AndreaGiardini/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 2, "created_at": "2021-09-17T09:21:00Z", "updated_at": "2021-10-13T08:08:54Z", "closed_at": "2021-09-22T18:19:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2299", "html_url": "https://github.com/rasterio/rasterio/pull/2299", "diff_url": "https://github.com/rasterio/rasterio/pull/2299.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2299.patch", "merged_at": "2021-09-22T18:19:45Z"}, "body": "Fixes #2297\r\n\r\nThis PR catches an extra exception, preventing the problem described in the issue mentioned\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2299/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2299/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2298", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2298/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2298/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2298/events", "html_url": "https://github.com/rasterio/rasterio/issues/2298", "id": 998609052, "node_id": "I_kwDOANdm_M47hZCc", "number": 2298, "title": "Incorrect behavior when scaling with resampling method \"min\"", "user": {"login": "dmannarino", "id": 2370964, "node_id": "MDQ6VXNlcjIzNzA5NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2370964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmannarino", "html_url": "https://github.com/dmannarino", "followers_url": "https://api.github.com/users/dmannarino/followers", "following_url": "https://api.github.com/users/dmannarino/following{/other_user}", "gists_url": "https://api.github.com/users/dmannarino/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmannarino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmannarino/subscriptions", "organizations_url": "https://api.github.com/users/dmannarino/orgs", "repos_url": "https://api.github.com/users/dmannarino/repos", "events_url": "https://api.github.com/users/dmannarino/events{/privacy}", "received_events_url": "https://api.github.com/users/dmannarino/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 5078175067, "node_id": "LA_kwDOANdm_M8AAAABLq7NWw", "url": "https://api.github.com/repos/rasterio/rasterio/labels/obsolete", "name": "obsolete", "color": "AF90A5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-09-16T20:24:16Z", "updated_at": "2023-01-25T16:27:46Z", "closed_at": "2023-01-25T16:25:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI expected that quartering (multiplying X and Y axis by 0.5) a raster using the \"min\" resampling method would produce a raster with the minimum value of each quad of pixels and no anomalies.\r\n\r\nWhat I got when I used rasterio.warp.reproject was the minimum value of the only quad of unmasked pixels, but there was an unexpected value of 1 in the second band (which corresponded to four masked pixels in the original raster).\r\nWhen using a WarpedVRT with resampling method min, in addition to anomalous values of 1 in band 2 everywhere band 1 had values even when not scaling, the produced value was not the minimum of available values when scaling.\r\n\r\n## Steps to reproduce the problem.\r\nRun the following script:\r\n```\r\nimport subprocess\r\n\r\nimport numpy as np\r\nimport rasterio\r\nfrom affine import Affine\r\nfrom pyproj import CRS\r\nfrom rasterio.enums import Resampling\r\nfrom rasterio.profiles import DefaultGTiffProfile\r\nfrom rasterio.vrt import WarpedVRT\r\nfrom rasterio.warp import reproject\r\n\r\nsynthetic_data = np.zeros((2, 8, 8), dtype=\"uint16\")\r\nsynthetic_data[0][0][1] = 2500\r\nsynthetic_data[0][1][0] = 5000\r\nsynthetic_data[0][1][1] = 10000\r\n\r\nprint(\"Original synthetic data:\")\r\nprint(synthetic_data)\r\n\r\ncrs = CRS.from_epsg(3857)\r\ntransform = Affine(\r\n    10.0,  # a: width of a pixel\r\n    0.0,  # b: row rotation\r\n    -40.0,  # c: x-coord of the upper-left corner of the upper-left pixel\r\n    0.0,  # d: column rotation\r\n    -10.0,  # e: height of a pixel (typically negative)\r\n    40.0  # y-coord of the of the upper-left corner of the upper-left pixel\r\n)\r\n\r\nsynthetic_data_profile = {\r\n    **DefaultGTiffProfile(count=synthetic_data.shape[0]),\r\n    \"crs\": crs,\r\n    \"dtype\": \"uint16\",\r\n    \"height\": synthetic_data.shape[1],\r\n    \"width\": synthetic_data.shape[2],\r\n    \"transform\": transform\r\n}\r\n\r\nprint(f\"Synthetic file profile:\")\r\nprint(synthetic_data_profile)\r\n\r\nwith rasterio.open('synthetic_data.tif', 'w', **synthetic_data_profile) as dst:\r\n    dst.write(synthetic_data)\r\n\r\nwith rasterio.open('synthetic_data.tif') as src:\r\n    synthetic_data_saved = src.read([1, 2], masked=True)\r\n\r\nprint(\r\n    \"Synthetic data written and re-read (should be identical to original \"\r\n    \"except now 0s are masked):\"\r\n)\r\nprint(synthetic_data_saved)\r\n\r\nprint(\"Now let's scale it using rasterio.warp.reproject\")\r\n\r\nreprojection_dst = np.zeros((2, 4, 4), dtype=\"uint16\")\r\n\r\nreproject(\r\n    synthetic_data_saved,\r\n    reprojection_dst,\r\n    src_transform=transform,\r\n    src_crs=crs.to_dict(),\r\n    dst_crs=crs.to_dict(),\r\n    resampling=Resampling.min,\r\n    src_no_data=0\r\n)\r\n\r\nprint(\"Resulting data:\")\r\nprint(reprojection_dst)\r\n\r\nprint(\r\n    \"Now let's try reading through a VRT. First through a regular VRT, \"\r\n    \"then through a WarpedVRT without scaling, and finally through a \"\r\n    \"WarpedVRT into an out_shape that implicitly causes scaling\"\r\n)\r\n\r\nprint(\"Creating the VRT\")\r\nsubprocess.run(\r\n    [\"gdalbuildvrt\", \"synthetic_data.vrt\", \"synthetic_data.tif\"],\r\n    capture_output=True\r\n)\r\n\r\nprint(f\"Data as read through plain VRT:\")\r\nwith rasterio.open('synthetic_data.vrt') as vrt_src:\r\n    synthetic_data_vrt = vrt_src.read([1, 2], masked=True)\r\nprint(synthetic_data_vrt)\r\n\r\nprint(\r\n    \"Now the data as read through a WarpedVRT with Resampling mode nearest \"\r\n    \"but no out_shape specified:\")\r\nwith rasterio.open('synthetic_data.vrt') as vrt_src:\r\n    with WarpedVRT(vrt_src, resampling=Resampling.nearest) as warped_vrt:\r\n        synthetic_data_warped_nearest = warped_vrt.read([1, 2], masked=True)\r\nprint(synthetic_data_warped_nearest)\r\n\r\nprint(\r\n    \"Now the data as read through a WarpedVRT with Resampling mode min \"\r\n    \"but no out_shape specified:\")\r\nwith rasterio.open('synthetic_data.vrt') as vrt_src:\r\n    with WarpedVRT(vrt_src, resampling=Resampling.min) as warped_vrt:\r\n        synthetic_data_warped_min = warped_vrt.read([1, 2], masked=True)\r\nprint(synthetic_data_warped_min)\r\n\r\nprint(\r\n    \"Finally the data as read through a WarpedVRT with Resampling mode min \"\r\n    \"and an out_shape that causes implicit scaling by a factor of 0.5:\")\r\nwith rasterio.open('synthetic_data.vrt') as vrt_src:\r\n    with WarpedVRT(vrt_src, resampling=Resampling.min) as warped_vrt:\r\n        synthetic_data_warped_min_scaled = warped_vrt.read(\r\n            [1, 2], out_shape=(2, 4, 4), masked=True\r\n        )\r\nprint(synthetic_data_warped_min_scaled)\r\n```\r\nOutput in my environment:\r\n```\r\nOriginal synthetic data:\r\n[[[    0  2500     0     0     0     0     0     0]\r\n  [ 5000 10000     0     0     0     0     0     0]\r\n  [    0     0     0     0     0     0     0     0]\r\n  [    0     0     0     0     0     0     0     0]\r\n  [    0     0     0     0     0     0     0     0]\r\n  [    0     0     0     0     0     0     0     0]\r\n  [    0     0     0     0     0     0     0     0]\r\n  [    0     0     0     0     0     0     0     0]]\r\n\r\n [[    0     0     0     0     0     0     0     0]\r\n  [    0     0     0     0     0     0     0     0]\r\n  [    0     0     0     0     0     0     0     0]\r\n  [    0     0     0     0     0     0     0     0]\r\n  [    0     0     0     0     0     0     0     0]\r\n  [    0     0     0     0     0     0     0     0]\r\n  [    0     0     0     0     0     0     0     0]\r\n  [    0     0     0     0     0     0     0     0]]]\r\nSynthetic file profile:\r\n{'driver': 'GTiff', 'interleave': 'band', 'tiled': True, 'blockxsize': 256, 'blockysize': 256, 'compress': 'lzw', 'nodata': 0, 'dtype': 'uint16', 'count': 2, 'crs': <Projected CRS: EPSG:3857>\r\nName: WGS 84 / Pseudo-Mercator\r\nAxis Info [cartesian]:\r\n- X[east]: Easting (metre)\r\n- Y[north]: Northing (metre)\r\nArea of Use:\r\n- name: World between 85.06\u00b0S and 85.06\u00b0N.\r\n- bounds: (-180.0, -85.06, 180.0, 85.06)\r\nCoordinate Operation:\r\n- name: Popular Visualisation Pseudo-Mercator\r\n- method: Popular Visualisation Pseudo Mercator\r\nDatum: World Geodetic System 1984 ensemble\r\n- Ellipsoid: WGS 84\r\n- Prime Meridian: Greenwich\r\n, 'height': 8, 'width': 8, 'transform': Affine(10.0, 0.0, -40.0,\r\n       0.0, -10.0, 40.0)}\r\nSynthetic data written and re-read (should be identical to original except now 0s are masked):\r\n[[[-- 2500 -- -- -- -- -- --]\r\n  [5000 10000 -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]]\r\n\r\n [[-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]]]\r\nNow let's scale it using rasterio.warp.reproject\r\n/Users/daniel/WRI/gfw-data-api/.venv_test/lib/python3.8/site-packages/pyproj/crs/crs.py:1256: UserWarning: You will likely lose important projection information when converting to a PROJ string from another format. See: https://proj.org/faq.html#what-is-the-best-format-for-describing-coordinate-reference-systems\r\n  return self._crs.to_proj4(version=version)\r\nResulting data:\r\n[[[2500    0    0    0]\r\n  [   0    0    0    0]\r\n  [   0    0    0    0]\r\n  [   0    0    0    0]]\r\n\r\n [[   1    0    0    0]\r\n  [   0    0    0    0]\r\n  [   0    0    0    0]\r\n  [   0    0    0    0]]]\r\nNow let's try reading through a VRT. First through a regular VRT, then through a WarpedVRT without scaling, and finally through a WarpedVRT into an out_shape that implicitly causes scaling\r\nCreating the VRT\r\nData as read through plain VRT:\r\n[[[-- 2500 -- -- -- -- -- --]\r\n  [5000 10000 -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]]\r\n\r\n [[-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]]]\r\nNow the data as read through a WarpedVRT with Resampling mode nearest but no out_shape specified:\r\n[[[-- 2500 -- -- -- -- -- --]\r\n  [5000 10000 -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]]\r\n\r\n [[-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]]]\r\nNow the data as read through a WarpedVRT with Resampling mode min but no out_shape specified:\r\n[[[-- 2500 -- -- -- -- -- --]\r\n  [5000 10000 -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]]\r\n\r\n [[-- 1 -- -- -- -- -- --]\r\n  [1 1 -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]\r\n  [-- -- -- -- -- -- -- --]]]\r\nFinally the data as read through a WarpedVRT with Resampling mode min and an out_shape that causes implicit scaling by a factor of 0.5:\r\n[[[10000 -- -- --]\r\n  [-- -- -- --]\r\n  [-- -- -- --]\r\n  [-- -- -- --]]\r\n\r\n [[1 -- -- --]\r\n  [-- -- -- --]\r\n  [-- -- -- --]\r\n  [-- -- -- --]]]\r\n```\r\n\r\n## Software versions\r\nmacOS 11.5.2\r\n\r\nInstalled with Homebrew:\r\nPython 3.8.12\r\nGDAL 3.3.2 (bottle version 3.3.2_1)\r\n\r\nInstalled from PyPI using pip 21.1.1:\r\nrasterio 1.2.8\r\naffine 2.3.0\r\nnumpy 1.21.2\r\npyproj 3.2.0\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2298/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2297", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2297/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2297/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2297/events", "html_url": "https://github.com/rasterio/rasterio/issues/2297", "id": 997128922, "node_id": "I_kwDOANdm_M47bvra", "number": 2297, "title": "404 when writing to a new prefix with GCS", "user": {"login": "lorenzori", "id": 24368151, "node_id": "MDQ6VXNlcjI0MzY4MTUx", "avatar_url": "https://avatars.githubusercontent.com/u/24368151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lorenzori", "html_url": "https://github.com/lorenzori", "followers_url": "https://api.github.com/users/lorenzori/followers", "following_url": "https://api.github.com/users/lorenzori/following{/other_user}", "gists_url": "https://api.github.com/users/lorenzori/gists{/gist_id}", "starred_url": "https://api.github.com/users/lorenzori/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lorenzori/subscriptions", "organizations_url": "https://api.github.com/users/lorenzori/orgs", "repos_url": "https://api.github.com/users/lorenzori/repos", "events_url": "https://api.github.com/users/lorenzori/events{/privacy}", "received_events_url": "https://api.github.com/users/lorenzori/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 2, "created_at": "2021-09-15T14:06:23Z", "updated_at": "2021-09-22T18:19:45Z", "closed_at": "2021-09-22T18:19:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nWriting a new GeoTIFF to a new prefix on Google Cloud Storage returns a `404` on the first attempt while it succeeds on a second attempt. Not sure if I should open this with GDAL, do let me know.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nWriting a GeoTIFF to an existing prefix (`mybucket/tests`) works:\r\n\r\n```\r\nimport rasterio as rio\r\n\r\nIN_PATH = '/vsigs/mybucket/tests/RGB.byte.tif'\r\nOUT_PATH = '/vsigs/mybucket/tests/deleteme.tif'\r\n\r\nwith rio.Env(CPL_VSIL_USE_TEMP_FILE_FOR_RANDOM_WRITE='YES', GDAL_HTTP_VERSION='1.1'):\r\n    with rio.open(IN_PATH, 'r') as src:\r\n        profile = src.profile\r\n\r\n        with rio.open(OUT_PATH, 'w', **profile) as dst:\r\n            dst.write(src.read())\r\n```\r\n\r\nIf however I write to a new prefix `OUT_PATH = '/vsigs/mybucket/newdir/deleteme.tif'` (where `mybucket/newdir/` doesn't exist) I will get a `404` on the first attempt (if I retry it will execute). The full error below: \r\n```\r\n---------------------------------------------------------------------------\r\nCPLE_HttpResponseError                    Traceback (most recent call last)\r\n/tmp/ipykernel_877/336460714.py in <module>\r\n      6         profile = src.profile\r\n      7 \r\n----> 8         with rio.open(OUT_PATH, 'w', **profile) as dst:\r\n      9             dst.write(src.read())\r\n\r\n/opt/conda/lib/python3.9/site-packages/rasterio/env.py in wrapper(*args, **kwds)\r\n    433 \r\n    434         with env_ctor(session=session):\r\n--> 435             return f(*args, **kwds)\r\n    436 \r\n    437     return wrapper\r\n\r\n/opt/conda/lib/python3.9/site-packages/rasterio/__init__.py in open(fp, mode, driver, width, height, count, crs, transform, dtype, nodata, sharing, **kwargs)\r\n    228             writer = get_writer_for_driver(driver)\r\n    229             if writer is not None:\r\n--> 230                 s = writer(path, mode, driver=driver,\r\n    231                            width=width, height=height,\r\n    232                            count=count, crs=crs,\r\n\r\nrasterio/_io.pyx in rasterio._io.DatasetWriterBase.__init__()\r\n\r\nrasterio/_io.pyx in rasterio._io._delete_dataset_if_exists()\r\n\r\nrasterio/_shim.pyx in rasterio._shim.open_dataset()\r\n\r\nrasterio/_err.pyx in rasterio._err.exc_wrap_pointer()\r\n\r\nCPLE_HttpResponseError: HTTP response code: 404\r\n``` \r\n\r\nIf we enable the `CPL_CURL_VERBOSE` flag there is a difference between the logs of the call that succeeds and the one that fails. On the first attempt it makes a GET to the destination path (which doesn't exist yet):\r\n```\r\n> GET /mybucket/newdir/deleteme.tif HTTP/1.1\r\nHost: storage.googleapis.com\r\nAccept: */*\r\nRange: bytes=0-16383\r\nAuthorization: xxx\r\n\r\n< HTTP/1.1 404 Not Found\r\n```\r\n\r\nOn the second and successful attempt is just makes a PUT:\r\n```\r\n> PUT /mybucket/newdir/deleteme.tif HTTP/1.1\r\nHost: storage.googleapis.com\r\nAccept: */*\r\nTransfer-Encoding: chunked\r\nContent-Type: image/tiff\r\nAuthorization: xxx\r\n\r\n< HTTP/1.1 100 Continue\r\n< HTTP/1.1 200 OK\r\n```\r\n## Operating system\r\n\r\nx86_64 GNU/Linux\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio version `1.2.6`", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2297/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2293", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2293/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2293/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2293/events", "html_url": "https://github.com/rasterio/rasterio/issues/2293", "id": 996131232, "node_id": "I_kwDOANdm_M47X8Gg", "number": 2293, "title": "rasterio.crs.CRS.from_string started misinterpreting input in v1.2.8", "user": {"login": "fmaussion", "id": 10050469, "node_id": "MDQ6VXNlcjEwMDUwNDY5", "avatar_url": "https://avatars.githubusercontent.com/u/10050469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmaussion", "html_url": "https://github.com/fmaussion", "followers_url": "https://api.github.com/users/fmaussion/followers", "following_url": "https://api.github.com/users/fmaussion/following{/other_user}", "gists_url": "https://api.github.com/users/fmaussion/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmaussion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmaussion/subscriptions", "organizations_url": "https://api.github.com/users/fmaussion/orgs", "repos_url": "https://api.github.com/users/fmaussion/repos", "events_url": "https://api.github.com/users/fmaussion/events{/privacy}", "received_events_url": "https://api.github.com/users/fmaussion/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/112", "html_url": "https://github.com/rasterio/rasterio/milestone/112", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/112/labels", "id": 7207027, "node_id": "MI_kwDOANdm_M4Abfhz", "number": 112, "title": "1.2.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2021-09-30T18:07:33Z", "updated_at": "2021-10-01T20:18:20Z", "due_on": null, "closed_at": "2021-10-01T20:18:20Z"}, "comments": 4, "created_at": "2021-09-14T15:07:23Z", "updated_at": "2021-10-01T20:18:05Z", "closed_at": "2021-10-01T20:18:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nOur tests broke after update to latest rasterio. See MWE below.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nThis was in rasterio 1.2.6\r\n\r\n```python\r\n\r\nIn [1]: import rasterio\r\n\r\nIn [2]: rasterio.__version__\r\nOut[2]: '1.2.6'\r\n\r\nIn [3]: s = '+proj=tmerc +lat_0=0 +lon_0=10.7584 +k=0.9996 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs'\r\n\r\nIn [4]: rasterio.crs.CRS.from_string(s)\r\nOut[4]: CRS.from_wkt('PROJCS[\"unknown\",GEOGCS[\"unknown\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",10.7584],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",0],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH]]')\r\n```\r\n\r\nAnd rasterio latest:\r\n\r\n```python\r\nIn [1]: import rasterio\r\n\r\nIn [2]: rasterio.__version__\r\nOut[2]: '1.2.8'\r\n\r\nIn [3]: s = '+proj=tmerc +lat_0=0 +lon_0=10.7584 +k=0.9996 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs'\r\n\r\nIn [4]: rasterio.crs.CRS.from_string(s)\r\nOut[4]: CRS.from_epsg(5523)\r\n```\r\nWhich is some projection for Gabon?\r\n\r\n\r\n\r\n## Operating system\r\n\r\nLinux ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2293/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2290", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2290/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2290/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2290/events", "html_url": "https://github.com/rasterio/rasterio/issues/2290", "id": 995352069, "node_id": "MDU6SXNzdWU5OTUzNTIwNjk=", "number": 2290, "title": "CRS: PROJ string input to WKT does not roundtrip anymore for EPSG", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/112", "html_url": "https://github.com/rasterio/rasterio/milestone/112", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/112/labels", "id": 7207027, "node_id": "MI_kwDOANdm_M4Abfhz", "number": 112, "title": "1.2.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2021-09-30T18:07:33Z", "updated_at": "2021-10-01T20:18:20Z", "due_on": null, "closed_at": "2021-10-01T20:18:20Z"}, "comments": 1, "created_at": "2021-09-13T21:22:19Z", "updated_at": "2021-10-01T20:30:31Z", "closed_at": "2021-10-01T20:18:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I am thinking this is a GDAL issue and not so much a rasterio issue. However, having an issue here will be helpful in case others run into this scenario and are looking through issues.\r\n\r\nPreviously the exported WKT was then able to be imported by GDAL/rasterio and identified as EPSG:4326:\r\n\r\n```python\r\n>>> import rasterio\r\n>>> rasterio.__version__\r\n'1.2.6'\r\n>>> rasterio.__gdal_version__\r\n'3.2.1'\r\n>>> import rasterio.crs\r\n>>> rcrs = rasterio.crs.CRS.from_proj4(\"+proj=longlat\")\r\n>>> rcrs\r\nCRS.from_epsg(4326)\r\n>>> wcrs = rasterio.crs.CRS.from_wkt(rcrs.to_wkt())\r\n>>> wcrs\r\nCRS.from_epsg(4326)\r\n```\r\n\r\nWith the latest, this is no longer possible:\r\n```python\r\n>>> import rasterio\r\n>>> rasterio.__version__\r\n'1.2.8'\r\n>>> rasterio.__gdal_version__\r\n'3.3.2'\r\n>>> import rasterio.crs\r\n>>> rcrs = rasterio.crs.CRS.from_proj4(\"+proj=longlat\")\r\n>>> wcrs = rasterio.crs.CRS.from_wkt(rcrs.to_wkt())\r\n>>> wcrs.to_epsg()\r\n```\r\n\r\nInvestigating with `pyproj.CRS.list_authority` shows that `EPSG:4326` isn't in the matched CRS list:\r\n```python\r\n>>> from pyproj import CRS\r\n>>> pcrs = CRS(rcrs.to_wkt())\r\n>>> pcrs.list_authority()\r\n[AuthorityMatchInfo(auth_name='OGC', code='CRS84', confidence=70), AuthorityMatchInfo(auth_name='IGNF', code='WGS84GDD', confidence=70), AuthorityMatchInfo(auth_name='IGNF', code='WGS84G', confidence=70)]\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2290/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2288", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2288/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2288/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2288/events", "html_url": "https://github.com/rasterio/rasterio/issues/2288", "id": 994923988, "node_id": "MDU6SXNzdWU5OTQ5MjM5ODg=", "number": 2288, "title": "BUG: Filter matches by confidence of 70% or higher for CRS", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 2, "created_at": "2021-09-13T13:56:23Z", "updated_at": "2021-10-01T20:32:06Z", "closed_at": "2021-10-01T20:32:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/mapbox/rasterio/blob/6185a4e4ad72b5669066d2d5004bf46d94a6d298/rasterio/_crs.pyx#L270-L316\r\n\r\nReferences:\r\n- https://github.com/OSGeo/PROJ/issues/1196#issuecomment-446768020\r\n- https://gis.stackexchange.com/a/326919/144357", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2288/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2285", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2285/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2285/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2285/events", "html_url": "https://github.com/rasterio/rasterio/pull/2285", "id": 991492621, "node_id": "MDExOlB1bGxSZXF1ZXN0NzI5OTQ3OTM1", "number": 2285, "title": "Branch after testing for __iter__ and open up to all numeric types", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/111", "html_url": "https://github.com/rasterio/rasterio/milestone/111", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/111/labels", "id": 7135681, "node_id": "MI_kwDOANdm_M4AbOHB", "number": 111, "title": "1.2.8", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2021-09-08T20:17:07Z", "updated_at": "2021-09-09T16:14:35Z", "due_on": null, "closed_at": "2021-09-09T16:14:35Z"}, "comments": 0, "created_at": "2021-09-08T20:16:59Z", "updated_at": "2021-09-08T21:57:02Z", "closed_at": "2021-09-08T21:56:58Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2285", "html_url": "https://github.com/rasterio/rasterio/pull/2285", "diff_url": "https://github.com/rasterio/rasterio/pull/2285.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2285.patch", "merged_at": "2021-09-08T21:56:58Z"}, "body": "Resolves #2283", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2285/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2283", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2283/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2283/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2283/events", "html_url": "https://github.com/rasterio/rasterio/issues/2283", "id": 991090027, "node_id": "MDU6SXNzdWU5OTEwOTAwMjc=", "number": 2283, "title": "rio.transform.xy does not accept all float and int data types when passing a single row/col", "user": {"login": "rhugonnet", "id": 28896516, "node_id": "MDQ6VXNlcjI4ODk2NTE2", "avatar_url": "https://avatars.githubusercontent.com/u/28896516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhugonnet", "html_url": "https://github.com/rhugonnet", "followers_url": "https://api.github.com/users/rhugonnet/followers", "following_url": "https://api.github.com/users/rhugonnet/following{/other_user}", "gists_url": "https://api.github.com/users/rhugonnet/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhugonnet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhugonnet/subscriptions", "organizations_url": "https://api.github.com/users/rhugonnet/orgs", "repos_url": "https://api.github.com/users/rhugonnet/repos", "events_url": "https://api.github.com/users/rhugonnet/events{/privacy}", "received_events_url": "https://api.github.com/users/rhugonnet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/111", "html_url": "https://github.com/rasterio/rasterio/milestone/111", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/111/labels", "id": 7135681, "node_id": "MI_kwDOANdm_M4AbOHB", "number": 111, "title": "1.2.8", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2021-09-08T20:17:07Z", "updated_at": "2021-09-09T16:14:35Z", "due_on": null, "closed_at": "2021-09-09T16:14:35Z"}, "comments": 3, "created_at": "2021-09-08T12:35:20Z", "updated_at": "2021-09-09T16:11:15Z", "closed_at": "2021-09-09T16:11:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi all,\r\n\r\nSince 1.2.7 release yesterday, `rio.transform.xy` does not accept certain data types anymore for non-Iterable (single point) transformation.\r\n\r\nWorking example for reproducing the error:\r\n```python\r\ntransform = Affine(20.0, 0.0, 502810.0, 0.0, -20.0, 8674030.0)\r\nrows = np.int64(0)\r\ncols = np.int64(0)\r\noffset = 'ul'\r\nrio.transform.xy(transform, rows, cols, offset=offset)\r\n```\r\nOutput:\r\n```\r\nTraceback (most recent call last):\r\n  File \"<input>\", line 5, in <module>\r\n  File \"/home/atom/miniconda3/envs/xdem-dev/lib/python3.9/site-packages/rasterio/transform.py\", line 177, in xy\r\n    raise TransformError(\"Invalid inputs\")\r\nrasterio.errors.TransformError: Invalid inputs\r\n```\r\n\r\nThe commit creating this behavior change is here: https://github.com/mapbox/rasterio/commit/22636eac82baf391bc69706baa841a682eef9e78#diff-0c5d56d4190d3603e40c1faab3c11ff7c4c71949948e951cd05d8d5578ebd6fd\r\n\r\nSpecifically, it's the data type checking lines:\r\n```python\r\nif isinstance(rows, (int, float)) and isinstance(cols, (int, float)):\r\n        return adjusted_transform * (cols, rows)\r\nelif isinstance(rows, Iterable) and isinstance(cols, Iterable):\r\n      xs, ys = zip(*(adjusted_transform * (col, row) for col, row in zip(cols, rows)))\r\n      return list(xs), list(ys)\r\n  else:\r\n      raise TransformError(\"Invalid inputs\")\r\n```\r\n\r\nI'm not sure if this the new intended behaviour, or if one should modify to `isinstance(rows, (int, np.integer, float, np.float))` or similar?\r\n\r\nAnd btw, thanks for all the work on this package!", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2283/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2283/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2282", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2282/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2282/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2282/events", "html_url": "https://github.com/rasterio/rasterio/issues/2282", "id": 990317746, "node_id": "MDU6SXNzdWU5OTAzMTc3NDY=", "number": 2282, "title": "Flaky reprojection tests", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 3332518674, "node_id": "MDU6TGFiZWwzMzMyNTE4Njc0", "url": "https://api.github.com/repos/rasterio/rasterio/labels/ci", "name": "ci", "color": "1A726D", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-09-07T20:24:42Z", "updated_at": "2021-09-08T21:56:34Z", "closed_at": "2021-09-08T21:56:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In the project's builds on Travis I'm seeing sporadic instances of `rasterio._err.CPLE_AppDefinedError: PROJ: proj_create: Error -5: unknown projection id` coming from, for example, tests/test_warp_transform.py. I've been able to re-run the particular build without errors, but something is not quite right and it would be good to know what is going on.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2282/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2282/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2275", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2275/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2275/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2275/events", "html_url": "https://github.com/rasterio/rasterio/issues/2275", "id": 985393815, "node_id": "MDU6SXNzdWU5ODUzOTM4MTU=", "number": 2275, "title": "RPC tests success depends on execution order", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 0, "created_at": "2021-09-01T17:08:27Z", "updated_at": "2021-09-01T19:03:45Z", "closed_at": "2021-09-01T19:03:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Found using the pytest-random-order plugin.\r\n\r\n```\r\n(dev-rasterio) sean@PF-17LYEH:~/projects/rasterio$ python -m pytest -q -k \"test_rpcs\"\r\nTest data present.\r\n.........                                                                                                                                                                                                   [100%]\r\n9 passed, 1945 deselected in 8.92 seconds\r\n(dev-rasterio) sean@PF-17LYEH:~/projects/rasterio$ python -m pytest -q -k \"test_rpcs\" --random-order\r\nTest data present.\r\n......F..                                                                                                                                                                                                   [100%]\r\n==================================================================================================== FAILURES =====================================================================================================\r\n________________________________________________________________________________________________ test_rpcs_to_gdal ________________________________________________________________________________________________\r\n\r\n    def test_rpcs_to_gdal():\r\n        rpcs = RPC(**TEST_RPCS_NATIVE_PYTHON)\r\n        for key, value in rpcs.to_gdal().items():\r\n>           assert key in TEST_RPCS_FROM_GDAL.keys()\r\nE           AssertionError: assert 'ERR_BIAS' in dict_keys(['HEIGHT_OFF', 'HEIGHT_SCALE', 'LAT_OFF', 'LAT_SCALE', 'LINE_DEN_COEFF', 'LINE_NUM_COEFF', 'LINE_OFF', 'LINE_SCALE', 'LONG_OFF', 'LONG_SCALE', 'SAMP_DEN_COEFF', 'SAMP_NUM_COEFF', 'SAMP_OFF', 'SAMP_SCALE'])\r\nE            +  where dict_keys(['HEIGHT_OFF', 'HEIGHT_SCALE', 'LAT_OFF', 'LAT_SCALE', 'LINE_DEN_COEFF', 'LINE_NUM_COEFF', 'LINE_OFF', 'LINE_SCALE', 'LONG_OFF', 'LONG_SCALE', 'SAMP_DEN_COEFF', 'SAMP_NUM_COEFF', 'SAMP_OFF', 'SAMP_SCALE']) = <built-in method keys of dict object at 0x7fa6cac03e60>()\r\nE            +    where <built-in method keys of dict object at 0x7fa6cac03e60> = {'HEIGHT_OFF': '8.900000000000000e+01', 'HEIGHT_SCALE': '7.010000000000000e+02', 'LAT_OFF': '4.921990000000000e+01', 'LAT_SCALE': '3.093000000000000e-01', ...}.keys\r\n\r\ntests/test_rpcs.py:132: AssertionError\r\n1 failed, 8 passed, 1945 deselected in 9.04 seconds\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2275/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2273", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2273/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2273/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2273/events", "html_url": "https://github.com/rasterio/rasterio/issues/2273", "id": 984372502, "node_id": "MDU6SXNzdWU5ODQzNzI1MDI=", "number": 2273, "title": "Switch from OSRAutoIdentifyEPSG to OSRFindMatches", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/110", "html_url": "https://github.com/rasterio/rasterio/milestone/110", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/110/labels", "id": 6946516, "node_id": "MDk6TWlsZXN0b25lNjk0NjUxNg==", "number": 110, "title": "1.2.7", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2021-07-14T19:26:54Z", "updated_at": "2021-09-07T17:23:30Z", "due_on": null, "closed_at": "2021-09-07T17:23:30Z"}, "comments": 3, "created_at": "2021-08-31T22:12:37Z", "updated_at": "2021-09-07T17:21:54Z", "closed_at": "2021-09-07T17:21:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For fit with GDAL 3.3.2. See https://lists.osgeo.org/pipermail/gdal-dev/2021-August/054600.html.\r\n\r\nAPI reference: https://gdal.org/doxygen/ogr__srs__api_8h.html#afb64acc80626c9ea0f9ec75017a10169.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2273/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2273/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2267", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2267/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2267/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2267/events", "html_url": "https://github.com/rasterio/rasterio/issues/2267", "id": 976483610, "node_id": "MDU6SXNzdWU5NzY0ODM2MTA=", "number": 2267, "title": "rasterio.open does not accept fp as a keyword argument", "user": {"login": "nathanjmcdougall", "id": 18602289, "node_id": "MDQ6VXNlcjE4NjAyMjg5", "avatar_url": "https://avatars.githubusercontent.com/u/18602289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nathanjmcdougall", "html_url": "https://github.com/nathanjmcdougall", "followers_url": "https://api.github.com/users/nathanjmcdougall/followers", "following_url": "https://api.github.com/users/nathanjmcdougall/following{/other_user}", "gists_url": "https://api.github.com/users/nathanjmcdougall/gists{/gist_id}", "starred_url": "https://api.github.com/users/nathanjmcdougall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nathanjmcdougall/subscriptions", "organizations_url": "https://api.github.com/users/nathanjmcdougall/orgs", "repos_url": "https://api.github.com/users/nathanjmcdougall/repos", "events_url": "https://api.github.com/users/nathanjmcdougall/events{/privacy}", "received_events_url": "https://api.github.com/users/nathanjmcdougall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/110", "html_url": "https://github.com/rasterio/rasterio/milestone/110", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/110/labels", "id": 6946516, "node_id": "MDk6TWlsZXN0b25lNjk0NjUxNg==", "number": 110, "title": "1.2.7", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2021-07-14T19:26:54Z", "updated_at": "2021-09-07T17:23:30Z", "due_on": null, "closed_at": "2021-09-07T17:23:30Z"}, "comments": 1, "created_at": "2021-08-22T22:17:21Z", "updated_at": "2021-09-07T17:21:54Z", "closed_at": "2021-09-07T17:21:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\n`rasterio.open` requires a path to the raster as its first argument (named `fp`).\r\nhttps://github.com/mapbox/rasterio/blob/3910956d6cfadd55ea085dd60790246c167967cd/rasterio/__init__.py#L58-L59\r\n\r\nIt uses the decorator `ensure_env_with_credentials`, which contains the following line:\r\nhttps://github.com/mapbox/rasterio/blob/3910956d6cfadd55ea085dd60790246c167967cd/rasterio/env.py#L425\r\n\r\nThe issue with this line is that it accesses `fp` through a list of non-keyword arguments (through the wrapper function). But if `fp` is passed as a keyword argument, then the list of keyword arguments is potentially empty, so this line will raise an IndexError.\r\n\r\nI would have expected either:\r\n\r\n- A more informative error\r\n- A support for passing `fp` as a keyword argument.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nFor example, supposing we had a raster at ./test.tiff:\r\n`with rasterio.open(fp='./test.tiff') as src:\r\n    pass`\r\nwill raise IndexError: tuple index out of range.\r\n\r\n## Operating system\r\n\r\nI'm using Windows 10.\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 1.1.1, build py38h2617b1b_0 from conda-forge.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2267/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2266", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2266/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2266/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2266/events", "html_url": "https://github.com/rasterio/rasterio/issues/2266", "id": 973077829, "node_id": "MDU6SXNzdWU5NzMwNzc4Mjk=", "number": 2266, "title": "Replace pad_x with pad_y in geometry_window", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/110", "html_url": "https://github.com/rasterio/rasterio/milestone/110", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/110/labels", "id": 6946516, "node_id": "MDk6TWlsZXN0b25lNjk0NjUxNg==", "number": 110, "title": "1.2.7", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2021-07-14T19:26:54Z", "updated_at": "2021-09-07T17:23:30Z", "due_on": null, "closed_at": "2021-09-07T17:23:30Z"}, "comments": 0, "created_at": "2021-08-17T21:25:12Z", "updated_at": "2021-09-07T17:21:54Z", "closed_at": "2021-09-07T17:21:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Specifically at https://github.com/mapbox/rasterio/blob/master/rasterio/features.py#L459.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2266/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2266/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2265", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2265/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2265/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2265/events", "html_url": "https://github.com/rasterio/rasterio/pull/2265", "id": 967156067, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA5MzQ3MjIw", "number": 2265, "title": "Allow unsafe casting in min/max merge.", "user": {"login": "groutr", "id": 10678620, "node_id": "MDQ6VXNlcjEwNjc4NjIw", "avatar_url": "https://avatars.githubusercontent.com/u/10678620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/groutr", "html_url": "https://github.com/groutr", "followers_url": "https://api.github.com/users/groutr/followers", "following_url": "https://api.github.com/users/groutr/following{/other_user}", "gists_url": "https://api.github.com/users/groutr/gists{/gist_id}", "starred_url": "https://api.github.com/users/groutr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/groutr/subscriptions", "organizations_url": "https://api.github.com/users/groutr/orgs", "repos_url": "https://api.github.com/users/groutr/repos", "events_url": "https://api.github.com/users/groutr/events{/privacy}", "received_events_url": "https://api.github.com/users/groutr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 2, "created_at": "2021-08-11T17:47:53Z", "updated_at": "2021-10-20T20:19:55Z", "closed_at": "2021-10-20T20:19:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2265", "html_url": "https://github.com/rasterio/rasterio/pull/2265", "diff_url": "https://github.com/rasterio/rasterio/pull/2265.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2265.patch", "merged_at": "2021-10-20T20:19:44Z"}, "body": "Allows np.minimum/maximum to do unsafe casting during merges.\r\nComplements https://github.com/mapbox/rasterio/issues/2179", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2265/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2254", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2254/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2254/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2254/events", "html_url": "https://github.com/rasterio/rasterio/issues/2254", "id": 956264159, "node_id": "MDU6SXNzdWU5NTYyNjQxNTk=", "number": 2254, "title": "Use boto3.Session().get_credentials()", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/110", "html_url": "https://github.com/rasterio/rasterio/milestone/110", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/110/labels", "id": 6946516, "node_id": "MDk6TWlsZXN0b25lNjk0NjUxNg==", "number": 110, "title": "1.2.7", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2021-07-14T19:26:54Z", "updated_at": "2021-09-07T17:23:30Z", "due_on": null, "closed_at": "2021-09-07T17:23:30Z"}, "comments": 0, "created_at": "2021-07-29T22:58:47Z", "updated_at": "2021-08-16T21:02:09Z", "closed_at": "2021-08-16T21:02:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In some places (mostly in tests) an [old approach](https://github.com/mapbox/rasterio/blob/3c630f8a30d31ceb61aa52ad3ab96f4fc25f2ecd/rasterio/session.py#L290) to obtain AWS credentials is being used:\r\n```\r\nboto3.Session()._session.get_credentials()\r\n````\r\n\r\nDedicated method to obtain credentials [was added](https://github.com/boto/boto3/commit/982d571ee86f0d8359d338bda66d205fa5713259) more than 5 years ago. Using the official boto3 API seems to be better than relying on properties that are not part of the API.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2254/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2248", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2248/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2248/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2248/events", "html_url": "https://github.com/rasterio/rasterio/issues/2248", "id": 948826621, "node_id": "MDU6SXNzdWU5NDg4MjY2MjE=", "number": 2248, "title": "rasterio.windows.from_bounds: unused parameters height, width", "user": {"login": "adamjstewart", "id": 12021217, "node_id": "MDQ6VXNlcjEyMDIxMjE3", "avatar_url": "https://avatars.githubusercontent.com/u/12021217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamjstewart", "html_url": "https://github.com/adamjstewart", "followers_url": "https://api.github.com/users/adamjstewart/followers", "following_url": "https://api.github.com/users/adamjstewart/following{/other_user}", "gists_url": "https://api.github.com/users/adamjstewart/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamjstewart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamjstewart/subscriptions", "organizations_url": "https://api.github.com/users/adamjstewart/orgs", "repos_url": "https://api.github.com/users/adamjstewart/repos", "events_url": "https://api.github.com/users/adamjstewart/events{/privacy}", "received_events_url": "https://api.github.com/users/adamjstewart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 4, "created_at": "2021-07-20T16:15:10Z", "updated_at": "2021-09-15T16:50:52Z", "closed_at": "2021-09-15T16:50:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `rasterio.windows.from_bounds` function has two required parameters: height and width. However, not only are these parameters not required, they're actually not used in any way. Should these be removed, or am I missing something here?\r\n\r\n@calebrob6 ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2248/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2242", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2242/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2242/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2242/events", "html_url": "https://github.com/rasterio/rasterio/issues/2242", "id": 943559477, "node_id": "MDU6SXNzdWU5NDM1NTk0Nzc=", "number": 2242, "title": "The behavior of rasterio.transform methods on single-element iterable inputs is broken since v1.2.1", "user": {"login": "Ariki", "id": 519412, "node_id": "MDQ6VXNlcjUxOTQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/519412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ariki", "html_url": "https://github.com/Ariki", "followers_url": "https://api.github.com/users/Ariki/followers", "following_url": "https://api.github.com/users/Ariki/following{/other_user}", "gists_url": "https://api.github.com/users/Ariki/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ariki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ariki/subscriptions", "organizations_url": "https://api.github.com/users/Ariki/orgs", "repos_url": "https://api.github.com/users/Ariki/repos", "events_url": "https://api.github.com/users/Ariki/events{/privacy}", "received_events_url": "https://api.github.com/users/Ariki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/110", "html_url": "https://github.com/rasterio/rasterio/milestone/110", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/110/labels", "id": 6946516, "node_id": "MDk6TWlsZXN0b25lNjk0NjUxNg==", "number": 110, "title": "1.2.7", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2021-07-14T19:26:54Z", "updated_at": "2021-09-07T17:23:30Z", "due_on": null, "closed_at": "2021-09-07T17:23:30Z"}, "comments": 1, "created_at": "2021-07-13T15:37:11Z", "updated_at": "2021-09-07T17:21:53Z", "closed_at": "2021-09-07T17:21:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\n`rasterio.transform.rowcol()` and `rasterio.transform.xy()` are expected to return a tuple of two arrays when received iterables as coordinate inputs. It used to be so in versions <= 1.2.0, but since rasterio==1.2.1 these methods return a tuple of two floats in case when two single-element iterables were passed.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nfrom rasterio.transform import Affine, rowcol, xy\r\ntr = Affine.identity()\r\nprint(xy(tr, [10], [20]))\r\n# rasterio 1.2.0 output (expected behavior): ([20.5], [10.5])\r\n# rasterio 1.2.1 output (broken behavior): (20.5, 10.5)\r\nprint(rowcol(tr, [10], [20]))\r\n# rasterio 1.2.0 output (expected behavior): ([20], [10])\r\n# rasterio 1.2.1 output (broken behavior): (20, 10)\r\n```\r\n\r\n## Operating system\r\n\r\nAll operating systems\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio >= 1.2.1\r\n\r\nI believe this may also affect pull request #2225 (I didn't test it).\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2242/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2236", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2236/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2236/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2236/events", "html_url": "https://github.com/rasterio/rasterio/pull/2236", "id": 941354180, "node_id": "MDExOlB1bGxSZXF1ZXN0Njg3MjYwOTM1", "number": 2236, "title": "BUG: Allow read/write inf as nodata value", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 2, "created_at": "2021-07-11T01:46:26Z", "updated_at": "2021-07-12T23:21:12Z", "closed_at": "2021-07-12T22:20:59Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2236", "html_url": "https://github.com/rasterio/rasterio/pull/2236", "diff_url": "https://github.com/rasterio/rasterio/pull/2236.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2236.patch", "merged_at": "2021-07-12T22:20:59Z"}, "body": "Closes #2227\r\n\r\n@sgillies there are now 3 versions of the function `in_dtype_range`. Do you foresee any problems if we only used the version in `dtypes.py`?", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2236/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2236/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2232", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2232/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2232/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2232/events", "html_url": "https://github.com/rasterio/rasterio/issues/2232", "id": 935428657, "node_id": "MDU6SXNzdWU5MzU0Mjg2NTc=", "number": 2232, "title": "rio clip doesn't take into account mask band", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/112", "html_url": "https://github.com/rasterio/rasterio/milestone/112", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/112/labels", "id": 7207027, "node_id": "MI_kwDOANdm_M4Abfhz", "number": 112, "title": "1.2.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2021-09-30T18:07:33Z", "updated_at": "2021-10-01T20:18:20Z", "due_on": null, "closed_at": "2021-10-01T20:18:20Z"}, "comments": 0, "created_at": "2021-07-02T05:25:45Z", "updated_at": "2021-10-01T20:18:05Z", "closed_at": "2021-10-01T20:18:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**gdal_translate**\r\n\r\n```\r\n$ export GDAL_TIFF_INTERNAL_MASK=YES\r\n$ gdal_translate -projwin 119974.152936 2855615.99731 265006.012536 2717757.29023 masked.tif tile-gdal.tif\r\n```\r\n![001](https://user-images.githubusercontent.com/866124/124267046-0e547680-db38-11eb-8704-95e765f79d97.png)\r\n\r\n**rio clip**\r\n\r\n```\r\n$ export GDAL_TIFF_INTERNAL_MASK=YES\r\n$ rio clip --format GTiff --bounds \"119974.152936 2717757.29023 265006.012536 2855615.99731\" \\\r\nmasked.tif tile-rio.tif\r\n```\r\n![002](https://user-images.githubusercontent.com/866124/124267119-1f04ec80-db38-11eb-8031-0555c059d40a.png)\r\n\r\nTest data: [masked.tif.zip](https://github.com/mapbox/rasterio/files/6754258/masked.tif.zip)\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2232/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2223", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2223/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2223/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2223/events", "html_url": "https://github.com/rasterio/rasterio/pull/2223", "id": 931401755, "node_id": "MDExOlB1bGxSZXF1ZXN0Njc4OTAzMjcw", "number": 2223, "title": "Add LERC_ZSTD & LERC_DEFLATE compression enum values", "user": {"login": "ajnisbet", "id": 10361305, "node_id": "MDQ6VXNlcjEwMzYxMzA1", "avatar_url": "https://avatars.githubusercontent.com/u/10361305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajnisbet", "html_url": "https://github.com/ajnisbet", "followers_url": "https://api.github.com/users/ajnisbet/followers", "following_url": "https://api.github.com/users/ajnisbet/following{/other_user}", "gists_url": "https://api.github.com/users/ajnisbet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajnisbet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajnisbet/subscriptions", "organizations_url": "https://api.github.com/users/ajnisbet/orgs", "repos_url": "https://api.github.com/users/ajnisbet/repos", "events_url": "https://api.github.com/users/ajnisbet/events{/privacy}", "received_events_url": "https://api.github.com/users/ajnisbet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 0, "created_at": "2021-06-28T10:08:36Z", "updated_at": "2021-06-28T15:31:44Z", "closed_at": "2021-06-28T15:31:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2223", "html_url": "https://github.com/rasterio/rasterio/pull/2223", "diff_url": "https://github.com/rasterio/rasterio/pull/2223.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2223.patch", "merged_at": "2021-06-28T15:31:43Z"}, "body": "GDAL [supports](https://gdal.org/drivers/raster/gtiff.html) these compression algorithms now when LERC and ZSTD/DEFLATE are available.\r\n\r\nBased on previous PRs adding support for [ZSTD](https://github.com/mapbox/rasterio/commit/ed458b02a55dca6abf28f0844c336005c14a4334) and [LERC](https://github.com/mapbox/rasterio/pull/1412), it's enough to just add the enum values.\r\n\r\nRasterio can already read geotiffs compressed with LERC_ZSTD and LERC_DEFLATE, this PR prevents a value error when accessing `.compression` and lets rasterio write with these algorithms.\r\n\r\n\r\n```python\r\n>>> with rasterio.open('lerc_zstd.tif') as f:\r\n...     f.read()  # Runs fine\r\n...     f.compression \r\nValueError: 'LERC_ZSTD' is not a valid Compression\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2223/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2222", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2222/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2222/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2222/events", "html_url": "https://github.com/rasterio/rasterio/issues/2222", "id": 930887945, "node_id": "MDU6SXNzdWU5MzA4ODc5NDU=", "number": 2222, "title": "Rasterio warp issue for antimeridian bounding box", "user": {"login": "alexgleith", "id": 3445853, "node_id": "MDQ6VXNlcjM0NDU4NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/3445853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexgleith", "html_url": "https://github.com/alexgleith", "followers_url": "https://api.github.com/users/alexgleith/followers", "following_url": "https://api.github.com/users/alexgleith/following{/other_user}", "gists_url": "https://api.github.com/users/alexgleith/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexgleith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexgleith/subscriptions", "organizations_url": "https://api.github.com/users/alexgleith/orgs", "repos_url": "https://api.github.com/users/alexgleith/repos", "events_url": "https://api.github.com/users/alexgleith/events{/privacy}", "received_events_url": "https://api.github.com/users/alexgleith/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 13, "created_at": "2021-06-27T09:22:56Z", "updated_at": "2021-09-28T18:51:10Z", "closed_at": "2021-09-28T18:51:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nTransformation between two coordinate systems yields the correct result\r\n\r\n## Steps to reproduce the problem.\r\n\r\nNotebook is here: https://gist.github.com/alexgleith/f94f3f3da2f43dd6cfab84eb9d8a13f7\r\n\r\nKey code is this:\r\n\r\n```python\r\nfile = \"https://soilspackage-useast.s3.amazonaws.com/EsriLandCover/01C_20200101-20210101.tif\"\r\nwith rasterio.open(file) as f:\r\n    bbox = f.bounds\r\n    bbox_rasterio = warp.transform_bounds(f.crs, \"epsg:4326\", *f.bounds)\r\n    \r\n    transformer = Transformer.from_crs(f.crs, \"EPSG:4326\", always_xy=True)\r\n    bbox_proj = transformer.transform(f.bounds[0], f.bounds[1])\r\n    bbox_proj += transformer.transform(f.bounds[2], f.bounds[3])\r\n```\r\n\r\n## Operating system\r\n\r\nFor example: Mac OS X 10.15.7 \r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio 1.2.6 installed on a mac with --no-binary against GDAL 3.3.0, released 2021/04/26\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2222/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2220", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2220/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2220/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2220/events", "html_url": "https://github.com/rasterio/rasterio/issues/2220", "id": 928526839, "node_id": "MDU6SXNzdWU5Mjg1MjY4Mzk=", "number": 2220, "title": "Metadata tags - splitting XML into (key, value) pair", "user": {"login": "andrew-hardin", "id": 16496326, "node_id": "MDQ6VXNlcjE2NDk2MzI2", "avatar_url": "https://avatars.githubusercontent.com/u/16496326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrew-hardin", "html_url": "https://github.com/andrew-hardin", "followers_url": "https://api.github.com/users/andrew-hardin/followers", "following_url": "https://api.github.com/users/andrew-hardin/following{/other_user}", "gists_url": "https://api.github.com/users/andrew-hardin/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrew-hardin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrew-hardin/subscriptions", "organizations_url": "https://api.github.com/users/andrew-hardin/orgs", "repos_url": "https://api.github.com/users/andrew-hardin/repos", "events_url": "https://api.github.com/users/andrew-hardin/events{/privacy}", "received_events_url": "https://api.github.com/users/andrew-hardin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 0, "created_at": "2021-06-23T18:21:44Z", "updated_at": "2021-09-30T15:50:53Z", "closed_at": "2021-09-30T15:50:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nWhen accessing the `xml:TRE` metadata domain of a NITF file, I expected to receive back the XML document as a single string.\r\nInstead, the XML document was split into a key-value pair based on the first occurrence of `=`.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport rasterio\r\n\r\n# Test with this:\r\n# https://github.com/OSGeo/gdal/blob/master/autotest/gdrivers/data/nitf/SENSRB_TRE.ntf?raw=true\r\ndataset = rasterio.open(\"SENSRB_TRE.ntf\")\r\nans = dataset.tags(ns=\"xml:TRE\")\r\nkey, value = next(iter(ans.items()))\r\nprint(key)\r\n\r\n# The key contains some of the XML document. It looks like the\r\n# document was split into a (key, value) pair based on the first \r\n# occurrence of a '='.\r\n\r\n```\r\n\r\nAt a high level, the issue is that not every metadata field returned by GDAL is a key-value pair.\r\nMaybe this issue could be resolved by skipping the key-value split if `ns.startswith('xml:')`.\r\n\r\n## Operating system\r\n\r\nRHEL7\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio v1.2.4 from PyPI via pip v21.1.2 (everything in a Conda environment)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2220/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2220/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2206", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2206/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2206/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2206/events", "html_url": "https://github.com/rasterio/rasterio/issues/2206", "id": 918145745, "node_id": "MDU6SXNzdWU5MTgxNDU3NDU=", "number": 2206, "title": "CInt16 Data without NoData is set to -10000000000.0 instead of None", "user": {"login": "scottyhq", "id": 3924836, "node_id": "MDQ6VXNlcjM5MjQ4MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/3924836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottyhq", "html_url": "https://github.com/scottyhq", "followers_url": "https://api.github.com/users/scottyhq/followers", "following_url": "https://api.github.com/users/scottyhq/following{/other_user}", "gists_url": "https://api.github.com/users/scottyhq/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottyhq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottyhq/subscriptions", "organizations_url": "https://api.github.com/users/scottyhq/orgs", "repos_url": "https://api.github.com/users/scottyhq/repos", "events_url": "https://api.github.com/users/scottyhq/events{/privacy}", "received_events_url": "https://api.github.com/users/scottyhq/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/108", "html_url": "https://github.com/rasterio/rasterio/milestone/108", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/108/labels", "id": 6812027, "node_id": "MDk6TWlsZXN0b25lNjgxMjAyNw==", "number": 108, "title": "1.2.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-06-01T13:53:31Z", "updated_at": "2021-06-22T02:41:21Z", "due_on": null, "closed_at": "2021-06-22T02:38:17Z"}, "comments": 1, "created_at": "2021-06-11T02:38:13Z", "updated_at": "2021-06-22T02:40:00Z", "closed_at": "2021-06-22T02:39:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/mapbox/rasterio/pull/2185 seems to have solved #2182 except for one issue. For files that *do not* have a NoData value set (sentinel1 SLC tifs for example), rasterio sets 'nodata' to -10000000000.0 instead of None. I had a look at the files changed in the PR above but am not sure where nodata gets set, but modifying the test function reproduces the issue:\r\nhttps://github.com/mapbox/rasterio/blob/f9225ea2a9a99a8601a42e8e284e914497176c0c/tests/test_complex_dtypes.py#L84\r\n\r\n## Expected behavior and actual behavior.\r\n\r\n'nodata' should be None\r\n\r\n> {'driver': 'GTiff', 'dtype': 'complex_int16', 'nodata': -10000000000.0, 'width': 240, 'height': 180, 'count': 1, 'crs': CRS.from_epsg(4326), 'transform': Affine(0.03333333333333333, 0.0, -4.016666666666667,\r\n       0.0, -0.03333333333333333, 2.9833333333333334), 'tiled': False, 'interleave': 'band'}\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nx = np.linspace(-4.0, 4.0, 240)\r\ny = np.linspace(-3.0, 3.0, 180)\r\nX, Y = np.meshgrid(x, y)\r\nZ1 = np.ones_like(X) + 1j\r\n\r\nres = (x[-1] - x[0]) / 240.0\r\ntransform1 = Affine.translation(x[0] - res / 2, y[-1] - res / 2) * Affine.scale(\r\n    res, -res\r\n)\r\n\r\ntempfile = str(\"tmp.tif\")\r\n\r\nwith rasterio.open(\r\n    tempfile,\r\n    \"w\",\r\n    driver=\"GTiff\",\r\n    height=Z1.shape[0],\r\n    width=Z1.shape[1],\r\n    nodata=None,\r\n    count=1,\r\n    dtype=\"complex_int16\",\r\n    crs=\"+proj=latlong\",\r\n    transform=transform1,\r\n) as dst:\r\n    dst.write(Z1, 1)\r\n\r\nwith rasterio.open(tempfile) as dst:\r\n    print(dst.profile)\r\n```\r\n\r\n## Rasterio version and provenance\r\n\r\n1.2.4 from conda-forge\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2206/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2205", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2205/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2205/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2205/events", "html_url": "https://github.com/rasterio/rasterio/issues/2205", "id": 918139383, "node_id": "MDU6SXNzdWU5MTgxMzkzODM=", "number": 2205, "title": "Merge is prone to off-by-one pixel errors", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 8, "created_at": "2021-06-11T02:25:54Z", "updated_at": "2021-10-14T21:06:10Z", "closed_at": "2021-10-14T21:06:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This issue is a PSA as much as anything else. If you use rasterio's merge tool to make a mosaic of source datasets that are not mutually pixel aligned, you are likely to see off-by-one errors. This is because we do our compositing using a numpy array, with integer indexes, as a canvas. Whereas GDAL's gdal_merge.py uses a GDAL dataset as a canvas and can tap into GDAL's resampling I/O.\r\n\r\ncc @groutr ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2205/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2204", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2204/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2204/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2204/events", "html_url": "https://github.com/rasterio/rasterio/pull/2204", "id": 918089332, "node_id": "MDExOlB1bGxSZXF1ZXN0NjY3NTU4NDM2", "number": 2204, "title": "Keep temp and dest region arrays to same shape in merge", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/108", "html_url": "https://github.com/rasterio/rasterio/milestone/108", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/108/labels", "id": 6812027, "node_id": "MDk6TWlsZXN0b25lNjgxMjAyNw==", "number": 108, "title": "1.2.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-06-01T13:53:31Z", "updated_at": "2021-06-22T02:41:21Z", "due_on": null, "closed_at": "2021-06-22T02:38:17Z"}, "comments": 0, "created_at": "2021-06-11T00:46:34Z", "updated_at": "2021-06-11T17:00:42Z", "closed_at": "2021-06-11T13:28:13Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2204", "html_url": "https://github.com/rasterio/rasterio/pull/2204", "diff_url": "https://github.com/rasterio/rasterio/pull/2204.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2204.patch", "merged_at": "2021-06-11T13:28:13Z"}, "body": "Resolves #2202", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2204/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2202", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2202/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2202/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2202/events", "html_url": "https://github.com/rasterio/rasterio/issues/2202", "id": 915157123, "node_id": "MDU6SXNzdWU5MTUxNTcxMjM=", "number": 2202, "title": "Off-by-one error when merging with bounds", "user": {"login": "fwfichtner", "id": 12199342, "node_id": "MDQ6VXNlcjEyMTk5MzQy", "avatar_url": "https://avatars.githubusercontent.com/u/12199342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fwfichtner", "html_url": "https://github.com/fwfichtner", "followers_url": "https://api.github.com/users/fwfichtner/followers", "following_url": "https://api.github.com/users/fwfichtner/following{/other_user}", "gists_url": "https://api.github.com/users/fwfichtner/gists{/gist_id}", "starred_url": "https://api.github.com/users/fwfichtner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fwfichtner/subscriptions", "organizations_url": "https://api.github.com/users/fwfichtner/orgs", "repos_url": "https://api.github.com/users/fwfichtner/repos", "events_url": "https://api.github.com/users/fwfichtner/events{/privacy}", "received_events_url": "https://api.github.com/users/fwfichtner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/108", "html_url": "https://github.com/rasterio/rasterio/milestone/108", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/108/labels", "id": 6812027, "node_id": "MDk6TWlsZXN0b25lNjgxMjAyNw==", "number": 108, "title": "1.2.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-06-01T13:53:31Z", "updated_at": "2021-06-22T02:41:21Z", "due_on": null, "closed_at": "2021-06-22T02:38:17Z"}, "comments": 4, "created_at": "2021-06-08T15:09:22Z", "updated_at": "2021-06-22T02:39:59Z", "closed_at": "2021-06-22T02:39:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nThis is very similar to https://github.com/mapbox/rasterio/issues/2048, but we are still getting the following error for some AOIs when we are trying to merge with bounds:\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"...\\rasterio_issue.py\", line 16, in <module>\r\n    aux_array, aux_transform = rasterio.merge.merge(datasets=ds, bounds=aoi.bounds)\r\n  File \"...\\lib\\site-packages\\rasterio\\merge.py\", line 344, in merge\r\n    copyto(region, temp, region_mask, temp_mask, index=idx, roff=roff, coff=coff)\r\n  File \"...\\lib\\site-packages\\rasterio\\merge.py\", line 25, in copy_first\r\n    np.copyto(merged_data, new_data, where=mask, casting=\"unsafe\")\r\n  File \"<__array_function__ internals>\", line 5, in copyto\r\nValueError: could not broadcast input array from shape (1,218,432) into shape (1,217,432)\r\n```\r\n\r\nThis might be related to rounding or in one of the transformations, but I could not figure it out.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport rasterio.merge\r\nfrom shapely import wkt\r\n\r\naoi = wkt.loads(r\"POLYGON((11.09 47.94, 11.06 48.01, 11.12 48.11, 11.18 48.11, 11.18 47.94, 11.09 47.94))\")\r\n\r\nwith rasterio.Env(\r\n    AWS_NO_SIGN_REQUEST=True,\r\n):\r\n    ds = [\r\n        rasterio.open(i)\r\n        for i in [\r\n            \"/vsis3/copernicus-dem-30m/Copernicus_DSM_COG_10_N47_00_E011_00_DEM/Copernicus_DSM_COG_10_N47_00_E011_00_DEM.tif\",\r\n            \"/vsis3/copernicus-dem-30m/Copernicus_DSM_COG_10_N48_00_E011_00_DEM/Copernicus_DSM_COG_10_N48_00_E011_00_DEM.tif\",\r\n        ]\r\n    ]\r\n    aux_array, aux_transform = rasterio.merge.merge(datasets=ds, bounds=aoi.bounds)\r\n```\r\n\r\nIf the AOI is slightly different it is lileky not to happen.\r\n\r\n## Operating system\r\n\r\nFor example: Windows 10 & Ubuntu 18.04.\r\n\r\n## Rasterio version and provenance\r\n\r\nversion `1.2.4` either installed via conda-forge with miniconda or pypi with poetry.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2202/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2191", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2191/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2191/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2191/events", "html_url": "https://github.com/rasterio/rasterio/pull/2191", "id": 907679426, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU4NDg4MTMx", "number": 2191, "title": "Eliminate unneeded IgnoreOption", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/107", "html_url": "https://github.com/rasterio/rasterio/milestone/107", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/107/labels", "id": 6723099, "node_id": "MDk6TWlsZXN0b25lNjcyMzA5OQ==", "number": 107, "title": "1.2.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2021-05-03T18:43:08Z", "updated_at": "2021-06-22T02:38:24Z", "due_on": null, "closed_at": "2021-06-22T02:38:24Z"}, "comments": 0, "created_at": "2021-05-31T19:34:20Z", "updated_at": "2021-05-31T20:13:18Z", "closed_at": "2021-05-31T20:13:13Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2191", "html_url": "https://github.com/rasterio/rasterio/pull/2191", "diff_url": "https://github.com/rasterio/rasterio/pull/2191.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2191.patch", "merged_at": "2021-05-31T20:13:13Z"}, "body": "Click 8.0 made it clear that `None` is really the only marker for options to be ignored that works from version to version.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2191/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2190", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2190/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2190/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2190/events", "html_url": "https://github.com/rasterio/rasterio/issues/2190", "id": 906422880, "node_id": "MDU6SXNzdWU5MDY0MjI4ODA=", "number": 2190, "title": "WarpedVRT class is not guarded against unsupported resampling algorithm", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/107", "html_url": "https://github.com/rasterio/rasterio/milestone/107", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/107/labels", "id": 6723099, "node_id": "MDk6TWlsZXN0b25lNjcyMzA5OQ==", "number": 107, "title": "1.2.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2021-05-03T18:43:08Z", "updated_at": "2021-06-22T02:38:24Z", "due_on": null, "closed_at": "2021-06-22T02:38:24Z"}, "comments": 0, "created_at": "2021-05-29T08:56:51Z", "updated_at": "2021-05-31T23:11:25Z", "closed_at": "2021-05-31T23:11:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "WarpedVRT class is not guarded against unsupported resampling algorithm as it is done [here](https://github.com/mapbox/rasterio/blob/abb9f6c6b6018c82e219207d2b208ecf51e836c6/rasterio/warp.py#L294).\r\n\r\n```\r\n>>> import rasterio\r\n>>> from rasterio.enums import Resampling\r\n>>> from rasterio.vrt import WarpedVRT\r\n>>> with rasterio.open('RGB.byte.tif') as src:\r\n...     with WarpedVRT(src, crs='EPSG:3857', resampling=Resampling.gauss) as vrt:\r\n...         pass\r\n... \r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 2, in <module>\r\n  File \"rasterio/_warp.pyx\", line 1041, in rasterio._warp.WarpedVRTReaderBase.__init__\r\n  File \"rasterio/_err.pyx\", line 215, in rasterio._err.exc_wrap_pointer\r\nrasterio._err.ObjectNullError: Pointer 'hDS' is NULL in 'GDALSetProjection'. \r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2190/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2186", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2186/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2186/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2186/events", "html_url": "https://github.com/rasterio/rasterio/pull/2186", "id": 902711847, "node_id": "MDExOlB1bGxSZXF1ZXN0NjU0MDUyNDk4", "number": 2186, "title": "Use default Window constructor instead of Window.from_slices in union()", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/107", "html_url": "https://github.com/rasterio/rasterio/milestone/107", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/107/labels", "id": 6723099, "node_id": "MDk6TWlsZXN0b25lNjcyMzA5OQ==", "number": 107, "title": "1.2.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2021-05-03T18:43:08Z", "updated_at": "2021-06-22T02:38:24Z", "due_on": null, "closed_at": "2021-06-22T02:38:24Z"}, "comments": 0, "created_at": "2021-05-26T17:21:20Z", "updated_at": "2021-05-26T17:51:32Z", "closed_at": "2021-05-26T17:51:29Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2186", "html_url": "https://github.com/rasterio/rasterio/pull/2186", "diff_url": "https://github.com/rasterio/rasterio/pull/2186.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2186.patch", "merged_at": "2021-05-26T17:51:29Z"}, "body": "Resolves the issue reported in #2177", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2186/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2182", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2182/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2182/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2182/events", "html_url": "https://github.com/rasterio/rasterio/issues/2182", "id": 896478954, "node_id": "MDU6SXNzdWU4OTY0Nzg5NTQ=", "number": 2182, "title": "CInt16 rasters promoted to np.complex128 dtype", "user": {"login": "scottyhq", "id": 3924836, "node_id": "MDQ6VXNlcjM5MjQ4MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/3924836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottyhq", "html_url": "https://github.com/scottyhq", "followers_url": "https://api.github.com/users/scottyhq/followers", "following_url": "https://api.github.com/users/scottyhq/following{/other_user}", "gists_url": "https://api.github.com/users/scottyhq/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottyhq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottyhq/subscriptions", "organizations_url": "https://api.github.com/users/scottyhq/orgs", "repos_url": "https://api.github.com/users/scottyhq/repos", "events_url": "https://api.github.com/users/scottyhq/events{/privacy}", "received_events_url": "https://api.github.com/users/scottyhq/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/107", "html_url": "https://github.com/rasterio/rasterio/milestone/107", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/107/labels", "id": 6723099, "node_id": "MDk6TWlsZXN0b25lNjcyMzA5OQ==", "number": 107, "title": "1.2.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2021-05-03T18:43:08Z", "updated_at": "2021-06-22T02:38:24Z", "due_on": null, "closed_at": "2021-06-22T02:38:24Z"}, "comments": 5, "created_at": "2021-05-20T08:31:49Z", "updated_at": "2021-05-31T23:12:26Z", "closed_at": "2021-05-31T23:12:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI've noticed rasterio promotes CInt16 to np.complex128 when Tifs are read in, inflating the memory footprint, which is problematic for SAR data. \r\n\r\nThis does not happen using GDAL python bindings directly. I'm wondering if would be straightforward to instead map to np.complex64 as GDAL does by default? I'm guessing this is a straightforward fix, in which case I could follow up with a PR...\r\n\r\nrelated issue: https://github.com/qgis/QGIS-Documentation/issues/2966#issuecomment-420665251, and past rasterio discussion of complex floats https://github.com/mapbox/rasterio/issues/97#issuecomment-47406591\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport rasterio\r\nfrom osgeo import gdal\r\nimport os\r\n\r\nos.environ['GDAL_DISABLE_READDIR_ON_OPEN']='EMPTY_DIR' \r\nos.environ['AWS_NO_SIGN_REQUEST']='YES'\r\n\r\npath='/vsis3/my-cog-server/measurement/s1b-iw1-slc-vv-20210401t052624-20210401t052649-026269-032297-004.tiff'\r\n\r\nwith rasterio.open(path) as src:\r\n    data = src.read()\r\n    print(data.dtype)   \r\n# dtype('complex128')\r\n\r\nds = gdal.Open(path)\r\ntest = ds.ReadAsArray() \r\nprint(test.dtype)\r\n# dtype('complex64')\r\n```\r\n\r\nI've posted an unzipped version of the original Sentinel-1 SLC Tiff for easy access : \r\n`GDAL_DISABLE_READDIR_ON_OPEN=EMPTY_DIR AWS_NO_SIGN_REQUEST=YES gdalinfo -nogcp /vsis3/my-cog-server/measurement/s1b-iw1-slc-vv-20210401t052624-20210401t052649-026269-032297-004.tiff`\r\n```\r\n# data from https://datapool.asf.alaska.edu/SLC/SB/S1B_IW_SLC__1SDV_20210401T052622_20210401T052650_026269_032297_EFA4.zip\r\nDriver: GTiff/GeoTIFF\r\nFiles: /vsis3/my-cog-server/measurement/s1b-iw1-slc-vv-20210401t052624-20210401t052649-026269-032297-004.tiff\r\nSize is 21632, 13509\r\nMetadata:\r\n  AREA_OR_POINT=Area\r\n  TIFFTAG_DATETIME=2021:04:01 06:57:06\r\n  TIFFTAG_IMAGEDESCRIPTION=Sentinel-1A IW SLC L1\r\n  TIFFTAG_SOFTWARE=Sentinel-1 IPF 003.31\r\nImage Structure Metadata:\r\n  INTERLEAVE=BAND\r\nCorner Coordinates:\r\nUpper Left  (    0.0,    0.0)\r\nLower Left  (    0.0,13509.0)\r\nUpper Right (21632.0,    0.0)\r\nLower Right (21632.0,13509.0)\r\nCenter      (10816.0, 6754.5)\r\nBand 1 Block=21632x1 Type=CInt16, ColorInterp=Gray\r\n```\r\n\r\n## Operating system\r\n\r\nMacOS\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 1.2.3 from conda-forge\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2182/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2180", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2180/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2180/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2180/events", "html_url": "https://github.com/rasterio/rasterio/issues/2180", "id": 893245379, "node_id": "MDU6SXNzdWU4OTMyNDUzNzk=", "number": 2180, "title": "Issues with signed byte handling", "user": {"login": "thomascoquet", "id": 7583487, "node_id": "MDQ6VXNlcjc1ODM0ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/7583487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomascoquet", "html_url": "https://github.com/thomascoquet", "followers_url": "https://api.github.com/users/thomascoquet/followers", "following_url": "https://api.github.com/users/thomascoquet/following{/other_user}", "gists_url": "https://api.github.com/users/thomascoquet/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomascoquet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomascoquet/subscriptions", "organizations_url": "https://api.github.com/users/thomascoquet/orgs", "repos_url": "https://api.github.com/users/thomascoquet/repos", "events_url": "https://api.github.com/users/thomascoquet/events{/privacy}", "received_events_url": "https://api.github.com/users/thomascoquet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 989674718, "node_id": "MDU6TGFiZWw5ODk2NzQ3MTg=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/upstream", "name": "upstream", "color": "ef5fbf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/108", "html_url": "https://github.com/rasterio/rasterio/milestone/108", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/108/labels", "id": 6812027, "node_id": "MDk6TWlsZXN0b25lNjgxMjAyNw==", "number": 108, "title": "1.2.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-06-01T13:53:31Z", "updated_at": "2021-06-22T02:41:21Z", "due_on": null, "closed_at": "2021-06-22T02:38:17Z"}, "comments": 6, "created_at": "2021-05-17T11:43:09Z", "updated_at": "2021-06-17T16:09:48Z", "closed_at": "2021-06-17T16:09:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nHi Sean,\r\n\r\nI encountered unexpected behaviors when using the singed byte data type.\r\n\r\n1. Looks like when writing then reading the nodata value, it is set to 0 if < 0 (does not happen with nodata > 0).\r\n2. When using a WarpedVRT, the array is casted to `u1`, making it impossible to check the nodata value (still in `i1`).\r\nThanks, Thomas\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nprint(rasterio.__version__)\r\n\r\nprofile = {\r\n    'driver': 'GTiff',\r\n    'width': 4,\r\n    'height': 4,\r\n    'count': 1,\r\n    'dtype': np.dtype('i1'),\r\n    'crs': 'epsg:3857',\r\n    'transform': affine.Affine(10, 0, 0, 0, -10, 0)\r\n}\r\n\r\narray = -1 * np.ones((4, 4), dtype='i1')\r\n\r\nprint('array written:')\r\nprint(array)\r\nprint(array.dtype)\r\n\r\n# first use case\r\nprofile['nodata'] = -1\r\n\r\nwith rasterio.open('test.tif', 'w', **profile) as src:\r\n    src.write(array, indexes=1)\r\n\r\nwith rasterio.open('test.tif') as src:\r\n    print('array read with nodata = -1:')\r\n    print(src.read()) #  got 0 instead of -1\r\n        \r\n        \r\n# second use case\r\nprofile['nodata'] = -2\r\n\r\nwith rasterio.open('test.tif', 'w', **profile) as src:\r\n    src.write(array, indexes=1)\r\n    \r\n\r\nwith rasterio.open('test.tif') as src:\r\n    print('array read with nodata = -2:')\r\n    print(src.read())\r\n    \r\n    print('array read with vrt:')\r\n    with rasterio.vrt.WarpedVRT(src) as vrt:\r\n        print(vrt.read())  # converted to u1 instead of i1\r\n```\r\n\r\nYields:\r\n\r\n```\r\n1.2.3\r\narray written:\r\n[[-1 -1 -1 -1]\r\n [-1 -1 -1 -1]\r\n [-1 -1 -1 -1]\r\n [-1 -1 -1 -1]]\r\nint8\r\narray read with nodata = -1:\r\n[[[0 0 0 0]\r\n  [0 0 0 0]\r\n  [0 0 0 0]\r\n  [0 0 0 0]]]\r\narray read with nodata = -2:\r\n[[[-1 -1 -1 -1]\r\n  [-1 -1 -1 -1]\r\n  [-1 -1 -1 -1]\r\n  [-1 -1 -1 -1]]]\r\narray read with vrt:\r\n[[[255 255 255 255]\r\n  [255 255 255 255]\r\n  [255 255 255 255]\r\n  [255 255 255 255]]]\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu \r\n\r\n## Rasterio version and provenance\r\n\r\n1.2.3 using standard wheels\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2180/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2179", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2179/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2179/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2179/events", "html_url": "https://github.com/rasterio/rasterio/issues/2179", "id": 892315446, "node_id": "MDU6SXNzdWU4OTIzMTU0NDY=", "number": 2179, "title": "Allow any type casting in merge", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/107", "html_url": "https://github.com/rasterio/rasterio/milestone/107", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/107/labels", "id": 6723099, "node_id": "MDk6TWlsZXN0b25lNjcyMzA5OQ==", "number": 107, "title": "1.2.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2021-05-03T18:43:08Z", "updated_at": "2021-06-22T02:38:24Z", "due_on": null, "closed_at": "2021-06-22T02:38:24Z"}, "comments": 2, "created_at": "2021-05-15T00:20:09Z", "updated_at": "2021-05-31T23:11:24Z", "closed_at": "2021-05-31T23:11:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#2101 introduced a casting issue reported in #2174. I suggest we call copyto with `casting=\"unsafe\"` to revert to the behavior in version 1.2.0.\r\n\r\ncc @groutr ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2179/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2179/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2174", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2174/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2174/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2174/events", "html_url": "https://github.com/rasterio/rasterio/issues/2174", "id": 876320952, "node_id": "MDU6SXNzdWU4NzYzMjA5NTI=", "number": 2174, "title": "TypeError/WindowError/white lines in merged raster after upgrading from version 1.2.0 to 1.2.3", "user": {"login": "neon-ninja", "id": 3378822, "node_id": "MDQ6VXNlcjMzNzg4MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/3378822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neon-ninja", "html_url": "https://github.com/neon-ninja", "followers_url": "https://api.github.com/users/neon-ninja/followers", "following_url": "https://api.github.com/users/neon-ninja/following{/other_user}", "gists_url": "https://api.github.com/users/neon-ninja/gists{/gist_id}", "starred_url": "https://api.github.com/users/neon-ninja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neon-ninja/subscriptions", "organizations_url": "https://api.github.com/users/neon-ninja/orgs", "repos_url": "https://api.github.com/users/neon-ninja/repos", "events_url": "https://api.github.com/users/neon-ninja/events{/privacy}", "received_events_url": "https://api.github.com/users/neon-ninja/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 7, "created_at": "2021-05-05T10:48:34Z", "updated_at": "2021-10-14T21:07:39Z", "closed_at": "2021-10-14T21:07:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI wrote some Python code using rasterio.merge to merge some DEM TIF tiles in a zip file. The code worked fine in rasterio version 1.2.0, but breaks after upgrading to 1.2.3. The HTML output from a Python Jupyter notebook illustrating this problem can be found here:\r\nhttps://uoa-eresearch.github.io/land_use/rasterio_merge_test. The ipynb source for this can be found at https://github.com/UoA-eResearch/land_use/blob/main/rasterio_merge_test.ipynb\r\n\r\nAfter upgrading, the first issue is that the merge function now refuses to cast floats to ints with the error:\r\nTypeError: Cannot cast array data from dtype('float32') to dtype('int16') according to the rule 'same_kind'\r\n\r\nAfter removing the dtype argument, the merge function now objects to my bounds:\r\nWindowError: Bounds and transform are inconsistent\r\n\r\nAfter removing my bounds, the resulting merged DEM has white lines in it\r\n\r\nShould you wish to try reproduce this, the dataset used can be downloaded from https://github.com/UoA-eResearch/land_use/blob/main/input/lds-nz-8m-digital-elevation-model-2012-GTiff-auckland-region.zip", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2174/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2170", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2170/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2170/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2170/events", "html_url": "https://github.com/rasterio/rasterio/pull/2170", "id": 874727590, "node_id": "MDExOlB1bGxSZXF1ZXN0NjI5MjIzMDcy", "number": 2170, "title": "Resolve numpy deprecation warnings in tests", "user": {"login": "groutr", "id": 10678620, "node_id": "MDQ6VXNlcjEwNjc4NjIw", "avatar_url": "https://avatars.githubusercontent.com/u/10678620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/groutr", "html_url": "https://github.com/groutr", "followers_url": "https://api.github.com/users/groutr/followers", "following_url": "https://api.github.com/users/groutr/following{/other_user}", "gists_url": "https://api.github.com/users/groutr/gists{/gist_id}", "starred_url": "https://api.github.com/users/groutr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/groutr/subscriptions", "organizations_url": "https://api.github.com/users/groutr/orgs", "repos_url": "https://api.github.com/users/groutr/repos", "events_url": "https://api.github.com/users/groutr/events{/privacy}", "received_events_url": "https://api.github.com/users/groutr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/107", "html_url": "https://github.com/rasterio/rasterio/milestone/107", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/107/labels", "id": 6723099, "node_id": "MDk6TWlsZXN0b25lNjcyMzA5OQ==", "number": 107, "title": "1.2.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2021-05-03T18:43:08Z", "updated_at": "2021-06-22T02:38:24Z", "due_on": null, "closed_at": "2021-06-22T02:38:24Z"}, "comments": 1, "created_at": "2021-05-03T16:38:30Z", "updated_at": "2021-05-03T18:44:05Z", "closed_at": "2021-05-03T18:44:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2170", "html_url": "https://github.com/rasterio/rasterio/pull/2170", "diff_url": "https://github.com/rasterio/rasterio/pull/2170.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2170.patch", "merged_at": "2021-05-03T18:44:05Z"}, "body": "Resolves the deprecation warnings about `np.bool` and `np.int` that are emitted with Numpy 1.20+.\r\nhttps://numpy.org/devdocs/release/1.20.0-notes.html#deprecations", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2170/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2163", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2163/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2163/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2163/events", "html_url": "https://github.com/rasterio/rasterio/issues/2163", "id": 867601538, "node_id": "MDU6SXNzdWU4Njc2MDE1Mzg=", "number": 2163, "title": "Empty mosaic with floating point tiffs", "user": {"login": "itati01", "id": 20688552, "node_id": "MDQ6VXNlcjIwNjg4NTUy", "avatar_url": "https://avatars.githubusercontent.com/u/20688552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itati01", "html_url": "https://github.com/itati01", "followers_url": "https://api.github.com/users/itati01/followers", "following_url": "https://api.github.com/users/itati01/following{/other_user}", "gists_url": "https://api.github.com/users/itati01/gists{/gist_id}", "starred_url": "https://api.github.com/users/itati01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itati01/subscriptions", "organizations_url": "https://api.github.com/users/itati01/orgs", "repos_url": "https://api.github.com/users/itati01/repos", "events_url": "https://api.github.com/users/itati01/events{/privacy}", "received_events_url": "https://api.github.com/users/itati01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/106", "html_url": "https://github.com/rasterio/rasterio/milestone/106", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/106/labels", "id": 6636313, "node_id": "MDk6TWlsZXN0b25lNjYzNjMxMw==", "number": 106, "title": "1.2.3", "description": "Next batch of bug fixes.", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2021-04-07T16:00:35Z", "updated_at": "2022-12-19T21:37:24Z", "due_on": "2021-06-01T07:00:00Z", "closed_at": "2021-04-27T01:32:43Z"}, "comments": 1, "created_at": "2021-04-26T11:29:43Z", "updated_at": "2021-05-03T18:53:22Z", "closed_at": "2021-05-03T18:53:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI am using ```rasterio.merge.merge()``` to mosaic adjacent raster files. The input files are floating point tiffs with -3.4e+38 being the nodata value. In the overlapping parts, I expected that nodata (i.e. the boundary of one raster) is replaced by the values of another raster. Unfortunately, the output is empty, i.e. all values are -3.4e38. This also happens with one input raster, e.g.\r\n[float_raster_with_nodata.zip](https://github.com/mapbox/rasterio/files/6376623/float_raster_with_nodata.zip). The issue did not appear if the file was an ASCII grid.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nimport rasterio as rst\r\nimport rasterio.merge as rst_merge\r\nin_file = \"float_raster_with_nodata.tif\"\r\nsrc = rst.open(in_file)\r\nmosaic, t = rst_merge.merge([src])\r\n# after converting the input file to ASCII: 0.25 as expected\r\nprint(mosaic.max())         # the nodata value -3.4e38\r\nprint(src.read().max())     # the original max value 0.25\r\n```\r\n\r\n## Operating system\r\n\r\nLinux (Ubuntu 18.04)\r\n\r\n## Rasterio version and provenance\r\n\r\n1.2.2, installed with pip 9.0.1\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2163/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2161", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2161/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2161/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2161/events", "html_url": "https://github.com/rasterio/rasterio/issues/2161", "id": 866420328, "node_id": "MDU6SXNzdWU4NjY0MjAzMjg=", "number": 2161, "title": "Merge failure because of strange src_window", "user": {"login": "groutr", "id": 10678620, "node_id": "MDQ6VXNlcjEwNjc4NjIw", "avatar_url": "https://avatars.githubusercontent.com/u/10678620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/groutr", "html_url": "https://github.com/groutr", "followers_url": "https://api.github.com/users/groutr/followers", "following_url": "https://api.github.com/users/groutr/following{/other_user}", "gists_url": "https://api.github.com/users/groutr/gists{/gist_id}", "starred_url": "https://api.github.com/users/groutr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/groutr/subscriptions", "organizations_url": "https://api.github.com/users/groutr/orgs", "repos_url": "https://api.github.com/users/groutr/repos", "events_url": "https://api.github.com/users/groutr/events{/privacy}", "received_events_url": "https://api.github.com/users/groutr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/107", "html_url": "https://github.com/rasterio/rasterio/milestone/107", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/107/labels", "id": 6723099, "node_id": "MDk6TWlsZXN0b25lNjcyMzA5OQ==", "number": 107, "title": "1.2.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2021-05-03T18:43:08Z", "updated_at": "2021-06-22T02:38:24Z", "due_on": null, "closed_at": "2021-06-22T02:38:24Z"}, "comments": 5, "created_at": "2021-04-23T20:44:39Z", "updated_at": "2021-05-31T23:12:35Z", "closed_at": "2021-05-31T23:12:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "After upgrading to rasterio 1.2.1 from 1.1.8, the merge functionality has broken for me. The breakage seems to center around the source window that get computed. I'm having trouble making sense of the values in the src_window and dst_window.\r\n\r\nI get the following error from `copy_first`:\r\n```\r\nValueError: operands could not be broadcast together with shapes (9,464,3049) (9,0,0)\r\n```\r\n\r\nDigging merge.py, I discover this situation:\r\nSource bounds: `BoundingBox(left=-20.5075, bottom=8.303500000000001, right=-11.492500000000001, top=17.3185)`\r\nDestination bounds: `(-98.13, 24.285000000000004, -66.24, 45.45)`\r\nIntersection: `(-20.5075, 24.285000000000004, -66.24, 17.3185)`\r\nSource transform: \r\n```\r\nAffine(0.015, 0.0, -20.5075,\r\n       0.0, -0.015, 17.3185)\r\n```\r\nDestination transform:\r\n```\r\nAffine(0.015, 0.0, -98.13,\r\n       0.0, -0.015, 45.45)\r\n```\r\n\r\nWhat doesn't make sense is how we arrive at these values for the src_window and dst_window\r\nSource Window: \r\n`Window(col_off=-3048.8333333333326, row_off=-464.4333333333334, width=3048.8333333333326, height=464.4333333333334)`\r\nDestination Window: \r\n`Window(col_off=2126.0, row_off=1410.9999999999995, width=3048.833333333332, height=464.4333333333334)`\r\n\r\nWhat does a negative offset mean? Rasterio 1.1.8 returns a source window of `Window(col_off=0.0, row_off=0.0, width=0.0, height=0.0)` and a dst_window of `Window(col_off=5174.833333333332, row_off=1875.433333333333, width=0.0, height=0.0)` with the same file.\r\n\r\nOther relevant info:\r\ndest.shape = (9, 1411, 2126)\r\nregion.shape = (9, 0, 0)\r\ntemp_shape = (9, 464, 3049)\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2161/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2156", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2156/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2156/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2156/events", "html_url": "https://github.com/rasterio/rasterio/issues/2156", "id": 862176411, "node_id": "MDU6SXNzdWU4NjIxNzY0MTE=", "number": 2156, "title": "ERR_BIAS and ERR_RAND in GDAL 3.3.0", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/106", "html_url": "https://github.com/rasterio/rasterio/milestone/106", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/106/labels", "id": 6636313, "node_id": "MDk6TWlsZXN0b25lNjYzNjMxMw==", "number": 106, "title": "1.2.3", "description": "Next batch of bug fixes.", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2021-04-07T16:00:35Z", "updated_at": "2022-12-19T21:37:24Z", "due_on": "2021-06-01T07:00:00Z", "closed_at": "2021-04-27T01:32:43Z"}, "comments": 0, "created_at": "2021-04-20T00:26:15Z", "updated_at": "2021-04-20T16:07:54Z", "closed_at": "2021-04-20T16:07:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "New RPC params from https://github.com/OSGeo/gdal/pull/3494 are failing our tests against GDAL 3.3.0beta1 because of https://github.com/mapbox/rasterio/blob/master/tests/test_rpcs.py#L160.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2156/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2147", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2147/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2147/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2147/events", "html_url": "https://github.com/rasterio/rasterio/issues/2147", "id": 852709124, "node_id": "MDU6SXNzdWU4NTI3MDkxMjQ=", "number": 2147, "title": "BUG: PROJ 8+ test_target_aligned_pixels fails", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/107", "html_url": "https://github.com/rasterio/rasterio/milestone/107", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/107/labels", "id": 6723099, "node_id": "MDk6TWlsZXN0b25lNjcyMzA5OQ==", "number": 107, "title": "1.2.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2021-05-03T18:43:08Z", "updated_at": "2021-06-22T02:38:24Z", "due_on": null, "closed_at": "2021-06-22T02:38:24Z"}, "comments": 3, "created_at": "2021-04-07T18:48:01Z", "updated_at": "2021-05-31T23:12:12Z", "closed_at": "2021-05-31T23:12:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From: https://github.com/conda-forge/rasterio-feedstock/pull/194/\r\n\r\n```\r\n...\r\n            # Check that there is no black borders\r\n>           assert out[:, 0].all()\r\nE           assert False\r\nE            +  where False = <built-in method all of numpy.ndarray object at 0x7f5028b53930>()\r\nE            +    where <built-in method all of numpy.ndarray object at 0x7f5028b53930> = array([72, 72, 72, ...,  0,  0,  0], dtype=uint8).all\r\n```\r\n\r\nRelevant deps:\r\n```\r\n    affine:                        2.3.0-py_0                 conda-forge\r\n    geos:                          3.9.1-h9c3ff4c_2           conda-forge\r\n    geotiff:                       1.6.0-hcf90da6_5           conda-forge\r\n    libgdal:                       3.2.2-h928efbf_2           conda-forge\r\n    numpy:                         1.20.2-py39hdbf815f_0      conda-forge\r\n    proj:                          8.0.0-h277dcde_0           conda-forge\r\n    python:                        3.9.2-hffdb5ce_0_cpython   conda-forge\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2147/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2139", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2139/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2139/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2139/events", "html_url": "https://github.com/rasterio/rasterio/pull/2139", "id": 847022406, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA2MDY2OTkw", "number": 2139, "title": "use set_gdal_config rather than setting GDAL_DATA", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/105", "html_url": "https://github.com/rasterio/rasterio/milestone/105", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/105/labels", "id": 6527695, "node_id": "MDk6TWlsZXN0b25lNjUyNzY5NQ==", "number": 105, "title": "1.2.2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2021-03-09T17:19:38Z", "updated_at": "2021-04-07T13:55:02Z", "due_on": null, "closed_at": "2021-04-07T13:55:02Z"}, "comments": 0, "created_at": "2021-03-31T17:37:08Z", "updated_at": "2021-03-31T18:03:38Z", "closed_at": "2021-03-31T18:03:35Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2139", "html_url": "https://github.com/rasterio/rasterio/pull/2139", "diff_url": "https://github.com/rasterio/rasterio/pull/2139.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2139.patch", "merged_at": "2021-03-31T18:03:35Z"}, "body": "Resolves https://github.com/Toblerity/Fiona/issues/1007.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2139/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2138", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2138/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2138/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2138/events", "html_url": "https://github.com/rasterio/rasterio/issues/2138", "id": 845081656, "node_id": "MDU6SXNzdWU4NDUwODE2NTY=", "number": 2138, "title": "Unexpected difference in `from_bounds` between 1.2.1 and 1.2.0", "user": {"login": "carlodef", "id": 4146379, "node_id": "MDQ6VXNlcjQxNDYzNzk=", "avatar_url": "https://avatars.githubusercontent.com/u/4146379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlodef", "html_url": "https://github.com/carlodef", "followers_url": "https://api.github.com/users/carlodef/followers", "following_url": "https://api.github.com/users/carlodef/following{/other_user}", "gists_url": "https://api.github.com/users/carlodef/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlodef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlodef/subscriptions", "organizations_url": "https://api.github.com/users/carlodef/orgs", "repos_url": "https://api.github.com/users/carlodef/repos", "events_url": "https://api.github.com/users/carlodef/events{/privacy}", "received_events_url": "https://api.github.com/users/carlodef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/105", "html_url": "https://github.com/rasterio/rasterio/milestone/105", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/105/labels", "id": 6527695, "node_id": "MDk6TWlsZXN0b25lNjUyNzY5NQ==", "number": 105, "title": "1.2.2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2021-03-09T17:19:38Z", "updated_at": "2021-04-07T13:55:02Z", "due_on": null, "closed_at": "2021-04-07T13:55:02Z"}, "comments": 6, "created_at": "2021-03-30T19:04:34Z", "updated_at": "2021-04-13T19:04:30Z", "closed_at": "2021-04-07T13:46:28Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "Hello! It seems that `rasterio.windows.from_bounds` output with rasterio 1.2.1 differs from the output it has with 1.2.0. Is that expected?\r\n\r\n```python\r\nimport affine\r\nimport rasterio\r\n\r\nw, s, e, n = 1.0, 45.7, 1.2, 45.9\r\na = 0.001\r\ntransform = affine.Affine(a,  0, w,\r\n                          0, -a, n)\r\n\r\n# n and s are swapped, thus the bounding box is empty, thus the resulting window should be empty\r\nprint(rasterio.windows.from_bounds(w, n, e, s, transform)) \r\n```\r\ngives this output with rasterio 1.2.0 (the window is empty, as expected):\r\n```\r\nWindow(col_off=0.0, row_off=200.0, width=200.0, height=0.0)\r\n```\r\n\r\nand gives this different output with rasterio 1.2.1 (the window is unexpectedly not empty):\r\n```\r\nWindow(col_off=2.2737367544323206e-13, row_off=0.0, width=200.0, height=200.0)\r\n```\r\n\r\n## Operating system\r\n\r\nmacOS 10.15.5\r\n\r\n## Rasterio version and provenance\r\n\r\nBoth 1.2.0 and 1.2.1 wheels installed from PyPI using pip 20.1.1\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2138/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2137", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2137/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2137/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2137/events", "html_url": "https://github.com/rasterio/rasterio/issues/2137", "id": 840178451, "node_id": "MDU6SXNzdWU4NDAxNzg0NTE=", "number": 2137, "title": "Resampling sum method missing in most recent release", "user": {"login": "cpaton8", "id": 42067411, "node_id": "MDQ6VXNlcjQyMDY3NDEx", "avatar_url": "https://avatars.githubusercontent.com/u/42067411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cpaton8", "html_url": "https://github.com/cpaton8", "followers_url": "https://api.github.com/users/cpaton8/followers", "following_url": "https://api.github.com/users/cpaton8/following{/other_user}", "gists_url": "https://api.github.com/users/cpaton8/gists{/gist_id}", "starred_url": "https://api.github.com/users/cpaton8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cpaton8/subscriptions", "organizations_url": "https://api.github.com/users/cpaton8/orgs", "repos_url": "https://api.github.com/users/cpaton8/repos", "events_url": "https://api.github.com/users/cpaton8/events{/privacy}", "received_events_url": "https://api.github.com/users/cpaton8/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/105", "html_url": "https://github.com/rasterio/rasterio/milestone/105", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/105/labels", "id": 6527695, "node_id": "MDk6TWlsZXN0b25lNjUyNzY5NQ==", "number": 105, "title": "1.2.2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2021-03-09T17:19:38Z", "updated_at": "2021-04-07T13:55:02Z", "due_on": null, "closed_at": "2021-04-07T13:55:02Z"}, "comments": 3, "created_at": "2021-03-24T21:27:55Z", "updated_at": "2021-03-31T19:04:10Z", "closed_at": "2021-03-31T19:04:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was thrilled to discover rasterio now supports the sum resampling method but discovered that this commit isn't reflected in the conda distribution (e.g. digging into the downloaded enums.py file the sum=13 line is missing in the Resampling class). The commit that implemented this was merged to the main branch in February and there was a release in early March so I believe it should be in the most recent version on conda...  \r\n\r\nI'm working on windows so building rasterio from source is extremely difficult - would love any help on this issue. Thanks!\r\n\r\nhttps://github.com/mapbox/rasterio/blob/5b76d05fb374e64602166d6cd880c38424fad39b/rasterio/enums.py#L59", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2137/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2135", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2135/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2135/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2135/events", "html_url": "https://github.com/rasterio/rasterio/issues/2135", "id": 833851394, "node_id": "MDU6SXNzdWU4MzM4NTEzOTQ=", "number": 2135, "title": "Merge with `min` and `max` methods results in empty arrays ", "user": {"login": "remi-braun", "id": 67311115, "node_id": "MDQ6VXNlcjY3MzExMTE1", "avatar_url": "https://avatars.githubusercontent.com/u/67311115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/remi-braun", "html_url": "https://github.com/remi-braun", "followers_url": "https://api.github.com/users/remi-braun/followers", "following_url": "https://api.github.com/users/remi-braun/following{/other_user}", "gists_url": "https://api.github.com/users/remi-braun/gists{/gist_id}", "starred_url": "https://api.github.com/users/remi-braun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/remi-braun/subscriptions", "organizations_url": "https://api.github.com/users/remi-braun/orgs", "repos_url": "https://api.github.com/users/remi-braun/repos", "events_url": "https://api.github.com/users/remi-braun/events{/privacy}", "received_events_url": "https://api.github.com/users/remi-braun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/105", "html_url": "https://github.com/rasterio/rasterio/milestone/105", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/105/labels", "id": 6527695, "node_id": "MDk6TWlsZXN0b25lNjUyNzY5NQ==", "number": 105, "title": "1.2.2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2021-03-09T17:19:38Z", "updated_at": "2021-04-07T13:55:02Z", "due_on": null, "closed_at": "2021-04-07T13:55:02Z"}, "comments": 4, "created_at": "2021-03-17T14:45:11Z", "updated_at": "2021-04-07T13:46:28Z", "closed_at": "2021-04-07T13:46:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI tried to merge tif images with the `max` method but I was surprised to see its outputing an empty array:\r\n![2021-03-17_15h39_11](https://user-images.githubusercontent.com/67311115/111485814-3c53ad80-8737-11eb-90e4-68237c83027c.png)\r\n\r\nThen I tried with other methods, `min` has the same results when the other methods work just fine:\r\n![2021-03-17_15h39_29](https://user-images.githubusercontent.com/67311115/111485958-5c836c80-8737-11eb-948c-6c7a14ac2c83.png)\r\n![2021-03-17_15h39_37](https://user-images.githubusercontent.com/67311115/111485961-5c836c80-8737-11eb-92a5-36e04380db4c.png)\r\n![2021-03-17_15h39_47](https://user-images.githubusercontent.com/67311115/111485964-5d1c0300-8737-11eb-8011-1947ea175478.png)\r\n![2021-03-17_15h40_00](https://user-images.githubusercontent.com/67311115/111485966-5d1c0300-8737-11eb-8994-c92d0e3186f1.png)\r\n\r\nI repeated these steps with several TIFF images (both in uint16 and float) and I got the same results...\r\nThe stack of dataset is composed of only one image:\r\n![2021-03-17_16h06_06](https://user-images.githubusercontent.com/67311115/111489792-bf2a3780-873a-11eb-92ce-2ec446449c35.png)\r\n\r\n\r\nI am using rasterio 1.2.1 on Python 3.7 in a debian:buster-slim docker image.\r\nI might add everything worked just fine till this version", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2135/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2135/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2133", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2133/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2133/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2133/events", "html_url": "https://github.com/rasterio/rasterio/pull/2133", "id": 826283346, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg4Mjk3Njgz", "number": 2133, "title": "Don't create AWSSession for presigned URLs", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/105", "html_url": "https://github.com/rasterio/rasterio/milestone/105", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/105/labels", "id": 6527695, "node_id": "MDk6TWlsZXN0b25lNjUyNzY5NQ==", "number": 105, "title": "1.2.2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2021-03-09T17:19:38Z", "updated_at": "2021-04-07T13:55:02Z", "due_on": null, "closed_at": "2021-04-07T13:55:02Z"}, "comments": 0, "created_at": "2021-03-09T17:06:55Z", "updated_at": "2021-03-11T17:32:26Z", "closed_at": "2021-03-11T17:26:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2133", "html_url": "https://github.com/rasterio/rasterio/pull/2133", "diff_url": "https://github.com/rasterio/rasterio/pull/2133.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2133.patch", "merged_at": "2021-03-11T17:26:51Z"}, "body": "I have an AWS SSO setup on my machine but if I'm not logged in then `rasterio.open` raises an exception while opening presigned URLs.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2133/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2129", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2129/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2129/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2129/events", "html_url": "https://github.com/rasterio/rasterio/pull/2129", "id": 822582004, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg1MTg0MDEw", "number": 2129, "title": "Load Windows DLL directories for Python >= 3.8", "user": {"login": "underchemist", "id": 5283998, "node_id": "MDQ6VXNlcjUyODM5OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5283998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/underchemist", "html_url": "https://github.com/underchemist", "followers_url": "https://api.github.com/users/underchemist/followers", "following_url": "https://api.github.com/users/underchemist/following{/other_user}", "gists_url": "https://api.github.com/users/underchemist/gists{/gist_id}", "starred_url": "https://api.github.com/users/underchemist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/underchemist/subscriptions", "organizations_url": "https://api.github.com/users/underchemist/orgs", "repos_url": "https://api.github.com/users/underchemist/repos", "events_url": "https://api.github.com/users/underchemist/events{/privacy}", "received_events_url": "https://api.github.com/users/underchemist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 1, "created_at": "2021-03-04T23:05:18Z", "updated_at": "2021-03-31T19:10:22Z", "closed_at": "2021-03-31T19:10:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2129", "html_url": "https://github.com/rasterio/rasterio/pull/2129", "diff_url": "https://github.com/rasterio/rasterio/pull/2129.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2129.patch", "merged_at": "2021-03-31T19:10:22Z"}, "body": "This aims to replicate steps that have been taken in https://github.com/Toblerity/Fiona/pull/875 for Fiona regarding Python >= 3.8 and Windows.\r\n\r\nLargely direct adaption of the aforementioned PR, with additional steps taken to add directories to `os.add_dll_directory` from PATH environment variable if they are found to contain a gdal DLL. Although rasterio doesn't currently publish Windows wheels, this would still help users who:\r\n\r\n- build their own wheels (and include dlls in `.libs` directory)\r\n- build from source\r\n\r\nFrom https://github.com/mapbox/rasterio/issues/2064 \r\n\r\n> Travis CI isn't supporting Python 3.9 for macos yet, I see other projects switching to AppVeyor or GitHub Actions. I think we will eventually have to do so too, and pick up Windows along the way.\r\n\r\nso in the future, if Windows wheels are provided this should make things a tiny bit easier.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2129/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2125", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2125/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2125/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2125/events", "html_url": "https://github.com/rasterio/rasterio/issues/2125", "id": 815838837, "node_id": "MDU6SXNzdWU4MTU4Mzg4Mzc=", "number": 2125, "title": "Add option to rio warp to eliminate rotation", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/108", "html_url": "https://github.com/rasterio/rasterio/milestone/108", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/108/labels", "id": 6812027, "node_id": "MDk6TWlsZXN0b25lNjgxMjAyNw==", "number": 108, "title": "1.2.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-06-01T13:53:31Z", "updated_at": "2021-06-22T02:41:21Z", "due_on": null, "closed_at": "2021-06-22T02:38:17Z"}, "comments": 2, "created_at": "2021-02-24T20:50:57Z", "updated_at": "2021-06-22T02:40:00Z", "closed_at": "2021-06-22T02:40:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "gdalwarp:\r\n\r\n```python\r\nIn [1]: import rasterio\r\n\r\nIn [2]: r = rasterio.open(\"image_20210124-034019-788_0361.tif\")\r\n\r\nIn [3]: r.transform.is_rectilinear\r\nOut[3]: False\r\n\r\nIn [4]: !gdalwarp -of VRT image_20210124-034019-788_0361.tif 1.vrt\r\n\r\nIn [5]: vrt = rasterio.open(\"1.vrt\")\r\n\r\nIn [6]: vrt.transform.is_rectilinear\r\nOut[6]: True\r\n```\r\n\r\nrio warp:\r\n\r\n```python\r\nIn [8]: !rio warp -f VRT image_20210124-034019-788_0361.tif 2.vrt\r\n\r\nIn [9]: vrt = rasterio.open(\"2.vrt\")\r\n\r\nIn [10]: vrt.transform.is_rectilinear\r\nOut[10]: False\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2125/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2125/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2120", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2120/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2120/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2120/events", "html_url": "https://github.com/rasterio/rasterio/pull/2120", "id": 811540813, "node_id": "MDExOlB1bGxSZXF1ZXN0NTc2MDU0Nzg3", "number": 2120, "title": "Add unsigned Azure requests support", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/104", "html_url": "https://github.com/rasterio/rasterio/milestone/104", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/104/labels", "id": 6365645, "node_id": "MDk6TWlsZXN0b25lNjM2NTY0NQ==", "number": 104, "title": "1.2.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2021-01-29T02:51:46Z", "updated_at": "2022-11-18T17:23:21Z", "due_on": null, "closed_at": "2021-03-03T21:55:39Z"}, "comments": 2, "created_at": "2021-02-18T23:04:45Z", "updated_at": "2021-02-22T18:17:30Z", "closed_at": "2021-02-22T18:16:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2120", "html_url": "https://github.com/rasterio/rasterio/pull/2120", "diff_url": "https://github.com/rasterio/rasterio/pull/2120.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2120.patch", "merged_at": "2021-02-22T18:16:16Z"}, "body": "See https://github.com/mapbox/rasterio/pull/1906#issuecomment-780661937", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2120/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2120/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2116", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2116/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2116/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2116/events", "html_url": "https://github.com/rasterio/rasterio/pull/2116", "id": 808019735, "node_id": "MDExOlB1bGxSZXF1ZXN0NTczMTM0MTU2", "number": 2116, "title": "Rewrite of from_bounds and geometry_window", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/104", "html_url": "https://github.com/rasterio/rasterio/milestone/104", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/104/labels", "id": 6365645, "node_id": "MDk6TWlsZXN0b25lNjM2NTY0NQ==", "number": 104, "title": "1.2.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2021-01-29T02:51:46Z", "updated_at": "2022-11-18T17:23:21Z", "due_on": null, "closed_at": "2021-03-03T21:55:39Z"}, "comments": 0, "created_at": "2021-02-14T18:42:09Z", "updated_at": "2021-02-15T15:31:27Z", "closed_at": "2021-02-15T15:31:25Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2116", "html_url": "https://github.com/rasterio/rasterio/pull/2116", "diff_url": "https://github.com/rasterio/rasterio/pull/2116.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2116.patch", "merged_at": "2021-02-15T15:31:25Z"}, "body": "Resolves #2112", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2116/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2112", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2112/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2112/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2112/events", "html_url": "https://github.com/rasterio/rasterio/issues/2112", "id": 806784609, "node_id": "MDU6SXNzdWU4MDY3ODQ2MDk=", "number": 2112, "title": "rio clip gives unexpected results or fails on rotated rasters", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/104", "html_url": "https://github.com/rasterio/rasterio/milestone/104", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/104/labels", "id": 6365645, "node_id": "MDk6TWlsZXN0b25lNjM2NTY0NQ==", "number": 104, "title": "1.2.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2021-01-29T02:51:46Z", "updated_at": "2022-11-18T17:23:21Z", "due_on": null, "closed_at": "2021-03-03T21:55:39Z"}, "comments": 2, "created_at": "2021-02-11T22:13:05Z", "updated_at": "2021-03-03T15:24:41Z", "closed_at": "2021-03-03T15:24:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Let's say we have two rasters: one with rotation and another regular raster without rotation. If open them in QGIS you can see that the one raster intersects another one:\r\n\r\n![image](https://user-images.githubusercontent.com/866124/107702862-29266b80-6cbb-11eb-8aff-c0cbecf2f3b4.png)\r\n\r\nAnd let's say we need to crop rotated raster by the bounds of the regular one. If we try to do that with `gdal_translate` we get the following error message: \r\n\r\n```\r\n$ gdal_translate -projwin 524972 4881971 529593 4877350 rotated.tif output.tif\r\nInput file size is 7680, 1744\r\nERROR 1: The -projwin option was used, but the geotransform is\r\nrotated.  This configuration is not supported\r\n```\r\n\r\nIn `rio clip` there is no any checking of geotransform and due to that it might return wrong result or simply fail:\r\n\r\n```\r\n$ rio clip rotated.tif output.tif --like bounds.tif \r\nTraceback (most recent call last):\r\n  File \"/home/denis/test/env/bin/rio\", line 8, in <module>\r\n    sys.exit(main_group())\r\n  File \"/home/denis/test/env/lib/python3.6/site-packages/click/core.py\", line 829, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/home/denis/test/env/lib/python3.6/site-packages/click/core.py\", line 782, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/home/denis/test/env/lib/python3.6/site-packages/click/core.py\", line 1259, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/home/denis/test/env/lib/python3.6/site-packages/click/core.py\", line 1066, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/home/denis/test/env/lib/python3.6/site-packages/click/core.py\", line 610, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/home/denis/test/env/lib/python3.6/site-packages/click/decorators.py\", line 21, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/home/denis/test/env/lib/python3.6/site-packages/rasterio/rio/clip.py\", line 126, in clip\r\n    Window(0, 0, src.width, src.height)\r\n  File \"/home/denis/test/env/lib/python3.6/site-packages/rasterio/windows.py\", line 730, in intersection\r\n    return intersection([self, other])\r\n  File \"/home/denis/test/env/lib/python3.6/site-packages/rasterio/windows.py\", line 118, in wrapper\r\n    return function(*args[0])\r\n  File \"/home/denis/test/env/lib/python3.6/site-packages/rasterio/windows.py\", line 216, in intersection\r\n    raise WindowError(\"windows do not intersect\")\r\nrasterio.errors.WindowError: windows do not intersect\r\n```\r\n\r\nWe can add that checking in [clip.py](https://github.com/mapbox/rasterio/blob/master/rasterio/rio/clip.py) and raise an exception in case of rotated raster. But on the other hand I believe the problem is more broad. For example, while reading rotated data rotation is not taken into account. Also calculating a window for rotated datasets gives unexpected result:\r\n\r\n```\r\nIn [2]: with rasterio.open(\"rotated.tif\") as src:\r\n   ...:     print(src.shape, src.window(*src.bounds))\r\n   ...: \r\n(15, 10) Window(col_off=2.4999999999999982, row_off=-8.660254037844389, width=5.0000000000000036, height=32.32050807568878)\r\n```\r\n\r\nI think it would be nice to have at some place in the code a warning to indicate that raster is rotated and it can lead to unexpected results. Any ideas where this checking might be added?\r\n\r\nHere is archive with data I used in the examples above: [data.zip](https://github.com/mapbox/rasterio/files/5968703/data.zip)\r\n\r\nP.S.: in order to achieve the initial goal (crop rotated raster) we must use the warping algorithm to apply the rotation:\r\n```\r\n$ gdalwarp -of VRT rotated.tif unrotated.vrt\r\n```\r\nDon't know if is there a way to do that programmatically with rasterio?", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2112/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2110", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2110/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2110/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2110/events", "html_url": "https://github.com/rasterio/rasterio/pull/2110", "id": 805952982, "node_id": "MDExOlB1bGxSZXF1ZXN0NTcxNDY3MjIy", "number": 2110, "title": "Cast nodata before filling", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/104", "html_url": "https://github.com/rasterio/rasterio/milestone/104", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/104/labels", "id": 6365645, "node_id": "MDk6TWlsZXN0b25lNjM2NTY0NQ==", "number": 104, "title": "1.2.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2021-01-29T02:51:46Z", "updated_at": "2022-11-18T17:23:21Z", "due_on": null, "closed_at": "2021-03-03T21:55:39Z"}, "comments": 0, "created_at": "2021-02-10T23:16:59Z", "updated_at": "2021-02-11T02:50:53Z", "closed_at": "2021-02-11T02:50:49Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2110", "html_url": "https://github.com/rasterio/rasterio/pull/2110", "diff_url": "https://github.com/rasterio/rasterio/pull/2110.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2110.patch", "merged_at": "2021-02-11T02:50:49Z"}, "body": "Resolves #2041", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2110/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2104", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2104/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2104/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2104/events", "html_url": "https://github.com/rasterio/rasterio/issues/2104", "id": 801353930, "node_id": "MDU6SXNzdWU4MDEzNTM5MzA=", "number": 2104, "title": "WarpedVRT is unexpected scaling the data", "user": {"login": "TomAugspurger", "id": 1312546, "node_id": "MDQ6VXNlcjEzMTI1NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1312546?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomAugspurger", "html_url": "https://github.com/TomAugspurger", "followers_url": "https://api.github.com/users/TomAugspurger/followers", "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}", "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions", "organizations_url": "https://api.github.com/users/TomAugspurger/orgs", "repos_url": "https://api.github.com/users/TomAugspurger/repos", "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}", "received_events_url": "https://api.github.com/users/TomAugspurger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-02-04T14:48:57Z", "updated_at": "2021-02-05T15:12:03Z", "closed_at": "2021-02-05T15:12:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI'm using `rasterio.vrt.WarpedVRT` to create a WarpedVRT of a dataset. I notice that the values in the warped dataset have been somehow scaled so that they're generally smaller magnitude than expected.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport rasterio\r\n\r\nblob_2013 = '/vsicurl/https://naipeuwest.blob.core.windows.net/naip/v002/md/2013/md_100cm_2013/39076/m_3907617_ne_18_1_20130924.tif'\r\nblob_2017 = '/vsicurl/https://naipeuwest.blob.core.windows.net/naip/v002/md/2017/md_100cm_2017/39076/m_3907617_ne_18_1_20170609.tif'\r\n\r\nds1 = rasterio.open(blob_2013)\r\nds2 = rasterio.open(blob_2017)\r\nheight, width = ds1.shape\r\n\r\n# Align the 2017 grid to the 2013 grid\r\nwarped = rasterio.vrt.WarpedVRT(ds2, height=height, width=width, transform=ds1.transform)\r\n```\r\n\r\nIf we inspect `warped`, the `mean` is lower than I would expect. (These files are a bit large. You might want to read a window).\r\n\r\n```python\r\n>>> x = ds2.read(1)\r\n>>> y = warped.read(1)\r\n\r\n>>> x.mean(), y.mean()\r\n(94.6760074422397, 56.409768189242186)\r\n```\r\n\r\nI'd expect something around 94.67 (maybe a bit lower, if the `nodata` values are filling with 0). Plotting the images shows the problem\r\n\r\n```python\r\nimport matplotlib.pyplot as plt\r\n\r\nfig, axes = plt.subplots(ncols=2, figsize=(12, 12))\r\naxes[0].imshow(x)\r\naxes[0].set(title=\"Raw\")\r\naxes[1].imshow(y)\r\naxes[1].set(title=\"Warped\");\r\n```\r\n\r\n![bug (1)](https://user-images.githubusercontent.com/1312546/106909206-aa7f6c00-66c5-11eb-8f76-b14c795c4e56.png)\r\n\r\n## Operating system\r\n\r\nLinux\r\n\r\n## Rasterio version and provenance\r\n\r\n1.1.8 from conda-forge.\r\n\r\nApologies if this is user error.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2104/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2102", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2102/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2102/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2102/events", "html_url": "https://github.com/rasterio/rasterio/issues/2102", "id": 800413120, "node_id": "MDU6SXNzdWU4MDA0MTMxMjA=", "number": 2102, "title": "GDAL Creation Option : tuple type", "user": {"login": "thomascoquet", "id": 7583487, "node_id": "MDQ6VXNlcjc1ODM0ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/7583487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomascoquet", "html_url": "https://github.com/thomascoquet", "followers_url": "https://api.github.com/users/thomascoquet/followers", "following_url": "https://api.github.com/users/thomascoquet/following{/other_user}", "gists_url": "https://api.github.com/users/thomascoquet/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomascoquet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomascoquet/subscriptions", "organizations_url": "https://api.github.com/users/thomascoquet/orgs", "repos_url": "https://api.github.com/users/thomascoquet/repos", "events_url": "https://api.github.com/users/thomascoquet/events{/privacy}", "received_events_url": "https://api.github.com/users/thomascoquet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 6, "created_at": "2021-02-03T15:02:01Z", "updated_at": "2021-09-29T18:11:07Z", "closed_at": "2021-09-28T18:44:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Sean!\r\n\r\nNot sure it is bug, maybe rather something not yet implemented :-)\r\n\r\nI encountered a small issue when trying the new COG driver with rasterio. \r\nI cannot pass an extent as a list or a tuple. Instead, I need to format it as a string.\r\n\r\nThanks, Thomas\r\n\r\nDoes not work:\r\n```\r\nprofile = {\r\n    ...,\r\n    'extent': extent,\r\n}\r\n```\r\n\r\nWorks:\r\n```\r\nprofile = {\r\n    ...,\r\n    'extent': ','.join(list(map(str, extent)))\r\n}\r\n```\r\n\r\nFull:\r\n```\r\n\r\nwith rasterio.open('s3://sentinel-cogs/sentinel-s2-l2a-cogs/16/Q/FL/2020/3/S2B_16QFL_20200302_0_L2A/TCI.tif') as src:\r\n    rgb = src.read()\r\n    meta = src.meta\r\n    crs = src.crs\r\n\r\nextent = (-9584640.0, 2580480.0, -9451520.0, 2693120.0)\r\n\r\nprofile = {\r\n    'count': 3,\r\n    'dtype': rasterio.ubyte,\r\n    'driver': 'COG',\r\n    'compress': 'lzw',\r\n    'width': rgb.shape[2],\r\n    'height': rgb.shape[1],\r\n    'crs': crs,\r\n    'transform': meta['transform'],\r\n    'overviews': 'ignore',\r\n    'tiling_scheme': 'custom',\r\n    'extent': extent,\r\n    'target_srs': 'epsg:3857',\r\n    'res': 10\r\n}\r\n\r\nwith rasterio.open('/home/thomascoquet/TCI-COG.tif', 'w', **profile) as dst:\r\n    dst.write(rgb)\r\n```\r\n\r\nError:\r\n```\r\nrasterio._err.CPLE_AppDefinedError: Attempt to create -945152x11264 dataset is illegal,sizes must be larger than zero.\r\n```\r\n\r\n\r\nrio 1.2.0 / gdal 3.1 on ubuntu", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2102/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2100", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2100/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2100/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2100/events", "html_url": "https://github.com/rasterio/rasterio/pull/2100", "id": 798480564, "node_id": "MDExOlB1bGxSZXF1ZXN0NTY1MjkwNDc1", "number": 2100, "title": "Use the right dtype when checking nodataval", "user": {"login": "groutr", "id": 10678620, "node_id": "MDQ6VXNlcjEwNjc4NjIw", "avatar_url": "https://avatars.githubusercontent.com/u/10678620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/groutr", "html_url": "https://github.com/groutr", "followers_url": "https://api.github.com/users/groutr/followers", "following_url": "https://api.github.com/users/groutr/following{/other_user}", "gists_url": "https://api.github.com/users/groutr/gists{/gist_id}", "starred_url": "https://api.github.com/users/groutr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/groutr/subscriptions", "organizations_url": "https://api.github.com/users/groutr/orgs", "repos_url": "https://api.github.com/users/groutr/repos", "events_url": "https://api.github.com/users/groutr/events{/privacy}", "received_events_url": "https://api.github.com/users/groutr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/104", "html_url": "https://github.com/rasterio/rasterio/milestone/104", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/104/labels", "id": 6365645, "node_id": "MDk6TWlsZXN0b25lNjM2NTY0NQ==", "number": 104, "title": "1.2.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2021-01-29T02:51:46Z", "updated_at": "2022-11-18T17:23:21Z", "due_on": null, "closed_at": "2021-03-03T21:55:39Z"}, "comments": 5, "created_at": "2021-02-01T15:53:53Z", "updated_at": "2021-02-10T22:30:43Z", "closed_at": "2021-02-10T22:30:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2100", "html_url": "https://github.com/rasterio/rasterio/pull/2100", "diff_url": "https://github.com/rasterio/rasterio/pull/2100.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2100.patch", "merged_at": "2021-02-10T22:30:43Z"}, "body": "According the documentation of this function, if `dtype` is None, then the dtype of the first dataset is used. This is stored in `dt`. However, if `dtype` is not None, then `dt = dtype`. Therefore, when checking if `nodataval` is in range, `dt` should be used instead of `dtype`.\r\n\r\nIf the first dataset has a dtype of `int8` and the `merge(datasets, nodata=9999)` is called, the checks for `nodataval` being in range will use float64, since `np.dtype(None) == np.float64`. But, according to the documentation, `merge` should be default to `int8` as the dtype. In this scenario, `dest` will get filled with a `nodataval` that would be out of range of the dtype.\r\n\r\nEDIT: This is a more serious problem than I thought. It could explain some strange values I've seen in past merges. In the scenario above the 9999 nodata value becomes 15 in the merged result because of the wraparound of the datatype.\r\nTo avoid this problem, when you define `nodata`, you _must_ define `dtype` as well.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2100/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2099", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2099/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2099/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2099/events", "html_url": "https://github.com/rasterio/rasterio/issues/2099", "id": 797626784, "node_id": "MDU6SXNzdWU3OTc2MjY3ODQ=", "number": 2099, "title": "unioned block windows polygonize as if they were not unioned", "user": {"login": "tjwebb", "id": 1009114, "node_id": "MDQ6VXNlcjEwMDkxMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1009114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tjwebb", "html_url": "https://github.com/tjwebb", "followers_url": "https://api.github.com/users/tjwebb/followers", "following_url": "https://api.github.com/users/tjwebb/following{/other_user}", "gists_url": "https://api.github.com/users/tjwebb/gists{/gist_id}", "starred_url": "https://api.github.com/users/tjwebb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tjwebb/subscriptions", "organizations_url": "https://api.github.com/users/tjwebb/orgs", "repos_url": "https://api.github.com/users/tjwebb/repos", "events_url": "https://api.github.com/users/tjwebb/events{/privacy}", "received_events_url": "https://api.github.com/users/tjwebb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-31T05:38:13Z", "updated_at": "2021-02-01T06:54:44Z", "closed_at": "2021-02-01T06:54:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI'm calling `windows.union()` on a set of windows in order to do fewer file reads. This works, but when I use `features.shapes()` to polygonize the block, there are no polygons connected across these block windows (when they should be). Instead, the result of `shapes()` appears as if I called `shapes()` individually on each block window separately, rather than on the union.\r\n\r\n## Operating system\r\n\r\nDebian buster\r\n\r\n## Rasterio version and provenance\r\n1.1.8 from pypi\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2099/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2099/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2098", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2098/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2098/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2098/events", "html_url": "https://github.com/rasterio/rasterio/pull/2098", "id": 796495026, "node_id": "MDExOlB1bGxSZXF1ZXN0NTYzNjY3MDU2", "number": 2098, "title": "#2097 fixed error string spacing", "user": {"login": "BnJam", "id": 16641658, "node_id": "MDQ6VXNlcjE2NjQxNjU4", "avatar_url": "https://avatars.githubusercontent.com/u/16641658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BnJam", "html_url": "https://github.com/BnJam", "followers_url": "https://api.github.com/users/BnJam/followers", "following_url": "https://api.github.com/users/BnJam/following{/other_user}", "gists_url": "https://api.github.com/users/BnJam/gists{/gist_id}", "starred_url": "https://api.github.com/users/BnJam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BnJam/subscriptions", "organizations_url": "https://api.github.com/users/BnJam/orgs", "repos_url": "https://api.github.com/users/BnJam/repos", "events_url": "https://api.github.com/users/BnJam/events{/privacy}", "received_events_url": "https://api.github.com/users/BnJam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/104", "html_url": "https://github.com/rasterio/rasterio/milestone/104", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/104/labels", "id": 6365645, "node_id": "MDk6TWlsZXN0b25lNjM2NTY0NQ==", "number": 104, "title": "1.2.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2021-01-29T02:51:46Z", "updated_at": "2022-11-18T17:23:21Z", "due_on": null, "closed_at": "2021-03-03T21:55:39Z"}, "comments": 1, "created_at": "2021-01-29T01:11:34Z", "updated_at": "2021-01-29T02:51:58Z", "closed_at": "2021-01-29T02:51:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2098", "html_url": "https://github.com/rasterio/rasterio/pull/2098", "diff_url": "https://github.com/rasterio/rasterio/pull/2098.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2098.patch", "merged_at": "2021-01-29T02:51:58Z"}, "body": "Fixed error string spacing in rasterio/warp.py:calculate_default_transform for gcps and rpcs", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2098/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2098/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2097", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2097/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2097/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2097/events", "html_url": "https://github.com/rasterio/rasterio/issues/2097", "id": 796490698, "node_id": "MDU6SXNzdWU3OTY0OTA2OTg=", "number": 2097, "title": "Error output for calculate_default_transform", "user": {"login": "BnJam", "id": 16641658, "node_id": "MDQ6VXNlcjE2NjQxNjU4", "avatar_url": "https://avatars.githubusercontent.com/u/16641658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BnJam", "html_url": "https://github.com/BnJam", "followers_url": "https://api.github.com/users/BnJam/followers", "following_url": "https://api.github.com/users/BnJam/following{/other_user}", "gists_url": "https://api.github.com/users/BnJam/gists{/gist_id}", "starred_url": "https://api.github.com/users/BnJam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BnJam/subscriptions", "organizations_url": "https://api.github.com/users/BnJam/orgs", "repos_url": "https://api.github.com/users/BnJam/repos", "events_url": "https://api.github.com/users/BnJam/events{/privacy}", "received_events_url": "https://api.github.com/users/BnJam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-29T01:00:08Z", "updated_at": "2021-02-04T17:19:51Z", "closed_at": "2021-02-04T17:19:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Error output from calculate_default_transform has words \"notbe\" together as such with gcps and rpcs. ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2097/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2097/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2096", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2096/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2096/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2096/events", "html_url": "https://github.com/rasterio/rasterio/issues/2096", "id": 795453378, "node_id": "MDU6SXNzdWU3OTU0NTMzNzg=", "number": 2096, "title": "Clarification on usage with QGIS", "user": {"login": "arimeyer", "id": 15931433, "node_id": "MDQ6VXNlcjE1OTMxNDMz", "avatar_url": "https://avatars.githubusercontent.com/u/15931433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arimeyer", "html_url": "https://github.com/arimeyer", "followers_url": "https://api.github.com/users/arimeyer/followers", "following_url": "https://api.github.com/users/arimeyer/following{/other_user}", "gists_url": "https://api.github.com/users/arimeyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/arimeyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arimeyer/subscriptions", "organizations_url": "https://api.github.com/users/arimeyer/orgs", "repos_url": "https://api.github.com/users/arimeyer/repos", "events_url": "https://api.github.com/users/arimeyer/events{/privacy}", "received_events_url": "https://api.github.com/users/arimeyer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-27T21:22:14Z", "updated_at": "2021-01-28T01:15:21Z", "closed_at": "2021-01-28T01:15:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nWe're looking to simplify our code for a QGIS plugin to use Rasterio/Shapely in place of GDAL/OGR.  Shapely is included in the standard QGIS distribution, but Rasterio is not (not sure why).  In any case, I found on\r\n https://rasterio.readthedocs.io/en/latest/topics/switch.html :\r\nGDAL\u2019s bindings (gdal for the rest of this document) and Rasterio are not entirely compatible and should not, without a great deal of care, be imported and used in a single Python program. The reason is that the dynamic library they each load (these are C extension modules, remember), libgdal.so on Linux, gdal.dll on Windows, has a number of global objects and the two modules take different approaches to managing these objects.\r\n\r\nDoes this imply that we may have problems if we try to port the GDAL Python code of our QGIS plugin to Rasterio that we may run into problems, as QGIS is built on GDAL?  Can you add a section to rasterio.readthedocs.io clarifying interoperability with QGIS?\r\n\r\nThank you,\r\nAri", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2096/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2095", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2095/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2095/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2095/events", "html_url": "https://github.com/rasterio/rasterio/issues/2095", "id": 795165643, "node_id": "MDU6SXNzdWU3OTUxNjU2NDM=", "number": 2095, "title": "Reproject is bilinearly interpolating even though reprojection is on a snapped grid and integer multiple of resolution", "user": {"login": "abpoll", "id": 7188728, "node_id": "MDQ6VXNlcjcxODg3Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/7188728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abpoll", "html_url": "https://github.com/abpoll", "followers_url": "https://api.github.com/users/abpoll/followers", "following_url": "https://api.github.com/users/abpoll/following{/other_user}", "gists_url": "https://api.github.com/users/abpoll/gists{/gist_id}", "starred_url": "https://api.github.com/users/abpoll/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abpoll/subscriptions", "organizations_url": "https://api.github.com/users/abpoll/orgs", "repos_url": "https://api.github.com/users/abpoll/repos", "events_url": "https://api.github.com/users/abpoll/events{/privacy}", "received_events_url": "https://api.github.com/users/abpoll/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/104", "html_url": "https://github.com/rasterio/rasterio/milestone/104", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/104/labels", "id": 6365645, "node_id": "MDk6TWlsZXN0b25lNjM2NTY0NQ==", "number": 104, "title": "1.2.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2021-01-29T02:51:46Z", "updated_at": "2022-11-18T17:23:21Z", "due_on": null, "closed_at": "2021-03-03T21:55:39Z"}, "comments": 5, "created_at": "2021-01-27T14:47:27Z", "updated_at": "2021-03-03T17:15:39Z", "closed_at": "2021-03-03T16:48:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\nRaster A is a rasterized shape file at 15m resolution and Raster B is a clipped image snapped to the extent of Raster A but could be at a different resolution. In this particular case, Raster B is at 30m resolution. I have a preprocessing step where I rasterize the image Raster B is based on with burn = 1 and nodata = 0 to get Raster B. If I call gdal_translate on raster_b_filepath to reproject to 15m resolution, I get the expected output raster where all cells are valued either 0 or 1. In contrast, if I call reproject from rasterio.warp the output reprojected raster has cell values in between 0 and 1 (bilinearly interpolating).\r\n\r\n## Steps to reproduce the problem.\r\n\r\nMy understanding is that you could replicate the problem by randomizing a ndarray with 0. and 1. values (floating point for consistency as the output of the rasterize() call) and then doing reproject. \r\n\r\nHere is the configuration of the Raster B\r\n{'res': 30,\r\n 'xmin': 2008935.0,\r\n 'ymin': 2401665.0,\r\n 'xmax': 2029695.0,\r\n 'ymax': 2428545.0,\r\n 'epsg': 5070}\r\n\r\nSo, the transform is \r\nAffine(30.0, 0.0, 2008935.0, 0.0, -30.0, 2428545.0)\r\n\r\nAnd here is the transform of Raster A which we want to reproject to\r\nAffine(15.0, 0.0, 2008935.0, 0.0, -15.0, 2428545.0)\r\n\r\nNote the extent is identical, just a different resolution. \r\n\r\nI calculate the out_shape as (matches the shape of the input raster)\r\n(1792, 1384)\r\n\r\nI initialize the container for the reprojected raster \r\nraster = np.zeros(out_shape, r.dtype)\r\n\r\nAnd here is the call to reproject\r\nreproject(r, raster, src_transform=transform, src_crs={'init': 'epsg:5070'},\r\n                 dst_transform=trans, dst_crs={'init': 'epsg:5070'},\r\n                 resampling=1)\r\n\r\nTransform in this case refers to Affine(30.0, 0.0, 2008935.0, 0.0, -30.0, 2428545.0)\r\nand trans refers to Affine(15.0, 0.0, 2008935.0, 0.0, -15.0, 2428545.0)\r\n\r\nr is a reference to Raster B and raster will hold the reprojected Raster B\r\n\r\nresampling is bilinear, but shouldn't occur in this case since it's on a snapped grid in an integer multiple of resolution. \r\n\r\nThe possible values in the reprojected Raster B are now\r\narray([0.    , 0.0625, 0.1875, 0.25  , 0.375 , 0.4375, 0.5625, 0.625 ,\r\n       0.75  , 0.8125, 0.9375, 1.    ], dtype=float32)\r\n\r\nBut they should be 0 or 1, which is what you get from gdal_translate\r\n\r\nI apologize if the issue is in the way I execute the processing steps before reproject() but based off the documentation this is my understanding of the preprocessing. \r\n\r\nFWIW, when I rasterize() with 'int8' dtype enforced I get the expected answer with reproject(), but there are instances where the reprojected raster is not 0/1 int and I wonder if this is a general bug. \r\n\r\nIf you do not replicate with a random ndarray of 0. and 1. values I will see if I can upload the data in use - I don't know how to do that yet. \r\n\r\n## Operating system\r\n\r\nLinux on shared computing cluster \r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio 1.0.28 downloaded from conda-forge\r\n\r\n## Illustration of issue\r\n![image](https://user-images.githubusercontent.com/7188728/106003717-77fbc080-6080-11eb-9551-a13cbc689cfc.png)\r\n\r\nParcel ID raster (colors) and a protection raster (black) are perfectly snapped. I'm not sure how a reprojection would attribute values > 0 to any of the pixels overlapping with the parcel in question. However, the red outlined parcel is assigned a value of .167 in a subsequent zonal_stats call when the protection raster is reprojected to 15m resolution to match the parcel ID raster. \r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2095/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2095/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2092", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2092/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2092/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2092/events", "html_url": "https://github.com/rasterio/rasterio/issues/2092", "id": 792244842, "node_id": "MDU6SXNzdWU3OTIyNDQ4NDI=", "number": 2092, "title": "WarpedVRT context exit doesn't not set the dataset as closed", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-22T19:17:40Z", "updated_at": "2021-01-22T21:37:38Z", "closed_at": "2021-01-22T21:37:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It's me again with a WarpedVRT bug (I'm sorry). \r\n\r\nBasically I wanted to know the state of the WarpedVRT dataset after I exited the context manager, and it seems that the WarpedVRT is not set to `closed` but if I try to to `vrt.read()` rasterio will error with `RasterioIOError: Dataset is closed: WarpedVRT(tests/fixtures/cog_gcps.tif)`\r\n\r\n```python\r\nwith rasterio.open(\"tests/fixtures/cog.tif\") as src:\r\n    with WarpedVRT(src) as vrt:\r\n        assert not src.closed\r\n        assert not vrt.closed   # <open WarpedVRT name='WarpedVRT(tests/fixtures/cog.tif)' mode='r'>\r\n    assert vrt.closed   # <--- AssertionError  | <open WarpedVRT name='WarpedVRT(tests/fixtures/cog.tif)' mode='r'>\r\nassert src.closed\r\nassert vrt.closed. # <-- still not closed here either\r\n```\r\n\r\nSystem: \r\n- Mac Os \r\n- rasterio:  '1.2b4'`", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2092/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2092/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2087", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2087/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2087/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2087/events", "html_url": "https://github.com/rasterio/rasterio/issues/2087", "id": 788284887, "node_id": "MDU6SXNzdWU3ODgyODQ4ODc=", "number": 2087, "title": "`rio clip`'s boundless with-complement reads do not set nodata", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/105", "html_url": "https://github.com/rasterio/rasterio/milestone/105", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/105/labels", "id": 6527695, "node_id": "MDk6TWlsZXN0b25lNjUyNzY5NQ==", "number": 105, "title": "1.2.2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2021-03-09T17:19:38Z", "updated_at": "2021-04-07T13:55:02Z", "due_on": null, "closed_at": "2021-04-07T13:55:02Z"}, "comments": 1, "created_at": "2021-01-18T13:47:47Z", "updated_at": "2021-04-07T00:35:41Z", "closed_at": "2021-04-07T00:35:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nWhen using `rio clip`'s `--with-complement` option on a raster where there is no nodata attribute set, the resulting raster will not have a nodata attribute set, even though the boundless read will read in invalid data. Here is the boundless read\r\n\r\nhttps://github.com/mapbox/rasterio/blob/fde60624682b306f799c38247930f1efdba99178/rasterio/rio/clip.py#L162\r\n\r\nbut we are never setting a nodata value when writing the dataset. This results in rasterio writing zero and the user not noticing that the zeros are not actual real pixel values but should rather be treated as nodata values.\r\n\r\n`rio info` on the clipped raster shows me\r\n\r\n    \"nodata\": null\r\n\r\nbut when I have a look at the individual pixels with rasterio they are all set to zero.\r\n\r\n\r\n## Steps to reproduce the problem.\r\n\r\n- Use `rio clip --with-complement` on a raster without nodata set\r\n- Have rio clip's boundless read bring in invalid data and expect a nodata fill value\r\n\r\n## Operating system\r\n\r\nubuntu20.04 docker container\r\n\r\n## Rasterio version and provenance\r\n\r\n1.1.8", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2087/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2087/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2086", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2086/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2086/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2086/events", "html_url": "https://github.com/rasterio/rasterio/issues/2086", "id": 788244127, "node_id": "MDU6SXNzdWU3ODgyNDQxMjc=", "number": 2086, "title": "WarpedVRT not working with GCPs and no CRS set", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/95", "html_url": "https://github.com/rasterio/rasterio/milestone/95", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/95/labels", "id": 5083321, "node_id": "MDk6TWlsZXN0b25lNTA4MzMyMQ==", "number": 95, "title": "1.2.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 41, "state": "closed", "created_at": "2020-02-07T22:56:39Z", "updated_at": "2021-01-25T14:56:44Z", "due_on": null, "closed_at": "2021-01-25T14:56:44Z"}, "comments": 4, "created_at": "2021-01-18T12:50:45Z", "updated_at": "2021-01-24T21:25:21Z", "closed_at": "2021-01-24T21:24:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Helloo folks :wave: \r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI have a dataset with GCPs and `crs` is unset as seen in the metadata below\r\n\r\n```\r\n>>> d.gcps[1]\r\nCRS.from_epsg(4326)\r\n>>> \r\n>>> len(d.gcps[0])\r\n210\r\n>>> \r\n>>> d.meta\r\n{'driver': 'GTiff', 'dtype': 'uint16', 'nodata': None, 'width': 25689, 'height': 16667, 'count': 1, 'crs': None, 'transform': Affine(1.0, 0.0, 0.0,\r\n       0.0, 1.0, 0.0)}\r\n```\r\n\r\nWhen I use `WarpedVRT` on this dataset, I expect `WarpedVRT` to work - but it fails with\r\n\r\n```\r\n>>> rasterio.vrt.WarpedVRT(d, crs=\"EPSG:3857\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"rasterio/_warp.pyx\", line 821, in rasterio._warp.WarpedVRTReaderBase.__init__\r\n  File \"rasterio/_base.pyx\", line 1347, in rasterio._base._osr_from_crs\r\n  File \"/home/python/.local/lib/python3.8/site-packages/rasterio/crs.py\", line 498, in from_user_input\r\n    raise CRSError(\"CRS is invalid: {!r}\".format(value))\r\nrasterio.errors.CRSError: CRS is invalid: None\r\n>>> \r\n```\r\n\r\n`rio warp` can handle this raster file just fine, but I need programmatic access to it with `WarpedVRT`.\r\n\r\nWhy does `WarpedVRT` expect a CRS being set and does not work with GCPs? Is this a known issue or a limitation?\r\n\r\n\r\n## Steps to reproduce the problem.\r\n\r\nWrap a dataset with gcps and no crs in a `WarpedVRT`.\r\n\r\n## Operating system\r\n\r\nubuntu20.04 lts docker container\r\n\r\n## Rasterio version and provenance\r\n\r\n1.1.8", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2086/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2086/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2085", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2085/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2085/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2085/events", "html_url": "https://github.com/rasterio/rasterio/issues/2085", "id": 787080080, "node_id": "MDU6SXNzdWU3ODcwODAwODA=", "number": 2085, "title": "--co tiled=false creation option getting ignored on a tiled input raster", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/95", "html_url": "https://github.com/rasterio/rasterio/milestone/95", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/95/labels", "id": 5083321, "node_id": "MDk6TWlsZXN0b25lNTA4MzMyMQ==", "number": 95, "title": "1.2.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 41, "state": "closed", "created_at": "2020-02-07T22:56:39Z", "updated_at": "2021-01-25T14:56:44Z", "due_on": null, "closed_at": "2021-01-25T14:56:44Z"}, "comments": 2, "created_at": "2021-01-15T17:54:32Z", "updated_at": "2021-01-24T21:53:35Z", "closed_at": "2021-01-24T21:53:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As per https://rasterio.readthedocs.io/en/stable/cli.html#creation-options there are `--co` creation options.\r\n\r\nI have a use case where I get a `tiled=true` raster with blocksize x/y metadata, and I want to save it as a `tiled=false` raster.\r\n\r\nI can replicate the behavior with a raster tif in this repo:\r\n\r\nhttps://github.com/mapbox/rasterio/blob/fde60624682b306f799c38247930f1efdba99178/tests/data/rgb_lzw.tif\r\n\r\nSee how it is tiled with blocksizes\r\n\r\n```\r\nrio info rgb_lzw.tif \r\n{\"blockxsize\": 256, \"blockysize\": 256, \"bounds\": [101985.0, 2611485.0, 339315.0, 2826915.0], \"colorinterp\": [\"red\", \"green\", \"blue\"], \"compress\": \"lzw\", \"count\": 3, \"crs\": \"EPSG:32618\", \"descriptions\": [null, null, null], \"driver\": \"GTiff\", \"dtype\": \"uint8\", \"height\": 718, \"indexes\": [1, 2, 3], \"interleave\": \"pixel\", \"lnglat\": [-77.75790625254562, 24.561583285332812], \"mask_flags\": [[\"nodata\"], [\"nodata\"], [\"nodata\"]], \"nodata\": 0.0, \"res\": [300.0379266750948, 300.041782729805], \"shape\": [718, 791], \"tiled\": true, \"transform\": [300.0379266750948, 0.0, 101985.0, 0.0, -300.041782729805, 2826915.0, 0.0, 0.0, 1.0], \"units\": [null, null, null], \"width\": 791}\r\n```\r\n\r\nNow when I run any rio command on it, e.g. a simple convert, and ask it to not tile the output\r\n\r\n```\r\nrio convert rgb_lzw.tif rgb_lzw_notile.tif --co tiled=false\r\n```\r\n\r\nThe output is still tiled and has blocksize metadata\r\n\r\n```\r\nrio info rgb_lzw_notile.tif \r\n{\"blockxsize\": 256, \"blockysize\": 256, \"bounds\": [101985.0, 2611485.0, 339315.0, 2826915.0], \"colorinterp\": [\"red\", \"green\", \"blue\"], \"compress\": \"lzw\", \"count\": 3, \"crs\": \"EPSG:32618\", \"descriptions\": [null, null, null], \"driver\": \"GTiff\", \"dtype\": \"uint8\", \"height\": 718, \"indexes\": [1, 2, 3], \"interleave\": \"pixel\", \"lnglat\": [-77.75790625254562, 24.561583285332812], \"mask_flags\": [[\"nodata\"], [\"nodata\"], [\"nodata\"]], \"nodata\": 0.0, \"res\": [300.0379266750948, 300.041782729805], \"shape\": [718, 791], \"tiled\": true, \"transform\": [300.0379266750948, 0.0, 101985.0, 0.0, -300.041782729805, 2826915.0, 0.0, 0.0, 1.0], \"units\": [null, null, null], \"width\": 791}\r\n```\r\n\r\nIt looks like the `tiled=false` creation option is silently getting ignored.\r\n\r\nubuntu20.04 docker container, rasterio 1.1.6", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2085/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2085/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2084", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2084/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2084/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2084/events", "html_url": "https://github.com/rasterio/rasterio/issues/2084", "id": 786965568, "node_id": "MDU6SXNzdWU3ODY5NjU1Njg=", "number": 2084, "title": "WarpedVRT is lying to me: boundless reads not supported", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/105", "html_url": "https://github.com/rasterio/rasterio/milestone/105", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/105/labels", "id": 6527695, "node_id": "MDk6TWlsZXN0b25lNjUyNzY5NQ==", "number": 105, "title": "1.2.2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2021-03-09T17:19:38Z", "updated_at": "2021-04-07T13:55:02Z", "due_on": null, "closed_at": "2021-04-07T13:55:02Z"}, "comments": 4, "created_at": "2021-01-15T15:07:39Z", "updated_at": "2021-04-06T23:29:50Z", "closed_at": "2021-04-06T23:06:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The function signature implies boundless reads are possible\r\n\r\nhttps://github.com/mapbox/rasterio/blob/fde60624682b306f799c38247930f1efdba99178/rasterio/_warp.pyx#L1077-L1079\r\n\r\nThe boundless argument implies boundless reads are possible\r\n\r\nhttps://github.com/mapbox/rasterio/blob/fde60624682b306f799c38247930f1efdba99178/rasterio/_warp.pyx#L1130-L1133\r\n\r\nThe fill value argument says to use it for boundless reads\r\n\r\nhttps://github.com/mapbox/rasterio/blob/fde60624682b306f799c38247930f1efdba99178/rasterio/_warp.pyx#L1141-L1142\r\n\r\nThe read function disagrees\r\n\r\nhttps://github.com/mapbox/rasterio/blob/fde60624682b306f799c38247930f1efdba99178/rasterio/_warp.pyx#L1153-L1164\r\n\r\n\ud83e\udd72\r\n\r\nIs there a reason boundless reads are not supported? We should be able to fill with the sources nodata value, or not?\r\n\r\nCan we simulate boundless reads by just pre-filling an empty array with nodata when the user specifies the shape?\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2084/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2084/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2082", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2082/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2082/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2082/events", "html_url": "https://github.com/rasterio/rasterio/issues/2082", "id": 786233070, "node_id": "MDU6SXNzdWU3ODYyMzMwNzA=", "number": 2082, "title": "GDAL 3.2.1 and PROJ 7.2.1 break rasterio", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/95", "html_url": "https://github.com/rasterio/rasterio/milestone/95", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/95/labels", "id": 5083321, "node_id": "MDk6TWlsZXN0b25lNTA4MzMyMQ==", "number": 95, "title": "1.2.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 41, "state": "closed", "created_at": "2020-02-07T22:56:39Z", "updated_at": "2021-01-25T14:56:44Z", "due_on": null, "closed_at": "2021-01-25T14:56:44Z"}, "comments": 9, "created_at": "2021-01-14T18:54:46Z", "updated_at": "2021-01-20T18:20:05Z", "closed_at": "2021-01-20T18:20:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For example:\r\n\r\n```\r\nself = <tests.test_read.ReaderContextTest testMethod=test_context>                                                                                                                                                 \r\n                                                                                                                                                                                                                   \r\n    def test_context(self):                                                                                                                                                                                        \r\n        with rasterio.open('tests/data/RGB.byte.tif') as s:                                                                                                                                                        \r\n            self.assertEqual(s.name, 'tests/data/RGB.byte.tif')                                                                                                        \r\n            self.assertEqual(s.driver, 'GTiff')                                                                                                                                                                    \r\n            self.assertEqual(s.closed, False)                                                                 \r\n            self.assertEqual(s.count, 3)                                                                                                                                                                           \r\n            self.assertEqual(s.width, 791)                                                                                                                                                                         \r\n            self.assertEqual(s.height, 718)                                                               \r\n            self.assertEqual(s.shape, (718, 791))                                                             \r\n            self.assertEqual(s.dtypes, tuple([rasterio.ubyte] * 3))                                                                                                                                                \r\n            self.assertEqual(s.nodatavals, (0, 0, 0))                                                         \r\n            self.assertEqual(s.indexes, (1, 2, 3))                                                            \r\n>           self.assertEqual(s.crs.to_epsg(), 32618)                                                                                                \r\nE           AssertionError: None != 32618                                                                                                                                                                          \r\n                                                                                                                                    \r\ntests/test_read.py:38: AssertionError \r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2082/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2081", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2081/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2081/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2081/events", "html_url": "https://github.com/rasterio/rasterio/issues/2081", "id": 784526867, "node_id": "MDU6SXNzdWU3ODQ1MjY4Njc=", "number": 2081, "title": "Open README with UTF-8 encoding in setup.py", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/95", "html_url": "https://github.com/rasterio/rasterio/milestone/95", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/95/labels", "id": 5083321, "node_id": "MDk6TWlsZXN0b25lNTA4MzMyMQ==", "number": 95, "title": "1.2.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 41, "state": "closed", "created_at": "2020-02-07T22:56:39Z", "updated_at": "2021-01-25T14:56:44Z", "due_on": null, "closed_at": "2021-01-25T14:56:44Z"}, "comments": 0, "created_at": "2021-01-12T19:28:07Z", "updated_at": "2021-01-12T19:31:36Z", "closed_at": "2021-01-12T19:31:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Some non-ascii characters snuck into the README. I'm looking into that too.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2081/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2081/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2079", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2079/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2079/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2079/events", "html_url": "https://github.com/rasterio/rasterio/issues/2079", "id": 783539542, "node_id": "MDU6SXNzdWU3ODM1Mzk1NDI=", "number": 2079, "title": "1.2b2 from wheel can't locate proj.db", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/95", "html_url": "https://github.com/rasterio/rasterio/milestone/95", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/95/labels", "id": 5083321, "node_id": "MDk6TWlsZXN0b25lNTA4MzMyMQ==", "number": 95, "title": "1.2.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 41, "state": "closed", "created_at": "2020-02-07T22:56:39Z", "updated_at": "2021-01-25T14:56:44Z", "due_on": null, "closed_at": "2021-01-25T14:56:44Z"}, "comments": 4, "created_at": "2021-01-11T16:58:18Z", "updated_at": "2021-01-12T00:15:54Z", "closed_at": "2021-01-12T00:09:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The PROJ search path isn't set properly. I had thought that the tests run by the wheel builder would find such bugs, but no.\r\n\r\n```\r\n$ rio info ~/projects/rasterio/tests/data/RGB.byte.tif \r\nTraceback (most recent call last):\r\n  File \"rasterio/_base.pyx\", line 1455, in rasterio._base._osr_from_crs\r\n  File \"rasterio/_err.pyx\", line 192, in rasterio._err.exc_wrap_int\r\nrasterio._err.CPLE_AppDefinedError: PROJ: proj_create_from_database: cannot build projectedCRS 32618: SQLite error on SELECT extent.description, extent.south_lat, extent.north_lat, extent.west_lon, extent.east_lon, scope.scope, (CASE WHEN scope.scope LIKE '%large scale%' THEN 0 ELSE 1 END) AS score FROM usage JOIN extent ON usage.extent_auth_name = extent.auth_name AND usage.extent_code = extent.code JOIN scope ON usage.scope_auth_name = scope.auth_name AND usage.scope_code = scope.code WHERE object_table_name = ? AND object_auth_name = ? AND object_code = ? ORDER BY score, usage.auth_name, usage.code: no such table: usage\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/sean/.local/bin/rio\", line 8, in <module>\r\n    sys.exit(main_group())\r\n  File \"/home/sean/.local/pipx/venvs/rasterio/lib/python3.7/site-packages/click/core.py\", line 829, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/home/sean/.local/pipx/venvs/rasterio/lib/python3.7/site-packages/click/core.py\", line 782, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/home/sean/.local/pipx/venvs/rasterio/lib/python3.7/site-packages/click/core.py\", line 1259, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/home/sean/.local/pipx/venvs/rasterio/lib/python3.7/site-packages/click/core.py\", line 1066, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/home/sean/.local/pipx/venvs/rasterio/lib/python3.7/site-packages/click/core.py\", line 610, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/home/sean/.local/pipx/venvs/rasterio/lib/python3.7/site-packages/click/decorators.py\", line 21, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/home/sean/.local/pipx/venvs/rasterio/lib/python3.7/site-packages/rasterio/rio/info.py\", line 90, in info\r\n    info['lnglat'] = src.lnglat()\r\n  File \"rasterio/_base.pyx\", line 986, in rasterio._base.DatasetBase.lnglat\r\n  File \"rasterio/_base.pyx\", line 1394, in rasterio._base._transform\r\n  File \"rasterio/_base.pyx\", line 1461, in rasterio._base._osr_from_crs\r\nrasterio.errors.CRSError: PROJ: proj_create_from_database: cannot build projectedCRS 32618: SQLite error on SELECT extent.description, extent.south_lat, extent.north_lat, extent.west_lon, extent.east_lon, scope.scope, (CASE WHEN scope.scope LIKE '%large scale%' THEN 0 ELSE 1 END) AS score FROM usage JOIN extent ON usage.extent_auth_name = extent.auth_name AND usage.extent_code = extent.code JOIN scope ON usage.scope_auth_name = scope.auth_name AND usage.scope_code = scope.code WHERE object_table_name = ? AND object_auth_name = ? AND object_code = ? ORDER BY score, usage.auth_name, usage.code: no such table: usage\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2079/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2079/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2078", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2078/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2078/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2078/events", "html_url": "https://github.com/rasterio/rasterio/issues/2078", "id": 782386452, "node_id": "MDU6SXNzdWU3ODIzODY0NTI=", "number": 2078, "title": "Dataset.tags() call throws UnicodeDecodeError on GeoTIFF metadata readable by GDAL", "user": {"login": "lossyrob", "id": 2320142, "node_id": "MDQ6VXNlcjIzMjAxNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/2320142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lossyrob", "html_url": "https://github.com/lossyrob", "followers_url": "https://api.github.com/users/lossyrob/followers", "following_url": "https://api.github.com/users/lossyrob/following{/other_user}", "gists_url": "https://api.github.com/users/lossyrob/gists{/gist_id}", "starred_url": "https://api.github.com/users/lossyrob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lossyrob/subscriptions", "organizations_url": "https://api.github.com/users/lossyrob/orgs", "repos_url": "https://api.github.com/users/lossyrob/repos", "events_url": "https://api.github.com/users/lossyrob/events{/privacy}", "received_events_url": "https://api.github.com/users/lossyrob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-01-08T20:46:57Z", "updated_at": "2021-01-11T17:00:51Z", "closed_at": "2021-01-10T23:06:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nCalling `.tags()` on a open dataset of a specific GeoTIFF file causes a `UnicodeDecodeError`. The dataset does contain misbehaving characters, but using GDAL directly as well as the GDAL python bindings reads the metadata without error.\r\n\r\nThe file is NASA HLS data converted from an HDF file into a COG - specifically from https://hls.gsfc.nasa.gov/data/v1.4/S30/2019/10/S/E/G/HLS.S30.T10SEG.2019048.v1.4.hdf to https://hlssa.blob.core.windows.net/hls/S30/HLS.S30.T10SEG.2019048.v1.4_01.tif\r\n\r\nThe offending bytes do exist in the HDF file, and were transferred to the COG. \r\n\r\n## Steps to reproduce the problem.\r\n\r\nThe issue can be reproduced by patching in the unit test here and running in an environment with GDAL python bindings installed: https://github.com/mapbox/rasterio/compare/master...lossyrob:bug/tags/unicode-decode-error\r\n\r\n(Pasted here for convenient viewing)\r\n\r\n```python\r\ndef test_tags_reads_what_gdal_can():\r\n    import os\r\n    from tempfile import TemporaryDirectory\r\n    from urllib.request import urlretrieve\r\n\r\n    # Note: GDAL python bindings must be installed in the virtualenv, e.g.\r\n    # pip install GDAL==`gdal-config --version`\r\n    from osgeo import gdal\r\n\r\n    # HLS COG file from AI for Earth datasets\r\n    url = 'https://hlssa.blob.core.windows.net/hls/S30/HLS.S30.T10SEG.2019048.v1.4_01.tif'\r\n\r\n    with TemporaryDirectory() as tmp_dir:\r\n        test_path = os.path.join(tmp_dir, 'test.tif')\r\n        urlretrieve(url, test_path)\r\n\r\n        # Show tags can be read with GDAL\r\n        gdal_ds = gdal.Open(test_path)\r\n        gdal_tags = gdal_ds.GetMetadata_Dict()\r\n\r\n        # Can tags be read in by rasterio?\r\n        with rasterio.open(test_path) as ds:\r\n            rio_tags = ds.tags()\r\n\r\n        # Notice error thrown: UnicodeDecodeError\r\n```\r\n\r\n## Operating system\r\n\r\nMultiple environments have replicated this issue, but I'm personally running Ubuntu 20.04.1 LTS on Windows Subsystem for Linux 2.\r\n\r\n## Rasterio version and provenance\r\n\r\nI reproduced with the above unit test on current master (6351d5a2cbb77be9906a43d5a937288d7f15ab6d)\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2078/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2078/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2072", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2072/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2072/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2072/events", "html_url": "https://github.com/rasterio/rasterio/issues/2072", "id": 772344530, "node_id": "MDU6SXNzdWU3NzIzNDQ1MzA=", "number": 2072, "title": "Int64 and GDAL methods (dtypes.dtype_rev)", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 6, "created_at": "2020-12-21T17:31:21Z", "updated_at": "2022-05-31T00:35:46Z", "closed_at": "2022-05-31T00:35:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nHow should `Int64` arrays be handled when being passed to GDAL methods? \r\n\r\n- A more helpful error message?\r\n- Automatically convert to `int32/float64` with a warning?\r\n\r\n## Steps to reproduce the problem.\r\nWhen using `rasterio.warp.reproject` with an `int64` array. I get the error:\r\n```\r\nrasterio/warp.py in reproject(source, destination, src_transform, gcps, src_crs, src_nodata, dst_transform, dst_crs, dst_nodata, dst_resolution, src_alpha, dst_alpha, resampling, num_threads, init_dest_nodata, warp_mem_limit, **kwargs)\r\n    346 \r\n    347     # Call the function in our extension module.\r\n--> 348     _reproject(\r\n    349         source, destination, src_transform=src_transform, gcps=gcps,\r\n    350         src_crs=src_crs, src_nodata=src_nodata, dst_transform=dst_transform,\r\n\r\nrasterio/_warp.pyx in rasterio._warp._reproject()\r\n\r\nrasterio/_warp.pyx in rasterio._warp._reproject()\r\n\r\nrasterio/_io.pyx in rasterio._io.InMemoryRaster.__cinit__()\r\n\r\nKeyError: 'int64'\r\n```\r\nAfter doing some digging, I think the offending line is:\r\nhttps://github.com/mapbox/rasterio/blob/52a2500af9707dbe2c87d73006160da1e8f33381/rasterio/_io.pyx#L1744\r\n\r\n## Operating system\r\n\r\nUbuntu 20\r\n\r\n## Rasterio version and provenance\r\n\r\nUsed conda to install.\r\n\r\n```\r\n$ rio --version\r\n1.1.8\r\n$ rio --gdal-version\r\n3.1.4\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2072/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2072/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2065", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2065/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2065/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2065/events", "html_url": "https://github.com/rasterio/rasterio/issues/2065", "id": 762736463, "node_id": "MDU6SXNzdWU3NjI3MzY0NjM=", "number": 2065, "title": "ERROR 4: .../name.tif: No such file or directory - For COG Driver", "user": {"login": "lukecampbell", "id": 1155163, "node_id": "MDQ6VXNlcjExNTUxNjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1155163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukecampbell", "html_url": "https://github.com/lukecampbell", "followers_url": "https://api.github.com/users/lukecampbell/followers", "following_url": "https://api.github.com/users/lukecampbell/following{/other_user}", "gists_url": "https://api.github.com/users/lukecampbell/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukecampbell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukecampbell/subscriptions", "organizations_url": "https://api.github.com/users/lukecampbell/orgs", "repos_url": "https://api.github.com/users/lukecampbell/repos", "events_url": "https://api.github.com/users/lukecampbell/events{/privacy}", "received_events_url": "https://api.github.com/users/lukecampbell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-12-11T18:34:13Z", "updated_at": "2022-08-24T17:27:40Z", "closed_at": "2021-04-06T22:52:25Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\nExpected:\r\nUsing `rasterio.open` in a write-mode on a non-existent file does not write `ERROR 4: .../name.tif: No such file or directory`.\r\n\r\nActual:\r\nIt writes `ERROR 4: .../name.tif: No such file or directory.`\r\n\r\n## Steps to reproduce the problem.\r\n\r\n[This branch](https://github.com/lukecampbell/rasterio/blob/error4/tests/test_write.py#L346-L358) contains the unit test which demonstrates the issue by displaying `ERROR 4...`.\r\n\r\nHere is also a simple script which demonstrates the error message and can be run using the latest version at the time of this issue.\r\n\r\n```python\r\nimport rasterio\r\nimport numpy as np\r\nfrom pathlib import Path\r\npth = Path('/tmp/') / 'fresh_dataset.tif'\r\n\r\nif pth.exists():\r\n    pth.unlink()\r\nwith rasterio.open(pth,\r\n                   'w',\r\n                   driver='COG',\r\n                   height=10,\r\n                   width=10,\r\n                   count=1,\r\n                   dtype='uint8') as dst:\r\n    dst.write(np.ones((1, 10, 10), dtype='uint8'))\r\n```\r\n\r\nThis issue doesn't exist when the driver is `GTiff`. This issue is virtually identical to https://github.com/mapbox/rasterio/issues/1659 but does not originate from a memory file and I've only seen it when using `COG` as the Driver.\r\n\r\nI made some changes which seem to fix the issue here https://github.com/mapbox/rasterio/compare/2e8ec36a52b6d57e5364f1b415e3573f6e3084a3...lukecampbell:error4 but I don't feel confident that the code is how the main contributors would handle the issue so I have avoided initiating a pull-request and instead opted to communicate these changes through this issue.\r\n\r\n## Operating system\r\n\r\nLinux 5.3.0-64-generic\r\nUbuntu 19.10\r\n\r\n\r\n## Rasterio version and provenance\r\n\r\nThis bug was verified on versions 1.1.6, 1.1.8, and master branch at the time of this bug `2e8ec36a52b6d57e5364f1b415e3573f6e3084a3`. The bug appeared in cases where the code was installed via pip, conda, and when the code was cloned from github and installed using `python setup.py install` and `pip install -e .`.\r\n\r\nGDAL 3.1.4 installed as a conda package within the conda virtual environment used to test this bug.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2065/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2065/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2061", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2061/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2061/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2061/events", "html_url": "https://github.com/rasterio/rasterio/issues/2061", "id": 761846292, "node_id": "MDU6SXNzdWU3NjE4NDYyOTI=", "number": 2061, "title": "Can't access requester pays buckets with `rio --aws-requester-pays info <url>` cli tool", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/95", "html_url": "https://github.com/rasterio/rasterio/milestone/95", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/95/labels", "id": 5083321, "node_id": "MDk6TWlsZXN0b25lNTA4MzMyMQ==", "number": 95, "title": "1.2.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 41, "state": "closed", "created_at": "2020-02-07T22:56:39Z", "updated_at": "2021-01-25T14:56:44Z", "due_on": null, "closed_at": "2021-01-25T14:56:44Z"}, "comments": 0, "created_at": "2020-12-11T03:25:25Z", "updated_at": "2020-12-11T17:33:54Z", "closed_at": "2020-12-11T17:33:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nShould be able to run something like this if correct AWS credentials are available\r\n\r\n```bash\r\nrio --aws-requester-pays \\\r\n  info \\\r\n s3://usgs-landsat/collection02/level-2/standard/oli-tirs/2014/168/061/LC08_L2SP_168061_20140102_20200912_02_T1/LC08_L2SP_168061_20140102_20200912_02_T1_SR_B4.TIF\r\n\r\n{\"blockxsize\": 256, \"blockysize\": 256, \"bounds\": [172185.0, -276315.0, 399915.0, -44085.0], \"colorinterp\": [\"gray\"], \"compress\": \"deflate\", \"count\": 1, \"crs\": \"EPSG:32637\", \"descriptions\": [null], \"driver\": \"GTiff\", \"dtype\": \"uint16\", \"height\": 7741, \"indexes\": [1], \"interleave\": \"band\", \"lnglat\": [37.07703791017367, -1.4485551824205734], \"mask_flags\": [[\"nodata\"]], \"nodata\": 0.0, \"res\": [30.0, 30.0], \"shape\": [7741, 7591], \"tiled\": true, \"transform\": [30.0, 0.0, 172185.0, 0.0, -30.0, -44085.0, 0.0, 0.0, 1.0], \"units\": [null], \"width\": 7591}\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\n1. make sure you have correct credentials, command below should work\r\n\r\n```bash\r\ngdalinfo /vsis3/usgs-landsat/collection02/level-2/standard/oli-tirs/2014/168/061/LC08_L2SP_168061_20140102_20200912_02_T1/LC08_L2SP_168061_20140102_20200912_02_T1_SR_B4.TIF \\\r\n--config AWS_REQUEST_PAYER requester\r\n```\r\n2. Now access same file with `rio`\r\n\r\n```bash\r\nrio --aws-requester-pays \\\r\n  info \\\r\n s3://usgs-landsat/collection02/level-2/standard/oli-tirs/2014/168/061/LC08_L2SP_168061_20140102_20200912_02_T1/LC08_L2SP_168061_20140102_20200912_02_T1_SR_B4.TIF\r\n```\r\nand get output similar to\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"rasterio/_base.pyx\", line 216, in rasterio._base.DatasetBase.__init__\r\n  File \"rasterio/_shim.pyx\", line 78, in rasterio._shim.open_dataset\r\n  File \"rasterio/_err.pyx\", line 213, in rasterio._err.exc_wrap_pointer\r\nrasterio._err.CPLE_AWSAccessDeniedError: Access Denied\r\n```\r\n\r\n\r\n## Diagnosis\r\n\r\nProblem is here:\r\n\r\nhttps://github.com/mapbox/rasterio/blob/2e8ec36a52b6d57e5364f1b415e3573f6e3084a3/rasterio/rio/main.py#L95-L101\r\n\r\nbasically AWSSession is not being constructed even if aws option was requested.\r\n\r\nShould be this instead:\r\n\r\n```diff\r\n-    if aws_profile or aws_no_sign_requests:\r\n+    if aws_profile or aws_no_sign_requests or aws_requester_pays:\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu 20.04\r\n\r\n## Rasterio version and provenance\r\n\r\n1.1.8 compiled against local gdal 3.0.4\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2061/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2061/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2060", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2060/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2060/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2060/events", "html_url": "https://github.com/rasterio/rasterio/issues/2060", "id": 759532056, "node_id": "MDU6SXNzdWU3NTk1MzIwNTY=", "number": 2060, "title": "Rendering issue in docs of class rasterio.env.Env", "user": {"login": "felixdivo", "id": 4403130, "node_id": "MDQ6VXNlcjQ0MDMxMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/4403130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/felixdivo", "html_url": "https://github.com/felixdivo", "followers_url": "https://api.github.com/users/felixdivo/followers", "following_url": "https://api.github.com/users/felixdivo/following{/other_user}", "gists_url": "https://api.github.com/users/felixdivo/gists{/gist_id}", "starred_url": "https://api.github.com/users/felixdivo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/felixdivo/subscriptions", "organizations_url": "https://api.github.com/users/felixdivo/orgs", "repos_url": "https://api.github.com/users/felixdivo/repos", "events_url": "https://api.github.com/users/felixdivo/events{/privacy}", "received_events_url": "https://api.github.com/users/felixdivo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/95", "html_url": "https://github.com/rasterio/rasterio/milestone/95", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/95/labels", "id": 5083321, "node_id": "MDk6TWlsZXN0b25lNTA4MzMyMQ==", "number": 95, "title": "1.2.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 41, "state": "closed", "created_at": "2020-02-07T22:56:39Z", "updated_at": "2021-01-25T14:56:44Z", "due_on": null, "closed_at": "2021-01-25T14:56:44Z"}, "comments": 1, "created_at": "2020-12-08T15:18:33Z", "updated_at": "2021-01-09T22:08:16Z", "closed_at": "2021-01-09T22:01:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The below example does not render properly, see [here](https://rasterio.readthedocs.io/en/latest/api/rasterio.env.html).\r\n\r\nhttps://github.com/mapbox/rasterio/blob/1d43837d1591c7bc3cc87c97e45f153063103d57/rasterio/env.py#L55-L86", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2060/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2060/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2048", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2048/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2048/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2048/events", "html_url": "https://github.com/rasterio/rasterio/issues/2048", "id": 748698742, "node_id": "MDU6SXNzdWU3NDg2OTg3NDI=", "number": 2048, "title": "Off-by-one error in merge.py with bounds", "user": {"login": "tofublock", "id": 24270346, "node_id": "MDQ6VXNlcjI0MjcwMzQ2", "avatar_url": "https://avatars.githubusercontent.com/u/24270346?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tofublock", "html_url": "https://github.com/tofublock", "followers_url": "https://api.github.com/users/tofublock/followers", "following_url": "https://api.github.com/users/tofublock/following{/other_user}", "gists_url": "https://api.github.com/users/tofublock/gists{/gist_id}", "starred_url": "https://api.github.com/users/tofublock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tofublock/subscriptions", "organizations_url": "https://api.github.com/users/tofublock/orgs", "repos_url": "https://api.github.com/users/tofublock/repos", "events_url": "https://api.github.com/users/tofublock/events{/privacy}", "received_events_url": "https://api.github.com/users/tofublock/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/104", "html_url": "https://github.com/rasterio/rasterio/milestone/104", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/104/labels", "id": 6365645, "node_id": "MDk6TWlsZXN0b25lNjM2NTY0NQ==", "number": 104, "title": "1.2.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2021-01-29T02:51:46Z", "updated_at": "2022-11-18T17:23:21Z", "due_on": null, "closed_at": "2021-03-03T21:55:39Z"}, "comments": 11, "created_at": "2020-11-23T11:00:06Z", "updated_at": "2021-02-10T22:28:17Z", "closed_at": "2021-02-10T22:27:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nTrying to merge multiple hgt tiles with new bounds for a cropped output image raises a ValueError:\r\n\r\n```\r\nFile \"venv/lib/python3.8/site-packages/rasterio/merge.py\", line 213, in copyto\r\n    mask = np.logical_and(old_nodata, ~new_nodata)\r\nValueError: operands could not be broadcast together with shapes (1,1080,1080) (1,1081,1080)\r\n```\r\n\r\nThis does not happen when feeding a single input file into the merge function.\r\n\r\nIt seems to be a by-one error in determining temp_shape in rasterio/merge.py\r\n\r\nChanging\r\nhttps://github.com/mapbox/rasterio/blob/0746738acc8cb999107d87f90fc2a315e678aa8b/rasterio/merge.py#L273\r\nto `trows, tcols = (int(dst_window.height), int(dst_window.width))`\r\n**seems** to fix the problem (i.e. does not raise exceptions and output **looks** okay.)\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nmerged_raster, merged_transf = rasterio.merge.merge(\r\n    demfiles,\r\n    bounds=(leftlon, botlat, rightlon, toplat),\r\n    res=(0.0008333333333333334, 0.0008333333333333334),\r\n    nodata=-32768,\r\n    )\r\n```\r\n\r\nwith demfiles being an array of paths to adjacent files from [this dataset](http://viewfinderpanoramas.org/Coverage%20map%20viewfinderpanoramas_org3.htm) and bounds lying within these adjacent files.\r\n\r\n## Operating system\r\n\r\nPython3.8 in Ubuntu and Debian\r\n\r\n## Rasterio version and provenance\r\n\r\n1.1.8 installed from pip3 in Ubuntu64 and from source on Raspberry Pi 4 Debian Buster ARMv71\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2048/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2041", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2041/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2041/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2041/events", "html_url": "https://github.com/rasterio/rasterio/issues/2041", "id": 746052346, "node_id": "MDU6SXNzdWU3NDYwNTIzNDY=", "number": 2041, "title": "Cast nodata value before filling in rio calc", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/104", "html_url": "https://github.com/rasterio/rasterio/milestone/104", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/104/labels", "id": 6365645, "node_id": "MDk6TWlsZXN0b25lNjM2NTY0NQ==", "number": 104, "title": "1.2.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2021-01-29T02:51:46Z", "updated_at": "2022-11-18T17:23:21Z", "due_on": null, "closed_at": "2021-03-03T21:55:39Z"}, "comments": 0, "created_at": "2020-11-18T22:06:46Z", "updated_at": "2021-03-03T15:24:40Z", "closed_at": "2021-03-03T15:24:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "At line 192, `res = res.filled(kwargs['nodata'])`, we need to convert that string to a numpy scalar or array of `res` dtype.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2041/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2036", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2036/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2036/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2036/events", "html_url": "https://github.com/rasterio/rasterio/issues/2036", "id": 741818946, "node_id": "MDU6SXNzdWU3NDE4MTg5NDY=", "number": 2036, "title": "src_crs parameter doesn't override src.crs in reproject()", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/105", "html_url": "https://github.com/rasterio/rasterio/milestone/105", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/105/labels", "id": 6527695, "node_id": "MDk6TWlsZXN0b25lNjUyNzY5NQ==", "number": 105, "title": "1.2.2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2021-03-09T17:19:38Z", "updated_at": "2021-04-07T13:55:02Z", "due_on": null, "closed_at": "2021-04-07T13:55:02Z"}, "comments": 0, "created_at": "2020-11-12T18:13:58Z", "updated_at": "2021-04-07T13:46:29Z", "closed_at": "2021-04-07T13:46:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This would be a surprise if a user expected it to work.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2036/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2036/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2034", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2034/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2034/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2034/events", "html_url": "https://github.com/rasterio/rasterio/issues/2034", "id": 740968644, "node_id": "MDU6SXNzdWU3NDA5Njg2NDQ=", "number": 2034, "title": "Test failures with gdal-3.2.0 + proj-7.2.0", "user": {"login": "manisandro", "id": 1298852, "node_id": "MDQ6VXNlcjEyOTg4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1298852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manisandro", "html_url": "https://github.com/manisandro", "followers_url": "https://api.github.com/users/manisandro/followers", "following_url": "https://api.github.com/users/manisandro/following{/other_user}", "gists_url": "https://api.github.com/users/manisandro/gists{/gist_id}", "starred_url": "https://api.github.com/users/manisandro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manisandro/subscriptions", "organizations_url": "https://api.github.com/users/manisandro/orgs", "repos_url": "https://api.github.com/users/manisandro/repos", "events_url": "https://api.github.com/users/manisandro/events{/privacy}", "received_events_url": "https://api.github.com/users/manisandro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 337782406, "node_id": "MDU6TGFiZWwzMzc3ODI0MDY=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/testing", "name": "testing", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/95", "html_url": "https://github.com/rasterio/rasterio/milestone/95", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/95/labels", "id": 5083321, "node_id": "MDk6TWlsZXN0b25lNTA4MzMyMQ==", "number": 95, "title": "1.2.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 41, "state": "closed", "created_at": "2020-02-07T22:56:39Z", "updated_at": "2021-01-25T14:56:44Z", "due_on": null, "closed_at": "2021-01-25T14:56:44Z"}, "comments": 3, "created_at": "2020-11-11T18:11:15Z", "updated_at": "2020-12-11T22:45:00Z", "closed_at": "2020-12-11T22:45:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "While working on packaging gdal-3.2.0 + proj-7.2.0 for Fedora, rebuilding python-rasterio against these results in the following test failures, which don't occur with gdal-3.1.4 + proj-6.3.2:\r\n\r\n    =================================== FAILURES ===================================\r\n    _________________________________ test_shapes __________________________________\r\n\r\n    basic_image = array([[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n        [0, 0, 1, 1, 1, 0, 0, 0, 0, 0],\r\n    ...0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], dtype=uint8)\r\n\r\n        def test_shapes(basic_image):\r\n            \"\"\"Test creation of shapes from pixel values.\"\"\"\r\n            results = list(shapes(basic_image))\r\n        \r\n            assert len(results) == 2\r\n        \r\n            shape, value = results[0]\r\n            assert shape == {\r\n                'coordinates': [\r\n                    [(2, 2), (2, 5), (5, 5), (5, 2), (2, 2)]\r\n                ],\r\n                'type': 'Polygon'\r\n            }\r\n            assert value == 1\r\n        \r\n            shape, value = results[1]\r\n    >       assert shape == {\r\n                'coordinates': [\r\n                    [(0, 0), (0, 10), (10, 10), (10, 0), (0, 0)],\r\n                    [(2, 2), (5, 2), (5, 5), (2, 5), (2, 2)]\r\n                ],\r\n                'type': 'Polygon'\r\n            }\r\n    E       AssertionError: assert {'coordinates...e': 'Polygon'} == {'coordinates...e': 'Polygon'}\r\n    E         Omitting 1 identical items, use -vv to show\r\n    E         Differing items:\r\n    E         {'coordinates': [[(0.0, 0.0), (0.0, 10.0), (10.0, 10.0), (10.0, 0.0), (0.0, 0.0)], [(2.0, 2.0), (2.0, 5.0), (5.0, 5.0), (5.0, 2.0), (2.0, 2.0)]]} != {'coordinates': [[(0, 0), (0, 10), (10, 10), (10, 0), (0, 0)], [(2, 2), (5, 2), (5, 5), (2, 5), (2, 2)]]}\r\n    E         Full diff:\r\n    E           {\r\n    E         -  'coordinates': [[(0,\r\n    E         +  'coordinates': [[(0.0,...\r\n    E         \r\n    E         ...Full output truncated (61 lines hidden), use '-vv' to show\r\n\r\n    tests/test_features.py:824: AssertionError\r\n    ------------------------------ Captured log call -------------------------------\r\n    DEBUG    rasterio._env:env.py:310 GDAL data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 PROJ data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 Started GDALEnv <rasterio._env.GDALEnv object at 0x7f7b59788bb0>.\r\n    DEBUG    rasterio._env:env.py:346 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f7b59788bb0>.\r\n    ______________________________ test_shapes_indent ______________________________\r\n\r\n    runner = <click.testing.CliRunner object at 0x7f7b59186f10>\r\n    pixelated_image_file = '/tmp/pytest-of-mockbuild/pytest-0/test_shapes_indent0/pixelated_image.tif'\r\n\r\n        def test_shapes_indent(runner, pixelated_image_file):\r\n            \"\"\"\r\n            --indent option should produce lots of newlines and contiguous spaces\r\n            \"\"\"\r\n            with pytest.warns(None):\r\n        \r\n                result = runner.invoke(\r\n                    main_group, ['shapes', '--collection', pixelated_image_file, '--indent', 2])\r\n        \r\n                assert result.exit_code == 0\r\n                assert result.output.count('\"FeatureCollection\"') == 1\r\n                assert result.output.count('\"Feature\"') == 4\r\n    >           assert result.output.count('\\n') == 231\r\n    E           assert 227 == 231\r\n    E             +227\r\n    E             -231\r\n\r\n    tests/test_rio_shapes.py:100: AssertionError\r\n    ------------------------------ Captured log setup ------------------------------\r\n    DEBUG    rasterio._env:env.py:310 GDAL data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 PROJ data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 Started GDALEnv <rasterio._env.GDALEnv object at 0x7f7b59302cd0>.\r\n    DEBUG    rasterio._env:env.py:346 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f7b59302cd0>.\r\n    DEBUG    rasterio._env:env.py:310 GDAL data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 PROJ data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 Started GDALEnv <rasterio._env.GDALEnv object at 0x7f7b58ed49d0>.\r\n    DEBUG    rasterio._env:env.py:346 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f7b58ed49d0>.\r\n    ------------------------------ Captured log call -------------------------------\r\n    DEBUG    rasterio._env:env.py:310 GDAL data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 PROJ data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 Started GDALEnv <rasterio._env.GDALEnv object at 0x7f7b590c6460>.\r\n    DEBUG    rasterio._env:env.py:346 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f7b590c6460>.\r\n    DEBUG    rasterio._env:env.py:310 GDAL data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 PROJ data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 Started GDALEnv <rasterio._env.GDALEnv object at 0x7f7b590c6310>.\r\n    DEBUG    rasterio._env:env.py:346 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f7b590c6310>.\r\n    DEBUG    rasterio._env:env.py:310 GDAL data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 PROJ data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 Started GDALEnv <rasterio._env.GDALEnv object at 0x7f7b58ed43d0>.\r\n    DEBUG    rasterio._env:env.py:346 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f7b58ed43d0>.\r\n    _______________________________ test_shapes_mask _______________________________\r\n\r\n    runner = <click.testing.CliRunner object at 0x7f7b58964130>\r\n    pixelated_image = array([[255, 255, 255, 255, 255, 255, 255, 255, 255, 255],\r\n        [255, 255, 255, 255, 255, 255, 255, 255, 255, 255],\r\n    ... 255, 255,   0,   0,   0,   0,   0, 255, 255],\r\n        [255, 255, 255,   0,   0,   0,   0,   0, 255, 255]], dtype=uint8)\r\n    pixelated_image_file = '/tmp/pytest-of-mockbuild/pytest-0/test_shapes_mask0/pixelated_image.tif'\r\n\r\n        def test_shapes_mask(runner, pixelated_image, pixelated_image_file):\r\n            \"\"\" --mask should extract the nodata area of the image \"\"\"\r\n        \r\n            pixelated_image[0:5, 0:10] = 255\r\n            pixelated_image[0:10, 0:3] = 255\r\n            pixelated_image[8:10, 8:10] = 255\r\n        \r\n            with rasterio.open(pixelated_image_file, 'r+') as out:\r\n                out.write(pixelated_image, indexes=1)\r\n        \r\n            with pytest.warns(None):\r\n                result = runner.invoke(\r\n                    main_group, ['shapes', '--collection', pixelated_image_file, '--mask'])\r\n                assert result.exit_code == 0\r\n                assert result.output.count('\"FeatureCollection\"') == 1\r\n                assert result.output.count('\"Feature\"') == 1\r\n    >           assert np.allclose(\r\n                    json.loads(result.output)['features'][0]['geometry']['coordinates'],\r\n                    [[[3, 5], [3, 10], [8, 10], [8, 8], [9, 8], [10, 8], [10, 5], [3, 5]]])\r\n\r\n    tests/test_rio_shapes.py:155: \r\n    _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n    <__array_function__ internals>:5: in allclose\r\n        ???\r\n    /usr/lib64/python3.9/site-packages/numpy/core/numeric.py:2189: in allclose\r\n        res = all(isclose(a, b, rtol=rtol, atol=atol, equal_nan=equal_nan))\r\n    <__array_function__ internals>:5: in isclose\r\n        ???\r\n    /usr/lib64/python3.9/site-packages/numpy/core/numeric.py:2290: in isclose\r\n        return within_tol(x, y, atol, rtol)\r\n    _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\n    x = array([[[ 3.,  5.],\r\n            [ 3., 10.],\r\n            [ 8., 10.],\r\n            [ 8.,  8.],\r\n            [10.,  8.],\r\n            [10.,  5.],\r\n            [ 3.,  5.]]])\r\n    y = array([[[ 3.,  5.],\r\n            [ 3., 10.],\r\n            [ 8., 10.],\r\n            [ 8.,  8.],\r\n            [ 9.,  8.],\r\n            [10.,  8.],\r\n            [10.,  5.],\r\n            [ 3.,  5.]]])\r\n    atol = 1e-08, rtol = 1e-05\r\n\r\n        def within_tol(x, y, atol, rtol):\r\n            with errstate(invalid='ignore'):\r\n    >           return less_equal(abs(x-y), atol + rtol * abs(y))\r\n    E           ValueError: operands could not be broadcast together with shapes (1,7,2) (1,8,2)\r\n\r\n    /usr/lib64/python3.9/site-packages/numpy/core/numeric.py:2276: ValueError\r\n    ------------------------------ Captured log setup ------------------------------\r\n    DEBUG    rasterio._env:env.py:310 GDAL data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 PROJ data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 Started GDALEnv <rasterio._env.GDALEnv object at 0x7f7b59302850>.\r\n    DEBUG    rasterio._env:env.py:346 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f7b59302850>.\r\n    DEBUG    rasterio._env:env.py:310 GDAL data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 PROJ data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 Started GDALEnv <rasterio._env.GDALEnv object at 0x7f7b59302d30>.\r\n    DEBUG    rasterio._env:env.py:346 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f7b59302d30>.\r\n    ------------------------------ Captured log call -------------------------------\r\n    DEBUG    rasterio._env:env.py:310 GDAL data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 PROJ data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 Started GDALEnv <rasterio._env.GDALEnv object at 0x7f7b59302af0>.\r\n    DEBUG    rasterio._env:env.py:346 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f7b59302af0>.\r\n    DEBUG    rasterio._env:env.py:310 GDAL data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 PROJ data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 Started GDALEnv <rasterio._env.GDALEnv object at 0x7f7b59302940>.\r\n    DEBUG    rasterio._env:env.py:346 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f7b59302940>.\r\n    DEBUG    rasterio._env:env.py:310 GDAL data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 PROJ data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 Started GDALEnv <rasterio._env.GDALEnv object at 0x7f7b58e0b0d0>.\r\n    DEBUG    rasterio._env:env.py:346 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f7b58e0b0d0>.\r\n    DEBUG    rasterio._env:env.py:310 GDAL data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 PROJ data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 Started GDALEnv <rasterio._env.GDALEnv object at 0x7f7b590c6070>.\r\n    DEBUG    rasterio._env:env.py:346 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f7b590c6070>.\r\n    DEBUG    rasterio._env:env.py:310 GDAL data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 PROJ data files are available at built-in paths\r\n    DEBUG    rasterio._env:env.py:310 Started GDALEnv <rasterio._env.GDALEnv object at 0x7f7b58955460>.\r\n    DEBUG    rasterio._env:env.py:346 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f7b58955460>.\r\n    =============================== warnings summary ===============================\r\n    tests/test__crs.py: 3 warnings\r\n    tests/test_crs.py: 7 warnings\r\n    tests/test_rio_warp.py: 1 warning\r\n    tests/test_warp.py: 1 warning\r\n    /usr/lib/python3.9/site-packages/_pytest/skipping.py:129: DeprecationWarning: NotImplemented should not be used in a boolean context\r\n        result = bool(condition)\r\n\r\n    tests/test_read.py::ReaderContextTest::test_read_window\r\n    tests/test_read.py::ReaderContextTest::test_read_window\r\n    tests/test_read.py::ReaderContextTest::test_read_window\r\n    /builddir/build/BUILD/rasterio-1.1.8/tests/test_read.py:178: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.\r\n        self.assertEqual([md5(x.tostring()).hexdigest() for x in a],\r\n\r\n    tests/test_read.py::ReaderContextTest::test_read_window\r\n    tests/test_read.py::ReaderContextTest::test_read_window\r\n    tests/test_read.py::ReaderContextTest::test_read_window\r\n    /builddir/build/BUILD/rasterio-1.1.8/tests/test_read.py:187: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.\r\n        self.assertEqual([md5(x.tostring()).hexdigest() for x in a[:]],\r\n\r\n    tests/test_rio_blocks.py::test_windows\r\n    tests/test_rio_blocks.py::test_windows_sequence\r\n    tests/test_rio_blocks.py::test_windows_precision\r\n    tests/test_rio_blocks.py::test_windows_indent\r\n    tests/test_rio_blocks.py::test_windows_compact\r\n    tests/test_rio_blocks.py::test_windows_exception\r\n    tests/test_rio_blocks.py::test_windows_projected\r\n    /usr/lib/python3.9/site-packages/cligj/__init__.py:111: FutureWarning: Sequences of Features, not FeatureCollections, will be the default in version 1.0.0\r\n        callback=lambda ctx, param, value: warn(\r\n\r\n    -- Docs: https://docs.pytest.org/en/stable/warnings.html\r\n    =========================== short test summary info ============================\r\n\r\n\r\n    FAILED tests/test_features.py::test_shapes - AssertionError: assert {'coordin...\r\n    FAILED tests/test_rio_shapes.py::test_shapes_indent - assert 227 == 231\r\n    FAILED tests/test_rio_shapes.py::test_shapes_mask - ValueError: operands coul...\r\n    = 3 failed, 1764 passed, 26 skipped, 21 deselected, 11 xfailed, 3 xpassed, 25 warnings in 55.44s =\r\n    error: Bad exit status from /var/tmp/rpm-tmp.snIoQt (%check)\r\n        Bad exit status from /var/tmp/rpm-tmp.snIoQt (%check)", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2034/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2030", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2030/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2030/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2030/events", "html_url": "https://github.com/rasterio/rasterio/pull/2030", "id": 735664490, "node_id": "MDExOlB1bGxSZXF1ZXN0NTE1MDE1NDIx", "number": 2030, "title": "Enable reproject to better handle computation of dst_transform when reprojecting from gcps", "user": {"login": "underchemist", "id": 5283998, "node_id": "MDQ6VXNlcjUyODM5OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5283998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/underchemist", "html_url": "https://github.com/underchemist", "followers_url": "https://api.github.com/users/underchemist/followers", "following_url": "https://api.github.com/users/underchemist/following{/other_user}", "gists_url": "https://api.github.com/users/underchemist/gists{/gist_id}", "starred_url": "https://api.github.com/users/underchemist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/underchemist/subscriptions", "organizations_url": "https://api.github.com/users/underchemist/orgs", "repos_url": "https://api.github.com/users/underchemist/repos", "events_url": "https://api.github.com/users/underchemist/events{/privacy}", "received_events_url": "https://api.github.com/users/underchemist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/95", "html_url": "https://github.com/rasterio/rasterio/milestone/95", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/95/labels", "id": 5083321, "node_id": "MDk6TWlsZXN0b25lNTA4MzMyMQ==", "number": 95, "title": "1.2.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 41, "state": "closed", "created_at": "2020-02-07T22:56:39Z", "updated_at": "2021-01-25T14:56:44Z", "due_on": null, "closed_at": "2021-01-25T14:56:44Z"}, "comments": 3, "created_at": "2020-11-03T22:03:27Z", "updated_at": "2020-11-12T18:19:13Z", "closed_at": "2020-11-12T18:14:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2030", "html_url": "https://github.com/rasterio/rasterio/pull/2030", "diff_url": "https://github.com/rasterio/rasterio/pull/2030.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2030.patch", "merged_at": "2020-11-12T18:14:26Z"}, "body": "In exploring adding rpcs to warping functionality, I noticed some pains with reprojecting from gcps. \r\n\r\nIn the case `dst_transform=None` and `gcps` are supplied, we should expect `dst_transform` to be calculated from `calculate_default_transform`. There are two distinct cases:\r\n\r\n- When reprojecting from a `ndarray`\r\nAn `AttributeError` will be raised due to https://github.com/mapbox/rasterio/blob/0e2d9e275ef9a51f962e98884d7eacd0121b2774/rasterio/warp.py#L316 due to passing `src_transform=None` to `array_bounds`\r\n\r\n- When reprojecting from a `rasterion.Band`\r\nA `ValueError` will be raised due to guard check in `calculate_default_transform` https://github.com/mapbox/rasterio/blob/0e2d9e275ef9a51f962e98884d7eacd0121b2774/rasterio/warp.py#L456. This occurs because `src_bounds` is populated from `dataset.bounds`, conflicting with the `gcps` already provided.\r\n\r\nThis PR attempts improves the situation by checking for these conditions, and adds some test to guard against regression to this behavior. Also reads `gcps` from dataset if `source` is a dataset object, mimicking behavior of reading `dataset.crs`. ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2030/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2028", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2028/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2028/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2028/events", "html_url": "https://github.com/rasterio/rasterio/issues/2028", "id": 735064227, "node_id": "MDU6SXNzdWU3MzUwNjQyMjc=", "number": 2028, "title": "Accessing `rpcs` attribute with a dataset that does not have RPC metadata raises `KeyError`", "user": {"login": "underchemist", "id": 5283998, "node_id": "MDQ6VXNlcjUyODM5OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5283998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/underchemist", "html_url": "https://github.com/underchemist", "followers_url": "https://api.github.com/users/underchemist/followers", "following_url": "https://api.github.com/users/underchemist/following{/other_user}", "gists_url": "https://api.github.com/users/underchemist/gists{/gist_id}", "starred_url": "https://api.github.com/users/underchemist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/underchemist/subscriptions", "organizations_url": "https://api.github.com/users/underchemist/orgs", "repos_url": "https://api.github.com/users/underchemist/repos", "events_url": "https://api.github.com/users/underchemist/events{/privacy}", "received_events_url": "https://api.github.com/users/underchemist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/95", "html_url": "https://github.com/rasterio/rasterio/milestone/95", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/95/labels", "id": 5083321, "node_id": "MDk6TWlsZXN0b25lNTA4MzMyMQ==", "number": 95, "title": "1.2.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 41, "state": "closed", "created_at": "2020-02-07T22:56:39Z", "updated_at": "2021-01-25T14:56:44Z", "due_on": null, "closed_at": "2021-01-25T14:56:44Z"}, "comments": 0, "created_at": "2020-11-03T06:43:47Z", "updated_at": "2020-11-12T18:02:53Z", "closed_at": "2020-11-12T18:02:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nAccessing `rpcs` attribute when dataset does not have RPC metadata should return `None` (following behavior when dataset does not have a crs). Instead, a `KeyError` is raised due to attempting to instantiate `RPC` with an empty dict.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nopen dataset that does not have RPC metadata defined in the RPC metadata domain, access `rpcs` attribute.\r\n\r\n```\r\nimport rasterio\r\n\r\nwith rasterio.open('test.tif', 'w', driver='GTiff', dtype='uint8', count=1, width=10, height=10):\r\n        pass\r\nwith rasterio.open('test.tif) as src:\r\n    src.rpcs\r\n\r\n...\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\n<ipython-input-21-2965956d542d> in <module>\r\n----> 1 src.rpcs\r\n\r\nrasterio\\_base.pyx in rasterio._base.DatasetBase.rpcs.__get__()\r\n\r\nrasterio\\_base.pyx in rasterio._base.DatasetBase._get_rpcs()\r\n\r\nc:\\users\\yanns\\miniconda3\\envs\\gis\\lib\\site-packages\\rasterio\\rpc.py in from_gdal(cls, rpcs)\r\n    103             err_bias=out.get(\"ERR_BIAS\"),\r\n    104             err_rand=out.get(\"ERR_RAND\"),\r\n--> 105             height_off=out[\"HEIGHT_OFF\"],\r\n    106             height_scale=out[\"HEIGHT_SCALE\"],\r\n    107             lat_off=out[\"LAT_OFF\"],\r\n\r\nKeyError: 'HEIGHT_OFF'\r\n```\r\n\r\n## Operating system\r\n\r\nWin 10\r\n\r\n## Rasterio version and provenance\r\n\r\nfrom 0e2d9e275ef9a51f962e98884d7eacd0121b2774\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2028/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2028/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2021", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2021/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2021/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2021/events", "html_url": "https://github.com/rasterio/rasterio/pull/2021", "id": 724637539, "node_id": "MDExOlB1bGxSZXF1ZXN0NTA1OTkwNjcy", "number": 2021, "title": "Fix stale links", "user": {"login": "glostis", "id": 25295717, "node_id": "MDQ6VXNlcjI1Mjk1NzE3", "avatar_url": "https://avatars.githubusercontent.com/u/25295717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glostis", "html_url": "https://github.com/glostis", "followers_url": "https://api.github.com/users/glostis/followers", "following_url": "https://api.github.com/users/glostis/following{/other_user}", "gists_url": "https://api.github.com/users/glostis/gists{/gist_id}", "starred_url": "https://api.github.com/users/glostis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glostis/subscriptions", "organizations_url": "https://api.github.com/users/glostis/orgs", "repos_url": "https://api.github.com/users/glostis/repos", "events_url": "https://api.github.com/users/glostis/events{/privacy}", "received_events_url": "https://api.github.com/users/glostis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-10-19T13:58:13Z", "updated_at": "2020-10-20T16:49:24Z", "closed_at": "2020-10-20T15:57:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2021", "html_url": "https://github.com/rasterio/rasterio/pull/2021", "diff_url": "https://github.com/rasterio/rasterio/pull/2021.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2021.patch", "merged_at": "2020-10-20T15:57:56Z"}, "body": "This PR fixes a few stale links found in the docs and in comments.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2021/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2021/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2018", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2018/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2018/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2018/events", "html_url": "https://github.com/rasterio/rasterio/pull/2018", "id": 718993378, "node_id": "MDExOlB1bGxSZXF1ZXN0NTAxMjU3OTA2", "number": 2018, "title": "fix the Alibaba Cloud OSS public access session", "user": {"login": "sshuair", "id": 5787131, "node_id": "MDQ6VXNlcjU3ODcxMzE=", "avatar_url": "https://avatars.githubusercontent.com/u/5787131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sshuair", "html_url": "https://github.com/sshuair", "followers_url": "https://api.github.com/users/sshuair/followers", "following_url": "https://api.github.com/users/sshuair/following{/other_user}", "gists_url": "https://api.github.com/users/sshuair/gists{/gist_id}", "starred_url": "https://api.github.com/users/sshuair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sshuair/subscriptions", "organizations_url": "https://api.github.com/users/sshuair/orgs", "repos_url": "https://api.github.com/users/sshuair/repos", "events_url": "https://api.github.com/users/sshuair/events{/privacy}", "received_events_url": "https://api.github.com/users/sshuair/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/95", "html_url": "https://github.com/rasterio/rasterio/milestone/95", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/95/labels", "id": 5083321, "node_id": "MDk6TWlsZXN0b25lNTA4MzMyMQ==", "number": 95, "title": "1.2.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 41, "state": "closed", "created_at": "2020-02-07T22:56:39Z", "updated_at": "2021-01-25T14:56:44Z", "due_on": null, "closed_at": "2021-01-25T14:56:44Z"}, "comments": 2, "created_at": "2020-10-12T02:30:21Z", "updated_at": "2020-10-28T14:13:50Z", "closed_at": "2020-10-28T14:13:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2018", "html_url": "https://github.com/rasterio/rasterio/pull/2018", "diff_url": "https://github.com/rasterio/rasterio/pull/2018.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2018.patch", "merged_at": "2020-10-28T14:13:50Z"}, "body": "The previous version read the Alibaba OSS (VSI file) file should with `OSS_ACCESS_KEY_ID` and `OSS_SECRET_ACCESS_KEY` parameters. This is not convenient for public data access.\r\n\r\nThis PR can read the public access data on Alibaba OSS directly without supply `OSS_ACCESS_KEY_ID` and `OSS_SECRET_ACCESS_KEY`.\r\n\r\n```python\r\nIn [1]: import rasterio\r\n\r\nIn [2]: from rasterio.windows import Window\r\n\r\nIn [3]: window = Window(0, 0, 256, 256)\r\n   ...: fp1 = 'https://sshuair.oss-cn-beijing.aliyuncs.com/test-oss-public.tif'\r\n   ...: with rasterio.open(fp1) as src:\r\n   ...:     print(src.profile)\r\n   ...:     data = src.read(window=window)\r\n   ...:\r\n\r\n{'driver': 'GTiff', 'dtype': 'uint8', 'nodata': None, 'width': 1215, 'height': 994, 'count': 4, 'crs': CRS.from_epsg(4326), 'transform': Affine(5.363604115221975e-06, 0.0, 113.326558602,\r\n       0.0, -5.362646881288344e-06, 40.066535177), 'tiled': False, 'interleave': 'pixel'}\r\nIn [4]:\r\n```\r\n\r\nFor private file on alibaba oss, same as before.\r\n```python\r\nIn [2]: import rasterio\r\n   ...: from rasterio.windows import Window\r\n   ...: from rasterio.session import OSSSession\r\n   ...:\r\n   ...: oss_access_key_id = '***************' # your key is\r\n   ...: oss_secret_access_key = '***************' # your access key\r\n   ...: oss_endpoint = \"oss-cn-beijing.aliyuncs.com\"\r\n   ...:\r\n   ...: fp2 = '/vsioss/sshuair/test-oss-private.tif'\r\n   ...: session = OSSSession(oss_access_key_id=oss_access_key_id, oss_secret_access_key=oss_secret_access_key,os\r\n   ...: s_endpoint=oss_endpoint)\r\n   ...: window = Window(0, 0, 256, 256)\r\n   ...: with rasterio.Env(session):\r\n   ...:     with rasterio.open(fp2) as src:\r\n   ...:         print(src.profile)\r\n   ...:         data = src.read(window=window)\r\n   ...:\r\n{'driver': 'GTiff', 'dtype': 'uint8', 'nodata': None, 'width': 1215, 'height': 994, 'count': 4, 'crs': CRS.from_epsg(4326), 'transform': Affine(5.363604115221975e-06, 0.0, 113.326558602,\r\n       0.0, -5.362646881288344e-06, 40.066535177), 'tiled': False, 'interleave': 'pixel'}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2018/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2018/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2014", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2014/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2014/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2014/events", "html_url": "https://github.com/rasterio/rasterio/pull/2014", "id": 718261545, "node_id": "MDExOlB1bGxSZXF1ZXN0NTAwNjg2NzM2", "number": 2014, "title": "flatten multipoly to avoid holes in output", "user": {"login": "ischneider", "id": 794512, "node_id": "MDQ6VXNlcjc5NDUxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/794512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ischneider", "html_url": "https://github.com/ischneider", "followers_url": "https://api.github.com/users/ischneider/followers", "following_url": "https://api.github.com/users/ischneider/following{/other_user}", "gists_url": "https://api.github.com/users/ischneider/gists{/gist_id}", "starred_url": "https://api.github.com/users/ischneider/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ischneider/subscriptions", "organizations_url": "https://api.github.com/users/ischneider/orgs", "repos_url": "https://api.github.com/users/ischneider/repos", "events_url": "https://api.github.com/users/ischneider/events{/privacy}", "received_events_url": "https://api.github.com/users/ischneider/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/95", "html_url": "https://github.com/rasterio/rasterio/milestone/95", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/95/labels", "id": 5083321, "node_id": "MDk6TWlsZXN0b25lNTA4MzMyMQ==", "number": 95, "title": "1.2.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 41, "state": "closed", "created_at": "2020-02-07T22:56:39Z", "updated_at": "2021-01-25T14:56:44Z", "due_on": null, "closed_at": "2021-01-25T14:56:44Z"}, "comments": 1, "created_at": "2020-10-09T16:03:48Z", "updated_at": "2020-10-15T18:49:13Z", "closed_at": "2020-10-15T18:49:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2014", "html_url": "https://github.com/rasterio/rasterio/pull/2014", "diff_url": "https://github.com/rasterio/rasterio/pull/2014.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2014.patch", "merged_at": "2020-10-15T18:49:12Z"}, "body": "related to 1274, a multipolygon was resulting in the same behavior", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2014/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2014/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2012", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2012/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2012/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2012/events", "html_url": "https://github.com/rasterio/rasterio/pull/2012", "id": 715914114, "node_id": "MDExOlB1bGxSZXF1ZXN0NDk4NzQzNjE2", "number": 2012, "title": "Try always using certifi certs", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/100", "html_url": "https://github.com/rasterio/rasterio/milestone/100", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/100/labels", "id": 5954770, "node_id": "MDk6TWlsZXN0b25lNTk1NDc3MA==", "number": 100, "title": "1.1.8", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2020-10-05T20:25:25Z", "updated_at": "2020-10-21T01:58:33Z", "due_on": null, "closed_at": "2020-10-21T01:58:33Z"}, "comments": 0, "created_at": "2020-10-06T18:20:56Z", "updated_at": "2020-10-15T19:14:21Z", "closed_at": "2020-10-06T22:08:03Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": true, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2012", "html_url": "https://github.com/rasterio/rasterio/pull/2012", "diff_url": "https://github.com/rasterio/rasterio/pull/2012.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2012.patch", "merged_at": null}, "body": "Test wheel build of this branch at https://travis-ci.com/github/rasterio/rasterio-wheels/builds/188441746 to give it a workout on OS X.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2012/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2012/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2005", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2005/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2005/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2005/events", "html_url": "https://github.com/rasterio/rasterio/pull/2005", "id": 710433155, "node_id": "MDExOlB1bGxSZXF1ZXN0NDk0MjgyODUz", "number": 2005, "title": "Wrap calls to GDALChecksumImage so that we can catch GDAL errors", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/99", "html_url": "https://github.com/rasterio/rasterio/milestone/99", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/99/labels", "id": 5880820, "node_id": "MDk6TWlsZXN0b25lNTg4MDgyMA==", "number": 99, "title": "1.1.7", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2020-09-15T17:50:56Z", "updated_at": "2020-09-29T21:38:42Z", "due_on": null, "closed_at": "2020-09-29T21:38:42Z"}, "comments": 3, "created_at": "2020-09-28T17:01:02Z", "updated_at": "2020-09-28T17:45:51Z", "closed_at": "2020-09-28T17:45:48Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/2005", "html_url": "https://github.com/rasterio/rasterio/pull/2005", "diff_url": "https://github.com/rasterio/rasterio/pull/2005.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/2005.patch", "merged_at": "2020-09-28T17:45:47Z"}, "body": "Lets us catch RasterioIOError for a quick integrity check.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2005/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2005/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2004", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/2004/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/2004/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/2004/events", "html_url": "https://github.com/rasterio/rasterio/issues/2004", "id": 709247815, "node_id": "MDU6SXNzdWU3MDkyNDc4MTU=", "number": 2004, "title": "rio warp and window read produce different sizes", "user": {"login": "scottstanie", "id": 8291800, "node_id": "MDQ6VXNlcjgyOTE4MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8291800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottstanie", "html_url": "https://github.com/scottstanie", "followers_url": "https://api.github.com/users/scottstanie/followers", "following_url": "https://api.github.com/users/scottstanie/following{/other_user}", "gists_url": "https://api.github.com/users/scottstanie/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottstanie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottstanie/subscriptions", "organizations_url": "https://api.github.com/users/scottstanie/orgs", "repos_url": "https://api.github.com/users/scottstanie/repos", "events_url": "https://api.github.com/users/scottstanie/events{/privacy}", "received_events_url": "https://api.github.com/users/scottstanie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 3, "created_at": "2020-09-25T20:05:05Z", "updated_at": "2022-07-07T01:47:47Z", "closed_at": "2022-07-07T01:47:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\nHi, I apologize in advance if this is expected behavior, but this was confusing to me:\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI'm trying to grab a subset of a large raster (here it's a DEM, `../test_elevation_envi.dem`) using an extent lat/lon bounding box. The `gdalwarp` and `rio warp` commands both produce the size I expect, which is 1800 x 1440 (cols x rows)\r\n\r\n```bash\r\n$ rio warp ../test_elevation_envi.dem --dst-bounds -104.2 31.6 -103.95 31.8 test_elevation_rasterio.tif\r\n$ gdalinfo test_elevation_rasterio.tif | grep Size\r\nSize is 1800, 1440\r\nPixel Size = (0.000138888888890,-0.000138888888890)\r\n```\r\n\r\nHowever, I was originally doing this using the `Window`s in python, and it was giving an off-by-one err, where it's missing one pixel from a row and col:\r\n\r\n```python\r\nIn [98]: with rio.open(\"../test_elevation_envi.dem\") as src:\r\n    ...:     w = src.window(*[-104.2, 31.6, -103.95, 31.8])\r\n    ...:     print(src.read(1, window=w).shape)\r\n    ...:\r\n(1439, 1799)\r\n```\r\n\r\n\r\n## Steps to reproduce the problem.\r\n\r\nIn python:\r\n\r\n```python\r\narr = np.zeros((4000, 4000), dtype=\"int16\")\r\nwith rio.open(\r\n        \"test_elevation.dem\",\r\n        \"w\",\r\n        count=1,\r\n        crs='wgs84',\r\n        transform=(0.00013888888889, -0.0, -104.4,-0.0, -0.00013888888889, 32.0),\r\n        driver=\"ENVI\",\r\n        height=arr.shape[0],\r\n        width=arr.shape[1],\r\n        dtype=np.int16,\r\n) as dst:\r\n    dst.write(arr, 1)\r\nwith rio.open(\"test_elevation.dem\") as src:\r\n    w = src.window(*[-104.2, 31.6, -103.95, 31.8])\r\n    print(src.read(1, window=w).shape)\r\n# prints (1439, 1799) for me\r\n```\r\nIn bash in same folder:\r\n```bash\r\n$ rio warp test_elevation.dem --dst-bounds -104.2 31.6 -103.95 31.8 test_elevation_subset.tif\r\n$ gdalinfo test_elevation_subset.tif | grep Size\r\nSize is 1800, 1440\r\nPixel Size = (0.000138888888890,-0.000138888888890)\r\n```\r\n\r\n## Operating system\r\n\r\nCentos 7\r\n\r\n## Rasterio version and provenance\r\n\r\n```\r\n$ rio --version\r\n1.1.5\r\n```\r\ninstalled using conda\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/2004/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/2004/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1998", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1998/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1998/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1998/events", "html_url": "https://github.com/rasterio/rasterio/pull/1998", "id": 703223444, "node_id": "MDExOlB1bGxSZXF1ZXN0NDg4MzY4Njc3", "number": 1998, "title": "ENH: Add support for generic SRS authorities", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/99", "html_url": "https://github.com/rasterio/rasterio/milestone/99", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/99/labels", "id": 5880820, "node_id": "MDk6TWlsZXN0b25lNTg4MDgyMA==", "number": 99, "title": "1.1.7", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2020-09-15T17:50:56Z", "updated_at": "2020-09-29T21:38:42Z", "due_on": null, "closed_at": "2020-09-29T21:38:42Z"}, "comments": 7, "created_at": "2020-09-17T02:53:17Z", "updated_at": "2020-09-20T01:02:13Z", "closed_at": "2020-09-19T23:52:05Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1998", "html_url": "https://github.com/rasterio/rasterio/pull/1998", "diff_url": "https://github.com/rasterio/rasterio/pull/1998.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1998.patch", "merged_at": "2020-09-19T23:52:05Z"}, "body": "Thoughts on this?", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1998/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1998/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1996", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1996/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1996/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1996/events", "html_url": "https://github.com/rasterio/rasterio/issues/1996", "id": 702132534, "node_id": "MDU6SXNzdWU3MDIxMzI1MzQ=", "number": 1996, "title": "Cherry pick from #1945", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/99", "html_url": "https://github.com/rasterio/rasterio/milestone/99", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/99/labels", "id": 5880820, "node_id": "MDk6TWlsZXN0b25lNTg4MDgyMA==", "number": 99, "title": "1.1.7", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2020-09-15T17:50:56Z", "updated_at": "2020-09-29T21:38:42Z", "due_on": null, "closed_at": "2020-09-29T21:38:42Z"}, "comments": 0, "created_at": "2020-09-15T17:51:20Z", "updated_at": "2020-09-17T23:29:07Z", "closed_at": "2020-09-17T23:29:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Get #1945 into maint-1.1.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1996/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1996/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1994", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1994/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1994/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1994/events", "html_url": "https://github.com/rasterio/rasterio/pull/1994", "id": 697131273, "node_id": "MDExOlB1bGxSZXF1ZXN0NDgzMTE0Mzc1", "number": 1994, "title": "Allow merge to open one dataset at a time", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/98", "html_url": "https://github.com/rasterio/rasterio/milestone/98", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/98/labels", "id": 5533146, "node_id": "MDk6TWlsZXN0b25lNTUzMzE0Ng==", "number": 98, "title": "1.1.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2020-06-11T19:36:28Z", "updated_at": "2020-09-15T14:15:39Z", "due_on": null, "closed_at": "2020-09-15T14:15:39Z"}, "comments": 0, "created_at": "2020-09-09T20:21:09Z", "updated_at": "2021-02-10T23:04:02Z", "closed_at": "2020-09-09T21:38:53Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1994", "html_url": "https://github.com/rasterio/rasterio/pull/1994", "diff_url": "https://github.com/rasterio/rasterio/pull/1994.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1994.patch", "merged_at": "2020-09-09T21:38:53Z"}, "body": "And use this option in rio-merge.\r\n\r\nResolves #1831", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1994/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1994/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1989", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1989/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1989/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1989/events", "html_url": "https://github.com/rasterio/rasterio/issues/1989", "id": 691907576, "node_id": "MDU6SXNzdWU2OTE5MDc1NzY=", "number": 1989, "title": "Crash when passing int values to creation options `--co key=value`", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/98", "html_url": "https://github.com/rasterio/rasterio/milestone/98", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/98/labels", "id": 5533146, "node_id": "MDk6TWlsZXN0b25lNTUzMzE0Ng==", "number": 98, "title": "1.1.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2020-06-11T19:36:28Z", "updated_at": "2020-09-15T14:15:39Z", "due_on": null, "closed_at": "2020-09-15T14:15:39Z"}, "comments": 1, "created_at": "2020-09-03T11:59:26Z", "updated_at": "2020-09-15T14:15:18Z", "closed_at": "2020-09-15T14:15:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hellooo :ocean: \r\n\r\nWe can pass `--co` creation options to command line arguments writing new datasets.\r\n\r\nWhen we pass creation options such as `blockxsize=256` we fail to convert the `str` argument to an `int` before we pass it on.\r\n\r\nFor example\r\n\r\n    rio clip in.tif --co tiled=false --co blockxsize=256 --co blockysize=256 --co compress=LZW --bounds \"1565430.3392804095 6848757.734351791 1604566.0977624196 6887893.492833804\" --with-complement\r\n\r\nresults in\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/sentinel/.local/bin/rio\", line 8, in <module>\r\n    sys.exit(main_group())\r\n  File \"/home/sentinel/.local/lib/python3.8/site-packages/click/core.py\", line 829, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/home/sentinel/.local/lib/python3.8/site-packages/click/core.py\", line 782, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/home/sentinel/.local/lib/python3.8/site-packages/click/core.py\", line 1259, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/home/sentinel/.local/lib/python3.8/site-packages/click/core.py\", line 1066, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/home/sentinel/.local/lib/python3.8/site-packages/click/core.py\", line 610, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/home/sentinel/.local/lib/python3.8/site-packages/click/decorators.py\", line 21, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/home/sentinel/.local/lib/python3.8/site-packages/rasterio/rio/clip.py\", line 147, in clip\r\n    if 'blockxsize' in out_kwargs and out_kwargs['blockxsize'] > width:\r\nTypeError: '>' not supported between instances of 'str' and 'int'\r\n```\r\n\r\nbecause the creation option's key and value are strings but we treat them as ints.\r\n\r\nhttps://github.com/mapbox/rasterio/blob/d8f342e4e6d2a89dd17b488ec912d1e51a8f13f3/rasterio/rio/clip.py#L145-L154\r\n\r\nThis might not just be a `rio clip` problem but a problem in all tools providing creation options.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nExpected: I can pass creation options even if they are ints semantically.\r\nActual: we crash because we fail to convert them to ints\r\n\r\n## Steps to reproduce the problem.\r\n\r\nPass e.g.\r\n\r\n    --co blockxsize=256 --co blockysize=256\r\n\r\nto `rio clip`.\r\n\r\n## Operating system\r\n\r\nubuntu20.04 docker container\r\n\r\n## Rasterio version and provenance\r\n\r\n1.1.5", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1989/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1985", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1985/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1985/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1985/events", "html_url": "https://github.com/rasterio/rasterio/issues/1985", "id": 690070991, "node_id": "MDU6SXNzdWU2OTAwNzA5OTE=", "number": 1985, "title": "Unexpected `rio convert --overwrite in.tif` hard crash", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/98", "html_url": "https://github.com/rasterio/rasterio/milestone/98", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/98/labels", "id": 5533146, "node_id": "MDk6TWlsZXN0b25lNTUzMzE0Ng==", "number": 98, "title": "1.1.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2020-06-11T19:36:28Z", "updated_at": "2020-09-15T14:15:39Z", "due_on": null, "closed_at": "2020-09-15T14:15:39Z"}, "comments": 1, "created_at": "2020-09-01T11:41:37Z", "updated_at": "2020-09-15T14:15:17Z", "closed_at": "2020-09-15T14:15:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hey hey lovely people :hugs: here's something unexpected I just encountered.\r\n\r\nWhen running rio convert with the overwrite flag, failing to pass an output file crashes (see below).\r\n\r\nThis is unexpected, instead I'd expect rio to\r\n- either overwrite the input flag when the overwrite flag is given and there is no output file, or\r\n- the argument parser to error out because there is no output file given\r\n\r\nWorkaround is to be explicit and just say `rio convert --overwrite in.tif in.tif`\r\n\r\n```\r\n$ rio convert --overwrite 20200829.tif\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/rio\", line 8, in <module>\r\n    sys.exit(main_group())\r\n  File \"/usr/local/lib/python3.8/dist-packages/click/core.py\", line 829, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.8/dist-packages/click/core.py\", line 782, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/usr/local/lib/python3.8/dist-packages/click/core.py\", line 1259, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/usr/local/lib/python3.8/dist-packages/click/core.py\", line 1066, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/usr/local/lib/python3.8/dist-packages/click/core.py\", line 610, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.8/dist-packages/click/decorators.py\", line 21, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/usr/local/lib/python3.8/dist-packages/rasterio/rio/convert.py\", line 55, in convert\r\n    inputfile = files[0]\r\nIndexError: list index out of range\r\n```\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nEither the user gets an error asking for an output file, or rio should directly overwrite the input file when the overwrite flag is given.\r\n\r\nBut a hard crash is unexpected.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n    rio convert --overwrite 20200829.tif\r\n\r\n## Operating system\r\n\r\nubuntu20.04 docker container\r\n\r\n## Rasterio version and provenance\r\n\r\n1.1.5\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1985/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1984", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1984/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1984/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1984/events", "html_url": "https://github.com/rasterio/rasterio/issues/1984", "id": 689753540, "node_id": "MDU6SXNzdWU2ODk3NTM1NDA=", "number": 1984, "title": "Rasterio ignores AWS_NO_SIGN_REQUEST=YES environment variable", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/98", "html_url": "https://github.com/rasterio/rasterio/milestone/98", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/98/labels", "id": 5533146, "node_id": "MDk6TWlsZXN0b25lNTUzMzE0Ng==", "number": 98, "title": "1.1.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2020-06-11T19:36:28Z", "updated_at": "2020-09-15T14:15:39Z", "due_on": null, "closed_at": "2020-09-15T14:15:39Z"}, "comments": 1, "created_at": "2020-09-01T02:26:42Z", "updated_at": "2020-09-15T14:15:16Z", "closed_at": "2020-09-15T14:15:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nGDAL supports `AWS_NO_SIGN_REQUEST=YES` option, if set, GDAL assumes that all S3 access can be made without any credentials.\r\n\r\nAccessing files from public buckets with `AWS_NO_SIGN_REQUEST=YES` is extremely slow as every `.open` call causes an attempt to obtain STS tokens from IAM service that eventually silently fails. Work around is to configure `botocore` with fake credentials either via files or environment variables.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n\r\n```python\r\nimport os\r\nos.environ['AWS_NO_SIGN_REQUEST'] = 'YES'\r\nimport logging\r\nlogger = logging.getLogger('botocore')\r\nlogger.setLevel(logging.DEBUG)\r\nlogger.addHandler(logging.StreamHandler()) # Writes to console\r\n\r\nimport rasterio\r\nfrom rasterio.session import AWSSession\r\n\r\nsess = AWSSession()\r\n```\r\nInspect logs and see something like:\r\n\r\n```\r\nLooking for credentials via: env\r\nLooking for credentials via: env\r\nLooking for credentials via: assume-role\r\nLooking for credentials via: assume-role\r\nLooking for credentials via: assume-role-with-web-identity\r\nLooking for credentials via: assume-role-with-web-identity\r\nLooking for credentials via: shared-credentials-file\r\nLooking for credentials via: shared-credentials-file\r\nLooking for credentials via: custom-process\r\nLooking for credentials via: custom-process\r\nLooking for credentials via: config-file\r\nLooking for credentials via: config-file\r\nLooking for credentials via: ec2-credentials-file\r\nLooking for credentials via: ec2-credentials-file\r\nLooking for credentials via: boto-config\r\nLooking for credentials via: boto-config\r\nLooking for credentials via: container-role\r\nLooking for credentials via: container-role\r\nLooking for credentials via: iam-role\r\nLooking for credentials via: iam-role\r\n```\r\n\r\nThese are triggered from here:\r\n\r\nhttps://github.com/mapbox/rasterio/blob/d8f342e4e6d2a89dd17b488ec912d1e51a8f13f3/rasterio/session.py#L281\r\n\r\nvia \r\nhttps://github.com/mapbox/rasterio/blob/d8f342e4e6d2a89dd17b488ec912d1e51a8f13f3/rasterio/env.py#L395\r\n\r\ndecorator.\r\n\r\nI think following changes would be ideal:\r\n\r\n1. `AWSSession` should not default `aws_unsigned=False`, but instead should inspect content of `AWS_NO_SIGN_REQUEST` environment variable if that is set.\r\n2. Should not attempt to obtain credentials if `aws_unsigned=True`, currently it happens regardless of user settings since `self._session` is never `None`, see previously reported and fixed #1637 seems to have re-surfaced.\r\n\r\n## Operating system\r\n\r\nLinux, Ubuntu 18.04\r\n\r\n## Rasterio version and provenance\r\n1.1.5\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1984/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1984/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1980", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1980/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1980/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1980/events", "html_url": "https://github.com/rasterio/rasterio/issues/1980", "id": 681955797, "node_id": "MDU6SXNzdWU2ODE5NTU3OTc=", "number": 1980, "title": "CRS linear units show as \"unknown\" for EPSG:4326 -- Latitude/Longitude. Should show \"Degree\" instead", "user": {"login": "00krishna", "id": 2063593, "node_id": "MDQ6VXNlcjIwNjM1OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2063593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/00krishna", "html_url": "https://github.com/00krishna", "followers_url": "https://api.github.com/users/00krishna/followers", "following_url": "https://api.github.com/users/00krishna/following{/other_user}", "gists_url": "https://api.github.com/users/00krishna/gists{/gist_id}", "starred_url": "https://api.github.com/users/00krishna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/00krishna/subscriptions", "organizations_url": "https://api.github.com/users/00krishna/orgs", "repos_url": "https://api.github.com/users/00krishna/repos", "events_url": "https://api.github.com/users/00krishna/events{/privacy}", "received_events_url": "https://api.github.com/users/00krishna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167170, "node_id": "MDU6TGFiZWw2NDE2NzE3MA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/enhancement", "name": "enhancement", "color": "00449e", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/103", "html_url": "https://github.com/rasterio/rasterio/milestone/103", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/103/labels", "id": 6145432, "node_id": "MDk6TWlsZXN0b25lNjE0NTQzMg==", "number": 103, "title": "1.3.0", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 110, "state": "closed", "created_at": "2020-11-24T19:06:30Z", "updated_at": "2023-01-25T19:42:06Z", "due_on": null, "closed_at": "2022-07-07T02:15:47Z"}, "comments": 7, "created_at": "2020-08-19T15:55:33Z", "updated_at": "2022-04-07T15:07:02Z", "closed_at": "2022-04-07T15:07:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI am looking at a raster tif file in `rasterio`--link provided below. The file is using EPSG: 4326 for its coordinate system, and the measurement unit for each pixel should show \"degrees.\" But instead the metadata for the `rasterio.crs.linear_units` shows \"unknown.\" \r\n\r\nThis issue is probably related to https://github.com/mapbox/rasterio/issues/1634\r\n\r\nI think that degree are techically angular units in the `gdalinfo`, but since there is no angular units function in `rasterio`, seems like this might be an easy catch for the `linear_units` function. \r\n\r\n## Steps to reproduce the problem.\r\n\r\n[sample_image_small_proj_4326.zip](https://github.com/mapbox/rasterio/files/5097602/sample_image_small_proj_4326.zip)\r\nI uploaded a small sample file. So if I use the following code. \r\n\r\n1. first unzip the sample_image_small_proj_4326.zip to sample_image_small_proj_4326.tif.\r\n\r\n```\r\nimport rasterio\r\ndat = rasterio.open('sample_image_small_proj_4326.tif')\r\nprint(dat.crs.linear_units)\r\n```\r\nThe output should show \"Unknown.\"\r\n\r\nHere is the `gdalinfo` for the same file, just for information. \r\n\r\n```\r\nDriver: GTiff/GeoTIFF\r\nFiles: sample_image_small_proj_4326.tif\r\nSize is 2170, 1315\r\nCoordinate System is:\r\nGEOGCRS[\"WGS 84\",\r\n    DATUM[\"World Geodetic System 1984\",\r\n        ELLIPSOID[\"WGS 84\",6378137,298.257223563,\r\n            LENGTHUNIT[\"metre\",1]]],\r\n    PRIMEM[\"Greenwich\",0,\r\n        ANGLEUNIT[\"degree\",0.0174532925199433]],\r\n    CS[ellipsoidal,2],\r\n        AXIS[\"geodetic latitude (Lat)\",north,\r\n            ORDER[1],\r\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\r\n        AXIS[\"geodetic longitude (Lon)\",east,\r\n            ORDER[2],\r\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\r\n    ID[\"EPSG\",4326]]\r\nData axis to CRS axis mapping: 2,1\r\nOrigin = (39.330035179875701,-5.840034809634867)\r\nPixel Size = (0.000000613860496,-0.000000613860496)\r\nMetadata:\r\n  AREA_OR_POINT=Area\r\nImage Structure Metadata:\r\n  COMPRESSION=LZW\r\n  INTERLEAVE=PIXEL\r\nCorner Coordinates:\r\nUpper Left  (  39.3300352,  -5.8400348) ( 39d19'48.13\"E,  5d50'24.13\"S)\r\nLower Left  (  39.3300352,  -5.8408420) ( 39d19'48.13\"E,  5d50'27.03\"S)\r\nUpper Right (  39.3313673,  -5.8400348) ( 39d19'52.92\"E,  5d50'24.13\"S)\r\nLower Right (  39.3313673,  -5.8408420) ( 39d19'52.92\"E,  5d50'27.03\"S)\r\nCenter      (  39.3307012,  -5.8404384) ( 39d19'50.52\"E,  5d50'25.58\"S)\r\nBand 1 Block=2170x1 Type=Byte, ColorInterp=Red\r\nBand 2 Block=2170x1 Type=Byte, ColorInterp=Green\r\nBand 3 Block=2170x1 Type=Byte, ColorInterp=Blue\r\n\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu Linux 18.04 x 64\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio version 1.1.5\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1980/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1980/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1978", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1978/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1978/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1978/events", "html_url": "https://github.com/rasterio/rasterio/issues/1978", "id": 680134695, "node_id": "MDU6SXNzdWU2ODAxMzQ2OTU=", "number": 1978, "title": "Virtual Warping example fails: AttributeError: 'Window' object has no attribute 'num_cols'", "user": {"login": "mazzma12", "id": 23187108, "node_id": "MDQ6VXNlcjIzMTg3MTA4", "avatar_url": "https://avatars.githubusercontent.com/u/23187108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mazzma12", "html_url": "https://github.com/mazzma12", "followers_url": "https://api.github.com/users/mazzma12/followers", "following_url": "https://api.github.com/users/mazzma12/following{/other_user}", "gists_url": "https://api.github.com/users/mazzma12/gists{/gist_id}", "starred_url": "https://api.github.com/users/mazzma12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mazzma12/subscriptions", "organizations_url": "https://api.github.com/users/mazzma12/orgs", "repos_url": "https://api.github.com/users/mazzma12/repos", "events_url": "https://api.github.com/users/mazzma12/events{/privacy}", "received_events_url": "https://api.github.com/users/mazzma12/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/98", "html_url": "https://github.com/rasterio/rasterio/milestone/98", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/98/labels", "id": 5533146, "node_id": "MDk6TWlsZXN0b25lNTUzMzE0Ng==", "number": 98, "title": "1.1.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2020-06-11T19:36:28Z", "updated_at": "2020-09-15T14:15:39Z", "due_on": null, "closed_at": "2020-09-15T14:15:39Z"}, "comments": 1, "created_at": "2020-08-17T10:42:22Z", "updated_at": "2020-09-09T14:39:33Z", "closed_at": "2020-09-09T14:39:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nRun the first example of Virtual Warping in the [documentation](https://rasterio.readthedocs.io/en/latest/topics/virtual-warping.html), but there seem to be an error with the `Window` Object\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-1-b689c7e81e44> in <module>\r\n     32         # of the output array.\r\n     33         dst_transform = vrt.window_transform(dst_window)\r\n---> 34         scaling = Affine.scale(dst_window.num_cols / 512,\r\n     35                                dst_window.num_rows / 512)\r\n     36         dst_transform *= scaling\r\n\r\nAttributeError: 'Window' object has no attribute 'num_cols'\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu 18.04\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 1.1.15 installed with pip\r\npython 3.7.7\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1978/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1978/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1976", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1976/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1976/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1976/events", "html_url": "https://github.com/rasterio/rasterio/pull/1976", "id": 676888328, "node_id": "MDExOlB1bGxSZXF1ZXN0NDY2MTEzMDA0", "number": 1976, "title": "BUG: CRS.from_string fix for case when WKT contains PROJ string", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/98", "html_url": "https://github.com/rasterio/rasterio/milestone/98", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/98/labels", "id": 5533146, "node_id": "MDk6TWlsZXN0b25lNTUzMzE0Ng==", "number": 98, "title": "1.1.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2020-06-11T19:36:28Z", "updated_at": "2020-09-15T14:15:39Z", "due_on": null, "closed_at": "2020-09-15T14:15:39Z"}, "comments": 2, "created_at": "2020-08-11T13:42:12Z", "updated_at": "2020-09-09T21:17:05Z", "closed_at": "2020-09-09T21:09:30Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1976", "html_url": "https://github.com/rasterio/rasterio/pull/1976", "diff_url": "https://github.com/rasterio/rasterio/pull/1976.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1976.patch", "merged_at": "2020-09-09T21:09:30Z"}, "body": "Closes #1975", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1976/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1975", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1975/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1975/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1975/events", "html_url": "https://github.com/rasterio/rasterio/issues/1975", "id": 674588464, "node_id": "MDU6SXNzdWU2NzQ1ODg0NjQ=", "number": 1975, "title": "CRS.from_string() PROJ string check", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/98", "html_url": "https://github.com/rasterio/rasterio/milestone/98", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/98/labels", "id": 5533146, "node_id": "MDk6TWlsZXN0b25lNTUzMzE0Ng==", "number": 98, "title": "1.1.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2020-06-11T19:36:28Z", "updated_at": "2020-09-15T14:15:39Z", "due_on": null, "closed_at": "2020-09-15T14:15:39Z"}, "comments": 2, "created_at": "2020-08-06T20:41:15Z", "updated_at": "2020-09-09T21:18:59Z", "closed_at": "2020-09-09T21:18:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/mapbox/rasterio/blob/00b5096015a2e1b737c8902abc2b48c6394ff08c/rasterio/crs.py#L362-L363\r\n\r\nSometimes WKT can contain PROJ strings. I am thinking should check if it endswith `]` as well.\r\n\r\nOr, change it to:\r\n\r\n```python\r\nelif string.endswith(\"]\"): \r\n    return cls.from_wkt(string, morph_from_esri_dialect=morph_from_esri_dialect)\r\nreturn cls.from_proj4(string)\r\n```\r\n\r\n Thoughts?", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1975/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1975/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1969", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1969/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1969/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1969/events", "html_url": "https://github.com/rasterio/rasterio/issues/1969", "id": 667323888, "node_id": "MDU6SXNzdWU2NjczMjM4ODg=", "number": 1969, "title": "Clarify which resampling options are available for read/write", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-07-28T19:42:34Z", "updated_at": "2022-12-15T16:37:34Z", "closed_at": "2022-12-15T16:37:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://github.com/mapbox/rasterio/issues/1968. Would better documentation suffice? Should we use two different enums?", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1969/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1969/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1967", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1967/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1967/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1967/events", "html_url": "https://github.com/rasterio/rasterio/issues/1967", "id": 664327329, "node_id": "MDU6SXNzdWU2NjQzMjczMjk=", "number": 1967, "title": "Typo in rasterio.path", "user": {"login": "thomascoquet", "id": 7583487, "node_id": "MDQ6VXNlcjc1ODM0ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/7583487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomascoquet", "html_url": "https://github.com/thomascoquet", "followers_url": "https://api.github.com/users/thomascoquet/followers", "following_url": "https://api.github.com/users/thomascoquet/following{/other_user}", "gists_url": "https://api.github.com/users/thomascoquet/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomascoquet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomascoquet/subscriptions", "organizations_url": "https://api.github.com/users/thomascoquet/orgs", "repos_url": "https://api.github.com/users/thomascoquet/repos", "events_url": "https://api.github.com/users/thomascoquet/events{/privacy}", "received_events_url": "https://api.github.com/users/thomascoquet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/98", "html_url": "https://github.com/rasterio/rasterio/milestone/98", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/98/labels", "id": 5533146, "node_id": "MDk6TWlsZXN0b25lNTUzMzE0Ng==", "number": 98, "title": "1.1.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2020-06-11T19:36:28Z", "updated_at": "2020-09-15T14:15:39Z", "due_on": null, "closed_at": "2020-09-15T14:15:39Z"}, "comments": 1, "created_at": "2020-07-23T09:28:25Z", "updated_at": "2020-09-09T14:39:33Z", "closed_at": "2020-09-09T14:39:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Sean, \r\nHere's a small bug in rasterio.path.ParsedPath.is_remote.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\n```\r\nrasterio.path.ParsedPath.from_uri('/home/test.tif').is_remote\r\n```\r\n\r\nreturns `None` instead of `False`. Comes down to:\r\n\r\n```\r\n> print(None and True)\r\nNone\r\n> print((not None) and True)\r\nTrue\r\n```\r\n\r\nThomas\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1967/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1967/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1953", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1953/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1953/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1953/events", "html_url": "https://github.com/rasterio/rasterio/issues/1953", "id": 642927499, "node_id": "MDU6SXNzdWU2NDI5Mjc0OTk=", "number": 1953, "title": "Memory leak when using MemoryFile", "user": {"login": "valpesendorfer", "id": 18698817, "node_id": "MDQ6VXNlcjE4Njk4ODE3", "avatar_url": "https://avatars.githubusercontent.com/u/18698817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/valpesendorfer", "html_url": "https://github.com/valpesendorfer", "followers_url": "https://api.github.com/users/valpesendorfer/followers", "following_url": "https://api.github.com/users/valpesendorfer/following{/other_user}", "gists_url": "https://api.github.com/users/valpesendorfer/gists{/gist_id}", "starred_url": "https://api.github.com/users/valpesendorfer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/valpesendorfer/subscriptions", "organizations_url": "https://api.github.com/users/valpesendorfer/orgs", "repos_url": "https://api.github.com/users/valpesendorfer/repos", "events_url": "https://api.github.com/users/valpesendorfer/events{/privacy}", "received_events_url": "https://api.github.com/users/valpesendorfer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/98", "html_url": "https://github.com/rasterio/rasterio/milestone/98", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/98/labels", "id": 5533146, "node_id": "MDk6TWlsZXN0b25lNTUzMzE0Ng==", "number": 98, "title": "1.1.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2020-06-11T19:36:28Z", "updated_at": "2020-09-15T14:15:39Z", "due_on": null, "closed_at": "2020-09-15T14:15:39Z"}, "comments": 1, "created_at": "2020-06-22T09:55:10Z", "updated_at": "2020-09-15T14:15:19Z", "closed_at": "2020-09-15T14:15:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Memory used with `MemoryFile` doesn't seem to be released after the reference is gone. When creating `MemoryFiles` iteratively, the memory consumption continues to increase with every iteration. \r\n\r\nSeems to be an issue with version `1.1.5` - works as expected with version `1.1.4`.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\n### Expected:\r\n\r\nMemory to be released after reference is gone, no memory increase in iteration.\r\n\r\n### Actual:\r\n\r\nMemory is not released, consumed memory increases with every iteration.\r\n\r\n### Comparison between 1.1.4 and 1.1.5:\r\n\r\n![image](https://user-images.githubusercontent.com/18698817/85273785-5a2d0400-b47e-11ea-9f7a-a9a3ebe90cb0.png)\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport psutil\r\n\r\nimport numpy as np\r\nimport rasterio\r\n\r\ndef main():\r\n\r\n    profile = dict(\r\n        count=1,\r\n        height=2000,\r\n        width=7200,\r\n        nodata=-9999,\r\n        dtype='int16')\r\n\r\n    for it in range(100):\r\n\r\n        arr = np.random.randint(0, 100, size=(2000,7200), dtype='int16')\r\n\r\n        with rasterio.MemoryFile() as memf:\r\n            with memf.open(driver='GTiff', **profile) as dataset:\r\n                dataset.write(arr, 1)\r\n\r\n        del memf\r\n    \r\n        mem_pct = psutil.virtual_memory().percent\r\n        print(f'Memory used: {mem_pct}%')\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\r\n```\r\n\r\n\r\n## Operating system\r\n\r\nNAME=\"Ubuntu\"\r\nVERSION=\"18.04.4 LTS (Bionic Beaver)\"\r\n\r\n## Rasterio version and provenance\r\n\r\n`pip freeze`\r\n\r\n> affine==2.3.0\r\n> attrs==19.3.0\r\n> click==7.1.2\r\n> click-plugins==1.1.1\r\n> cligj==0.5.0\r\n> numpy==1.19.0\r\n> psutil==5.7.0\r\n> pyparsing==2.4.7\r\n> rasterio==1.1.5\r\n> snuggs==1.4.7\r\n> \r\n\r\n\r\nrio wheel from pypi:\r\n> rasterio-1.1.5-cp37-cp37m-manylinux1_x86_64.whl\r\n\r\npip:\r\n> pip 19.2.3\r\n\r\npython:\r\n> Python 3.7.7\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1953/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1953/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1952", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1952/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1952/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1952/events", "html_url": "https://github.com/rasterio/rasterio/issues/1952", "id": 641117832, "node_id": "MDU6SXNzdWU2NDExMTc4MzI=", "number": 1952, "title": "Segmenation Fault on rasterio.warp.transform on specific inputs", "user": {"login": "slettner", "id": 51201318, "node_id": "MDQ6VXNlcjUxMjAxMzE4", "avatar_url": "https://avatars.githubusercontent.com/u/51201318?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slettner", "html_url": "https://github.com/slettner", "followers_url": "https://api.github.com/users/slettner/followers", "following_url": "https://api.github.com/users/slettner/following{/other_user}", "gists_url": "https://api.github.com/users/slettner/gists{/gist_id}", "starred_url": "https://api.github.com/users/slettner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slettner/subscriptions", "organizations_url": "https://api.github.com/users/slettner/orgs", "repos_url": "https://api.github.com/users/slettner/repos", "events_url": "https://api.github.com/users/slettner/events{/privacy}", "received_events_url": "https://api.github.com/users/slettner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/98", "html_url": "https://github.com/rasterio/rasterio/milestone/98", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/98/labels", "id": 5533146, "node_id": "MDk6TWlsZXN0b25lNTUzMzE0Ng==", "number": 98, "title": "1.1.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2020-06-11T19:36:28Z", "updated_at": "2020-09-15T14:15:39Z", "due_on": null, "closed_at": "2020-09-15T14:15:39Z"}, "comments": 1, "created_at": "2020-06-18T11:06:46Z", "updated_at": "2020-09-15T14:15:18Z", "closed_at": "2020-09-15T14:15:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI expected that transforming an empty array with rasterio.warp.transform returns an empty array. Instead, it causes a Segmentation Fault but only on specific inputs.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n`import rasterio.warp`\r\n`rasterio.warp.transform(\"EPSG:3857\", \"EPSG:4326\", [], [], zs=None)`\r\n\r\ncauses the Segmentation Fault but \r\n\r\n`import rasterio.warp`\r\n`rasterio.warp.transform(\"EPSG:4326\", \"EPSG:3867\", [], [], zs=None)`\r\n\r\nworks as expected (i.e. returns an empty array).\r\n\r\n## Operating system\r\n\r\nUbuntu 20.04 LTS\r\n\r\nNote that on Mac OS the problem is not reproducible for me.\r\nThe issue also occurred on other Linux Distros we tested (Ubuntu 18.04 LTS, Ubuntu 16.04 LTS, and Fedora)\r\n\r\n## Rasterio version and provenance\r\n\r\nThe 1.1.1 version installed with PyPI using pip 20.0.2", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1952/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1952/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1943", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1943/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1943/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1943/events", "html_url": "https://github.com/rasterio/rasterio/pull/1943", "id": 629996856, "node_id": "MDExOlB1bGxSZXF1ZXN0NDI3MjAzNzE1", "number": 1943, "title": "add CRS.is_northingeasting and CRS.is_latlon to test if EPSG axis is inverted", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167170, "node_id": "MDU6TGFiZWw2NDE2NzE3MA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/enhancement", "name": "enhancement", "color": "00449e", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/99", "html_url": "https://github.com/rasterio/rasterio/milestone/99", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/99/labels", "id": 5880820, "node_id": "MDk6TWlsZXN0b25lNTg4MDgyMA==", "number": 99, "title": "1.1.7", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2020-09-15T17:50:56Z", "updated_at": "2020-09-29T21:38:42Z", "due_on": null, "closed_at": "2020-09-29T21:38:42Z"}, "comments": 5, "created_at": "2020-06-03T13:31:10Z", "updated_at": "2020-09-28T17:52:19Z", "closed_at": "2020-06-04T17:05:38Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1943", "html_url": "https://github.com/rasterio/rasterio/pull/1943", "diff_url": "https://github.com/rasterio/rasterio/pull/1943.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1943.patch", "merged_at": "2020-06-04T17:05:38Z"}, "body": "Hi @sgillies and contributors,\r\nSorry for the impromptu PR. \r\n\r\nThis PR adds 2 new properties to the CRS object:\r\n- `is_latlon`\r\n- `is_northingeasting`\r\n\r\nWe need this in https://github.com/developmentseed/morecantile to check if a CRS has inverted (latlon) axis as in https://github.com/OSGeo/gdal/blob/137640fc6f78a2fd91cff0d71163ad0b305c5104/gdal/ogr/ogrsf_frmts/gpkg/ogrgeopackagedatasource.cpp#L173-L183\r\n\r\nref https://github.com/developmentseed/morecantile/issues/26", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1943/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1942", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1942/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1942/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1942/events", "html_url": "https://github.com/rasterio/rasterio/pull/1942", "id": 629322672, "node_id": "MDExOlB1bGxSZXF1ZXN0NDI2NjgxNDc0", "number": 1942, "title": "Remove CHECK_WITH_INVERT_PROJ=YES default", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/97", "html_url": "https://github.com/rasterio/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 9, "created_at": "2020-06-02T16:00:03Z", "updated_at": "2020-07-06T14:55:10Z", "closed_at": "2020-06-02T20:55:42Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1942", "html_url": "https://github.com/rasterio/rasterio/pull/1942", "diff_url": "https://github.com/rasterio/rasterio/pull/1942.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1942.patch", "merged_at": "2020-06-02T20:55:42Z"}, "body": "Resolves #1248", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1942/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1942/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1939", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1939/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1939/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1939/events", "html_url": "https://github.com/rasterio/rasterio/pull/1939", "id": 628049227, "node_id": "MDExOlB1bGxSZXF1ZXN0NDI1Njc0MDk5", "number": 1939, "title": "Take into account open options for boundless read", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/97", "html_url": "https://github.com/rasterio/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 0, "created_at": "2020-05-31T21:38:52Z", "updated_at": "2020-06-01T18:31:03Z", "closed_at": "2020-06-01T15:30:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1939", "html_url": "https://github.com/rasterio/rasterio/pull/1939", "diff_url": "https://github.com/rasterio/rasterio/pull/1939.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1939.patch", "merged_at": "2020-06-01T15:30:45Z"}, "body": "Resolves #1929.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1939/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1939/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1938", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1938/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1938/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1938/events", "html_url": "https://github.com/rasterio/rasterio/pull/1938", "id": 627766380, "node_id": "MDExOlB1bGxSZXF1ZXN0NDI1NDg5NjI4", "number": 1938, "title": "Fix type mismatch", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/97", "html_url": "https://github.com/rasterio/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 0, "created_at": "2020-05-30T16:19:23Z", "updated_at": "2020-05-30T16:49:05Z", "closed_at": "2020-05-30T16:49:01Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1938", "html_url": "https://github.com/rasterio/rasterio/pull/1938", "diff_url": "https://github.com/rasterio/rasterio/pull/1938.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1938.patch", "merged_at": "2020-05-30T16:49:01Z"}, "body": "Supersedes #1937.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1938/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1936", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1936/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1936/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1936/events", "html_url": "https://github.com/rasterio/rasterio/pull/1936", "id": 626165132, "node_id": "MDExOlB1bGxSZXF1ZXN0NDI0MjEwMjk3", "number": 1936, "title": "Handle two more WarpedVRT use cases", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/97", "html_url": "https://github.com/rasterio/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 2, "created_at": "2020-05-28T02:29:57Z", "updated_at": "2020-06-02T15:27:56Z", "closed_at": "2020-06-02T15:27:52Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1936", "html_url": "https://github.com/rasterio/rasterio/pull/1936", "diff_url": "https://github.com/rasterio/rasterio/pull/1936.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1936.patch", "merged_at": "2020-06-02T15:27:52Z"}, "body": "Resolves #1921", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1936/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1936/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1932", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1932/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1932/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1932/events", "html_url": "https://github.com/rasterio/rasterio/issues/1932", "id": 622846308, "node_id": "MDU6SXNzdWU2MjI4NDYzMDg=", "number": 1932, "title": "Reading data using windowed reading returns shifted output", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/97", "html_url": "https://github.com/rasterio/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 3, "created_at": "2020-05-21T23:17:07Z", "updated_at": "2020-06-03T00:49:36Z", "closed_at": "2020-06-03T00:49:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Take a look at the following notebook:\r\n\r\nhttps://gist.github.com/drnextgis/156a8f38fdfab23dad118890b1e258cd\r\n\r\nThere are two rasters created with `gdal_translate` and `rasterio`. Is it expected that reading data using the same window gives different result?\r\n\r\nAffines are equals so I expect to get the same rasters but as you can see raster created with rasterio a little bit shifted.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1932/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1932/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1931", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1931/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1931/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1931/events", "html_url": "https://github.com/rasterio/rasterio/issues/1931", "id": 622137116, "node_id": "MDU6SXNzdWU2MjIxMzcxMTY=", "number": 1931, "title": "Add pixel alignment for rio clip", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/121", "html_url": "https://github.com/rasterio/rasterio/milestone/121", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/121/labels", "id": 8765036, "node_id": "MI_kwDOANdm_M4Ahb5s", "number": 121, "title": "1.3.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2022-12-15T02:02:39Z", "updated_at": "2023-01-25T21:09:24Z", "due_on": null, "closed_at": "2023-01-25T21:09:24Z"}, "comments": 0, "created_at": "2020-05-20T23:03:40Z", "updated_at": "2023-01-24T22:46:35Z", "closed_at": "2023-01-24T22:46:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`gdal_translate` [produces](https://lists.osgeo.org/pipermail/gdal-dev/2016-July/044911.html) an output whose cell alignment and content matches the source dataset if `-projwin` option is passed. For now there is no way to achieve the same result using rasterio. `rio clip` doesn't perform any alignment. `rio warp` has `--target-aligned-pixels` but it cannot be combined with `--src-bounds`:\r\n```\r\nError: Invalid value: --target-aligned-pixels cannot be used with --src-bounds or --dst-bounds\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1931/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1931/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1930", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1930/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1930/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1930/events", "html_url": "https://github.com/rasterio/rasterio/issues/1930", "id": 621281069, "node_id": "MDU6SXNzdWU2MjEyODEwNjk=", "number": 1930, "title": "Error when using Resampling.max with DataSetReader.read()", "user": {"login": "JesseCrocker", "id": 2048291, "node_id": "MDQ6VXNlcjIwNDgyOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2048291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JesseCrocker", "html_url": "https://github.com/JesseCrocker", "followers_url": "https://api.github.com/users/JesseCrocker/followers", "following_url": "https://api.github.com/users/JesseCrocker/following{/other_user}", "gists_url": "https://api.github.com/users/JesseCrocker/gists{/gist_id}", "starred_url": "https://api.github.com/users/JesseCrocker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JesseCrocker/subscriptions", "organizations_url": "https://api.github.com/users/JesseCrocker/orgs", "repos_url": "https://api.github.com/users/JesseCrocker/repos", "events_url": "https://api.github.com/users/JesseCrocker/events{/privacy}", "received_events_url": "https://api.github.com/users/JesseCrocker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/97", "html_url": "https://github.com/rasterio/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 2, "created_at": "2020-05-19T20:59:16Z", "updated_at": "2020-05-21T22:55:38Z", "closed_at": "2020-05-21T22:55:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Calling DataSetReader.read() with Resample.max, min, med, q1, or q3 produces the error `ERROR 1: GDALGetResampleFunction: Unsupported resampling method \"UNKNOWN\".` and dies with a segfault.  The [documentation](https://rasterio.readthedocs.io/en/latest/api/rasterio.enums.html#rasterio.enums.Resampling) seems to indicate that these should work when used with gdal >= 2.0.\r\n\r\nThe error seems to [come from gdal](https://github.com/OSGeo/gdal/blob/master/gdal/gcore/overview.cpp#L2837-L2878), so maybe this is actually a documentation issue, not a code issue, but it does seem like this should work.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI expected to read a band from a file and an exception occurred.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nSample code:\r\n```python\r\nwith rasterio.open(path) as source:\r\n    source_tile_data = source.read(\r\n        1,\r\n        out_shape=(1, 10, 10),\r\n        resampling=Resampling.max,\r\n    )\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu 18.04\r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio 1.1.4 installed with pip.\r\n\r\n`rasterio.__gdal_version__ = '2.4.4'`", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1930/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1930/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1929", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1929/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1929/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1929/events", "html_url": "https://github.com/rasterio/rasterio/issues/1929", "id": 621270457, "node_id": "MDU6SXNzdWU2MjEyNzA0NTc=", "number": 1929, "title": "OVERVIEW_LEVEL open option doesn't work for Slippy Map dataset", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/97", "html_url": "https://github.com/rasterio/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 4, "created_at": "2020-05-19T20:40:31Z", "updated_at": "2020-06-03T00:50:00Z", "closed_at": "2020-06-03T00:50:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm looking for a way to translate to rasterio this GDAL CLI command:\r\n\r\n```\r\ngdal_translate -oo OVERVIEW_LEVEL=1 -projwin 10817977.2 3650863.4 10818322.7 3650646.5 /vsicurl/https://raw.githubusercontent.com/satellogic/telluric/master/tests/data/google.xml out.tif\r\n```\r\n\r\nI wrote the following snippet:\r\n\r\n```\r\nimport rasterio\r\n\r\nwith rasterio.open(\r\n    \"/vsicurl/https://raw.githubusercontent.com/satellogic/telluric/master/tests/data/google.xml\"\r\n) as src:\r\n    bounds = (10817977.2, 3650646.5, 10818322.7, 3650863.4)\r\n    bounds_window = src.window(*bounds)\r\n    out_window = bounds_window.round_lengths(op=\"ceil\")\r\n\r\n    height = int(out_window.height)\r\n    width = int(out_window.width)\r\n\r\n    out_kwargs = src.profile\r\n    out_kwargs.update(\r\n        {\r\n            \"driver\": \"GTiff\",\r\n            \"height\": height,\r\n            \"width\": width,\r\n            \"transform\": src.window_transform(out_window),\r\n        }\r\n    )\r\n\r\n    with rasterio.open(\"out.tif\", \"w\", **out_kwargs) as out:\r\n        out.write(\r\n            src.read(\r\n                window=out_window, out_shape=(src.count, height, width), boundless=True,\r\n            )\r\n        )\r\n```\r\n\r\nIt works fine but when I add `OVERVIEW_LEVEL=1` to `open` method it fails.\r\n\r\n```\r\nrasterio.open(\r\n    \"/vsicurl/https://raw.githubusercontent.com/satellogic/telluric/master/tests/data/google.xml\",\r\n    OVERVIEW_LEVEL=1,\r\n)\r\n```\r\n\r\nIt seems in this case rasterio makes queries to non-existing tiles and gets 404 from Google.\r\n\r\nhttp://erouault.blogspot.com/2014/10/warping-overviews-and-warped-overviews.html", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1929/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1929/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1925", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1925/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1925/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1925/events", "html_url": "https://github.com/rasterio/rasterio/pull/1925", "id": 616432633, "node_id": "MDExOlB1bGxSZXF1ZXN0NDE2NTQ0MTUz", "number": 1925, "title": "Specify dependencies using PEP496 Environment Markers", "user": {"login": "n00bsys0p", "id": 1696688, "node_id": "MDQ6VXNlcjE2OTY2ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1696688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/n00bsys0p", "html_url": "https://github.com/n00bsys0p", "followers_url": "https://api.github.com/users/n00bsys0p/followers", "following_url": "https://api.github.com/users/n00bsys0p/following{/other_user}", "gists_url": "https://api.github.com/users/n00bsys0p/gists{/gist_id}", "starred_url": "https://api.github.com/users/n00bsys0p/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/n00bsys0p/subscriptions", "organizations_url": "https://api.github.com/users/n00bsys0p/orgs", "repos_url": "https://api.github.com/users/n00bsys0p/repos", "events_url": "https://api.github.com/users/n00bsys0p/events{/privacy}", "received_events_url": "https://api.github.com/users/n00bsys0p/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/97", "html_url": "https://github.com/rasterio/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 0, "created_at": "2020-05-12T07:38:02Z", "updated_at": "2020-05-12T16:45:59Z", "closed_at": "2020-05-12T16:45:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1925", "html_url": "https://github.com/rasterio/rasterio/pull/1925", "diff_url": "https://github.com/rasterio/rasterio/pull/1925.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1925.patch", "merged_at": "2020-05-12T16:45:59Z"}, "body": "Hi,\r\n\r\nThis PR fixes use of the rasterio library with Python >= 3.4 and [Poetry](https://python-poetry.org/).\r\n\r\nThe problem with the existing setup.py is that enum34 ends up being installed for Python >= 3.4, as the [PyPI JSON output](https://pypi.org/pypi/rasterio/1.1.4/json) shows it as a permanent dependency due to the way it's added.\r\n\r\nThe changes in this commit port setup.py to use [PEP-496](https://www.python.org/dev/peps/pep-0496/) Environment Markers, a standard that is observed by Poetry and other modern Python dependency managers.\r\n\r\nIf there's anything else you need in order to merge this, please inform and I'll update my PR.\r\n\r\nBest regards,\r\n\r\nAlex", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1925/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1925/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1923", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1923/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1923/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1923/events", "html_url": "https://github.com/rasterio/rasterio/pull/1923", "id": 615348453, "node_id": "MDExOlB1bGxSZXF1ZXN0NDE1NjkwMzk0", "number": 1923, "title": "Mark test_rio_env_no_credentials as needing network.", "user": {"login": "QuLogic", "id": 302469, "node_id": "MDQ6VXNlcjMwMjQ2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/302469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuLogic", "html_url": "https://github.com/QuLogic", "followers_url": "https://api.github.com/users/QuLogic/followers", "following_url": "https://api.github.com/users/QuLogic/following{/other_user}", "gists_url": "https://api.github.com/users/QuLogic/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuLogic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuLogic/subscriptions", "organizations_url": "https://api.github.com/users/QuLogic/orgs", "repos_url": "https://api.github.com/users/QuLogic/repos", "events_url": "https://api.github.com/users/QuLogic/events{/privacy}", "received_events_url": "https://api.github.com/users/QuLogic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/97", "html_url": "https://github.com/rasterio/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 0, "created_at": "2020-05-10T09:01:59Z", "updated_at": "2020-05-11T20:37:14Z", "closed_at": "2020-05-11T17:22:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1923", "html_url": "https://github.com/rasterio/rasterio/pull/1923", "diff_url": "https://github.com/rasterio/rasterio/pull/1923.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1923.patch", "merged_at": "2020-05-11T17:22:19Z"}, "body": "Or else it's not excluded and fails to run when there's no network.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1923/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1923/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1921", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1921/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1921/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1921/events", "html_url": "https://github.com/rasterio/rasterio/issues/1921", "id": 614976319, "node_id": "MDU6SXNzdWU2MTQ5NzYzMTk=", "number": 1921, "title": "WarpedVRT Resizing Fails", "user": {"login": "rdhite", "id": 24977799, "node_id": "MDQ6VXNlcjI0OTc3Nzk5", "avatar_url": "https://avatars.githubusercontent.com/u/24977799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rdhite", "html_url": "https://github.com/rdhite", "followers_url": "https://api.github.com/users/rdhite/followers", "following_url": "https://api.github.com/users/rdhite/following{/other_user}", "gists_url": "https://api.github.com/users/rdhite/gists{/gist_id}", "starred_url": "https://api.github.com/users/rdhite/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rdhite/subscriptions", "organizations_url": "https://api.github.com/users/rdhite/orgs", "repos_url": "https://api.github.com/users/rdhite/repos", "events_url": "https://api.github.com/users/rdhite/events{/privacy}", "received_events_url": "https://api.github.com/users/rdhite/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/97", "html_url": "https://github.com/rasterio/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 4, "created_at": "2020-05-08T20:42:36Z", "updated_at": "2020-06-03T00:49:37Z", "closed_at": "2020-06-03T00:49:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to resize and reproject using the WarpedVRT class. Reprojection works, but specifying a width or height has no effect. Below is a minimal example operation on [a NAIP image pulled from the TNM Downloader](https://prd-tnm.s3.amazonaws.com/StagedProducts/NAIP/nv_2015/36115/m_3611563_ne_11_1_20150606_20150923.jp2)\r\n\r\n``` python\r\nimport gdal\r\nimport rasterio\r\n\r\nx = gdal.BuildVRT('vegas.vrt', 'vegas.jp2', options=gdal.BuildVRTOptions(bandList=[1, 2, 3]))\r\ndel(x)  # Ensure x actually dereferences and writes out\r\n\r\n# Original image (EPSG:3857) in vrt form\r\noriginal_vrt = rasterio.open('vegas.vrt')  # resolution is (1.0, 1.0) shape is (8616, 6963)\r\n\r\n# Attempting resize exclusively\r\nvrt_resized = rasterio.vrt.WarpedVRT(original_vrt, width=700, height=850)\r\nprint(vrt_resized.res, vrt_resized.shape)\r\n# (1.0, 1.0) (8616, 6963) i.e. no change\r\n\r\n# Show reprojection can work\r\ngeodetic_vrt = rasterio.vrt.WarpedVRT(original_vrt, crs=rasterio.crs.CRS.from_epsg(4326))\r\nprint(geodetic_vrt.res, geodetic_vrt.shape)\r\n# (7.984715518138429e-06, 7.984715518138429e-06) (7833, 7834) i.e. reprojection worked\r\n\r\n# Show resize doesn't work with projection\r\ngeodetic_vrt_resized = rasterio.vrt.WarpedVRT(original_vrt, crs=rasterio.crs.CRS.from_epsg(4326), width=1300, height=1300)\r\nprint(geodetic_vrt_resized.res, geodetic_vrt_resized.shape)\r\n# (7.984715518138429e-06, 7.984715518138429e-06) (7833, 7834) i.e. reprojection worked, resize didn't\r\n# expect (1.3250948073760078e-06, 1.3250948073760078e-06) (1300, 1300)\r\n```\r\n\r\nI have also tried this with the original .jp2 as well as some tiffs I had lying around to make sure it wasn't specifically related to using a VRT.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1921/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1921/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1920", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1920/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1920/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1920/events", "html_url": "https://github.com/rasterio/rasterio/issues/1920", "id": 613620858, "node_id": "MDU6SXNzdWU2MTM2MjA4NTg=", "number": 1920, "title": "Bad Error Message on missing Writer", "user": {"login": "Alfred-Mountfield", "id": 25749103, "node_id": "MDQ6VXNlcjI1NzQ5MTAz", "avatar_url": "https://avatars.githubusercontent.com/u/25749103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Alfred-Mountfield", "html_url": "https://github.com/Alfred-Mountfield", "followers_url": "https://api.github.com/users/Alfred-Mountfield/followers", "following_url": "https://api.github.com/users/Alfred-Mountfield/following{/other_user}", "gists_url": "https://api.github.com/users/Alfred-Mountfield/gists{/gist_id}", "starred_url": "https://api.github.com/users/Alfred-Mountfield/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Alfred-Mountfield/subscriptions", "organizations_url": "https://api.github.com/users/Alfred-Mountfield/orgs", "repos_url": "https://api.github.com/users/Alfred-Mountfield/repos", "events_url": "https://api.github.com/users/Alfred-Mountfield/events{/privacy}", "received_events_url": "https://api.github.com/users/Alfred-Mountfield/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/96", "html_url": "https://github.com/rasterio/rasterio/milestone/96", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/96/labels", "id": 5140600, "node_id": "MDk6TWlsZXN0b25lNTE0MDYwMA==", "number": 96, "title": "1.1.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2020-02-25T17:43:47Z", "updated_at": "2020-05-07T17:21:02Z", "due_on": null, "closed_at": "2020-05-07T17:21:02Z"}, "comments": 1, "created_at": "2020-05-06T21:21:04Z", "updated_at": "2020-05-07T00:00:48Z", "closed_at": "2020-05-07T00:00:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When trying to write to a file, if there isn't a writer for that driver (i.e. AIG) the error message is really unclear. Googling ended up making me think I had a bad Conda installation amidst other red herrings.\r\n\r\nWhen picking a driver for writing to a file, if the writer doesn't exist the package reports back this error:\r\n``` python\r\ns = get_writer_for_driver(driver)(path, mode, driver=driver,\r\nTypeError: 'NoneType' object is not callable\r\n```\r\n(This happened for me when trying to re-project a dataset with the AIG driver, didn't realise GDAL didn't have support for writing)\r\n\r\nI've [submitted a small PR](https://github.com/mapbox/rasterio/pull/1919) just adding a None check and throwing an error on it.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1920/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1920/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1914", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1914/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1914/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1914/events", "html_url": "https://github.com/rasterio/rasterio/issues/1914", "id": 609212070, "node_id": "MDU6SXNzdWU2MDkyMTIwNzA=", "number": 1914, "title": "BUG: features::bounds() does not support GeometryCollection", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/96", "html_url": "https://github.com/rasterio/rasterio/milestone/96", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/96/labels", "id": 5140600, "node_id": "MDk6TWlsZXN0b25lNTE0MDYwMA==", "number": 96, "title": "1.1.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2020-02-25T17:43:47Z", "updated_at": "2020-05-07T17:21:02Z", "due_on": null, "closed_at": "2020-05-07T17:21:02Z"}, "comments": 1, "created_at": "2020-04-29T17:00:22Z", "updated_at": "2020-04-30T17:07:10Z", "closed_at": "2020-04-30T17:07:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As implemented in `_features.pyx` we support `FeatureCollection` and individual geometries, but we don't support `GeometryCollection`.\r\n\r\nFix coming up...\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1914/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1914/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1895", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1895/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1895/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1895/events", "html_url": "https://github.com/rasterio/rasterio/pull/1895", "id": 590624048, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzk1OTI2NTk0", "number": 1895, "title": "New Path.as_vsi method to reduce ambiguity", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/96", "html_url": "https://github.com/rasterio/rasterio/milestone/96", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/96/labels", "id": 5140600, "node_id": "MDk6TWlsZXN0b25lNTE0MDYwMA==", "number": 96, "title": "1.1.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2020-02-25T17:43:47Z", "updated_at": "2020-05-07T17:21:02Z", "due_on": null, "closed_at": "2020-05-07T17:21:02Z"}, "comments": 0, "created_at": "2020-03-30T21:57:06Z", "updated_at": "2020-04-06T15:40:02Z", "closed_at": "2020-04-06T15:39:59Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1895", "html_url": "https://github.com/rasterio/rasterio/pull/1895", "diff_url": "https://github.com/rasterio/rasterio/pull/1895.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1895.patch", "merged_at": "2020-04-06T15:39:58Z"}, "body": "Intent is to help with #1791.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1895/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1895/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1893", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1893/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1893/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1893/events", "html_url": "https://github.com/rasterio/rasterio/issues/1893", "id": 587340175, "node_id": "MDU6SXNzdWU1ODczNDAxNzU=", "number": 1893, "title": "Retrieving metadata tags for a single (HDF5) subdataset", "user": {"login": "NikosAlexandris", "id": 7046639, "node_id": "MDQ6VXNlcjcwNDY2Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/7046639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NikosAlexandris", "html_url": "https://github.com/NikosAlexandris", "followers_url": "https://api.github.com/users/NikosAlexandris/followers", "following_url": "https://api.github.com/users/NikosAlexandris/following{/other_user}", "gists_url": "https://api.github.com/users/NikosAlexandris/gists{/gist_id}", "starred_url": "https://api.github.com/users/NikosAlexandris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NikosAlexandris/subscriptions", "organizations_url": "https://api.github.com/users/NikosAlexandris/orgs", "repos_url": "https://api.github.com/users/NikosAlexandris/repos", "events_url": "https://api.github.com/users/NikosAlexandris/events{/privacy}", "received_events_url": "https://api.github.com/users/NikosAlexandris/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/90", "html_url": "https://github.com/rasterio/rasterio/milestone/90", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/90/labels", "id": 4646414, "node_id": "MDk6TWlsZXN0b25lNDY0NjQxNA==", "number": 90, "title": "post-1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-09-09T22:51:33Z", "updated_at": "2021-04-07T13:55:06Z", "due_on": null, "closed_at": "2021-04-07T13:55:06Z"}, "comments": 9, "created_at": "2020-03-24T23:27:00Z", "updated_at": "2020-03-26T19:42:26Z", "closed_at": "2020-03-26T19:29:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Consider a somewhat large [HDF5 file structure](https://gist.github.com/NikosAlexandris/29461b3dcd1cc10d28dc413797a0dff9):\r\n```\r\ngdalinfo ECOSTRESS_L2_LSTE_05525_002_20190627T070809_0600_01.h5\r\nDriver: HDF5/Hierarchical Data Format Release 5\r\nFiles: ECOSTRESS_L2_LSTE_05525_002_20190627T070809_0600_01.h5\r\nSize is 512, 512\r\nMetadata:\r\n  SDS_Emis1_add_offset=0.49\r\n  SDS_Emis1_coordsys=cartesian\r\n  SDS_Emis1_err_add_offset=0\r\n  SDS_Emis1_err_coordsys=cartesian\r\n  SDS_Emis1_err_format=scaled\r\n  SDS_Emis1_err_long_name=Band 1 Emissivity error\r\n  SDS_Emis1_err_scale_factor=0.0001\r\n  SDS_Emis1_err_units=n/a\r\n  SDS_Emis1_err_valid_range=1 65535\r\n  SDS_Emis1_err__FillValue=0\r\n  SDS_Emis1_format=scaled\r\n  SDS_Emis1_long_name=Band 1 Emissivity\r\n  SDS_Emis1_scale_factor=0.002\r\n  SDS_Emis1_units=n/a\r\n  SDS_Emis1_valid_range=1 255\r\n  SDS_Emis1__FillValue=0\r\n...\r\nSubdatasets:\r\n  SUBDATASET_1_NAME=HDF5:\"ECOSTRESS_L2_LSTE_05525_002_20190627T070809_0600_01.h5\"://SDS/Emis1\r\n  SUBDATASET_1_DESC=[5632x5400] //SDS/Emis1 (8-bit unsigned character)\r\n  ...\r\nCorner Coordinates:\r\nUpper Left  (    0.0,    0.0)\r\nLower Left  (    0.0,  512.0)\r\nUpper Right (  512.0,    0.0)\r\nLower Right (  512.0,  512.0)\r\nCenter      (  256.0,  256.0)\r\n```\r\n\r\nReading this file with `rasterio` lists subdatasets and tags as a property and a method respectively, in a new object. For example,\r\n```\r\nhdf5 = rasterio.open('ECOSTRESS_L2_LSTE_05525_002_20190627T070809_0600_01.h5', nodata=0)\r\n```\r\nstores the _Subdatasets_ under `hdf5.subdatasets` while the _Metadata_ can be retrieved via `hdf5.tags()`.\r\n\r\nIf one tries to load, however, a single subdataset, its metadata tags are not retrieved. For example,\r\n```\r\nlst = rasterio.open('HDF5:ECOSTRESS_L2_LSTE_05525_002_20190627T070809_0600_01.h5://SDS/LST')\r\n```\r\nthe `tags() method` does not return anything\r\n```\r\nlst.tags()\r\n```\r\nwhereas `gdalinfo` returns:\r\n```\r\ngdalinfo 'HDF5:ECOSTRESS_L2_LSTE_05525_002_20190627T070809_0600_01.h5://SDS/LST'\r\nDriver: HDF5Image/HDF5 Dataset\r\nFiles: ECOSTRESS_L2_LSTE_05525_002_20190627T070809_0600_01.h5\r\nSize is 5400, 5632\r\nCorner Coordinates:\r\nUpper Left  (    0.0,    0.0)\r\nLower Left  (    0.0, 5632.0)\r\nUpper Right ( 5400.0,    0.0)\r\nLower Right ( 5400.0, 5632.0)\r\nCenter      ( 2700.0, 2816.0)\r\nBand 1 Block=5400x1 Type=UInt16, ColorInterp=Undefined\r\n  Metadata:\r\n    SDS_LST_add_offset=0\r\n    SDS_LST_coordsys=cartesian\r\n    SDS_LST_format=scaled\r\n    SDS_LST_long_name=Land Surface Temperature\r\n    SDS_LST_scale_factor=0.02\r\n    SDS_LST_units=K\r\n    SDS_LST_valid_range=7500 65535\r\n    SDS_LST__FillValue=0\r\n```\r\n\r\nI think this is something useful to have as retrieving per subdataset metadata will be easier. The problem I face is that many of the subdatasets have similar names, which makes retrieving per-subdataset metadata tags harder.\r\n\r\n## Related\r\n#1110; #772 ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1893/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1893/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1892", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1892/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1892/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1892/events", "html_url": "https://github.com/rasterio/rasterio/issues/1892", "id": 586538810, "node_id": "MDU6SXNzdWU1ODY1Mzg4MTA=", "number": 1892, "title": "Quit use of mapbox S3 bucket in test_env.py", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 337782406, "node_id": "MDU6TGFiZWwzMzc3ODI0MDY=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/testing", "name": "testing", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/96", "html_url": "https://github.com/rasterio/rasterio/milestone/96", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/96/labels", "id": 5140600, "node_id": "MDk6TWlsZXN0b25lNTE0MDYwMA==", "number": 96, "title": "1.1.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2020-02-25T17:43:47Z", "updated_at": "2020-05-07T17:21:02Z", "due_on": null, "closed_at": "2020-05-07T17:21:02Z"}, "comments": 0, "created_at": "2020-03-23T21:47:18Z", "updated_at": "2020-05-04T20:28:11Z", "closed_at": "2020-05-04T20:28:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Once upon a time we were using `s3://mapbox/rasterio/RGB.byte.tif` to test that we could open a GeoTIFF on S3, but now it's only used to check that we're not authenticated: https://github.com/mapbox/rasterio/blob/master/tests/test_env.py#L794-L796. Let's assert we're unauthenticated in another way, such as by using the AWS SDK.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1892/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1892/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1880", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1880/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1880/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1880/events", "html_url": "https://github.com/rasterio/rasterio/pull/1880", "id": 576556729, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg0NTIxODk2", "number": 1880, "title": "Properly declare int8 pixel types to GDAL", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/96", "html_url": "https://github.com/rasterio/rasterio/milestone/96", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/96/labels", "id": 5140600, "node_id": "MDk6TWlsZXN0b25lNTE0MDYwMA==", "number": 96, "title": "1.1.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2020-02-25T17:43:47Z", "updated_at": "2020-05-07T17:21:02Z", "due_on": null, "closed_at": "2020-05-07T17:21:02Z"}, "comments": 1, "created_at": "2020-03-05T21:59:27Z", "updated_at": "2020-03-06T23:46:23Z", "closed_at": "2020-03-06T17:40:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1880", "html_url": "https://github.com/rasterio/rasterio/pull/1880", "diff_url": "https://github.com/rasterio/rasterio/pull/1880.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1880.patch", "merged_at": "2020-03-06T17:40:12Z"}, "body": "GDAL treats signed byte data in a special way, there is only one 8-bit data type GDT_Byte, unsigned by default. To represent signed version one needs to set PIXELTYPE='SIGNEDBYTE'. When int8 support was added in #1595 InMemoryRaster class was not adjusted to support int8 inputs. Calls to GDALCreate need to include options dictionary.\r\n\r\nCloses #1878.\r\n\r\nThere was also missing assignment in `_warp.pyx`, which I think is an omission.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1880/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1880/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1878", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1878/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1878/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1878/events", "html_url": "https://github.com/rasterio/rasterio/issues/1878", "id": 575904985, "node_id": "MDU6SXNzdWU1NzU5MDQ5ODU=", "number": 1878, "title": "Incorrect handling of `int8` data when using InMemoryRaster", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/96", "html_url": "https://github.com/rasterio/rasterio/milestone/96", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/96/labels", "id": 5140600, "node_id": "MDk6TWlsZXN0b25lNTE0MDYwMA==", "number": 96, "title": "1.1.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2020-02-25T17:43:47Z", "updated_at": "2020-05-07T17:21:02Z", "due_on": null, "closed_at": "2020-05-07T17:21:02Z"}, "comments": 6, "created_at": "2020-03-05T00:15:26Z", "updated_at": "2020-05-07T17:20:52Z", "closed_at": "2020-05-07T17:20:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nGDAL treats `signed byte` data in a special way, there is only one 8-bit data type `GDT_Byte`, unsigned by default. To represent signed version one needs to set `PIXELTYPE='SIGNEDBYTE'`. When `int8` support was added in #1595 `InMemoryRaster` class was not adjusted to support `int8` inputs. Calls to `GDALCreate` need to include `options` dictionary similar to this:\r\n\r\nhttps://github.com/mapbox/rasterio/blob/74bd625dfd984ca090a1ee02f4fc1940b11d7ce8/rasterio/_io.pyx#L1173-L1181\r\n\r\nSupplying just `gdal_dtype=GDT_Byte` is not enough to fully specify `int8` to GDAL.\r\n\r\nhttps://github.com/mapbox/rasterio/blob/74bd625dfd984ca090a1ee02f4fc1940b11d7ce8/rasterio/_io.pyx#L1777-L1779\r\n\r\n## Steps to reproduce the problem.\r\n\r\nThis problem manifests itself when using `rasterio.warp.reproject` with `int8` data:\r\n\r\nhttps://gist.github.com/Kirill888/6757ea0a1617cc1070fe74a97a3d69a4\r\n\r\n## Operating system\r\n\r\nTested on Ubuntu 18.04 64 bit, but all will be affected.\r\n\r\n## Rasterio version and provenance\r\n\r\n1.1.3", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1878/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1878/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1876", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1876/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1876/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1876/events", "html_url": "https://github.com/rasterio/rasterio/issues/1876", "id": 571540336, "node_id": "MDU6SXNzdWU1NzE1NDAzMzY=", "number": 1876, "title": "Concurrently reading from COGs through vsicurl fails with a segfault in 1.1.3", "user": {"login": "mihi314", "id": 3398091, "node_id": "MDQ6VXNlcjMzOTgwOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3398091?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihi314", "html_url": "https://github.com/mihi314", "followers_url": "https://api.github.com/users/mihi314/followers", "following_url": "https://api.github.com/users/mihi314/following{/other_user}", "gists_url": "https://api.github.com/users/mihi314/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihi314/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihi314/subscriptions", "organizations_url": "https://api.github.com/users/mihi314/orgs", "repos_url": "https://api.github.com/users/mihi314/repos", "events_url": "https://api.github.com/users/mihi314/events{/privacy}", "received_events_url": "https://api.github.com/users/mihi314/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-02-26T17:22:45Z", "updated_at": "2020-05-17T19:20:49Z", "closed_at": "2020-05-06T23:06:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\nConcurrently reading from COGs through vsicurl fails with a segfault or other error:\r\n```*** Error in `python3': double free or corruption (!prev): 0x00007fddb4088da0 ***```\r\n\r\nThe accompanying backtrace:\r\n<details>\r\n<summary>Click to expand</summary>\r\n\r\n```\r\n*** Error in `python3': double free or corruption (!prev): 0x00007f9744088da0 ***\r\n======= Backtrace: =========\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7f97668377e5]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x8037a)[0x7f976684037a]\r\n/lib/x86_64-linux-gnu/libc.so.6(cfree+0x4c)[0x7f976684453c]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4(CRYPTO_free+0x1d)[0x7f9764907ced]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4(engine_pkey_meths_free+0x6d)[0x7f976494156d]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4(engine_free_util+0x66)[0x7f97649407c6]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4(engine_unlocked_finish+0x3c)[0x7f9764940b9c]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4(ENGINE_finish+0x39)[0x7f9764940cf9]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(ssl_create_cipher_list+0x1bc)[0x7f97623d4b6c]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(SSL_CTX_new+0x25b)[0x7f97623cc71b]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(+0xd6386)[0x7f97623a3386]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(+0xd783a)[0x7f97623a483a]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(+0xda28b)[0x7f97623a728b]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(+0x999d2)[0x7f97623669d2]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(+0xaae21)[0x7f9762377e21]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(+0xbd32e)[0x7f976238a32e]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(curl_multi_perform+0x81)[0x7f976238b0b1]\r\n/usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4(+0xbb960b)[0x7f975e4ae60b]\r\n/usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4(+0xbc33da)[0x7f975e4b83da]\r\n/usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4(+0xbbbf30)[0x7f975e4b0f30]\r\n/usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4(_ZN12GDALOpenInfoC1EPKciPKS1_+0x521)[0x7f975e0d4541]\r\n/usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4(GDALOpenEx+0x87)[0x7f975e0af677]\r\n/usr/local/lib/python3.5/dist-packages/rasterio/_shim.cpython-35m-x86_64-linux-gnu.so(+0x22ab1)[0x7f97589ddab1]\r\n/usr/local/lib/python3.5/dist-packages/rasterio/_base.cpython-35m-x86_64-linux-gnu.so(+0x42c36)[0x7f975f1ebc36]\r\npython3[0x579f4c]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3(PyEval_EvalFrameEx+0x24a2)[0x532a22]\r\npython3(PyEval_EvalCodeEx+0x88a)[0x53af6a]\r\npython3[0x4e3537]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3(PyEval_EvalFrameEx+0x24a2)[0x532a22]\r\npython3[0x539f5f]\r\npython3(PyEval_EvalFrameEx+0x5572)[0x535af2]\r\npython3(PyEval_EvalCodeEx+0x13b)[0x53a81b]\r\npython3[0x4e3423]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3[0x53035e]\r\npython3[0x5b13b4]\r\npython3[0x579f4c]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3(PyEval_EvalFrameEx+0x4f2f)[0x5354af]\r\npython3(PyEval_EvalCodeEx+0x13b)[0x53a81b]\r\npython3[0x4e3537]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3(PyEval_EvalFrameEx+0x24a2)[0x532a22]\r\npython3(PyEval_EvalCodeEx+0x13b)[0x53a81b]\r\npython3[0x4e3537]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3(PyEval_EvalFrameEx+0x24a2)[0x532a22]\r\npython3(PyEval_EvalFrameEx+0x4b64)[0x5350e4]\r\npython3(PyEval_EvalFrameEx+0x4b64)[0x5350e4]\r\npython3(PyEval_EvalCodeEx+0x13b)[0x53a81b]\r\npython3[0x4e3423]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3[0x4f08be]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3(PyEval_CallObjectWithKeywords+0x30)[0x525d00]\r\npython3[0x626bb2]\r\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x76ba)[0x7f9766b916ba]\r\n/lib/x86_64-linux-gnu/libc.so.6(clone+0x6d)[0x7f97668c741d]\r\n======= Memory map: ========\r\n00400000-007a7000 r-xp 00000000 08:11 336249                             /usr/bin/python3.5\r\n009a6000-009a8000 r--p 003a6000 08:11 336249                             /usr/bin/python3.5\r\n009a8000-00a3f000 rw-p 003a8000 08:11 336249                             /usr/bin/python3.5\r\n00a3f000-00a70000 rw-p 00000000 00:00 0 \r\n01724000-01f09000 rw-p 00000000 00:00 0                                  [heap]\r\n7f9720000000-7f9720027000 rw-p 00000000 00:00 0 \r\n7f9720027000-7f9724000000 ---p 00000000 00:00 0 \r\n7f9728000000-7f9728021000 rw-p 00000000 00:00 0 \r\n7f9728021000-7f972c000000 ---p 00000000 00:00 0 \r\n7f972c000000-7f972c021000 rw-p 00000000 00:00 0 \r\n7f972c021000-7f9730000000 ---p 00000000 00:00 0 \r\n7f97335e4000-7f97335fb000 r-xp 00000000 08:11 918711                     /lib/x86_64-linux-gnu/libresolv-2.23.so\r\n7f97335fb000-7f97337fb000 ---p 00017000 08:11 918711                     /lib/x86_64-linux-gnu/libresolv-2.23.so\r\n7f97337fb000-7f97337fc000 r--p 00017000 08:11 918711                     /lib/x86_64-linux-gnu/libresolv-2.23.so\r\n7f97337fc000-7f97337fd000 rw-p 00018000 08:11 918711                     /lib/x86_64-linux-gnu/libresolv-2.23.so\r\n7f97337fd000-7f97337ff000 rw-p 00000000 00:00 0 \r\n7f97337ff000-7f9733800000 ---p 00000000 00:00 0 \r\n7f9733800000-7f9734000000 rw-p 00000000 00:00 0 \r\n7f9734000000-7f973406d000 rw-p 00000000 00:00 0 \r\n7f973406d000-7f9738000000 ---p 00000000 00:00 0 \r\n7f9738000000-7f9738021000 rw-p 00000000 00:00 0 \r\n7f9738021000-7f973c000000 ---p 00000000 00:00 0 \r\n7f973c000000-7f973c05f000 rw-p 00000000 00:00 0 \r\n7f973c05f000-7f9740000000 ---p 00000000 00:00 0 \r\n7f9740000000-7f9740092000 rw-p 00000000 00:00 0 \r\n7f9740092000-7f9744000000 ---p 00000000 00:00 0 \r\n7f9744000000-7f97440cb000 rw-p 00000000 00:00 0 \r\n7f97440cb000-7f9748000000 ---p 00000000 00:00 0 \r\n7f97481f3000-7f97481f8000 r-xp 00000000 08:11 918686                     /lib/x86_64-linux-gnu/libnss_dns-2.23.so\r\n7f97481f8000-7f97483f8000 ---p 00005000 08:11 918686                     /lib/x86_64-linux-gnu/libnss_dns-2.23.so\r\n7f97483f8000-7f97483f9000 r--p 00005000 08:11 918686                     /lib/x86_64-linux-gnu/libnss_dns-2.23.so\r\n7f97483f9000-7f97483fa000 rw-p 00006000 08:11 918686                     /lib/x86_64-linux-gnu/libnss_dns-2.23.so\r\n7f97483fa000-7f9748405000 r-xp 00000000 08:11 918688                     /lib/x86_64-linux-gnu/libnss_files-2.23.so\r\n7f9748405000-7f9748604000 ---p 0000b000 08:11 918688                     /lib/x86_64-linux-gnu/libnss_files-2.23.so\r\n7f9748604000-7f9748605000 r--p 0000a000 08:11 918688                     /lib/x86_64-linux-gnu/libnss_files-2.23.so\r\n7f9748605000-7f9748606000 rw-p 0000b000 08:11 918688                     /lib/x86_64-linux-gnu/libnss_files-2.23.so\r\n7f9748606000-7f974860c000 rw-p 00000000 00:00 0 \r\n7f974860c000-7f974860d000 ---p 00000000 00:00 0 \r\n7f974860d000-7f9748e0d000 rw-p 00000000 00:00 0 \r\n7f9748e0d000-7f9748e0e000 ---p 00000000 00:00 0 \r\n7f9748e0e000-7f974960e000 rw-p 00000000 00:00 0 \r\n7f974960e000-7f974960f000 ---p 00000000 00:00 0 \r\n7f974960f000-7f9749e0f000 rw-p 00000000 00:00 0 \r\n7f9749e0f000-7f9749e10000 ---p 00000000 00:00 0 \r\n7f9749e10000-7f974a610000 rw-p 00000000 00:00 0 \r\n7f974a610000-7f974a611000 ---p 00000000 00:00 0 \r\n7f974a611000-7f974ae11000 rw-p 00000000 00:00 0 \r\n7f974ae11000-7f974ae12000 ---p 00000000 00:00 0 \r\n7f974ae12000-7f974b652000 rw-p 00000000 00:00 0 \r\n7f974b652000-7f974b689000 r-xp 00000000 08:11 1060330                    /usr/local/lib/python3.5/dist-packages/rasterio/_features.cpython-35m-x86_64-linux-gnu.so\r\n7f974b689000-7f974b888000 ---p 00037000 08:11 1060330                    /usr/local/lib/python3.5/dist-packages/rasterio/_features.cpython-35m-x86_64-linux-gnu.so\r\n7f974b888000-7f974b88e000 rw-p 00036000 08:11 1060330                    /usr/local/lib/python3.5/dist-packages/rasterio/_features.cpython-35m-x86_64-linux-gnu.so\r\n7f974b88e000-7f974b88f000 rw-p 00000000 00:00 0 \r\n7f974b88f000-7f974b893000 rw-p 0003c000 08:11 1060330                    /usr/local/lib/python3.5/dist-packages/rasterio/_features.cpython-35m-x86_64-linux-gnu.so\r\n7f974b893000-7f974b8fb000 r-xp 00000000 08:11 1060335                    /usr/local/lib/python3.5/dist-packages/rasterio/_warp.cpython-35m-x86_64-linux-gnu.so\r\n7f974b8fb000-7f974bafa000 ---p 00068000 08:11 1060335                    /usr/local/lib/python3.5/dist-packages/rasterio/_warp.cpython-35m-x86_64-linux-gnu.so\r\n7f974bafa000-7f974bb03000 rw-p 00067000 08:11 1060335                    /usr/local/lib/python3.5/dist-packages/rasterio/_warp.cpython-35m-x86_64-linux-gnu.so\r\n7f974bb03000-7f974bb05000 rw-p 00000000 00:00 0 \r\n7f974bb05000-7f974bb0a000 rw-p 00071000 08:11 1060335                    /usr/local/lib/python3.5/dist-packages/rasterio/_warp.cpython-35m-x86_64-linux-gnu.so\r\n7f974bb0a000-7f974bb4a000 rw-p 00000000 00:00 0 \r\n7f974bb4a000-7f974bbfb000 r-xp 00000000 08:11 1060332                    /usr/local/lib/python3.5/dist-packages/rasterio/_io.cpython-35m-x86_64-linux-gnu.so\r\n7f974bbfb000-7f974bdfa000 ---p 000b1000 08:11 1060332                    /usr/local/lib/python3.5/dist-packages/rasterio/_io.cpython-35m-x86_64-linux-gnu.so\r\n7f974bdfa000-7f974be07000 rw-p 000b0000 08:11 1060332                    /usr/local/lib/python3.5/dist-packages/rasterio/_io.cpython-35m-x86_64-linux-gnu.so\r\n7f974be07000-7f974be09000 rw-p 00000000 00:00 0 \r\n7f974be09000-7f974be0d000 rw-p 000bd000 08:11 1060332                    /usr/local/lib/python3.5/dist-packages/rasterio/_io.cpython-35m-x86_64-linux-gnu.so\r\n7f974be0d000-7f974be15000 r-xp 00000000 08:11 1060334                    /usr/local/lib/python3.5/dist-packages/rasterio/_transform.cpython-35m-x86_64-linux-gnu.so\r\n7f974be15000-7f974c015000 ---p 00008000 08:11 1060334                    /usr/local/lib/python3.5/dist-packages/rasterio/_transform.cpython-35m-x86_64-linux-gnu.so\r\n7f974c015000-7f974c016000 rw-p 00008000 08:11 1060334                    /usr/local/lib/python3.5/dist-packages/rasterio/_transform.cpython-35m-x86_64-linux-gnu.so\r\n7f974c016000-7f974c019000 rw-p 0000a000 08:11 1060334                    /usr/local/lib/python3.5/dist-packages/rasterio/_transform.cpython-35m-x86_64-linux-gnu.so\r\n7f974c019000-7f974c0d9000 rw-p 00000000 00:00 0 \r\n7f974c0d9000-7f974c125000 r-xp 00000000 08:11 1060327                    /usr/local/lib/python3.5/dist-packages/rasterio/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f974c125000-7f974c324000 ---p 0004c000 08:11 1060327                    /usr/local/lib/python3.5/dist-packages/rasterio/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f974c324000-7f974c32a000 rw-p 0004b000 08:11 1060327                    /usr/local/lib/python3.5/dist-packages/rasterio/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f974c32a000-7f974c32b000 rw-p 00000000 00:00 0 \r\n7f974c32b000-7f974c330000 rw-p 00052000 08:11 1060327                    /usr/local/lib/python3.5/dist-packages/rasterio/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f974c330000-7f974c373000 r-xp 00000000 08:11 1060326                    /usr/local/lib/python3.5/dist-packages/rasterio/_crs.cpython-35m-x86_64-linux-gnu.so\r\n7f974c373000-7f974c572000 ---p 00043000 08:11 1060326                    /usr/local/lib/python3.5/dist-packages/rasterio/_crs.cpython-35m-x86_64-linux-gnu.so\r\n7f974c572000-7f974c578000 rw-p 00042000 08:11 1060326                    /usr/local/lib/python3.5/dist-packages/rasterio/_crs.cpython-35m-x86_64-linux-gnu.so\r\n7f974c578000-7f974c579000 rw-p 00000000 00:00 0 \r\n7f974c579000-7f974c57d000 rw-p 00048000 08:11 1060326                    /usr/local/lib/python3.5/dist-packages/rasterio/_crs.cpython-35m-x86_64-linux-gnu.so\r\n7f974c57d000-7f974c6bd000 rw-p 00000000 00:00 0 \r\n7f974c6bd000-7f974c75b000 r-xp 00000000 08:11 1060176                    /usr/local/lib/python3.5/dist-packages/numpy/random/_generator.cpython-35m-x86_64-linux-gnu.so\r\n7f974c75b000-7f974c95a000 ---p 0009e000 08:11 1060176                    /usr/local/lib/python3.5/dist-packages/numpy/random/_generator.cpython-35m-x86_64-linux-gnu.so\r\n7f974c95a000-7f974c97f000 rw-p 0009d000 08:11 1060176                    /usr/local/lib/python3.5/dist-packages/numpy/random/_generator.cpython-35m-x86_64-linux-gnu.so\r\n7f974c97f000-7f974c981000 rw-p 00000000 00:00 0 \r\n7f974c981000-7f974c98c000 r-xp 00000000 08:11 1060181                    /usr/local/lib/python3.5/dist-packages/numpy/random/_sfc64.cpython-35m-x86_64-linux-gnu.so\r\n7f974c98c000-7f974cb8c000 ---p 0000b000 08:11 1060181                    /usr/local/lib/python3.5/dist-packages/numpy/random/_sfc64.cpython-35m-x86_64-linux-gnu.so\r\n7f974cb8c000-7f974cb8d000 rw-p 0000b000 08:11 1060181                    /usr/local/lib/python3.5/dist-packages/numpy/random/_sfc64.cpython-35m-x86_64-linux-gnu.so\r\n7f974cb8d000-7f974cb8e000 rw-p 00000000 00:00 0 \r\n7f974cb8e000-7f974cb9d000 r-xp 00000000 08:11 1060178                    /usr/local/lib/python3.5/dist-packages/numpy/random/_pcg64.cpython-35m-x86_64-linux-gnu.so\r\n7f974cb9d000-7f974cd9d000 ---p 0000f000 08:11 1060178                    /usr/local/lib/python3.5/dist-packages/numpy/random/_pcg64.cpython-35m-x86_64-linux-gnu.so\r\n7f974cd9d000-7f974cd9f000 rw-p 0000f000 08:11 1060178                    /usr/local/lib/python3.5/dist-packages/numpy/random/_pcg64.cpython-35m-x86_64-linux-gnu.so\r\n7f974cd9f000-7f974cdb1000 r-xp 00000000 08:11 1060179                    /usr/local/lib/python3.5/dist-packages/numpy/random/_philox.cpython-35m-x86_64-linux-gnu.so\r\n7f974cdb1000-7f974cfb0000 ---p 00012000 08:11 1060179                    /usr/local/lib/python3.5/dist-packages/numpy/random/_philox.cpython-35m-x86_64-linux-gnu.so\r\n7f974cfb0000-7f974cfb2000 rw-p 00011000 08:11 1060179                    /usr/local/lib/python3.5/dist-packages/numpy/random/_philox.cpython-35m-x86_64-linux-gnu.so\r\n7f974cfb2000-7f974cff3000 rw-p 00000000 00:00 0 \r\n7f974cff3000-7f974d00b000 r-xp 00000000 08:11 1060177                    /usr/local/lib/python3.5/dist-packages/numpy/random/_mt19937.cpython-35m-x86_64-linux-gnu.so\r\n7f974d00b000-7f974d20b000 ---p 00018000 08:11 1060177                    /usr/local/lib/python3.5/dist-packages/numpy/random/_mt19937.cpython-35m-x86_64-linux-gnu.so\r\n7f974d20b000-7f974d20d000 rw-p 00018000 08:11 1060177                    /usr/local/lib/python3.5/dist-packages/numpy/random/_mt19937.cpython-35m-x86_64-linux-gnu.so\r\n7f974d20d000-7f974d261000 r-xp 00000000 08:11 1060160                    /usr/local/lib/python3.5/dist-packages/numpy/random/_bounded_integers.cpython-35m-x86_64-linux-gnu.so\r\n7f974d261000-7f974d461000 ---p 00054000 08:11 1060160                    /usr/local/lib/python3.5/dist-packages/numpy/random/_bounded_integers.cpython-35m-x86_64-linux-gnu.so\r\n7f974d461000-7f974d463000 rw-p 00054000 08:11 1060160                    /usr/local/lib/python3.5/dist-packages/numpy/random/_bounded_integers.cpython-35m-x86_64-linux-gnu.so\r\n7f974d463000-7f974d499000 r-xp 00000000 08:11 1060162                    /usr/local/lib/python3.5/dist-packages/numpy/random/_common.cpython-35m-x86_64-linux-gnu.so\r\n7f974d499000-7f974d698000 ---p 00036000 08:11 1060162                    /usr/local/lib/python3.5/dist-packages/numpy/random/_common.cpython-35m-x86_64-linux-gnu.so\r\n7f974d698000-7f974d69a000 rw-p 00035000 08:11 1060162                    /usr/local/lib/python3.5/dist-packages/numpy/random/_common.cpython-35m-x86_64-linux-gnu.so\r\n7f974d69a000-7f974d69b000 rw-p 00000000 00:00 0 \r\n7f974d69b000-7f974d6c3000 r-xp 00000000 08:11 1060158                    /usr/local/lib/python3.5/dist-packages/numpy/random/_bit_generator.cpython-35m-x86_64-linux-gnu.so\r\n7f974d6c3000-7f974d8c2000 ---p 00028000 08:11 1060158                    /usr/local/lib/python3.5/dist-packages/numpy/random/_bit_generator.cpython-35m-x86_64-linux-gnu.so\r\n7f974d8c2000-7f974d8c8000 rw-p 00027000 08:11 1060158                    /usr/local/lib/python3.5/dist-packages/numpy/random/_bit_generator.cpython-35m-x86_64-linux-gnu.so\r\n7f974d8c8000-7f974d947000 r-xp 00000000 08:11 1060182                    /usr/local/lib/python3.5/dist-packages/numpy/random/mtrand.cpython-35m-x86_64-linux-gnu.so\r\n7f974d947000-7f974db46000 ---p 0007f000 08:11 1060182                    /usr/local/lib/python3.5/dist-packages/numpy/random/mtrand.cpython-35m-x86_64-linux-gnu.so\r\n7f974db46000-7f974db6d000 rw-p 0007e000 08:11 1060182                    /usr/local/lib/python3.5/dist-packages/numpy/random/mtrand.cpython-35m-x86_64-linux-gnu.so\r\n7f974db6d000-7f974dbae000 rw-p 00000000 00:00 0 \r\n7f974dbae000-7f974dbc4000 r-xp 00000000 08:11 1059567                    /usr/local/lib/python3.5/dist-packages/numpy/fft/_pocketfft_internal.cpython-35m-x86_64-linux-gnu.so\r\n7f974dbc4000-7f974ddc3000 ---p 00016000 08:11 1059567                    /usr/local/lib/python3.5/dist-packages/numpy/fft/_pocketfft_internal.cpython-35m-x86_64-linux-gnu.so\r\n7f974ddc3000-7f974ddc4000 rw-p 00015000 08:11 1059567                    /usr/local/lib/python3.5/dist-packages/numpy/fft/_pocketfft_internal.cpython-35m-x86_64-linux-gnu.so\r\n7f974ddc4000-7f974ddfb000 r-xp 00000000 08:11 1091570                    /usr/lib/x86_64-linux-gnu/libmpdec.so.2.4.2\r\n7f974ddfb000-7f974dffa000 ---p 00037000 08:11 1091570                    /usr/lib/x86_64-linux-gnu/libmpdec.so.2.4.2\r\n7f974dffa000-7f974dffb000 r--p 00036000 08:11 1091570                    /usr/lib/x86_64-linux-gnu/libmpdec.so.2.4.2\r\n7f974dffb000-7f974dffc000 rw-p 00037000 08:11 1091570                    /usr/lib/x86_64-linux-gnu/libmpdec.so.2.4.2\r\n7f974dffc000-7f974e020000 r-xp 00000000 08:11 1071421                    /usr/lib/python3.5/lib-dynload/_decimal.cpython-35m-x86_64-linux-gnu.so\r\n7f974e020000-7f974e21f000 ---p 00024000 08:11 1071421                    /usr/lib/python3.5/lib-dynload/_decimal.cpython-35m-x86_64-linux-gnu.so\r\n7f974e21f000-7f974e220000 r--p 00023000 08:11 1071421                    /usr/lib/python3.5/lib-dynload/_decimal.cpython-35m-x86_64-linux-gnu.so\r\n7f974e220000-7f974e229000 rw-p 00024000 08:11 1071421                    /usr/lib/python3.5/lib-dynload/_decimal.cpython-35m-x86_64-linux-gnu.so\r\n7f974e229000-7f974e2e9000 rw-p 00000000 00:00 0 \r\n7f974e2e9000-7f974e314000 r-xp 00000000 08:11 1059803                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/_umath_linalg.cpython-35m-x86_64-linux-gnu.so\r\n7f974e314000-7f974e514000 ---p 0002b000 08:11 1059803                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/_umath_linalg.cpython-35m-x86_64-linux-gnu.so\r\n7f974e514000-7f974e516000 rw-p 0002b000 08:11 1059803                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/_umath_linalg.cpython-35m-x86_64-linux-gnu.so\r\n7f974e516000-7f974e519000 rw-p 000d4000 08:11 1059803                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/_umath_linalg.cpython-35m-x86_64-linux-gnu.so\r\n7f974e519000-7f974e51d000 r-xp 00000000 08:11 1059804                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/lapack_lite.cpython-35m-x86_64-linux-gnu.so\r\n7f974e51d000-7f974e71d000 ---p 00004000 08:11 1059804                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/lapack_lite.cpython-35m-x86_64-linux-gnu.so\r\n7f974e71d000-7f974e71e000 rw-p 00004000 08:11 1059804                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/lapack_lite.cpython-35m-x86_64-linux-gnu.so\r\n7f974e71e000-7f974e720000 rw-p 00019000 08:11 1059804                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/lapack_lite.cpython-35m-x86_64-linux-gnu.so\r\n7f974e720000-7f974e760000 rw-p 00000000 00:00 0 \r\n7f974e760000-7f974e77f000 r-xp 00000000 08:11 1059063                    /usr/local/lib/python3.5/dist-packages/numpy/core/_multiarray_tests.cpython-35m-x86_64-linux-gnu.so\r\n7f974e77f000-7f974e97f000 ---p 0001f000 08:11 1059063                    /usr/local/lib/python3.5/dist-packages/numpy/core/_multiarray_tests.cpython-35m-x86_64-linux-gnu.so\r\n7f974e97f000-7f974e981000 rw-p 0001f000 08:11 1059063                    /usr/local/lib/python3.5/dist-packages/numpy/core/_multiarray_tests.cpython-35m-x86_64-linux-gnu.so\r\n7f974e981000-7f9752b42000 rw-p 00000000 00:00 0 \r\n7f9752b42000-7f9752b43000 ---p 00000000 00:00 0 \r\n7f9752b43000-7f9755343000 rw-p 00000000 00:00 0 \r\n7f9755343000-7f9755344000 ---p 00000000 00:00 0 \r\n7f9755344000-7f9755b44000 rw-p 00000000 00:00 0 \r\n7f9755b44000-7f9755b45000 ---p 00000000 00:00 0 \r\n7f9755b45000-7f9756345000 rw-p 00000000 00:00 0 \r\n7f9756345000-7f9756435000 r-xp 00000000 08:11 1058977                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libgfortran-ed201abd.so.3.0.0\r\n7f9756435000-7f9756634000 ---p 000f0000 08:11 1058977                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libgfortran-ed201abd.so.3.0.0\r\n7f9756634000-7f9756636000 rw-p 000ef000 08:11 1058977                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libgfortran-ed201abd.so.3.0.0\r\n7f9756636000-7f9756637000 rw-p 00000000 00:00 0 \r\n7f9756637000-7f975663f000 rw-p 000f2000 08:11 1058977                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libgfortran-ed201abd.so.3.0.0\r\n7f975663f000-7f9758135000 r-xp 00000000 08:11 1058978                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libopenblasp-r0-34a18dc3.3.7.so\r\n7f9758135000-7f9758334000 ---p 01af6000 08:11 1058978                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libopenblasp-r0-34a18dc3.3.7.so\r\n7f9758334000-7f975834d000 rw-p 01af5000 08:11 1058978                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libopenblasp-r0-34a18dc3.3.7.so\r\n7f975834d000-7f9758358000 rw-p 00000000 00:00 0 \r\n7f9758358000-7f97583d0000 rw-p 01be1000 08:11 1058978                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libopenblasp-r0-34a18dc3.3.7.so\r\n7f97583d0000-7f9758775000 r-xp 00000000 08:11 1059064                    /usr/local/lib/python3.5/dist-packages/numpy/core/_multiarray_umath.cpython-35m-x86_64-linux-gnu.so\r\n7f9758775000-7f9758974000 ---p 003a5000 08:11 1059064                    /usr/local/lib/python3.5/dist-packages/numpy/core/_multiarray_umath.cpython-35m-x86_64-linux-gnu.so\r\n7f9758974000-7f9758993000 rw-p 003a4000 08:11 1059064                    /usr/local/lib/python3.5/dist-packages/numpy/core/_multiarray_umath.cpython-35m-x86_64-linux-gnu.so\r\n7f9758993000-7f97589b4000 rw-p 00000000 00:00 0 \r\n7f97589b4000-7f97589bb000 rw-p 01473000 08:11 1059064                    /usr/local/lib/python3.5/dist-packages/numpy/core/_multiarray_umath.cpython-35m-x86_64-linux-gnu.so\r\n7f97589bb000-7f97589e6000 r-xp 00000000 08:11 1060333                    /usr/local/lib/python3.5/dist-packages/rasterio/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f97589e6000-7f9758be5000 ---p 0002b000 08:11 1060333                    /usr/local/lib/python3.5/dist-packages/rasterio/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f9758be5000-7f9758be8000 rw-p 0002a000 08:11 1060333                    /usr/local/lib/python3.5/dist-packages/rasterio/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f9758be8000-7f9758be9000 rw-p 00000000 00:00 0 \r\n7f9758be9000-7f9758bed000 rw-p 0002e000 08:11 1060333                    /usr/local/lib/python3.5/dist-packages/rasterio/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f9758bed000-7f9758bfc000 r-xp 00000000 08:11 1060328                    /usr/local/lib/python3.5/dist-packages/rasterio/_err.cpython-35m-x86_64-linux-gnu.so\r\n7f9758bfc000-7f9758dfc000 ---p 0000f000 08:11 1060328                    /usr/local/lib/python3.5/dist-packages/rasterio/_err.cpython-35m-x86_64-linux-gnu.so\r\n7f9758dfc000-7f9758e01000 rw-p 0000f000 08:11 1060328                    /usr/local/lib/python3.5/dist-packages/rasterio/_err.cpython-35m-x86_64-linux-gnu.so\r\n7f9758e01000-7f9758e41000 rw-p 00000000 00:00 0 \r\n7f9758e41000-7f9758e49000 r-xp 00000000 08:11 1060280                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libaec-f0d4887b.so.0.0.10\r\n7f9758e49000-7f9759048000 ---p 00008000 08:11 1060280                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libaec-f0d4887b.so.0.0.10\r\n7f9759048000-7f9759049000 rw-p 00007000 08:11 1060280                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libaec-f0d4887b.so.0.0.10\r\n7f9759049000-7f975904a000 rw-p 00009000 08:11 1060280                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libaec-f0d4887b.so.0.0.10\r\n7f975904a000-7f975904c000 r-xp 00000000 08:11 1060296                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libsz-53d02de5.so.2.0.1\r\n7f975904c000-7f975924b000 ---p 00002000 08:11 1060296                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libsz-53d02de5.so.2.0.1\r\n7f975924b000-7f975924f000 rw-p 00001000 08:11 1060296                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libsz-53d02de5.so.2.0.1\r\n7f975924f000-7f975926f000 r-xp 00000000 08:11 1060287                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5_hl-92c1cdd8.so.100.1.2\r\n7f975926f000-7f975946f000 ---p 00020000 08:11 1060287                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5_hl-92c1cdd8.so.100.1.2\r\n7f975946f000-7f9759470000 rw-p 00020000 08:11 1060287                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5_hl-92c1cdd8.so.100.1.2\r\n7f9759470000-7f9759471000 rw-p 00000000 00:00 0 \r\n7f9759471000-7f975947d000 rw-p 00022000 08:11 1060287                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5_hl-92c1cdd8.so.100.1.2\r\n7f975947d000-7f9759826000 r-xp 00000000 08:11 1060286                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5-66e8dd7b.so.103.1.0\r\n7f9759826000-7f9759a25000 ---p 003a9000 08:11 1060286                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5-66e8dd7b.so.103.1.0\r\n7f9759a25000-7f9759a37000 rw-p 003a8000 08:11 1060286                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5-66e8dd7b.so.103.1.0\r\n7f9759a37000-7f9759a3a000 rw-p 00000000 00:00 0 \r\n7f9759a3a000-7f9759a8b000 rw-p 003ba000 08:11 1060286                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5-66e8dd7b.so.103.1.0\r\n7f9759a8b000-7f9759bc1000 r-xp 00000000 08:11 1060290                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libnetcdf-8080e985.so.11.0.4\r\n7f9759bc1000-7f9759dc0000 ---p 00136000 08:11 1060290                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libnetcdf-8080e985.so.11.0.4\r\n7f9759dc0000-7f9759e13000 rw-p 00135000 08:11 1060290                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libnetcdf-8080e985.so.11.0.4\r\n7f9759e13000-7f975ce21000 rw-p 00000000 00:00 0 \r\n7f975ce21000-7f975ce6c000 rw-p 00188000 08:11 1060290                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libnetcdf-8080e985.so.11.0.4\r\n7f975ce6c000-7f975cec4000 r-xp 00000000 08:11 1060292                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libopenjp2-8f6da918.so.2.3.0\r\n7f975cec4000-7f975d0c4000 ---p 00058000 08:11 1060292                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libopenjp2-8f6da918.so.2.3.0\r\n7f975d0c4000-7f975d0c8000 rw-p 00058000 08:11 1060292                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libopenjp2-8f6da918.so.2.3.0\r\n7f975d0c8000-7f975d0fb000 r-xp 00000000 08:11 1060282                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libexpat-09c47d4c.so.1.6.8\r\n7f975d0fb000-7f975d2fb000 ---p 00033000 08:11 1060282                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libexpat-09c47d4c.so.1.6.8\r\n7f975d2fb000-7f975d2fd000 rw-p 00033000 08:11 1060282                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libexpat-09c47d4c.so.1.6.8\r\n7f975d2fd000-7f975d2fe000 rw-p 00036000 08:11 1060282                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libexpat-09c47d4c.so.1.6.8\r\n7f975d2fe000-7f975d42b000 r-xp 00000000 08:11 1060295                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libsqlite3-fdd57a2d.so.0.8.6\r\n7f975d42b000-7f975d62a000 ---p 0012d000 08:11 1060295                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libsqlite3-fdd57a2d.so.0.8.6\r\n7f975d62a000-7f975d62f000 rw-p 0012c000 08:11 1060295                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libsqlite3-fdd57a2d.so.0.8.6\r\n7f975d62f000-7f975d630000 rw-p 00000000 00:00 0 \r\n7f975d630000-7f975d634000 rw-p 00132000 08:11 1060295                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libsqlite3-fdd57a2d.so.0.8.6\r\n7f975d634000-7f975d6f2000 r-xp 00000000 08:11 1060297                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libwebp-fbd93615.so.7.0.5\r\n7f975d6f2000-7f975d8f1000 ---p 000be000 08:11 1060297                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libwebp-fbd93615.so.7.0.5\r\n7f975d8f1000-7f975d8f2000 rw-p 000bd000 08:11 1060297                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libwebp-fbd93615.so.7.0.5\r\n7f975d8f2000-7f975d8f4000 rw-p 00000000 00:00 0 \r\n7f975d8f4000-7f975d8f5000 rw-p 000bf000 08:11 1060297                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libwebp-fbd93615.so.7.0.5\r\n7f975d8f5000-7f975e995000 r-xp 00000000 08:11 1060283                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4\r\n7f975e995000-7f975eb95000 ---p 010a0000 08:11 1060283                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4\r\n7f975eb95000-7f975ec95000 rw-p 010a0000 08:11 1060283                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4\r\n7f975ec95000-7f975ec9b000 rw-p 00000000 00:00 0 \r\n7f975ec9b000-7f975f1a9000 rw-p 011a1000 08:11 1060283                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4\r\n7f975f1a9000-7f975f219000 r-xp 00000000 08:11 1060325                    /usr/local/lib/python3.5/dist-packages/rasterio/_base.cpython-35m-x86_64-linux-gnu.so\r\n7f975f219000-7f975f418000 ---p 00070000 08:11 1060325                    /usr/local/lib/python3.5/dist-packages/rasterio/_base.cpython-35m-x86_64-linux-gnu.so\r\n7f975f418000-7f975f421000 rw-p 0006f000 08:11 1060325                    /usr/local/lib/python3.5/dist-packages/rasterio/_base.cpython-35m-x86_64-linux-gnu.so\r\n7f975f421000-7f975f423000 rw-p 00000000 00:00 0 \r\n7f975f423000-7f975f428000 rw-p 00079000 08:11 1060325                    /usr/local/lib/python3.5/dist-packages/rasterio/_base.cpython-35m-x86_64-linux-gnu.so\r\n7f975f428000-7f975f435000 r-xp 00000000 08:11 1058727                    /usr/local/lib/python3.5/dist-packages/fiona/_crs.cpython-35m-x86_64-linux-gnu.so\r\n7f975f435000-7f975f634000 ---p 0000d000 08:11 1058727                    /usr/local/lib/python3.5/dist-packages/fiona/_crs.cpython-35m-x86_64-linux-gnu.so\r\n7f975f634000-7f975f639000 rw-p 0000c000 08:11 1058727                    /usr/local/lib/python3.5/dist-packages/fiona/_crs.cpython-35m-x86_64-linux-gnu.so\r\n7f975f639000-7f975f679000 rw-p 00000000 00:00 0 \r\n7f975f679000-7f975f682000 r-xp 00000000 08:11 1058961                    /usr/local/lib/python3.5/dist-packages/fiona/schema.cpython-35m-x86_64-linux-gnu.so\r\n7f975f682000-7f975f881000 ---p 00009000 08:11 1058961                    /usr/local/lib/python3.5/dist-packages/fiona/schema.cpython-35m-x86_64-linux-gnu.so\r\n7f975f881000-7f975f886000 rw-p 00008000 08:11 1058961                    /usr/local/lib/python3.5/dist-packages/fiona/schema.cpython-35m-x86_64-linux-gnu.so\r\n7f975f886000-7f975f8c6000 rw-p 00000000 00:00 0 \r\n7f975f8c6000-7f975f8f8000 r-xp 00000000 08:11 1058728                    /usr/local/lib/python3.5/dist-packages/fiona/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f975f8f8000-7f975faf7000 ---p 00032000 08:11 1058728                    /usr/local/lib/python3.5/dist-packages/fiona/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f975faf7000-7f975fafb000 rw-p 00031000 08:11 1058728                    /usr/local/lib/python3.5/dist-packages/fiona/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f975fafb000-7f975fafc000 rw-p 00000000 00:00 0 \r\n7f975fafc000-7f975fb00000 rw-p 00036000 08:11 1058728                    /usr/local/lib/python3.5/dist-packages/fiona/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f975fb00000-7f975fb04000 r-xp 00000000 08:11 918736                     /lib/x86_64-linux-gnu/libuuid.so.1.3.0\r\n7f975fb04000-7f975fd03000 ---p 00004000 08:11 918736                     /lib/x86_64-linux-gnu/libuuid.so.1.3.0\r\n7f975fd03000-7f975fd04000 r--p 00003000 08:11 918736                     /lib/x86_64-linux-gnu/libuuid.so.1.3.0\r\n7f975fd04000-7f975fd05000 rw-p 00004000 08:11 918736                     /lib/x86_64-linux-gnu/libuuid.so.1.3.0\r\n7f975fd05000-7f975ff20000 r-xp 00000000 08:11 336098                     /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\r\n7f975ff20000-7f976011f000 ---p 0021b000 08:11 336098                     /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\r\n7f976011f000-7f976013b000 r--p 0021a000 08:11 336098                     /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\r\n7f976013b000-7f9760147000 rw-p 00236000 08:11 336098                     /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\r\n7f9760147000-7f976014a000 rw-p 00000000 00:00 0 \r\n7f976014a000-7f9760150000 r-xp 00000000 08:11 1071422                    /usr/lib/python3.5/lib-dynload/_hashlib.cpython-35m-x86_64-linux-gnu.so\r\n7f9760150000-7f976034f000 ---p 00006000 08:11 1071422                    /usr/lib/python3.5/lib-dynload/_hashlib.cpython-35m-x86_64-linux-gnu.so\r\n7f976034f000-7f9760350000 r--p 00005000 08:11 1071422                    /usr/lib/python3.5/lib-dynload/_hashlib.cpython-35m-x86_64-linux-gnu.so\r\n7f9760350000-7f9760351000 rw-p 00006000 08:11 1071422                    /usr/lib/python3.5/lib-dynload/_hashlib.cpython-35m-x86_64-linux-gnu.so\r\n7f9760351000-7f9760372000 r-xp 00000000 08:11 918670                     /lib/x86_64-linux-gnu/liblzma.so.5.0.0\r\n7f9760372000-7f9760571000 ---p 00021000 08:11 918670                     /lib/x86_64-linux-gnu/liblzma.so.5.0.0\r\n7f9760571000-7f9760572000 r--p 00020000 08:11 918670                     /lib/x86_64-linux-gnu/liblzma.so.5.0.0\r\n7f9760572000-7f9760573000 rw-p 00021000 08:11 918670                     /lib/x86_64-linux-gnu/liblzma.so.5.0.0\r\n7f9760573000-7f976057a000 r-xp 00000000 08:11 1071425                    /usr/lib/python3.5/lib-dynload/_lzma.cpython-35m-x86_64-linux-gnu.so\r\n7f976057a000-7f9760779000 ---p 00007000 08:11 1071425                    /usr/lib/python3.5/lib-dynload/_lzma.cpython-35m-x86_64-linux-gnu.so\r\n7f9760779000-7f976077a000 r--p 00006000 08:11 1071425                    /usr/lib/python3.5/lib-dynload/_lzma.cpython-35m-x86_64-linux-gnu.so\r\n7f976077a000-7f976077c000 rw-p 00007000 08:11 1071425                    /usr/lib/python3.5/lib-dynload/_lzma.cpython-35m-x86_64-linux-gnu.so\r\n7f976077c000-7f976078b000 r-xp 00000000 08:11 918638                     /lib/x86_64-linux-gnu/libbz2.so.1.0.4\r\n7f976078b000-7f976098a000 ---p 0000f000 08:11 918638                     /lib/x86_64-linux-gnu/libbz2.so.1.0.4\r\n7f976098a000-7f976098b000 r--p 0000e000 08:11 918638                     /lib/x86_64-linux-gnu/libbz2.so.1.0.4\r\n7f976098b000-7f976098c000 rw-p 0000f000 08:11 918638                     /lib/x86_64-linux-gnu/libbz2.so.1.0.4\r\n7f976098c000-7f9760990000 r-xp 00000000 08:11 1071407                    /usr/lib/python3.5/lib-dynload/_bz2.cpython-35m-x86_64-linux-gnu.so\r\n7f9760990000-7f9760b8f000 ---p 00004000 08:11 1071407                    /usr/lib/python3.5/lib-dynload/_bz2.cpython-35m-x86_64-linux-gnu.so\r\n7f9760b8f000-7f9760b90000 r--p 00003000 08:11 1071407                    /usr/lib/python3.5/lib-dynload/_bz2.cpython-35m-x86_64-linux-gnu.so\r\n7f9760b90000-7f9760b91000 rw-p 00004000 08:11 1071407                    /usr/lib/python3.5/lib-dynload/_bz2.cpython-35m-x86_64-linux-gnu.so\r\n7f9760b91000-7f9760c11000 rw-p 00000000 00:00 0 \r\n7f9760c11000-7f9760c33000 r-xp 00000000 08:11 1071416                    /usr/lib/python3.5/lib-dynload/_ctypes.cpython-35m-x86_64-linux-gnu.so\r\n7f9760c33000-7f9760e32000 ---p 00022000 08:11 1071416                    /usr/lib/python3.5/lib-dynload/_ctypes.cpython-35m-x86_64-linux-gnu.so\r\n7f9760e32000-7f9760e33000 r--p 00021000 08:11 1071416                    /usr/lib/python3.5/lib-dynload/_ctypes.cpython-35m-x86_64-linux-gnu.so\r\n7f9760e33000-7f9760e37000 rw-p 00022000 08:11 1071416                    /usr/lib/python3.5/lib-dynload/_ctypes.cpython-35m-x86_64-linux-gnu.so\r\n7f9760e37000-7f9760e78000 rw-p 00000000 00:00 0 \r\n7f9760e78000-7f9760e89000 r-xp 00000000 08:11 1071423                    /usr/lib/python3.5/lib-dynload/_json.cpython-35m-x86_64-linux-gnu.so\r\n7f9760e89000-7f9761088000 ---p 00011000 08:11 1071423                    /usr/lib/python3.5/lib-dynload/_json.cpython-35m-x86_64-linux-gnu.so\r\n7f9761088000-7f9761089000 r--p 00010000 08:11 1071423                    /usr/lib/python3.5/lib-dynload/_json.cpython-35m-x86_64-linux-gnu.so\r\n7f9761089000-7f976108a000 rw-p 00011000 08:11 1071423                    /usr/lib/python3.5/lib-dynload/_json.cpython-35m-x86_64-linux-gnu.so\r\n7f976108a000-7f976109e000 r-xp 00000000 08:11 1058729                    /usr/local/lib/python3.5/dist-packages/fiona/_err.cpython-35m-x86_64-linux-gnu.so\r\n7f976109e000-7f976129e000 ---p 00014000 08:11 1058729                    /usr/local/lib/python3.5/dist-packages/fiona/_err.cpython-35m-x86_64-linux-gnu.so\r\n7f976129e000-7f97612a0000 rw-p 00014000 08:11 1058729                    /usr/local/lib/python3.5/dist-packages/fiona/_err.cpython-35m-x86_64-linux-gnu.so\r\n7f97612a0000-7f97612a1000 rw-p 00000000 00:00 0 \r\n7f97612a1000-7f97612a4000 rw-p 00017000 08:11 1058729                    /usr/local/lib/python3.5/dist-packages/fiona/_err.cpython-35m-x86_64-linux-gnu.so\r\n7f97612a4000-7f97612b3000 r-xp 00000000 08:11 1058733                    /usr/local/lib/python3.5/dist-packages/fiona/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f97612b3000-7f97614b3000 ---p 0000f000 08:11 1058733                    /usr/local/lib/python3.5/dist-packages/fiona/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f97614b3000-7f97614b4000 rw-p 0000f000 08:11 1058733                    /usr/local/lib/python3.5/dist-packages/fiona/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f97614b4000-7f97614b7000 rw-p 00011000 08:11 1058733                    /usr/local/lib/python3.5/dist-packages/fiona/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f97614b7000-7f97614d8000 r-xp 00000000 08:11 1058730                    /usr/local/lib/python3.5/dist-packages/fiona/_geometry.cpython-35m-x86_64-linux-gnu.so\r\n7f97614d8000-7f97616d7000 ---p 00021000 08:11 1058730                    /usr/local/lib/python3.5/dist-packages/fiona/_geometry.cpython-35m-x86_64-linux-gnu.so\r\n7f97616d7000-7f97616df000 rw-p 00020000 08:11 1058730                    /usr/local/lib/python3.5/dist-packages/fiona/_geometry.cpython-35m-x86_64-linux-gnu.so\r\n7f97616df000-7f976170d000 r-xp 00000000 08:11 1058706                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libnghttp2-11cb20b8.so.14.17.1\r\n7f976170d000-7f976190c000 ---p 0002e000 08:11 1058706                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libnghttp2-11cb20b8.so.14.17.1\r\n7f976190c000-7f9761911000 rw-p 0002d000 08:11 1058706                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libnghttp2-11cb20b8.so.14.17.1\r\n7f9761911000-7f9761ad1000 r-xp 00000000 08:11 1058702                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgeos--no-undefined-b94097bf.so\r\n7f9761ad1000-7f9761cd0000 ---p 001c0000 08:11 1058702                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgeos--no-undefined-b94097bf.so\r\n7f9761cd0000-7f9761d35000 rw-p 001bf000 08:11 1058702                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgeos--no-undefined-b94097bf.so\r\n7f9761d35000-7f9761d4b000 r-xp 00000000 08:11 918660                     /lib/x86_64-linux-gnu/libgcc_s.so.1\r\n7f9761d4b000-7f9761f4a000 ---p 00016000 08:11 918660                     /lib/x86_64-linux-gnu/libgcc_s.so.1\r\n7f9761f4a000-7f9761f4b000 rw-p 00015000 08:11 918660                     /lib/x86_64-linux-gnu/libgcc_s.so.1\r\n7f9761f4b000-7f97620bd000 r-xp 00000000 08:11 919473                     /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7f97620bd000-7f97622bd000 ---p 00172000 08:11 919473                     /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7f97622bd000-7f97622c7000 r--p 00172000 08:11 919473                     /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7f97622c7000-7f97622c9000 rw-p 0017c000 08:11 919473                     /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7f97622c9000-7f97622cd000 rw-p 00000000 00:00 0 \r\n7f97622cd000-7f97625bf000 r-xp 00000000 08:11 1058699                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libcurl-ea538880.so.4.4.0\r\n7f97625bf000-7f97627bf000 ---p 002f2000 08:11 1058699                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libcurl-ea538880.so.4.4.0\r\n7f97627bf000-7f97627f6000 rw-p 002f2000 08:11 1058699                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libcurl-ea538880.so.4.4.0\r\n7f97627f6000-7f97627fb000 rw-p 00000000 00:00 0 \r\n7f97627fb000-7f9762846000 rw-p 0032a000 08:11 1058699                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libcurl-ea538880.so.4.4.0\r\n7f9762846000-7f976284d000 r-xp 00000000 08:11 918713                     /lib/x86_64-linux-gnu/librt-2.23.so\r\n7f976284d000-7f9762a4c000 ---p 00007000 08:11 918713                     /lib/x86_64-linux-gnu/librt-2.23.so\r\n7f9762a4c000-7f9762a4d000 r--p 00006000 08:11 918713                     /lib/x86_64-linux-gnu/librt-2.23.so\r\n7f9762a4d000-7f9762a4e000 rw-p 00007000 08:11 918713                     /lib/x86_64-linux-gnu/librt-2.23.so\r\n7f9762a4e000-7f9762a62000 r-xp 00000000 08:11 1058710                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libz-a147dcb0.so.1.2.3\r\n7f9762a62000-7f9762c61000 ---p 00014000 08:11 1058710                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libz-a147dcb0.so.1.2.3\r\n7f9762c61000-7f9762c62000 rw-p 00013000 08:11 1058710                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libz-a147dcb0.so.1.2.3\r\n7f9762c62000-7f9762c63000 rw-p 00015000 08:11 1058710                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libz-a147dcb0.so.1.2.3\r\n7f9762c63000-7f9762ca4000 r-xp 00000000 08:11 1058707                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libpng16-898afbbd.so.16.35.0\r\n7f9762ca4000-7f9762ea3000 ---p 00041000 08:11 1058707                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libpng16-898afbbd.so.16.35.0\r\n7f9762ea3000-7f9762ea8000 rw-p 00040000 08:11 1058707                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libpng16-898afbbd.so.16.35.0\r\n7f9762ea8000-7f9762ef9000 r-xp 00000000 08:11 1058704                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjpeg-3fe7dfc0.so.9.3.0\r\n7f9762ef9000-7f97630f9000 ---p 00051000 08:11 1058704                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjpeg-3fe7dfc0.so.9.3.0\r\n7f97630f9000-7f97630fa000 rw-p 00051000 08:11 1058704                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjpeg-3fe7dfc0.so.9.3.0\r\n7f97630fa000-7f97630fc000 rw-p 00053000 08:11 1058704                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjpeg-3fe7dfc0.so.9.3.0\r\n7f97630fc000-7f9763123000 r-xp 00000000 08:11 1058700                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libexpat-c4a93fc7.so.1.6.8\r\n7f9763123000-7f9763323000 ---p 00027000 08:11 1058700                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libexpat-c4a93fc7.so.1.6.8\r\n7f9763323000-7f9763325000 rw-p 00027000 08:11 1058700                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libexpat-c4a93fc7.so.1.6.8\r\n7f9763325000-7f9763326000 rw-p 0002a000 08:11 1058700                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libexpat-c4a93fc7.so.1.6.8\r\n7f9763326000-7f9763453000 r-xp 00000000 08:11 1058709                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libsqlite3-25a4bc97.so.0.8.6\r\n7f9763453000-7f9763652000 ---p 0012d000 08:11 1058709                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libsqlite3-25a4bc97.so.0.8.6\r\n7f9763652000-7f9763657000 rw-p 0012c000 08:11 1058709                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libsqlite3-25a4bc97.so.0.8.6\r\n7f9763657000-7f9763658000 rw-p 00000000 00:00 0 \r\n7f9763658000-7f976365a000 rw-p 00132000 08:11 1058709                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libsqlite3-25a4bc97.so.0.8.6\r\n7f976365a000-7f9763695000 r-xp 00000000 08:11 1058703                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgeos_c-a68605fd.so.1.13.1\r\n7f9763695000-7f9763895000 ---p 0003b000 08:11 1058703                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgeos_c-a68605fd.so.1.13.1\r\n7f9763895000-7f9763897000 rw-p 0003b000 08:11 1058703                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgeos_c-a68605fd.so.1.13.1\r\n7f9763897000-7f97638b0000 rw-p 0003e000 08:11 1058703                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgeos_c-a68605fd.so.1.13.1\r\n7f97638b0000-7f97638bd000 r-xp 00000000 08:11 1058705                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjson-c-5f02f62c.so.2.0.2\r\n7f97638bd000-7f9763abc000 ---p 0000d000 08:11 1058705                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjson-c-5f02f62c.so.2.0.2\r\n7f9763abc000-7f9763abd000 rw-p 0000c000 08:11 1058705                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjson-c-5f02f62c.so.2.0.2\r\n7f9763abd000-7f9763abe000 rw-p 0000e000 08:11 1058705                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjson-c-5f02f62c.so.2.0.2\r\n7f9763abe000-7f9763b23000 r-xp 00000000 08:11 1058708                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libproj-cd06b982.so.12.0.0\r\n7f9763b23000-7f9763d23000 ---p 00065000 08:11 1058708                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libproj-cd06b982.so.12.0.0\r\n7f9763d23000-7f9763d27000 rw-p 00065000 08:11 1058708                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libproj-cd06b982.so.12.0.0\r\n7f9763d27000-7f9763d2c000 rw-p 0006a000 08:11 1058708                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libproj-cd06b982.so.12.0.0\r\n7f9763d2c000-7f9764d68000 r-xp 00000000 08:11 1058701                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4\r\n7f9764d68000-7f9764f68000 ---p 0103c000 08:11 1058701                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4\r\n7f9764f68000-7f9765065000 rw-p 0103c000 08:11 1058701                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4\r\n7f9765065000-7f976506a000 rw-p 00000000 00:00 0 \r\n7f976506a000-7f9765410000 rw-p 01139000 08:11 1058701                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4\r\n7f9765410000-7f976548a000 r-xp 00000000 08:11 1058927                    /usr/local/lib/python3.5/dist-packages/fiona/ogrext.cpython-35m-x86_64-linux-gnu.so\r\n7f976548a000-7f9765689000 ---p 0007a000 08:11 1058927                    /usr/local/lib/python3.5/dist-packages/fiona/ogrext.cpython-35m-x86_64-linux-gnu.so\r\n7f9765689000-7f9765691000 rw-p 00079000 08:11 1058927                    /usr/local/lib/python3.5/dist-packages/fiona/ogrext.cpython-35m-x86_64-linux-gnu.so\r\n7f9765691000-7f9765693000 rw-p 00000000 00:00 0 \r\n7f9765693000-7f9765699000 rw-p 00082000 08:11 1058927                    /usr/local/lib/python3.5/dist-packages/fiona/ogrext.cpython-35m-x86_64-linux-gnu.so\r\n7f9765699000-7f97656d9000 rw-p 00000000 00:00 0 \r\n7f97656d9000-7f97656da000 r-xp 00000000 08:11 1071428                    /usr/lib/python3.5/lib-dynload/_opcode.cpython-35m-x86_64-linux-gnu.so\r\n7f97656da000-7f97658d9000 ---p 00001000 08:11 1071428                    /usr/lib/python3.5/lib-dynload/_opcode.cpython-35m-x86_64-linux-gnu.so\r\n7f97658d9000-7f97658da000 r--p 00000000 08:11 1071428                    /usr/lib/python3.5/lib-dynload/_opcode.cpython-35m-x86_64-linux-gnu.so\r\n7f97658da000-7f97658db000 rw-p 00001000 08:11 1071428                    /usr/lib/python3.5/lib-dynload/_opcode.cpython-35m-x86_64-linux-gnu.so\r\n7f97658db000-7f976599b000 rw-p 00000000 00:00 0 \r\n7f97659bc000-7f9765afc000 rw-p 00000000 00:00 0 \r\n7f9765b2d000-7f9765c6d000 rw-p 00000000 00:00 0 \r\n7f9765c6d000-7f9765d75000 r-xp 00000000 08:11 918671                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7f9765d75000-7f9765f74000 ---p 00108000 08:11 918671                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7f9765f74000-7f9765f75000 r--p 00107000 08:11 918671                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7f9765f75000-7f9765f76000 rw-p 00108000 08:11 918671                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7f9765f76000-7f9765f8f000 r-xp 00000000 08:11 918738                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7f9765f8f000-7f976618e000 ---p 00019000 08:11 918738                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7f976618e000-7f976618f000 r--p 00018000 08:11 918738                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7f976618f000-7f9766190000 rw-p 00019000 08:11 918738                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7f9766190000-7f97661b6000 r-xp 00000000 08:11 336102                     /lib/x86_64-linux-gnu/libexpat.so.1.6.0\r\n7f97661b6000-7f97663b6000 ---p 00026000 08:11 336102                     /lib/x86_64-linux-gnu/libexpat.so.1.6.0\r\n7f97663b6000-7f97663b8000 r--p 00026000 08:11 336102                     /lib/x86_64-linux-gnu/libexpat.so.1.6.0\r\n7f97663b8000-7f97663b9000 rw-p 00028000 08:11 336102                     /lib/x86_64-linux-gnu/libexpat.so.1.6.0\r\n7f97663b9000-7f97663bb000 r-xp 00000000 08:11 918733                     /lib/x86_64-linux-gnu/libutil-2.23.so\r\n7f97663bb000-7f97665ba000 ---p 00002000 08:11 918733                     /lib/x86_64-linux-gnu/libutil-2.23.so\r\n7f97665ba000-7f97665bb000 r--p 00001000 08:11 918733                     /lib/x86_64-linux-gnu/libutil-2.23.so\r\n7f97665bb000-7f97665bc000 rw-p 00002000 08:11 918733                     /lib/x86_64-linux-gnu/libutil-2.23.so\r\n7f97665bc000-7f97665bf000 r-xp 00000000 08:11 918652                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7f97665bf000-7f97667be000 ---p 00003000 08:11 918652                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7f97667be000-7f97667bf000 r--p 00002000 08:11 918652                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7f97667bf000-7f97667c0000 rw-p 00003000 08:11 918652                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7f97667c0000-7f9766980000 r-xp 00000000 08:11 918639                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7f9766980000-7f9766b80000 ---p 001c0000 08:11 918639                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7f9766b80000-7f9766b84000 r--p 001c0000 08:11 918639                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7f9766b84000-7f9766b86000 rw-p 001c4000 08:11 918639                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7f9766b86000-7f9766b8a000 rw-p 00000000 00:00 0 \r\n7f9766b8a000-7f9766ba2000 r-xp 00000000 08:11 918707                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7f9766ba2000-7f9766da1000 ---p 00018000 08:11 918707                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7f9766da1000-7f9766da2000 r--p 00017000 08:11 918707                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7f9766da2000-7f9766da3000 rw-p 00018000 08:11 918707                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7f9766da3000-7f9766da7000 rw-p 00000000 00:00 0 \r\n7f9766da7000-7f9766dcd000 r-xp 00000000 08:11 918619                     /lib/x86_64-linux-gnu/ld-2.23.so\r\n7f9766dda000-7f9766ddb000 rw-p 00000000 00:00 0 \r\n7f9766ddb000-7f9766ddc000 rwxp 00000000 00:00 0 \r\n7f9766ddc000-7f9766e1c000 rw-p 00000000 00:00 0 \r\n7f9766e1c000-7f9766e43000 r--p 00000000 08:11 919136                     /usr/lib/locale/C.UTF-8/LC_CTYPE\r\n7f9766e43000-7f9766e44000 r--p 00000000 08:11 919142                     /usr/lib/locale/C.UTF-8/LC_NUMERIC\r\n7f9766e44000-7f9766e45000 r--p 00000000 08:11 919145                     /usr/lib/locale/C.UTF-8/LC_TIME\r\n7f9766e45000-7f9766fb7000 r--p 00000000 08:11 919135                     /usr/lib/locale/C.UTF-8/LC_COLLATE\r\n7f9766fb7000-7f9766fb8000 r--p 00000000 08:11 919140                     /usr/lib/locale/C.UTF-8/LC_MONETARY\r\n7f9766fb8000-7f9766fb9000 r--p 00000000 08:11 919139                     /usr/lib/locale/C.UTF-8/LC_MESSAGES/SYS_LC_MESSAGES\r\n7f9766fb9000-7f9766fba000 r--p 00000000 08:11 919143                     /usr/lib/locale/C.UTF-8/LC_PAPER\r\n7f9766fba000-7f9766fbb000 r--p 00000000 08:11 919141                     /usr/lib/locale/C.UTF-8/LC_NAME\r\n7f9766fbb000-7f9766fc2000 r--s 00000000 08:11 919441                     /usr/lib/x86_64-linux-gnu/gconv/gconv-modules.cache\r\n7f9766fc2000-7f9766fc8000 rw-p 00000000 00:00 0 \r\n7f9766fc8000-7f9766fc9000 r--p 00000000 08:11 919134                     /usr/lib/locale/C.UTF-8/LC_ADDRESS\r\n7f9766fc9000-7f9766fca000 r--p 00000000 08:11 919144                     /usr/lib/locale/C.UTF-8/LC_TELEPHONE\r\n7f9766fca000-7f9766fcb000 r--p 00000000 08:11 919138                     /usr/lib/locale/C.UTF-8/LC_MEASUREMENT\r\n7f9766fcb000-7f9766fcc000 r--p 00000000 08:11 919137                     /usr/lib/locale/C.UTF-8/LC_IDENTIFICATION\r\n7f9766fcc000-7f9766fcd000 r--p 00025000 08:11 918619                     /lib/x86_64-linux-gnu/ld-2.23.so\r\n7f9766fcd000-7f9766fce000 rw-p 00026000 08:11 918619                     /lib/x86_64-linux-gnu/ld-2.23.so\r\n7f9766fce000-7f9766fcf000 rw-p 00000000 00:00 0 \r\n7fff2e3a4000-7fff2e3c5000 rw-p 00000000 00:00 0                          [stack]\r\n7fff2e3c7000-7fff2e3ca000 r--p 00000000 00:00 0                          [vvar]\r\n7fff2e3ca000-7fff2e3cc000 r-xp 00000000 00:00 0                          [vdso]\r\nffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]\r\nAborted (core dumped)\r\n```\r\n\r\n</details>\r\n\r\nThere are a few conditions needed for the issue to pop up:\r\n* Only occurs when fiona is imported before rasterio, the other way around or not importing fiona does not seem to lead to the error\r\n* Multihreading is needed\r\n* Only occurs for very large images that are (almost) completely white. I have not been able to reproduce it with \"regular\" images\r\n* Only occurs in certain environments, even holding the rasterio and fiona version constant. E.g. does not occur on my ubuntu 18.04. (See docker image below)\r\n\r\n## Steps to reproduce the problem.\r\nI can reproduce the problem about 80% of the time with the following script:\r\n```python\r\nimport fiona\r\nimport rasterio as rio\r\nfrom multiprocessing.pool import ThreadPool as Pool\r\n\r\ndef read(file):\r\n    with rio.open(file, sharing=False) as src:\r\n        print(\"starting to read\", flush=True)\r\n        src.read(window=((0, 5000), (0, 5000)))\r\n        print(\"done reading\", flush=True)\r\n\r\nfailing = \"/vsicurl/https://storage.googleapis.com/temporary_eu_west_4/mostly_white.tif\"\r\n\r\npool = Pool(4)\r\npool.map(read, [failing]*4)\r\npool.close()\r\npool.join()\r\n```\r\nUsing the following docker image:\r\n```\r\nFROM ubuntu:16.04\r\n\r\nENV CURL_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt\r\nENV LC_ALL=C.UTF-8\r\nENV LANG=C.UTF-8\r\n\r\nRUN apt-get update -y && apt-get install -y python3-pip \r\n\r\nRUN pip3 install fiona==1.8.13.post1 rasterio==1.1.3\r\n```\r\nBuilt image available here: `mengelhard/rasterio_issue:latest`\r\n\r\n## Rasterio version and provenance\r\nrasterio-1.1.3-cp35-cp35m-manylinux1_x86_64.whl\r\nFiona-1.8.13.post1-cp35-cp35m-manylinux1_x86_64.whl\r\n\r\nWe had the same issue with raterio 1.1.2, but the above script does not seem to be able to reproduce it in this case.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1876/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1874", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1874/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1874/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1874/events", "html_url": "https://github.com/rasterio/rasterio/pull/1874", "id": 570631905, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzc5NjM0MDU5", "number": 1874, "title": "Fix SyntaxWarning", "user": {"login": "sebastic", "id": 4605306, "node_id": "MDQ6VXNlcjQ2MDUzMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/4605306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebastic", "html_url": "https://github.com/sebastic", "followers_url": "https://api.github.com/users/sebastic/followers", "following_url": "https://api.github.com/users/sebastic/following{/other_user}", "gists_url": "https://api.github.com/users/sebastic/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebastic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebastic/subscriptions", "organizations_url": "https://api.github.com/users/sebastic/orgs", "repos_url": "https://api.github.com/users/sebastic/repos", "events_url": "https://api.github.com/users/sebastic/events{/privacy}", "received_events_url": "https://api.github.com/users/sebastic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/96", "html_url": "https://github.com/rasterio/rasterio/milestone/96", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/96/labels", "id": 5140600, "node_id": "MDk6TWlsZXN0b25lNTE0MDYwMA==", "number": 96, "title": "1.1.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2020-02-25T17:43:47Z", "updated_at": "2020-05-07T17:21:02Z", "due_on": null, "closed_at": "2020-05-07T17:21:02Z"}, "comments": 0, "created_at": "2020-02-25T15:00:17Z", "updated_at": "2020-02-25T18:14:31Z", "closed_at": "2020-02-25T17:38:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1874", "html_url": "https://github.com/rasterio/rasterio/pull/1874", "diff_url": "https://github.com/rasterio/rasterio/pull/1874.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1874.patch", "merged_at": "2020-02-25T17:38:45Z"}, "body": "With Python 3.8 the following `SyntaxWarning` is shown:\r\n```\r\nSyntaxWarning: \"is\" with a literal. Did you mean \"==\"?\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1874/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1874/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1871", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1871/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1871/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1871/events", "html_url": "https://github.com/rasterio/rasterio/pull/1871", "id": 569213148, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzc4NDk2NjU1", "number": 1871, "title": "Don't tamper with alpha values between 0 and 255", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/94", "html_url": "https://github.com/rasterio/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 2, "created_at": "2020-02-21T22:19:02Z", "updated_at": "2020-02-25T01:17:57Z", "closed_at": "2020-02-24T23:46:25Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1871", "html_url": "https://github.com/rasterio/rasterio/pull/1871", "diff_url": "https://github.com/rasterio/rasterio/pull/1871.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1871.patch", "merged_at": "2020-02-24T23:46:25Z"}, "body": "Also clean up code in dataset_mask", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1871/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1868", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1868/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1868/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1868/events", "html_url": "https://github.com/rasterio/rasterio/issues/1868", "id": 564358527, "node_id": "MDU6SXNzdWU1NjQzNTg1Mjc=", "number": 1868, "title": "Move session class choosing logic out of rasterio.env", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/94", "html_url": "https://github.com/rasterio/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 1, "created_at": "2020-02-13T00:12:21Z", "updated_at": "2020-02-24T21:25:11Z", "closed_at": "2020-02-24T21:25:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As I was monkeypatching imports of boto3 in [both rasterio.session and rasterio.env in a test](https://github.com/mapbox/rasterio/blob/0c7a2e2d4eb04e238e84efbe821db07e6cb49ab1/tests/test_env.py#L332-L333), I realized that rasterio.env should delegate to the session module and Session class more than it does. Our current situation is complicated and messy.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1868/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1868/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1866", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1866/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1866/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1866/events", "html_url": "https://github.com/rasterio/rasterio/pull/1866", "id": 563543691, "node_id": "MDExOlB1bGxSZXF1ZXN0MzczOTI1NzMx", "number": 1866, "title": "Rewrite path parsing logic to handle \"SENTINEL2_L1C:\" paths", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-11T22:34:43Z", "updated_at": "2020-02-12T14:54:05Z", "closed_at": "2020-02-12T02:32:06Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1866", "html_url": "https://github.com/rasterio/rasterio/pull/1866", "diff_url": "https://github.com/rasterio/rasterio/pull/1866.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1866.patch", "merged_at": "2020-02-12T02:32:06Z"}, "body": "Resolves #1786\r\n\r\nHas a small consequence for the CLI file_in_handler: we can no longer fail early on some kinds of given paths.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1866/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1863", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1863/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1863/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1863/events", "html_url": "https://github.com/rasterio/rasterio/issues/1863", "id": 557662992, "node_id": "MDU6SXNzdWU1NTc2NjI5OTI=", "number": 1863, "title": "segfault from windowed boundless read of VRT with shared=\"0\" set", "user": {"login": "tovogt", "id": 57705593, "node_id": "MDQ6VXNlcjU3NzA1NTkz", "avatar_url": "https://avatars.githubusercontent.com/u/57705593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tovogt", "html_url": "https://github.com/tovogt", "followers_url": "https://api.github.com/users/tovogt/followers", "following_url": "https://api.github.com/users/tovogt/following{/other_user}", "gists_url": "https://api.github.com/users/tovogt/gists{/gist_id}", "starred_url": "https://api.github.com/users/tovogt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tovogt/subscriptions", "organizations_url": "https://api.github.com/users/tovogt/orgs", "repos_url": "https://api.github.com/users/tovogt/repos", "events_url": "https://api.github.com/users/tovogt/events{/privacy}", "received_events_url": "https://api.github.com/users/tovogt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/94", "html_url": "https://github.com/rasterio/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 2, "created_at": "2020-01-30T18:07:50Z", "updated_at": "2020-02-13T20:55:31Z", "closed_at": "2020-02-13T20:55:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "##  Expected behavior and actual behavior.\r\n\r\nI expected to read a windowed (important!) band with `boundless=True` (important!) from a VRT dataset that has the `shared=\"0\"` (important!) option set and a segmentation fault occurred.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nExecute this script:\r\n```\r\nimport rasterio\r\nimport rasterio.windows\r\nfrom rasterio.transform import Affine\r\nimport numpy as np\r\n\r\nout_meta = {\r\n    'driver': 'GTiff',\r\n    'width': 10,\r\n    'height': 10,\r\n    'count': 1,\r\n    'dtype': 'int8',\r\n    'crs': '+proj=latlong',\r\n    'transform': Affine.scale(2,-2),\r\n}\r\nwith rasterio.open(\"data.tif\", \"w\", **out_meta) as f:\r\n    f.write_band(1, np.zeros((10,10), dtype=np.int8))\r\n\r\nwith open(\"data.vrt\", \"w\") as f:\r\n    f.write(\"\"\"<VRTDataset rasterXSize=\"10\" rasterYSize=\"10\">\r\n  <SRS dataAxisToSRSAxisMapping=\"2,1\">GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AXIS[\"Latitude\",NORTH],AXIS[\"Longitude\",EAST],AUTHORITY[\"EPSG\",\"4326\"]]</SRS>\r\n  <GeoTransform>  0.0000000000000000e+00,  2.0000000000000000e+00,  0.0000000000000000e+00,  0.0000000000000000e+00,  0.0000000000000000e+00, -2.0000000000000000e+00</GeoTransform>\r\n  <VRTRasterBand dataType=\"Byte\" band=\"1\">\r\n    <ColorInterp>Gray</ColorInterp>\r\n    <SimpleSource>\r\n      <SourceFilename relativeToVRT=\"1\" shared=\"0\">data.tif</SourceFilename>\r\n      <SourceBand>1</SourceBand>\r\n      <SourceProperties RasterXSize=\"10\" RasterYSize=\"10\" DataType=\"Byte\" BlockXSize=\"10\" BlockYSize=\"10\" />\r\n      <SrcRect xOff=\"0\" yOff=\"0\" xSize=\"10\" ySize=\"10\" />\r\n      <DstRect xOff=\"0\" yOff=\"0\" xSize=\"10\" ySize=\"10\" />\r\n    </SimpleSource>\r\n  </VRTRasterBand>\r\n</VRTDataset>\"\"\")\r\n\r\nfor i in range(10000):\r\n    with rasterio.open(\"data.vrt\", 'r') as cdem:\r\n        win = rasterio.windows.Window(col_off=0, row_off=0, width=1, height=1)\r\n        cdem.read(indexes=1, window=win, boundless=True)\r\n    print(i, end=\"\\r\")\r\n```\r\nAfter 1000-2000 reads, execution will be interrupted due to a segmentation fault. Here is a backtrace:\r\n\r\n```\r\n$ gdb python\r\nGNU gdb (Ubuntu 8.1-0ubuntu3.2) 8.1.0.20180409-git\r\nCopyright (C) 2018 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-linux-gnu\".\r\nType \"show configuration\" for configuration details.\r\nFor bug reporting instructions, please see:\r\n<http://www.gnu.org/software/gdb/bugs/>.\r\nFind the GDB manual and other documentation resources online at:\r\n<http://www.gnu.org/software/gdb/documentation/>.\r\nFor help, type \"help\".\r\nType \"apropos word\" to search for commands related to \"word\"...\r\nReading symbols from python...done.\r\n(gdb) run test.py\r\nStarting program: /home/tovogt/.local/share/miniconda3/envs/dem/bin/python test.py\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n[New Thread 0x7fffea032700 (LWP 4306)]\r\n[New Thread 0x7fffe9831700 (LWP 4307)]\r\n[New Thread 0x7fffe5030700 (LWP 4311)]\r\n[New Thread 0x7fffe482f700 (LWP 4316)]\r\n[New Thread 0x7fffe002e700 (LWP 4317)]\r\n[New Thread 0x7fffdf82d700 (LWP 4323)]\r\n[New Thread 0x7fffdb02c700 (LWP 4324)]\r\n54\r\nThread 1 \"python\" received signal SIGSEGV, Segmentation fault.\r\n0x00007ffff58367d8 in GDALDatasetPool::_CloseDataset(char const*, GDALAccess, char const*) () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n(gdb) backtrace\r\n#0  0x00007ffff58367d8 in GDALDatasetPool::_CloseDataset(char const*, GDALAccess, char const*) () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#1  0x00007ffff5836d85 in GDALDatasetPool::CloseDataset(char const*, GDALAccess, char const*) () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#2  0x00007ffff5836eb6 in GDALProxyPoolDataset::~GDALProxyPoolDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#3  0x00007ffff5836eea in GDALProxyPoolDataset::~GDALProxyPoolDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#4  0x00007ffff57f9ae8 in GDALDataset::ReleaseRef() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#5  0x00007ffff577a037 in VRTSimpleSource::~VRTSimpleSource() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#6  0x00007ffff577a04a in VRTSimpleSource::~VRTSimpleSource() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#7  0x00007ffff577640f in VRTSourcedRasterBand::CloseDependentDatasets() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#8  0x00007ffff5776478 in VRTSourcedRasterBand::~VRTSourcedRasterBand() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#9  0x00007ffff57764ba in VRTSourcedRasterBand::~VRTSourcedRasterBand() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#10 0x00007ffff57ff2c8 in GDALDataset::~GDALDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#11 0x00007ffff576202a in VRTDataset::~VRTDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#12 0x00007ffff58363f2 in GDALDatasetPool::~GDALDatasetPool() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#13 0x00007ffff5836aa9 in GDALDatasetPool::Unref() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#14 0x00007ffff5836e76 in GDALProxyPoolDataset::~GDALProxyPoolDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#15 0x00007ffff5836eea in GDALProxyPoolDataset::~GDALProxyPoolDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#16 0x00007ffff57f9ae8 in GDALDataset::ReleaseRef() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#17 0x00007ffff577a037 in VRTSimpleSource::~VRTSimpleSource() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#18 0x00007ffff577a04a in VRTSimpleSource::~VRTSimpleSource() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#19 0x00007ffff577640f in VRTSourcedRasterBand::CloseDependentDatasets() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#20 0x00007ffff5776478 in VRTSourcedRasterBand::~VRTSourcedRasterBand() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#21 0x00007ffff57764ba in VRTSourcedRasterBand::~VRTSourcedRasterBand() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#22 0x00007ffff57ff2c8 in GDALDataset::~GDALDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#23 0x00007ffff576202a in VRTDataset::~VRTDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#24 0x00007ffff6227a5a in __pyx_pw_8rasterio_5_base_11DatasetBase_15stop () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/_base.cpython-37m-x86_64-linux-gnu.so\r\n#25 0x00007ffff626422e in __pyx_pw_8rasterio_5_base_11DatasetBase_17close () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/_base.cpython-37m-x86_64-linux-gnu.so\r\n#26 0x00007ffff622af62 in __Pyx_PyObject_CallNoArg () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/_base.cpython-37m-x86_64-linux-gnu.so\r\n#27 0x00007ffff626081b in __pyx_pw_8rasterio_5_base_11DatasetBase_21__exit__ () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/_base.cpython-37m-x86_64-linux-gnu.so\r\n#28 0x000055555568ca55 in _PyMethodDef_RawFastCallDict () at /tmp/build/80754af9/python_1578510683607/work/Objects/call.c:515\r\n#29 0x000055555568cbd1 in _PyCFunction_FastCallDict (func=0x7fffd5e9cfa0, args=<optimized out>, nargs=<optimized out>, kwargs=<optimized out>) at /tmp/build/80754af9/python_1578510683607/work/Objects/call.c:586\r\n#30 0x0000555555716bf1 in _PyEval_EvalFrameDefault () at /tmp/build/80754af9/python_1578510683607/work/Python/ceval.c:2998\r\n#31 0x000055555566e6f9 in _PyEval_EvalCodeWithName () at /tmp/build/80754af9/python_1578510683607/work/Python/ceval.c:3930\r\n#32 0x000055555566f5f4 in PyEval_EvalCodeEx () at /tmp/build/80754af9/python_1578510683607/work/Python/ceval.c:3959\r\n#33 0x000055555566f61c in PyEval_EvalCode (co=<optimized out>, globals=<optimized out>, locals=<optimized out>) at /tmp/build/80754af9/python_1578510683607/work/Python/ceval.c:524\r\n#34 0x0000555555770974 in run_mod () at /tmp/build/80754af9/python_1578510683607/work/Python/pythonrun.c:1035\r\n#35 0x000055555577acf1 in PyRun_FileExFlags () at /tmp/build/80754af9/python_1578510683607/work/Python/pythonrun.c:988\r\n#36 0x000055555577aee3 in PyRun_SimpleFileExFlags () at /tmp/build/80754af9/python_1578510683607/work/Python/pythonrun.c:429\r\n#37 0x000055555577bf95 in pymain_run_file (p_cf=0x7fffffffd910, filename=0x5555558b28e0 L\"test.py\", fp=0x5555558fc110) at /tmp/build/80754af9/python_1578510683607/work/Modules/main.c:434\r\n#38 pymain_run_filename (cf=0x7fffffffd910, pymain=0x7fffffffda20) at /tmp/build/80754af9/python_1578510683607/work/Modules/main.c:1613\r\n#39 pymain_run_python (pymain=0x7fffffffda20) at /tmp/build/80754af9/python_1578510683607/work/Modules/main.c:2874\r\n#40 pymain_main () at /tmp/build/80754af9/python_1578510683607/work/Modules/main.c:3414\r\n#41 0x000055555577c0bc in _Py_UnixMain () at /tmp/build/80754af9/python_1578510683607/work/Modules/main.c:3449\r\n#42 0x00007ffff77e6b97 in __libc_start_main (main=0x5555556500a0 <main>, argc=2, argv=0x7fffffffdb78, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7fffffffdb68)\r\n    at ../csu/libc-start.c:310\r\n#43 0x0000555555724990 in _start () at ../sysdeps/x86_64/elf/start.S:103\r\n```\r\n\r\nI am aware that this script is very artificial. In my case, I was looping over the blocks of one file. In each iteration, I was making boundless windowed reads from other VRT datasets that have the `shared=\"0\"` option set. The execution stopped after some time with a segmentation fault. After a while, I was able to boil it down to the above minimal example. My guess is, that there is a race condition somewhere in the garbage collection.\r\n\r\n## Operating system\r\n\r\nUbuntu 18.04\r\n\r\n## Rasterio version and provenance\r\n\r\nVersion 1.1.0 (py37h41e4f33_0) from conda.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1863/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1863/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1857", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1857/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1857/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1857/events", "html_url": "https://github.com/rasterio/rasterio/issues/1857", "id": 547734706, "node_id": "MDU6SXNzdWU1NDc3MzQ3MDY=", "number": 1857, "title": "Make transform arg of from_bounds required again", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/94", "html_url": "https://github.com/rasterio/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 2, "created_at": "2020-01-09T21:30:45Z", "updated_at": "2020-01-09T22:47:23Z", "closed_at": "2020-01-09T22:13:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "rasterio.windows.from_bounds() effectively requires a transform arg, but doesn't advertise this fact. The bug was reported in https://rasterio.groups.io/g/main/message/403.\r\n\r\nLooking back, the function did at one time have transform as a positional and required argument, but I changed that for no particular reason in https://github.com/mapbox/rasterio/commit/361112e825c5f85e8e82ef07c96baaffea1beaaa#diff-8a1766c9af87dbbc4c886979ce3e77deR184. We can revert this.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1857/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1857/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1856", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1856/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1856/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1856/events", "html_url": "https://github.com/rasterio/rasterio/issues/1856", "id": 546942854, "node_id": "MDU6SXNzdWU1NDY5NDI4NTQ=", "number": 1856, "title": "`dataset_mask` return data as int64", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/94", "html_url": "https://github.com/rasterio/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 3, "created_at": "2020-01-08T15:45:02Z", "updated_at": "2020-02-14T15:02:40Z", "closed_at": "2020-02-14T15:02:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "First reported in https://github.com/cogeotiff/rio-cogeo/issues/115\r\n\r\nSince rasterio >= 1.1.2 [`rasterio._io.DatasetReaderBase. dataset_mask`](https://github.com/mapbox/rasterio/blob/master/rasterio/_io.pyx#L714) is returning data array as `int64` when using internal nodata. \r\nThe problem is then when we want to write this array back to a dataset, we will get `rasterio._shim.io_band KeyError: 'int64'` because int64 is not a supported data type (in rasterio nor GDAL).\r\n\r\n```\r\nimport rasterio\r\n\r\nprint(rasterio.__version__)\r\n\r\nwith rasterio.open(\"https://raw.githubusercontent.com/cogeotiff/rio-cogeo/master/tests/fixtures/image_missing_nodata.tif\") as src_dst:\r\n    print(f\"Dataset type: {src_dst.dtypes}\")\r\n    \r\n    arr = src_dst.read()\r\n    print(f\"Data type: {arr.dtype}\")\r\n    \r\n    mask = src_dst.dataset_mask()\r\n    print(f\"Mask type: {mask.dtype}\")\r\n\r\n1.1.2\r\nDataset type: ('int16',)\r\nData type: int16\r\nMask type: int64\r\n```\r\n\r\ncc @sgillies ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1856/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1856/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1849", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1849/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1849/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1849/events", "html_url": "https://github.com/rasterio/rasterio/issues/1849", "id": 537937271, "node_id": "MDU6SXNzdWU1Mzc5MzcyNzE=", "number": 1849, "title": "Add out_dtype parameter to WarpedVRT", "user": {"login": "AliFlux", "id": 8333794, "node_id": "MDQ6VXNlcjgzMzM3OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8333794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AliFlux", "html_url": "https://github.com/AliFlux", "followers_url": "https://api.github.com/users/AliFlux/followers", "following_url": "https://api.github.com/users/AliFlux/following{/other_user}", "gists_url": "https://api.github.com/users/AliFlux/gists{/gist_id}", "starred_url": "https://api.github.com/users/AliFlux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AliFlux/subscriptions", "organizations_url": "https://api.github.com/users/AliFlux/orgs", "repos_url": "https://api.github.com/users/AliFlux/repos", "events_url": "https://api.github.com/users/AliFlux/events{/privacy}", "received_events_url": "https://api.github.com/users/AliFlux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/92", "html_url": "https://github.com/rasterio/rasterio/milestone/92", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/92/labels", "id": 4867338, "node_id": "MDk6TWlsZXN0b25lNDg2NzMzOA==", "number": 92, "title": "1.1.2", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2019-11-21T16:40:20Z", "updated_at": "2019-12-19T14:41:15Z", "due_on": null, "closed_at": "2019-12-19T14:41:15Z"}, "comments": 1, "created_at": "2019-12-14T16:53:42Z", "updated_at": "2019-12-16T17:13:54Z", "closed_at": "2019-12-16T17:13:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi.\r\n\r\nThe out_dtype for datasets is super useful. Are there any plans for supporting it for WarpedVRT class read() method?\r\n\r\nUsecase:\r\nWarpedVRT has a lot of advantages for dataset tiling. When faced with grayscale imagery or imagery with custom palette. The read() method of WarpedVRT outputs a shape that doesnt have three channels. The out_dtype method caters that (probably). Are there any plans to support on the fly channel conversion via WarpedVRT?\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1849/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1849/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1846", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1846/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1846/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1846/events", "html_url": "https://github.com/rasterio/rasterio/issues/1846", "id": 536543678, "node_id": "MDU6SXNzdWU1MzY1NDM2Nzg=", "number": 1846, "title": "Support Slippy Map datasets", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/92", "html_url": "https://github.com/rasterio/rasterio/milestone/92", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/92/labels", "id": 4867338, "node_id": "MDk6TWlsZXN0b25lNDg2NzMzOA==", "number": 92, "title": "1.1.2", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2019-11-21T16:40:20Z", "updated_at": "2019-12-19T14:41:15Z", "due_on": null, "closed_at": "2019-12-19T14:41:15Z"}, "comments": 6, "created_at": "2019-12-11T18:32:34Z", "updated_at": "2019-12-16T15:43:40Z", "closed_at": "2019-12-16T15:43:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Right now rasterio works great when working e.g. with GeoTIF datasets.\r\n\r\nCertain use-cases require us to transform these TIFs to Slippy Map datasets\r\n- https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames\r\n- https://gist.github.com/tmcw/4954720\r\n\r\nfor example\r\n- [raster layer](https://docs.mapbox.com/mapbox-gl-js/style-spec/#sources-raster) in a mapbox gl map\r\n- [machine learning models](https://github.com/mapbox/robosat) which need tiling because of limited GPU memory\r\n\r\nEven though the slippy map dataset format contains the same geo-referenced raster data as in the original GeoTIF we now no longer can use rasterio to work on the dataset.\r\n\r\nOpen questions\r\n- Should rasterio support Slippy Map datasets?\r\n- Are there any limitations in Slippy Map datasets e.g. the dtype and bands are limited by the file format we are using e.g. single channel png files in the `z/x/y.png` structure?\r\n- Would this be possible and a reasonable addition to rasterio?\r\n\r\nWhat I have in mind is operations such as\r\n\r\n    rio calc \"..\" --name p0=predictions-old p1=predictions-new\r\n\r\nand have it working on two slippy map directories as it's working right now already with GeoTIFs.\r\n\r\nWorkaround right now is to manually stitch together a GeoTIF from the Slippy Map tiles, use rasterio do transform / create a new GeoTIF, and then gdal2tiles this GeoTIF again.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1846/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1846/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1833", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1833/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1833/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1833/events", "html_url": "https://github.com/rasterio/rasterio/issues/1833", "id": 528262073, "node_id": "MDU6SXNzdWU1MjgyNjIwNzM=", "number": 1833, "title": "WarpedVRT does not permit boundless reads (sample.py)", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/92", "html_url": "https://github.com/rasterio/rasterio/milestone/92", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/92/labels", "id": 4867338, "node_id": "MDk6TWlsZXN0b25lNDg2NzMzOA==", "number": 92, "title": "1.1.2", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2019-11-21T16:40:20Z", "updated_at": "2019-12-19T14:41:15Z", "due_on": null, "closed_at": "2019-12-19T14:41:15Z"}, "comments": 4, "created_at": "2019-11-25T18:31:59Z", "updated_at": "2019-12-18T16:07:31Z", "closed_at": "2019-12-18T15:08:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\n```\r\n    def test_rasterio_vrt(self):\r\n\r\n        import rasterio\r\n\r\n    \r\n\r\n        # tmp_file default crs is UTM: CRS({'init': 'epsg:32618'}\r\n\r\n        with create_tmp_geotiff() as (tmp_file, expected):\r\n\r\n            with rasterio.open(tmp_file) as src:\r\n\r\n                with rasterio.vrt.WarpedVRT(src, crs=\"epsg:4326\") as vrt:\r\n\r\n                    expected_shape = (vrt.width, vrt.height)\r\n\r\n                    expected_crs = vrt.crs\r\n\r\n                    expected_res = vrt.res\r\n\r\n                    # Value of single pixel in center of image\r\n\r\n                    lon, lat = vrt.xy(vrt.width // 2, vrt.height // 2)\r\n\r\n>                   expected_val = next(vrt.sample([(lon, lat)]))\r\n\r\ntest/integration/test_integration__io.py:799: \r\n\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\n../../../miniconda/envs/test/lib/python3.7/site-packages/rasterio/sample.py:43: in sample_gen\r\n\r\n    data = read(indexes, window=window, masked=masked, boundless=True)\r\n\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\n>   ???\r\n\r\nE   ValueError: WarpedVRT does not permit boundless reads\r\n```\r\n\r\n## Operating system\r\n\r\nFor example: Mac OS, Windows, Linux\r\n\r\n## Rasterio version and provenance\r\n\r\n1.1.1 from conda-forge", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1833/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1833/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1831", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1831/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1831/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1831/events", "html_url": "https://github.com/rasterio/rasterio/issues/1831", "id": 525174634, "node_id": "MDU6SXNzdWU1MjUxNzQ2MzQ=", "number": 1831, "title": "Open one dataset at a time during merge of GeoTIFFs", "user": {"login": "janskorepa", "id": 50867100, "node_id": "MDQ6VXNlcjUwODY3MTAw", "avatar_url": "https://avatars.githubusercontent.com/u/50867100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janskorepa", "html_url": "https://github.com/janskorepa", "followers_url": "https://api.github.com/users/janskorepa/followers", "following_url": "https://api.github.com/users/janskorepa/following{/other_user}", "gists_url": "https://api.github.com/users/janskorepa/gists{/gist_id}", "starred_url": "https://api.github.com/users/janskorepa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janskorepa/subscriptions", "organizations_url": "https://api.github.com/users/janskorepa/orgs", "repos_url": "https://api.github.com/users/janskorepa/repos", "events_url": "https://api.github.com/users/janskorepa/events{/privacy}", "received_events_url": "https://api.github.com/users/janskorepa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/98", "html_url": "https://github.com/rasterio/rasterio/milestone/98", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/98/labels", "id": 5533146, "node_id": "MDk6TWlsZXN0b25lNTUzMzE0Ng==", "number": 98, "title": "1.1.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2020-06-11T19:36:28Z", "updated_at": "2020-09-15T14:15:39Z", "due_on": null, "closed_at": "2020-09-15T14:15:39Z"}, "comments": 4, "created_at": "2019-11-19T18:07:57Z", "updated_at": "2020-09-15T14:15:16Z", "closed_at": "2020-09-15T14:15:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I suggest to change the behavior of rasterio.merge to always have only one dataset open. Opening all datasets at the same time can lead to Too many open files error mentioned in #1636. \r\n\r\nThere are alternatives how this error could be fixed however none of them looks optimal to me. Firstly, raising operating system's limit on open file descriptors could solve this but it does not seem to me that this is good solution as I think we should not request this from our users. Secondly, merging GeoTIFFs in batches could also solve this error but that leads to longer run time (even double for big sets of GeoTIFFs).", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1831/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1831/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1830", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1830/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1830/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1830/events", "html_url": "https://github.com/rasterio/rasterio/issues/1830", "id": 524584005, "node_id": "MDU6SXNzdWU1MjQ1ODQwMDU=", "number": 1830, "title": "example of reprojection in the docs throws exception", "user": {"login": "simonm3", "id": 1199593, "node_id": "MDQ6VXNlcjExOTk1OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1199593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simonm3", "html_url": "https://github.com/simonm3", "followers_url": "https://api.github.com/users/simonm3/followers", "following_url": "https://api.github.com/users/simonm3/following{/other_user}", "gists_url": "https://api.github.com/users/simonm3/gists{/gist_id}", "starred_url": "https://api.github.com/users/simonm3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simonm3/subscriptions", "organizations_url": "https://api.github.com/users/simonm3/orgs", "repos_url": "https://api.github.com/users/simonm3/repos", "events_url": "https://api.github.com/users/simonm3/events{/privacy}", "received_events_url": "https://api.github.com/users/simonm3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/90", "html_url": "https://github.com/rasterio/rasterio/milestone/90", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/90/labels", "id": 4646414, "node_id": "MDk6TWlsZXN0b25lNDY0NjQxNA==", "number": 90, "title": "post-1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-09-09T22:51:33Z", "updated_at": "2021-04-07T13:55:06Z", "due_on": null, "closed_at": "2021-04-07T13:55:06Z"}, "comments": 2, "created_at": "2019-11-18T19:51:43Z", "updated_at": "2020-03-20T19:44:14Z", "closed_at": "2020-03-20T19:43:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "This does not seem to work for me. I copied the reproject example in the docs and I get:\r\n\r\nTypeError Traceback (most recent call last)\r\nin\r\n32 dst_transform=dst_transform,\r\n33 dst_crs=dst_crs,\r\n---> 34 resampling=Resampling.nearest)\r\n35\r\n36 # Assert that the destination is only partly filled.\r\n\r\n~\\Anaconda3\\lib\\site-packages\\rasterio\\env.py in wrapper(*args, **kwds)\r\n392 def wrapper(*args, **kwds):\r\n393 if local._env:\r\n--> 394 return f(*args, **kwds)\r\n395 else:\r\n396 with Env.from_defaults():\r\n\r\n~\\Anaconda3\\lib\\site-packages\\rasterio\\env.py in wrapper(*args, **kwds)\r\n618 param, full_kwds[param], inequality, version, reason))\r\n619\r\n--> 620 return f(*args, **kwds)\r\n621\r\n622 return wrapper\r\n\r\n~\\Anaconda3\\lib\\site-packages\\rasterio\\warp.py in reproject(source, destination, src_transform, gcps, src_crs, src_nodata, dst_transform, dst_crs, dst_nodata, dst_resolution, src_alpha, dst_alpha, resampling, num_threads, init_dest_nodata, warp_mem_limit, **kwargs)\r\n345 src_alpha=src_alpha, resampling=resampling,\r\n346 init_dest_nodata=init_dest_nodata, num_threads=num_threads,\r\n--> 347 warp_mem_limit=warp_mem_limit, **kwargs)\r\n348\r\n349 return destination, dst_transform\r\n\r\nrasterio_warp.pyx in rasterio._warp._reproject()\r\n\r\nrasterio_warp.pyx in rasterio._warp._reproject()\r\n\r\nrasterio_warp.pyx in rasterio._warp._reproject.format_transform()\r\n\r\n~\\Anaconda3\\lib\\site-packages\\rasterio\\transform.py in guard_transform(transform)\r\n89 if tastes_like_gdal(transform):\r\n90 raise TypeError(\r\n---> 91 \"GDAL-style transforms have been deprecated. This \"\r\n92 \"exception will be raised for a period of time to highlight \"\r\n93 \"potentially confusing errors, but will eventually be removed.\")\r\n\r\nTypeError: GDAL-style transforms have been deprecated. This exception will be raised for a period of time to highlight potentially confusing errors, but will eventually be removed.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1830/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1830/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1822", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1822/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1822/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1822/events", "html_url": "https://github.com/rasterio/rasterio/issues/1822", "id": 519002901, "node_id": "MDU6SXNzdWU1MTkwMDI5MDE=", "number": 1822, "title": "sample.py dataset.nodata error", "user": {"login": "Gundisalv", "id": 13241051, "node_id": "MDQ6VXNlcjEzMjQxMDUx", "avatar_url": "https://avatars.githubusercontent.com/u/13241051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gundisalv", "html_url": "https://github.com/Gundisalv", "followers_url": "https://api.github.com/users/Gundisalv/followers", "following_url": "https://api.github.com/users/Gundisalv/following{/other_user}", "gists_url": "https://api.github.com/users/Gundisalv/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gundisalv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gundisalv/subscriptions", "organizations_url": "https://api.github.com/users/Gundisalv/orgs", "repos_url": "https://api.github.com/users/Gundisalv/repos", "events_url": "https://api.github.com/users/Gundisalv/events{/privacy}", "received_events_url": "https://api.github.com/users/Gundisalv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/91", "html_url": "https://github.com/rasterio/rasterio/milestone/91", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/91/labels", "id": 4814211, "node_id": "MDk6TWlsZXN0b25lNDgxNDIxMQ==", "number": 91, "title": "1.1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2019-11-04T22:15:27Z", "updated_at": "2019-11-14T18:23:56Z", "due_on": null, "closed_at": "2019-11-14T18:23:56Z"}, "comments": 2, "created_at": "2019-11-07T02:33:34Z", "updated_at": "2019-11-13T12:05:58Z", "closed_at": "2019-11-13T06:25:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello! good night to all.\r\nI just came across this issue.\r\nin file rasterio/sample.py  line 19  the code performs a multiplication with the nodata value of the raster, if the nodata value is _None_ that multiplication ends in an exception \"TypeError: unsupported operand type(s) for *: 'float' and 'NoneType\"  so it would be nice if you can change line from \r\n\r\n`yield numpy.ones((dataset.count,), dtype=dataset.dtypes[0]) * dataset.nodata`\r\n\r\nto\r\n\r\n```\r\nnodata = dataset.nodata or numpy.nan\r\nyield numpy.ones((dataset.count,), dtype=dataset.dtypes[0]) * nodata\r\n\r\n```\r\n\r\nThis is my first actual contribution as developer to a project so I am quite lost (even that I use git/gitlab), hope you like my suggestion.\r\n\r\nThank you very much for all!", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1822/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1822/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1820", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1820/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1820/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1820/events", "html_url": "https://github.com/rasterio/rasterio/pull/1820", "id": 517417759, "node_id": "MDExOlB1bGxSZXF1ZXN0MzM2NDkxMjk2", "number": 1820, "title": "Fix #1650", "user": {"login": "giacomov", "id": 5917371, "node_id": "MDQ6VXNlcjU5MTczNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/5917371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/giacomov", "html_url": "https://github.com/giacomov", "followers_url": "https://api.github.com/users/giacomov/followers", "following_url": "https://api.github.com/users/giacomov/following{/other_user}", "gists_url": "https://api.github.com/users/giacomov/gists{/gist_id}", "starred_url": "https://api.github.com/users/giacomov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/giacomov/subscriptions", "organizations_url": "https://api.github.com/users/giacomov/orgs", "repos_url": "https://api.github.com/users/giacomov/repos", "events_url": "https://api.github.com/users/giacomov/events{/privacy}", "received_events_url": "https://api.github.com/users/giacomov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/91", "html_url": "https://github.com/rasterio/rasterio/milestone/91", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/91/labels", "id": 4814211, "node_id": "MDk6TWlsZXN0b25lNDgxNDIxMQ==", "number": 91, "title": "1.1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2019-11-04T22:15:27Z", "updated_at": "2019-11-14T18:23:56Z", "due_on": null, "closed_at": "2019-11-14T18:23:56Z"}, "comments": 0, "created_at": "2019-11-04T21:35:25Z", "updated_at": "2019-11-04T22:15:49Z", "closed_at": "2019-11-04T22:15:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1820", "html_url": "https://github.com/rasterio/rasterio/pull/1820", "diff_url": "https://github.com/rasterio/rasterio/pull/1820.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1820.patch", "merged_at": "2019-11-04T22:15:49Z"}, "body": "Fixes #1650 . Modified the plotting of rasters with R, G and B channels: now we read the data in the order expected by matplotlib so the displayed image has the correct colors.\r\n\r\nNOTE: this PR is the same as #1818 but against the maint-1.1 branch instead of master", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1820/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1820/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1815", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1815/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1815/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1815/events", "html_url": "https://github.com/rasterio/rasterio/issues/1815", "id": 514699024, "node_id": "MDU6SXNzdWU1MTQ2OTkwMjQ=", "number": 1815, "title": "\u00abis_valid_geom\u00bb fails to return index of empty feature", "user": {"login": "remtav", "id": 34774759, "node_id": "MDQ6VXNlcjM0Nzc0NzU5", "avatar_url": "https://avatars.githubusercontent.com/u/34774759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/remtav", "html_url": "https://github.com/remtav", "followers_url": "https://api.github.com/users/remtav/followers", "following_url": "https://api.github.com/users/remtav/following{/other_user}", "gists_url": "https://api.github.com/users/remtav/gists{/gist_id}", "starred_url": "https://api.github.com/users/remtav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/remtav/subscriptions", "organizations_url": "https://api.github.com/users/remtav/orgs", "repos_url": "https://api.github.com/users/remtav/repos", "events_url": "https://api.github.com/users/remtav/events{/privacy}", "received_events_url": "https://api.github.com/users/remtav/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/94", "html_url": "https://github.com/rasterio/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 0, "created_at": "2019-10-30T14:08:18Z", "updated_at": "2020-02-25T18:47:22Z", "closed_at": "2020-02-25T18:47:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nhttps://github.com/mapbox/rasterio/blob/master/rasterio/features.py#L485\r\n\r\nI expected the function \u00abis_valid_geom\u00bb to send index of invalid feature, but got \r\n\u00abTypeError: argument of type 'NoneType' is not iterable\u00bb\r\n\r\n## Steps to reproduce the problem.\r\n\r\nI used `rasterio.features.rasterize` to rasterize polygon features. An empty polygon (0 vertex) broke the execution, but the function `is_valid_geom` was unable to send back index of problematic vector. \r\n\r\nThis is part of the, very generic, code I used.\r\n\r\n```\r\nwith rasterio.open(input_image, 'r') as src:\r\n    burned_raster = rasterio.features.rasterize((vector_tuple for vector_tuple in lst_vector_tuple),\r\n                                                fill=0,\r\n                                                out_shape=src.shape,\r\n                                                transform=src.transform,\r\n                                                dtype=np.uint8)\r\n```\r\nHere's a very simple modification I suggest (see try/except statement):\r\n```\r\ndef is_valid_geom(geom):\r\n    \"\"\"\r\n    Checks to see if geometry is a valid GeoJSON geometry type or\r\n    GeometryCollection.\r\n\r\n    Geometries must be non-empty, and have at least x, y coordinates.\r\n\r\n    Note: only the first coordinate is checked for validity.\r\n\r\n    Parameters\r\n    ----------\r\n    geom: an object that implements the geo interface or GeoJSON-like object\r\n\r\n    Returns\r\n    -------\r\n    bool: True if object is a valid GeoJSON geometry type\r\n    \"\"\"\r\n\r\n    geom_types = {'Point', 'MultiPoint', 'LineString', 'LinearRing',\r\n                  'MultiLineString', 'Polygon', 'MultiPolygon'}\r\n\r\n    try:\r\n        if 'type' not in geom:\r\n            return False\r\n    except:\r\n        return False [...]\r\n```\r\n\r\nOriginal code:\r\n```\r\n     if 'type' not in geom:\r\n        return False\r\n``` \r\n[...]\r\n\r\n## Operating system\r\n\r\nWindows 10 v1709\r\n\r\n## Rasterio version and provenance\r\n\r\nv1.0.25 installed from conda-forge\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1815/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1815/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1808", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1808/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1808/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1808/events", "html_url": "https://github.com/rasterio/rasterio/issues/1808", "id": 511588931, "node_id": "MDU6SXNzdWU1MTE1ODg5MzE=", "number": 1808, "title": "WarpedVRT fails when source file has bad projection ", "user": {"login": "jterstriep", "id": 2575084, "node_id": "MDQ6VXNlcjI1NzUwODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2575084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jterstriep", "html_url": "https://github.com/jterstriep", "followers_url": "https://api.github.com/users/jterstriep/followers", "following_url": "https://api.github.com/users/jterstriep/following{/other_user}", "gists_url": "https://api.github.com/users/jterstriep/gists{/gist_id}", "starred_url": "https://api.github.com/users/jterstriep/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jterstriep/subscriptions", "organizations_url": "https://api.github.com/users/jterstriep/orgs", "repos_url": "https://api.github.com/users/jterstriep/repos", "events_url": "https://api.github.com/users/jterstriep/events{/privacy}", "received_events_url": "https://api.github.com/users/jterstriep/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/92", "html_url": "https://github.com/rasterio/rasterio/milestone/92", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/92/labels", "id": 4867338, "node_id": "MDk6TWlsZXN0b25lNDg2NzMzOA==", "number": 92, "title": "1.1.2", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2019-11-21T16:40:20Z", "updated_at": "2019-12-19T14:41:15Z", "due_on": null, "closed_at": "2019-12-19T14:41:15Z"}, "comments": 4, "created_at": "2019-10-23T21:46:16Z", "updated_at": "2019-11-22T05:32:26Z", "closed_at": "2019-11-21T16:46:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "When creating a WarpedVRT from a raster source that has problematic projection information, I get an error shown below.\r\n\r\n```\r\n>>> src = rasterio.open('bad.tif')\r\n>>> vrt = WarpedVRT(src, src_crs='EPSG:xxxx', crs='EPSG:xxxx')\r\nrasterio._err.CPLE_AppDefinedError: No PROJ.4 translation for source SRS, coordinate transformation initialization has failed.\r\n```\r\nI expected this to work because I'm providing the correct crs using the src_crs parameter to WarpedVRT which seems like it should take precedence over what's in the file. If I use gdal_edit to assign the crs in the original TIF file then everything works as expected.\r\n\r\nI can provide the problematic TIF (I have hundreds of thousands!) if it would be helpful.\r\n\r\n## Rasterio version and provenance\r\nRasterio version 1.0.21 installed from conda-forge. Likely dependencies and versions include:\r\n* libgdal = 2.3.3\r\n* proj4 = 5.2.0\r\n* pyproj = 1.9.6\r\n\r\nRunning on Ubuntu 18.04.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1808/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1808/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1807", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1807/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1807/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1807/events", "html_url": "https://github.com/rasterio/rasterio/issues/1807", "id": 510838054, "node_id": "MDU6SXNzdWU1MTA4MzgwNTQ=", "number": 1807, "title": "Conflicting rio bounds optional command line arguments for GeoJSON output", "user": {"login": "underchemist", "id": 5283998, "node_id": "MDQ6VXNlcjUyODM5OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5283998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/underchemist", "html_url": "https://github.com/underchemist", "followers_url": "https://api.github.com/users/underchemist/followers", "following_url": "https://api.github.com/users/underchemist/following{/other_user}", "gists_url": "https://api.github.com/users/underchemist/gists{/gist_id}", "starred_url": "https://api.github.com/users/underchemist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/underchemist/subscriptions", "organizations_url": "https://api.github.com/users/underchemist/orgs", "repos_url": "https://api.github.com/users/underchemist/repos", "events_url": "https://api.github.com/users/underchemist/events{/privacy}", "received_events_url": "https://api.github.com/users/underchemist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/90", "html_url": "https://github.com/rasterio/rasterio/milestone/90", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/90/labels", "id": 4646414, "node_id": "MDk6TWlsZXN0b25lNDY0NjQxNA==", "number": 90, "title": "post-1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-09-09T22:51:33Z", "updated_at": "2021-04-07T13:55:06Z", "due_on": null, "closed_at": "2021-04-07T13:55:06Z"}, "comments": 3, "created_at": "2019-10-22T18:42:57Z", "updated_at": "2019-12-10T16:40:16Z", "closed_at": "2019-12-10T16:40:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nInitially discussed: https://rasterio.groups.io/g/main/topic/35000585#344\r\n\r\nWhen using the command `rio bounds` there is conflicting behaviour of optional command line arguments `--sequence/--collection` and `--collection`. \r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\n$ rio bounds --collection /path/to/a.tif /path/to/b.tif\r\n{\"bbox\": [-117.43992919012538, 32.44224727533216, -115.91213159002874, 33.755623708770855], \"features\": [{\"bbox\": [-117.43992919012538, 32.44224727533216, -115.91213159002874, 33.755623708770855], \"geometry\": {\"coordinates\": [[[-117.43992919012538, 32.44224727533216], [-115.91213159002874, 32.44224727533216], [-115.91213159002874, 33.755623708770855], [-117.43992919012538, 33.755623708770855], [-117.43992919012538, 32.44224727533216]]], \"type\": \"Polygon\"}, \"properties\": {\"filename\": \"imagery_HH.tif\", \"id\": \"0\", \"title\": \"imagery_HH.tif\"}, \"type\": \"Feature\"}], \"type\": \"FeatureCollection\"}\r\n{\"bbox\": [-117.43992919012538, 32.44224727533216, -115.91213159002874, 33.755623708770855], \"features\": [{\"bbox\": [-117.43992919012538, 32.44224727533216, -115.91213159002874, 33.755623708770855], \"geometry\": {\"coordinates\": [[[-117.43992919012538, 32.44224727533216], [-115.91213159002874, 32.44224727533216], [-115.91213159002874, 33.755623708770855], [-117.43992919012538, 33.755623708770855], [-117.43992919012538, 32.44224727533216]]], \"type\": \"Polygon\"}, \"properties\": {\"filename\": \"imagery_HH.tif\", \"id\": \"1\", \"title\": \"imagery_HH.tif\"}, \"type\": \"Feature\"}], \"type\": \"FeatureCollection\"}\r\n```\r\n\r\n## Operating system\r\n\r\nTested on Windows 10 1709 and CentOS Linux release 7.7.1908\r\n\r\n## Rasterio version and provenance\r\nrasterio==1.1.0\r\ntested with both gdal==3.0.1 and gdal==2.2.4\r\nrasterio and gdal both installed from conda\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1807/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1798", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1798/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1798/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1798/events", "html_url": "https://github.com/rasterio/rasterio/issues/1798", "id": 501600769, "node_id": "MDU6SXNzdWU1MDE2MDA3Njk=", "number": 1798, "title": "Extension class method signatures don't surface in help(), IDE, Sphinx etc", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}, {"id": 989674718, "node_id": "MDU6TGFiZWw5ODk2NzQ3MTg=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/upstream", "name": "upstream", "color": "ef5fbf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/120", "html_url": "https://github.com/rasterio/rasterio/milestone/120", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/120/labels", "id": 8642562, "node_id": "MI_kwDOANdm_M4Ag-AC", "number": 120, "title": "1.4.0", "description": "", "creator": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "open_issues": 30, "closed_issues": 20, "state": "open", "created_at": "2022-11-10T15:38:38Z", "updated_at": "2023-04-27T18:47:37Z", "due_on": null, "closed_at": null}, "comments": 9, "created_at": "2019-10-02T16:36:56Z", "updated_at": "2023-01-23T20:47:41Z", "closed_at": "2023-01-23T20:47:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See for example `from rasterio.io import DatasetReader; help(DatasetReader.read)`.\r\n\r\nI don't see anything to be done other than A) nothing, or B) duplicate method definitions from `cdef class DatasetReaderBase` &c into `DatasetReader` and then delegate to the exension method using `super()`.\r\n\r\nThoughts anyone?", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1798/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1798/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1797", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1797/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1797/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1797/events", "html_url": "https://github.com/rasterio/rasterio/issues/1797", "id": 501531710, "node_id": "MDU6SXNzdWU1MDE1MzE3MTA=", "number": 1797, "title": "Catch CPLE_NotSupportedError in the BIGTIFF case and provide a better exception", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/94", "html_url": "https://github.com/rasterio/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 1, "created_at": "2019-10-02T14:37:16Z", "updated_at": "2020-02-25T18:47:33Z", "closed_at": "2020-02-25T18:47:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In the case that the BIGTIFF creation option isn't set and a user tries to create a too-large TIFF, we could provide a clearer exception message. For example, one that points to `BIGTIFF=\"IF_SAFER\"`. See #1796.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1797/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1797/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1786", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1786/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1786/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1786/events", "html_url": "https://github.com/rasterio/rasterio/issues/1786", "id": 497161663, "node_id": "MDU6SXNzdWU0OTcxNjE2NjM=", "number": 1786, "title": "Path parser incorrectly parses SENTINEL2_L1C: \"filenames\"", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/94", "html_url": "https://github.com/rasterio/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 0, "created_at": "2019-09-23T15:14:16Z", "updated_at": "2020-02-13T20:55:30Z", "closed_at": "2020-02-13T20:55:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In a nutsell: `parse_path(\"SENTINEL2_L1C:S2A_OPER_MTD_SAFL1C_PDMC_20150818T101440_R022_V20150813T102406_20150813T102406.xml:10m:EPSG_32632\")` returns ParsedPath, but should return UnparsedPath.\r\n\r\n#1784 makes a special case for this format, but instead we are going to improve the parser so that SENTINEL2_L1C:, NETCDF:, &c all come out consistently unparsed.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1786/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1778", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1778/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1778/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1778/events", "html_url": "https://github.com/rasterio/rasterio/pull/1778", "id": 492515073, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE2Njc0Mzc0", "number": 1778, "title": "[1777] Modify enum34 python_version spec", "user": {"login": "dazza-codes", "id": 240623, "node_id": "MDQ6VXNlcjI0MDYyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/240623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dazza-codes", "html_url": "https://github.com/dazza-codes", "followers_url": "https://api.github.com/users/dazza-codes/followers", "following_url": "https://api.github.com/users/dazza-codes/following{/other_user}", "gists_url": "https://api.github.com/users/dazza-codes/gists{/gist_id}", "starred_url": "https://api.github.com/users/dazza-codes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dazza-codes/subscriptions", "organizations_url": "https://api.github.com/users/dazza-codes/orgs", "repos_url": "https://api.github.com/users/dazza-codes/repos", "events_url": "https://api.github.com/users/dazza-codes/events{/privacy}", "received_events_url": "https://api.github.com/users/dazza-codes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/70", "html_url": "https://github.com/rasterio/rasterio/milestone/70", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/70/labels", "id": 3734597, "node_id": "MDk6TWlsZXN0b25lMzczNDU5Nw==", "number": 70, "title": "1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-10-12T18:13:46Z", "updated_at": "2019-10-07T16:28:10Z", "due_on": "2019-10-07T07:00:00Z", "closed_at": "2019-10-07T16:28:10Z"}, "comments": 0, "created_at": "2019-09-11T23:37:08Z", "updated_at": "2019-09-13T00:40:00Z", "closed_at": "2019-09-12T21:17:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1778", "html_url": "https://github.com/rasterio/rasterio/pull/1778", "diff_url": "https://github.com/rasterio/rasterio/pull/1778.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1778.patch", "merged_at": "2019-09-12T21:17:11Z"}, "body": "Fix #1777\r\n\r\nThe experiment to apply this is noted in #1777 - seems to work.\r\n\r\nAlso related to https://github.com/sdispater/poetry/issues/1122", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1778/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1778/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1775", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1775/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1775/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1775/events", "html_url": "https://github.com/rasterio/rasterio/pull/1775", "id": 491398125, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE1Nzc0MjUz", "number": 1775, "title": "Switch sharing kwarg default to False", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/70", "html_url": "https://github.com/rasterio/rasterio/milestone/70", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/70/labels", "id": 3734597, "node_id": "MDk6TWlsZXN0b25lMzczNDU5Nw==", "number": 70, "title": "1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-10-12T18:13:46Z", "updated_at": "2019-10-07T16:28:10Z", "due_on": "2019-10-07T07:00:00Z", "closed_at": "2019-10-07T16:28:10Z"}, "comments": 1, "created_at": "2019-09-10T01:15:11Z", "updated_at": "2019-09-13T14:05:19Z", "closed_at": "2019-09-13T14:05:15Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1775", "html_url": "https://github.com/rasterio/rasterio/pull/1775", "diff_url": "https://github.com/rasterio/rasterio/pull/1775.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1775.patch", "merged_at": "2019-09-13T14:05:15Z"}, "body": "Resolves #1705", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1775/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1775/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1769", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1769/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1769/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1769/events", "html_url": "https://github.com/rasterio/rasterio/issues/1769", "id": 491177327, "node_id": "MDU6SXNzdWU0OTExNzczMjc=", "number": 1769, "title": "New block size guard breaks code that passes block size strings", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/89", "html_url": "https://github.com/rasterio/rasterio/milestone/89", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/89/labels", "id": 4645032, "node_id": "MDk6TWlsZXN0b25lNDY0NTAzMg==", "number": 89, "title": "1.0.28", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2019-09-09T15:46:21Z", "updated_at": "2019-09-09T20:11:55Z", "due_on": null, "closed_at": "2019-09-09T20:11:55Z"}, "comments": 0, "created_at": "2019-09-09T15:45:22Z", "updated_at": "2019-09-09T20:11:02Z", "closed_at": "2019-09-09T20:11:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/mapbox/rasterio/blame/master/rasterio/_io.pyx#L1085. A coercion to `int` was present in 1.0.26 and must be restored.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1769/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1765", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1765/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1765/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1765/events", "html_url": "https://github.com/rasterio/rasterio/issues/1765", "id": 487687621, "node_id": "MDU6SXNzdWU0ODc2ODc2MjE=", "number": 1765, "title": "Tests of unsigned AWS requests require GDAL ~= 2.3", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/88", "html_url": "https://github.com/rasterio/rasterio/milestone/88", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/88/labels", "id": 4614700, "node_id": "MDk6TWlsZXN0b25lNDYxNDcwMA==", "number": 88, "title": "1.0.27", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2019-08-29T20:53:07Z", "updated_at": "2019-09-06T00:18:40Z", "due_on": null, "closed_at": "2019-09-06T00:18:40Z"}, "comments": 0, "created_at": "2019-08-30T22:09:21Z", "updated_at": "2019-09-06T00:17:20Z", "closed_at": "2019-09-06T00:17:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Will add a new decorator factory and use it to fix the chronically failing test on the GDAL 2.1 and 2.2 rows of the build matrix.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1765/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1764", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1764/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1764/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1764/events", "html_url": "https://github.com/rasterio/rasterio/pull/1764", "id": 487678001, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEyODkwMzQ5", "number": 1764, "title": "Add collections.Iterable to compat", "user": {"login": "glostis", "id": 25295717, "node_id": "MDQ6VXNlcjI1Mjk1NzE3", "avatar_url": "https://avatars.githubusercontent.com/u/25295717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glostis", "html_url": "https://github.com/glostis", "followers_url": "https://api.github.com/users/glostis/followers", "following_url": "https://api.github.com/users/glostis/following{/other_user}", "gists_url": "https://api.github.com/users/glostis/gists{/gist_id}", "starred_url": "https://api.github.com/users/glostis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glostis/subscriptions", "organizations_url": "https://api.github.com/users/glostis/orgs", "repos_url": "https://api.github.com/users/glostis/repos", "events_url": "https://api.github.com/users/glostis/events{/privacy}", "received_events_url": "https://api.github.com/users/glostis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/88", "html_url": "https://github.com/rasterio/rasterio/milestone/88", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/88/labels", "id": 4614700, "node_id": "MDk6TWlsZXN0b25lNDYxNDcwMA==", "number": 88, "title": "1.0.27", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2019-08-29T20:53:07Z", "updated_at": "2019-09-06T00:18:40Z", "due_on": null, "closed_at": "2019-09-06T00:18:40Z"}, "comments": 1, "created_at": "2019-08-30T21:30:47Z", "updated_at": "2019-08-31T06:50:59Z", "closed_at": "2019-08-30T22:22:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1764", "html_url": "https://github.com/rasterio/rasterio/pull/1764", "diff_url": "https://github.com/rasterio/rasterio/pull/1764.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1764.patch", "merged_at": "2019-08-30T22:22:10Z"}, "body": "This PR finishes eliminating the remaining python deprecation warnings that were thrown by the `collections` module (see https://github.com/mapbox/rasterio/issues/1742)\r\n\r\nhttps://github.com/mapbox/rasterio/pull/1753 had addressed the `Mapping` class, but the `Iterable` class has the same behavior, so this PR addresses it.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1764/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1761", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1761/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1761/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1761/events", "html_url": "https://github.com/rasterio/rasterio/issues/1761", "id": 484668322, "node_id": "MDU6SXNzdWU0ODQ2NjgzMjI=", "number": 1761, "title": "rasterio.dtypes.can_cast_dtype & NaN handling", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/87", "html_url": "https://github.com/rasterio/rasterio/milestone/87", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/87/labels", "id": 4593526, "node_id": "MDk6TWlsZXN0b25lNDU5MzUyNg==", "number": 87, "title": "1.0.26", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2019-08-21T23:40:02Z", "updated_at": "2019-08-26T17:17:54Z", "due_on": null, "closed_at": "2019-08-26T17:17:54Z"}, "comments": 5, "created_at": "2019-08-23T18:58:16Z", "updated_at": "2019-08-26T16:59:18Z", "closed_at": "2019-08-26T16:59:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I think there needs to be a special case for `numpy.nan` and `numpy.float32`:\r\n```python\r\n>>> from rasterio.dtypes import can_cast_dtype\r\n>>> can_cast_dtype(numpy.nan, numpy.float32)\r\nFalse\r\n>>> can_cast_dtype(numpy.nan, numpy.float64)\r\nTrue\r\n```\r\nWith numpy:\r\n```python\r\n>>> import numpy\r\n>>> numpy.float32(numpy.nan)\r\nnan\r\n>>> numpy.array(numpy.nan).dtype.name\r\n'float64'\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1761/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1760", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1760/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1760/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1760/events", "html_url": "https://github.com/rasterio/rasterio/issues/1760", "id": 484583644, "node_id": "MDU6SXNzdWU0ODQ1ODM2NDQ=", "number": 1760, "title": "inconsistent handling of blocksize > image size", "user": {"login": "jessnichi", "id": 33703564, "node_id": "MDQ6VXNlcjMzNzAzNTY0", "avatar_url": "https://avatars.githubusercontent.com/u/33703564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jessnichi", "html_url": "https://github.com/jessnichi", "followers_url": "https://api.github.com/users/jessnichi/followers", "following_url": "https://api.github.com/users/jessnichi/following{/other_user}", "gists_url": "https://api.github.com/users/jessnichi/gists{/gist_id}", "starred_url": "https://api.github.com/users/jessnichi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jessnichi/subscriptions", "organizations_url": "https://api.github.com/users/jessnichi/orgs", "repos_url": "https://api.github.com/users/jessnichi/repos", "events_url": "https://api.github.com/users/jessnichi/events{/privacy}", "received_events_url": "https://api.github.com/users/jessnichi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/88", "html_url": "https://github.com/rasterio/rasterio/milestone/88", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/88/labels", "id": 4614700, "node_id": "MDk6TWlsZXN0b25lNDYxNDcwMA==", "number": 88, "title": "1.0.27", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2019-08-29T20:53:07Z", "updated_at": "2019-09-06T00:18:40Z", "due_on": null, "closed_at": "2019-09-06T00:18:40Z"}, "comments": 4, "created_at": "2019-08-23T15:17:16Z", "updated_at": "2019-09-06T00:17:40Z", "closed_at": "2019-09-06T00:17:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "When creating a new image using the profile of an existing internally-tiled tif, rasterio raises an error if one of the image dimensions is smaller than the block size.  Removing `blockxsize` and `blockysize` from the input profile, but keeping `tiled=True`, successfully creates the image with the default GDAL block size of 256 (the same as the input block size in my case).\r\n\r\nChecking `block_windows(1)` on both the input and output images shows the blocks are adjusted to fit the smaller image dimension.  The output image does not exhibit the artifacts discussed in #520. \r\n\r\nThe GDAL command-line tools support explicitly specifying a block size larger than one of the image dimensions; should rasterio support the same?  Raising an error makes it more difficult to support processing datasets that have been split into tiles - which could result in very short edge tiles - and is not possible to work around if a specific block size other than the GDAL default is a requirement.\r\n\r\n```\r\nPython 3.7.4 (default, Jul 16 2019, 10:44:57) \r\nType 'copyright', 'credits' or 'license' for more information\r\nIPython 7.6.1 -- An enhanced Interactive Python. Type '?' for help.\r\n\r\nIn [1]: from pprint import pprint                                                                                   \r\nIn [2]: import rasterio                                                                                             \r\nIn [3]: rasterio.__version__                                                                                        \r\nOut[3]: '1.0.24'\r\n\r\nIn [4]: src = rasterio.open('short.tif')                                                                            \r\nIn [5]: pprint(src.profile)                                                                                         \r\n{'blockxsize': 256,\r\n 'blockysize': 256,\r\n 'count': 4,\r\n 'crs': CRS.from_epsg(32754),\r\n 'driver': 'GTiff',\r\n 'dtype': 'uint16',\r\n 'height': 126,\r\n 'interleave': 'pixel',\r\n 'nodata': 0.0,\r\n 'tiled': True,\r\n 'transform': Affine(0.29999999999999993, 0.0, 260223.0,\r\n       0.0, -0.29999999999999993, 7540734.6),\r\n 'width': 19584}\r\n\r\nIn [6]: pprint(list(src.block_windows(1))[0][1])                                                                    \r\nWindow(col_off=0, row_off=0, width=256, height=126)\r\n\r\nIn [7]: with rasterio.open('short_clone.tif', 'w', **src.profile) as dst: \r\n   ...:     for _, win in src.block_windows(1): \r\n   ...:         dst.write(src.read(window=win), window=win) \r\n   ...:                                                                                                             \r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-7-12124f4ac553> in <module>\r\n----> 1 with rasterio.open('short_clone.tif', 'w', **src.profile) as dst:\r\n      2     for _, win in src.block_windows(1):\r\n      3         dst.write(src.read(window=win), window=win)\r\n      4 \r\n~/local/lib/python3.7/site-packages/rasterio/env.py in wrapper(*args, **kwds)\r\n    428 \r\n    429         with env_ctor(session=session):\r\n--> 430             return f(*args, **kwds)\r\n    431 \r\n    432     return wrapper\r\n~/local/lib/python3.7/site-packages/rasterio/__init__.py in open(fp, mode, driver, width, height, count, crs, transform, dtype, nodata, sharing, **kwargs)\r\n    224                                               dtype=dtype, nodata=nodata,\r\n    225                                               sharing=sharing,\r\n--> 226                                               **kwargs)\r\n    227         else:\r\n    228             raise ValueError(\r\nrasterio/_io.pyx in rasterio._io.DatasetWriterBase.__init__()\r\nValueError: blockysize exceeds raster height.\r\n\r\nIn [8]: profile = {k: v for k, v in src.profile.items() if k not in ['blockxsize', 'blockysize']}                   \r\nIn [9]: pprint(profile)                                                                                             \r\n{'count': 4,\r\n 'crs': CRS.from_epsg(32754),\r\n 'driver': 'GTiff',\r\n 'dtype': 'uint16',\r\n 'height': 126,\r\n 'interleave': 'pixel',\r\n 'nodata': 0.0,\r\n 'tiled': True,\r\n 'transform': Affine(0.29999999999999993, 0.0, 260223.0,\r\n       0.0, -0.29999999999999993, 7540734.6),\r\n 'width': 19584}\r\nIn [10]: with rasterio.open('short_clone.tif', 'w', **profile) as dst: \r\n    ...:     for _, win in src.block_windows(1): \r\n    ...:         dst.write(src.read(window=win), window=win) \r\n    ...:                                                                                                            \r\nIn [11]: with rasterio.open('short_clone.tif') as dst: \r\n    ...:     pprint(dst.profile) \r\n    ...:     pprint(list(dst.block_windows(1))[0][1]) \r\n    ...:                                                                                                            \r\n{'blockxsize': 256,\r\n 'blockysize': 256,\r\n 'count': 4,\r\n 'crs': CRS.from_epsg(32754),\r\n 'driver': 'GTiff',\r\n 'dtype': 'uint16',\r\n 'height': 126,\r\n 'interleave': 'pixel',\r\n 'nodata': 0.0,\r\n 'tiled': True,\r\n 'transform': Affine(0.29999999999999993, 0.0, 260223.0,\r\n       0.0, -0.29999999999999993, 7540734.6),\r\n 'width': 19584}\r\nWindow(col_off=0, row_off=0, width=256, height=126)\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1760/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1758", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1758/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1758/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1758/events", "html_url": "https://github.com/rasterio/rasterio/issues/1758", "id": 484185321, "node_id": "MDU6SXNzdWU0ODQxODUzMjE=", "number": 1758, "title": "JPEG writing warns driver does not support SHARING", "user": {"login": "drwelby", "id": 152875, "node_id": "MDQ6VXNlcjE1Mjg3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/152875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drwelby", "html_url": "https://github.com/drwelby", "followers_url": "https://api.github.com/users/drwelby/followers", "following_url": "https://api.github.com/users/drwelby/following{/other_user}", "gists_url": "https://api.github.com/users/drwelby/gists{/gist_id}", "starred_url": "https://api.github.com/users/drwelby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drwelby/subscriptions", "organizations_url": "https://api.github.com/users/drwelby/orgs", "repos_url": "https://api.github.com/users/drwelby/repos", "events_url": "https://api.github.com/users/drwelby/events{/privacy}", "received_events_url": "https://api.github.com/users/drwelby/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/87", "html_url": "https://github.com/rasterio/rasterio/milestone/87", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/87/labels", "id": 4593526, "node_id": "MDk6TWlsZXN0b25lNDU5MzUyNg==", "number": 87, "title": "1.0.26", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2019-08-21T23:40:02Z", "updated_at": "2019-08-26T17:17:54Z", "due_on": null, "closed_at": "2019-08-26T17:17:54Z"}, "comments": 1, "created_at": "2019-08-22T20:02:32Z", "updated_at": "2019-08-26T16:59:17Z", "closed_at": "2019-08-26T16:59:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nWriting a JPEG gives the warning `Warning 6: driver JPEG does not support creation option SHARING`. I have not set this option, nor can find any reference to `SHARING` as a creation option, so I expect to not get this warning.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nf = rasterio.open('my.tif')\r\nw = rasterio.windows.Window(0, 0, 100, 100)\r\nprofile = {'driver': 'JPEG', 'height': 512, 'width': 512, 'transform': Affine(0.48828124999999994, 0.0, 430000.0, 0.0, -0.48828124999999994, 2980000.0), 'count': 3, 'dtype': 'uint8'}\r\ndata = f.read(window=w)\r\nwith rasterio.open('test.jpg', 'w', **profile) as dst: dst.write(data)\r\n```\r\n\r\nAdding variations of `'SHARING': 'FALSE'` to the profile don't seem to change the message.\r\n\r\n## Operating system\r\n\r\nMac OS X 10.14.4\r\n\r\n## Rasterio version and provenance\r\n\r\nAnaconda Python 3.6.8\r\nrasterio 1.0.24 from pypi\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1758/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1755", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1755/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1755/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1755/events", "html_url": "https://github.com/rasterio/rasterio/issues/1755", "id": 484096326, "node_id": "MDU6SXNzdWU0ODQwOTYzMjY=", "number": 1755, "title": "Should CRS be assigned to src_crs input in WarpedVRTReaderBase ?", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/87", "html_url": "https://github.com/rasterio/rasterio/milestone/87", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/87/labels", "id": 4593526, "node_id": "MDk6TWlsZXN0b25lNDU5MzUyNg==", "number": 87, "title": "1.0.26", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2019-08-21T23:40:02Z", "updated_at": "2019-08-26T17:17:54Z", "due_on": null, "closed_at": "2019-08-26T17:17:54Z"}, "comments": 1, "created_at": "2019-08-22T16:28:56Z", "updated_at": "2019-08-26T16:59:17Z", "closed_at": "2019-08-26T16:59:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In https://github.com/mapbox/rasterio/blob/42d3a9d3ac9deaf22024b5c796f4ab703c87a302/rasterio/_warp.pyx#L722 crs will be set to whatever the source CRS is, and not taking input src_crs in account.\r\n\r\n### How to reproduce\r\n\r\n```python\r\nimport os\r\nos.environ[\"AWS_REQUEST_PAYER\"] = \"requester\"\r\n\r\nimport rasterio\r\nfrom rasterio.vrt import WarpedVRT\r\n\r\n\r\nsrc_path = \"s3://sentinel-s1-l1c/GRD/2018/7/16/IW/DV/S1A_IW_GRDH_1SDV_20180716T004042_20180716T004107_022812_02792A_FD5B/measurement/iw-vh.tiff\"\r\n\r\nwith rasterio.open(src_path) as src_dst: \r\n    with WarpedVRT(src_dst, src_crs=src_dst.gcps[1]) as vrt_dst:\r\n        print(vrt_dst.crs)\r\n\r\nwith rasterio.open(src_path) as src_dst: \r\n    with WarpedVRT(src_dst, src_crs=src_dst.gcps[1], crs=src_dst.gcps[1]) as vrt_dst:\r\n        print(vrt_dst.crs)\r\n\r\n> None\r\n> EPSG:4326\r\n```\r\n\r\n### Proposed fix\r\n```python\r\n\r\nself.src_crs = CRS.from_user_input(src_crs) if src_crs else self.src_dataset.crs\r\nif crs is None:\r\n       crs = dst_crs if dst_crs is not None else self.src_crs\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1755/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1755/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1748", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1748/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1748/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1748/events", "html_url": "https://github.com/rasterio/rasterio/issues/1748", "id": 482623780, "node_id": "MDU6SXNzdWU0ODI2MjM3ODA=", "number": 1748, "title": "[Bug] int > None not supported", "user": {"login": "dazza-codes", "id": 240623, "node_id": "MDQ6VXNlcjI0MDYyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/240623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dazza-codes", "html_url": "https://github.com/dazza-codes", "followers_url": "https://api.github.com/users/dazza-codes/followers", "following_url": "https://api.github.com/users/dazza-codes/following{/other_user}", "gists_url": "https://api.github.com/users/dazza-codes/gists{/gist_id}", "starred_url": "https://api.github.com/users/dazza-codes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dazza-codes/subscriptions", "organizations_url": "https://api.github.com/users/dazza-codes/orgs", "repos_url": "https://api.github.com/users/dazza-codes/repos", "events_url": "https://api.github.com/users/dazza-codes/events{/privacy}", "received_events_url": "https://api.github.com/users/dazza-codes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-08-20T03:23:28Z", "updated_at": "2019-08-26T16:59:16Z", "closed_at": "2019-08-26T16:59:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Objective\r\n\r\nEasily convert any numpy.ndarray into a default rasterio.DataSet using a MemoryFile (or something).\r\n\r\n### Backtrace\r\n```python\r\n  File \"/home/joe/miniconda3/envs/project/lib/python3.7/site-packages/rasterio/io.py\", line 136, in open\r\n    nodata=nodata, sharing=sharing, **kwargs)\r\n  File \"rasterio/_io.pyx\", line 1091, in rasterio._io.DatasetWriterBase.__init__\r\nTypeError: '>' not supported between instances of 'int' and 'NoneType'\r\n```\r\n\r\n### Reproduce\r\n\r\n```python\r\n# script.py\r\n\r\nimport numpy as np\r\nfrom rasterio.io import MemoryFile\r\n# from rasterio.profiles import DefaultGTiffProfile\r\n\r\ndef create_raster(tif_band: np.ndarray, dtype: str = \"int32\"):\r\n    \r\n    profile = {\r\n        'interleave': 'band',\r\n        'tiled': True,\r\n        'blockxsize': 256,\r\n        'blockysize': 256,\r\n        'compress': 'lzw',\r\n        'nodata': 0,\r\n        'dtype': dtype\r\n    }\r\n\r\n    with MemoryFile() as mem_file:\r\n        with mem_file.open(driver='GTiff', count=1, **profile) as ds:\r\n            # ds.write(tif_band.tobytes())  # same error\r\n            ds.write(tif_band)\r\n        with mem_file.open() as ds:\r\n            return ds\r\n\r\nif __name__ == '__main__':\r\n\r\n    dtype = \"int32\"\r\n    shape = (10, 10)\r\n    x = np.linspace(-5, 5, shape[0])\r\n    y = np.linspace(-5, 5, shape[1])\r\n    xy = np.abs(np.sinc(np.outer(x, y))) * 10000\r\n    xy = xy.astype(dtype)\r\n\r\n    ds = create_raster(xy, dtype)\r\n\r\n```\r\n\r\nRun it\r\n```\r\n$ python3 script.py \r\nTraceback (most recent call last):\r\n  File \"script.py\", line 34, in <module>\r\n    ds = create_raster(xy, dtype)\r\n  File \"script.py\", line 19, in create_raster\r\n    with mem_file.open(driver='GTiff', count=1, **profile) as ds:\r\n  File \"/home/joe/miniconda3/envs/project/lib/python3.7/site-packages/rasterio/env.py\", line 394, in wrapper\r\n    return f(*args, **kwds)\r\n  File \"/home/joe/miniconda3/envs/project/lib/python3.7/site-packages/rasterio/io.py\", line 136, in open\r\n    nodata=nodata, sharing=sharing, **kwargs)\r\n  File \"rasterio/_io.pyx\", line 1091, in rasterio._io.DatasetWriterBase.__init__\r\nTypeError: '>' not supported between instances of 'int' and 'NoneType'\r\n```\r\n\r\n### versions\r\n\r\n```\r\n$ python --version\r\nPython 3.7.3\r\n$ rio --version\r\n1.0.25\r\n```\r\n\r\n### references\r\n\r\n- https://rasterio.readthedocs.io/en/latest/topics/memory-files.html\r\n- https://rasterio.readthedocs.io/en/latest/topics/profiles.html\r\n- https://stackoverflow.com/questions/43708541/python-typeerror-typeerror-not-supported-between-instances-of-nonetype\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1748/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1748/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1747", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1747/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1747/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1747/events", "html_url": "https://github.com/rasterio/rasterio/issues/1747", "id": 482500167, "node_id": "MDU6SXNzdWU0ODI1MDAxNjc=", "number": 1747, "title": "KeyError for real-valued nodata but complex-valued bands", "user": {"login": "scottyhq", "id": 3924836, "node_id": "MDQ6VXNlcjM5MjQ4MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/3924836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottyhq", "html_url": "https://github.com/scottyhq", "followers_url": "https://api.github.com/users/scottyhq/followers", "following_url": "https://api.github.com/users/scottyhq/following{/other_user}", "gists_url": "https://api.github.com/users/scottyhq/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottyhq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottyhq/subscriptions", "organizations_url": "https://api.github.com/users/scottyhq/orgs", "repos_url": "https://api.github.com/users/scottyhq/repos", "events_url": "https://api.github.com/users/scottyhq/events{/privacy}", "received_events_url": "https://api.github.com/users/scottyhq/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/87", "html_url": "https://github.com/rasterio/rasterio/milestone/87", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/87/labels", "id": 4593526, "node_id": "MDk6TWlsZXN0b25lNDU5MzUyNg==", "number": 87, "title": "1.0.26", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2019-08-21T23:40:02Z", "updated_at": "2019-08-26T17:17:54Z", "due_on": null, "closed_at": "2019-08-26T17:17:54Z"}, "comments": 3, "created_at": "2019-08-19T20:03:30Z", "updated_at": "2019-08-26T16:59:17Z", "closed_at": "2019-08-26T16:59:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI expect to be able to read or write real-valued NoData to formats that allow complex-valued data. GDAL interprets NoData as the real part of complex valued data (https://github.com/OSGeo/gdal/pull/808), but rasterio throws a `KeyError` error if the NoData dtype does not match the band dtype. \r\n\r\n## Steps to reproduce the problem.\r\n\r\nAn example:\r\n```python\r\nimport numpy as np\r\nimport rasterio\r\nfrom rasterio.transform import Affine\r\n\r\nx = np.linspace(-4.0, 4.0, 240)\r\ny = np.linspace(-3.0, 3.0, 180)\r\nX, Y = np.meshgrid(x, y)\r\nZ1 = np.ones_like(X) + 1j\r\n\r\nres = (x[-1] - x[0]) / 240.0\r\ntransform1 = Affine.translation(x[0] - res / 2, y[-1] - res / 2) * Affine.scale(res, -res)\r\n\r\nwith rasterio.open('top.tif', 'w',\r\n                    driver='GTiff',\r\n                    height=Z1.shape[0],\r\n                    width=Z1.shape[1],\r\n                    nodata=0, #KeyError: 'complex128'\r\n                    count=1,\r\n                    dtype=Z1.dtype,\r\n                    crs='+proj=latlong',\r\n                    transform=transform1,\r\n                    ) as dst:\r\n    dst.write(Z1, 1)\r\n```\r\n\r\n<details>\r\n  <summary>Click for Full Traceback</summary>\r\n  \r\n  ```pytb\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\n<ipython-input-165-0890010ff538> in <module>\r\n     19                     dtype=Z1.dtype,\r\n     20                     crs='+proj=latlong',\r\n---> 21                     transform=transform1,\r\n     22                     ) as dst:\r\n     23     dst.write(Z1, 1)\r\n\r\n/srv/conda/envs/notebook/lib/python3.7/site-packages/rasterio/env.py in wrapper(*args, **kwds)\r\n    428 \r\n    429         with env_ctor(session=session):\r\n--> 430             return f(*args, **kwds)\r\n    431 \r\n    432     return wrapper\r\n\r\n/srv/conda/envs/notebook/lib/python3.7/site-packages/rasterio/__init__.py in open(fp, mode, driver, width, height, count, crs, transform, dtype, nodata, sharing, **kwargs)\r\n    224                                               dtype=dtype, nodata=nodata,\r\n    225                                               sharing=sharing,\r\n--> 226                                               **kwargs)\r\n    227         else:\r\n    228             raise ValueError(\r\n\r\nrasterio/_io.pyx in rasterio._io.DatasetWriterBase.__init__()\r\n\r\nrasterio/_base.pyx in rasterio._base.DatasetBase.meta.__get__()\r\n\r\nrasterio/_base.pyx in rasterio._base.DatasetBase.nodata.__get__()\r\n\r\nrasterio/_base.pyx in rasterio._base.DatasetBase.nodatavals.__get__()\r\n\r\nrasterio/_base.pyx in rasterio._base.DatasetBase.get_nodatavals()\r\n\r\nKeyError: 'complex128'\r\n  ```\r\n</details>\r\n\r\n## Operating system\r\n\r\nLinux (4.14.128-112.105.amzn2.x86_64)\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 1.0.24 installed from conda-forge", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1747/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1747/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1744", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1744/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1744/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1744/events", "html_url": "https://github.com/rasterio/rasterio/issues/1744", "id": 480546292, "node_id": "MDU6SXNzdWU0ODA1NDYyOTI=", "number": 1744, "title": "Data get promoted to float64 when using WarpedVRT", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/88", "html_url": "https://github.com/rasterio/rasterio/milestone/88", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/88/labels", "id": 4614700, "node_id": "MDk6TWlsZXN0b25lNDYxNDcwMA==", "number": 88, "title": "1.0.27", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2019-08-29T20:53:07Z", "updated_at": "2019-09-06T00:18:40Z", "due_on": null, "closed_at": "2019-09-06T00:18:40Z"}, "comments": 14, "created_at": "2019-08-14T08:24:00Z", "updated_at": "2019-09-06T00:17:21Z", "closed_at": "2019-09-06T00:17:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This was first raised over https://github.com/cogeotiff/rio-cogeo/issues/85\r\nAfter some digging, I couldn't find the bug myself. I believe the problem comes from our WarpedVRT implementation but when reading the code I cannot find what's going on.\r\n\r\nThe behaviour only happens with the file shared by the user `https://esip-pangeo-uswest2.s3-us-west-2.amazonaws.com/sciencebase/tiny.tif` and I couldn't reproduce it with other files.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nkeep original datatype\r\n\r\n## Steps to reproduce the problem.\r\n\r\nFile: https://esip-pangeo-uswest2.s3-us-west-2.amazonaws.com/sciencebase/tiny.tif\r\n\r\n```python\r\nimport rasterio\r\nfrom rasterio.vrt import WarpedVRT\r\n\r\nsrc_path = \"tiny.tif\"\r\n\r\nwith rasterio.open(src_path) as src_dst:\r\n    print(src_dst.meta)\r\n    with WarpedVRT(src_dst) as vrt:\r\n        print(vrt.meta)\r\n\r\n> {'driver': 'GTiff', 'dtype': 'float32', 'nodata': -3.4028230607370965e+38, 'width': 512, 'height': 512, 'count': 1, 'crs': CRS.from_epsg(26911), 'transform': Affine(1.0, 0.0, 179523.99999999822,\r\n       0.0, -1.0, 3824832.0)}\r\n> {'driver': 'VRT', 'dtype': 'float64', 'nodata': -3.4028230607370965e+38, 'width': 512, 'height': 512, 'count': 1, 'crs': CRS.from_epsg(26911), 'transform': Affine(1.0, 0.0, 179523.99999999822,\r\n       0.0, -1.0, 3824832.0)}\r\n```\r\n\r\n## Operating system\r\n\r\nMac and Ubuntu \r\n\r\n## Rasterio version and provenance\r\n\r\n1.24 and master\r\n\r\n\r\ncc @rsignell-usgs", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1744/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1744/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1742", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1742/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1742/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1742/events", "html_url": "https://github.com/rasterio/rasterio/issues/1742", "id": 477963108, "node_id": "MDU6SXNzdWU0Nzc5NjMxMDg=", "number": 1742, "title": "Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated,", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/87", "html_url": "https://github.com/rasterio/rasterio/milestone/87", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/87/labels", "id": 4593526, "node_id": "MDk6TWlsZXN0b25lNDU5MzUyNg==", "number": 87, "title": "1.0.26", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2019-08-21T23:40:02Z", "updated_at": "2019-08-26T17:17:54Z", "due_on": null, "closed_at": "2019-08-26T17:17:54Z"}, "comments": 0, "created_at": "2019-08-07T14:26:45Z", "updated_at": "2019-08-26T16:59:16Z", "closed_at": "2019-08-26T16:59:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Just noticed this:\r\n```\r\nrasterio/crs.py:22: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n    class CRS(collections.Mapping):\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1742/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1738", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1738/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1738/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1738/events", "html_url": "https://github.com/rasterio/rasterio/issues/1738", "id": 474612268, "node_id": "MDU6SXNzdWU0NzQ2MTIyNjg=", "number": 1738, "title": "rasterize by property does not handle null values", "user": {"login": "WouterDX", "id": 727088, "node_id": "MDQ6VXNlcjcyNzA4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/727088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WouterDX", "html_url": "https://github.com/WouterDX", "followers_url": "https://api.github.com/users/WouterDX/followers", "following_url": "https://api.github.com/users/WouterDX/following{/other_user}", "gists_url": "https://api.github.com/users/WouterDX/gists{/gist_id}", "starred_url": "https://api.github.com/users/WouterDX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WouterDX/subscriptions", "organizations_url": "https://api.github.com/users/WouterDX/orgs", "repos_url": "https://api.github.com/users/WouterDX/repos", "events_url": "https://api.github.com/users/WouterDX/events{/privacy}", "received_events_url": "https://api.github.com/users/WouterDX/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/86", "html_url": "https://github.com/rasterio/rasterio/milestone/86", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/86/labels", "id": 4415747, "node_id": "MDk6TWlsZXN0b25lNDQxNTc0Nw==", "number": 86, "title": "1.0.25", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-06-17T16:33:15Z", "updated_at": "2019-08-22T16:39:22Z", "due_on": null, "closed_at": "2019-08-22T16:39:22Z"}, "comments": 4, "created_at": "2019-07-30T14:16:53Z", "updated_at": "2019-07-30T21:54:04Z", "closed_at": "2019-07-30T21:50:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "rasterizing by property (in rio rasterize) does not seem to handle records with null values. I would expect these records to be rasterized as nodata values.\r\nSimilarly, such cases won't be handled by rasterize code from features.py.\r\n\r\n## Steps to reproduce the problem.\r\n```#To get a valid input for rio.rasterize\r\nfrom rasterio.features import rasterize\r\ngeometry = {\r\n    'type': 'Polygon',\r\n    'coordinates': [[(2, 2), (2, 4.25), (4.25, 4.25), (4.25, 2), (2, 2)]]}\r\ngeojson = {'type':'FeatureCollection','features':[{'geometry' : geometry,'properties' : {'prop': None, 'id': 1}, 'type' : 'Feature'}]}\r\n\r\nprop='prop'\r\ndefault_value=0\r\n\r\ndef feature_value(feature):\r\n            if prop and 'properties' in feature:\r\n                return feature['properties'].get(prop, default_value)\r\n            return default_value\r\n\r\ngeometries=[]\r\nfor f in geojson['features']:\r\n    geometries.append((f['geometry'], feature_value(f)))\r\n\r\nresult=rasterize(geometries,out_shape=(10,10))\r\n```\r\nThis will return a TypeError.\r\n\r\nDone on python3.6 , installed with Anaconda from conda-forge, version 1.0.24.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1738/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1738/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1732", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1732/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1732/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1732/events", "html_url": "https://github.com/rasterio/rasterio/issues/1732", "id": 472668007, "node_id": "MDU6SXNzdWU0NzI2NjgwMDc=", "number": 1732, "title": "Need a better example for resampling a raster to a different resolution", "user": {"login": "00krishna", "id": 2063593, "node_id": "MDQ6VXNlcjIwNjM1OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2063593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/00krishna", "html_url": "https://github.com/00krishna", "followers_url": "https://api.github.com/users/00krishna/followers", "following_url": "https://api.github.com/users/00krishna/following{/other_user}", "gists_url": "https://api.github.com/users/00krishna/gists{/gist_id}", "starred_url": "https://api.github.com/users/00krishna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/00krishna/subscriptions", "organizations_url": "https://api.github.com/users/00krishna/orgs", "repos_url": "https://api.github.com/users/00krishna/repos", "events_url": "https://api.github.com/users/00krishna/events{/privacy}", "received_events_url": "https://api.github.com/users/00krishna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-25T05:13:31Z", "updated_at": "2019-10-11T19:15:22Z", "closed_at": "2019-10-11T19:15:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\nI was using the raster resampling functionality as per the documentation:\r\nhttps://rasterio.readthedocs.io/en/stable/topics/resampling.html\r\n```python\r\nwith rasterio.open(\"example.tif\") as dataset:\r\n    data = dataset.read(\r\n        out_shape=(dataset.height / 2, dataset.width / 2, dataset.count),\r\n        resampling=resampling.average\r\n    )\r\n```\r\nI ran into a few different errors listed below. I have a proposal for some better code for the documentation on this functionality and can generate a pull request for the documentation if the maintainers agree.\r\n\r\nThe problem was that the documentation is a bit ambiguous--for example it references a change in the transformation due to resampling, but does not indicate how to adjust the transformation. \r\n\r\nI followed the example, but got a few different errors. \r\n\r\n1. `TypeError: 'float' object cannot be interpreted as an integer` \r\n\r\nThis was caused by the fact that the `out_shape` tuple needs to have all integers only. So I had to wrap all of the element in `int()`--or use integer division. Actually, the example in the documentation shows regular division and this should be integer division \"//\".\r\n\r\nhttps://gis.stackexchange.com/questions/329890/rasterio-resampling-image-to-lower-resolution-error-float-object-cannot-be-in/329928#329928\r\n\r\n2. `ValueError: Source shape (1, 11404, 15902, 3) is inconsistent with given indexes 1`\r\n\r\nThis error was caused by the elements of the `out_shape` are in the wrong order for a 3 band raster. A 3 band raster is usually in (channel, row, column) order, but the format in the example is in (row, column, band) order. So that generated the error.\r\nhttps://gis.stackexchange.com/questions/329925/rasterio-save-multiband-raster-to-tiff-file/329927?noredirect=1#comment538039_329927\r\n3. The transform needs to be adjusted once the resolution is changed\r\n\r\nThere is a mention of this issue in the Note section of the resampling documentation, but no description of how to actually adjust the transform. The code in the referenced stack exchange post solves the problem.\r\nhttps://gis.stackexchange.com/questions/329945/should-resampling-downsampling-a-raster-using-rasterio-cause-the-coordinates-t#329949\r\n\r\n## Steps to reproduce the problem.\r\n\r\nIf the user follows the example as written, the problems referenced above will recur. I can add additional detail if needed. \r\n\r\nUser Luke Pinner has created an excellent gist that should be used as the example instead. https://gist.github.com/lpinner/13244b5c589cda4fbdfa89b30a44005b\r\n\r\nAs I said, if the maintainers agree I can work up a pull request for the documentation.\r\n \r\n## Operating system\r\n\r\nFor example: Ubuntu Linux 18.04 LTS x64\r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio 1.0.24\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1732/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1732/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1723", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1723/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1723/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1723/events", "html_url": "https://github.com/rasterio/rasterio/issues/1723", "id": 466386583, "node_id": "MDU6SXNzdWU0NjYzODY1ODM=", "number": 1723, "title": "Rasterio raster does not plot on cartopy geoaxes", "user": {"login": "translunar", "id": 165284, "node_id": "MDQ6VXNlcjE2NTI4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/165284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/translunar", "html_url": "https://github.com/translunar", "followers_url": "https://api.github.com/users/translunar/followers", "following_url": "https://api.github.com/users/translunar/following{/other_user}", "gists_url": "https://api.github.com/users/translunar/gists{/gist_id}", "starred_url": "https://api.github.com/users/translunar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/translunar/subscriptions", "organizations_url": "https://api.github.com/users/translunar/orgs", "repos_url": "https://api.github.com/users/translunar/repos", "events_url": "https://api.github.com/users/translunar/events{/privacy}", "received_events_url": "https://api.github.com/users/translunar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-07-10T15:48:11Z", "updated_at": "2019-07-11T21:02:43Z", "closed_at": "2019-07-11T20:07:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nThe final plot in https://github.com/mapbox/rasterio/blob/master/examples/Data%20visualization.ipynb does not look as it should. Specifically, the raster is not rendered beneath the Cartopy borders and coastlines; only the Cartopy features are plotted, and no raster.\r\n\r\n![screenshot of jupyter notebook result](https://user-images.githubusercontent.com/165284/60982720-4be1e880-a2fe-11e9-8bfd-13d365f2440c.png)\r\n\r\nNo error message is displayed, however this issue may be related to #1724 .\r\n\r\n## Steps to reproduce the problem.\r\n\r\n1. Install rasterio using pip.\r\n2. Clone rasterio repository. Change directories into `rasterio/examples/`. Run `jupyter notebook` and change kernels to Python 3.\r\n3. Remove all of the `%matplotlib` instructions, as these seem not to work consistently with my installation, and replace with `plt.show()` at the end of each plot. Restart the kernel and run all cells.\r\n\r\n## Operating system\r\n\r\nUbuntu\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 1.0.24 in Python 3.6.5 installed from PyPI using pip 9.0.1.\r\n\r\nI'm also using the most recent versions of matplotlib (3.1.1) and cartopy (0.17.0) available on PyPI.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1723/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1723/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1721", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1721/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1721/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1721/events", "html_url": "https://github.com/rasterio/rasterio/issues/1721", "id": 465964941, "node_id": "MDU6SXNzdWU0NjU5NjQ5NDE=", "number": 1721, "title": "Bilinear resampling creates invalid mask values ", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/94", "html_url": "https://github.com/rasterio/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 12, "created_at": "2019-07-09T20:14:30Z", "updated_at": "2020-02-25T22:53:48Z", "closed_at": "2020-02-25T18:47:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Ref: https://github.com/cogeotiff/rio-tiler/issues/105\r\n\r\nWhen using one resampling methods for `reading` the data, it is (IMO) logical to use the same resampling method for mask reading (e.g via `dataset_mask()`) \r\n\r\n\ud83d\udc47 This is an example when using different resampling methods for `read` and `dataset_mask`\r\n<details>\r\n\r\n![](https://user-images.githubusercontent.com/10407788/60918253-e2f86300-a260-11e9-85c1-34ba949516c7.png)\r\n</details>\r\n\r\nProblem (bug) is when you use other resampling than nearest (e.g bilinear) the resulting mask from `dataset_mask` will contains values between 0-255. \r\n\r\n<details>\r\n\r\n![](https://user-images.githubusercontent.com/10407788/60919091-d7a63700-a262-11e9-829e-4427fee27b41.png)\r\n</details>\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nMask should always be binary 0 or 255. \r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport rasterio\r\nfrom rasterio.enums import Resampling\r\n\r\n# Create Dataset\r\nimgsize = 6000\r\narr = np.random.rand(3, imgsize, imgsize) * 100\r\narr = arr.astype(np.uint8) + 1\r\nmask = np.full((imgsize, imgsize), 255).astype(np.uint8)\r\narr[:, 0: 1000, 0: 1000] = 0\r\nmask[0: 1000, 0: 1000] = 0        \r\n\r\nconfig = dict(GDAL_TIFF_INTERNAL_MASK=True)\r\nwith rasterio.Env(**config):\r\n    params = {\r\n        \"driver\": \"GTiff\",\r\n        \"blockxsize\": 512,\r\n        \"blockysize\": 512,\r\n        \"dtype\": np.uint8,\r\n        \"count\": 3,\r\n        \"height\": imgsize,\r\n        \"width\": imgsize,\r\n    }\r\n    with rasterio.open(\"uint8_mask.tif\", \"w\", **params) as dst:\r\n        dst.write(arr)\r\n        dst.write_mask(mask)\r\n\r\nwith rasterio.open(\"uint8_mask.tif\") as src_dst:\r\n    tile = src_dst.read(window=((0,2000),(0,2000)), out_shape=(3, 256, 256), resampling=Resampling[\"bilinear\"])\r\n    mask = src_dst.dataset_mask(window=((0,2000),(0,2000)), out_shape=(256, 256), resampling=Resampling[\"bilinear\"])\r\n    mask_from_data = np.all(tile != 0, axis=0).astype(np.uint8) * 255\r\n\r\n    assert mask == mask_from_data\r\n\r\n```\r\n\r\n## Findings \r\nIn the code \u261d\ufe0f, `dataset_mask` is calling (confirmed with logging) https://github.com/mapbox/rasterio/blob/b9f34ee559039239c7c0c97bd911b466701a39cd/rasterio/_io.pyx#L560-L567, and when looking at the code there is a special case that was added (for boundless/window read) https://github.com/mapbox/rasterio/blob/b9f34ee559039239c7c0c97bd911b466701a39cd/rasterio/_io.pyx#L612-L623 to overcome the same behaviour. \r\n\r\n## Operating system\r\n\r\nMac OS\r\n\r\n## Rasterio version and provenance\r\n\r\nGithub master (1.0.24)\r\n\r\n\r\nNotebook: https://gist.github.com/vincentsarago/551af3049f1a9708e020f23aa85c4803", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1721/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1721/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1720", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1720/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1720/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1720/events", "html_url": "https://github.com/rasterio/rasterio/issues/1720", "id": 463829612, "node_id": "MDU6SXNzdWU0NjM4Mjk2MTI=", "number": 1720, "title": "Add pyproject.toml to MANIFEST.in", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/86", "html_url": "https://github.com/rasterio/rasterio/milestone/86", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/86/labels", "id": 4415747, "node_id": "MDk6TWlsZXN0b25lNDQxNTc0Nw==", "number": 86, "title": "1.0.25", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-06-17T16:33:15Z", "updated_at": "2019-08-22T16:39:22Z", "due_on": null, "closed_at": "2019-08-22T16:39:22Z"}, "comments": 1, "created_at": "2019-07-03T15:51:00Z", "updated_at": "2019-07-29T18:43:23Z", "closed_at": "2019-07-29T18:43:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For benefit of `--no-binary` installs.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1720/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1720/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1713", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1713/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1713/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1713/events", "html_url": "https://github.com/rasterio/rasterio/issues/1713", "id": 460700532, "node_id": "MDU6SXNzdWU0NjA3MDA1MzI=", "number": 1713, "title": "memory leak when using rasterio.warp.transform() on Linux", "user": {"login": "spolloni", "id": 27390119, "node_id": "MDQ6VXNlcjI3MzkwMTE5", "avatar_url": "https://avatars.githubusercontent.com/u/27390119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spolloni", "html_url": "https://github.com/spolloni", "followers_url": "https://api.github.com/users/spolloni/followers", "following_url": "https://api.github.com/users/spolloni/following{/other_user}", "gists_url": "https://api.github.com/users/spolloni/gists{/gist_id}", "starred_url": "https://api.github.com/users/spolloni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spolloni/subscriptions", "organizations_url": "https://api.github.com/users/spolloni/orgs", "repos_url": "https://api.github.com/users/spolloni/repos", "events_url": "https://api.github.com/users/spolloni/events{/privacy}", "received_events_url": "https://api.github.com/users/spolloni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/88", "html_url": "https://github.com/rasterio/rasterio/milestone/88", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/88/labels", "id": 4614700, "node_id": "MDk6TWlsZXN0b25lNDYxNDcwMA==", "number": 88, "title": "1.0.27", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2019-08-29T20:53:07Z", "updated_at": "2019-09-06T00:18:40Z", "due_on": null, "closed_at": "2019-09-06T00:18:40Z"}, "comments": 3, "created_at": "2019-06-26T00:11:15Z", "updated_at": "2019-09-06T00:17:21Z", "closed_at": "2019-09-06T00:17:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI am finding that the repeated use of rasterio.warp.transform() increases RAM usage indefinitely on Linux. Interestingly, this behavior doesn't arise when using rasterio.warp.transform_geom(), nor when calling the function on Mac OS X.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nhere is a minimal example reproducing the problem on my Linux machine:\r\n```python\r\nfrom rasterio.warp import transform\r\n\r\ndef transform_coords(coords):\r\n    return  transform({'init': 'epsg:3857'}, {'init': 'epsg:4326'}, *coords)\r\n\r\nwhile True:\r\n    transform_coords([[-7920534.90028134],[5186527.205690534]])\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu 18.04.2 LTS\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 1.0.22 installed using pip 19.0.3 for Python 3.6.7\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1713/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1713/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1712", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1712/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1712/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1712/events", "html_url": "https://github.com/rasterio/rasterio/issues/1712", "id": 460010388, "node_id": "MDU6SXNzdWU0NjAwMTAzODg=", "number": 1712, "title": "Local datasets won't open when expired AWS credentials exist", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/86", "html_url": "https://github.com/rasterio/rasterio/milestone/86", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/86/labels", "id": 4415747, "node_id": "MDk6TWlsZXN0b25lNDQxNTc0Nw==", "number": 86, "title": "1.0.25", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-06-17T16:33:15Z", "updated_at": "2019-08-22T16:39:22Z", "due_on": null, "closed_at": "2019-08-22T16:39:22Z"}, "comments": 1, "created_at": "2019-06-24T17:31:19Z", "updated_at": "2019-07-12T22:31:30Z", "closed_at": "2019-07-12T22:31:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The fix for https://github.com/mapbox/rasterio/issues/1708 doesn't take care of a related bug: if you have expired credentials in your environment and *do* have boto3, local files will fail to open.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1712/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1712/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1708", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1708/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1708/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1708/events", "html_url": "https://github.com/rasterio/rasterio/issues/1708", "id": 456834840, "node_id": "MDU6SXNzdWU0NTY4MzQ4NDA=", "number": 1708, "title": "`boto3` required to open local file", "user": {"login": "glostis", "id": 25295717, "node_id": "MDQ6VXNlcjI1Mjk1NzE3", "avatar_url": "https://avatars.githubusercontent.com/u/25295717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glostis", "html_url": "https://github.com/glostis", "followers_url": "https://api.github.com/users/glostis/followers", "following_url": "https://api.github.com/users/glostis/following{/other_user}", "gists_url": "https://api.github.com/users/glostis/gists{/gist_id}", "starred_url": "https://api.github.com/users/glostis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glostis/subscriptions", "organizations_url": "https://api.github.com/users/glostis/orgs", "repos_url": "https://api.github.com/users/glostis/repos", "events_url": "https://api.github.com/users/glostis/events{/privacy}", "received_events_url": "https://api.github.com/users/glostis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/86", "html_url": "https://github.com/rasterio/rasterio/milestone/86", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/86/labels", "id": 4415747, "node_id": "MDk6TWlsZXN0b25lNDQxNTc0Nw==", "number": 86, "title": "1.0.25", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-06-17T16:33:15Z", "updated_at": "2019-08-22T16:39:22Z", "due_on": null, "closed_at": "2019-08-22T16:39:22Z"}, "comments": 2, "created_at": "2019-06-17T09:32:50Z", "updated_at": "2019-06-17T20:40:08Z", "closed_at": "2019-06-17T20:40:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\n**Expected behavior:** installing `rasterio` from `pip` on a fresh Python environment, and trying to open a local file with it. This should succeed without needing additional requirements.\r\n\r\n**Actual behavior:** `rio info a.tiff` on a local `a.tiff` file, for example, gives\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/guillaumelostis/.venv/rio/bin/rio\", line 10, in <module>\r\n    sys.exit(main_group())\r\n  File \"/Users/guillaumelostis/.venv/rio/lib/python3.7/site-packages/click/core.py\", line 764, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/Users/guillaumelostis/.venv/rio/lib/python3.7/site-packages/click/core.py\", line 717, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/Users/guillaumelostis/.venv/rio/lib/python3.7/site-packages/click/core.py\", line 1134, in invoke\r\n    Command.invoke(self, ctx)\r\n  File \"/Users/guillaumelostis/.venv/rio/lib/python3.7/site-packages/click/core.py\", line 956, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/Users/guillaumelostis/.venv/rio/lib/python3.7/site-packages/click/core.py\", line 555, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/Users/guillaumelostis/.venv/rio/lib/python3.7/site-packages/click/decorators.py\", line 17, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/Users/guillaumelostis/.venv/rio/lib/python3.7/site-packages/rasterio/rio/main.py\", line 103, in main_group\r\n    ctx.obj[\"env\"] = rasterio.Env(**envopts)\r\n  File \"/Users/guillaumelostis/.venv/rio/lib/python3.7/site-packages/rasterio/env.py\", line 195, in __init__\r\n    self.session = AWSSession()\r\n  File \"/Users/guillaumelostis/.venv/rio/lib/python3.7/site-packages/rasterio/session.py\", line 198, in __init__\r\n    import boto3\r\nModuleNotFoundError: No module named 'boto3'\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\n`pip install rasterio` on a fresh Python environment. This installs `rasterio==1.0.24` using the Mac OS wheels on my machine.\r\n\r\nThen running `rio info a.tiff` on a local file gives the traceback above. This is due to the fact that I have the `AWS_ACCESS_KEY_ID` and `AWS_SECRET_ACCESS_KEY` environment variables set on my machine since I occasionally work with files from `S3`.\r\nThis causes this condition: https://github.com/mapbox/rasterio/blob/4aefb4674d19f29cce8a408819aa001151b204d1/rasterio/env.py#L194-L195 to be true, and therefore an `AWSSession` is used to open my local file.\r\n\r\nI am aware that I can easily solve my problem by running `pip install \"rasterio[s3]\"`, or by removing the environment variables when working with local files, but both these solutions require extra work and could mislead new users. I know how to work around this issue, but I am just wondering of you agree that this is a bug, or if you think that this is the expected behavior, in which case I don't mind you closing the issue.\r\n\r\nI have also found out that opening a local file using:\r\n```python\r\nimport rasterio\r\nf = rasterio.open(\"a.tiff\")\r\n```\r\n\r\nworks, while this does not:\r\n```python\r\nimport rasterio\r\nwith rasterio.open(\"a.tiff\") as f:\r\n    pass\r\n```\r\n\r\nThis is logical since the second solution uses `rasterio.env` while the first one doesn't.\r\n\r\nI don't have a good knowledge of the inner workings of `rasterio`, but falling back to a basic session if `boto3` requirement is not met could maybe be a way to workaround the problem I am facing?\r\n\r\n## Operating system\r\n\r\nAll\r\n\r\n## Rasterio version and provenance\r\n\r\nThe 1.0.24 Mac OS wheel installed from PyPI using pip 19.0.3.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1708/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1708/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1705", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1705/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1705/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1705/events", "html_url": "https://github.com/rasterio/rasterio/issues/1705", "id": 453250508, "node_id": "MDU6SXNzdWU0NTMyNTA1MDg=", "number": 1705, "title": "Change sharing default to False in rasterio.open", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 1183053396, "node_id": "MDU6TGFiZWwxMTgzMDUzMzk2", "url": "https://api.github.com/repos/rasterio/rasterio/labels/needs%20discussion", "name": "needs discussion", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/70", "html_url": "https://github.com/rasterio/rasterio/milestone/70", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/70/labels", "id": 3734597, "node_id": "MDk6TWlsZXN0b25lMzczNDU5Nw==", "number": 70, "title": "1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-10-12T18:13:46Z", "updated_at": "2019-10-07T16:28:10Z", "due_on": "2019-10-07T07:00:00Z", "closed_at": "2019-10-07T16:28:10Z"}, "comments": 0, "created_at": "2019-06-06T21:41:18Z", "updated_at": "2019-09-13T14:05:15Z", "closed_at": "2019-09-13T14:05:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The unexpected behavior noted in #1504 makes me think we should reverse the default for sharing that was set in #1260. Not sharing dataset handles == fewer surprises. ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1705/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1701", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1701/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1701/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1701/events", "html_url": "https://github.com/rasterio/rasterio/issues/1701", "id": 452578139, "node_id": "MDU6SXNzdWU0NTI1NzgxMzk=", "number": 1701, "title": "open() does not set GDALOpenEx sharing flag", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/85", "html_url": "https://github.com/rasterio/rasterio/milestone/85", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/85/labels", "id": 4379113, "node_id": "MDk6TWlsZXN0b25lNDM3OTExMw==", "number": 85, "title": "1.0.24", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2019-06-05T15:43:58Z", "updated_at": "2019-06-06T17:42:07Z", "due_on": null, "closed_at": "2019-06-06T17:42:07Z"}, "comments": 0, "created_at": "2019-06-05T15:47:18Z", "updated_at": "2019-06-06T17:41:50Z", "closed_at": "2019-06-06T17:41:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Discovered in #1504 is that open() fails to pass the sharing flag on to the dataset constructors and GDALOpenEx. We've been sharing dataset connections even if users pass `sharing=False`.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1701/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1701/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1697", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1697/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1697/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1697/events", "html_url": "https://github.com/rasterio/rasterio/issues/1697", "id": 444815972, "node_id": "MDU6SXNzdWU0NDQ4MTU5NzI=", "number": 1697, "title": "pytest dependency is too low", "user": {"login": "QuLogic", "id": 302469, "node_id": "MDQ6VXNlcjMwMjQ2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/302469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuLogic", "html_url": "https://github.com/QuLogic", "followers_url": "https://api.github.com/users/QuLogic/followers", "following_url": "https://api.github.com/users/QuLogic/following{/other_user}", "gists_url": "https://api.github.com/users/QuLogic/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuLogic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuLogic/subscriptions", "organizations_url": "https://api.github.com/users/QuLogic/orgs", "repos_url": "https://api.github.com/users/QuLogic/repos", "events_url": "https://api.github.com/users/QuLogic/events{/privacy}", "received_events_url": "https://api.github.com/users/QuLogic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/86", "html_url": "https://github.com/rasterio/rasterio/milestone/86", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/86/labels", "id": 4415747, "node_id": "MDk6TWlsZXN0b25lNDQxNTc0Nw==", "number": 86, "title": "1.0.25", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-06-17T16:33:15Z", "updated_at": "2019-08-22T16:39:22Z", "due_on": null, "closed_at": "2019-08-22T16:39:22Z"}, "comments": 1, "created_at": "2019-05-16T08:16:47Z", "updated_at": "2019-07-29T21:22:55Z", "closed_at": "2019-07-29T21:22:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nTests should work on Fedora 28/29 with their versions of pytest (3.4.2 / 3.6.4).\r\n\r\nThey currently fail because of missing `tmp_path` fixture:\r\n```\r\n_______________ ERROR at setup of test_untiled_dataset_blocksize _______________\r\nfile /builddir/build/BUILD/rasterio-1.0.23/tests/test_dataset.py, line 46\r\n  def test_untiled_dataset_blocksize(tmp_path):\r\nE       fixture 'tmp_path' not found\r\n>       available fixtures: _path_multiband_no_colorinterp, basic_feature, basic_featurecollection, basic_geometry, basic_image, basic_image_2x2, basic_image_2x2x2, basic_image_file, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, data, data_dir, diagonal_image, doctest_namespace, gdalenv, geojson_geomcollection, geojson_line, geojson_multiline, geojson_multipoint, geojson_multipolygon, geojson_point, geojson_polygon, monkeypatch, path_3band_no_colorinterp, path_4band_no_colorinterp, path_alpha_tif, path_float_tif, path_rgb_byte_tif, path_rgb_msk_byte_tif, path_rgba_byte_tif, path_zip_file, pixelated_image, pixelated_image_file, pytestconfig, record_property, record_xml_attribute, record_xml_property, recwarn, red_green, rotated_image_file, rotation_geometry, runner, tmpdir, tmpdir_factory\r\n>       use 'pytest --fixtures [testpath]' for help on them.\r\n/builddir/build/BUILD/rasterio-1.0.23/tests/test_dataset.py:46\r\n_____________ ERROR at setup of test_tiled_dataset_blocksize_guard _____________\r\nfile /builddir/build/BUILD/rasterio-1.0.23/tests/test_dataset.py, line 60\r\n  def test_tiled_dataset_blocksize_guard(tmp_path):\r\nE       fixture 'tmp_path' not found\r\n>       available fixtures: _path_multiband_no_colorinterp, basic_feature, basic_featurecollection, basic_geometry, basic_image, basic_image_2x2, basic_image_2x2x2, basic_image_file, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, data, data_dir, diagonal_image, doctest_namespace, gdalenv, geojson_geomcollection, geojson_line, geojson_multiline, geojson_multipoint, geojson_multipolygon, geojson_point, geojson_polygon, monkeypatch, path_3band_no_colorinterp, path_4band_no_colorinterp, path_alpha_tif, path_float_tif, path_rgb_byte_tif, path_rgb_msk_byte_tif, path_rgba_byte_tif, path_zip_file, pixelated_image, pixelated_image_file, pytestconfig, record_property, record_xml_attribute, record_xml_property, recwarn, red_green, rotated_image_file, rotation_geometry, runner, tmpdir, tmpdir_factory\r\n>       use 'pytest --fixtures [testpath]' for help on them.\r\n/builddir/build/BUILD/rasterio-1.0.23/tests/test_dataset.py:60\r\n```\r\n\r\nAccording to `setup.py`, minimum is `pytest>=2.8.2`, though according to `requirements-dev.txt`, minimum is `pytest>=3.1.0`. However, `tmp_path` was added in 3.9.0.\r\n\r\n## Operating system\r\n\r\nFedora 28/29\r\n\r\n## Rasterio version and provenance\r\n\r\n1.0.23, building a package", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1697/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1689", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1689/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1689/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1689/events", "html_url": "https://github.com/rasterio/rasterio/issues/1689", "id": 443939441, "node_id": "MDU6SXNzdWU0NDM5Mzk0NDE=", "number": 1689, "title": "blockysize and blockxsize kicks in even if tiled=False/'NO'", "user": {"login": "vesnikos", "id": 6684178, "node_id": "MDQ6VXNlcjY2ODQxNzg=", "avatar_url": "https://avatars.githubusercontent.com/u/6684178?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vesnikos", "html_url": "https://github.com/vesnikos", "followers_url": "https://api.github.com/users/vesnikos/followers", "following_url": "https://api.github.com/users/vesnikos/following{/other_user}", "gists_url": "https://api.github.com/users/vesnikos/gists{/gist_id}", "starred_url": "https://api.github.com/users/vesnikos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vesnikos/subscriptions", "organizations_url": "https://api.github.com/users/vesnikos/orgs", "repos_url": "https://api.github.com/users/vesnikos/repos", "events_url": "https://api.github.com/users/vesnikos/events{/privacy}", "received_events_url": "https://api.github.com/users/vesnikos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/84", "html_url": "https://github.com/rasterio/rasterio/milestone/84", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/84/labels", "id": 4164716, "node_id": "MDk6TWlsZXN0b25lNDE2NDcxNg==", "number": 84, "title": "1.0.23", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-03-22T18:12:47Z", "updated_at": "2019-05-16T04:25:38Z", "due_on": null, "closed_at": "2019-05-16T04:25:38Z"}, "comments": 3, "created_at": "2019-05-14T14:12:28Z", "updated_at": "2019-05-16T04:23:26Z", "closed_at": "2019-05-16T04:23:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/mapbox/rasterio/blob/6056d75093fccee5d332b9c7fa73546052e99422/rasterio/_io.pyx#L1087\r\n\r\nI was creating some small raster files, smaller than 256 pixels in one dimension and the check was activated even if updated the profile \r\n`profile.update(tiled=False)`\r\n\r\nWithout being 100% sure, I don't think the blockxsize and blockysize numbers have any meaningful context if TILED=NO is specified in the creation options of a geotiff.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1689/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1688", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1688/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1688/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1688/events", "html_url": "https://github.com/rasterio/rasterio/issues/1688", "id": 443135973, "node_id": "MDU6SXNzdWU0NDMxMzU5NzM=", "number": 1688, "title": "1.0.22, python 3.5, ds.crs.copy() object has no attribute 'copy'", "user": {"login": "apiszcz", "id": 1430861, "node_id": "MDQ6VXNlcjE0MzA4NjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1430861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apiszcz", "html_url": "https://github.com/apiszcz", "followers_url": "https://api.github.com/users/apiszcz/followers", "following_url": "https://api.github.com/users/apiszcz/following{/other_user}", "gists_url": "https://api.github.com/users/apiszcz/gists{/gist_id}", "starred_url": "https://api.github.com/users/apiszcz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apiszcz/subscriptions", "organizations_url": "https://api.github.com/users/apiszcz/orgs", "repos_url": "https://api.github.com/users/apiszcz/repos", "events_url": "https://api.github.com/users/apiszcz/events{/privacy}", "received_events_url": "https://api.github.com/users/apiszcz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/84", "html_url": "https://github.com/rasterio/rasterio/milestone/84", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/84/labels", "id": 4164716, "node_id": "MDk6TWlsZXN0b25lNDE2NDcxNg==", "number": 84, "title": "1.0.23", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-03-22T18:12:47Z", "updated_at": "2019-05-16T04:25:38Z", "due_on": null, "closed_at": "2019-05-16T04:25:38Z"}, "comments": 3, "created_at": "2019-05-12T19:03:06Z", "updated_at": "2019-05-14T17:33:29Z", "closed_at": "2019-05-14T17:26:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Did something change wrt to ds.crs methods?\r\ncopy worked in versions < 1.0.22\r\n\r\nI'm using ds.crs.__copy__() now.\r\n\r\n-```\r\n> dst_crs=ds.crs.copy()\r\n(Pdb) dir(ds.crs)\r\n['__abstractmethods__', '__bool__', '__class__', '__contains__', '__copy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__init__', '__iter__', '__le__', '__len__', '__lt__', '__module__', '__ne__', '__new__', '__nonzero__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_cache', '_abc_negative_cache', '_abc_negative_cache_version', '_abc_registry', '_crs', '_data', '_wkt', 'data', 'from_dict', 'from_epsg', 'from_proj4', 'from_string', 'from_user_input', 'from_wkt', 'get', 'is_epsg_code', 'is_geographic', 'is_projected', 'is_valid', 'items', 'keys', 'linear_units', 'to_dict', 'to_epsg', 'to_proj4', 'to_string', 'to_wkt', 'values', 'wkt'] (Pdb) ds.crs.copy()\r\n*** AttributeError: 'CRS' object has no attribute 'copy'\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1688/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1688/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1685", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1685/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1685/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1685/events", "html_url": "https://github.com/rasterio/rasterio/issues/1685", "id": 442638900, "node_id": "MDU6SXNzdWU0NDI2Mzg5MDA=", "number": 1685, "title": "Performance degradation of CRS equality checking", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/98", "html_url": "https://github.com/rasterio/rasterio/milestone/98", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/98/labels", "id": 5533146, "node_id": "MDk6TWlsZXN0b25lNTUzMzE0Ng==", "number": 98, "title": "1.1.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2020-06-11T19:36:28Z", "updated_at": "2020-09-15T14:15:39Z", "due_on": null, "closed_at": "2020-09-15T14:15:39Z"}, "comments": 8, "created_at": "2019-05-10T10:01:10Z", "updated_at": "2020-09-15T14:15:15Z", "closed_at": "2020-09-15T14:15:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "That improvement https://github.com/mapbox/rasterio/pull/1444 has been lost while switching to WKT representation.\r\n\r\nAfter:\r\n\r\n```\r\nIn [1]: import rasterio  \r\n\r\nIn [2]: rasterio.__version__  \r\nOut[2]: '1.0.14'\r\n\r\nIn [3]: from rasterio.crs import CRS \r\n\r\nIn [4]: c1 = CRS({'init': 'epsg:3857'})\r\n\r\nIn [5]: c2 = CRS({'init': 'epsg:3857'})\r\n\r\nIn [6]: %timeit c1 == c2 \r\n26.7 \u00b5s \u00b1 370 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\r\n```\r\n\r\nBefore:\r\n\r\n```\r\nIn [1]: import rasterio\r\n\r\nIn [2]: rasterio.__version__ \r\nOut[2]: '1.0.13'\r\n\r\nIn [3]: from rasterio.crs import CRS  \r\n\r\nIn [4]: c1 = CRS({'init': 'epsg:3857'})  \r\n\r\nIn [5]: c2 = CRS({'init': 'epsg:3857'})  \r\n\r\nIn [6]: %timeit c1 == c2  \r\n204 ns \u00b1 2.59 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1685/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1685/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1684", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1684/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1684/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1684/events", "html_url": "https://github.com/rasterio/rasterio/issues/1684", "id": 442632271, "node_id": "MDU6SXNzdWU0NDI2MzIyNzE=", "number": 1684, "title": "CRS are unhashable", "user": {"login": "astrojuanlu", "id": 316517, "node_id": "MDQ6VXNlcjMxNjUxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/316517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/astrojuanlu", "html_url": "https://github.com/astrojuanlu", "followers_url": "https://api.github.com/users/astrojuanlu/followers", "following_url": "https://api.github.com/users/astrojuanlu/following{/other_user}", "gists_url": "https://api.github.com/users/astrojuanlu/gists{/gist_id}", "starred_url": "https://api.github.com/users/astrojuanlu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/astrojuanlu/subscriptions", "organizations_url": "https://api.github.com/users/astrojuanlu/orgs", "repos_url": "https://api.github.com/users/astrojuanlu/repos", "events_url": "https://api.github.com/users/astrojuanlu/events{/privacy}", "received_events_url": "https://api.github.com/users/astrojuanlu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/84", "html_url": "https://github.com/rasterio/rasterio/milestone/84", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/84/labels", "id": 4164716, "node_id": "MDk6TWlsZXN0b25lNDE2NDcxNg==", "number": 84, "title": "1.0.23", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-03-22T18:12:47Z", "updated_at": "2019-05-16T04:25:38Z", "due_on": null, "closed_at": "2019-05-16T04:25:38Z"}, "comments": 1, "created_at": "2019-05-10T09:45:48Z", "updated_at": "2019-05-16T04:23:26Z", "closed_at": "2019-05-16T04:23:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "CRS objects are not hashable:\r\n\r\n```\r\n>>> from rasterio.crs import CRS\r\n>>> c = CRS.from_dict(init=\"epsg:4326\")\r\n>>> d = {c: True}\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nTypeError: unhashable type: 'CRS'\r\n```\r\n\r\nI think it would be very nice for caching, for example using `functools.lru_cache`.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1684/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1684/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1683", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1683/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1683/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1683/events", "html_url": "https://github.com/rasterio/rasterio/issues/1683", "id": 441783518, "node_id": "MDU6SXNzdWU0NDE3ODM1MTg=", "number": 1683, "title": "GTiff file generated from rasterio is upside down", "user": {"login": "ksaliya", "id": 26628766, "node_id": "MDQ6VXNlcjI2NjI4NzY2", "avatar_url": "https://avatars.githubusercontent.com/u/26628766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ksaliya", "html_url": "https://github.com/ksaliya", "followers_url": "https://api.github.com/users/ksaliya/followers", "following_url": "https://api.github.com/users/ksaliya/following{/other_user}", "gists_url": "https://api.github.com/users/ksaliya/gists{/gist_id}", "starred_url": "https://api.github.com/users/ksaliya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ksaliya/subscriptions", "organizations_url": "https://api.github.com/users/ksaliya/orgs", "repos_url": "https://api.github.com/users/ksaliya/repos", "events_url": "https://api.github.com/users/ksaliya/events{/privacy}", "received_events_url": "https://api.github.com/users/ksaliya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/86", "html_url": "https://github.com/rasterio/rasterio/milestone/86", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/86/labels", "id": 4415747, "node_id": "MDk6TWlsZXN0b25lNDQxNTc0Nw==", "number": 86, "title": "1.0.25", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-06-17T16:33:15Z", "updated_at": "2019-08-22T16:39:22Z", "due_on": null, "closed_at": "2019-08-22T16:39:22Z"}, "comments": 2, "created_at": "2019-05-08T15:04:24Z", "updated_at": "2021-04-02T21:09:42Z", "closed_at": "2019-07-29T23:03:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nGTiff file generated from rasterio is upside down\r\n\r\n## Steps to reproduce the problem.\r\n\r\nFollowing the [rasterio quick start guide][1] I am trying to build a GTiff file. [In the example shown in the guide][2] there is an array Z as shown below.\r\n\r\n```Python\r\nimport numpy as np\r\nimport rasterio\r\nfrom rasterio.transform import from_origin\r\nimport matplotlib.pyplot as plt\r\n\r\nx = np.linspace(-4.0, 4.0, 240)\r\ny = np.linspace(-3.0, 3.0, 180)\r\nX, Y = np.meshgrid(x, y)\r\nZ1 = np.exp(-2 * np.log(2) * ((X - 0.5) ** 2 + (Y - 0.5) ** 2) / 1 ** 2)\r\nZ2 = np.exp(-3 * np.log(2) * ((X + 0.5) ** 2 + (Y + 0.5) ** 2) / 2.5 ** 2)\r\nZ = 10.0 * (Z2 - Z1)\r\n\r\nplt.contour(X,Y,Z)\r\nplt.show()\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/26628766/57385322-404c3700-7180-11e9-9a87-341446f69945.png)\r\n\r\n```Python\r\nres = (x[-1] - x[0]) / 240.0\r\ntransform = from_origin(x[0] - res / 2, y[-1] + res / 2, res, res)\r\n\r\nwith rasterio.open('example_TIFF.tif', 'w', driver='GTiff', height=Z.shape[0], width=Z.shape[1], count=1, dtype=Z.dtype, crs='+proj=latlong', transform=transform) as dst:\r\n    dst.write(Z, 1)\r\n\r\nwith rasterio.open('example_TIFF.tif') as f:\r\n    data = f.read(1)\r\n    \r\nplt.imshow(data)\r\nplt.show()\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/26628766/57385382-58bc5180-7180-11e9-812f-629a7f5987f8.png)\r\n\r\n\r\nThis can be corrected if the Z array is flipped ( ```np.flip(Z, 0)``` ) , but shouldn't the original GTiff file be in the correct orientation?\r\n\r\n  [1]: https://rasterio.readthedocs.io/en/stable/quickstart.html\r\n  [2]: https://rasterio.readthedocs.io/en/stable/quickstart.html#creating-data\r\n\r\n## Operating system\r\n\r\nWindows 10\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio-1.0.22-cp36-cp36m-win_amd64 from https://www.lfd.uci.edu/~gohlke/pythonlibs/#rasterio and GDAL-2.4.1-cp36-cp36m-win_amd64 from https://www.lfd.uci.edu/~gohlke/pythonlibs/#gdal\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1683/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1676", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1676/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1676/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1676/events", "html_url": "https://github.com/rasterio/rasterio/issues/1676", "id": 439333049, "node_id": "MDU6SXNzdWU0MzkzMzMwNDk=", "number": 1676, "title": "more explicit NotImplementedError messages in read mode ?", "user": {"login": "spolloni", "id": 27390119, "node_id": "MDQ6VXNlcjI3MzkwMTE5", "avatar_url": "https://avatars.githubusercontent.com/u/27390119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spolloni", "html_url": "https://github.com/spolloni", "followers_url": "https://api.github.com/users/spolloni/followers", "following_url": "https://api.github.com/users/spolloni/following{/other_user}", "gists_url": "https://api.github.com/users/spolloni/gists{/gist_id}", "starred_url": "https://api.github.com/users/spolloni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spolloni/subscriptions", "organizations_url": "https://api.github.com/users/spolloni/orgs", "repos_url": "https://api.github.com/users/spolloni/repos", "events_url": "https://api.github.com/users/spolloni/events{/privacy}", "received_events_url": "https://api.github.com/users/spolloni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/84", "html_url": "https://github.com/rasterio/rasterio/milestone/84", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/84/labels", "id": 4164716, "node_id": "MDk6TWlsZXN0b25lNDE2NDcxNg==", "number": 84, "title": "1.0.23", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-03-22T18:12:47Z", "updated_at": "2019-05-16T04:25:38Z", "due_on": null, "closed_at": "2019-05-16T04:25:38Z"}, "comments": 2, "created_at": "2019-05-01T21:27:35Z", "updated_at": "2019-05-15T19:05:48Z", "closed_at": "2019-05-15T19:05:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "In wanting to set a GeoTIFF's CRS, I encountered [this](https://github.com/mapbox/rasterio/blob/master/rasterio/_base.pyx#L516) NotImplementedError when trying to run the following code:\r\n```\r\nwith rasterio.open(filepath) as src:\r\n    src.crs = \"EPSG:3857\"\r\n```\r\nThough in retrospect it is obvious the above will fail without explicitly specifying the proper  mode , i.e. `'r+'` in this case,  I was momentarily thrown off by the error and assumed something was wrong with my approach. Would a more explicit error message be useful here?\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1676/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1676/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1675", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1675/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1675/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1675/events", "html_url": "https://github.com/rasterio/rasterio/issues/1675", "id": 439044865, "node_id": "MDU6SXNzdWU0MzkwNDQ4NjU=", "number": 1675, "title": "rasterio.features.is_valid_geom disagrees with geopandas/shapely is_valid geometry attribute", "user": {"login": "rbavery", "id": 22258697, "node_id": "MDQ6VXNlcjIyMjU4Njk3", "avatar_url": "https://avatars.githubusercontent.com/u/22258697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbavery", "html_url": "https://github.com/rbavery", "followers_url": "https://api.github.com/users/rbavery/followers", "following_url": "https://api.github.com/users/rbavery/following{/other_user}", "gists_url": "https://api.github.com/users/rbavery/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbavery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbavery/subscriptions", "organizations_url": "https://api.github.com/users/rbavery/orgs", "repos_url": "https://api.github.com/users/rbavery/repos", "events_url": "https://api.github.com/users/rbavery/events{/privacy}", "received_events_url": "https://api.github.com/users/rbavery/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/84", "html_url": "https://github.com/rasterio/rasterio/milestone/84", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/84/labels", "id": 4164716, "node_id": "MDk6TWlsZXN0b25lNDE2NDcxNg==", "number": 84, "title": "1.0.23", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-03-22T18:12:47Z", "updated_at": "2019-05-16T04:25:38Z", "due_on": null, "closed_at": "2019-05-16T04:25:38Z"}, "comments": 6, "created_at": "2019-05-01T01:58:48Z", "updated_at": "2019-05-03T17:18:09Z", "closed_at": "2019-05-03T17:18:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\nThis is a feature request.\r\n\r\nI'd expect rasterio to accept shapely/geopandas geometry features, but it looks like rasterio.features takes only geojson like objects. I have a geodataframe of geometries of type `shapely.geometry.multipolygon.MultiPolygon`, in `shp_frame`.  I am trying to burn to a raster like so \r\n\r\n```\r\n            shapes = (\r\n                (geom, value)\r\n                for geom, value in zip(shp_frame.geometry, shp_frame.ID)\r\n            )\r\n            burned = features.rasterize(\r\n                shapes=shapes,\r\n                fill=0,\r\n                out_shape=(meta['height'],meta['width']),\r\n                transform=out.transform,\r\n                default_value=1,\r\n            )\r\n```\r\n\r\nbut the following occurs because `geom` is not a geojson\r\n\r\n```\r\n>>> is_valid_geom(shp_frame.iloc[0]['geometry'])\r\nFalse\r\n```\r\nwhereas the geometry is actually valid\r\n\r\n```\r\n>>> shp_frame.iloc[638]['geometry'].is_valid\r\nTrue\r\n```\r\nif I use the shapely object's `__geo_interface__` method this makes rasterio happy, but it's unintuitive\r\n\r\n```\r\n>>> is_valid_geom(shp_frame.iloc[0]['geometry'].__geo_interface__)\r\nTrue\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\nSince this isn't a bug, I hope the above description is sufficient but I can provide an example if anyone wants it for testing.\r\n\r\n## Operating system\r\n\r\nFor example: Ubuntu 16.04\r\n\r\n## Rasterio version and provenance\r\n\r\nMy rasterio version - 1.0.22 installed with conda\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1675/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1675/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1674", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1674/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1674/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1674/events", "html_url": "https://github.com/rasterio/rasterio/issues/1674", "id": 438787548, "node_id": "MDU6SXNzdWU0Mzg3ODc1NDg=", "number": 1674, "title": "from_wkt() sometimes doesn't raise error", "user": {"login": "jnhansen", "id": 2622379, "node_id": "MDQ6VXNlcjI2MjIzNzk=", "avatar_url": "https://avatars.githubusercontent.com/u/2622379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnhansen", "html_url": "https://github.com/jnhansen", "followers_url": "https://api.github.com/users/jnhansen/followers", "following_url": "https://api.github.com/users/jnhansen/following{/other_user}", "gists_url": "https://api.github.com/users/jnhansen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnhansen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnhansen/subscriptions", "organizations_url": "https://api.github.com/users/jnhansen/orgs", "repos_url": "https://api.github.com/users/jnhansen/repos", "events_url": "https://api.github.com/users/jnhansen/events{/privacy}", "received_events_url": "https://api.github.com/users/jnhansen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-04-30T13:47:40Z", "updated_at": "2019-05-13T22:22:14Z", "closed_at": "2019-05-13T22:22:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nIn some cases, `from_wkt()` does not raise a CRSError when given an invalid WKT string.\r\n\r\nExpected behavior:\r\n\r\n```python\r\n>>> rasterio.crs.CRS.from_wkt('1,')\r\nCRSError: The WKT could not be parsed.\r\n```\r\n\r\nActual behavior:\r\n\r\n```python\r\n>>> rasterio.crs.CRS.from_wkt('1,')\r\nCRS.from_wkt('1')\r\n```\r\n\r\nSomehow, the added comma makes this seems like a valid WKT string to the parser. This adds inconsistencies like the following:\r\n\r\n```python\r\n>>> from rasterio.crs import CRS\r\n>>> crs = CRS.from_wkt('1,')\r\n>>> CRS.from_wkt(crs.to_wkt())\r\nCRSError: The WKT could not be parsed.\r\n```\r\n\r\n## Operating system\r\n\r\nMac OS X 10.14.4.\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio version 1.0.22 installed from PyPI using pip 18.0.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1674/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1674/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1670", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1670/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1670/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1670/events", "html_url": "https://github.com/rasterio/rasterio/issues/1670", "id": 433047972, "node_id": "MDU6SXNzdWU0MzMwNDc5NzI=", "number": 1670, "title": "AWSSession ignores `region_name` when `aws_unsigned=True`", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/84", "html_url": "https://github.com/rasterio/rasterio/milestone/84", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/84/labels", "id": 4164716, "node_id": "MDk6TWlsZXN0b25lNDE2NDcxNg==", "number": 84, "title": "1.0.23", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-03-22T18:12:47Z", "updated_at": "2019-05-16T04:25:38Z", "due_on": null, "closed_at": "2019-05-16T04:25:38Z"}, "comments": 0, "created_at": "2019-04-14T23:45:37Z", "updated_at": "2019-05-16T04:23:26Z", "closed_at": "2019-05-16T04:23:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\n```python\r\nopts = rasterio.session.AWSSession(aws_unsigned=True, \r\nregion_name='us-west-1').get_credential_options()\r\nprint(opts)\r\n```\r\n\r\nExpect to see `AWS_REGION='us-west-1'` in the credentials options as well as `AWS_NO_SIGN_REQUEST='YES'`, but only see `AWS_NO_SIGN_REQUEST='YES'`.\r\n\r\nI believe that `AWS_REGION` is used by GDAL even when request signing is turned off, I guess mapping from`s3://` to `http(s)://` urls uses that parameter. Current work around is to inject `AWS_REGION=` directly into `rasterio.Env(..)`.\r\n\r\nIn the current code `aws_region` parameter is populated from a constructed `boto3.Session(..)`, this might evaluate to user supplied `region_name`, which is passed into session constructor or might be set internally by `boto3` by reading from config. \r\n\r\nWhen `aws_unsigned=True` session is not being constructed (rightfully so), but as a result `region_name` parameter is ignored.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1670/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1670/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1668", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1668/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1668/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1668/events", "html_url": "https://github.com/rasterio/rasterio/issues/1668", "id": 429791374, "node_id": "MDU6SXNzdWU0Mjk3OTEzNzQ=", "number": 1668, "title": "Add block-wise calculation option to rio-calc", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/84", "html_url": "https://github.com/rasterio/rasterio/milestone/84", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/84/labels", "id": 4164716, "node_id": "MDk6TWlsZXN0b25lNDE2NDcxNg==", "number": 84, "title": "1.0.23", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-03-22T18:12:47Z", "updated_at": "2019-05-16T04:25:38Z", "due_on": null, "closed_at": "2019-05-16T04:25:38Z"}, "comments": 1, "created_at": "2019-04-05T14:43:14Z", "updated_at": "2019-05-16T04:25:22Z", "closed_at": "2019-05-16T04:25:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "So that very large datasets can be read and written.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1668/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1668/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1661", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1661/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1661/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1661/events", "html_url": "https://github.com/rasterio/rasterio/issues/1661", "id": 425061315, "node_id": "MDU6SXNzdWU0MjUwNjEzMTU=", "number": 1661, "title": "Vertical Shifts in Affine Transforms Flips Array", "user": {"login": "cmarshak", "id": 5975894, "node_id": "MDQ6VXNlcjU5NzU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5975894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmarshak", "html_url": "https://github.com/cmarshak", "followers_url": "https://api.github.com/users/cmarshak/followers", "following_url": "https://api.github.com/users/cmarshak/following{/other_user}", "gists_url": "https://api.github.com/users/cmarshak/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmarshak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmarshak/subscriptions", "organizations_url": "https://api.github.com/users/cmarshak/orgs", "repos_url": "https://api.github.com/users/cmarshak/repos", "events_url": "https://api.github.com/users/cmarshak/events{/privacy}", "received_events_url": "https://api.github.com/users/cmarshak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-03-25T18:48:41Z", "updated_at": "2022-11-18T17:23:43Z", "closed_at": "2021-04-06T22:31:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello Rasterio,\r\n\r\nI think this is a design feature that you have all carefully considered or even more likely my unfamiliarity with `affine` and `rasterio`, but wanted to at least ask a question because I wasn't able to find out about this feature or how to remedy some unexpected behavior easily with a few different searches on github and elsewhere.\r\n\r\nBasically, many of the rasterio routines I regularly use don't work in the expected way in the case when the affine transform of the form `(a, b, c, d, e, f)` has `e > 0`. Most clearly, the rasterio read band flips the array up and down (relative to the expected orientation displayed in qgis).\r\n\r\nI tried to fix this initially using `rio clip ... --like ...` with an image with `e < 0`, but `Error: Invalid value for --like: must overlap the extent of the input raster`.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nRasterio flips the band up and down.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nimport rasterio\r\nimport matplotlib.pyplot as plt\r\n\r\nwith rasterio.open('postive_e.tif') as ds:\r\n    band = ds.read(1)\r\n\r\nplt.imshow(band)\r\n```\r\nRequires `band = np.flipud(band)` when `e > 0` to display correctly oriented image.\r\n\r\nThe profile I was dealing with was: \r\n\r\n```\r\n{'driver': 'GTiff', 'dtype': 'float64', 'nodata': None, 'width': 3314, 'height': 7490, 'count': 1, 'crs': CRS.from_dict(init='epsg:4326'), 'transform': Affine(0.0001375268557634285, 0.0, -71.43885,\r\n        0.0, 0.0001388519359145523, 46.709999), 'tiled': False, 'interleave': 'band'})\r\n```\r\n\r\nI solved this using `gdalwarp -novshiftgrid input.tif  -overwrite out_novshift.tif`. I can upload some sample data if needed, just let me know where. The resulting profile becomes:\r\n```\r\n{'driver': 'GTiff', 'dtype': 'float64', 'nodata': None, 'width': 3287, 'height': 7502, 'count': 1, 'crs': CRS.from_dict(init='epsg:4326'), 'transform': Affine(0.00013863586442394092, 0.0, -71.43885,\r\n        0.0, -0.00013863586442394092, 47.75), 'tiled': False, 'interleave': 'band'}\r\n```\r\nHopefully, this description (since the question is pretty basic/general) is sufficient.\r\n\r\n## Operating system\r\n\r\nFor example: Mac OS X 10.13.6.\r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio installed using conda:\r\n\r\n```\r\nrasterio                  1.0.18           py37h3683dd5_0    conda-forge\r\n```\r\n\r\nThank you for your help!\r\n\r\nCharlie", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1661/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1661/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1659", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1659/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1659/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1659/events", "html_url": "https://github.com/rasterio/rasterio/issues/1659", "id": 424221345, "node_id": "MDU6SXNzdWU0MjQyMjEzNDU=", "number": 1659, "title": "ERROR 4: No such file or directory when attempting to close dataset", "user": {"login": "amine-aboufirass", "id": 24267968, "node_id": "MDQ6VXNlcjI0MjY3OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/24267968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amine-aboufirass", "html_url": "https://github.com/amine-aboufirass", "followers_url": "https://api.github.com/users/amine-aboufirass/followers", "following_url": "https://api.github.com/users/amine-aboufirass/following{/other_user}", "gists_url": "https://api.github.com/users/amine-aboufirass/gists{/gist_id}", "starred_url": "https://api.github.com/users/amine-aboufirass/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amine-aboufirass/subscriptions", "organizations_url": "https://api.github.com/users/amine-aboufirass/orgs", "repos_url": "https://api.github.com/users/amine-aboufirass/repos", "events_url": "https://api.github.com/users/amine-aboufirass/events{/privacy}", "received_events_url": "https://api.github.com/users/amine-aboufirass/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/84", "html_url": "https://github.com/rasterio/rasterio/milestone/84", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/84/labels", "id": 4164716, "node_id": "MDk6TWlsZXN0b25lNDE2NDcxNg==", "number": 84, "title": "1.0.23", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-03-22T18:12:47Z", "updated_at": "2019-05-16T04:25:38Z", "due_on": null, "closed_at": "2019-05-16T04:25:38Z"}, "comments": 1, "created_at": "2019-03-22T13:55:50Z", "updated_at": "2019-03-22T21:52:20Z", "closed_at": "2019-03-22T21:52:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nWhen I open memory/physical files without using the `with` statement (namely using `dataset.open()` and `dataset.close()`, I believe I should have no warnings or error messages. However I get an error:\r\n\r\n> ERROR 4: No such file or directory\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nimport numpy as np\r\nfrom rasterio.io import MemoryFile\r\nimport rasterio\r\n\r\nmemfile = MemoryFile()\r\ndata = np.array([[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,16]])\r\nwest_bound = 0; north_bound = 2; cellsize=0.5; nodata = -9999; driver='AAIGrid';\r\ndtype = data.dtype\r\nshape = data.shape\r\ntransform = rasterio.transform.from_origin(west_bound, north_bound, cellsize, cellsize)\r\ndataset = memfile.open(driver=driver, width=shape[1], height=shape[0], transform=transform, count=1, dtype=dtype, nodata=nodata)\r\ndataset.write(data,1)\r\ndataset.close()\r\n```\r\n\r\nThe line which causes the error is the very last line, namely when we close the dataset.\r\n\r\n\r\n## Operating system\r\n\r\nWindows 7 Enterprise, 64 bit\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 1.0.21 installed using anaconda\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1659/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1654", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1654/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1654/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1654/events", "html_url": "https://github.com/rasterio/rasterio/issues/1654", "id": 420894261, "node_id": "MDU6SXNzdWU0MjA4OTQyNjE=", "number": 1654, "title": "rasterio.open().compression returns an exception for JPEG2000", "user": {"login": "silviu001", "id": 2401245, "node_id": "MDQ6VXNlcjI0MDEyNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2401245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/silviu001", "html_url": "https://github.com/silviu001", "followers_url": "https://api.github.com/users/silviu001/followers", "following_url": "https://api.github.com/users/silviu001/following{/other_user}", "gists_url": "https://api.github.com/users/silviu001/gists{/gist_id}", "starred_url": "https://api.github.com/users/silviu001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/silviu001/subscriptions", "organizations_url": "https://api.github.com/users/silviu001/orgs", "repos_url": "https://api.github.com/users/silviu001/repos", "events_url": "https://api.github.com/users/silviu001/events{/privacy}", "received_events_url": "https://api.github.com/users/silviu001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/83", "html_url": "https://github.com/rasterio/rasterio/milestone/83", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/83/labels", "id": 4122857, "node_id": "MDk6TWlsZXN0b25lNDEyMjg1Nw==", "number": 83, "title": "1.0.22", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2019-03-08T16:14:02Z", "updated_at": "2019-03-20T17:46:34Z", "due_on": null, "closed_at": "2019-03-20T17:46:34Z"}, "comments": 0, "created_at": "2019-03-14T08:47:19Z", "updated_at": "2019-03-20T16:47:39Z", "closed_at": "2019-03-20T16:47:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nWhile using a ESA SENTINEL-2 dataset I expect to get the compression algorithm using _.compresion_ method but for JPEG2000 I get an exception instead:\r\n\r\n> ValueError: 'JPEG2000' is not a valid Compression\r\n\r\n## Steps to reproduce the problem.\r\n\r\nUsing iPython 5.5.0 with Python 3.6.7 the problem can be reproduced like this:\r\n\r\n```python\r\nimport rasterio\r\ndset = rasterio.open('SENTINEL2_L1C:/vsizip/vsicurl/http://thor.sage.ieat.ro/~silviu/sentinel2/S2B_MSIL1C_20190312T091119_N0207_R050_T35UPP_20190312T143718.zip/S2B_MSIL1C_20190312T091119_N0207_R050_T35UPP_20190312T143718.SAFE/MTD_MSIL1C.xml:10m:EPSG_32635')\r\ndset.compression\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu 18.04.2 LTS\r\nMACOS 10.14.3 \r\n\r\n## Rasterio version and provenance\r\n\r\n```\r\nIn [2]: rasterio.__version__\r\nOut[2]: '1.0.21'\r\nIn [4]: rasterio.gdal_version()\r\nOut[4]: '2.4.0'\r\n```\r\nthe 1.0.21 version was installed from PyPi using pip 9.0.1 with _--no-binary :all:_\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1654/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1650", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1650/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1650/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1650/events", "html_url": "https://github.com/rasterio/rasterio/issues/1650", "id": 417557011, "node_id": "MDU6SXNzdWU0MTc1NTcwMTE=", "number": 1650, "title": "rasterio.plot.show: rasters with RGBA bands are not displayed as expected", "user": {"login": "piyueh", "id": 7220966, "node_id": "MDQ6VXNlcjcyMjA5NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/7220966?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piyueh", "html_url": "https://github.com/piyueh", "followers_url": "https://api.github.com/users/piyueh/followers", "following_url": "https://api.github.com/users/piyueh/following{/other_user}", "gists_url": "https://api.github.com/users/piyueh/gists{/gist_id}", "starred_url": "https://api.github.com/users/piyueh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piyueh/subscriptions", "organizations_url": "https://api.github.com/users/piyueh/orgs", "repos_url": "https://api.github.com/users/piyueh/repos", "events_url": "https://api.github.com/users/piyueh/events{/privacy}", "received_events_url": "https://api.github.com/users/piyueh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/91", "html_url": "https://github.com/rasterio/rasterio/milestone/91", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/91/labels", "id": 4814211, "node_id": "MDk6TWlsZXN0b25lNDgxNDIxMQ==", "number": 91, "title": "1.1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2019-11-04T22:15:27Z", "updated_at": "2019-11-14T18:23:56Z", "due_on": null, "closed_at": "2019-11-14T18:23:56Z"}, "comments": 3, "created_at": "2019-03-05T23:53:02Z", "updated_at": "2019-11-13T03:13:22Z", "closed_at": "2019-11-13T03:13:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nBy providing a raster dataset with RGBA bands, `rasterio.plot.show` should successfully display the RGB figure. However, in the current code, it only displays data from \"R\" band.\r\n\r\nI think the problem comes from [line 96 in plot.py](https://github.com/mapbox/rasterio/blob/73a7c84131eb9e38da70000e2da28869a2f555d2/rasterio/plot.py#L96). In line 96: `source_colorinterp = OrderedDict(zip(source.indexes, source.colorinterp))`, the order of `source.indexes` and `source.colorinterp` should be changed. In other words, `source.colorinterp` should be the key and `source.indexes` should be the value.\r\n(BTW, an unrelated question: why using `OrderedDict`? Can a regular dict do it?)\r\n\r\n## Steps to reproduce the problem.\r\n\r\nSave the following code to a script and run the script.\r\n\r\n```python\r\nimport numpy\r\nimport rasterio\r\nimport rasterio.plot\r\nfrom matplotlib import pyplot\r\n\r\nr = numpy.array([[ 255, 0, 0]], dtype=numpy.uint8)\r\ng = numpy.array([[0, 255, 0]], dtype=numpy.uint8)\r\nb = numpy.array([[0,  0, 255]], dtype=numpy.uint8)\r\nalpha = numpy.array([[255, 255, 255]], dtype=numpy.uint8)\r\n\r\ndst = rasterio.open(\r\n    \"test.tif\", mode=\"w\", driver=\"GTiff\", width=3, height=1, count=4,\r\n    crs=rasterio.crs.CRS.from_epsg(3857),\r\n    transform=rasterio.transform.from_origin(0., 3., 1., 1.),\r\n    dtype=rasterio.uint8)\r\ndst.write_band(1, r)\r\ndst.write_band(2, g)\r\ndst.write_band(3, b)\r\ndst.write_band(4, alpha)\r\ndst.close()\r\n\r\ntest = rasterio.open(\"test.tif\")\r\npyplot.figure(figsize=(3, 1))\r\nax = pyplot.gca()\r\nrasterio.plot.show(test, ax=ax)\r\npyplot.show()\r\ntest.close()\r\n```\r\nThe output figure is like this:\r\n<img src=\"https://dl.dropboxusercontent.com/s/zoe4dmkp8z8brdx/wrong.png?dl=0\">\r\n\r\nHowever, the expected figure should be like this:\r\n<img src=\"https://dl.dropboxusercontent.com/s/uyv0s5mc44t3cba/correct.png?dl=0\">\r\n\r\nAfter I changed the [line 96 in plot.py](https://github.com/mapbox/rasterio/blob/73a7c84131eb9e38da70000e2da28869a2f555d2/rasterio/plot.py#L96) to `source_colorinterp = OrderedDict(zip(source.colorinterp, source.indexes))`, I can get the expected figure.\r\n\r\n## Operating system\r\n\r\nArch Linux + conda 4.6.2 + python 3.6.8\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio v1.0.18 installed using pip 19.0.1.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1650/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1650/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1647", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1647/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1647/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1647/events", "html_url": "https://github.com/rasterio/rasterio/issues/1647", "id": 416810341, "node_id": "MDU6SXNzdWU0MTY4MTAzNDE=", "number": 1647, "title": "Post 1.0 handling of keywords like BIGTIFF needs more documentation", "user": {"login": "WouterDX", "id": 727088, "node_id": "MDQ6VXNlcjcyNzA4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/727088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WouterDX", "html_url": "https://github.com/WouterDX", "followers_url": "https://api.github.com/users/WouterDX/followers", "following_url": "https://api.github.com/users/WouterDX/following{/other_user}", "gists_url": "https://api.github.com/users/WouterDX/gists{/gist_id}", "starred_url": "https://api.github.com/users/WouterDX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WouterDX/subscriptions", "organizations_url": "https://api.github.com/users/WouterDX/orgs", "repos_url": "https://api.github.com/users/WouterDX/repos", "events_url": "https://api.github.com/users/WouterDX/events{/privacy}", "received_events_url": "https://api.github.com/users/WouterDX/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-04T13:50:20Z", "updated_at": "2019-03-04T17:25:28Z", "closed_at": "2019-03-04T17:25:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I couldn't really figure out what I was doing wrong with creation options like \"BIGTIFF\" because there are no clear tests/documentation how to set such options post 1.0 release.\r\n\r\nThe only real test is in https://github.com/mapbox/rasterio/blob/95e2443a526a6e9d5b9db82b969d93cb1b4f6fdd/tests/test_write.py#L341-L345.\r\n\r\nWhat's misleading is that this is a test to show deprecation is handled well, and hence it is using the deprecated way of assigning BIGTIFF to True, which doesn't have any meaning anymore. It took me several hours to realize that we have follow GDAL Geotiff driver settings again ([spec here](https://www.gdal.org/frmt_gtiff.html)). In this case, BIGTIFF='YES' is the correct usage. At least a reference to this in documentation might save other devs some hours.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1647/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1647/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1643", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1643/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1643/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1643/events", "html_url": "https://github.com/rasterio/rasterio/issues/1643", "id": 415593022, "node_id": "MDU6SXNzdWU0MTU1OTMwMjI=", "number": 1643, "title": "AttributeError: 'CRS' object has no attribute '_wkt'", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/82", "html_url": "https://github.com/rasterio/rasterio/milestone/82", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/82/labels", "id": 4096973, "node_id": "MDk6TWlsZXN0b25lNDA5Njk3Mw==", "number": 82, "title": "1.0.21", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2019-02-28T15:49:13Z", "updated_at": "2019-02-28T19:01:25Z", "due_on": null, "closed_at": "2019-02-28T19:01:25Z"}, "comments": 2, "created_at": "2019-02-28T12:10:25Z", "updated_at": "2019-02-28T16:29:29Z", "closed_at": "2019-02-28T16:29:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It worked in previous version but in 1.0.20 I get:\r\n\r\n```\r\nIn [1]: from copy import copy                                                                                                                                                                                       \r\n\r\nIn [2]: from rasterio.crs import CRS                                                                                                                                                                                \r\n\r\nIn [3]: some_crs = CRS(init='epsg:32620')                                                                                                                                                                           \r\n\r\nIn [4]: crs = copy(some_crs)                                                                                                                                                                                        \r\n\r\nIn [5]: bool(some_crs)                                                                                                                                                                                              \r\nOut[5]: True\r\n\r\nIn [6]: bool(crs)                                                                                                                                                                                                   \r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-6-dfa06d6ae714> in <module>\r\n----> 1 bool(crs)\r\n\r\n~/satellogic/env/lib/python3.6/site-packages/rasterio/crs.py in __bool__(self)\r\n     82 \r\n     83     def __bool__(self):\r\n---> 84         return bool(self.wkt)\r\n     85 \r\n     86     __nonzero__ = __bool__\r\n\r\n~/satellogic/env/lib/python3.6/site-packages/rasterio/crs.py in wkt(self)\r\n    130 \r\n    131         \"\"\"\r\n--> 132         if not self._wkt:\r\n    133             self._wkt = self.to_wkt()\r\n    134         return self._wkt\r\n\r\nAttributeError: 'CRS' object has no attribute '_wkt'\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1643/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1643/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1637", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1637/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1637/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1637/events", "html_url": "https://github.com/rasterio/rasterio/issues/1637", "id": 413214377, "node_id": "MDU6SXNzdWU0MTMyMTQzNzc=", "number": 1637, "title": "AWSSession should not attempt getting credentials when aws_unsigned=True", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/80", "html_url": "https://github.com/rasterio/rasterio/milestone/80", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/80/labels", "id": 4039976, "node_id": "MDk6TWlsZXN0b25lNDAzOTk3Ng==", "number": 80, "title": "1.0.19", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2019-02-07T20:40:00Z", "updated_at": "2019-03-20T16:47:28Z", "due_on": null, "closed_at": "2019-02-27T20:27:23Z"}, "comments": 3, "created_at": "2019-02-22T02:30:56Z", "updated_at": "2020-08-28T00:52:29Z", "closed_at": "2019-02-26T17:59:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nWhen constructing `AWSSession(aws_unsigned=True)` I expect things not to fail due to lack of credentials on the system. Current code however attempts to get credentials using `boto3` library. Ideally I should be able to read fully public s3 resources (not requester pays public) even if I don't have `boto3` installed. \r\n\r\n## Steps to reproduce the problem.\r\n\r\nIn this code `boto3.Session` is constructed and credentials are queried regardless of the value of \r\n`aws_unsigned` parameter:\r\n\r\nhttps://github.com/mapbox/rasterio/blob/9f128bc0da3fdaf04b7f23b94eabf1d7c02fe99c/rasterio/session.py#L199-L213\r\n\r\n\r\n## Operating system\r\n\r\nAll\r\n\r\n## Rasterio version and provenance\r\n\r\n1.0.18 and also `master` branch.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1637/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1634", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1634/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1634/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1634/events", "html_url": "https://github.com/rasterio/rasterio/issues/1634", "id": 410714588, "node_id": "MDU6SXNzdWU0MTA3MTQ1ODg=", "number": 1634, "title": "get linear units", "user": {"login": "appanacca", "id": 8914853, "node_id": "MDQ6VXNlcjg5MTQ4NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/8914853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/appanacca", "html_url": "https://github.com/appanacca", "followers_url": "https://api.github.com/users/appanacca/followers", "following_url": "https://api.github.com/users/appanacca/following{/other_user}", "gists_url": "https://api.github.com/users/appanacca/gists{/gist_id}", "starred_url": "https://api.github.com/users/appanacca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/appanacca/subscriptions", "organizations_url": "https://api.github.com/users/appanacca/orgs", "repos_url": "https://api.github.com/users/appanacca/repos", "events_url": "https://api.github.com/users/appanacca/events{/privacy}", "received_events_url": "https://api.github.com/users/appanacca/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/80", "html_url": "https://github.com/rasterio/rasterio/milestone/80", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/80/labels", "id": 4039976, "node_id": "MDk6TWlsZXN0b25lNDAzOTk3Ng==", "number": 80, "title": "1.0.19", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2019-02-07T20:40:00Z", "updated_at": "2019-03-20T16:47:28Z", "due_on": null, "closed_at": "2019-02-27T20:27:23Z"}, "comments": 10, "created_at": "2019-02-15T10:58:58Z", "updated_at": "2019-05-07T15:12:17Z", "closed_at": "2019-03-20T16:47:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\nIs there a way to get the linear units of raster directly from the CRS object ?\r\nIn the example from the README.md the crs dictionary contains these information but re-doing the same manipulation I only get the EPSG code.\r\n\r\nThank you.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1634/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1634/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1631", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1631/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1631/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1631/events", "html_url": "https://github.com/rasterio/rasterio/issues/1631", "id": 408455849, "node_id": "MDU6SXNzdWU0MDg0NTU4NDk=", "number": 1631, "title": "GDALEnv overriding PROJ_LIB unfriendly with 'internalproj' builds", "user": {"login": "rouault", "id": 1192433, "node_id": "MDQ6VXNlcjExOTI0MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/1192433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rouault", "html_url": "https://github.com/rouault", "followers_url": "https://api.github.com/users/rouault/followers", "following_url": "https://api.github.com/users/rouault/following{/other_user}", "gists_url": "https://api.github.com/users/rouault/gists{/gist_id}", "starred_url": "https://api.github.com/users/rouault/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rouault/subscriptions", "organizations_url": "https://api.github.com/users/rouault/orgs", "repos_url": "https://api.github.com/users/rouault/repos", "events_url": "https://api.github.com/users/rouault/events{/privacy}", "received_events_url": "https://api.github.com/users/rouault/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/80", "html_url": "https://github.com/rasterio/rasterio/milestone/80", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/80/labels", "id": 4039976, "node_id": "MDk6TWlsZXN0b25lNDAzOTk3Ng==", "number": 80, "title": "1.0.19", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2019-02-07T20:40:00Z", "updated_at": "2019-03-20T16:47:28Z", "due_on": null, "closed_at": "2019-02-27T20:27:23Z"}, "comments": 6, "created_at": "2019-02-09T18:13:11Z", "updated_at": "2019-02-26T17:59:39Z", "closed_at": "2019-02-26T17:59:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "OK, this is a particular case but I spent some time figuring out what happened.\r\n\r\nSo my use case is:\r\n- System proj (4.9.2) installed in /usr prefix because of other things needing it\r\n- PROJ master built and installed in /opt/internalproj prefix\r\n- GDAL master\r\n- Rasterio\r\n- PROJ_LIB not defined\r\n\r\nWhen Rasterio starts, it detects that /usr/share/proj exists and then set PROJ_LIB=/usr/share/proj. Then when GDAL uses internalproj, the later looks in  /usr/share/proj instead of  /opt/internalproj/share/proj. The issue is that /usr/share/proj doesn't contain the new proj.db ...\r\n\r\nThis is a very particular setup admitedly, but is there a reason for PROJDataFinder.search_prefix() at all to set PROJ_LIB when it detects the directory, since PROJ automatically looks into it, this directory being hardcoded in the binary at build time ?\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1631/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1625", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1625/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1625/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1625/events", "html_url": "https://github.com/rasterio/rasterio/issues/1625", "id": 407485971, "node_id": "MDU6SXNzdWU0MDc0ODU5NzE=", "number": 1625, "title": "support pickle for multiprocessing with rasterio.profiles.Profile data", "user": {"login": "dazza-codes", "id": 240623, "node_id": "MDQ6VXNlcjI0MDYyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/240623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dazza-codes", "html_url": "https://github.com/dazza-codes", "followers_url": "https://api.github.com/users/dazza-codes/followers", "following_url": "https://api.github.com/users/dazza-codes/following{/other_user}", "gists_url": "https://api.github.com/users/dazza-codes/gists{/gist_id}", "starred_url": "https://api.github.com/users/dazza-codes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dazza-codes/subscriptions", "organizations_url": "https://api.github.com/users/dazza-codes/orgs", "repos_url": "https://api.github.com/users/dazza-codes/repos", "events_url": "https://api.github.com/users/dazza-codes/events{/privacy}", "received_events_url": "https://api.github.com/users/dazza-codes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/80", "html_url": "https://github.com/rasterio/rasterio/milestone/80", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/80/labels", "id": 4039976, "node_id": "MDk6TWlsZXN0b25lNDAzOTk3Ng==", "number": 80, "title": "1.0.19", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2019-02-07T20:40:00Z", "updated_at": "2019-03-20T16:47:28Z", "due_on": null, "closed_at": "2019-02-27T20:27:23Z"}, "comments": 5, "created_at": "2019-02-06T23:57:56Z", "updated_at": "2019-02-26T17:59:38Z", "closed_at": "2019-02-26T17:59:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Trying to do a bit of multiprocessing parallel, async IO to write out GeoTIFF data.  If there's a better way to do this, would like to hear about it.\r\n\r\nRelated to #909 - another concern with serializing the profile data.\r\n\r\n## OS and versions\r\n```\r\nubuntu 18.04\r\n\r\nconda version : 4.6.2\r\nconda-build version : not installed\r\npython version : 3.7.2.final.0\r\n\r\nrasterio==1.0.15\r\nGDAL 2.4.0, released 2018/12/14\r\n```\r\n\r\n## example pseudo code\r\n```python\r\ndef raster_to_geotiff(level_data):\r\n    try:\r\n        with rasterio.open(level_data.level_file, 'w', **level_data.level_profile) as dst:\r\n            dst.write(level_data.data, 1)\r\n        return True\r\n    except Exception:\r\n        return False\r\n\r\n@dataclass\r\nclass LevelData:\r\n    level: float\r\n    data: np.ndarray\r\n    level_file: Path\r\n    level_profile: rasterio.profiles.Profile\r\n\r\nlevel_data = (\r\n        LevelData(\r\n                level=d.level_value,\r\n                data=d.ndarray.astype('uint8'),\r\n                level_file=d.a_pathlib_path_instance,\r\n                level_profile=an_instance_of_rasterio_profiles_Profile_from_src_geotiff\r\n        )\r\n        for d in datasets\r\n    )\r\n\r\nwith multiprocessing.Pool() as pool:\r\n    tiff_output_success = pool.map(raster_to_geotiff, level_data)\r\n```\r\n\r\n## error\r\n\r\nIt seems like `File \"stringsource\", line 2, in rasterio._crs._CRS.__reduce_cython__` cannot pickle in this error below.  This might be a problem with pickling the `rasterio.profiles.Profile` data.  If unit tests on that class could check it for pickle support, this might just work with the multiprocessing.Pool for async IO.\r\n\r\n```\r\n  File \"/home/ubuntu/miniconda3/envs/gis-dataprocessing/lib/python3.7/multiprocessing/pool.py\", line 290, in map\r\n    return self._map_async(func, iterable, mapstar, chunksize).get()\r\n  File \"/home/ubuntu/miniconda3/envs/gis-dataprocessing/lib/python3.7/multiprocessing/pool.py\", line 683, in get\r\n    raise self._value\r\n  File \"/home/ubuntu/miniconda3/envs/gis-dataprocessing/lib/python3.7/multiprocessing/pool.py\", line 457, in _handle_tasks\r\n    put(task)\r\n  File \"/home/ubuntu/miniconda3/envs/gis-dataprocessing/lib/python3.7/multiprocessing/connection.py\", line 206, in send\r\n    self._send_bytes(_ForkingPickler.dumps(obj))\r\n  File \"/home/ubuntu/miniconda3/envs/gis-dataprocessing/lib/python3.7/multiprocessing/reduction.py\", line 51, in dumps\r\n    cls(buf, protocol).dump(obj)\r\n  File \"stringsource\", line 2, in rasterio._crs._CRS.__reduce_cython__\r\nTypeError: no default __reduce__ due to non-trivial __cinit__\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1625/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1623", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1623/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1623/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1623/events", "html_url": "https://github.com/rasterio/rasterio/issues/1623", "id": 407190149, "node_id": "MDU6SXNzdWU0MDcxOTAxNDk=", "number": 1623, "title": "WKT representation of CRS is broken", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/79", "html_url": "https://github.com/rasterio/rasterio/milestone/79", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/79/labels", "id": 4038626, "node_id": "MDk6TWlsZXN0b25lNDAzODYyNg==", "number": 79, "title": "1.0.18", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2019-02-07T14:43:45Z", "updated_at": "2019-02-08T00:24:22Z", "due_on": null, "closed_at": "2019-02-08T00:24:22Z"}, "comments": 5, "created_at": "2019-02-06T11:25:54Z", "updated_at": "2019-02-08T09:57:57Z", "closed_at": "2019-02-08T00:24:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In a previous versions of rasterio WKT representation of EPSG:3857 looks good:\r\n\r\n```\r\n>>> import rasterio                                                                                                                                                                                             \r\n>>> rasterio.__version__                                                                                                                                                                                        \r\n'1.0.13'\r\n>>> from rasterio.crs import CRS                                                                                                                                                                                \r\n>>> crs = CRS(init=\"epsg:3857\")                                                                                                                                                                                 \r\n>>> crs.wkt \r\n'PROJCS[\"WGS 84 / Pseudo-Mercator\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Mercator_1SP\"],PARAMETER[\"central_meridian\",0],PARAMETER[\"scale_factor\",1],PARAMETER[\"false_easting\",0],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"X\",EAST],AXIS[\"Y\",NORTH],EXTENSION[\"PROJ4\",\"+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs\"],AUTHORITY[\"EPSG\",\"3857\"]]'\r\n```\r\n\r\nIn 1.0.17 it seems like something was broken:\r\n\r\n```\r\n>>> import rasterio\r\n>>> rasterio.__version__ \r\n'1.0.17'\r\n>>> from rasterio.crs import CRS\r\n>>> crs = CRS(init=\"epsg:3857\")\r\n>>> crs.wkt\r\n'PROJCS[\"unnamed\",GEOGCS[\"unnamed ellipse\",DATUM[\"unknown\",SPHEROID[\"unnamed\",6378137,0],EXTENSION[\"PROJ4_GRIDS\",\"@null\"]],PRIMEM[\"Greenwich\",0],UNIT[\"degree\",0.0174532925199433]],PROJECTION[\"Mercator_2SP\"],PARAMETER[\"standard_parallel_1\",0],PARAMETER[\"central_meridian\",0],PARAMETER[\"false_easting\",0],PARAMETER[\"false_northing\",0],UNIT[\"Meter\",1],AUTHORITY[\"EPSG\",\"3857\"]]'\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1623/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1620", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1620/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1620/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1620/events", "html_url": "https://github.com/rasterio/rasterio/issues/1620", "id": 406852526, "node_id": "MDU6SXNzdWU0MDY4NTI1MjY=", "number": 1620, "title": "CRS comparison issue", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/78", "html_url": "https://github.com/rasterio/rasterio/milestone/78", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/78/labels", "id": 4033906, "node_id": "MDk6TWlsZXN0b25lNDAzMzkwNg==", "number": 78, "title": "1.0.17", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2019-02-06T03:53:30Z", "updated_at": "2019-02-08T00:17:21Z", "due_on": null, "closed_at": "2019-02-08T00:17:21Z"}, "comments": 3, "created_at": "2019-02-05T16:00:17Z", "updated_at": "2019-02-06T03:54:48Z", "closed_at": "2019-02-06T03:54:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\n>>> import rasterio\r\n>>> rasterio.__version__\r\n'1.0.16'\r\n>>> from rasterio.crs import CRS\r\n>>> with rasterio.open('https://github.com/satellogic/telluric/raw/master/tests/data/raster/rgb.tif') as src:\r\n...     crs1 = src.crs\r\n... \r\n>>> crs2 = CRS(init='epsg:3857')\r\n>>> crs1\r\nCRS.from_dict(init='epsg:3857')\r\n>>> crs2\r\nCRS.from_dict(init='epsg:3857')\r\n>>> crs1 == crs2\r\nFalse\r\n```\r\n\r\nIt is expected that `crs1 == crs2` should return `True`.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1620/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1616", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1616/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1616/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1616/events", "html_url": "https://github.com/rasterio/rasterio/issues/1616", "id": 405890554, "node_id": "MDU6SXNzdWU0MDU4OTA1NTQ=", "number": 1616, "title": "str(CRS()) should return an empty string", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/77", "html_url": "https://github.com/rasterio/rasterio/milestone/77", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/77/labels", "id": 4020072, "node_id": "MDk6TWlsZXN0b25lNDAyMDA3Mg==", "number": 77, "title": "1.0.16", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2019-02-01T04:20:28Z", "updated_at": "2019-02-08T00:17:19Z", "due_on": null, "closed_at": "2019-02-08T00:17:19Z"}, "comments": 0, "created_at": "2019-02-01T22:00:43Z", "updated_at": "2019-02-05T15:10:22Z", "closed_at": "2019-02-05T15:10:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As discussed in https://rasterio.groups.io/g/main/message/140.\r\n\r\nRelated: the crs attribute of a dataset with no SRS should revert to `None` instead of `CRS.from_wkt('')`.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1616/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1616/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1609", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1609/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1609/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1609/events", "html_url": "https://github.com/rasterio/rasterio/issues/1609", "id": 404911940, "node_id": "MDU6SXNzdWU0MDQ5MTE5NDA=", "number": 1609, "title": "Near-sided perspective proj4 definitions do not work with rasterio >1.0.9.", "user": {"login": "trey-stafford", "id": 19692879, "node_id": "MDQ6VXNlcjE5NjkyODc5", "avatar_url": "https://avatars.githubusercontent.com/u/19692879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trey-stafford", "html_url": "https://github.com/trey-stafford", "followers_url": "https://api.github.com/users/trey-stafford/followers", "following_url": "https://api.github.com/users/trey-stafford/following{/other_user}", "gists_url": "https://api.github.com/users/trey-stafford/gists{/gist_id}", "starred_url": "https://api.github.com/users/trey-stafford/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trey-stafford/subscriptions", "organizations_url": "https://api.github.com/users/trey-stafford/orgs", "repos_url": "https://api.github.com/users/trey-stafford/repos", "events_url": "https://api.github.com/users/trey-stafford/events{/privacy}", "received_events_url": "https://api.github.com/users/trey-stafford/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/77", "html_url": "https://github.com/rasterio/rasterio/milestone/77", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/77/labels", "id": 4020072, "node_id": "MDk6TWlsZXN0b25lNDAyMDA3Mg==", "number": 77, "title": "1.0.16", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2019-02-01T04:20:28Z", "updated_at": "2019-02-08T00:17:19Z", "due_on": null, "closed_at": "2019-02-08T00:17:19Z"}, "comments": 3, "created_at": "2019-01-30T18:49:23Z", "updated_at": "2019-02-05T15:10:53Z", "closed_at": "2019-02-05T15:10:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using near-sided perspective proj4 definitions do not work with rasterio >1.0.9. We had encountered a similar problem previously (see #1292), which was resolved by setting 'wktext' to True in the proj4 def. This no longer works.\r\n\r\nNote that I can successfully run `gdalsrsinfo` on the proj4 definition as long as 'wktext' is included in the definition:\r\n\r\n```\r\n$ gdalsrsinfo \"+ellps=WGS84 +h=9000000.0 +lat_0=-78.0 +lon_0=0.0 +proj=nsper +units=m +x_0=0 +y_0=0 +wktext\"\r\n\r\nPROJ.4 : +ellps=WGS84 +h=9000000.0 +lat_0=-78.0 +lon_0=0.0 +proj=nsper +units=m +x_0=0 +y_0=0 +wktext\r\n\r\nOGC WKT :\r\nPROJCS[\"unnamed\",\r\n    GEOGCS[\"WGS 84\",\r\n        DATUM[\"unknown\",\r\n            SPHEROID[\"WGS84\",6378137,298.257223563]],\r\n        PRIMEM[\"Greenwich\",0],\r\n        UNIT[\"degree\",0.0174532925199433]],\r\n    PROJECTION[\"custom_proj4\"],\r\n    UNIT[\"Meter\",1],\r\n    EXTENSION[\"PROJ4\",\"+ellps=WGS84 +h=9000000.0 +lat_0=-78.0 +lon_0=0.0 +proj=nsper +units=m +x_0=0 +y_0=0 +wktext\"]]\r\n```\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nIn rasterio v1.0.7 - v1.0.9, near-sided perspective CRSs worked as expected. Newer versions of rasterio no longer seem to support these CRSs\r\n\r\nSetup:\r\n```\r\nfrom rasterio.crs import CRS as rcrs\r\nfrom rasterio import warp\r\n\r\nsrc_width, src_height = (632, 664)\r\nleft, right, bottom, top = (-3950000.0, 3950000.0, -3950000.0, 4350000.0)\r\n\r\nsrc_proj = {'ellps': 'WGS84',\r\n            'proj': 'stere',\r\n            'lat_0': -90.0,\r\n            'lon_0': 0.0,\r\n            'x_0': 0.0,\r\n            'y_0': 0.0,\r\n            'lat_ts': -70,\r\n            'no_defs': True}\r\n\r\ndst_proj = {'ellps': 'WGS84',\r\n           'h': 9000000.0,\r\n           'lat_0': -78.0,\r\n           'lon_0': 0.0,\r\n           'proj': 'nsper',\r\n           'units': 'm',\r\n           'x_0': 0,\r\n           'y_0': 0,\r\n           'wktext': True}\r\n\r\n```\r\n\r\nrasterio >=1.0.7, <=1.0.9 (works as expected):\r\n```\r\nsrc_crs = rcrs(src_proj)\r\n\r\ndst_crs = rcrs(dst_proj)\r\n\r\nwarp.calculate_default_transform(src_crs, dst_crs, src_width, src_height, left, bottom, right, top)\r\n```\r\n\r\nHowever, newer versions do not work as expected:\r\n\r\nrasterio >=1.0.10:\r\n```\r\nsrc_crs = rcrs(src_proj)\r\n\r\ndst_crs = rcrs(dst_proj)\r\n\r\nwarp.calculate_default_transform(src_crs, dst_crs, src_width, src_height, left, bottom, right, top)\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/trst2284/miniconda3/envs/test/lib/python3.6/site-packages/rasterio/env.py\", line 373, in wrapper\r\n    return f(*args, **kwds)\r\n  File \"/home/trst2284/miniconda3/envs/test/lib/python3.6/site-packages/rasterio/warp.py\", line 418, in calculate_default_transform\r\n    src_crs, dst_crs, width, height, left, bottom, right, top, gcps)\r\n  File \"rasterio/_warp.pyx\", line 542, in rasterio._warp._calculate_default_transform\r\n  File \"rasterio/_base.pyx\", line 1331, in rasterio._base._osr_from_crs\r\nrasterio.errors.CRSError: Invalid CRS: CRS({'ellps': 'WGS84', 'h': 9000000.0, 'lat_0': -78.0, 'lon_0': 0.0, 'proj': 'nsper', 'units': 'm', 'x_0': 0, 'y_0': 0, 'wktext': True})\r\n```\r\n\r\nrasterio >=1.0.14:\r\n```\r\nsrc_crs = rcrs(src_proj)\r\n\r\ndst_crs = rcrs(dst_proj)\r\n*** rasterio.errors.CRSError: The PROJ4 dict could not be understood. OGR Error code 5\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\nSee above.\r\n\r\n## Operating system\r\n\r\nUbuntu 16.04\r\n\r\n## Rasterio version and provenance\r\n\r\nTested with rasterio versions 1.0.7 - 1.0.15, installed with conda v4.6.1 from\r\nthe `conda-forge` channel.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1609/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1609/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1600", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1600/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1600/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1600/events", "html_url": "https://github.com/rasterio/rasterio/issues/1600", "id": 399750863, "node_id": "MDU6SXNzdWUzOTk3NTA4NjM=", "number": 1600, "title": "Writing GCPs to GeoJP2 doesn't work", "user": {"login": "mraspaud", "id": 167802, "node_id": "MDQ6VXNlcjE2NzgwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/167802?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mraspaud", "html_url": "https://github.com/mraspaud", "followers_url": "https://api.github.com/users/mraspaud/followers", "following_url": "https://api.github.com/users/mraspaud/following{/other_user}", "gists_url": "https://api.github.com/users/mraspaud/gists{/gist_id}", "starred_url": "https://api.github.com/users/mraspaud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mraspaud/subscriptions", "organizations_url": "https://api.github.com/users/mraspaud/orgs", "repos_url": "https://api.github.com/users/mraspaud/repos", "events_url": "https://api.github.com/users/mraspaud/events{/privacy}", "received_events_url": "https://api.github.com/users/mraspaud/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 1183053396, "node_id": "MDU6TGFiZWwxMTgzMDUzMzk2", "url": "https://api.github.com/repos/rasterio/rasterio/labels/needs%20discussion", "name": "needs discussion", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-16T10:49:17Z", "updated_at": "2019-02-01T02:51:42Z", "closed_at": "2019-02-01T02:51:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi all, thanks so much for this great lib!\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI'm trying to generate JPEG 2000 files with GCPs inside. Creating a file with rasterio and putting GCPs in it works great with GTiff, but not with JP2OpenJPEG, that is no GCP is written in the file. `gdal_translate` works in that it transfers the GCPs from a geotiff to a jp2, so I suppose it isn't a problem with GDAL itself, right ?\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport rasterio\r\nfrom rasterio.control import GroundControlPoint\r\nimport os\r\nimport numpy as np\r\n\r\ndef test_write_read_gcps(tmpdir):\r\n    filename = os.path.join(tmpdir, 'test_gcps.jp2')\r\n    gcps = [GroundControlPoint(1, 1, 100.0, 1000.0, z=0.0)]\r\n\r\n    with rasterio.open(filename, 'w', driver='JP2OpenJPEG', dtype='uint8', count=1,\r\n                       width=10, height=10, crs='epsg:4326', gcps=gcps) as dst:\r\n        dst.write(np.random.randint(255, size=(10, 10), dtype='uint8'), indexes=1)\r\n\r\ntest_write_read_gcps('/tmp/')\r\n```\r\n\r\n`gdalinfo` on `test_gcps.jp2` shows:\r\n```\r\nDriver: JP2OpenJPEG/JPEG-2000 driver based on OpenJPEG library\r\nFiles: /tmp/test_gcps.jp2\r\nSize is 10, 10\r\nCoordinate System is:\r\nGEOGCS[\"WGS 84\",\r\n    DATUM[\"WGS_1984\",\r\n        SPHEROID[\"WGS 84\",6378137,298.257223563,\r\n            AUTHORITY[\"EPSG\",\"7030\"]],\r\n        AUTHORITY[\"EPSG\",\"6326\"]],\r\n    PRIMEM[\"Greenwich\",0],\r\n    UNIT[\"degree\",0.0174532925199433],\r\n    AUTHORITY[\"EPSG\",\"4326\"]]\r\nCorner Coordinates:\r\nUpper Left  (    0.0,    0.0)\r\nLower Left  (    0.0,   10.0)\r\nUpper Right (   10.0,    0.0)\r\nLower Right (   10.0,   10.0)\r\nCenter      (    5.0,    5.0)\r\nBand 1 Block=10x10 Type=Byte, ColorInterp=Undefined\r\n  Overviews: arbitrary\r\n```\r\n\r\n## Operating system\r\n\r\nLinux RHEL 7.3, 64 bits\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 1.0.13 installed from conda forge\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1600/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1596", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1596/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1596/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1596/events", "html_url": "https://github.com/rasterio/rasterio/issues/1596", "id": 398479265, "node_id": "MDU6SXNzdWUzOTg0NzkyNjU=", "number": 1596, "title": "Update resampling doc topic", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/84", "html_url": "https://github.com/rasterio/rasterio/milestone/84", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/84/labels", "id": 4164716, "node_id": "MDk6TWlsZXN0b25lNDE2NDcxNg==", "number": 84, "title": "1.0.23", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2019-03-22T18:12:47Z", "updated_at": "2019-05-16T04:25:38Z", "due_on": null, "closed_at": "2019-05-16T04:25:38Z"}, "comments": 0, "created_at": "2019-01-11T22:45:00Z", "updated_at": "2019-05-16T04:23:26Z", "closed_at": "2019-05-16T04:23:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://rasterio.readthedocs.io/en/latest/topics/resampling.html is out of date and has bugs. In particular, the advice to warp is not very current.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1596/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1596/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1591", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1591/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1591/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1591/events", "html_url": "https://github.com/rasterio/rasterio/pull/1591", "id": 394441110, "node_id": "MDExOlB1bGxSZXF1ZXN0MjQxMTg4MzIx", "number": 1591, "title": "Add anonymous Env in DatasetBase.__enter__ if needed", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/75", "html_url": "https://github.com/rasterio/rasterio/milestone/75", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/75/labels", "id": 3903161, "node_id": "MDk6TWlsZXN0b25lMzkwMzE2MQ==", "number": 75, "title": "1.0.14", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2018-12-15T01:08:16Z", "updated_at": "2019-01-25T20:55:17Z", "due_on": null, "closed_at": "2019-01-25T20:55:17Z"}, "comments": 0, "created_at": "2018-12-27T16:47:35Z", "updated_at": "2018-12-27T17:32:47Z", "closed_at": "2018-12-27T17:32:43Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1591", "html_url": "https://github.com/rasterio/rasterio/pull/1591", "diff_url": "https://github.com/rasterio/rasterio/pull/1591.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1591.patch", "merged_at": "2018-12-27T17:32:43Z"}, "body": "Prevents bugs when datasets are opened and passed to other functions.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1591/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1587", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1587/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1587/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1587/events", "html_url": "https://github.com/rasterio/rasterio/issues/1587", "id": 392477230, "node_id": "MDU6SXNzdWUzOTI0NzcyMzA=", "number": 1587, "title": "Can't open a no crs IMG files", "user": {"login": "lhc741", "id": 38067907, "node_id": "MDQ6VXNlcjM4MDY3OTA3", "avatar_url": "https://avatars.githubusercontent.com/u/38067907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lhc741", "html_url": "https://github.com/lhc741", "followers_url": "https://api.github.com/users/lhc741/followers", "following_url": "https://api.github.com/users/lhc741/following{/other_user}", "gists_url": "https://api.github.com/users/lhc741/gists{/gist_id}", "starred_url": "https://api.github.com/users/lhc741/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lhc741/subscriptions", "organizations_url": "https://api.github.com/users/lhc741/orgs", "repos_url": "https://api.github.com/users/lhc741/repos", "events_url": "https://api.github.com/users/lhc741/events{/privacy}", "received_events_url": "https://api.github.com/users/lhc741/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/75", "html_url": "https://github.com/rasterio/rasterio/milestone/75", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/75/labels", "id": 3903161, "node_id": "MDk6TWlsZXN0b25lMzkwMzE2MQ==", "number": 75, "title": "1.0.14", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2018-12-15T01:08:16Z", "updated_at": "2019-01-25T20:55:17Z", "due_on": null, "closed_at": "2019-01-25T20:55:17Z"}, "comments": 3, "created_at": "2018-12-19T07:44:55Z", "updated_at": "2019-01-22T18:37:45Z", "closed_at": "2019-01-22T18:37:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI expected to open a .img file which don't have a coordinate and an exception occurred.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nI run \uff1a\r\n\r\n`ds = rasterio.open('plane.img')`\r\n\r\n*and return\uff1a*\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"rasterio\\_crs.pyx\", line 245, in rasterio._crs._CRS.from_wkt\r\n  File \"rasterio\\_crs.pyx\", line 158, in rasterio._crs._CRS.from_string\r\nrasterio.errors.CRSError: CRS is empty or invalid: ''\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<input>\", line 1, in <module>\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm 2018.2.4\\helpers\\pydev\\_pydev_bundle\\pydev_umd.py\", line 198, in runfile\r\n    pydev_imports.execfile(filename, global_vars, local_vars)  # execute the script\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm 2018.2.4\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"E:/CODE/DLinkNet-GeoAI/coordinate.py\", line 6, in <module>\r\n    ds = rasterio.open('dataset/plane.img')\r\n  File \"E:\\code\\DLinkNet-py36\\venv\\lib\\site-packages\\rasterio\\env.py\", line 421, in wrapper\r\n    return f(*args, **kwds)\r\n  File \"E:\\code\\DLinkNet-py36\\venv\\lib\\site-packages\\rasterio\\__init__.py\", line 224, in open\r\n    s = DatasetReader(path, driver=driver, **kwargs)\r\n  File \"rasterio\\_base.pyx\", line 215, in rasterio._base.DatasetBase.__init__\r\n  File \"rasterio\\_base.pyx\", line 232, in rasterio._base.DatasetBase._set_attrs_from_dataset_handle\r\n  File \"rasterio\\_base.pyx\", line 315, in rasterio._base.DatasetBase.read_crs\r\n  File \"rasterio\\_base.pyx\", line 299, in rasterio._base.DatasetBase._handle_crswkt\r\n  File \"rasterio\\_crs.pyx\", line 249, in rasterio._crs._CRS.from_wkt\r\n  File \"rasterio\\_crs.pyx\", line 158, in rasterio._crs._CRS.from_string\r\nrasterio.errors.CRSError: CRS is empty or invalid: ''\r\n```\r\n\r\nThe other files(such as tif,png.jpg) won't return an error instead a warning, and I can open this raster in  ArcGIS or QGIS \r\n\r\nThanks!\r\n\r\n## Operating system\r\n\r\nWindows10\r\n\r\n## Rasterio version and provenance\r\n\r\nI get this error in Rasterio 1.0.10/ 1.0.11/ 1.0.12/ 1.0.13, and it's right in Rasterio 1.0.9\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1587/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1583", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1583/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1583/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1583/events", "html_url": "https://github.com/rasterio/rasterio/pull/1583", "id": 391313125, "node_id": "MDExOlB1bGxSZXF1ZXN0MjM4ODY5NDUy", "number": 1583, "title": "Reduce log level when logging colormaps", "user": {"login": "mojodna", "id": 45, "node_id": "MDQ6VXNlcjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/45?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mojodna", "html_url": "https://github.com/mojodna", "followers_url": "https://api.github.com/users/mojodna/followers", "following_url": "https://api.github.com/users/mojodna/following{/other_user}", "gists_url": "https://api.github.com/users/mojodna/gists{/gist_id}", "starred_url": "https://api.github.com/users/mojodna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mojodna/subscriptions", "organizations_url": "https://api.github.com/users/mojodna/orgs", "repos_url": "https://api.github.com/users/mojodna/repos", "events_url": "https://api.github.com/users/mojodna/events{/privacy}", "received_events_url": "https://api.github.com/users/mojodna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/75", "html_url": "https://github.com/rasterio/rasterio/milestone/75", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/75/labels", "id": 3903161, "node_id": "MDk6TWlsZXN0b25lMzkwMzE2MQ==", "number": 75, "title": "1.0.14", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2018-12-15T01:08:16Z", "updated_at": "2019-01-25T20:55:17Z", "due_on": null, "closed_at": "2019-01-25T20:55:17Z"}, "comments": 1, "created_at": "2018-12-14T23:29:41Z", "updated_at": "2018-12-15T04:16:11Z", "closed_at": "2018-12-15T04:16:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1583", "html_url": "https://github.com/rasterio/rasterio/pull/1583", "diff_url": "https://github.com/rasterio/rasterio/pull/1583.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1583.patch", "merged_at": "2018-12-15T04:16:00Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1583/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1579", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1579/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1579/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1579/events", "html_url": "https://github.com/rasterio/rasterio/pull/1579", "id": 391303592, "node_id": "MDExOlB1bGxSZXF1ZXN0MjM4ODYxOTgz", "number": 1579, "title": "Fix \"ValueError: Buffer dtype mismatch\" on win_amd64", "user": {"login": "cgohlke", "id": 483428, "node_id": "MDQ6VXNlcjQ4MzQyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/483428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgohlke", "html_url": "https://github.com/cgohlke", "followers_url": "https://api.github.com/users/cgohlke/followers", "following_url": "https://api.github.com/users/cgohlke/following{/other_user}", "gists_url": "https://api.github.com/users/cgohlke/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgohlke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgohlke/subscriptions", "organizations_url": "https://api.github.com/users/cgohlke/orgs", "repos_url": "https://api.github.com/users/cgohlke/repos", "events_url": "https://api.github.com/users/cgohlke/events{/privacy}", "received_events_url": "https://api.github.com/users/cgohlke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/74", "html_url": "https://github.com/rasterio/rasterio/milestone/74", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/74/labels", "id": 3903009, "node_id": "MDk6TWlsZXN0b25lMzkwMzAwOQ==", "number": 74, "title": "1.0.13", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2018-12-14T22:48:20Z", "updated_at": "2018-12-15T04:14:55Z", "due_on": null, "closed_at": "2018-12-15T04:14:55Z"}, "comments": 1, "created_at": "2018-12-14T22:42:01Z", "updated_at": "2018-12-14T23:01:32Z", "closed_at": "2018-12-14T23:01:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1579", "html_url": "https://github.com/rasterio/rasterio/pull/1579", "diff_url": "https://github.com/rasterio/rasterio/pull/1579.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1579.patch", "merged_at": "2018-12-14T23:01:31Z"}, "body": "The following simple example fails with rasterio-1.0.12 on 64-bit Python, Windows:\r\n\r\n```Python\r\nimport rasterio\r\nwith rasterio.open('RGB.byte.tif') as src:\r\n    r, g, b = src.read()\r\n```\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"example.py\", line 3, in <module>\r\n    r, g, b = src.read()\r\n  File \"rasterio\\_io.pyx\", line 339, in rasterio._io.DatasetReaderBase.read\r\n  File \"rasterio\\_io.pyx\", line 689, in rasterio._io.DatasetReaderBase._read\r\nValueError: Buffer dtype mismatch, expected 'Py_ssize_t' but got 'long'\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1579/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1579/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1573", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1573/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1573/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1573/events", "html_url": "https://github.com/rasterio/rasterio/pull/1573", "id": 389415946, "node_id": "MDExOlB1bGxSZXF1ZXN0MjM3NDEwOTE2", "number": 1573, "title": "Turn on exceptions and use Py_ssize_t for index arrays", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/73", "html_url": "https://github.com/rasterio/rasterio/milestone/73", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/73/labels", "id": 3862153, "node_id": "MDk6TWlsZXN0b25lMzg2MjE1Mw==", "number": 73, "title": "1.0.12", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2018-11-30T20:23:50Z", "updated_at": "2019-01-07T16:07:43Z", "due_on": null, "closed_at": "2018-12-15T04:15:00Z"}, "comments": 0, "created_at": "2018-12-10T17:50:36Z", "updated_at": "2018-12-10T19:20:46Z", "closed_at": "2018-12-10T19:20:42Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1573", "html_url": "https://github.com/rasterio/rasterio/pull/1573", "diff_url": "https://github.com/rasterio/rasterio/pull/1573.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1573.patch", "merged_at": "2018-12-10T19:20:42Z"}, "body": "Towards resolving #1076", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1573/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1573/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1571", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1571/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1571/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1571/events", "html_url": "https://github.com/rasterio/rasterio/pull/1571", "id": 388328294, "node_id": "MDExOlB1bGxSZXF1ZXN0MjM2NjE4OTUw", "number": 1571, "title": "Exploit VRT complex source scale ratio 0 optimization", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/73", "html_url": "https://github.com/rasterio/rasterio/milestone/73", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/73/labels", "id": 3862153, "node_id": "MDk6TWlsZXN0b25lMzg2MjE1Mw==", "number": 73, "title": "1.0.12", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2018-11-30T20:23:50Z", "updated_at": "2019-01-07T16:07:43Z", "due_on": null, "closed_at": "2018-12-15T04:15:00Z"}, "comments": 3, "created_at": "2018-12-06T17:54:38Z", "updated_at": "2018-12-07T17:39:23Z", "closed_at": "2018-12-07T17:39:20Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1571", "html_url": "https://github.com/rasterio/rasterio/pull/1571", "diff_url": "https://github.com/rasterio/rasterio/pull/1571.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1571.patch", "merged_at": "2018-12-07T17:39:20Z"}, "body": "Per conversation in https://github.com/OSGeo/gdal/issues/1135, GDAL doesn't read the VRT source dataset of a complex source when the scale ratio is set to 0. This makes a bunch of complicated code in rasterio._io obsolete and reverses a performance regression noted in #1499.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1571/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1571/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1569", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1569/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1569/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1569/events", "html_url": "https://github.com/rasterio/rasterio/issues/1569", "id": 387433996, "node_id": "MDU6SXNzdWUzODc0MzM5OTY=", "number": 1569, "title": "Raise Exception when copying a dataset to the same path", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/73", "html_url": "https://github.com/rasterio/rasterio/milestone/73", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/73/labels", "id": 3862153, "node_id": "MDk6TWlsZXN0b25lMzg2MjE1Mw==", "number": 73, "title": "1.0.12", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2018-11-30T20:23:50Z", "updated_at": "2019-01-07T16:07:43Z", "due_on": null, "closed_at": "2018-12-15T04:15:00Z"}, "comments": 2, "created_at": "2018-12-04T19:01:40Z", "updated_at": "2021-05-04T15:00:12Z", "closed_at": "2018-12-05T00:30:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As with Python's shutil.copy\r\n\r\n```\r\n$ python -c \"import shutil; shutil.copy('/tmp/foo.txt', '/tmp/foo.txt')\"\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/sean/.virtualenvs/dev-rasterio/lib/python3.6/shutil.py\", line 241, in copy\r\n    copyfile(src, dst, follow_symlinks=follow_symlinks)\r\n  File \"/home/sean/.virtualenvs/dev-rasterio/lib/python3.6/shutil.py\", line 104, in copyfile\r\n    raise SameFileError(\"{!r} and {!r} are the same file\".format(src, dst))\r\nshutil.SameFileError: '/tmp/foo.txt' and '/tmp/foo.txt' are the same file\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1569/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1568", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1568/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1568/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1568/events", "html_url": "https://github.com/rasterio/rasterio/issues/1568", "id": 387431685, "node_id": "MDU6SXNzdWUzODc0MzE2ODU=", "number": 1568, "title": "Do not pass a pointer when calling GDALRasterizeGeometries", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/73", "html_url": "https://github.com/rasterio/rasterio/milestone/73", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/73/labels", "id": 3862153, "node_id": "MDk6TWlsZXN0b25lMzg2MjE1Mw==", "number": 73, "title": "1.0.12", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2018-11-30T20:23:50Z", "updated_at": "2019-01-07T16:07:43Z", "due_on": null, "closed_at": "2018-12-15T04:15:00Z"}, "comments": 1, "created_at": "2018-12-04T18:55:55Z", "updated_at": "2018-12-04T19:38:44Z", "closed_at": "2018-12-04T19:38:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As pointed out in the discussion group (https://rasterio.groups.io/g/main/message/90) the pointer we pass to GDALRasterizeGeometries as pTransformArg is not used and is at risk of corruption. We should pass NULL instead.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1568/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1562", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1562/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1562/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1562/events", "html_url": "https://github.com/rasterio/rasterio/issues/1562", "id": 385334119, "node_id": "MDU6SXNzdWUzODUzMzQxMTk=", "number": 1562, "title": "ColorInterp: gray or grey", "user": {"login": "guydou", "id": 93029, "node_id": "MDQ6VXNlcjkzMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/93029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guydou", "html_url": "https://github.com/guydou", "followers_url": "https://api.github.com/users/guydou/followers", "following_url": "https://api.github.com/users/guydou/following{/other_user}", "gists_url": "https://api.github.com/users/guydou/gists{/gist_id}", "starred_url": "https://api.github.com/users/guydou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guydou/subscriptions", "organizations_url": "https://api.github.com/users/guydou/orgs", "repos_url": "https://api.github.com/users/guydou/repos", "events_url": "https://api.github.com/users/guydou/events{/privacy}", "received_events_url": "https://api.github.com/users/guydou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/72", "html_url": "https://github.com/rasterio/rasterio/milestone/72", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/72/labels", "id": 3827800, "node_id": "MDk6TWlsZXN0b25lMzgyNzgwMA==", "number": 72, "title": "1.0.11", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2018-11-16T21:52:27Z", "updated_at": "2018-12-01T02:26:33Z", "due_on": null, "closed_at": "2018-12-01T02:26:33Z"}, "comments": 3, "created_at": "2018-11-28T15:52:49Z", "updated_at": "2018-11-28T21:22:04Z", "closed_at": "2018-11-28T20:55:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I found in the ColorInterp enum that the value of 1 can be either gray or grey. \r\nhttps://github.com/mapbox/rasterio/blob/f2e027bec19603096c7b3796f4be4f203010fa1f/rasterio/enums.py#L9\r\n\r\nThat is a problem at least in this code:\r\nhttps://github.com/mapbox/rasterio/blob/d0c155571adf13b932789421071f17083c988ac2/rasterio/vrt.py#L118\r\n\r\nbecause I get in the colorinterp Grey and then gdal treats this as undefined instead of Grayscale\r\n\r\nThe defenition of a vrt:\r\n```\r\nColorInterp: The data of this element should be the name of a color interpretation type. One of Gray, Palette, Red, Green, Blue, Alpha, Hue, Saturation, Lightness, Cyan, Magenta, Yellow, Black, or Unknown.\r\n```\r\n\r\nso is it a bug that the enum has the two values, or should I force it be Gray using a forcing code?\r\n\r\nI copied the `_boundless_vrt_doc` code to my project to build vrts ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1562/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1562/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1560", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1560/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1560/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1560/events", "html_url": "https://github.com/rasterio/rasterio/pull/1560", "id": 383327658, "node_id": "MDExOlB1bGxSZXF1ZXN0MjMyODIzMTIz", "number": 1560, "title": "Patch environ gdal data", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/72", "html_url": "https://github.com/rasterio/rasterio/milestone/72", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/72/labels", "id": 3827800, "node_id": "MDk6TWlsZXN0b25lMzgyNzgwMA==", "number": 72, "title": "1.0.11", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2018-11-16T21:52:27Z", "updated_at": "2018-12-01T02:26:33Z", "due_on": null, "closed_at": "2018-12-01T02:26:33Z"}, "comments": 8, "created_at": "2018-11-21T23:32:35Z", "updated_at": "2018-11-28T17:29:49Z", "closed_at": "2018-11-26T23:52:38Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1560", "html_url": "https://github.com/rasterio/rasterio/pull/1560", "diff_url": "https://github.com/rasterio/rasterio/pull/1560.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1560.patch", "merged_at": "2018-11-26T23:52:38Z"}, "body": "Here's the PR that does for Rasterio what I proposed in https://github.com/Toblerity/Fiona/issues/673#issuecomment-440723698: patch os.environ after we find GDAL data in a wheel.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1560/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1540", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1540/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1540/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1540/events", "html_url": "https://github.com/rasterio/rasterio/issues/1540", "id": 377449214, "node_id": "MDU6SXNzdWUzNzc0NDkyMTQ=", "number": 1540, "title": "Use CRS.from_string in _base.pyx `_handle_crswkt` function", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/71", "html_url": "https://github.com/rasterio/rasterio/milestone/71", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/71/labels", "id": 3763420, "node_id": "MDk6TWlsZXN0b25lMzc2MzQyMA==", "number": 71, "title": "1.0.10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2018-10-23T22:45:43Z", "updated_at": "2018-11-19T17:58:02Z", "due_on": null, "closed_at": "2018-11-17T00:55:58Z"}, "comments": 0, "created_at": "2018-11-05T15:26:22Z", "updated_at": "2018-11-05T20:21:52Z", "closed_at": "2018-11-05T20:21:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nSame problem for issue #1357, however the issue is not fixed in the _base.pyx `DatasetBase._handle_crswkt` function.\r\n\r\n## Steps to reproduce the problem.\r\nOpen up a file with the projection in issue #1357.\r\n\r\n>>> rds = rasterio.open('testfile.tif')\r\n>>> rds.crs\r\nCRS({})\r\n\r\nWith fix:\r\n>>> rds = rasterio.open('testfile.tif')\r\n>>> rds.crs\r\nCRS({'proj': 'aea', 'lat_1': 29.5, 'lat_2': 45.5, 'lat_0': 23, 'lon_0': -96, 'x_0': 0, 'y_0': 0, 'datum': 'NAD83', 'units': 'm', 'no_defs': True})\r\n\r\n## Proposed solution\r\n\r\nThoughts on using the `CRS.from_wkt` in the `DatasetBase._handle_crswkt` method in  _base.pyx?\r\n\r\n## Operating system\r\n\r\nUbuntu 18.04.1\r\n\r\n## Rasterio version and provenance\r\nCurrent master branch.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1540/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1540/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1539", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1539/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1539/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1539/events", "html_url": "https://github.com/rasterio/rasterio/issues/1539", "id": 377392323, "node_id": "MDU6SXNzdWUzNzczOTIzMjM=", "number": 1539, "title": "Unable to open EPSG support file gcs.csv", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 19, "created_at": "2018-11-05T13:07:29Z", "updated_at": "2019-01-08T21:23:07Z", "closed_at": "2018-11-19T17:58:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": "resolved", "body": "In case I install rasterio from github:\r\n\r\n```\r\n$ pip install git+https://github.com/mapbox/rasterio.git\r\n```\r\n\r\nthe following code works flawlessly:\r\n\r\n```\r\n>>> from rasterio.crs import CRS\r\n>>> CRS({'init': 'epsg:4326'}).is_geographic\r\nTrue\r\n```\r\n\r\nBut if  I install rasterio from PyPI I get such error:\r\n\r\n```\r\n>>> from rasterio.crs import CRS\r\n>>> CRS({'init': 'epsg:4326'}).is_geographic\r\nERROR 4: Unable to open EPSG support file gcs.csv.  Try setting the GDAL_DATA environment variable to point to the directory containing EPSG csv files.\r\nTraceback (most recent call last):\r\n  File \"rasterio/_base.pyx\", line 1310, in rasterio._base._osr_from_crs\r\n  File \"rasterio/_err.pyx\", line 182, in rasterio._err.exc_wrap_int\r\nrasterio._err.CPLE_OpenFailedError: Unable to open EPSG support file gcs.csv.  Try setting the GDAL_DATA environment variable to point to the directory containing EPSG csv files.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"rasterio/_crs.pyx\", line 37, in rasterio._crs._CRS.is_geographic\r\n  File \"rasterio/_base.pyx\", line 1316, in rasterio._base._osr_from_crs\r\nrasterio.errors.CRSError: Unable to open EPSG support file gcs.csv.  Try setting the GDAL_DATA environment variable to point to the directory containing EPSG csv files.\r\n```\r\n\r\nTo overcome this issue we've wrapped the code that need access to `GDAL_DATA` with `rasterio.Env()`:\r\n\r\n```\r\n>>> import rasterio\r\n>>> from rasterio.crs import CRS\r\n>>> with rasterio.Env():\r\n...     CRS({'init': 'epsg:4326'}).is_geographic\r\n... \r\nTrue\r\n>>> CRS({'init': 'epsg:3857'}).is_geographic\r\nFalse\r\n```\r\n\r\nIs it expected behavior? It looks strange that subsequent calls of the same code works fine without wrapping. Another interesting case is when we call `is_geographic` without wrapping then the next call with wrapping doesn't work:\r\n\r\n```\r\n>>> import rasterio\r\n>>> from rasterio.crs import CRS\r\n>>> CRS({'init': 'epsg:4326'}).is_geographic\r\nERROR 4: Unable to open EPSG support file gcs.csv.  Try setting the GDAL_DATA environment variable to point to the directory containing EPSG csv files.\r\nTraceback (most recent call last):\r\n  File \"rasterio/_base.pyx\", line 1310, in rasterio._base._osr_from_crs\r\n  File \"rasterio/_err.pyx\", line 182, in rasterio._err.exc_wrap_int\r\nrasterio._err.CPLE_OpenFailedError: Unable to open EPSG support file gcs.csv.  Try setting the GDAL_DATA environment variable to point to the directory containing EPSG csv files.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"rasterio/_crs.pyx\", line 37, in rasterio._crs._CRS.is_geographic\r\n  File \"rasterio/_base.pyx\", line 1316, in rasterio._base._osr_from_crs\r\nrasterio.errors.CRSError: Unable to open EPSG support file gcs.csv.  Try setting the GDAL_DATA environment variable to point to the directory containing EPSG csv files.\r\n>>> with rasterio.Env():\r\n...     CRS({'init': 'epsg:4326'}).is_geographic\r\n... \r\nTraceback (most recent call last):\r\n  File \"rasterio/_base.pyx\", line 1310, in rasterio._base._osr_from_crs\r\n  File \"rasterio/_err.pyx\", line 182, in rasterio._err.exc_wrap_int\r\nrasterio._err.CPLE_OpenFailedError: Unable to open EPSG support file gcs.csv.  Try setting the GDAL_DATA environment variable to point to the directory containing EPSG csv files.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 2, in <module>\r\n  File \"rasterio/_crs.pyx\", line 37, in rasterio._crs._CRS.is_geographic\r\n  File \"rasterio/_base.pyx\", line 1316, in rasterio._base._osr_from_crs\r\nrasterio.errors.CRSError: Unable to open EPSG support file gcs.csv.  Try setting the GDAL_DATA environment variable to point to the directory containing EPSG csv files.\r\n```\r\n\r\n@sgillies please take a look.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1539/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1537", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1537/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1537/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1537/events", "html_url": "https://github.com/rasterio/rasterio/issues/1537", "id": 376882807, "node_id": "MDU6SXNzdWUzNzY4ODI4MDc=", "number": 1537, "title": "ESRI formatted WKT projection string support", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/71", "html_url": "https://github.com/rasterio/rasterio/milestone/71", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/71/labels", "id": 3763420, "node_id": "MDk6TWlsZXN0b25lMzc2MzQyMA==", "number": 71, "title": "1.0.10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2018-10-23T22:45:43Z", "updated_at": "2018-11-19T17:58:02Z", "due_on": null, "closed_at": "2018-11-17T00:55:58Z"}, "comments": 2, "created_at": "2018-11-02T16:33:12Z", "updated_at": "2018-11-03T00:04:52Z", "closed_at": "2018-11-03T00:04:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\n```python\r\nprojection_string = 'PROJCS[\"USA_Contiguous_Albers_Equal_Area_Conic_USGS_version\",GEOGCS[\"GCS_North_American_1983\",DATUM[\"D_North_American_1983\",SPHEROID[\"GRS_1980\",6378137.0,298.257222101]],PRIMEM[\"Greenwich\",0.0],UNIT[\"Degree\",0.0174532925199433]],PROJECTION[\"Albers\"],PARAMETER[\"false_easting\",0.0],PARAMETER[\"false_northing\",0.0],PARAMETER[\"central_meridian\",-96.0],PARAMETER[\"standard_parallel_1\",29.5],PARAMETER[\"standard_parallel_2\",45.5],PARAMETER[\"latitude_of_origin\",23.0],UNIT[\"Meter\",1.0],VERTCS[\"NAVD_1988\",VDATUM[\"North_American_Vertical_Datum_1988\"],PARAMETER[\"Vertical_Shift\",0.0],PARAMETER[\"Direction\",1.0],UNIT[\"Centimeter\",0.01]]]'\r\n```\r\nThe actual output should contain the proj.4 projection string:\r\n```\r\n'+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=23 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs '\r\n```\r\nWith rasterio the output is:\r\n```\r\n>>> from rasterio.crs import CRS\r\n>>> CRS.from_string(projection_string)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"rasterio/_crs.pyx\", line 205, in rasterio._crs._CRS.from_string\r\n  File \"rasterio/_crs.pyx\", line 230, in rasterio._crs._CRS.from_wkt\r\nrasterio.errors.CRSError: Invalid CRS: 'PROJCS[\"USA_Contiguous_Albers_Equal_Area_Conic_USGS_version\",GEOGCS[\"GCS_North_American_1983\",DATUM[\"D_North_American_1983\",SPHEROID[\"GRS_1980\",6378137.0,298.257222101]],PRIMEM[\"Greenwich\",0.0],UNIT[\"Degree\",0.0174532925199433]],PROJECTION[\"Albers\"],PARAMETER[\"false_easting\",0.0],PARAMETER[\"false_northing\",0.0],PARAMETER[\"central_meridian\",-96.0],PARAMETER[\"standard_parallel_1\",29.5],PARAMETER[\"standard_parallel_2\",45.5],PARAMETER[\"latitude_of_origin\",23.0],UNIT[\"Meter\",1.0],VERTCS[\"NAVD_1988\",VDATUM[\"North_American_Vertical_Datum_1988\"],PARAMETER[\"Vertical_Shift\",0.0],PARAMETER[\"Direction\",1.0],UNIT[\"Centimeter\",0.01]'\r\n\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\nUsing the GDAL python bindings, I can reproduce the error:\r\n```\r\n>>> from osgeo import osr\r\n>>> spr = osr.SpatialReference()\r\n>>> spr.ImportFromWkt(p\r\npass               print(             property(          \r\npow(               projection_string  \r\n>>> spr.ImportFromWkt(projection_string)\r\n5\r\n>>> spr.ExportToProj4()\r\nERROR 6: No translation for Albers to PROJ.4 format is known.\r\n''\r\n```\r\nHowever, I can also fix the error:\r\n```\r\n>>> spr.MorphFromESRI()\r\n0\r\n>>> spr.ExportToProj4()\r\n'+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=23 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs '\r\n\r\n```\r\n\r\n## Proposed Solution\r\n\r\nThoughts on attempting to run the `MorphFromESRI` in the `rasterio.crs.CRS` class on the exception:\r\n`rasterio.errors.CRSError: Invalid CRS` before giving up? @sgillies \r\n\r\n## Operating system\r\n\r\nFor example: Ubuntu 18.04.1\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio                  1.0.9            py36h1b5fcde_0    conda-forge \r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1537/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1535", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1535/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1535/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1535/events", "html_url": "https://github.com/rasterio/rasterio/pull/1535", "id": 376635561, "node_id": "MDExOlB1bGxSZXF1ZXN0MjI3ODA4MDk2", "number": 1535, "title": "Add support for Alibaba Cloud OSS file (Cloud Optimized GeoTIFF)", "user": {"login": "sshuair", "id": 5787131, "node_id": "MDQ6VXNlcjU3ODcxMzE=", "avatar_url": "https://avatars.githubusercontent.com/u/5787131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sshuair", "html_url": "https://github.com/sshuair", "followers_url": "https://api.github.com/users/sshuair/followers", "following_url": "https://api.github.com/users/sshuair/following{/other_user}", "gists_url": "https://api.github.com/users/sshuair/gists{/gist_id}", "starred_url": "https://api.github.com/users/sshuair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sshuair/subscriptions", "organizations_url": "https://api.github.com/users/sshuair/orgs", "repos_url": "https://api.github.com/users/sshuair/repos", "events_url": "https://api.github.com/users/sshuair/events{/privacy}", "received_events_url": "https://api.github.com/users/sshuair/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/71", "html_url": "https://github.com/rasterio/rasterio/milestone/71", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/71/labels", "id": 3763420, "node_id": "MDk6TWlsZXN0b25lMzc2MzQyMA==", "number": 71, "title": "1.0.10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2018-10-23T22:45:43Z", "updated_at": "2018-11-19T17:58:02Z", "due_on": null, "closed_at": "2018-11-17T00:55:58Z"}, "comments": 2, "created_at": "2018-11-02T01:38:59Z", "updated_at": "2018-11-05T20:26:34Z", "closed_at": "2018-11-05T20:26:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1535", "html_url": "https://github.com/rasterio/rasterio/pull/1535", "diff_url": "https://github.com/rasterio/rasterio/pull/1535.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1535.patch", "merged_at": "2018-11-05T20:26:34Z"}, "body": "Add OSSSession to support Alibaba Cloud OSS file.\r\nusage:\r\n```python\r\nfrom rasterio.session import OSSSession\r\n\r\noss_access_key_id = \"***********\"\r\noss_secret_access_key = \"************\"\r\noss_endpoint = \"oss-cn-huhehaote.aliyuncs.com\"\r\nsession = OSSSession(oss_access_key_id, oss_secret_access_key, oss_endpoint)\r\nwith rasterio.Env(session):\r\n    fp = 'oss://g-imagery-cog-test/rasterio/private-access.tif.cog'\r\n    with rasterio.open(fp) as src:\r\n        print(src.profile)\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1535/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1535/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1534", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1534/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1534/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1534/events", "html_url": "https://github.com/rasterio/rasterio/issues/1534", "id": 376424289, "node_id": "MDU6SXNzdWUzNzY0MjQyODk=", "number": 1534, "title": "Document dataset.window_transform", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-01T14:48:08Z", "updated_at": "2018-12-03T22:20:19Z", "closed_at": "2018-12-03T22:19:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Specifically, discuss its usage here: https://github.com/mapbox/rasterio/blob/master/docs/topics/windowed-rw.rst. Suggested in #1531.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1534/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1527", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1527/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1527/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1527/events", "html_url": "https://github.com/rasterio/rasterio/issues/1527", "id": 375123344, "node_id": "MDU6SXNzdWUzNzUxMjMzNDQ=", "number": 1527, "title": "Add missing scale and offset properties", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/71", "html_url": "https://github.com/rasterio/rasterio/milestone/71", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/71/labels", "id": 3763420, "node_id": "MDk6TWlsZXN0b25lMzc2MzQyMA==", "number": 71, "title": "1.0.10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2018-10-23T22:45:43Z", "updated_at": "2018-11-19T17:58:02Z", "due_on": null, "closed_at": "2018-11-17T00:55:58Z"}, "comments": 0, "created_at": "2018-10-29T17:10:57Z", "updated_at": "2018-11-16T22:28:37Z", "closed_at": "2018-11-16T22:28:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "to complement description and units.\r\n\r\nSee https://www.gdal.org/gdal_8h.html#a27c1de2714eee9084bb3178ee7b6c740.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1527/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1523", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1523/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1523/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1523/events", "html_url": "https://github.com/rasterio/rasterio/pull/1523", "id": 374080921, "node_id": "MDExOlB1bGxSZXF1ZXN0MjI1ODY0MzYx", "number": 1523, "title": "Add full support for numpy masked arrays to features.shapes()", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/69", "html_url": "https://github.com/rasterio/rasterio/milestone/69", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/69/labels", "id": 3712571, "node_id": "MDk6TWlsZXN0b25lMzcxMjU3MQ==", "number": 69, "title": "1.0.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2018-10-04T14:30:06Z", "updated_at": "2018-10-26T01:48:18Z", "due_on": null, "closed_at": "2018-10-26T01:48:18Z"}, "comments": 0, "created_at": "2018-10-25T18:46:07Z", "updated_at": "2018-10-25T20:08:50Z", "closed_at": "2018-10-25T20:08:46Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1523", "html_url": "https://github.com/rasterio/rasterio/pull/1523", "diff_url": "https://github.com/rasterio/rasterio/pull/1523.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1523.patch", "merged_at": "2018-10-25T20:08:46Z"}, "body": "Resolves #1517", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1523/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1523/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1522", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1522/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1522/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1522/events", "html_url": "https://github.com/rasterio/rasterio/pull/1522", "id": 374061231, "node_id": "MDExOlB1bGxSZXF1ZXN0MjI1ODQ5MDg1", "number": 1522, "title": "None means none, not default", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/69", "html_url": "https://github.com/rasterio/rasterio/milestone/69", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/69/labels", "id": 3712571, "node_id": "MDk6TWlsZXN0b25lMzcxMjU3MQ==", "number": 69, "title": "1.0.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2018-10-04T14:30:06Z", "updated_at": "2018-10-26T01:48:18Z", "due_on": null, "closed_at": "2018-10-26T01:48:18Z"}, "comments": 2, "created_at": "2018-10-25T17:53:02Z", "updated_at": "2018-10-26T18:30:21Z", "closed_at": "2018-10-25T20:07:57Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1522", "html_url": "https://github.com/rasterio/rasterio/pull/1522", "diff_url": "https://github.com/rasterio/rasterio/pull/1522.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1522.patch", "merged_at": "2018-10-25T20:07:57Z"}, "body": "We've changed the constructor's nodata defaults to use a flag that is neither None nor a float.\r\n\r\nPassing `src_nodata=None` and/or `nodata=None` unlocks a missing feature or avoids a bug, depending on how you look at it. Accepting the default preserves the existing behavior, inheritance of the nodata values from the VRT's source dataset.\r\n\r\nResolves #1503", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1522/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1522/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1521", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1521/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1521/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1521/events", "html_url": "https://github.com/rasterio/rasterio/issues/1521", "id": 373999802, "node_id": "MDU6SXNzdWUzNzM5OTk4MDI=", "number": 1521, "title": "Use get_frozen_credentials instead of get_credentials", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/69", "html_url": "https://github.com/rasterio/rasterio/milestone/69", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/69/labels", "id": 3712571, "node_id": "MDk6TWlsZXN0b25lMzcxMjU3MQ==", "number": 69, "title": "1.0.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2018-10-04T14:30:06Z", "updated_at": "2018-10-26T01:48:18Z", "due_on": null, "closed_at": "2018-10-26T01:48:18Z"}, "comments": 2, "created_at": "2018-10-25T15:15:53Z", "updated_at": "2018-10-25T22:34:16Z", "closed_at": "2018-10-25T22:34:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In, for example, https://github.com/mapbox/rasterio/blob/226ab3b7480afc566393e3373c2c207dc75566d8/rasterio/session.py#L158\r\n\r\n@Kirill888 pointed this out to us in a post to the dev group and I see in the botocore project that this is the preferred interface. Looks to me like it should be an easy switch, but that we'll have to give up the caching we're currently doing in order to take advantage. I suppose that get_frozen_credentials picks up the caching for us? That would be a win, since I don't need a custom caching strategy.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1521/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1520", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1520/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1520/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1520/events", "html_url": "https://github.com/rasterio/rasterio/issues/1520", "id": 373990869, "node_id": "MDU6SXNzdWUzNzM5OTA4Njk=", "number": 1520, "title": "Generalize hascreds to other clouds", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/69", "html_url": "https://github.com/rasterio/rasterio/milestone/69", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/69/labels", "id": 3712571, "node_id": "MDk6TWlsZXN0b25lMzcxMjU3MQ==", "number": 69, "title": "1.0.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2018-10-04T14:30:06Z", "updated_at": "2018-10-26T01:48:18Z", "due_on": null, "closed_at": "2018-10-26T01:48:18Z"}, "comments": 0, "created_at": "2018-10-25T14:57:36Z", "updated_at": "2018-10-25T22:27:19Z", "closed_at": "2018-10-25T22:27:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`env.hascreds` is limited to AWS at the moment (see https://github.com/mapbox/rasterio/blob/master/rasterio/env.py#L340). It should be generalized by delegating to a method of the environment's session attribute.\r\n\r\ncc @Kirill888 ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1520/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1517", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1517/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1517/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1517/events", "html_url": "https://github.com/rasterio/rasterio/issues/1517", "id": 373417945, "node_id": "MDU6SXNzdWUzNzM0MTc5NDU=", "number": 1517, "title": "Error in docs?", "user": {"login": "amine-aboufirass", "id": 24267968, "node_id": "MDQ6VXNlcjI0MjY3OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/24267968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amine-aboufirass", "html_url": "https://github.com/amine-aboufirass", "followers_url": "https://api.github.com/users/amine-aboufirass/followers", "following_url": "https://api.github.com/users/amine-aboufirass/following{/other_user}", "gists_url": "https://api.github.com/users/amine-aboufirass/gists{/gist_id}", "starred_url": "https://api.github.com/users/amine-aboufirass/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amine-aboufirass/subscriptions", "organizations_url": "https://api.github.com/users/amine-aboufirass/orgs", "repos_url": "https://api.github.com/users/amine-aboufirass/repos", "events_url": "https://api.github.com/users/amine-aboufirass/events{/privacy}", "received_events_url": "https://api.github.com/users/amine-aboufirass/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/69", "html_url": "https://github.com/rasterio/rasterio/milestone/69", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/69/labels", "id": 3712571, "node_id": "MDk6TWlsZXN0b25lMzcxMjU3MQ==", "number": 69, "title": "1.0.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2018-10-04T14:30:06Z", "updated_at": "2018-10-26T01:48:18Z", "due_on": null, "closed_at": "2018-10-26T01:48:18Z"}, "comments": 2, "created_at": "2018-10-24T10:40:14Z", "updated_at": "2018-10-25T22:27:19Z", "closed_at": "2018-10-25T22:27:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "The documentation for the `mask`  argument in `rasterio.features.shapes` is as follows:\r\n\r\n>mask : numpy ndarray or rasterio Band object, optional\r\n>Values of False or 0 will be excluded from feature generation\r\n>Must evaluate to bool (rasterio.bool_ or rasterio.uint8)\r\n\r\nThis is highly confusing to me since from the `numpy` docs we have:\r\n\r\n>When an element of the mask is False, the corresponding element of the associated array is valid and is said to be unmasked. When an element of the mask is True, the corresponding element of the associated array is said to be masked (invalid)\r\n\r\nTherefore it is values which are `True` which are invalid, and the `rasterio.features.shapes` functionality should exclude _those_ from feature generation. It appears the documentation is incorrect?\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1517/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1517/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1514", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1514/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1514/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1514/events", "html_url": "https://github.com/rasterio/rasterio/issues/1514", "id": 372083273, "node_id": "MDU6SXNzdWUzNzIwODMyNzM=", "number": 1514, "title": "Small Update to plotting_extent docs and doc strings", "user": {"login": "lwasser", "id": 7649194, "node_id": "MDQ6VXNlcjc2NDkxOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7649194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lwasser", "html_url": "https://github.com/lwasser", "followers_url": "https://api.github.com/users/lwasser/followers", "following_url": "https://api.github.com/users/lwasser/following{/other_user}", "gists_url": "https://api.github.com/users/lwasser/gists{/gist_id}", "starred_url": "https://api.github.com/users/lwasser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lwasser/subscriptions", "organizations_url": "https://api.github.com/users/lwasser/orgs", "repos_url": "https://api.github.com/users/lwasser/repos", "events_url": "https://api.github.com/users/lwasser/events{/privacy}", "received_events_url": "https://api.github.com/users/lwasser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/71", "html_url": "https://github.com/rasterio/rasterio/milestone/71", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/71/labels", "id": 3763420, "node_id": "MDk6TWlsZXN0b25lMzc2MzQyMA==", "number": 71, "title": "1.0.10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2018-10-23T22:45:43Z", "updated_at": "2018-11-19T17:58:02Z", "due_on": null, "closed_at": "2018-11-17T00:55:58Z"}, "comments": 3, "created_at": "2018-10-19T19:16:16Z", "updated_at": "2018-11-16T21:54:23Z", "closed_at": "2018-11-16T21:54:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello @sgillies  and all rasterio devs / maintainers.\r\n\r\ni found what i think is a small bug / or not quite correctly documented function - `plotting_extent()`.\r\n\r\nAs documented in the doc string AND readthedocs, it says\r\n\r\n```\r\n\"\"\"Returns an extent in the format needed\r\n     for matplotlib's imshow (left, right, bottom, top)\r\n     instead of rasterio's bounds (left, bottom, top, right)\r\n    Parameters\r\n    ----------\r\n    source : array or dataset object opened in 'r' mode\r\n        input data\r\n    transform: Affine, required if source is array\r\n        Defines the affine transform if source is an array\r\n\"\"\"\r\n\r\n```\r\nHowever if you have a multi layer array (ie a multi band image for instance), opened with rasterio, you do not get the correct plotting extent. I believe this is because of this line:\r\n\r\n`rows, cols = source.shape[0:2]`\r\n\r\nwhich attempts to grab the first 2 dimensions of the image BUT those dimensions by default in a multi-band raster are `bands, rows` not `rows, cols`. Because it could be difficult to determine if an array is band order or not programmatically, i propose that the documentation is updated to reflect  that this function expects an array with dimensions rows, cols. And that if the data are not in that order, the user should either flip the data dimension order (ie transpose) OR provide `array[0]` if bands are the first dimension.\r\n\r\nThoughts on this? It would be a small update to the doc string and docs that i'm happy to submit if it's welcome. I've had many students mistakenly provide the function a band order first array following the `help(plotting_extent)`.\r\n\r\nSomething like this perhaps:\r\n\r\n```\r\n\"\"\"Returns an extent in the format needed\r\n     for matplotlib's imshow (left, right, bottom, top)\r\n     instead of rasterio's bounds (left, bottom, top, right)\r\n    Parameters\r\n    ----------\r\n    source : array or dataset object opened in 'r' mode\r\n        input data in the order rows, columns and optionally bands. If bands are the first dimension in the array use source[0]\r\n    transform: Affine, required if source is array\r\n        Defines the affine transform if source is an array\r\n\"\"\"\r\n\r\n```\r\nBest\r\nLeah  \r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1514/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1507", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1507/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1507/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1507/events", "html_url": "https://github.com/rasterio/rasterio/issues/1507", "id": 369993248, "node_id": "MDU6SXNzdWUzNjk5OTMyNDg=", "number": 1507, "title": "When there are AWS credentials in the environment, the session is ignored.", "user": {"login": "wmaiouiru", "id": 517293, "node_id": "MDQ6VXNlcjUxNzI5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/517293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wmaiouiru", "html_url": "https://github.com/wmaiouiru", "followers_url": "https://api.github.com/users/wmaiouiru/followers", "following_url": "https://api.github.com/users/wmaiouiru/following{/other_user}", "gists_url": "https://api.github.com/users/wmaiouiru/gists{/gist_id}", "starred_url": "https://api.github.com/users/wmaiouiru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wmaiouiru/subscriptions", "organizations_url": "https://api.github.com/users/wmaiouiru/orgs", "repos_url": "https://api.github.com/users/wmaiouiru/repos", "events_url": "https://api.github.com/users/wmaiouiru/events{/privacy}", "received_events_url": "https://api.github.com/users/wmaiouiru/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/69", "html_url": "https://github.com/rasterio/rasterio/milestone/69", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/69/labels", "id": 3712571, "node_id": "MDk6TWlsZXN0b25lMzcxMjU3MQ==", "number": 69, "title": "1.0.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2018-10-04T14:30:06Z", "updated_at": "2018-10-26T01:48:18Z", "due_on": null, "closed_at": "2018-10-26T01:48:18Z"}, "comments": 18, "created_at": "2018-10-15T04:19:39Z", "updated_at": "2022-12-19T14:29:06Z", "closed_at": "2018-10-23T22:43:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\nExpected: After setting boto3 credentials, rasterio environment should use the boto3 credentials.\r\nActual: Instead, when there are AWS credentials in the environment, the session credentials is ignored.\r\n\r\n## Steps to reproduce the problem.\r\nCode in Rasterio: 1.0.3\r\n`with rasterio.Env(aws_access_key_id=access_key, aws_secret_access_key=secret_access_key):`\r\n\r\nCode in Rasterio: 1.0.8\r\n`from rasterio.session import AWSSession`\r\n\r\n`boto3_session = boto3.Session(aws_access_key_id=access_key, aws_secret_access_key=secret_access_key)`\r\n\r\n`with rasterio.Env(AWSSession(boto3_session)):`\r\n\r\nLocal Dev Message when invoking rasterio.open:\r\n`Found credentials in shared credentials file: ~/.aws/credentials`\r\n\r\nPython AWS Lambda Message when invoking rasterio.open:\r\n`Found credentials in environment variables.`\r\n\r\nChecking `rasterio.env.getenv()`, the correct credentials are there, but when opening the image, I receive the following error: \r\n`[ERROR] - '/vsis3/<s3-bucket>/<path-name>' not recognized as a supported file format.`\r\n\r\nIn Python AWS Lambda deployed using serverless.yml, the credentials are changed even after setting the enviroment variable in Makefile.\r\n`--env AWS_ACCESS_KEY_ID=<id>\\\r\n --env AWS_SECRET_ACCESS_KEY=<key>\\`\r\n\r\nSetting the image to be publically accessible in s3 without using the session credentials, both Python AWS Lambda and local dev works. \r\n\r\n## Operating system\r\n\r\nDev: Ubuntu 16.04\r\nProduction: AWS Lambda Python 3.6\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio[s3]==1.0.3\r\nrasterio[s3]==1.0.8\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1507/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1507/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1505", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1505/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1505/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1505/events", "html_url": "https://github.com/rasterio/rasterio/issues/1505", "id": 369717167, "node_id": "MDU6SXNzdWUzNjk3MTcxNjc=", "number": 1505, "title": "AWS errors are covered up", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/69", "html_url": "https://github.com/rasterio/rasterio/milestone/69", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/69/labels", "id": 3712571, "node_id": "MDk6TWlsZXN0b25lMzcxMjU3MQ==", "number": 69, "title": "1.0.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2018-10-04T14:30:06Z", "updated_at": "2018-10-26T01:48:18Z", "due_on": null, "closed_at": "2018-10-26T01:48:18Z"}, "comments": 1, "created_at": "2018-10-12T21:31:00Z", "updated_at": "2018-10-23T23:06:24Z", "closed_at": "2018-10-23T23:06:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "An attempt to read the profile of a GeoTIFF on S3 using expired credentials produces the following bit of CURL log output and Python exception:\r\n\r\n```\r\n...\r\n< HTTP/1.1 400 Bad Request\r\n< x-amz-request-id: CE367397FC69AF82\r\n< x-amz-id-2: KI9VlmxMmLFURSgCi+N7dX0n1kbwADA5GXOCcA0OiANLJsKm58T14iOZX1JeV3UZoKz23eiCcaQ=\r\n< Content-Type: application/xml\r\n< Transfer-Encoding: chunked\r\n< Date: Fri, 12 Oct 2018 20:14:52 GMT\r\n< Connection: close\r\n< Server: AmazonS3\r\n<\r\n* Closing connection 3\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/sean/code/rasterio/rasterio/env.py\", line 402, in wrapper\r\n    return f(*args, **kwds)\r\n  File \"/Users/sean/code/rasterio/rasterio/__init__.py\", line 217, in open\r\n    s = DatasetReader(path, driver=driver, **kwargs)\r\n  File \"rasterio/_base.pyx\", line 199, in rasterio._base.DatasetBase.__init__\r\n    self._hds = open_dataset(filename, flags, driver, kwargs, None)\r\n  File \"rasterio/_shim.pyx\", line 64, in rasterio._shim.open_dataset\r\n    return exc_wrap_pointer(hds)\r\n  File \"rasterio/_err.pyx\", line 188, in rasterio._err.exc_wrap_pointer\r\n    raise exc\r\nrasterio._err.CPLE_HttpResponseError: A filesystem error with code 5 occurred\r\n```\r\n\r\nIf we create a boto3 session using the same expired credentials and attempt a HEAD operation we get this:\r\n\r\n```python\r\n>>> session.client('s3').head_object(Bucket='mapbox', Key='rasterio/shade.tif')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/sean/envs/dev-rasterio/lib/python3.6/site-packages/botocore/client.py\", line 320, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/Users/sean/envs/dev-rasterio/lib/python3.6/site-packages/botocore/client.py\", line 623, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.exceptions.ClientError: An error occurred (400) when calling the HeadObject operation: Bad Request\r\n```\r\n\r\nThis isn't as informative as it could be (I'd rather see a 403) but Rasterio should make it more clear that a new session and Env may be required in this case.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1505/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1503", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1503/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1503/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1503/events", "html_url": "https://github.com/rasterio/rasterio/issues/1503", "id": 369634089, "node_id": "MDU6SXNzdWUzNjk2MzQwODk=", "number": 1503, "title": "Unable to clear src_nodata when creating a WarpedVRT", "user": {"login": "mojodna", "id": 45, "node_id": "MDQ6VXNlcjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/45?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mojodna", "html_url": "https://github.com/mojodna", "followers_url": "https://api.github.com/users/mojodna/followers", "following_url": "https://api.github.com/users/mojodna/following{/other_user}", "gists_url": "https://api.github.com/users/mojodna/gists{/gist_id}", "starred_url": "https://api.github.com/users/mojodna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mojodna/subscriptions", "organizations_url": "https://api.github.com/users/mojodna/orgs", "repos_url": "https://api.github.com/users/mojodna/repos", "events_url": "https://api.github.com/users/mojodna/events{/privacy}", "received_events_url": "https://api.github.com/users/mojodna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/69", "html_url": "https://github.com/rasterio/rasterio/milestone/69", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/69/labels", "id": 3712571, "node_id": "MDk6TWlsZXN0b25lMzcxMjU3MQ==", "number": 69, "title": "1.0.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2018-10-04T14:30:06Z", "updated_at": "2018-10-26T01:48:18Z", "due_on": null, "closed_at": "2018-10-26T01:48:18Z"}, "comments": 1, "created_at": "2018-10-12T17:04:10Z", "updated_at": "2018-10-25T22:27:19Z", "closed_at": "2018-10-25T22:27:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Per https://github.com/mapbox/rasterio/blob/455b4567569e48d239630df6e3562820bdb4b930/rasterio/_warp.pyx#L730 setting `src_nodata=None` will use the source dataset's nodata value.\r\n\r\nHow does the effective nodata value get cleared (in the case where I want to ignore what the source thinks, e.g. if masks are present)?\r\n\r\n(If it's not currently possible, perhaps by setting it to `False`, similar to how `add_alpha` behavior is influenced?)", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1503/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1499", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1499/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1499/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1499/events", "html_url": "https://github.com/rasterio/rasterio/issues/1499", "id": 368523586, "node_id": "MDU6SXNzdWUzNjg1MjM1ODY=", "number": 1499, "title": "Boundless reads now throw NotGeoreferencedWarning and have degraded performance", "user": {"login": "dionhaefner", "id": 11994217, "node_id": "MDQ6VXNlcjExOTk0MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/11994217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dionhaefner", "html_url": "https://github.com/dionhaefner", "followers_url": "https://api.github.com/users/dionhaefner/followers", "following_url": "https://api.github.com/users/dionhaefner/following{/other_user}", "gists_url": "https://api.github.com/users/dionhaefner/gists{/gist_id}", "starred_url": "https://api.github.com/users/dionhaefner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dionhaefner/subscriptions", "organizations_url": "https://api.github.com/users/dionhaefner/orgs", "repos_url": "https://api.github.com/users/dionhaefner/repos", "events_url": "https://api.github.com/users/dionhaefner/events{/privacy}", "received_events_url": "https://api.github.com/users/dionhaefner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 989674718, "node_id": "MDU6TGFiZWw5ODk2NzQ3MTg=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/upstream", "name": "upstream", "color": "ef5fbf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/73", "html_url": "https://github.com/rasterio/rasterio/milestone/73", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/73/labels", "id": 3862153, "node_id": "MDk6TWlsZXN0b25lMzg2MjE1Mw==", "number": 73, "title": "1.0.12", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2018-11-30T20:23:50Z", "updated_at": "2019-01-07T16:07:43Z", "due_on": null, "closed_at": "2018-12-15T04:15:00Z"}, "comments": 14, "created_at": "2018-10-10T07:13:39Z", "updated_at": "2018-12-07T17:39:52Z", "closed_at": "2018-12-07T17:39:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Consider the following example of reading a birds-eye view of a raster dataset into a fixed tile size:\r\n\r\n```python\r\nimport time\r\nimport os\r\nimport tempfile\r\n\r\nimport affine\r\nimport numpy as np\r\nimport rasterio\r\nimport rasterio.windows\r\nfrom rasterio.enums import Resampling\r\nimport matplotlib.pyplot as plt\r\n\r\nraster_data = np.arange(-128 * 256, 128 * 256, dtype='int16').reshape(256, 256)\r\n\r\nprofile = {\r\n    'driver': 'GTiff',\r\n    'dtype': 'int16',\r\n    'nodata': 10000,\r\n    'width': raster_data.shape[1],\r\n    'height': raster_data.shape[0],\r\n    'count': 1,\r\n    'crs': {'init': 'epsg:32637'},\r\n    'transform': affine.Affine(\r\n        2.0, 0.0, 694920.0,\r\n        0.0, -2.0, 2055666.0\r\n    )\r\n}\r\n\r\nraster_file = tempfile.NamedTemporaryFile(delete=False)\r\nraster_file.close()\r\n\r\nwith rasterio.open(raster_file.name, 'w', **profile) as dst:\r\n    dst.write(raster_data, 1)\r\n\r\n\r\n# start testing\r\nwith rasterio.open(raster_file.name) as src:\r\n    w, s, e, n = src.bounds\r\n    window = rasterio.windows.from_bounds(w - 2000, s - 2000, e + 2000, n + 2000,\r\n                                          transform=src.transform)\r\n\r\n    for resampling in ('nearest', 'bilinear', 'average', 'cubic'):\r\n        resampling_enum = getattr(Resampling, resampling)\r\n        start = time.clock()\r\n        out = src.read(1, window=window, boundless=True, resampling=resampling_enum,\r\n                       fill_value=10000, out_shape=(256, 256))\r\n        end = time.clock()\r\n        print(f'Boundless read took {end-start:.3f}s ({resampling})')\r\n\r\nplt.figure()\r\nplt.imshow(raster_data)\r\n\r\nplt.figure()\r\nplt.imshow(out)\r\nplt.show()\r\n\r\nos.remove(raster_file.name)\r\n```\r\n\r\nWith Rasterio 1.0.6, this works nicely and prints\r\n\r\n```\r\n$ python rio_bug.py\r\nBoundless read took 0.021s (nearest)\r\nBoundless read took 0.032s (bilinear)\r\nBoundless read took 0.028s (average)\r\nBoundless read took 0.024s (cubic)\r\n```\r\n\r\nHowever, from Rasterio 1.0.7 I get\r\n\r\n```\r\n$ python rio_bug.py\r\nERROR 4: No such file or directory\r\nrio_bug.py:45: NotGeoreferencedWarning: Dataset has no geotransform set. The identity matrix may be returned.\r\n  fill_value=10000, out_shape=(256, 256))\r\nBoundless read took 0.015s (nearest)\r\nERROR 4: No such file or directory\r\nBoundless read took 0.171s (bilinear)\r\nERROR 4: No such file or directory\r\nBoundless read took 0.166s (average)\r\nERROR 4: No such file or directory\r\nBoundless read took 0.178s (cubic)\r\n```\r\n\r\nNote the extra warnings and ~5x worse performance for any resampling methods that is not `nearest`.\r\n\r\n## Platform\r\n\r\nPython 3.6, Windows 64 bit, Rasterio installed from `conda-forge`", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1497", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1497/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1497/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1497/events", "html_url": "https://github.com/rasterio/rasterio/issues/1497", "id": 367857716, "node_id": "MDU6SXNzdWUzNjc4NTc3MTY=", "number": 1497, "title": "build_overviews and large rasters", "user": {"login": "thomascoquet", "id": 7583487, "node_id": "MDQ6VXNlcjc1ODM0ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/7583487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomascoquet", "html_url": "https://github.com/thomascoquet", "followers_url": "https://api.github.com/users/thomascoquet/followers", "following_url": "https://api.github.com/users/thomascoquet/following{/other_user}", "gists_url": "https://api.github.com/users/thomascoquet/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomascoquet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomascoquet/subscriptions", "organizations_url": "https://api.github.com/users/thomascoquet/orgs", "repos_url": "https://api.github.com/users/thomascoquet/repos", "events_url": "https://api.github.com/users/thomascoquet/events{/privacy}", "received_events_url": "https://api.github.com/users/thomascoquet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/72", "html_url": "https://github.com/rasterio/rasterio/milestone/72", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/72/labels", "id": 3827800, "node_id": "MDk6TWlsZXN0b25lMzgyNzgwMA==", "number": 72, "title": "1.0.11", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2018-11-16T21:52:27Z", "updated_at": "2018-12-01T02:26:33Z", "due_on": null, "closed_at": "2018-12-01T02:26:33Z"}, "comments": 2, "created_at": "2018-10-08T16:05:23Z", "updated_at": "2018-11-30T21:27:39Z", "closed_at": "2018-11-30T21:27:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nimport rasterio\r\nimport numpy as np\r\nfrom rasterio.enums import Resampling\r\n\r\nprofile = {\r\n    'crs': '+init=epsg:3857',\r\n    'transform': rasterio.transform.from_origin(0, 0, 20000.0, 20000.0),\r\n    'width': 20000,\r\n    'height': 20000,\r\n    'count': 4,\r\n    'driver': 'GTiff',\r\n    'interleave': 'pixel',\r\n    'compress': None,\r\n    'tiled': True,\r\n    'blockxsize': 256,\r\n    'blockysize': 256,\r\n    'dtype': np.float64,\r\n    'bigtiff': 'yes',\r\n}\r\n\r\n# write data\r\nwith rasterio.Env(GDAL_TIFF_INTERNAL_MASK=True):\r\n    with rasterio.open('test.tif', 'w', **profile) as dst:\r\n        for i in range(profile['count']):\r\n            dst.write(np.random.rand(profile['height'],\r\n                                     profile['width']),\r\n                      indexes=i+1)\r\n\r\n        overviews = [2 ** j for j in range(1, 10)]\r\n        dst.build_overviews(overviews, Resampling.nearest)\r\n\r\n```\r\nyields to:\r\n\r\n```\r\n/home/tom/anaconda3/bin/python /home/tom/PycharmProjects/starling-hcs/forest-overland-core/examples/rio_megaoverview.py\r\nTraceback (most recent call last):\r\n File \"/home/tom/PycharmProjects/starling-hcs/forest-overland-core/examples/rio_megaoverview.py\", line 34, in <module>\r\n   dst.build_overviews(overviews, Resampling.nearest)\r\n File \"rasterio/_io.pyx\", line 1562, in rasterio._io.DatasetWriterBase.build_overviews\r\n File \"rasterio/_err.pyx\", line 176, in rasterio._err.exc_wrap_int\r\nrasterio._err.CPLE_AppDefinedError: GTIFFWriteDirectory:Can not write tiles to a stripped image\r\n\r\nProcess finished with exit code 1\r\n```\r\n## Notes\r\nI had to write a large amount of data to the disk to reproduce the error as I have a SSD. \r\n\r\nHowever, I had the same error in a GCP VM with physical hd with much less data (20 bands and a size comparable to 2x a LANDSAT tile).\r\n\r\n\r\n## References\r\n\r\nhttps://lists.osgeo.org/pipermail/gdal-dev/2008-October/018677.html\r\nhttps://lists.osgeo.org/pipermail/gdal-dev/2008-October/018682.html\r\n\r\n## Workaround\r\nClose the file and reopen it using r+ mode.\r\n\r\nMaybe it could be possible in rio code to flush before starting to build overviews ?\r\n\r\nThank you for your work, rio is awesome :)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1497/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1494", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1494/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1494/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1494/events", "html_url": "https://github.com/rasterio/rasterio/issues/1494", "id": 367109238, "node_id": "MDU6SXNzdWUzNjcxMDkyMzg=", "number": 1494, "title": "Extra restrictions required before creating AWSSession()", "user": {"login": "omad", "id": 108979, "node_id": "MDQ6VXNlcjEwODk3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/108979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omad", "html_url": "https://github.com/omad", "followers_url": "https://api.github.com/users/omad/followers", "following_url": "https://api.github.com/users/omad/following{/other_user}", "gists_url": "https://api.github.com/users/omad/gists{/gist_id}", "starred_url": "https://api.github.com/users/omad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omad/subscriptions", "organizations_url": "https://api.github.com/users/omad/orgs", "repos_url": "https://api.github.com/users/omad/repos", "events_url": "https://api.github.com/users/omad/events{/privacy}", "received_events_url": "https://api.github.com/users/omad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/69", "html_url": "https://github.com/rasterio/rasterio/milestone/69", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/69/labels", "id": 3712571, "node_id": "MDk6TWlsZXN0b25lMzcxMjU3MQ==", "number": 69, "title": "1.0.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2018-10-04T14:30:06Z", "updated_at": "2018-10-26T01:48:18Z", "due_on": null, "closed_at": "2018-10-26T01:48:18Z"}, "comments": 1, "created_at": "2018-10-05T08:27:25Z", "updated_at": "2018-10-23T23:26:51Z", "closed_at": "2018-10-23T23:26:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses.\r\n\r\nPlease do not bring these questions to Rasterio's issue tracker, which we want\r\nto reserve for bug reports and other actionable issues.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nRecent `rasterio`  versions (either 1.0.7 or 1.0.8) have started to throw an AWS exception during Travis-CI testing of a library doing no AWS related work.\r\n\r\n`botocore.exceptions.PartialCredentialsError: Partial credentials found in env, missing: AWS_SECRET_ACCESS_KEY`\r\n\r\n\r\n\r\n## Steps to reproduce the problem.\r\n\r\nThe client code was simply calling\r\n\r\n```python\r\nshapes = rasterio.features.shapes(mask.astype('uint8'), mask=mask)\r\n```\r\n\r\nThe problem lies in this recently introduced code:\r\nhttps://github.com/mapbox/rasterio/blob/d0c155571adf13b932789421071f17083c988ac2/rasterio/env.py#L197-L198\r\n\r\nTravis-CI allows _secret_ environment variables to be used, which aren't set in Pull Request builds from foreign repositories. This means that one AWS environment variable can be set, and the other not.\r\n\r\n## Fix\r\n\r\nThe simple fix is to check for both `AWS_ACCESS_KEY_ID` and `AWS_SECRET_ACCESS_KEY` before firing up the AWS machinery.\r\n\r\nThe more complicated one could be to only initialise an `AWSSession()` when it's actually required.\r\n\r\n## Operating system\r\n\r\nUbuntu Linux - Travis-CI\r\nAny\r\n\r\n## Rasterio version and provenance\r\n\r\n`rasterio-1.0.8-cp36-cp36m-manylinux1_x86_64.whl`", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1494/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1492", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1492/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1492/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1492/events", "html_url": "https://github.com/rasterio/rasterio/issues/1492", "id": 366692731, "node_id": "MDU6SXNzdWUzNjY2OTI3MzE=", "number": 1492, "title": "Stop support comparison to dict and str for CRS objects", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/69", "html_url": "https://github.com/rasterio/rasterio/milestone/69", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/69/labels", "id": 3712571, "node_id": "MDk6TWlsZXN0b25lMzcxMjU3MQ==", "number": 69, "title": "1.0.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2018-10-04T14:30:06Z", "updated_at": "2018-10-26T01:48:18Z", "due_on": null, "closed_at": "2018-10-26T01:48:18Z"}, "comments": 0, "created_at": "2018-10-04T09:12:02Z", "updated_at": "2018-10-15T20:10:36Z", "closed_at": "2018-10-15T20:10:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Remove comparison to dict and remove comparison to str because we are already on 1.0. https://github.com/mapbox/rasterio/blob/e1c984bf0e4a18e039569bb3bafe6667bb5b3a69/rasterio/_crs.pyx#L78-L91", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1492/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1492/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1491", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1491/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1491/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1491/events", "html_url": "https://github.com/rasterio/rasterio/pull/1491", "id": 366606640, "node_id": "MDExOlB1bGxSZXF1ZXN0MjIwMjM4MTY3", "number": 1491, "title": "Fix get_tag_item for the `ovr=0` case", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/69", "html_url": "https://github.com/rasterio/rasterio/milestone/69", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/69/labels", "id": 3712571, "node_id": "MDk6TWlsZXN0b25lMzcxMjU3MQ==", "number": 69, "title": "1.0.9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2018-10-04T14:30:06Z", "updated_at": "2018-10-26T01:48:18Z", "due_on": null, "closed_at": "2018-10-26T01:48:18Z"}, "comments": 1, "created_at": "2018-10-04T03:17:28Z", "updated_at": "2018-10-04T14:30:15Z", "closed_at": "2018-10-04T14:30:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1491", "html_url": "https://github.com/rasterio/rasterio/pull/1491", "diff_url": "https://github.com/rasterio/rasterio/pull/1491.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1491.patch", "merged_at": "2018-10-04T14:30:14Z"}, "body": "Allow querying tags for the first overview (`ovr=0`)\r\n\r\naddresses #1490 ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1491/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1488", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1488/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1488/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1488/events", "html_url": "https://github.com/rasterio/rasterio/pull/1488", "id": 366039366, "node_id": "MDExOlB1bGxSZXF1ZXN0MjE5ODEzMzI0", "number": 1488, "title": "Python 3.4.3 compatibility", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/68", "html_url": "https://github.com/rasterio/rasterio/milestone/68", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/68/labels", "id": 3697744, "node_id": "MDk6TWlsZXN0b25lMzY5Nzc0NA==", "number": 68, "title": "1.0.8", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2018-09-28T23:34:48Z", "updated_at": "2018-10-26T01:48:26Z", "due_on": null, "closed_at": "2018-10-26T01:48:26Z"}, "comments": 0, "created_at": "2018-10-02T19:10:28Z", "updated_at": "2018-10-02T20:30:58Z", "closed_at": "2018-10-02T20:03:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1488", "html_url": "https://github.com/rasterio/rasterio/pull/1488", "diff_url": "https://github.com/rasterio/rasterio/pull/1488.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1488.patch", "merged_at": "2018-10-02T20:03:15Z"}, "body": "This PR supersedes https://github.com/mapbox/rasterio/pull/1486", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1488/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1488/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1487", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1487/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1487/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1487/events", "html_url": "https://github.com/rasterio/rasterio/pull/1487", "id": 366032825, "node_id": "MDExOlB1bGxSZXF1ZXN0MjE5ODA4Mjk4", "number": 1487, "title": "Make default modes r+ and w+ for MemoryFile datasets", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/68", "html_url": "https://github.com/rasterio/rasterio/milestone/68", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/68/labels", "id": 3697744, "node_id": "MDk6TWlsZXN0b25lMzY5Nzc0NA==", "number": 68, "title": "1.0.8", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2018-09-28T23:34:48Z", "updated_at": "2018-10-26T01:48:26Z", "due_on": null, "closed_at": "2018-10-26T01:48:26Z"}, "comments": 0, "created_at": "2018-10-02T18:52:52Z", "updated_at": "2018-10-02T22:34:54Z", "closed_at": "2018-10-02T22:34:51Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1487", "html_url": "https://github.com/rasterio/rasterio/pull/1487", "diff_url": "https://github.com/rasterio/rasterio/pull/1487.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1487.patch", "merged_at": "2018-10-02T22:34:51Z"}, "body": "A user pointed out in https://rasterio.groups.io/g/main/message/66 that r and w are too restrictive.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1487/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1486", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1486/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1486/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1486/events", "html_url": "https://github.com/rasterio/rasterio/pull/1486", "id": 365998228, "node_id": "MDExOlB1bGxSZXF1ZXN0MjE5NzgxNjc5", "number": 1486, "title": "Python 3.4.3 compatibility", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/68", "html_url": "https://github.com/rasterio/rasterio/milestone/68", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/68/labels", "id": 3697744, "node_id": "MDk6TWlsZXN0b25lMzY5Nzc0NA==", "number": 68, "title": "1.0.8", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2018-09-28T23:34:48Z", "updated_at": "2018-10-26T01:48:26Z", "due_on": null, "closed_at": "2018-10-26T01:48:26Z"}, "comments": 2, "created_at": "2018-10-02T17:19:29Z", "updated_at": "2018-10-02T19:13:07Z", "closed_at": "2018-10-02T19:02:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1486", "html_url": "https://github.com/rasterio/rasterio/pull/1486", "diff_url": "https://github.com/rasterio/rasterio/pull/1486.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1486.patch", "merged_at": null}, "body": "Python 3.4.3 has an issue which is described here (with fix): https://bugs.python.org/issue24931. This PR mimics this fix and makes CI happy.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1486/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1485", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1485/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1485/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1485/events", "html_url": "https://github.com/rasterio/rasterio/pull/1485", "id": 365072578, "node_id": "MDExOlB1bGxSZXF1ZXN0MjE5MTA4NjM5", "number": 1485, "title": "Use another VRT to mask unbounded area in absence of raster mask", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/68", "html_url": "https://github.com/rasterio/rasterio/milestone/68", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/68/labels", "id": 3697744, "node_id": "MDk6TWlsZXN0b25lMzY5Nzc0NA==", "number": 68, "title": "1.0.8", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2018-09-28T23:34:48Z", "updated_at": "2018-10-26T01:48:26Z", "due_on": null, "closed_at": "2018-10-26T01:48:26Z"}, "comments": 0, "created_at": "2018-09-28T23:34:51Z", "updated_at": "2018-09-30T18:21:09Z", "closed_at": "2018-09-30T18:21:05Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1485", "html_url": "https://github.com/rasterio/rasterio/pull/1485", "diff_url": "https://github.com/rasterio/rasterio/pull/1485.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1485.patch", "merged_at": "2018-09-30T18:21:05Z"}, "body": "When a boundless read is made on a dataset that has no nodata or bitmask, we will use another in-memory VRT to compute the mask for the region outside the dataset bounds. This PR addresses the final use case in #1449.\r\n\r\nI'm not entirely happy with using the VRT abstraction for **everything** but GDAL doesn't surface these features in its API. In the absence of library functions, VRTs are way to do this stuff without writing extra code that already exists in GDAL.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1485/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1485/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1482", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1482/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1482/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1482/events", "html_url": "https://github.com/rasterio/rasterio/pull/1482", "id": 364173820, "node_id": "MDExOlB1bGxSZXF1ZXN0MjE4NDI2ODI1", "number": 1482, "title": "Do not resolve path arguments in rio-convert and rio-shapes", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/67", "html_url": "https://github.com/rasterio/rasterio/milestone/67", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/67/labels", "id": 3688570, "node_id": "MDk6TWlsZXN0b25lMzY4ODU3MA==", "number": 67, "title": "1.0.7", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2018-09-25T21:42:49Z", "updated_at": "2018-09-26T21:16:20Z", "due_on": null, "closed_at": "2018-09-26T21:16:20Z"}, "comments": 0, "created_at": "2018-09-26T19:21:59Z", "updated_at": "2018-09-26T19:34:03Z", "closed_at": "2018-09-26T19:34:00Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1482", "html_url": "https://github.com/rasterio/rasterio/pull/1482", "diff_url": "https://github.com/rasterio/rasterio/pull/1482.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1482.patch", "merged_at": "2018-09-26T19:34:00Z"}, "body": "Resolves #999", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1482/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1482/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1479", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1479/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1479/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1479/events", "html_url": "https://github.com/rasterio/rasterio/issues/1479", "id": 363693683, "node_id": "MDU6SXNzdWUzNjM2OTM2ODM=", "number": 1479, "title": "Compute approximate geotransform from GCPs", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/70", "html_url": "https://github.com/rasterio/rasterio/milestone/70", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/70/labels", "id": 3734597, "node_id": "MDk6TWlsZXN0b25lMzczNDU5Nw==", "number": 70, "title": "1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-10-12T18:13:46Z", "updated_at": "2019-10-07T16:28:10Z", "due_on": "2019-10-07T07:00:00Z", "closed_at": "2019-10-07T16:28:10Z"}, "comments": 1, "created_at": "2018-09-25T17:40:12Z", "updated_at": "2019-09-13T20:13:33Z", "closed_at": "2019-09-13T20:13:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Rasterio datasets lack a method to compute an approximate geotransform from GCPs. On gdal-dev is a pointer to how this can be done:\r\n\r\n> You can get the GCP projection with GetGCPProjection(). You can compute an approximate geotransform from the GCPs with GDALGCPsToGeoTransform(), fed with GDALGetGCPCount() and \r\nGDALGetGCPs().\r\n\r\nhttps://lists.osgeo.org/pipermail/gdal-dev/2018-September/049067.html", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1479/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1479/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1478", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1478/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1478/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1478/events", "html_url": "https://github.com/rasterio/rasterio/issues/1478", "id": 363590480, "node_id": "MDU6SXNzdWUzNjM1OTA0ODA=", "number": 1478, "title": "Boundless reads with fill_value co-geotiff performance", "user": {"login": "jpprins1", "id": 14053101, "node_id": "MDQ6VXNlcjE0MDUzMTAx", "avatar_url": "https://avatars.githubusercontent.com/u/14053101?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpprins1", "html_url": "https://github.com/jpprins1", "followers_url": "https://api.github.com/users/jpprins1/followers", "following_url": "https://api.github.com/users/jpprins1/following{/other_user}", "gists_url": "https://api.github.com/users/jpprins1/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpprins1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpprins1/subscriptions", "organizations_url": "https://api.github.com/users/jpprins1/orgs", "repos_url": "https://api.github.com/users/jpprins1/repos", "events_url": "https://api.github.com/users/jpprins1/events{/privacy}", "received_events_url": "https://api.github.com/users/jpprins1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/67", "html_url": "https://github.com/rasterio/rasterio/milestone/67", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/67/labels", "id": 3688570, "node_id": "MDk6TWlsZXN0b25lMzY4ODU3MA==", "number": 67, "title": "1.0.7", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2018-09-25T21:42:49Z", "updated_at": "2018-09-26T21:16:20Z", "due_on": null, "closed_at": "2018-09-26T21:16:20Z"}, "comments": 5, "created_at": "2018-09-25T13:53:12Z", "updated_at": "2018-10-10T08:02:31Z", "closed_at": "2018-09-26T19:37:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI expect getting a fast response when retrieving data from a raster with boundless=true and fill_value=-9999 and a bbox/window that is much larger than the source cloud optimized geotiff.\r\n\r\nNote: \"We have a more general fix for the problem of filling the empty regions of boundless reads (#1471).\" works, but looks to be slow with large boundless reads in overviews.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nwith rasterio.open(cloud_optimized_geotiff_path, 'r') as src:\r\n    data = src.read(window=window, out_shape=(256, 256), boundless=True, fill_value=-9999)\r\n    # where:\r\n    # window = large window, for example the whole world \r\n    # cloud_optimized_geotiff = cloud optimized geotiff that covers a small city somewhere\r\n```\r\n   \r\nRemoving the 'fill_value'  parameter from the read call above restores the (normal) performance, however the default 0 fill_value will be used. \r\n\r\n## Operating system\r\n\r\nUbuntu 18.04\r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio 1.0.6 via pip, python 2.7.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1478/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1478/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1471", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1471/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1471/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1471/events", "html_url": "https://github.com/rasterio/rasterio/issues/1471", "id": 361391353, "node_id": "MDU6SXNzdWUzNjEzOTEzNTM=", "number": 1471, "title": "src.read & boundless/window reading", "user": {"login": "thomascoquet", "id": 7583487, "node_id": "MDQ6VXNlcjc1ODM0ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/7583487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomascoquet", "html_url": "https://github.com/thomascoquet", "followers_url": "https://api.github.com/users/thomascoquet/followers", "following_url": "https://api.github.com/users/thomascoquet/following{/other_user}", "gists_url": "https://api.github.com/users/thomascoquet/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomascoquet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomascoquet/subscriptions", "organizations_url": "https://api.github.com/users/thomascoquet/orgs", "repos_url": "https://api.github.com/users/thomascoquet/repos", "events_url": "https://api.github.com/users/thomascoquet/events{/privacy}", "received_events_url": "https://api.github.com/users/thomascoquet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/66", "html_url": "https://github.com/rasterio/rasterio/milestone/66", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/66/labels", "id": 3675803, "node_id": "MDk6TWlsZXN0b25lMzY3NTgwMw==", "number": 66, "title": "1.0.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2018-09-20T19:47:56Z", "updated_at": "2018-09-24T20:44:55Z", "due_on": null, "closed_at": "2018-09-24T20:44:55Z"}, "comments": 6, "created_at": "2018-09-18T16:43:21Z", "updated_at": "2020-07-17T19:47:03Z", "closed_at": "2018-09-19T17:25:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI am trying to perform a boundless windowed reading on a raster (no WarpedVRT involved).\r\nUnfortunately, I haven't managed to use the fill_value argument properly.\r\n\r\nHere's an example where I shifted the window extent to the left compared to the raster extent:\r\n\r\n```\r\nimport rasterio\r\nimport rasterio.windows\r\n\r\nurl = 'https://raw.githubusercontent.com/mapbox/rasterio/918f99d843da048612060c3c47a8a678b8c134e9/tests/data/cogeo.tif'\r\n\r\nwith rasterio.open(url) as src:\r\n    window = rasterio.windows.from_bounds(left=14321600,\r\n                                          bottom=4532410,\r\n                                          right=14322000,\r\n                                          top=4533021,\r\n                                          transform=src.transform)\r\n    nodata = 5\r\n    data = src.read(indexes=1,\r\n                    boundless=True,\r\n                    window=window,\r\n                    fill_value=nodata,\r\n                    out_shape=(256, 256),\r\n                    resampling=rasterio.enums.Resampling.nearest,\r\n                    masked=False)\r\n\r\n    print(data)\r\n```\r\nIt returns:\r\n```\r\n[[ 0  0  0 ... 24 32 28]\r\n [ 0  0  0 ... 14 17 19]\r\n [ 0  0  0 ... 25 28 35]\r\n ...\r\n [ 0  0  0 ... 37 37 30]\r\n [ 0  0  0 ... 33 45 40]\r\n [ 0  0  0 ... 61 57 55]]\r\n```\r\nN.B. : my actual use case is using cloud optimized geotiff with data bands (int16). \r\n\r\n\r\n## Expected behavior\r\n\r\nThe array should be filled with fill_value?\r\n\r\n## Additional info\r\n\r\nWhile reading the source code, I'm having troubles understanding how the ` ndv` variable is used here https://github.com/mapbox/rasterio/blob/master/rasterio/_io.pyx#L378 as it is always defined w.r.t a specific band and in a local scope (loops, etc.).\r\n\r\n## Version\r\n\r\nLatest rasterio version, GDAL 2.3.1, Ubuntu.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1471/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1471/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1468", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1468/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1468/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1468/events", "html_url": "https://github.com/rasterio/rasterio/pull/1468", "id": 360103401, "node_id": "MDExOlB1bGxSZXF1ZXN0MjE1NDQ0MDQ4", "number": 1468, "title": "Do not use the WRAPDATELINE transform option with 2.2", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/64", "html_url": "https://github.com/rasterio/rasterio/milestone/64", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/64/labels", "id": 3537273, "node_id": "MDk6TWlsZXN0b25lMzUzNzI3Mw==", "number": 64, "title": "1.0.4", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2018-07-31T20:03:14Z", "updated_at": "2018-09-19T17:26:07Z", "due_on": null, "closed_at": "2018-09-19T17:26:07Z"}, "comments": 0, "created_at": "2018-09-13T23:32:45Z", "updated_at": "2018-09-14T17:32:09Z", "closed_at": "2018-09-14T02:29:57Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1468", "html_url": "https://github.com/rasterio/rasterio/pull/1468", "diff_url": "https://github.com/rasterio/rasterio/pull/1468.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1468.patch", "merged_at": "2018-09-14T02:29:57Z"}, "body": "As pointed out in #1446 it causes geometries to be thrown around near the antimeridian and central longitude of a projection.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1468/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1466", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1466/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1466/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1466/events", "html_url": "https://github.com/rasterio/rasterio/pull/1466", "id": 360036182, "node_id": "MDExOlB1bGxSZXF1ZXN0MjE1MzkyMDQ3", "number": 1466, "title": "--request-pays and --no-sign-requests", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/64", "html_url": "https://github.com/rasterio/rasterio/milestone/64", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/64/labels", "id": 3537273, "node_id": "MDk6TWlsZXN0b25lMzUzNzI3Mw==", "number": 64, "title": "1.0.4", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2018-07-31T20:03:14Z", "updated_at": "2018-09-19T17:26:07Z", "due_on": null, "closed_at": "2018-09-19T17:26:07Z"}, "comments": 0, "created_at": "2018-09-13T19:35:14Z", "updated_at": "2018-09-13T21:35:59Z", "closed_at": "2018-09-13T21:35:56Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1466", "html_url": "https://github.com/rasterio/rasterio/pull/1466", "diff_url": "https://github.com/rasterio/rasterio/pull/1466.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1466.patch", "merged_at": "2018-09-13T21:35:56Z"}, "body": "Resolves #1460 ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1466/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1460", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1460/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1460/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1460/events", "html_url": "https://github.com/rasterio/rasterio/issues/1460", "id": 359957832, "node_id": "MDU6SXNzdWUzNTk5NTc4MzI=", "number": 1460, "title": "Add missing support for unsigned and requester-pays cloud requests", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/64", "html_url": "https://github.com/rasterio/rasterio/milestone/64", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/64/labels", "id": 3537273, "node_id": "MDk6TWlsZXN0b25lMzUzNzI3Mw==", "number": 64, "title": "1.0.4", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2018-07-31T20:03:14Z", "updated_at": "2018-09-19T17:26:07Z", "due_on": null, "closed_at": "2018-09-19T17:26:07Z"}, "comments": 2, "created_at": "2018-09-13T15:52:12Z", "updated_at": "2018-09-13T21:38:08Z", "closed_at": "2018-09-13T21:38:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Most of the work will be in env, but the main rio command will need options like `--no-sign-request` and `--requester-pays`. The AWS CLI has a `--request-payer requester` option, but that seems too flexible. The client can either agree to pay or not and that's it, right?", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1460/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1459", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1459/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1459/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1459/events", "html_url": "https://github.com/rasterio/rasterio/issues/1459", "id": 359954497, "node_id": "MDU6SXNzdWUzNTk5NTQ0OTc=", "number": 1459, "title": "Bug with disjoint_bounds", "user": {"login": "thomascoquet", "id": 7583487, "node_id": "MDQ6VXNlcjc1ODM0ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/7583487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomascoquet", "html_url": "https://github.com/thomascoquet", "followers_url": "https://api.github.com/users/thomascoquet/followers", "following_url": "https://api.github.com/users/thomascoquet/following{/other_user}", "gists_url": "https://api.github.com/users/thomascoquet/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomascoquet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomascoquet/subscriptions", "organizations_url": "https://api.github.com/users/thomascoquet/orgs", "repos_url": "https://api.github.com/users/thomascoquet/repos", "events_url": "https://api.github.com/users/thomascoquet/events{/privacy}", "received_events_url": "https://api.github.com/users/thomascoquet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/64", "html_url": "https://github.com/rasterio/rasterio/milestone/64", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/64/labels", "id": 3537273, "node_id": "MDk6TWlsZXN0b25lMzUzNzI3Mw==", "number": 64, "title": "1.0.4", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2018-07-31T20:03:14Z", "updated_at": "2018-09-19T17:26:07Z", "due_on": null, "closed_at": "2018-09-19T17:26:07Z"}, "comments": 4, "created_at": "2018-09-13T15:43:51Z", "updated_at": "2018-09-20T13:26:55Z", "closed_at": "2018-09-18T22:44:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is a bug with the function disjoint_bounds.\r\n\r\n```\r\nimport rasterio\r\n\r\nb1 = rasterio.coords.BoundingBox(left=478038, bottom=57155, right=703888, top=266344)\r\nb2 = rasterio.coords.BoundingBox(left=584184, bottom=469629, right=740727, top=626172)\r\n\r\n# returns False whereas top b1 < bottom b2\r\nprint(rasterio.coords.disjoint_bounds(b1, b2))\r\n```\r\nBasically, the code:\r\n\r\n\r\n    if bounds1_north_up:\r\n        return (bounds1[0] > bounds2[2] or bounds2[0] > bounds1[2] or\r\n                bounds1[1] > bounds2[3] or bounds2[1] > bounds2[3])\r\n    else:\r\n        return (bounds1[0] > bounds2[2] or bounds2[0] > bounds1[2] or\r\n                bounds1[3] > bounds2[1] or bounds2[3] > bounds2[1])\r\n\r\nShould be: \r\n\r\n    if bounds1_north_up:\r\n        return (bounds1[0] > bounds2[2] or bounds2[0] > bounds1[2] or\r\n                bounds1[1] > bounds2[3] or bounds2[1] > bounds1[3])\r\n    else:\r\n        return (bounds1[0] > bounds2[2] or bounds2[0] > bounds1[2] or\r\n                bounds1[3] > bounds2[1] or bounds2[3] > bounds1[1])\r\n\r\n\r\n## Rasterio version and provenance\r\n\r\nLatest.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1459/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1457", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1457/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1457/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1457/events", "html_url": "https://github.com/rasterio/rasterio/issues/1457", "id": 359559745, "node_id": "MDU6SXNzdWUzNTk1NTk3NDU=", "number": 1457, "title": "Support bilinear resampling for overviews", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/64", "html_url": "https://github.com/rasterio/rasterio/milestone/64", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/64/labels", "id": 3537273, "node_id": "MDk6TWlsZXN0b25lMzUzNzI3Mw==", "number": 64, "title": "1.0.4", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2018-07-31T20:03:14Z", "updated_at": "2018-09-19T17:26:07Z", "due_on": null, "closed_at": "2018-09-19T17:26:07Z"}, "comments": 1, "created_at": "2018-09-12T16:28:35Z", "updated_at": "2018-10-05T17:19:00Z", "closed_at": "2018-09-12T22:28:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "GDAL docs omit mention of bilinear for GDALBuildOverviews (https://www.gdal.org/classGDALDataset.html#a2aa6f88b3bbc840a5696236af11dde15) but @vincentsarago found it is supported here: https://github.com/OSGeo/gdal/blob/b68d31418f4826402dc44b52152c0493b682fea8/gdal/gcore/overview.cpp#L2252-L2253.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1457/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1457/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1453", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1453/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1453/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1453/events", "html_url": "https://github.com/rasterio/rasterio/issues/1453", "id": 357975925, "node_id": "MDU6SXNzdWUzNTc5NzU5MjU=", "number": 1453, "title": "s3 credentials regression from 1.0.3 to 1.0.2", "user": {"login": "ungarj", "id": 3802285, "node_id": "MDQ6VXNlcjM4MDIyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/3802285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ungarj", "html_url": "https://github.com/ungarj", "followers_url": "https://api.github.com/users/ungarj/followers", "following_url": "https://api.github.com/users/ungarj/following{/other_user}", "gists_url": "https://api.github.com/users/ungarj/gists{/gist_id}", "starred_url": "https://api.github.com/users/ungarj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ungarj/subscriptions", "organizations_url": "https://api.github.com/users/ungarj/orgs", "repos_url": "https://api.github.com/users/ungarj/repos", "events_url": "https://api.github.com/users/ungarj/events{/privacy}", "received_events_url": "https://api.github.com/users/ungarj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 158815511, "node_id": "MDU6TGFiZWwxNTg4MTU1MTE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/packaging", "name": "packaging", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2018-09-07T08:47:18Z", "updated_at": "2018-09-13T12:14:33Z", "closed_at": "2018-09-12T15:06:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "``rio -vvv info s3://sentinel-s2-l1c/tiles/32/T/LS/2018/4/2/0/B01.jp2`` fails on ``v1.0.3`` but worked on ``v1.0.2``.\r\n\r\nI couldn't find any update listed in CHANGES.txt which could indicate the source of the error.\r\n\r\n### error message\r\n```\r\nFile \"/home/ungarj/virtualenvs/rio-1.0.3/local/lib/python3.5/site-packages/rasterio/__init__.py\", line 217, in open\r\n    s = DatasetReader(path, driver=driver, **kwargs)\r\n  File \"rasterio/_base.pyx\", line 201, in rasterio._base.DatasetBase.__init__\r\nrasterio.errors.RasterioIOError: '/vsis3/sentinel-s2-l1c/tiles/32/T/LS/2018/4/2/0/B01.jp2' not recognized as a supported file format.\r\n```\r\n### ``v1.0.3`` log\r\n```\r\n...\r\nDEBUG:rasterio.env:Updated existing <rasterio._env.GDALEnv object at 0x7f837000a0f0> with options {'AWS_REGION': 'eu-central-1', 'AWS_ACCESS_KEY_ID': ***, 'AWS_SECRET_ACCESS_KEY': ***}\r\nDEBUG:rasterio.env:Got a copy of environment <rasterio._env.GDALEnv object at 0x7f837000a0f0> options\r\nDEBUG:rasterio.env:Credentialized: {'AWS_REGION': 'eu-central-1', 'GDAL_DATA': '/home/ungarj/virtualenvs/rio-1.0.3/local/lib/python3.5/site-packages/rasterio/gdal_data', 'AWS_ACCESS_KEY_ID': ***, 'CPL_DEBUG': True, 'AWS_SECRET_ACCESS_KEY': ***}\r\nDEBUG:rasterio._gdal:CPLE_None in S3: GetFileList(/vsis3/sentinel-s2-l1c/tiles/32/T/LS/2018/4/2/0)\r\nDEBUG:rasterio._gdal:CPLE_None in HTTP: libcurl/7.60.0 OpenSSL/1.0.2l zlib/1.2.8\r\nDEBUG:rasterio._gdal:CPLE_None in VSICURL: Downloading 0-16383 (https://sentinel-s2-l1c.s3.amazonaws.com/tiles/32/T/LS/2018/4/2/0/B01.jp2)...\r\nDEBUG:rasterio._gdal:CPLE_None in VSICURL: Got response_code=206\r\nDEBUG:rasterio.env:Exiting env context: <rasterio.env.Env object at 0x7f83562c6898>\r\nDEBUG:rasterio._env:Unset option AWS_REGION in env <rasterio._env.GDALEnv object at 0x7f837000a0f0>\r\nDEBUG:rasterio._env:Unset option GDAL_DATA in env <rasterio._env.GDALEnv object at 0x7f837000a0f0>\r\nDEBUG:rasterio._env:Unset option AWS_ACCESS_KEY_ID in env <rasterio._env.GDALEnv object at 0x7f837000a0f0>\r\nDEBUG:rasterio._env:Unset option CPL_DEBUG in env <rasterio._env.GDALEnv object at 0x7f837000a0f0>\r\nDEBUG:rasterio._env:Unset option AWS_SECRET_ACCESS_KEY in env <rasterio._env.GDALEnv object at 0x7f837000a0f0>\r\nDEBUG:rasterio.env:Cleared existing <rasterio._env.GDALEnv object at 0x7f837000a0f0> options\r\nDEBUG:rasterio._env:Stopping GDALEnv <rasterio._env.GDALEnv object at 0x7f837000a0f0>.\r\nDEBUG:rasterio._env:Error handler popped.\r\nDEBUG:rasterio._env:Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f837000a0f0>.\r\nDEBUG:rasterio.env:No GDAL environment exists\r\nDEBUG:rasterio.env:New GDAL environment <rasterio._env.GDALEnv object at 0x7f837000a0f0> created\r\nDEBUG:rasterio._env:Logging error handler pushed.\r\nDEBUG:rasterio._env:All drivers registered.\r\nDEBUG:rasterio._env:Started GDALEnv <rasterio._env.GDALEnv object at 0x7f837000a0f0>.\r\nDEBUG:rasterio.env:Updated existing <rasterio._env.GDALEnv object at 0x7f837000a0f0> with options {'GDAL_DATA': '/home/ungarj/virtualenvs/rio-1.0.3/local/lib/python3.5/site-packages/rasterio/gdal_data', 'CPL_DEBUG': True}\r\nDEBUG:rasterio.env:Exited env context: <rasterio.env.Env object at 0x7f83562c6898>\r\nDEBUG:rasterio.env:Exiting env context: <rasterio.env.Env object at 0x7f835466fc88>\r\nDEBUG:rasterio._env:Unset option GDAL_DATA in env <rasterio._env.GDALEnv object at 0x7f837000a0f0>\r\nDEBUG:rasterio._env:Unset option CPL_DEBUG in env <rasterio._env.GDALEnv object at 0x7f837000a0f0>\r\nDEBUG:rasterio.env:Cleared existing <rasterio._env.GDALEnv object at 0x7f837000a0f0> options\r\nDEBUG:rasterio._env:Stopping GDALEnv <rasterio._env.GDALEnv object at 0x7f837000a0f0>.\r\nDEBUG:rasterio._env:Error handler popped.\r\nDEBUG:rasterio._env:Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7f837000a0f0>.\r\nDEBUG:rasterio.env:Exiting outermost env\r\nDEBUG:rasterio.env:Exited env context: <rasterio.env.Env object at 0x7f835466fc88>\r\nTraceback (most recent call last):\r\n  File \"rasterio/_base.pyx\", line 199, in rasterio._base.DatasetBase.__init__\r\n  File \"rasterio/_shim.pyx\", line 64, in rasterio._shim.open_dataset\r\n  File \"rasterio/_err.pyx\", line 188, in rasterio._err.exc_wrap_pointer\r\nrasterio._err.CPLE_OpenFailedError: '/vsis3/sentinel-s2-l1c/tiles/32/T/LS/2018/4/2/0/B01.jp2' not recognized as a supported file format.\r\n...\r\n```\r\n ### ``v1.0.2`` log\r\n```\r\n...\r\nDEBUG:rasterio.env:Updated existing <rasterio._env.GDALEnv object at 0x7f169099ef60> with options {'AWS_SECRET_ACCESS_KEY': ***, 'AWS_REGION': 'eu-central-1', 'AWS_ACCESS_KEY_ID': ***}\r\nDEBUG:rasterio.env:Got a copy of environment <rasterio._env.GDALEnv object at 0x7f169099ef60> options\r\nDEBUG:rasterio.env:Credentialized: {'AWS_SECRET_ACCESS_KEY': ***, 'GDAL_DATA': '/home/ungarj/virtualenvs/p3/lib/python3.5/site-packages/rasterio/gdal_data', 'CPL_DEBUG': True, 'AWS_REGION': 'eu-central-1', 'AWS_ACCESS_KEY_ID': ***}\r\nDEBUG:rasterio._gdal:CPLE_None in S3: GetFileList(/vsis3/sentinel-s2-l1c/tiles/32/T/LS/2018/4/2/0)\r\nDEBUG:rasterio._gdal:CPLE_None in VSICURL: Downloading 0-16383 (https://sentinel-s2-l1c.s3.amazonaws.com/tiles/32/T/LS/2018/4/2/0/B01.jp2)...\r\nDEBUG:rasterio._gdal:CPLE_None in VSICURL: Got response_code=206\r\nDEBUG:rasterio._gdal:CPLE_None in OPENJPEG: info: Start to read j2k main header (0).\r\nDEBUG:rasterio._gdal:CPLE_None in OPENJPEG: info: Main header has been correctly decoded.\r\nDEBUG:rasterio._gdal:CPLE_None in OPENJPEG: Grayscale color space\r\nDEBUG:rasterio._gdal:CPLE_None in VSICURL: Request at offset 804746, after end of file\r\nDEBUG:rasterio._gdal:CPLE_None in VSICURL: Request at offset 804746, after end of file\r\nDEBUG:rasterio._gdal:CPLE_None in GDALJP2Metadata: Found GML Box:\r\n...\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1453/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1451", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1451/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1451/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1451/events", "html_url": "https://github.com/rasterio/rasterio/issues/1451", "id": 357229215, "node_id": "MDU6SXNzdWUzNTcyMjkyMTU=", "number": 1451, "title": "Make Window Hashable", "user": {"login": "AndrewAnnex", "id": 2126916, "node_id": "MDQ6VXNlcjIxMjY5MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2126916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndrewAnnex", "html_url": "https://github.com/AndrewAnnex", "followers_url": "https://api.github.com/users/AndrewAnnex/followers", "following_url": "https://api.github.com/users/AndrewAnnex/following{/other_user}", "gists_url": "https://api.github.com/users/AndrewAnnex/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndrewAnnex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndrewAnnex/subscriptions", "organizations_url": "https://api.github.com/users/AndrewAnnex/orgs", "repos_url": "https://api.github.com/users/AndrewAnnex/repos", "events_url": "https://api.github.com/users/AndrewAnnex/events{/privacy}", "received_events_url": "https://api.github.com/users/AndrewAnnex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-09-05T13:27:27Z", "updated_at": "2018-09-05T18:23:23Z", "closed_at": "2018-09-05T18:23:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses.\r\n\r\nPlease do not bring these questions to Rasterio's issue tracker, which we want\r\nto reserve for bug reports and other actionable issues.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nGiven that windows are simple classes I expected them to be hashable when composing a set of them from block_windows(). But they are not (TypeError: unhashable type Window), so something should probably be done about that.\r\n\r\nFor my purposes I monkey patched `__hash__` and `__eq__` on Window using the tuple representations via flatten() to fix this locally, but I would bet that there are tricks in the python data model / using `__slots__` cleverly to do something more correct.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nsemi pseudo code\r\nopen an image then run:\r\n`set(img.block_windows())`\r\nwill throw the TypeError \r\n\r\n## Operating system\r\n\r\nMacOS 10.12.6\r\n\r\n## Rasterio version and provenance\r\n1.0.2 wheel installed from PyPI using pip 18.0\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1451/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1449", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1449/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1449/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1449/events", "html_url": "https://github.com/rasterio/rasterio/issues/1449", "id": 355378713, "node_id": "MDU6SXNzdWUzNTUzNzg3MTM=", "number": 1449, "title": "JPEG 2000 mask issue", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/65", "html_url": "https://github.com/rasterio/rasterio/milestone/65", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/65/labels", "id": 3667934, "node_id": "MDk6TWlsZXN0b25lMzY2NzkzNA==", "number": 65, "title": "1.0.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2018-09-18T20:56:59Z", "updated_at": "2018-09-19T17:26:03Z", "due_on": null, "closed_at": "2018-09-19T17:26:03Z"}, "comments": 11, "created_at": "2018-08-30T00:19:00Z", "updated_at": "2018-10-03T15:05:34Z", "closed_at": "2018-09-19T17:25:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If read JPEG 2000 image with window that bigger than target image then we get `mask=False` for output raster. The same operation works as expected for GeoTIFF (returns correct value of mask). Jupyter Notebook with demo: https://gist.github.com/drnextgis/f71038db372946fa81c55836bfc1986f.\r\n\r\nExample of output raster:\r\n\r\n```\r\nmasked_array(\r\n  data=[[[ 852,  814,  877, ..., 1314, 1408, 1336],\r\n         [ 884,  793,  959, ..., 1344, 1438, 1357],\r\n         [ 876,  878, 1018, ..., 1346, 1404, 1351],\r\n         ...,\r\n         [   0,    0,    0, ...,    0,    0,    0],\r\n         [   0,    0,    0, ...,    0,    0,    0],\r\n         [   0,    0,    0, ...,    0,    0,    0]]],\r\n  mask=False,\r\n  fill_value=999999,\r\n  dtype=uint16)\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1449/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1449/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1448", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1448/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1448/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1448/events", "html_url": "https://github.com/rasterio/rasterio/issues/1448", "id": 355266845, "node_id": "MDU6SXNzdWUzNTUyNjY4NDU=", "number": 1448, "title": "Exception reading dataset with null crs", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/64", "html_url": "https://github.com/rasterio/rasterio/milestone/64", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/64/labels", "id": 3537273, "node_id": "MDk6TWlsZXN0b25lMzUzNzI3Mw==", "number": 64, "title": "1.0.4", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2018-07-31T20:03:14Z", "updated_at": "2018-09-19T17:26:07Z", "due_on": null, "closed_at": "2018-09-19T17:26:07Z"}, "comments": 1, "created_at": "2018-08-29T17:49:28Z", "updated_at": "2018-09-18T22:44:08Z", "closed_at": "2018-09-18T22:44:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nReading a `window` with `boundless=True` causes an AttributeError when the dataset has no CRS.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport rasterio\r\n\r\npath = '../rasterio/tests/data/rotated.tif'  # any raster without a CRS\r\n\r\nwith rasterio.open(path) as src:\r\n    for _, window in src.block_windows():\r\n        src.read(window=window, boundless=True)\r\n```\r\n\r\nstacktrace\r\n\r\n```\r\n  File \"try_bug.py\", line 9, in <module>\r\n    src.read(window=window, boundless=True)\r\n  File \"rasterio/_io.pyx\", line 377, in rasterio._io.DatasetReaderBase.read\r\n  File \"/Users/mperry/env/dev36/lib/python3.6/site-packages/rasterio/vrt.py\", line 84, in _boundless_vrt_doc\r\n    srs.text = src_dataset.crs.wkt\r\nAttributeError: 'NoneType' object has no attribute 'wkt'\r\n```\r\n\r\n## Potential solution\r\n\r\n```\r\nsrs.text = src_dataset.crs.wkt if src_dataset.crs else ''\r\n```\r\n\r\nNot sure if an empty string is the proper VRT representation for a null CRS. Thoughts @sgillies ?\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 1.0.2 installed from source on Mac OS 10.13.6 against GDAL 2.3.1", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1448/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1448/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1447", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1447/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1447/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1447/events", "html_url": "https://github.com/rasterio/rasterio/pull/1447", "id": 354985222, "node_id": "MDExOlB1bGxSZXF1ZXN0MjExNjE5OTQ3", "number": 1447, "title": "Resolve #1446", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/64", "html_url": "https://github.com/rasterio/rasterio/milestone/64", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/64/labels", "id": 3537273, "node_id": "MDk6TWlsZXN0b25lMzUzNzI3Mw==", "number": 64, "title": "1.0.4", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2018-07-31T20:03:14Z", "updated_at": "2018-09-19T17:26:07Z", "due_on": null, "closed_at": "2018-09-19T17:26:07Z"}, "comments": 0, "created_at": "2018-08-29T03:48:16Z", "updated_at": "2018-08-29T15:02:24Z", "closed_at": "2018-08-29T15:02:20Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1447", "html_url": "https://github.com/rasterio/rasterio/pull/1447", "diff_url": "https://github.com/rasterio/rasterio/pull/1447.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1447.patch", "merged_at": "2018-08-29T15:02:20Z"}, "body": "Never \"cut\" points at the antimeridian to avoid the issue reported in #1446.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1447/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1447/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1446", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1446/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1446/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1446/events", "html_url": "https://github.com/rasterio/rasterio/issues/1446", "id": 353946652, "node_id": "MDU6SXNzdWUzNTM5NDY2NTI=", "number": 1446, "title": "warp.transform_geom not working for Point geometries", "user": {"login": "youngpm", "id": 1379667, "node_id": "MDQ6VXNlcjEzNzk2Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/1379667?v=4", "gravatar_id": "", "url": "https://api.github.com/users/youngpm", "html_url": "https://github.com/youngpm", "followers_url": "https://api.github.com/users/youngpm/followers", "following_url": "https://api.github.com/users/youngpm/following{/other_user}", "gists_url": "https://api.github.com/users/youngpm/gists{/gist_id}", "starred_url": "https://api.github.com/users/youngpm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/youngpm/subscriptions", "organizations_url": "https://api.github.com/users/youngpm/orgs", "repos_url": "https://api.github.com/users/youngpm/repos", "events_url": "https://api.github.com/users/youngpm/events{/privacy}", "received_events_url": "https://api.github.com/users/youngpm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/64", "html_url": "https://github.com/rasterio/rasterio/milestone/64", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/64/labels", "id": 3537273, "node_id": "MDk6TWlsZXN0b25lMzUzNzI3Mw==", "number": 64, "title": "1.0.4", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2018-07-31T20:03:14Z", "updated_at": "2018-09-19T17:26:07Z", "due_on": null, "closed_at": "2018-09-19T17:26:07Z"}, "comments": 18, "created_at": "2018-08-24T22:26:12Z", "updated_at": "2018-09-18T22:44:07Z", "closed_at": "2018-09-18T22:44:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses.\r\n\r\nPlease do not bring these questions to Rasterio's issue tracker, which we want\r\nto reserve for bug reports and other actionable issues.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\ntransform_geom of a point is returning the wrong x coordinate. Works for multipoints and via `transform` when you feed it the coordinates directly.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nIn [1]: from rasterio import crs, warp\r\n   ...: x, y = -122.51403808499907, 38.06106733107932\r\n   ...: print(warp.transform(crs.CRS.from_epsg(4326), crs.CRS.from_epsg(32610), [x], [y]))\r\n   ...: print(warp.transform_geom(crs.CRS.from_epsg(4326), crs.CRS.from_epsg(32610), {'type': 'Point', 'coordinates': (x, y)}))\r\n   ...: print(warp.transform_geom(crs.CRS.from_epsg(4326), crs.CRS.from_epsg(32610), {'type': 'MultiPoint', 'coordinates': ((x, y),)}))\r\n   ...: \r\n   ...: \r\n([542630.876613667], [4212702.061096219])\r\n{'type': 'Point', 'coordinates': (110.87661366700195, 4212702.061096219)}\r\n{'type': 'MultiPoint', 'coordinates': [(542630.876613667, 4212702.061096219)]}\r\n```\r\n\r\nThe x coordinate on the middle call is wrong.\r\n\r\n## Operating system\r\n\r\nUbuntu 18.04, python 3.6\r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio 1.0.2\r\n\r\nI think this has been broken for a while, just came across in some pretty old code that hasn't been ran for quite some time (a year at least!).  Pretty sure it worked at one point (ha!). \r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1446/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1444", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1444/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1444/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1444/events", "html_url": "https://github.com/rasterio/rasterio/pull/1444", "id": 352406892, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA5NzI0MjU5", "number": 1444, "title": "Speedup checking of CRS equality", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/64", "html_url": "https://github.com/rasterio/rasterio/milestone/64", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/64/labels", "id": 3537273, "node_id": "MDk6TWlsZXN0b25lMzUzNzI3Mw==", "number": 64, "title": "1.0.4", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2018-07-31T20:03:14Z", "updated_at": "2018-09-19T17:26:07Z", "due_on": null, "closed_at": "2018-09-19T17:26:07Z"}, "comments": 2, "created_at": "2018-08-21T06:49:40Z", "updated_at": "2018-08-29T01:28:04Z", "closed_at": "2018-08-28T19:33:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1444", "html_url": "https://github.com/rasterio/rasterio/pull/1444", "diff_url": "https://github.com/rasterio/rasterio/pull/1444.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1444.patch", "merged_at": "2018-08-28T19:33:59Z"}, "body": "Performance gain \u2248 1000X for checking equality of the same CRS.\r\n\r\nAfter this PR:\r\n\r\n```\r\nIn [1]: from rasterio.crs import CRS\r\n\r\nIn [2]: c1 = CRS({'init': 'epsg:3857'})\r\n\r\nIn [3]: c2 = CRS({'init': 'epsg:3857'})\r\n\r\nIn [4]: %timeit c1 == c2\r\n250 ns \u00b1 1.94 ns per loop (mean \u00b1 std. dev. of 7 runs, 1000000 loops each)\r\n```\r\n\r\nBefore:\r\n\r\n```\r\nIn [1]: from rasterio.crs import CRS\r\n\r\nIn [2]: c1 = CRS({'init': 'epsg:3857'})\r\n\r\nIn [3]: c2 = CRS({'init': 'epsg:3857'})\r\n\r\nIn [4]: %timeit c1 == c2\r\n217 \u00b5s \u00b1 320 ns per loop (mean \u00b1 std. dev. of 7 runs, 1000 loops each)\r\n```\r\n\r\nCode was placed atop of this part because it takes less time than checking of emptiness: https://github.com/mapbox/rasterio/blob/fd412a6ea6f21f2d92e06091daad496425f690d8/rasterio/_crs.pyx#L68", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1444/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1443", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1443/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1443/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1443/events", "html_url": "https://github.com/rasterio/rasterio/pull/1443", "id": 352345354, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA5NjgwMjY5", "number": 1443, "title": "added ValueError if driver is missing when getting writer for driver", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/64", "html_url": "https://github.com/rasterio/rasterio/milestone/64", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/64/labels", "id": 3537273, "node_id": "MDk6TWlsZXN0b25lMzUzNzI3Mw==", "number": 64, "title": "1.0.4", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2018-07-31T20:03:14Z", "updated_at": "2018-09-19T17:26:07Z", "due_on": null, "closed_at": "2018-09-19T17:26:07Z"}, "comments": 0, "created_at": "2018-08-21T00:47:28Z", "updated_at": "2018-09-13T16:45:54Z", "closed_at": "2018-09-13T16:45:54Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1443", "html_url": "https://github.com/rasterio/rasterio/pull/1443", "diff_url": "https://github.com/rasterio/rasterio/pull/1443.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1443.patch", "merged_at": "2018-09-13T16:45:54Z"}, "body": "Fixes issue #1203. Though likely will be superseded by #265 ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1443/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1436", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1436/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1436/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1436/events", "html_url": "https://github.com/rasterio/rasterio/issues/1436", "id": 348522620, "node_id": "MDU6SXNzdWUzNDg1MjI2MjA=", "number": 1436, "title": "Unexpected behavior by rasterio.mask.mask with all_touched=True (too many pixels are cropped out)", "user": {"login": "atorch", "id": 1395971, "node_id": "MDQ6VXNlcjEzOTU5NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1395971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atorch", "html_url": "https://github.com/atorch", "followers_url": "https://api.github.com/users/atorch/followers", "following_url": "https://api.github.com/users/atorch/following{/other_user}", "gists_url": "https://api.github.com/users/atorch/gists{/gist_id}", "starred_url": "https://api.github.com/users/atorch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atorch/subscriptions", "organizations_url": "https://api.github.com/users/atorch/orgs", "repos_url": "https://api.github.com/users/atorch/repos", "events_url": "https://api.github.com/users/atorch/events{/privacy}", "received_events_url": "https://api.github.com/users/atorch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/65", "html_url": "https://github.com/rasterio/rasterio/milestone/65", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/65/labels", "id": 3667934, "node_id": "MDk6TWlsZXN0b25lMzY2NzkzNA==", "number": 65, "title": "1.0.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2018-09-18T20:56:59Z", "updated_at": "2018-09-19T17:26:03Z", "due_on": null, "closed_at": "2018-09-19T17:26:03Z"}, "comments": 3, "created_at": "2018-08-07T23:32:03Z", "updated_at": "2018-09-19T17:25:29Z", "closed_at": "2018-09-19T17:25:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses.\r\n\r\nPlease do not bring these questions to Rasterio's issue tracker, which we want\r\nto reserve for bug reports and other actionable issues.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nBased on the documentation at https://rasterio.readthedocs.io/en/latest/api/rasterio.mask.html, I expect `rasterio.mask.mask` with `all_touched=True` to always include all pixels that touch any of the shapes that I pass in.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nimport pprint\r\nfrom tempfile import NamedTemporaryFile\r\n\r\nimport numpy as np\r\nimport rasterio\r\n\r\nfrom rasterio import Affine\r\nfrom rasterio.crs import CRS\r\nfrom rasterio.mask import mask\r\nfrom shapely.geometry import mapping, Polygon\r\n\r\nORIGIN_X = 408225.0\r\nORIGIN_Y = 1985985.0\r\n\r\nCDL_RESOLUTION = 30.0\r\n\r\nAFFINE = Affine(\r\n    CDL_RESOLUTION,\r\n    0.0,\r\n    ORIGIN_X,\r\n    0.0,\r\n    -CDL_RESOLUTION,\r\n    ORIGIN_Y,\r\n)\r\n\r\nCDL_CRS = CRS(\r\n    {\r\n        'proj': 'aea',\r\n        'lat_1': 29.5,\r\n        'lat_2': 45.5,\r\n        'lat_0': 23,\r\n        'lon_0': -96,\r\n        'x_0': 0,\r\n        'y_0': 0,\r\n        'ellps':\r\n        'GRS80',\r\n        'towgs84': '0,0,0,0,0,0,0',\r\n        'units': 'm',\r\n        'no_defs': True,\r\n    }\r\n)\r\n\r\n\r\ndef save_toy_raster(origin_x, origin_y, outfile, height=8, width=10, dtype='uint8'):\r\n    raster_meta = {\r\n        'count': 1,\r\n        'crs': CDL_CRS,\r\n        'driver': 'GTiff',\r\n        'dtype': dtype,\r\n        'height': height,\r\n        'width': width,\r\n        'nodata': None,\r\n    }\r\n\r\n    raster_meta['transform'] = AFFINE\r\n\r\n    raster_values = np.zeros((height, width), dtype=dtype)  # Y, x\r\n\r\n    raster_values[0, 0] = 1\r\n    raster_values[0, 1] = 2\r\n    raster_values[0, 3] = 7\r\n    raster_values[4, 0] = 9\r\n\r\n    with rasterio.open(outfile, 'w', **raster_meta) as outfile:\r\n        outfile.write(raster_values, indexes=1)\r\n\r\n    return\r\n\r\n\r\ndef get_mask_and_affine(raster, shape):\r\n    masked_array, affine = mask(\r\n        raster,\r\n        [mapping(shape)],\r\n        filled=False,\r\n        crop=True,\r\n        all_touched=True,\r\n    )\r\n\r\n    return masked_array, affine\r\n\r\n\r\ndef get_example_geometry():\r\n    top_right_coord = [408318.19810377056, 1985962.5740539758]\r\n\r\n    shape = Polygon(\r\n        [\r\n            [408240.36536500533, 1985846.4332173148],\r\n            [408234.6170334989, 1985958.2779089767],\r\n            top_right_coord,\r\n            [408323.94761217793, 1985850.7294228084],\r\n            [408240.36536500533, 1985846.4332173148],\r\n        ],\r\n    )\r\n\r\n    return shape, top_right_coord\r\n\r\n\r\ndef main():\r\n    pp = pprint.PrettyPrinter(indent=4)\r\n\r\n    raster_file = NamedTemporaryFile().name\r\n    save_toy_raster(\r\n        origin_x=ORIGIN_X,\r\n        origin_y=ORIGIN_Y,\r\n        outfile=raster_file,\r\n    )\r\n\r\n    raster = rasterio.open(raster_file)\r\n    print('raster values:')\r\n    pp.pprint(raster.read())\r\n\r\n    shape, top_right_coord = get_example_geometry()\r\n\r\n    masked_array, _affine = get_mask_and_affine(raster, shape)\r\n\r\n    value_at_top_right = list(raster.sample([top_right_coord]))[0]\r\n\r\n    print('masked_array:')\r\n    pp.pprint(masked_array)\r\n\r\n    # masked_array:\r\n    # masked_array(\r\n    # data=[[[1, 2, 0],\r\n    #         [0, 0, 0],\r\n    #         [0, 0, 0],\r\n    #         [0, 0, 0]]],\r\n    # mask=[[[False, False, False],\r\n    #         [False, False, False],\r\n    #         [False, False, False],\r\n    #         [False, False, False]]],\r\n    # fill_value=999999,\r\n    # dtype=uint8)\r\n\r\n    print('value_at_top_right:')\r\n    pp.pprint(value_at_top_right)\r\n\r\n    # value_at_top_right:\r\n    # array([7], dtype=uint8)\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\r\n\r\n```\r\n\r\nIn this example, we define a toy raster (whose projection and resolution mimic https://nassgeodata.gmu.edu/CropScape/, although that doesn't matter for this bug report).  Notice that the raster's [0, 3] value is 7, and that our example geometry touches the [0, 3] pixel. That pixel is missing from masked_array, i.e. it appears to have been incorrectly cropped out. \r\n\r\nQgis screenshot:  https://imgur.com/a/wM8sY8Y.  The bright pixel at the top right intersects the polygon (in red), but that pixel appears to be cropped out by `rasterio.mask.mask` even with `all_touched=True`.  This appears to contradict the docs, which say \"all_touched (bool (opt)) \u2013 Include a pixel in the mask if it touches any of the shapes.\"\r\n\r\n## Operating system\r\n\r\nUbuntu 17.10\r\n\r\n## Rasterio version and provenance\r\n\r\nI noticed this behavior on rasterio 1.0a12, and also saw it on rasterio 1.0.2.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1436/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1436/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1432", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1432/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1432/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1432/events", "html_url": "https://github.com/rasterio/rasterio/pull/1432", "id": 346316430, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA1MjA5ODI3", "number": 1432, "title": "support geometry type LinearRing", "user": {"login": "j08lue", "id": 3404817, "node_id": "MDQ6VXNlcjM0MDQ4MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/3404817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j08lue", "html_url": "https://github.com/j08lue", "followers_url": "https://api.github.com/users/j08lue/followers", "following_url": "https://api.github.com/users/j08lue/following{/other_user}", "gists_url": "https://api.github.com/users/j08lue/gists{/gist_id}", "starred_url": "https://api.github.com/users/j08lue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j08lue/subscriptions", "organizations_url": "https://api.github.com/users/j08lue/orgs", "repos_url": "https://api.github.com/users/j08lue/repos", "events_url": "https://api.github.com/users/j08lue/events{/privacy}", "received_events_url": "https://api.github.com/users/j08lue/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/63", "html_url": "https://github.com/rasterio/rasterio/milestone/63", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/63/labels", "id": 3528738, "node_id": "MDk6TWlsZXN0b25lMzUyODczOA==", "number": 63, "title": "1.0.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2018-07-27T18:44:15Z", "updated_at": "2018-09-07T03:12:52Z", "due_on": null, "closed_at": "2018-09-07T03:12:52Z"}, "comments": 1, "created_at": "2018-07-31T18:57:51Z", "updated_at": "2018-07-31T23:11:44Z", "closed_at": "2018-07-31T20:06:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1432", "html_url": "https://github.com/rasterio/rasterio/pull/1432", "diff_url": "https://github.com/rasterio/rasterio/pull/1432.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1432.patch", "merged_at": "2018-07-31T20:06:35Z"}, "body": "Addresses #1431\r\n\r\n- [x] Added in `OGRGeomBuilder` and `is_valid_geom`\r\n- [x] Tested", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1432/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1431", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1431/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1431/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1431/events", "html_url": "https://github.com/rasterio/rasterio/issues/1431", "id": 346158417, "node_id": "MDU6SXNzdWUzNDYxNTg0MTc=", "number": 1431, "title": "features.is_valid_geom should accept LinearRing", "user": {"login": "j08lue", "id": 3404817, "node_id": "MDQ6VXNlcjM0MDQ4MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/3404817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j08lue", "html_url": "https://github.com/j08lue", "followers_url": "https://api.github.com/users/j08lue/followers", "following_url": "https://api.github.com/users/j08lue/following{/other_user}", "gists_url": "https://api.github.com/users/j08lue/gists{/gist_id}", "starred_url": "https://api.github.com/users/j08lue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j08lue/subscriptions", "organizations_url": "https://api.github.com/users/j08lue/orgs", "repos_url": "https://api.github.com/users/j08lue/repos", "events_url": "https://api.github.com/users/j08lue/events{/privacy}", "received_events_url": "https://api.github.com/users/j08lue/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/63", "html_url": "https://github.com/rasterio/rasterio/milestone/63", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/63/labels", "id": 3528738, "node_id": "MDk6TWlsZXN0b25lMzUyODczOA==", "number": 63, "title": "1.0.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2018-07-27T18:44:15Z", "updated_at": "2018-09-07T03:12:52Z", "due_on": null, "closed_at": "2018-09-07T03:12:52Z"}, "comments": 2, "created_at": "2018-07-31T12:06:17Z", "updated_at": "2018-09-07T03:12:40Z", "closed_at": "2018-09-07T03:12:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Following @perrygeo's [nice recipe on calculating partial pixel overlap](https://gist.github.com/perrygeo/721040f8545272832a42), I am passing a `LinearRing` to `features.rasterize` and get an error because `features.is_valid_geom` does not expect this geometry type:\r\n\r\nhttps://github.com/mapbox/rasterio/blob/397361960eab4a990a83b06ac1414c9389137b4c/rasterio/features.py#L443-L444\r\n\r\nIf I am not mistaken, [`LinearRing`](http://shapely.readthedocs.io/en/stable/manual.html#linearrings) is a simpler sub-class of `LineString` that\r\n1. Is always closed\r\n2. Does not intersect itself.\r\n\r\nSo this should be safe to support and validate in the same way as `LineString`.\r\n\r\nAn obvious workaround is to convert `LinearRing` to `LineString` with `shapely.geometry.LineString(ring)`.\r\n\r\nWould you like a PR for this?", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1431/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1431/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1429", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1429/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1429/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1429/events", "html_url": "https://github.com/rasterio/rasterio/pull/1429", "id": 345939182, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA0OTMzMTkz", "number": 1429, "title": "Generalize to support cloud providers other than AWS", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/64", "html_url": "https://github.com/rasterio/rasterio/milestone/64", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/64/labels", "id": 3537273, "node_id": "MDk6TWlsZXN0b25lMzUzNzI3Mw==", "number": 64, "title": "1.0.4", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2018-07-31T20:03:14Z", "updated_at": "2018-09-19T17:26:07Z", "due_on": null, "closed_at": "2018-09-19T17:26:07Z"}, "comments": 1, "created_at": "2018-07-30T21:19:16Z", "updated_at": "2018-09-13T16:55:28Z", "closed_at": "2018-09-13T16:55:24Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1429", "html_url": "https://github.com/rasterio/rasterio/pull/1429", "diff_url": "https://github.com/rasterio/rasterio/pull/1429.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1429.patch", "merged_at": "2018-09-13T16:55:24Z"}, "body": "This refactor resolves #1423. Summary of changes:\r\n\r\n- We have a new session module and an extendable abstraction for cloud API access sessions. Adding support for a new cloud provider means writing a new subclass of `Session` (like `AWSSession`) and then adding a new condition to the `from_path` staticmethod of `Session`.\r\n- With two exceptions, the `Env` class doesn't know about subclasses of `Session` anymore. Except for the special AWS cases (for backwards compatibility) it should only know about abstract Sessions.\r\n- The duty of figuring out which kind of session to use for a given dataset path or identifier now belongs to `Session.from_path`. I expect it could become slightly complex, but at least we're containing the complexity.\r\n\r\nThe deep nesting of sessions gets a little humorous, I admit (rasterio:boto3:botocore, for example), but I think that's the nature of this beast.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1429/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1429/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1425", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1425/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1425/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1425/events", "html_url": "https://github.com/rasterio/rasterio/issues/1425", "id": 345320826, "node_id": "MDU6SXNzdWUzNDUzMjA4MjY=", "number": 1425, "title": "rio rasterize failing to open geojson", "user": {"login": "youngpm", "id": 1379667, "node_id": "MDQ6VXNlcjEzNzk2Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/1379667?v=4", "gravatar_id": "", "url": "https://api.github.com/users/youngpm", "html_url": "https://github.com/youngpm", "followers_url": "https://api.github.com/users/youngpm/followers", "following_url": "https://api.github.com/users/youngpm/following{/other_user}", "gists_url": "https://api.github.com/users/youngpm/gists{/gist_id}", "starred_url": "https://api.github.com/users/youngpm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/youngpm/subscriptions", "organizations_url": "https://api.github.com/users/youngpm/orgs", "repos_url": "https://api.github.com/users/youngpm/repos", "events_url": "https://api.github.com/users/youngpm/events{/privacy}", "received_events_url": "https://api.github.com/users/youngpm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/63", "html_url": "https://github.com/rasterio/rasterio/milestone/63", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/63/labels", "id": 3528738, "node_id": "MDk6TWlsZXN0b25lMzUyODczOA==", "number": 63, "title": "1.0.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2018-07-27T18:44:15Z", "updated_at": "2018-09-07T03:12:52Z", "due_on": null, "closed_at": "2018-09-07T03:12:52Z"}, "comments": 3, "created_at": "2018-07-27T18:18:28Z", "updated_at": "2018-07-27T21:17:09Z", "closed_at": "2018-07-27T19:09:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses.\r\n\r\nPlease do not bring these questions to Rasterio's issue tracker, which we want\r\nto reserve for bug reports and other actionable issues.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nrio rasterize should be able to rasterize :)\r\n\r\n## Steps to reproduce the problem.\r\n\r\nSave\r\n```{\r\n  \"type\": \"FeatureCollection\",\r\n  \"features\": [\r\n    {\r\n      \"type\": \"Feature\",\r\n      \"properties\": {},\r\n      \"geometry\": {\r\n        \"type\": \"Polygon\",\r\n        \"coordinates\": [\r\n          [\r\n            [\r\n              -105.34790039062499,\r\n              39.37677199661635\r\n            ],\r\n            [\r\n              -104.4140625,\r\n              39.37677199661635\r\n            ],\r\n            [\r\n              -104.4140625,\r\n              40.11588965267845\r\n            ],\r\n            [\r\n              -105.34790039062499,\r\n              40.11588965267845\r\n            ],\r\n            [\r\n              -105.34790039062499,\r\n              39.37677199661635\r\n            ]\r\n          ]\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}\r\n``` \r\nas box.geojson, then run `rio rasterize --dimensions 5 5 box.geojson box.tif`; you will see \r\n\r\n>Usage: rio rasterize [OPTIONS] INPUTS... OUTPUT\r\n>\r\n>Error: Invalid value for \"files\": .../box.geojson is not a valid input file \r\n\r\nI believe what is happening is that the vector file is not passing the `rasterio.shutil.exists` test [here](https://github.com/mapbox/rasterio/blob/master/rasterio/rio/options.py#L129), and is probably failing [here](https://github.com/mapbox/rasterio/blob/master/rasterio/shutil.pyx#L37) when `GDALOpenShared` is called on the vector dataset, as that guy I believe [only opens rasters](http://www.gdal.org/gdal_8h.html#a46a02c21047d78f88f8abb1ff6b14ae2).\r\n\r\nOn way to fix this, at least in regards to GDAL 2, would be to prefer [GDALOpenEx](http://www.gdal.org/gdal_8h.html#aca05455472359964151f9c891d678d5e), which can open either vectors or rasters.  I don't think this existed in GDAL 1, so that might not work for you.\r\n\r\n## Operating system\r\n\r\nRHEL 7 and OSX High Sierra, but if its because that failed check it is probably not os related.\r\n\r\n## Rasterio version and provenance\r\n\r\n1.0.1 has the issue.  It is not an issue with 1.0a12 but I haven't tried other versions.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1425/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1424", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1424/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1424/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1424/events", "html_url": "https://github.com/rasterio/rasterio/pull/1424", "id": 344699261, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA0MDMxNDUw", "number": 1424, "title": "Populate `pan{Src|Dst}Bands` indexes when reprojecting", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/62", "html_url": "https://github.com/rasterio/rasterio/milestone/62", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/62/labels", "id": 3520383, "node_id": "MDk6TWlsZXN0b25lMzUyMDM4Mw==", "number": 62, "title": "1.0.2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2018-07-24T17:00:34Z", "updated_at": "2018-07-27T18:44:25Z", "due_on": null, "closed_at": "2018-07-27T18:44:25Z"}, "comments": 2, "created_at": "2018-07-26T05:23:35Z", "updated_at": "2018-07-27T15:43:13Z", "closed_at": "2018-07-27T15:43:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1424", "html_url": "https://github.com/rasterio/rasterio/pull/1424", "diff_url": "https://github.com/rasterio/rasterio/pull/1424.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1424.patch", "merged_at": "2018-07-27T15:43:13Z"}, "body": "This is addressing issue #1350. \r\n\r\nBasically warping for cases other than\r\n\r\n- Warping first band\r\n- Warping all bands\r\n\r\ndidn't work, because of the way warping structure was configured. With this change we actually populate `pan{Src|Dst}Bands` parameters properly.\r\n\r\nAlso when destination is an `ndarray` and there are multiple bands being processed destination bands are assumed to be `1,2,..N` if the output size matches the number of bands being processed simultaneously. So you can extract say bands `4,7,19` into a `3xHxW` `ndarray`.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1424/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1424/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1423", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1423/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1423/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1423/events", "html_url": "https://github.com/rasterio/rasterio/issues/1423", "id": 344534194, "node_id": "MDU6SXNzdWUzNDQ1MzQxOTQ=", "number": 1423, "title": "Generalize cloud data support", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 1, "created_at": "2018-07-25T17:20:11Z", "updated_at": "2018-09-21T15:31:05Z", "closed_at": "2018-09-21T15:31:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It's not clear how to add support for clouds other than Amazon's. I'd like to generalize the existing code so that it is clear.  This is not a fix for #991 but will make Google Cloud (and other) support much easier for users to contribute.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1423/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1423/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1422", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1422/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1422/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1422/events", "html_url": "https://github.com/rasterio/rasterio/pull/1422", "id": 344244133, "node_id": "MDExOlB1bGxSZXF1ZXN0MjAzNjg2MzUy", "number": 1422, "title": "Correctly calculate bounds on a rotated raster", "user": {"login": "mwtoews", "id": 895458, "node_id": "MDQ6VXNlcjg5NTQ1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/895458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mwtoews", "html_url": "https://github.com/mwtoews", "followers_url": "https://api.github.com/users/mwtoews/followers", "following_url": "https://api.github.com/users/mwtoews/following{/other_user}", "gists_url": "https://api.github.com/users/mwtoews/gists{/gist_id}", "starred_url": "https://api.github.com/users/mwtoews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mwtoews/subscriptions", "organizations_url": "https://api.github.com/users/mwtoews/orgs", "repos_url": "https://api.github.com/users/mwtoews/repos", "events_url": "https://api.github.com/users/mwtoews/events{/privacy}", "received_events_url": "https://api.github.com/users/mwtoews/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/62", "html_url": "https://github.com/rasterio/rasterio/milestone/62", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/62/labels", "id": 3520383, "node_id": "MDk6TWlsZXN0b25lMzUyMDM4Mw==", "number": 62, "title": "1.0.2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2018-07-24T17:00:34Z", "updated_at": "2018-07-27T18:44:25Z", "due_on": null, "closed_at": "2018-07-27T18:44:25Z"}, "comments": 0, "created_at": "2018-07-24T23:57:52Z", "updated_at": "2018-07-25T17:14:41Z", "closed_at": "2018-07-25T17:14:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1422", "html_url": "https://github.com/rasterio/rasterio/pull/1422", "diff_url": "https://github.com/rasterio/rasterio/pull/1422.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1422.patch", "merged_at": "2018-07-25T17:14:40Z"}, "body": "This fixes #1420 to calculate the bounds on rotated rasters.\r\n\r\nHere is a screenshot from ArcCatalog, which correctly shows the bounds.\r\n![ArcCatalog](https://i.imgur.com/xuQ9E5j.png)\r\n\r\nAdditionally, from `gdalinfo`:\r\n```\r\nCorner Coordinates:\r\nUpper Left  (     100.000,     200.000)\r\nLower Left  ( 175.0000000,  70.0961894)\r\nUpper Right (     273.205,     300.000)\r\nLower Right (     348.205,     170.096)\r\nCenter      (     224.103,     185.048)\r\n```\r\n---\r\n\r\nShould any docstrings be updated to comment on bounds for rotated rasters? Or is it obvious?", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1422/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1422/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1419", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1419/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1419/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1419/events", "html_url": "https://github.com/rasterio/rasterio/pull/1419", "id": 343873977, "node_id": "MDExOlB1bGxSZXF1ZXN0MjAzNDAyMTY5", "number": 1419, "title": "Allow src_bounds to override src.bounds with --dimensions", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/62", "html_url": "https://github.com/rasterio/rasterio/milestone/62", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/62/labels", "id": 3520383, "node_id": "MDk6TWlsZXN0b25lMzUyMDM4Mw==", "number": 62, "title": "1.0.2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2018-07-24T17:00:34Z", "updated_at": "2018-07-27T18:44:25Z", "due_on": null, "closed_at": "2018-07-27T18:44:25Z"}, "comments": 0, "created_at": "2018-07-24T03:46:23Z", "updated_at": "2018-07-24T17:10:09Z", "closed_at": "2018-07-24T17:00:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1419", "html_url": "https://github.com/rasterio/rasterio/pull/1419", "diff_url": "https://github.com/rasterio/rasterio/pull/1419.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1419.patch", "merged_at": "2018-07-24T17:00:48Z"}, "body": "In case of `dst_crs` is not set.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1419/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1418", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1418/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1418/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1418/events", "html_url": "https://github.com/rasterio/rasterio/issues/1418", "id": 343767213, "node_id": "MDU6SXNzdWUzNDM3NjcyMTM=", "number": 1418, "title": "src-bounds and dimensions options don't work together", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/61", "html_url": "https://github.com/rasterio/rasterio/milestone/61", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/61/labels", "id": 3517557, "node_id": "MDk6TWlsZXN0b25lMzUxNzU1Nw==", "number": 61, "title": "1.0.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2018-07-23T18:54:11Z", "updated_at": "2018-07-23T21:30:23Z", "due_on": null, "closed_at": "2018-07-23T21:30:23Z"}, "comments": 4, "created_at": "2018-07-23T19:37:18Z", "updated_at": "2018-07-24T03:49:54Z", "closed_at": "2018-07-23T20:22:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`src-bounds` and `dimensions` don't work together in `rio warp`. If I understood correctly from [code](https://github.com/mapbox/rasterio/blob/fd4fdcd487cabb78ca159458aa2e08c2ddad979a/rasterio/rio/warp.py#L176) `src-bounds` option is not respected when it is provided alongside with `dimensions`. Here is a notebook with demo of described behavior: http://nbviewer.jupyter.org/gist/drnextgis/29bc4deb91ff59c1df514ff7cfa90d19?flush_cache=1", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1418/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1415", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1415/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1415/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1415/events", "html_url": "https://github.com/rasterio/rasterio/issues/1415", "id": 343753649, "node_id": "MDU6SXNzdWUzNDM3NTM2NDk=", "number": 1415, "title": "reproject() loses _reproject()'s dst_alpha keyword argument", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/61", "html_url": "https://github.com/rasterio/rasterio/milestone/61", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/61/labels", "id": 3517557, "node_id": "MDk6TWlsZXN0b25lMzUxNzU1Nw==", "number": 61, "title": "1.0.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2018-07-23T18:54:11Z", "updated_at": "2018-07-23T21:30:23Z", "due_on": null, "closed_at": "2018-07-23T21:30:23Z"}, "comments": 1, "created_at": "2018-07-23T18:55:37Z", "updated_at": "2018-07-23T21:29:58Z", "closed_at": "2018-07-23T21:29:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See `dst_alpa` at https://github.com/mapbox/rasterio/blob/master/rasterio/warp.py#L294.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1415/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1413", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1413/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1413/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1413/events", "html_url": "https://github.com/rasterio/rasterio/issues/1413", "id": 343277412, "node_id": "MDU6SXNzdWUzNDMyNzc0MTI=", "number": 1413, "title": "rio warp produces incorrect result", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 1, "created_at": "2018-07-20T23:54:25Z", "updated_at": "2018-07-24T03:02:38Z", "closed_at": "2018-07-24T03:02:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "gdalwarp returns expected result:\r\n\r\n```\r\n$ gdalinfo -json /tmp/original.tif | jq .size\r\n[\r\n  3,\r\n  2\r\n]\r\n$ gdalwarp -tr 0.5 0.5 -overwrite /tmp/original.tif /tmp/gdal.tif\r\n$ rio warp /tmp/original.tif /tmp/rio.tif --overwrite --res 0.5\r\n$ gdalinfo -json /tmp/gdal.tif | jq .size\r\n[\r\n  6,\r\n  4\r\n]\r\n$ gdalinfo -json /tmp/rio.tif | jq .size\r\n[\r\n  6,\r\n  1\r\n]\r\n```\r\n\r\nTest file: https://transfer.sh/4fpkg/original.tif\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1413/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1413/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1412", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1412/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1412/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1412/events", "html_url": "https://github.com/rasterio/rasterio/pull/1412", "id": 343190821, "node_id": "MDExOlB1bGxSZXF1ZXN0MjAyOTEyOTgx", "number": 1412, "title": "Adding LERC compression enum item", "user": {"login": "calebrob6", "id": 1088078, "node_id": "MDQ6VXNlcjEwODgwNzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1088078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebrob6", "html_url": "https://github.com/calebrob6", "followers_url": "https://api.github.com/users/calebrob6/followers", "following_url": "https://api.github.com/users/calebrob6/following{/other_user}", "gists_url": "https://api.github.com/users/calebrob6/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebrob6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebrob6/subscriptions", "organizations_url": "https://api.github.com/users/calebrob6/orgs", "repos_url": "https://api.github.com/users/calebrob6/repos", "events_url": "https://api.github.com/users/calebrob6/events{/privacy}", "received_events_url": "https://api.github.com/users/calebrob6/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 0, "created_at": "2018-07-20T17:38:55Z", "updated_at": "2018-07-20T17:59:25Z", "closed_at": "2018-07-20T17:59:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1412", "html_url": "https://github.com/rasterio/rasterio/pull/1412", "diff_url": "https://github.com/rasterio/rasterio/pull/1412.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1412.patch", "merged_at": "2018-07-20T17:59:25Z"}, "body": "Adding LERC compression enum for when LERC is supported by GDAL.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1412/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1411", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1411/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1411/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1411/events", "html_url": "https://github.com/rasterio/rasterio/issues/1411", "id": 342704115, "node_id": "MDU6SXNzdWUzNDI3MDQxMTU=", "number": 1411, "title": "transform_bounds and precision", "user": {"login": "thomascoquet", "id": 7583487, "node_id": "MDQ6VXNlcjc1ODM0ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/7583487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomascoquet", "html_url": "https://github.com/thomascoquet", "followers_url": "https://api.github.com/users/thomascoquet/followers", "following_url": "https://api.github.com/users/thomascoquet/following{/other_user}", "gists_url": "https://api.github.com/users/thomascoquet/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomascoquet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomascoquet/subscriptions", "organizations_url": "https://api.github.com/users/thomascoquet/orgs", "repos_url": "https://api.github.com/users/thomascoquet/repos", "events_url": "https://api.github.com/users/thomascoquet/events{/privacy}", "received_events_url": "https://api.github.com/users/thomascoquet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/61", "html_url": "https://github.com/rasterio/rasterio/milestone/61", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/61/labels", "id": 3517557, "node_id": "MDk6TWlsZXN0b25lMzUxNzU1Nw==", "number": 61, "title": "1.0.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2018-07-23T18:54:11Z", "updated_at": "2018-07-23T21:30:23Z", "due_on": null, "closed_at": "2018-07-23T21:30:23Z"}, "comments": 1, "created_at": "2018-07-19T12:18:19Z", "updated_at": "2018-07-23T19:33:31Z", "closed_at": "2018-07-23T19:33:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nExpecting identity for the function `transform_bounds` when  both CRS are equals.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\ntransform_bounds(\"+init=epsg:3857\", \"+init=epsg:3857\", 12978395.906596646, \r\n                 146759.09430753812, 12983287.876406897, 151651.06411778927)\r\n```\r\n\r\nreturns \r\n\r\n`(12978395.906596646, 146759.09375, 12983287.876406897, 151651.06411778927)`\r\n\r\nReason : loss of precision because of using np.float32 [here](https://github.com/mapbox/rasterio/blob/master/rasterio/warp.py#L163)\r\n\r\n## Operating system\r\n\r\nWindows.\r\n\r\n## Rasterio version and provenance\r\n\r\n1.0.0b3\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1411/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1411/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1409", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1409/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1409/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1409/events", "html_url": "https://github.com/rasterio/rasterio/pull/1409", "id": 341907098, "node_id": "MDExOlB1bGxSZXF1ZXN0MjAxOTMxODE1", "number": 1409, "title": "Add new dimensions parameter to the calculate_default_transform function", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/62", "html_url": "https://github.com/rasterio/rasterio/milestone/62", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/62/labels", "id": 3520383, "node_id": "MDk6TWlsZXN0b25lMzUyMDM4Mw==", "number": 62, "title": "1.0.2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2018-07-24T17:00:34Z", "updated_at": "2018-07-27T18:44:25Z", "due_on": null, "closed_at": "2018-07-27T18:44:25Z"}, "comments": 3, "created_at": "2018-07-17T12:55:14Z", "updated_at": "2018-07-24T19:50:36Z", "closed_at": "2018-07-24T19:49:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1409", "html_url": "https://github.com/rasterio/rasterio/pull/1409", "diff_url": "https://github.com/rasterio/rasterio/pull/1409.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1409.patch", "merged_at": "2018-07-24T19:49:40Z"}, "body": "The rationale of this feature is located here: https://rasterio.groups.io/g/main/message/12", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1409/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1408", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1408/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1408/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1408/events", "html_url": "https://github.com/rasterio/rasterio/issues/1408", "id": 339367552, "node_id": "MDU6SXNzdWUzMzkzNjc1NTI=", "number": 1408, "title": "Doc page \"Windowed reading and writing\" missing closing bracket", "user": {"login": "tobijjah", "id": 11751651, "node_id": "MDQ6VXNlcjExNzUxNjUx", "avatar_url": "https://avatars.githubusercontent.com/u/11751651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobijjah", "html_url": "https://github.com/tobijjah", "followers_url": "https://api.github.com/users/tobijjah/followers", "following_url": "https://api.github.com/users/tobijjah/following{/other_user}", "gists_url": "https://api.github.com/users/tobijjah/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobijjah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobijjah/subscriptions", "organizations_url": "https://api.github.com/users/tobijjah/orgs", "repos_url": "https://api.github.com/users/tobijjah/repos", "events_url": "https://api.github.com/users/tobijjah/events{/privacy}", "received_events_url": "https://api.github.com/users/tobijjah/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2018-07-09T09:15:16Z", "updated_at": "2018-07-09T16:46:24Z", "closed_at": "2018-07-09T16:45:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\nGreetings,\r\n\r\nsubsection **\"Writing\"** code example is\r\n```Python\r\ndst.write(image, window=Window(50, 30, 250, 150, indexes=1)\r\n```\r\nshould be\r\n```Python\r\ndst.write(image, window=Window(50, 30, 250, 150), indexes=1)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1408/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1408/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1401", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1401/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1401/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1401/events", "html_url": "https://github.com/rasterio/rasterio/issues/1401", "id": 338409698, "node_id": "MDU6SXNzdWUzMzg0MDk2OTg=", "number": 1401, "title": "dfWarpMemoryLimit issue", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2018-07-05T02:42:23Z", "updated_at": "2018-07-05T17:19:49Z", "closed_at": "2018-07-05T17:19:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using `warp_mem_limit=4000` in `rasterio.warp.reproject` causes the following error:\r\n\r\n```\r\nCPLE_IllegalArgError: GDALWarpOptions.Validate(): dfWarpMemoryLimit=-1.00663e+08 is unreasonably small.\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu 16.04.4 LTS\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio==1.0rc2\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1401/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1397", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1397/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1397/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1397/events", "html_url": "https://github.com/rasterio/rasterio/issues/1397", "id": 337725478, "node_id": "MDU6SXNzdWUzMzc3MjU0Nzg=", "number": 1397, "title": "No CRSError when using CRS.from_wkt with Proj.4 string (1.0rc1)", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/75", "html_url": "https://github.com/rasterio/rasterio/milestone/75", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/75/labels", "id": 3903161, "node_id": "MDk6TWlsZXN0b25lMzkwMzE2MQ==", "number": 75, "title": "1.0.14", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2018-12-15T01:08:16Z", "updated_at": "2019-01-25T20:55:17Z", "due_on": null, "closed_at": "2019-01-25T20:55:17Z"}, "comments": 1, "created_at": "2018-07-03T02:40:38Z", "updated_at": "2019-01-22T20:13:26Z", "closed_at": "2019-01-22T20:13:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\nExpected:\r\n```\r\n>>> from rasterio.crs import CRS\r\n>>> pp = CRS.from_wkt(\"+init=epsg:26915\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"rasterio/_crs.pyx\", line 102, in rasterio._crs._CRS.from_wkt\r\nrasterio.errors.CRSError: Invalid WKT: +init=epsg:26915\")\r\n```\r\nActual:\r\n```\r\n>>> from rasterio.crs import CRS\r\n>>> pp = CRS.from_wkt(\"+init=epsg:26915\")\r\n>>> pp.to_string()\r\n'+ellps=GRS80 +no_defs +proj=utm +towgs84=0,0,0,0,0,0,0 +units=m +zone=15'\r\n``` \r\n\r\n## Steps to reproduce the problem.\r\nSee above.\r\n\r\n## Operating system\r\n\r\nUbuntu 16.0.4\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio                  1.0rc1                   py36_0    conda-forge/label/dev.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1397/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1397/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1382", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1382/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1382/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1382/events", "html_url": "https://github.com/rasterio/rasterio/issues/1382", "id": 334183072, "node_id": "MDU6SXNzdWUzMzQxODMwNzI=", "number": 1382, "title": "WarpedVRT constructor should fail immediately when src.count is 1 and add_alpha=True", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/59", "html_url": "https://github.com/rasterio/rasterio/milestone/59", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/59/labels", "id": 3438834, "node_id": "MDk6TWlsZXN0b25lMzQzODgzNA==", "number": 59, "title": "1.0b3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2018-06-20T14:19:29Z", "updated_at": "2018-06-22T06:02:12Z", "due_on": null, "closed_at": "2018-06-22T06:02:12Z"}, "comments": 1, "created_at": "2018-06-20T17:40:09Z", "updated_at": "2018-06-20T18:23:50Z", "closed_at": "2018-06-20T18:16:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As far as I know, GDAL requires alpha bands to be the 4th band of a dataset.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1382/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1380", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1380/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1380/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1380/events", "html_url": "https://github.com/rasterio/rasterio/issues/1380", "id": 333940755, "node_id": "MDU6SXNzdWUzMzM5NDA3NTU=", "number": 1380, "title": "Rasterio coerces netCDF uint8 data to float32", "user": {"login": "felipk101", "id": 5178605, "node_id": "MDQ6VXNlcjUxNzg2MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5178605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/felipk101", "html_url": "https://github.com/felipk101", "followers_url": "https://api.github.com/users/felipk101/followers", "following_url": "https://api.github.com/users/felipk101/following{/other_user}", "gists_url": "https://api.github.com/users/felipk101/gists{/gist_id}", "starred_url": "https://api.github.com/users/felipk101/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/felipk101/subscriptions", "organizations_url": "https://api.github.com/users/felipk101/orgs", "repos_url": "https://api.github.com/users/felipk101/repos", "events_url": "https://api.github.com/users/felipk101/events{/privacy}", "received_events_url": "https://api.github.com/users/felipk101/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 17, "created_at": "2018-06-20T06:30:49Z", "updated_at": "2018-07-16T02:40:20Z", "closed_at": "2018-06-20T15:07:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behavior:\r\nWhen rasterio opens netCDF variable of type uint8 it returns an array of type uint8.\r\n\r\n## Actual Behavior\r\nWhen rasterio opens netCDF variable of type uint8 it returns an array of type float32.\r\n\r\nSteps to reproduce the problem.\r\nPlease see attached notebook example and sample netcdf file with variables of uint8\r\n\r\n## Operating system\r\n\r\nBoth windows 10 and ubuntu\r\n\r\n## Rasterio version and provenance\r\n\r\npip install of rasterio version 0.36.0 and 1.0b1\r\n[rasterioIssue.zip](https://github.com/mapbox/rasterio/files/2118115/rasterioIssue.zip)\r\n![sample script](https://user-images.githubusercontent.com/5178605/41641023-2d543dd6-74a7-11e8-9b63-08253d97772b.jpg)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1380/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1380/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1378", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1378/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1378/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1378/events", "html_url": "https://github.com/rasterio/rasterio/pull/1378", "id": 332904196, "node_id": "MDExOlB1bGxSZXF1ZXN0MTk1Mjc1MTcy", "number": 1378, "title": "VRT XML implementation of boundless reads", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-15T20:27:08Z", "updated_at": "2018-06-16T20:55:42Z", "closed_at": "2018-06-16T20:55:27Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1378", "html_url": "https://github.com/rasterio/rasterio/pull/1378", "diff_url": "https://github.com/rasterio/rasterio/pull/1378.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1378.patch", "merged_at": "2018-06-16T20:55:26Z"}, "body": "This resolves #1266.\r\n\r\n<img width=\"1085\" alt=\"untitled\" src=\"https://user-images.githubusercontent.com/33697/41501877-c8ce42c0-7169-11e8-93c6-7055100eab61.png\">\r\n\r\nWe're no longer using WarpedVRT internally and I've removed some features added to the class that were intended to support boundless reads and haven't been needed otherwise.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1378/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1378/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1377", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1377/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1377/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1377/events", "html_url": "https://github.com/rasterio/rasterio/issues/1377", "id": 332653174, "node_id": "MDU6SXNzdWUzMzI2NTMxNzQ=", "number": 1377, "title": "Change in behaviour of `zip:` url parsing in 1.0b1", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/59", "html_url": "https://github.com/rasterio/rasterio/milestone/59", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/59/labels", "id": 3438834, "node_id": "MDk6TWlsZXN0b25lMzQzODgzNA==", "number": 59, "title": "1.0b3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2018-06-20T14:19:29Z", "updated_at": "2018-06-22T06:02:12Z", "due_on": null, "closed_at": "2018-06-22T06:02:12Z"}, "comments": 1, "created_at": "2018-06-15T05:46:49Z", "updated_at": "2018-06-20T19:20:16Z", "closed_at": "2018-06-20T19:20:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In `1.0a12`\r\n\r\n```python\r\nfrom rasterio.vfs import parse_path, vsi_path\r\nurl = 'zip:///path/to/zip/some.zip!path/to/file.txt'\r\nvsi_path(*parse_path(url))\r\n```\r\n\r\nproduced vsi path like this: `/vsizip//path/to/zip/some.zip/path/to/file.txt`\r\n\r\nBut in `1.0b1` this code\r\n```python\r\nfrom rasterio.path import parse_path, vsi_path\r\nurl = 'zip:///path/to/zip/some.zip!path/to/file.txt'\r\nvsi_path(parse_path(url))\r\n```\r\nproduces vsi path like this: `/vsizip//path/to/zip/some.zippath/to/file.txt`\r\n\r\nAbsolute path after `!` is now assumed and required, which is fine if this is intended, but probably worth detecting that in url parsing code and raising an error at that point.\r\n\r\nI also noticed that at least some of the docs on the topic don't have absolute paths after `!` https://github.com/mapbox/rasterio/blob/694b7efc56a49d46d70b78cd5edb15aa33e84033/docs/topics/switch.rst#dataset-identifiers\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1377/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1376", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1376/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1376/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1376/events", "html_url": "https://github.com/rasterio/rasterio/issues/1376", "id": 332456875, "node_id": "MDU6SXNzdWUzMzI0NTY4NzU=", "number": 1376, "title": "Internal geotiff tiling ignored if image dimensions equal the block size.", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/88", "html_url": "https://github.com/rasterio/rasterio/milestone/88", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/88/labels", "id": 4614700, "node_id": "MDk6TWlsZXN0b25lNDYxNDcwMA==", "number": 88, "title": "1.0.27", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2019-08-29T20:53:07Z", "updated_at": "2019-09-06T00:18:40Z", "due_on": null, "closed_at": "2019-09-06T00:18:40Z"}, "comments": 3, "created_at": "2018-06-14T15:38:16Z", "updated_at": "2019-09-06T00:18:22Z", "closed_at": "2019-09-06T00:18:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nCreating a dataset with\r\n\r\n```\r\n{\r\n  'driver': 'GTiff',\r\n  'width': 128,\r\n  'height': 128,\r\n  'tiled': True,\r\n  'blockxsize': 128,\r\n  'blockysize': 128,\r\n  ...\r\n}\r\n```\r\n\r\nshould result in an output tiff where `src.is_tiled == True` and a profile with the `tiled`, `blockxsize` and `blockysize` present.\r\n\r\nIf the dimensions are equal to the blocksize, this assertion fails. \r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\n#!/usr/bin/env python\r\nfrom pprint import pprint\r\nfrom functools import reduce\r\nimport operator\r\n\r\nimport numpy as np\r\n\r\nfrom affine import Affine\r\nfrom rasterio.crs import CRS\r\nimport rasterio\r\n\r\n\r\nimage_shape = (4, 128, 128)\r\nblocksizes = (128, 128)\r\nsize = reduce(operator.mul, image_shape, 1)\r\n\r\narr = (\r\n    np.random.randint(low=-0, high=255, size=size)\r\n    .astype(\"uint8\")\r\n    .reshape(image_shape)\r\n)\r\n\r\noptions = {\r\n    \"driver\": \"GTiff\",\r\n    \"dtype\": \"uint8\",\r\n    \"nodata\": None,\r\n    \"count\": image_shape[0],\r\n    \"width\": image_shape[1],\r\n    \"height\": image_shape[2],\r\n    \"crs\": CRS({\"init\": \"epsg:3857\"}),\r\n    \"transform\": Affine(600, 0.0, -20037508, 0.0, -600, -939258),\r\n    \"tiled\": True,\r\n    \"compress\": \"JPEG\",\r\n    \"interleave\": \"pixel\",\r\n    \"blockxsize\": blocksizes[0],\r\n    \"blockysize\": blocksizes[1],\r\n}\r\n\r\n\r\nwith rasterio.open('/tmp/out.tif', 'w', **options) as dst:\r\n    dst.write(arr)\r\n\r\nwith rasterio.open('/tmp/out.tif', 'r') as test_src:\r\n    pprint(test_src.profile)\r\n    assert test_src.is_tiled\r\n```\r\n\r\n## Analysis\r\n\r\nThe definition of `is_tiled` will cause this case to be false. https://github.com/mapbox/rasterio/blob/ea61719f1d524670739f20969d21d2622e1f857d/rasterio/_base.pyx#L853 \r\n\r\nWhich is then used to generate the profile https://github.com/mapbox/rasterio/blob/ea61719f1d524670739f20969d21d2622e1f857d/rasterio/_base.pyx#L873-L877\r\n\r\nSo for the special case of image dims == block sizes, the output dataset will appear untiled to Rasterio users.\r\n\r\nIs there a reason to compare blocksize to width? If not, we could just change to implementation of `is_tiled` to avoid this case.\r\n\r\n## Operating system\r\n\r\nMac and Linux.\r\n\r\n## Rasterio version and provenance\r\n\r\nthe 1.0b1 from source, GDAL 2.2.3\r\n\r\ncc @normanb @vincentsarago @sgillies ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1376/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1369", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1369/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1369/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1369/events", "html_url": "https://github.com/rasterio/rasterio/pull/1369", "id": 329690169, "node_id": "MDExOlB1bGxSZXF1ZXN0MTkyODg1MjE2", "number": 1369, "title": "Get boundless mask reads right in the presence of .msk", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-06-06T02:40:34Z", "updated_at": "2018-06-15T21:35:17Z", "closed_at": "2018-06-15T21:35:13Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1369", "html_url": "https://github.com/rasterio/rasterio/pull/1369", "diff_url": "https://github.com/rasterio/rasterio/pull/1369.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1369.patch", "merged_at": null}, "body": "@vincentsarago I've added a test that reproduces the situation in your Jupyter notebook.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1369/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1369/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1363", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1363/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1363/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1363/events", "html_url": "https://github.com/rasterio/rasterio/issues/1363", "id": 328443947, "node_id": "MDU6SXNzdWUzMjg0NDM5NDc=", "number": 1363, "title": "Get AttributeError: 'str' object has no attribute 'value' when merge_alg passed as a string in rasterize()", "user": {"login": "ClementPeyrardGSI", "id": 30624005, "node_id": "MDQ6VXNlcjMwNjI0MDA1", "avatar_url": "https://avatars.githubusercontent.com/u/30624005?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ClementPeyrardGSI", "html_url": "https://github.com/ClementPeyrardGSI", "followers_url": "https://api.github.com/users/ClementPeyrardGSI/followers", "following_url": "https://api.github.com/users/ClementPeyrardGSI/following{/other_user}", "gists_url": "https://api.github.com/users/ClementPeyrardGSI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ClementPeyrardGSI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ClementPeyrardGSI/subscriptions", "organizations_url": "https://api.github.com/users/ClementPeyrardGSI/orgs", "repos_url": "https://api.github.com/users/ClementPeyrardGSI/repos", "events_url": "https://api.github.com/users/ClementPeyrardGSI/events{/privacy}", "received_events_url": "https://api.github.com/users/ClementPeyrardGSI/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-06-01T09:21:28Z", "updated_at": "2018-06-01T15:13:40Z", "closed_at": "2018-06-01T15:13:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nAs (still) stated in comments / documentation, one should be able to use a `str` (`'REPLACE` or `ADD`) to characterize the merge algorithms in `features.rasterize()`.\r\nHowever, the following error is thrown if a string is passed:\r\n\r\n`AttributeError: 'str' object has no attribute 'value'`\r\n\r\nIt seems that from rasterio 1.0b1, `_features/_rasterize.pyx`, features need to be as follows:\r\n```\r\n    merge_alg : str, required  # confusing\r\n        Merge algorithm to use.  One of:\r\n            MergeAlg.replace (default): the new value will overwrite the\r\n                existing value.\r\n            MergeAlg.add: the new value will be added to the existing raster.\r\n```\r\n\r\nSwitching to one of `MergeAlg.replace`, `MergeAlg.add` solves the problem.\r\n\r\nHowever, it might be interesting to keep the strings for retro-compatibility ?\r\n\r\nI guess that a check on the type of the passed argument could raise a more useful warning, and doc should be updated ? I just switched to 1.0b1, so I'm unsure about where the issue should be handled (`.py` or `.pyx`).\r\n\r\n## Steps to reproduce the problem.\r\n\r\n`rasterize(dataset, merge_alg=\"REPLACE\")`\r\n\r\n## Operating system\r\n\r\nUbuntu / Conda\r\n\r\n## Rasterio version and provenance\r\n\r\n1.0b1\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1363/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1363/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1361", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1361/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1361/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1361/events", "html_url": "https://github.com/rasterio/rasterio/pull/1361", "id": 327984121, "node_id": "MDExOlB1bGxSZXF1ZXN0MTkxNjM3MTA0", "number": 1361, "title": "WIP: Warped vrt dataset mask", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-31T03:51:13Z", "updated_at": "2018-06-04T15:36:10Z", "closed_at": "2018-06-04T15:36:05Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1361", "html_url": "https://github.com/rasterio/rasterio/pull/1361", "diff_url": "https://github.com/rasterio/rasterio/pull/1361.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1361.patch", "merged_at": "2018-06-04T15:36:05Z"}, "body": "Previously, the VRT's warper only paid attention to the source's nodata values. If the source didn't have a nodata value, the VRT would be unmasked (all valid) whether it had a mask (internal or .msk) or not. Now we recognize the masked source situation and do the right thing by default, which is to create an alpha band for the VRT if it has 3 bands.\r\n\r\nFor sources like the L8 PDS, which have no nodata values and no masks, a nodata value must be passed to the WarpedVRT constructor like:\r\n\r\n```python\r\nwith rasterio.open('s3://landsat-pds/L8/139/045/LC81390452014295LGN00/LC81390452014295LGN00_B1.TIF') as src:\r\n    with WarpedVRT(src, crs='EPSG:3857', nodata=0) as vrt:\r\n        print(vrt.mask_flag_enums)\r\n\r\n# printed: ([<MaskFlags.nodata: 8>],)\r\n# otherwise, without nodata=0, the printed value would be: ([<MaskFlags.all_valid: 1>],)\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1361/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1361/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1359", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1359/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1359/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1359/events", "html_url": "https://github.com/rasterio/rasterio/issues/1359", "id": 327911330, "node_id": "MDU6SXNzdWUzMjc5MTEzMzA=", "number": 1359, "title": "rasterio.open() mode='w+' results in no geotransform assignment", "user": {"login": "rbavery", "id": 22258697, "node_id": "MDQ6VXNlcjIyMjU4Njk3", "avatar_url": "https://avatars.githubusercontent.com/u/22258697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbavery", "html_url": "https://github.com/rbavery", "followers_url": "https://api.github.com/users/rbavery/followers", "following_url": "https://api.github.com/users/rbavery/following{/other_user}", "gists_url": "https://api.github.com/users/rbavery/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbavery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbavery/subscriptions", "organizations_url": "https://api.github.com/users/rbavery/orgs", "repos_url": "https://api.github.com/users/rbavery/repos", "events_url": "https://api.github.com/users/rbavery/events{/privacy}", "received_events_url": "https://api.github.com/users/rbavery/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/59", "html_url": "https://github.com/rasterio/rasterio/milestone/59", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/59/labels", "id": 3438834, "node_id": "MDk6TWlsZXN0b25lMzQzODgzNA==", "number": 59, "title": "1.0b3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2018-06-20T14:19:29Z", "updated_at": "2018-06-22T06:02:12Z", "due_on": null, "closed_at": "2018-06-22T06:02:12Z"}, "comments": 3, "created_at": "2018-05-30T21:47:38Z", "updated_at": "2018-06-20T19:01:36Z", "closed_at": "2018-06-20T19:01:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI'm running rasterio 1.0b1, gdal 2.2.2 on Ubuntu from the ubuntugis repository.\r\nI suspect that there is an error with how rasterio is assigning geotransform information to a newly opened raster based on whether it is opened in 'w' mode or 'w+' mode. The following is my code, error is occurring in the bottom for loop where I assign metadata from one raster that already exists to another that I create from rasterizing some shapefiles:\r\n\r\n```python\r\nimport` os\r\nimport gdal\r\nimport matplotlib.pyplot as plt\r\nimport geopandas as gpd\r\nfrom rasterio import features, coords, plot\r\nimport rasterio\r\nfrom shapely.geometry import shape\r\n%matplotlib inline\r\n######following this example: https://gis.stackexchange.com/questions/151339/rasterize-a-shapefile-with-geopandas-or-fiona-python\r\nROOT_DIR = \"/home/rave/deeplearn_imagery/data/raw/stephtest/\"\r\nos.chdir(ROOT_DIR)\r\nWV2_LABEL_DIR = 'merged_digitized_labels_raster_extents/'\r\nWV2_IMAGERY_DIR = 'projectedtiffs/'\r\nGRID_PATH = 'wv2_boxes.shp'\r\nRASTERIZED_PATH = 'rasterized_wv2_labels/'\r\nOUT_PATH = 'gridded_wv2_labels/'\r\n# all files, only the projected images\r\nitems = os.listdir(WV2_LABEL_DIR)\r\n\r\nmerged_list = []\r\nfor name in items:\r\n    if name.endswith(\".shp\"):\r\n        merged_list.append(WV2_LABEL_DIR+name)  \r\n\r\ndef takefirst(elem):\r\n    return int(elem[-10])\r\n\r\nshp_list = sorted(merged_list, key=takefirst)\r\n\r\n# list the projected images, just growing season\r\nscenes = os.listdir(WV2_IMAGERY_DIR)\r\n\r\nmerged_list = []\r\nfor name in scenes:\r\n    if \"GS\" in name and \"xml\" not in name:\r\n        merged_list.append(WV2_IMAGERY_DIR+name)  \r\n\r\ndef takefirst_two(elem):\r\n    return int(elem[-12:-10])\r\n\r\nimg_list = sorted(merged_list, key=takefirst_two)\r\n\r\n# reading in a single gridded raster\r\n# need to negative buffer the shape bounds by a distance calced by geopy that is not too large and is determined by lat lon of img\r\n# bandlist = []\r\n# with rasterio.open(sortedlist[0]) as src:\r\n#     for band in src.read():\r\n#         bandlist.append(band)\r\n#     img_bounds = tuple(src.bounds)\r\n\r\nfor shp_path, img_path in zip(shp_list, img_list):\r\n    \r\n    shp_frame = gpd.read_file(shp_path)\r\n    \r\n    with rasterio.open(img_path) as rast:\r\n        meta = rast.meta.copy()\r\n        meta.update(compress=\"lzw\")\r\n        meta['count'] = 1\r\n        print(meta)\r\n        \r\n    rasterized_name = img_path[-12:-3]+\"tif\"\r\n    with rasterio.open(RASTERIZED_PATH+rasterized_name, 'w', **meta) as out:\r\n            out_arr = out.read(1)\r\n            print(out)\r\n            # this is where we create a generator of geom, value pairs to use in rasterizing\r\n            shapes = ((geom,value) for geom, value in zip(shp_frame.geometry, shp_frame.DN))\r\n\r\n            burned = features.rasterize(shapes=shapes, fill=0, out=out_arr, transform=out.transform)\r\n            out.write_band(1, burned)\r\n```\r\n\r\nWhen I run with mode = 'w', as in the code snippet, it works and outputs new georeferenced tifs but with the following warning:\r\n\r\n`/home/rave/anaconda3/lib/python3.6/site-packages/ipykernel/__main__.py:63: RasterioDeprecationWarning: Reading from datasets opened in 'w' mode will not be allowed in the next version. Use 'w+' mode instead.`\r\n\r\nWhen I change to mode = 'w+' I get a different warning and now my tifs are not georeferenced (I deleted tifs from previous runs for a fresh start):\r\n\r\n`/home/rave/anaconda3/lib/python3.6/site-packages/rasterio/__init__.py:230: NotGeoreferencedWarning: Dataset has no geotransform set. The identity matrix may be returned.\r\n  **kwargs)`\r\n\r\nBut I clearly do have the same transform info in my meta variable,a nd this worked when mode='w'. I print the meta variable at each iteration to show that the transform information is there and it is, her eis an example:\r\n'{'driver': 'GTiff', 'dtype': 'float64', 'nodata': -1.7e+308, 'width': 2525, 'height': 2301, 'count': 1, 'crs': CRS({'init': 'epsg:4326'}), 'transform': Affine(1.8973860863784435e-05, 0.0, 27.96125303928476,\r\n       0.0, -1.8973860863784435e-05, -25.003137672108767), 'compress': 'lzw'}'\r\n\r\nHope this helps, I think this is an actual bug but it may be a misunderstanding on my part. I can't include the raster data to reproduce the example, apologies.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1359/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1357", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1357/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1357/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1357/events", "html_url": "https://github.com/rasterio/rasterio/pull/1357", "id": 327715768, "node_id": "MDExOlB1bGxSZXF1ZXN0MTkxNDQxMTky", "number": 1357, "title": "CRS bug fixes, new features, and deprecations", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167170, "node_id": "MDU6TGFiZWw2NDE2NzE3MA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/enhancement", "name": "enhancement", "color": "00449e", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2018-05-30T12:49:20Z", "updated_at": "2018-05-30T16:49:05Z", "closed_at": "2018-05-30T16:48:59Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1357", "html_url": "https://github.com/rasterio/rasterio/pull/1357", "diff_url": "https://github.com/rasterio/rasterio/pull/1357.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1357.patch", "merged_at": "2018-05-30T16:48:59Z"}, "body": "1.0b1 introduced a change in how CRS objects are compared to other objects, removing the ability to compare them to strings. We've restored this, but deprecated such usage: in 1.0 we're going to require tests like `CRS('EPSG:4326') == CRS('EPSG:4326')` and disallow `CRS('EPSG:4326') == 'EPSG:4326'`.\r\n\r\nThe WarpedVRT class and its tests needed to be updated to the new usage.\r\n\r\nI've added a new CRS classmethod, `from_user_input` (analogous to the GDAL API function) that will make a CRS from almost any kind of input you'll see on the command line. It's used in the WarpedVRT constructor.\r\n\r\nMoving the classmethods to the base _CRS class seemed appropriate as I was developing the new function.\r\n\r\nI've also added a feature to the `from_string` class method: it will now accept WKT strings.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1357/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1357/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1350", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1350/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1350/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1350/events", "html_url": "https://github.com/rasterio/rasterio/issues/1350", "id": 325163110, "node_id": "MDU6SXNzdWUzMjUxNjMxMTA=", "number": 1350, "title": "Reproject fails with multi-band geotiff when reading band > 1", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 3, "created_at": "2018-05-22T06:57:06Z", "updated_at": "2018-09-21T15:32:19Z", "closed_at": "2018-09-21T15:32:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nWhen calling reproject on a band other than 1 reproject returns the same result as for band 1.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nhttps://gist.github.com/Kirill888/4021efe5b2a9c4de1946116eb31af3d4\r\n\r\n## Operating system\r\n\r\nLinux Ubuntu 16.04\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio -- 1.0a12\r\ngdal 2.2.3\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1350/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1337", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1337/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1337/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1337/events", "html_url": "https://github.com/rasterio/rasterio/issues/1337", "id": 320890490, "node_id": "MDU6SXNzdWUzMjA4OTA0OTA=", "number": 1337, "title": "Port GDAL_DATA improvements from Fiona", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2018-05-07T17:38:16Z", "updated_at": "2018-05-08T03:01:53Z", "closed_at": "2018-05-08T03:01:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://github.com/Toblerity/Fiona/pull/585.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1337/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1333", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1333/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1333/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1333/events", "html_url": "https://github.com/rasterio/rasterio/issues/1333", "id": 319214438, "node_id": "MDU6SXNzdWUzMTkyMTQ0Mzg=", "number": 1333, "title": "Python crashes while building overviews", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/66", "html_url": "https://github.com/rasterio/rasterio/milestone/66", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/66/labels", "id": 3675803, "node_id": "MDk6TWlsZXN0b25lMzY3NTgwMw==", "number": 66, "title": "1.0.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2018-09-20T19:47:56Z", "updated_at": "2018-09-24T20:44:55Z", "due_on": null, "closed_at": "2018-09-24T20:44:55Z"}, "comments": 2, "created_at": "2018-05-01T14:32:53Z", "updated_at": "2018-09-24T20:43:48Z", "closed_at": "2018-09-24T20:43:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "After performing the below code Python crashes:\r\n\r\n```python\r\nimport rasterio\r\nfrom rasterio.enums import Resampling\r\n\r\nfactors = [2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096]\r\ndst = rasterio.open('rasterio/tests/data/RGB.byte.tif', 'r+')\r\ndst.build_overviews(factors, Resampling.average)\r\n```\r\n\r\n```\r\n*** Error in `python': malloc(): memory corruption: 0x0000000002e0f9c0 ***\r\n======= Backtrace: =========\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7fbe1c3fd7e5]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x8213e)[0x7fbe1c40813e]\r\n/lib/x86_64-linux-gnu/libc.so.6(__libc_malloc+0x54)[0x7fbe1c40a184]\r\n/home/rykov/sandbox/env/lib/python3.5/site-packages/rasterio/.libs/libgdal-acedaae2.so.20.3.1(CPLMalloc+0x20)[0x7fbe19ab2700]\r\n/home/rykov/sandbox/env/lib/python3.5/site-packages/rasterio/.libs/libgdal-acedaae2.so.20.3.1(CPLCalloc+0x1c)[0x7fbe19ab27ac]\r\n/home/rykov/sandbox/env/lib/python3.5/site-packages/rasterio/.libs/libgdal-acedaae2.so.20.3.1(_ZN12GTiffDataset15IBuildOverviewsEPKciPiiS2_PFidS1_PvES3_+0x10f0)[0x7fbe19554bd0]\r\n/home/rykov/sandbox/env/lib/python3.5/site-packages/rasterio/.libs/libgdal-acedaae2.so.20.3.1(_ZN11GDALDataset14BuildOverviewsEPKciPiiS2_PFidS1_PvES3_+0x38)[0x7fbe198059f8]\r\n/home/rykov/sandbox/env/lib/python3.5/site-packages/rasterio/_io.cpython-35m-x86_64-linux-gnu.so(+0x3613a)[0x7fbe0595713a]\r\npython(PyCFunction_Call+0x77)[0x4e9ba7]\r\npython(PyEval_EvalFrameEx+0x614)[0x5372f4]\r\npython[0x540199]\r\npython(PyEval_EvalCode+0x1f)[0x540e4f]\r\npython[0x60c272]\r\npython(PyRun_InteractiveOneObject+0x2b1)[0x46b89f]\r\npython(PyRun_InteractiveLoopFlags+0xe8)[0x46ba48]\r\npython[0x46cfa0]\r\npython[0x4cf2bd]\r\npython(main+0xe1)[0x4cfeb1]\r\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0)[0x7fbe1c3a6830]\r\npython(_start+0x29)[0x5d6049]\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1333/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1332", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1332/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1332/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1332/events", "html_url": "https://github.com/rasterio/rasterio/pull/1332", "id": 317688704, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg0MDgyMzQw", "number": 1332, "title": "Do not include saved open options in a dataset's profile", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 4, "created_at": "2018-04-25T15:50:42Z", "updated_at": "2018-05-24T17:05:53Z", "closed_at": "2018-05-08T21:19:58Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1332", "html_url": "https://github.com/rasterio/rasterio/pull/1332", "diff_url": "https://github.com/rasterio/rasterio/pull/1332.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1332.patch", "merged_at": "2018-05-08T21:19:58Z"}, "body": "Saving opening options passed to `open` as tags on the opened dataset can be misleading because opening options are always driver-specific and may be ignored or overridden. If added back into the dataset's `profile`, these options may \"lie\" to other functions that use the dataset's profile.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1332/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1332/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1330", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1330/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1330/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1330/events", "html_url": "https://github.com/rasterio/rasterio/issues/1330", "id": 316510662, "node_id": "MDU6SXNzdWUzMTY1MTA2NjI=", "number": 1330, "title": "Square test image hinders finding dimension bugs", "user": {"login": "j08lue", "id": 3404817, "node_id": "MDQ6VXNlcjM0MDQ4MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/3404817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j08lue", "html_url": "https://github.com/j08lue", "followers_url": "https://api.github.com/users/j08lue/followers", "following_url": "https://api.github.com/users/j08lue/following{/other_user}", "gists_url": "https://api.github.com/users/j08lue/gists{/gist_id}", "starred_url": "https://api.github.com/users/j08lue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j08lue/subscriptions", "organizations_url": "https://api.github.com/users/j08lue/orgs", "repos_url": "https://api.github.com/users/j08lue/repos", "events_url": "https://api.github.com/users/j08lue/events{/privacy}", "received_events_url": "https://api.github.com/users/j08lue/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 337782406, "node_id": "MDU6TGFiZWwzMzc3ODI0MDY=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/testing", "name": "testing", "color": "fef2c0", "default": false, "description": null}, {"id": 4911356569, "node_id": "LA_kwDOANdm_M8AAAABJL1amQ", "url": "https://api.github.com/repos/rasterio/rasterio/labels/decision", "name": "decision", "color": "BEE734", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-21T17:43:01Z", "updated_at": "2022-12-15T02:18:13Z", "closed_at": "2022-12-15T02:18:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We currently use a square test image, such that for example bugs where dimensions are swapped may not get discovered (e.g. https://github.com/mapbox/rasterio/commit/07e1150bbf4bbdb9a330aca08c1475699ee7082c).\r\n\r\nAs discussed in https://github.com/mapbox/rasterio/pull/1226#issuecomment-350290196, we should fix this but in small steps to not drown in moving code.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1330/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1330/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1329", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1329/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1329/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1329/events", "html_url": "https://github.com/rasterio/rasterio/issues/1329", "id": 316486989, "node_id": "MDU6SXNzdWUzMTY0ODY5ODk=", "number": 1329, "title": "Missing tests for rio cli tools", "user": {"login": "eseglem", "id": 5920492, "node_id": "MDQ6VXNlcjU5MjA0OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5920492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eseglem", "html_url": "https://github.com/eseglem", "followers_url": "https://api.github.com/users/eseglem/followers", "following_url": "https://api.github.com/users/eseglem/following{/other_user}", "gists_url": "https://api.github.com/users/eseglem/gists{/gist_id}", "starred_url": "https://api.github.com/users/eseglem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eseglem/subscriptions", "organizations_url": "https://api.github.com/users/eseglem/orgs", "repos_url": "https://api.github.com/users/eseglem/repos", "events_url": "https://api.github.com/users/eseglem/events{/privacy}", "received_events_url": "https://api.github.com/users/eseglem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 337782406, "node_id": "MDU6TGFiZWwzMzc3ODI0MDY=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/testing", "name": "testing", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/121", "html_url": "https://github.com/rasterio/rasterio/milestone/121", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/121/labels", "id": 8765036, "node_id": "MI_kwDOANdm_M4Ahb5s", "number": 121, "title": "1.3.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2022-12-15T02:02:39Z", "updated_at": "2023-01-25T21:09:24Z", "due_on": null, "closed_at": "2023-01-25T21:09:24Z"}, "comments": 1, "created_at": "2018-04-21T12:11:47Z", "updated_at": "2023-01-24T17:54:17Z", "closed_at": "2023-01-24T17:54:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Bounds and Transform appear to have no tests of the cli tool itself. The coverage on the files is fine, however there are no tests at `tests/test_rio_bounds.py` or `tests/test_rio_transform.py` which the others commands have. \r\n\r\nAlso looks like it is missing for Env as well, but not sure if that is necessary? May want to add that as well.\r\n\r\nDiscovered this while working on #999 and trying to test to ensure nothing is breaking. They appear not to in other tools, but tests here would be necessary to ensure usage stays the same.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1329/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1328", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1328/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1328/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1328/events", "html_url": "https://github.com/rasterio/rasterio/issues/1328", "id": 316486214, "node_id": "MDU6SXNzdWUzMTY0ODYyMTQ=", "number": 1328, "title": "Standardize use of logging in rio", "user": {"login": "eseglem", "id": 5920492, "node_id": "MDQ6VXNlcjU5MjA0OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5920492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eseglem", "html_url": "https://github.com/eseglem", "followers_url": "https://api.github.com/users/eseglem/followers", "following_url": "https://api.github.com/users/eseglem/following{/other_user}", "gists_url": "https://api.github.com/users/eseglem/gists{/gist_id}", "starred_url": "https://api.github.com/users/eseglem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eseglem/subscriptions", "organizations_url": "https://api.github.com/users/eseglem/orgs", "repos_url": "https://api.github.com/users/eseglem/repos", "events_url": "https://api.github.com/users/eseglem/events{/privacy}", "received_events_url": "https://api.github.com/users/eseglem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2018-04-21T12:00:01Z", "updated_at": "2018-06-26T13:44:12Z", "closed_at": "2018-06-26T13:44:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The logging library is imported into some of the rio tools, but not all of them. Some have `logger = logging.getLogger('rio')` near the top of the file, and others have it inside the actual function. Additionally, Sapes and Bounds have it as `logger = logging.getLogger(__name__)`.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1328/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1321", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1321/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1321/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1321/events", "html_url": "https://github.com/rasterio/rasterio/pull/1321", "id": 314787937, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgxOTY1NDk1", "number": 1321, "title": "No more bytearray input for MemoryFile", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2018-04-16T19:32:22Z", "updated_at": "2018-04-16T19:35:04Z", "closed_at": "2018-04-16T19:35:00Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1321", "html_url": "https://github.com/rasterio/rasterio/pull/1321", "diff_url": "https://github.com/rasterio/rasterio/pull/1321.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1321.patch", "merged_at": "2018-04-16T19:35:00Z"}, "body": "It's turning out to be buggy and we don't need it. Users can convert to `bytes` as we're doing in the tests.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1321/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1313", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1313/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1313/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1313/events", "html_url": "https://github.com/rasterio/rasterio/issues/1313", "id": 312964236, "node_id": "MDU6SXNzdWUzMTI5NjQyMzY=", "number": 1313, "title": "Cannot retrieve CRS from GeoTIFF file", "user": {"login": "fxstempfel", "id": 23024838, "node_id": "MDQ6VXNlcjIzMDI0ODM4", "avatar_url": "https://avatars.githubusercontent.com/u/23024838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fxstempfel", "html_url": "https://github.com/fxstempfel", "followers_url": "https://api.github.com/users/fxstempfel/followers", "following_url": "https://api.github.com/users/fxstempfel/following{/other_user}", "gists_url": "https://api.github.com/users/fxstempfel/gists{/gist_id}", "starred_url": "https://api.github.com/users/fxstempfel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fxstempfel/subscriptions", "organizations_url": "https://api.github.com/users/fxstempfel/orgs", "repos_url": "https://api.github.com/users/fxstempfel/repos", "events_url": "https://api.github.com/users/fxstempfel/events{/privacy}", "received_events_url": "https://api.github.com/users/fxstempfel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-04-10T15:03:03Z", "updated_at": "2018-09-24T18:06:27Z", "closed_at": "2018-09-24T18:06:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI want to get CRS from a GeoTIFF file but it returns None. I know that the CRS is contained in the file because `gdalsrsinfo` returns the following:\r\n\r\n```\r\nroot@49818633db81:/datacube/original_data/S1A_IW_SLC__1SDV_20180409T070223_20180409T070249_021387_024D1C_406E.SAFE/measurement# gdalsrsinfo s1a-iw1-slc-vv-20180409t070224-20180409t070249-021387-024d1c-004.tiff \r\n\r\nPROJ.4 : '+proj=longlat +datum=WGS84 +no_defs '\r\n\r\nOGC WKT :\r\nGEOGCS[\"WGS 84\",\r\n    DATUM[\"WGS_1984\",\r\n        SPHEROID[\"unnamed\",6378137,298.2572235604902,\r\n            AUTHORITY[\"EPSG\",\"4326\"]],\r\n        AUTHORITY[\"EPSG\",\"6326\"]],\r\n    PRIMEM[\"Greenwich\",0],\r\n    UNIT[\"degree\",0.0174532925199433],\r\n    AUTHORITY[\"EPSG\",\"4326\"]]\r\n\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\n>>> import rasterio\r\n>>> with rasterio.open(\"s1a-iw1-slc-vh-20180409t070224-20180409t070249-021387-024d1c-001.tiff\") as img:\r\n...     print(img.crs)\r\n... \r\nNone\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu 16.04\r\n\r\n## Rasterio version and provenance\r\n\r\n1.0a12 from pip 9.0.3\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1313/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1307", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1307/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1307/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1307/events", "html_url": "https://github.com/rasterio/rasterio/pull/1307", "id": 311729191, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc5NzY1ODk5", "number": 1307, "title": "Pass precision to from_bounds in merge", "user": {"login": "jdmcbr", "id": 666108, "node_id": "MDQ6VXNlcjY2NjEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/666108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdmcbr", "html_url": "https://github.com/jdmcbr", "followers_url": "https://api.github.com/users/jdmcbr/followers", "following_url": "https://api.github.com/users/jdmcbr/following{/other_user}", "gists_url": "https://api.github.com/users/jdmcbr/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdmcbr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdmcbr/subscriptions", "organizations_url": "https://api.github.com/users/jdmcbr/orgs", "repos_url": "https://api.github.com/users/jdmcbr/repos", "events_url": "https://api.github.com/users/jdmcbr/events{/privacy}", "received_events_url": "https://api.github.com/users/jdmcbr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2018-04-05T18:56:17Z", "updated_at": "2018-04-17T16:12:07Z", "closed_at": "2018-04-17T16:12:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1307", "html_url": "https://github.com/rasterio/rasterio/pull/1307", "diff_url": "https://github.com/rasterio/rasterio/pull/1307.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1307.patch", "merged_at": "2018-04-17T16:12:07Z"}, "body": "The precision argument was still in the keywords for `merge.merge`, but wasn't being used anywhere.\r\n\r\nI had a difficult time devising a test without adding new test fixtures. One possibility that did occur to me was setting a very low precision, attempting a merge, and verifying that it throws an exception when there's a size mismatch. I'd be happy to do so if that seems desirable.\r\n\r\nThere's potential for more change along these lines, with respect to rounding the window sizes and offsets. However, this particular fix on its own addressed the issue I ran into. ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1307/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1298", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1298/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1298/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1298/events", "html_url": "https://github.com/rasterio/rasterio/issues/1298", "id": 308086481, "node_id": "MDU6SXNzdWUzMDgwODY0ODE=", "number": 1298, "title": "Resampling with dataset_mask method", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 2, "created_at": "2018-03-23T15:59:00Z", "updated_at": "2018-06-05T21:28:42Z", "closed_at": "2018-06-05T21:28:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI'd like to set resampling options on `src.dataset_mask` but the function does not pass the keyword arguments to the underlying `read_mask` methods.\r\n\r\n## Possible solution\r\n\r\nPass kwargs from `dataset_masks` to the appropriate io functions:\r\n\r\nhttps://github.com/mapbox/rasterio/blob/master/rasterio/_io.pyx#L623\r\n\r\n## Operating system\r\n\r\nFor example: Mac OS X 10.12.3.\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio@master from source\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1298/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1298/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1292", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1292/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1292/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1292/events", "html_url": "https://github.com/rasterio/rasterio/issues/1292", "id": 305369571, "node_id": "MDU6SXNzdWUzMDUzNjk1NzE=", "number": 1292, "title": "Confusing 'Invalid CRS' exception thrown in 'calculate_default_transform' since 1.0a10", "user": {"login": "bwallin", "id": 239758, "node_id": "MDQ6VXNlcjIzOTc1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/239758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bwallin", "html_url": "https://github.com/bwallin", "followers_url": "https://api.github.com/users/bwallin/followers", "following_url": "https://api.github.com/users/bwallin/following{/other_user}", "gists_url": "https://api.github.com/users/bwallin/gists{/gist_id}", "starred_url": "https://api.github.com/users/bwallin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bwallin/subscriptions", "organizations_url": "https://api.github.com/users/bwallin/orgs", "repos_url": "https://api.github.com/users/bwallin/repos", "events_url": "https://api.github.com/users/bwallin/events{/privacy}", "received_events_url": "https://api.github.com/users/bwallin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 2, "created_at": "2018-03-14T23:56:40Z", "updated_at": "2018-06-05T17:24:05Z", "closed_at": "2018-06-05T17:24:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using `calculate_default_transform` was working with version 1.0a9, but in later versions throws an 'Invalid CRS' exception for a CRS that I believe is valid.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nWith rasterio 1.0a9 this would be the result:\r\n```\r\n(Affine(8337.217553444923, 0.0, -3249854.0060699503,\r\n       0.0, -8337.217553444923, 2662631.829561438), 780, 777)\r\n```\r\nbut rasterio 1.0a10 results in an exception:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/vagrant/mwe.py\", line 14, in <module>\r\n    left, bottom, top, right)\r\n  File \"/opt/miniconda/envs/seaiceimages/lib/python3.5/site-packages/rasterio/env.py\", line 308, in wrapper\r\n    return f(*args, **kwds)\r\n  File \"/opt/miniconda/envs/seaiceimages/lib/python3.5/site-packages/rasterio/warp.py\", line 345, in calculate_default_transform\r\n    src_crs, dst_crs, width, height, left, bottom, right, top, gcps)\r\n  File \"rasterio/_warp.pyx\", line 576, in rasterio._warp._calculate_default_transform\r\n  File \"rasterio/_base.pyx\", line 1115, in rasterio._base._osr_from_crs\r\nrasterio.errors.CRSError: Invalid CRS: CRS({'lat_0': -78.0, 'h': 9000000.0, 'no_defs': True, 'proj': 'nsper', 'x_0': 0, 'ellps': 'WGS84', 'y_0': 0, 'units': 'm', 'lon_0': 0.0})\r\n```\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nfrom rasterio import warp\r\nfrom rasterio.crs import CRS\r\n\r\n\r\nsrc_crs = CRS({'lon_0': 0.0, 'x_0': 0.0,\r\n               'lat_ts': -70, 'no_defs': True,\r\n               'ellps': 'WGS84', 'y_0': 0.0,\r\n               'proj': 'stere', 'lat_0': -90.0})\r\ndst_crs = CRS({'lon_0': 0.0, 'x_0': 0,\r\n               'lat_0': -78.0, 'no_defs': True,\r\n               'y_0': 0, 'ellps': 'WGS84',\r\n               'units': 'm', 'proj': 'nsper',\r\n               'h': 9000000.0})\r\nsrc_width, src_height = 632, 664\r\nleft, bottom, top, right = -3950000.0, -3950000.0, 3950000.0, 4350000.0\r\n\r\ntransform = warp.calculate_default_transform(src_crs, dst_crs,\r\n                                             src_width, src_height,\r\n                                             left, bottom, top, right)\r\n\r\nprint(transform)\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu 16.04\r\n\r\n## Rasterio version and provenance\r\n\r\nUsing rasterio 1.0a12 manylinux1 wheel installed from PyPI using pip 9.0.1 in a fresh python 3.5.5 environment.\r\n\r\nIf someone could please provide some guidance or insight to this issue I would greatly appreciate it, as I do this excellent package!", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1292/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1292/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1289", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1289/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1289/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1289/events", "html_url": "https://github.com/rasterio/rasterio/issues/1289", "id": 303256393, "node_id": "MDU6SXNzdWUzMDMyNTYzOTM=", "number": 1289, "title": "CURL error when trying to read raster from S3 bucket", "user": {"login": "svHatch", "id": 3648252, "node_id": "MDQ6VXNlcjM2NDgyNTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3648252?v=4", "gravatar_id": "", "url": "https://api.github.com/users/svHatch", "html_url": "https://github.com/svHatch", "followers_url": "https://api.github.com/users/svHatch/followers", "following_url": "https://api.github.com/users/svHatch/following{/other_user}", "gists_url": "https://api.github.com/users/svHatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/svHatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/svHatch/subscriptions", "organizations_url": "https://api.github.com/users/svHatch/orgs", "repos_url": "https://api.github.com/users/svHatch/repos", "events_url": "https://api.github.com/users/svHatch/events{/privacy}", "received_events_url": "https://api.github.com/users/svHatch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 5, "created_at": "2018-03-07T20:57:08Z", "updated_at": "2018-06-20T20:51:11Z", "closed_at": "2018-06-20T20:51:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI expected to get info about a file on S3 and an exception occurred.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nfrom the cmd line:\r\n    `rio info s3://bucket/my_raster.tif`\r\n\r\nreturns the error:\r\n    `rasterio.HTTPResonseError CURL error: error setting certificate verify locations: CAfile: /etc/pki/tls/certs/ca-bundle.crt CApath: none`\r\n\r\nthis fixed the issue:\r\n    `# sudo apt-get install ca-certificates\r\n    # mkdir -p /etc/pki/tls/certs\r\n    # cp /etc/ssl/certs/ca-certificates.crt /etc/pki/tls/certs/ca-bundle.crt`\r\n\r\n## Operating system\r\n`Linux **** 3.16.0-4-amd64 #1 SMP Debian 3.16.43-2+deb8u5 (2017-09-19) x86_64 GNU/Linux`\r\n\r\n## Rasterio version and provenance\r\n\r\n1.0a12 installed from PyPI using pip 9.0.1.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1289/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1288", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1288/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1288/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1288/events", "html_url": "https://github.com/rasterio/rasterio/issues/1288", "id": 302366284, "node_id": "MDU6SXNzdWUzMDIzNjYyODQ=", "number": 1288, "title": "CRS class doesn't return the EPSG number", "user": {"login": "h4k1m0u", "id": 4227512, "node_id": "MDQ6VXNlcjQyMjc1MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4227512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h4k1m0u", "html_url": "https://github.com/h4k1m0u", "followers_url": "https://api.github.com/users/h4k1m0u/followers", "following_url": "https://api.github.com/users/h4k1m0u/following{/other_user}", "gists_url": "https://api.github.com/users/h4k1m0u/gists{/gist_id}", "starred_url": "https://api.github.com/users/h4k1m0u/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h4k1m0u/subscriptions", "organizations_url": "https://api.github.com/users/h4k1m0u/orgs", "repos_url": "https://api.github.com/users/h4k1m0u/repos", "events_url": "https://api.github.com/users/h4k1m0u/events{/privacy}", "received_events_url": "https://api.github.com/users/h4k1m0u/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167170, "node_id": "MDU6TGFiZWw2NDE2NzE3MA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/enhancement", "name": "enhancement", "color": "00449e", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 3, "created_at": "2018-03-05T16:24:20Z", "updated_at": "2018-07-03T23:02:19Z", "closed_at": "2018-07-03T23:02:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Wouldn't it be useful to have the `CRS` object of the `Dataset` return the `EPSG` number directly (instead of getting it from the string contained inside the dictionary)?\r\nI'm asking because I needed to pass this EPSG number to the PostGIS insertion SQL query, though I'm not sure if it's commonly needed.\r\n\r\n## Operating system\r\n\r\nWindows7-64bits \r\n\r\n## Rasterio version and provenance\r\n\r\nFor example: the 1.0a12 wheel installed from www.lfd.uci.edu/~gohlke/pythonlibs.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1288/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1288/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1268", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1268/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1268/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1268/events", "html_url": "https://github.com/rasterio/rasterio/issues/1268", "id": 294385825, "node_id": "MDU6SXNzdWUyOTQzODU4MjU=", "number": 1268, "title": "mask.py::geometry_window does not properly handle objects with __geo_interface__", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2018-02-05T13:04:40Z", "updated_at": "2018-02-05T17:43:26Z", "closed_at": "2018-02-05T17:43:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`geometry_window` works properly for GeoJSON (as in our tests).\r\n\r\nIt does not work properly for objects that implement the `__geo_interface__`, because we are always expecting the input shapes to be a `dict`.  This causes errors if the user passes in Shapely geometries.\r\n\r\nFor testing purposes, I think we can create a lightweight class that implements the `__geo_interface__` so that we can directly test this functionality.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1268/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1267", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1267/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1267/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1267/events", "html_url": "https://github.com/rasterio/rasterio/issues/1267", "id": 294213361, "node_id": "MDU6SXNzdWUyOTQyMTMzNjE=", "number": 1267, "title": "reproject not taking ndarray indexing into account", "user": {"login": "davidbrochart", "id": 4711805, "node_id": "MDQ6VXNlcjQ3MTE4MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/4711805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidbrochart", "html_url": "https://github.com/davidbrochart", "followers_url": "https://api.github.com/users/davidbrochart/followers", "following_url": "https://api.github.com/users/davidbrochart/following{/other_user}", "gists_url": "https://api.github.com/users/davidbrochart/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidbrochart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidbrochart/subscriptions", "organizations_url": "https://api.github.com/users/davidbrochart/orgs", "repos_url": "https://api.github.com/users/davidbrochart/repos", "events_url": "https://api.github.com/users/davidbrochart/events{/privacy}", "received_events_url": "https://api.github.com/users/davidbrochart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 5, "created_at": "2018-02-04T17:17:48Z", "updated_at": "2018-02-19T09:07:50Z", "closed_at": "2018-02-19T09:07:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect one particular\r\ncategory of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nYou think you've found something? We believe you.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nIn `rasterio.warp.reproject`, if the source ndarray (*b*) is indexing another ndarray (*a*), the reprojection should operate on *b*. It appears that is operates on *a*.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\na = np.zeros((5, 5))\r\nb = a[::2, ::2]\r\nreproject(\r\n        b,\r\n        destination,\r\n        src_transform=src_transform,\r\n        src_crs=src_crs,\r\n        dst_transform=dst_transform,\r\n        dst_crs=dst_crs,\r\n        resampling=RESAMPLING.nearest)\r\n\r\n```\r\n\r\n## Operating system\r\n\r\nLinux version 4.10.0-42-generic (buildd@lgw01-amd64-012) (gcc version 6.3.0 20170406 (Ubuntu 6.3.0-12ubuntu2) )\r\n\r\n## Rasterio version and provenance\r\n\r\n0.36.0 installed with `conda install rasterio`", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1267/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1266", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1266/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1266/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1266/events", "html_url": "https://github.com/rasterio/rasterio/issues/1266", "id": 294115772, "node_id": "MDU6SXNzdWUyOTQxMTU3NzI=", "number": 1266, "title": "read_masks() return only 255s when using `boundless=True`  ", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 14, "created_at": "2018-02-03T14:41:11Z", "updated_at": "2018-06-16T20:55:26Z", "closed_at": "2018-06-16T20:55:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This might be linked to  #1191 \r\n\r\n\r\n## Expected behavior and actual behavior.\r\nshould return expected mask when setting `boundless=True` \r\n\r\n## Steps to reproduce the problem.\r\n\r\n\r\n```python \r\nf = 'http://oin-hotosm.s3.amazonaws.com/5a324a622553e6000ce5aaf5/0/3fa181a1-425c-4e53-b49f-ea72884da097.tif'\r\n\r\nwith rasterio.open(f) as src:\r\n    out_shape = (src.count, 512, 512)\r\n    window = Window(48000, 0, 1024, 1024) # Reading part of a file with mask values\r\n    # Read the data corresponding to the window\r\n    data = src.read(window=window, out_shape=out_shape, boundless=True, resampling=Resampling.bilinear)\r\n   \r\n    # Read internal mask and resample to out_shape\r\n    mask = src.read_masks(1, window=window, boundless=True, out_shape=(512, 512), resampling=Resampling.bilinear)\r\n    # This return only 255s value \r\n\r\n    # Read internal mask boundless\r\n    mask_no_boundless = src.read_masks(1, window=window, out_shape=(512, 512), resampling=Resampling.bilinear)\r\n    # This return the expected mask\r\n```\r\nfull example: https://gist.github.com/vincentsarago/2e6eacc25d957490c99ecb1496226378\r\n\r\n\r\n## Operating system\r\n\r\nMac OS X 10\r\n\r\n## Rasterio version and provenance\r\n\r\n`rasterio-1.0a12-cp36-cp36m-macosx_10_9_intel.macosx_10_9_x86_64.whl` \r\n\r\ncc @mojodna ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1266/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1266/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1262", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1262/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1262/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1262/events", "html_url": "https://github.com/rasterio/rasterio/issues/1262", "id": 293440558, "node_id": "MDU6SXNzdWUyOTM0NDA1NTg=", "number": 1262, "title": "pip install --> ImportError: libpython3.6m.so.1.0", "user": {"login": "samsammurphy", "id": 16657983, "node_id": "MDQ6VXNlcjE2NjU3OTgz", "avatar_url": "https://avatars.githubusercontent.com/u/16657983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samsammurphy", "html_url": "https://github.com/samsammurphy", "followers_url": "https://api.github.com/users/samsammurphy/followers", "following_url": "https://api.github.com/users/samsammurphy/following{/other_user}", "gists_url": "https://api.github.com/users/samsammurphy/gists{/gist_id}", "starred_url": "https://api.github.com/users/samsammurphy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samsammurphy/subscriptions", "organizations_url": "https://api.github.com/users/samsammurphy/orgs", "repos_url": "https://api.github.com/users/samsammurphy/repos", "events_url": "https://api.github.com/users/samsammurphy/events{/privacy}", "received_events_url": "https://api.github.com/users/samsammurphy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 158815511, "node_id": "MDU6TGFiZWwxNTg4MTU1MTE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/packaging", "name": "packaging", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-01T08:19:36Z", "updated_at": "2022-12-15T02:37:50Z", "closed_at": "2022-12-15T02:37:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI was trying to install rasterio using pip in a brand spanking new virtual environment and hit an import error on (what I think is) a compiled C library.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\n$ mkvirtualenv rasterio --python=python3\r\n$ pip install rasterio\r\n$ python\r\n>>> import rasterio\r\n#ImportError: libpython3.6m.so.1.0\r\n```\r\n\r\n## Operating system\r\n\r\nLinux Mint 18.1 Serena\r\n\r\n## Rasterio version and provenance\r\n\r\nLooking inside site-packages I think it tried to install version 0.36.0\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1262/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1260", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1260/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1260/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1260/events", "html_url": "https://github.com/rasterio/rasterio/pull/1260", "id": 293409411, "node_id": "MDExOlB1bGxSZXF1ZXN0MTY2NDQ3NzA3", "number": 1260, "title": "Optionally disable sharing on open", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-01T05:36:34Z", "updated_at": "2018-02-01T17:19:10Z", "closed_at": "2018-02-01T17:18:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1260", "html_url": "https://github.com/rasterio/rasterio/pull/1260", "diff_url": "https://github.com/rasterio/rasterio/pull/1260.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1260.patch", "merged_at": "2018-02-01T17:18:47Z"}, "body": "This pull request adds an optional parameter `sharing=True|False` to `open` method when used in read-only mode. Default value is `True` meaning that files will be opened with `GDAL_OF_SHARED` flag set (matches existing behaviour), however if user passes in `sharing=False` files will be opened without `GDAL_OF_SHARED` bit set.\r\n\r\nMotivation for this feature is to support multi-threaded programs that want to read from the same resource concurrently. According to gdal threading model one has to open new dataset for each concurrent thread accessing the dataset.\r\n\r\n**Note**: I have not added any documentation.\r\n\r\ncloses #1256 ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1260/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1253", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1253/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1253/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1253/events", "html_url": "https://github.com/rasterio/rasterio/issues/1253", "id": 291570956, "node_id": "MDU6SXNzdWUyOTE1NzA5NTY=", "number": 1253, "title": "rasterize produces holes for lists of GeometryCollection", "user": {"login": "astrojuanlu", "id": 316517, "node_id": "MDQ6VXNlcjMxNjUxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/316517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/astrojuanlu", "html_url": "https://github.com/astrojuanlu", "followers_url": "https://api.github.com/users/astrojuanlu/followers", "following_url": "https://api.github.com/users/astrojuanlu/following{/other_user}", "gists_url": "https://api.github.com/users/astrojuanlu/gists{/gist_id}", "starred_url": "https://api.github.com/users/astrojuanlu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/astrojuanlu/subscriptions", "organizations_url": "https://api.github.com/users/astrojuanlu/orgs", "repos_url": "https://api.github.com/users/astrojuanlu/repos", "events_url": "https://api.github.com/users/astrojuanlu/events{/privacy}", "received_events_url": "https://api.github.com/users/astrojuanlu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 4, "created_at": "2018-01-25T13:32:43Z", "updated_at": "2018-02-08T07:07:49Z", "closed_at": "2018-02-08T04:28:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect one particular\r\ncategory of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nYou think you've found something? We believe you.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI expected `rasterize(GeometryCollection([shp1, shp2]))` to produce the same result than `rasterize([GeometryCollection([shp1, shp2])])`. Instead, the latter produces a hole in the overlap, regardless of the direction of the exterior of the two polygons.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nshp1 = Polygon.from_bounds(0, 0, 5, 5)\r\nshp2 = Polygon.from_bounds(2, 2, 7, 7)\r\n\r\ngc = GeometryCollection([shp1, shp2])\r\n```\r\n\r\n| Code   | rasterize([shp1, shp2], (10, 10))                                                                               | rasterize(gc, (10, 10))                                                                                         | rasterize([gc], (10, 10))                                                                                       |\r\n|--------|-----------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|\r\n| Result | ![Result 1](https://user-images.githubusercontent.com/316517/35390348-61ee19ac-01db-11e8-8ddf-29bb5dc46b5b.png) | ![Result 1](https://user-images.githubusercontent.com/316517/35390348-61ee19ac-01db-11e8-8ddf-29bb5dc46b5b.png) | ![Result 2](https://user-images.githubusercontent.com/316517/35390359-6bc328d2-01db-11e8-81b1-a4347ff4d475.png) |\r\n\r\n## Operating system\r\n\r\nLinux Mint 18.3\r\n\r\n## Rasterio version and provenance\r\n\r\n* libgdal 1.11.2 installed with conda\r\n* geos 3.6.2 installed with conda from conda-forge\r\n* shapely 1.6.4.post1 installed with pip 9.0.1\r\n* rasterio 1.0a12 manylinux1 wheel installed from PyPI using pip 9.0.1.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1253/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1251", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1251/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1251/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1251/events", "html_url": "https://github.com/rasterio/rasterio/issues/1251", "id": 291296697, "node_id": "MDU6SXNzdWUyOTEyOTY2OTc=", "number": 1251, "title": "Don't install enum34 for python > 3.4", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 2, "created_at": "2018-01-24T17:35:22Z", "updated_at": "2019-09-11T21:50:42Z", "closed_at": "2018-06-25T20:57:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://bitbucket.org/stoneleaf/enum34/issues/19/enum34-isnt-compatible-with-python-36.\r\n\r\nIt hasn't been a problem for me yet, but is tripping up some AWS Lambda projects.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1251/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1251/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1250", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1250/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1250/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1250/events", "html_url": "https://github.com/rasterio/rasterio/pull/1250", "id": 290956290, "node_id": "MDExOlB1bGxSZXF1ZXN0MTY0NjYyMTEw", "number": 1250, "title": "Construct path before checking for existence", "user": {"login": "mojodna", "id": 45, "node_id": "MDQ6VXNlcjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/45?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mojodna", "html_url": "https://github.com/mojodna", "followers_url": "https://api.github.com/users/mojodna/followers", "following_url": "https://api.github.com/users/mojodna/following{/other_user}", "gists_url": "https://api.github.com/users/mojodna/gists{/gist_id}", "starred_url": "https://api.github.com/users/mojodna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mojodna/subscriptions", "organizations_url": "https://api.github.com/users/mojodna/orgs", "repos_url": "https://api.github.com/users/mojodna/repos", "events_url": "https://api.github.com/users/mojodna/events{/privacy}", "received_events_url": "https://api.github.com/users/mojodna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-23T19:04:10Z", "updated_at": "2018-01-24T04:01:43Z", "closed_at": "2018-01-24T04:01:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1250", "html_url": "https://github.com/rasterio/rasterio/pull/1250", "diff_url": "https://github.com/rasterio/rasterio/pull/1250.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1250.patch", "merged_at": "2018-01-24T04:01:43Z"}, "body": "Since rasterio.shutil.exists attempts to open files w/ GDAL, it needs to be fed a VFS URI lest e.g. zip files (`zip://archive.zip!image.tif`) will be opened without providing the inner path, resulting in read failures (if multiple files are present, among other reasons).", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1250/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1249", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1249/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1249/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1249/events", "html_url": "https://github.com/rasterio/rasterio/issues/1249", "id": 289630374, "node_id": "MDU6SXNzdWUyODk2MzAzNzQ=", "number": 1249, "title": "Cannot get samples from tif with no CRS since 1.0a10", "user": {"login": "odormond", "id": 6637092, "node_id": "MDQ6VXNlcjY2MzcwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/6637092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/odormond", "html_url": "https://github.com/odormond", "followers_url": "https://api.github.com/users/odormond/followers", "following_url": "https://api.github.com/users/odormond/following{/other_user}", "gists_url": "https://api.github.com/users/odormond/gists{/gist_id}", "starred_url": "https://api.github.com/users/odormond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/odormond/subscriptions", "organizations_url": "https://api.github.com/users/odormond/orgs", "repos_url": "https://api.github.com/users/odormond/repos", "events_url": "https://api.github.com/users/odormond/events{/privacy}", "received_events_url": "https://api.github.com/users/odormond/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/59", "html_url": "https://github.com/rasterio/rasterio/milestone/59", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/59/labels", "id": 3438834, "node_id": "MDk6TWlsZXN0b25lMzQzODgzNA==", "number": 59, "title": "1.0b3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2018-06-20T14:19:29Z", "updated_at": "2018-06-22T06:02:12Z", "due_on": null, "closed_at": "2018-06-22T06:02:12Z"}, "comments": 1, "created_at": "2018-01-18T13:35:08Z", "updated_at": "2018-06-22T01:02:23Z", "closed_at": "2018-06-22T01:02:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\n\r\nWhen trying to sample a tif not containing any CRS, rasterio will raise a CRSError since version 1.0a10 while it was working fine up to 1.0a9.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\n### Expected\r\n```\r\n$ ./test.py\r\n[array([ 0.21086692]), array([ 0.21086692])]\r\n```\r\n\r\n### Actual\r\n```\r\n$ ./test.py\r\n/venv/lib/python3.5/site-packages/rasterio/windows.py:483: RasterioDeprecationWarning: use 'width' attribute instead\r\n  RasterioDeprecationWarning)\r\n/venv/lib/python3.5/site-packages/rasterio/sample.py:17: RasterioDeprecationWarning: use 'height' attribute instead\r\n  data = read(indexes, window=window, masked=False, boundless=True)\r\nTraceback (most recent call last):\r\n  File \"./test.py\", line 6, in <module>\r\n    samples = list(rasterio.sample.sample_gen(tif, ((708816.547, 5678449.287), (708816.547, 5678449.287))))\r\n  File \"/venv/lib/python3.5/site-packages/rasterio/sample.py\", line 17, in sample_gen\r\n    data = read(indexes, window=window, masked=False, boundless=True)\r\n  File \"rasterio/_io.pyx\", line 325, in rasterio._io.DatasetReaderBase.read\r\n  File \"rasterio/_warp.pyx\", line 702, in rasterio._warp.WarpedVRTReaderBase.__init__\r\n  File \"rasterio/_base.pyx\", line 991, in rasterio._base._osr_from_crs\r\nrasterio.errors.CRSError: A defined coordinate reference system is required\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\nUnzip the following zip and go into the `rasterio_no_crs_tif_cannot_be_sampled` directory. Then just run `./test.py`.\r\n[rasterio_no_crs_tif_cannot_be_sampled.zip](https://github.com/mapbox/rasterio/files/1642938/rasterio_no_crs_tif_cannot_be_sampled.zip)\r\n\r\nI'm reproducing `test.py` itself for convenience:\r\n```\r\n#!/usr/bin/env python3\r\n\r\nimport rasterio\r\n\r\ntif = rasterio.open('test.tif')\r\nsamples = list(rasterio.sample.sample_gen(tif, ((708816.547, 5678449.287), (708816.547, 5678449.287))))\r\nprint(samples)\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu 16.04.3 LTS\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio-1.0a10-cp35-cp35m-manylinux1_x86_64.whl installed in a python3 virtualenv with pip 9.0.1\r\n\r\nThe result are the same with version 1.0a11 and 1.0a12 from pypi.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1249/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1248", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1248/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1248/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1248/events", "html_url": "https://github.com/rasterio/rasterio/issues/1248", "id": 289444499, "node_id": "MDU6SXNzdWUyODk0NDQ0OTk=", "number": 1248, "title": "Georeference metadata not read from some GRIB files", "user": {"login": "nawendt", "id": 13972103, "node_id": "MDQ6VXNlcjEzOTcyMTAz", "avatar_url": "https://avatars.githubusercontent.com/u/13972103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nawendt", "html_url": "https://github.com/nawendt", "followers_url": "https://api.github.com/users/nawendt/followers", "following_url": "https://api.github.com/users/nawendt/following{/other_user}", "gists_url": "https://api.github.com/users/nawendt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nawendt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nawendt/subscriptions", "organizations_url": "https://api.github.com/users/nawendt/orgs", "repos_url": "https://api.github.com/users/nawendt/repos", "events_url": "https://api.github.com/users/nawendt/events{/privacy}", "received_events_url": "https://api.github.com/users/nawendt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/97", "html_url": "https://github.com/rasterio/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 19, "created_at": "2018-01-17T22:58:21Z", "updated_at": "2020-06-03T00:49:37Z", "closed_at": "2020-06-03T00:49:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI have been working with GRIB (version 2) data and have run into an issue where the georeference metadata are not extracted (i.e., the CRS is missing, affine parameters are incorrect, etc.). However, if I simply use the standard GDAL Python bindings, the metadata are extracted. The data I am working with is from the [NCEP SREF](http://www.nco.ncep.noaa.gov/pmb/products/sref/) weather forecast model.\r\n\r\n## Steps to reproduce the problem.\r\nI use `rasterio` as follows:\r\n```python\r\nimport rasterio\r\ndat = rasterio.open('my_grib_file.grib2')\r\ndat.profile\r\n```\r\nwhich produces the following output\r\n```python\r\n>>> {'affine': Affine(1.0, 0.0, -0.5, 0.0, 1.0, -0.5),\r\n 'count': 523,\r\n 'crs': CRS({}),\r\n 'driver': 'GRIB',\r\n 'dtype': 'float64',\r\n 'height': 129,\r\n 'nodata': None,\r\n 'tiled': False,\r\n 'transform': (-0.5, 1.0, 0.0, -0.5, 0.0, 1.0),\r\n 'width': 185}\r\n```\r\nWith `osgeo.gdal` (in a separate session)\r\n```python\r\nfrom osgeo import gdal\r\ndat = gdal.Open('my_grib_file.grib2')\r\ndat.GetProjectionRef()\r\ndat.GetGeoTransform()\r\n```\r\nwhich produces\r\n```python\r\n>>> 'PROJCS[\"unnamed\",GEOGCS[\"Coordinate System imported from GRIB file\",DATUM[\"unknown\",SPHEROID[\"Sphere\",6371229,0]],PRIMEM[\"Greenwich\",0],UNIT[\"degree\",0.0174532925199433]],PROJECTION[\"Lambert_Conformal_Conic_2SP\"],PARAMETER[\"standard_parallel_1\",25],PARAMETER[\"standard_parallel_2\",25],PARAMETER[\"latitude_of_origin\",25],PARAMETER[\"central_meridian\",265],PARAMETER[\"false_easting\",0],PARAMETER[\"false_northing\",0]]'\r\n>>> (-4246424.496915466, 40635.0, 0.0, 4388899.238982436, 0.0, -40635.0)\r\n```\r\n\r\n## Operating systems\r\n\r\nRHEL 6\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 0.36.0 via conda-forge\r\ngdal 2.1.3 via conda-forge\r\npython 3.6.4 via conda-forge\r\n\r\n## Other information\r\n\r\nI have verified that both `osgeo.gdal` and `rasterio` are using the same GDAL C library. When I use the same methods as above on another GRIB (this time version 1) from a different weather forecast model, the georeference metadata are read correctly. This would indicate it could be an issue with individual files, but, as I show above, the same GDAL library reads the correct georeference data when not using `rasterio`.\r\n\r\nI determined that the issue occurs when `GDALGetProjectionRef` is called in `read_crs` from `_base.pyx`. What I did then was to create a small C program that uses `GDALGetProjectionRef` to access the georeference information and print it to STDOUT. That worked just fine and produced the same information as when using `osgeo.gdal`. I also built rasterio from source in a separate conda environment and still had the same problem. This is what ultimately led me to believe that the issue has something to do with what is getting passed around in `rasterio` versus the GDAL C library itself or something with my conda environments.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1248/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1248/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1234", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1234/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1234/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1234/events", "html_url": "https://github.com/rasterio/rasterio/issues/1234", "id": 283075073, "node_id": "MDU6SXNzdWUyODMwNzUwNzM=", "number": 1234, "title": "A color interp test fails when running against GDAL trunk", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 989674718, "node_id": "MDU6TGFiZWw5ODk2NzQ3MTg=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/upstream", "name": "upstream", "color": "ef5fbf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-12-19T01:22:38Z", "updated_at": "2022-12-15T02:41:57Z", "closed_at": "2022-12-15T02:41:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`tests/test_colorinterp.py::test_set_colorinterp_all` has been failing for a few months [on Travis against GDAL trunk](https://travis-ci.org/mapbox/rasterio/jobs/315618227).\r\n\r\nhttps://github.com/mapbox/rasterio/blob/5f1c3ed9d2e2b5bc8dabde0f5cb8bdd00759fc7d/tests/test_colorinterp.py#L86\r\n\r\nFor `GDAL<=2.2` the first band could never be `undefined` and GDAL would change it to `gray`, but it looks like `undefined` is now an allowed value on GDAL trunk.  @rouault is this correct?  I couldn't find any recent tickets in trac.\r\n\r\nFailure report:\r\n\r\n```\r\n=================================== FAILURES ===================================\r\n_________________ test_set_colorinterp_all[ColorInterp.grey0] __________________\r\npath_4band_no_colorinterp = '/tmp/pytest-of-travis/pytest-0/test_set_colorinterp_all_Color1/4band-byte-no-ci.tif'\r\nci = <ColorInterp.grey: 1>\r\n    @pytest.mark.parametrize(\"ci\", ColorInterp.__members__.values())\r\n    def test_set_colorinterp_all(path_4band_no_colorinterp, ci):\r\n    \r\n        \"\"\"Test setting with all color interpretations.\"\"\"\r\n    \r\n        with rasterio.open(path_4band_no_colorinterp, 'r+') as src:\r\n            all_ci = list(src.colorinterp)\r\n            all_ci[1] = ci\r\n            src.colorinterp = all_ci\r\n    \r\n        with rasterio.open(path_4band_no_colorinterp) as src:\r\n>           assert src.colorinterp[1] == ci\r\nE           assert <ColorInterp.undefined: 0> == <ColorInterp.grey: 1>\r\ntests/test_colorinterp.py:96: AssertionError\r\n---------------------------- Captured stderr setup -----------------------------\r\n```\r\n\r\nThe failing test takes an image with no color interpretation and sets the color interpretation of the first band to each of the color interpretation options.  More specifically it takes a 4 band image with color interpretation `gray undefined undefined undefined` because older versions of GDAL silently switched an `undefined` first band to `gray`.\r\n\r\nThis snippet illustrates the problem, succeeds on `GDAL<=2.2` and fails on GDAL trunk:\r\n\r\n```python\r\nimport affine\r\nimport rasterio\r\nfrom rasterio import shutil as rio_shutil\r\nfrom rasterio.enums import ColorInterp\r\n\r\n\r\npath_4band_no_colorinterp = '4band-no-ci.tif'\r\n\r\n\r\n# This seems to be a GDAL default.  GDAL 2.2 allows 'undefined' for first\r\n# band, but older versions silently convert to 'gray'\r\nundefined_ci = (\r\n    ColorInterp.gray,\r\n    ColorInterp.undefined,\r\n    ColorInterp.undefined,\r\n    ColorInterp.undefined)\r\n\r\n\r\nprofile = {\r\n    'height': 10,\r\n    'width': 10,\r\n    'count': 4,\r\n    'dtype': rasterio.ubyte,\r\n    'transform': affine.Affine(1, 0.0, 0,\r\n                               0.0, -1, 1),\r\n    'driver': 'GTiff',\r\n    'photometric': 'minisblack'\r\n}\r\n\r\nwith rasterio.open(path_4band_no_colorinterp, 'w', **profile) as src:\r\n    src.colorinterp = undefined_ci\r\n\r\n# Ensure color interp was set.\r\nwith rasterio.open(path_4band_no_colorinterp) as src:\r\n    if src.colorinterp != undefined_ci:\r\n        raise ValueError(\r\n            \"Didn't properly set color interpretation.  GDAL can \"\r\n            \"forcefully make assumptions.\")\r\n\r\n\r\nfor ci in ColorInterp.__members__.values():\r\n\r\n    with rasterio.open(path_4band_no_colorinterp, 'r+') as src:\r\n        all_ci = list(src.colorinterp)\r\n        # Adjust CI for first band.  This appears to be failing on GDAL\r\n        # trunk for 'ColorInterp.gray' and 'ColorInterp.grey', which are\r\n        # aliases for the same value.\r\n        all_ci[1] = ci\r\n        src.colorinterp = all_ci\r\n\r\n    with rasterio.open(path_4band_no_colorinterp) as src:\r\n        assert src.colorinterp[1] == ci, \"Expected {!r} but found {!r}\".format(src.colorinterp[1], ci)\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1234/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1225", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1225/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1225/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1225/events", "html_url": "https://github.com/rasterio/rasterio/pull/1225", "id": 280152027, "node_id": "MDExOlB1bGxSZXF1ZXN0MTU3MDEwMTg4", "number": 1225, "title": "add indexes parameter to rasterio.mask.mask", "user": {"login": "j08lue", "id": 3404817, "node_id": "MDQ6VXNlcjM0MDQ4MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/3404817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j08lue", "html_url": "https://github.com/j08lue", "followers_url": "https://api.github.com/users/j08lue/followers", "following_url": "https://api.github.com/users/j08lue/following{/other_user}", "gists_url": "https://api.github.com/users/j08lue/gists{/gist_id}", "starred_url": "https://api.github.com/users/j08lue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j08lue/subscriptions", "organizations_url": "https://api.github.com/users/j08lue/orgs", "repos_url": "https://api.github.com/users/j08lue/repos", "events_url": "https://api.github.com/users/j08lue/events{/privacy}", "received_events_url": "https://api.github.com/users/j08lue/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-12-07T14:36:18Z", "updated_at": "2018-03-16T11:35:40Z", "closed_at": "2017-12-18T22:31:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1225", "html_url": "https://github.com/rasterio/rasterio/pull/1225", "diff_url": "https://github.com/rasterio/rasterio/pull/1225.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1225.patch", "merged_at": "2017-12-18T22:31:52Z"}, "body": "Closes #1224 ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1225/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1224", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1224/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1224/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1224/events", "html_url": "https://github.com/rasterio/rasterio/issues/1224", "id": 280150212, "node_id": "MDU6SXNzdWUyODAxNTAyMTI=", "number": 1224, "title": "rasterio.mask.mask should support indexes", "user": {"login": "j08lue", "id": 3404817, "node_id": "MDQ6VXNlcjM0MDQ4MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/3404817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j08lue", "html_url": "https://github.com/j08lue", "followers_url": "https://api.github.com/users/j08lue/followers", "following_url": "https://api.github.com/users/j08lue/following{/other_user}", "gists_url": "https://api.github.com/users/j08lue/gists{/gist_id}", "starred_url": "https://api.github.com/users/j08lue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j08lue/subscriptions", "organizations_url": "https://api.github.com/users/j08lue/orgs", "repos_url": "https://api.github.com/users/j08lue/repos", "events_url": "https://api.github.com/users/j08lue/events{/privacy}", "received_events_url": "https://api.github.com/users/j08lue/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2017-12-07T14:30:49Z", "updated_at": "2017-12-18T22:31:52Z", "closed_at": "2017-12-18T22:31:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nI would like to read and mask only a selection of bands with [`rasterio.mask.mask`](https://github.com/mapbox/rasterio/blob/a88c271e779f022d2f27343be9780542a1f4fbb1/rasterio/mask.py#L110), but there is no `indexes` parameter.\r\n\r\n### Proposed solution\r\n\r\nAdd the [`indexes`](https://github.com/mapbox/rasterio/blob/44b9372c13d9696a6b355da6013e9d0a762ff47c/rasterio/_io.pyx#L122-L131) parameter to `mask` and and pass it to its call to `read`:\r\n\r\nhttps://github.com/mapbox/rasterio/blob/a88c271e779f022d2f27343be9780542a1f4fbb1/rasterio/mask.py#L182-L183\r\n\r\nI think this is as simple as adding and passing the parameter, because the `2D` array resulting from integer `indexes` will have the same shape as `shape_mask` and `3D` arrays broadcast fine, which is what we are currently relying on.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1224/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1224/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1217", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1217/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1217/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1217/events", "html_url": "https://github.com/rasterio/rasterio/issues/1217", "id": 278732841, "node_id": "MDU6SXNzdWUyNzg3MzI4NDE=", "number": 1217, "title": "rasterize should take an enum for merge_alg", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-03T00:54:13Z", "updated_at": "2018-01-11T17:43:51Z", "closed_at": "2018-01-11T17:43:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "At https://github.com/mapbox/rasterio/blob/master/rasterio/features.py#L165\r\n\r\nin the same way that `reproject()` takes `resampling=Resampling.nearest`.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1217/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1208", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1208/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1208/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1208/events", "html_url": "https://github.com/rasterio/rasterio/issues/1208", "id": 277022731, "node_id": "MDU6SXNzdWUyNzcwMjI3MzE=", "number": 1208, "title": "Raise error for resampling methods not supported by version of GDAL", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-27T13:43:50Z", "updated_at": "2017-12-19T21:46:18Z", "closed_at": "2017-12-19T21:46:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As reported by @Juanlu001 in #860 (moving here instead).\r\n\r\nSeveral of the resampling methods in the `Resampling` enum are not supported in the lowest version of GDAL we support.\r\n\r\nWe should add additional documentation to clarify which ones are supported at which version, and we should raise an error when a requested method is not supported by the underlying version of GDAL.\r\n\r\nWe also need to clarify the lowest version of GDAL we currently support.  The `README` says >= 1.9, whereas our Travic-CI config is only testing >= 1.11.5.\r\n\r\n/cc @sgillies ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1208/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1206", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1206/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1206/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1206/events", "html_url": "https://github.com/rasterio/rasterio/issues/1206", "id": 276593067, "node_id": "MDU6SXNzdWUyNzY1OTMwNjc=", "number": 1206, "title": "WarpedVRT resampling behavior", "user": {"login": "ungarj", "id": 3802285, "node_id": "MDQ6VXNlcjM4MDIyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/3802285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ungarj", "html_url": "https://github.com/ungarj", "followers_url": "https://api.github.com/users/ungarj/followers", "following_url": "https://api.github.com/users/ungarj/following{/other_user}", "gists_url": "https://api.github.com/users/ungarj/gists{/gist_id}", "starred_url": "https://api.github.com/users/ungarj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ungarj/subscriptions", "organizations_url": "https://api.github.com/users/ungarj/orgs", "repos_url": "https://api.github.com/users/ungarj/repos", "events_url": "https://api.github.com/users/ungarj/events{/privacy}", "received_events_url": "https://api.github.com/users/ungarj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 11, "created_at": "2017-11-24T11:41:31Z", "updated_at": "2018-06-28T05:12:23Z", "closed_at": "2018-06-28T05:12:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "``WarpedVRT`` shows unexpected behavior when using other resampling methods than ``Resampling.nearest``.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\n``Resampling.bilinear`` returns the same output than ``Resampling.nearest``. However, when resampling with GDAL, the output image is smoothed.\r\n\r\nGDAL bilinear:\r\n![gdal_bilinear](https://user-images.githubusercontent.com/3802285/33208787-3dc1029a-d113-11e7-80a7-bf918cdcb5fb.jpg)\r\n\r\n``Resampling.nearest``:\r\n![rio_nearest](https://user-images.githubusercontent.com/3802285/33208785-3d86cf3a-d113-11e7-8473-ff010bee37d1.jpg)\r\n\r\n``Resampling.bilinear``:\r\n![rio_bilinear](https://user-images.githubusercontent.com/3802285/33208786-3da0bbb6-d113-11e7-9c9b-5b188b9e1910.jpg)\r\n\r\n## Steps to reproduce the problem.\r\n\r\nHere is a zip file containing the example data (a CleanTOPO extract) and the script that reproduces all outputs: [warpedvrt_resampling.zip](https://github.com/mapbox/rasterio/files/1501490/warpedvrt_resampling.zip)\r\n\r\nthis is the code snipped that reads and resamples the window:\r\n```\r\n    with rasterio.open(input_file, \"r\") as src:\r\n        with WarpedVRT(src, dst_crs=tile.crs, resampling=Resampling.bilinear) as vrt:\r\n            bilinear = vrt.read(\r\n                window=vrt.window(*tile.bounds()),\r\n                out_shape=tile.shape(),\r\n                indexes=1\r\n            )\r\n```\r\nNot sure whether I used all of the parameters correctly. I used the [example](https://mapbox.github.io/rasterio/topics/virtual-warping.html) from the docs.\r\n\r\n## Operating system\r\n\r\nUbuntu 16.04\r\n\r\n## Rasterio version and provenance\r\n\r\n1.0a11 installed from PyPI using pip 9.0.1, using Python 2.7\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1206/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1203", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1203/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1203/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1203/events", "html_url": "https://github.com/rasterio/rasterio/issues/1203", "id": 275433910, "node_id": "MDU6SXNzdWUyNzU0MzM5MTA=", "number": 1203, "title": "Omitting 'driver' when creating a new image does not produce a helpful error", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 2, "created_at": "2017-11-20T17:18:48Z", "updated_at": "2018-11-15T16:03:48Z", "closed_at": "2018-11-15T16:03:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nAttempting to create an image without a driver produces a cryptic error that does not inform the user of the underlying problem.\r\n\r\n```console\r\nTraceback (most recent call last):\r\n  File \"buh.py\", line 12, in <module>\r\n    with rio.open('image.tif', 'w', **profile) as dst:\r\n  File \"/Users/kevin.wurster/code/rasterio/rasterio/__init__.py\", line 248, in open\r\n    s = get_writer_for_driver(driver)(fp, mode, driver=driver,\r\n  File \"/Users/kevin.wurster/code/rasterio/rasterio/io.py\", line 163, in get_writer_for_driver\r\n    if driver_can_create(driver):\r\n  File \"rasterio/_base.pyx\", line 102, in rasterio._base.driver_can_create (rasterio/_base.c:3871)\r\n    return driver_supports_mode(drivername, 'DCAP_CREATE')\r\n  File \"rasterio/_base.pyx\", line 85, in rasterio._base.driver_supports_mode (rasterio/_base.c:3586)\r\n    drivername = drivername.encode('utf-8')\r\nAttributeError: 'NoneType' object has no attribute 'encode'\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport rasterio as rio\r\n\r\nprofile = {\r\n    'height': 1,\r\n    'width': 1,\r\n    'count': 1,\r\n    'nodata': None,\r\n    'dtype': rio.uint8,\r\n}\r\n\r\n\r\nwith rio.open('image.tif', 'w', **profile) as dst:\r\n    pass\r\n```\r\n\r\nAdding `driver='GTiff'` creates the image without issue.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1203/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1201", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1201/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1201/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1201/events", "html_url": "https://github.com/rasterio/rasterio/pull/1201", "id": 274347448, "node_id": "MDExOlB1bGxSZXF1ZXN0MTUyOTE3MzQ2", "number": 1201, "title": "Don't automatically log GDAL exceptions", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-11-15T23:55:53Z", "updated_at": "2017-11-16T16:31:29Z", "closed_at": "2017-11-16T16:31:26Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1201", "html_url": "https://github.com/rasterio/rasterio/pull/1201", "diff_url": "https://github.com/rasterio/rasterio/pull/1201.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1201.patch", "merged_at": "2017-11-16T16:31:26Z"}, "body": "We had inadvertently copied all exceptions into the logger.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1201/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1200", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1200/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1200/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1200/events", "html_url": "https://github.com/rasterio/rasterio/pull/1200", "id": 274184679, "node_id": "MDExOlB1bGxSZXF1ZXN0MTUyNzk1ODAy", "number": 1200, "title": "fix bug: raster width/height was swapped", "user": {"login": "vincentschut", "id": 659645, "node_id": "MDQ6VXNlcjY1OTY0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/659645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentschut", "html_url": "https://github.com/vincentschut", "followers_url": "https://api.github.com/users/vincentschut/followers", "following_url": "https://api.github.com/users/vincentschut/following{/other_user}", "gists_url": "https://api.github.com/users/vincentschut/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentschut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentschut/subscriptions", "organizations_url": "https://api.github.com/users/vincentschut/orgs", "repos_url": "https://api.github.com/users/vincentschut/repos", "events_url": "https://api.github.com/users/vincentschut/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentschut/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-11-15T14:54:57Z", "updated_at": "2017-11-16T07:53:13Z", "closed_at": "2017-11-15T15:54:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1200", "html_url": "https://github.com/rasterio/rasterio/pull/1200", "diff_url": "https://github.com/rasterio/rasterio/pull/1200.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1200.patch", "merged_at": "2017-11-15T15:54:57Z"}, "body": "this fixes a small (but annoying) bug in geometry_window().\r\n\r\n(annoying because it causes rasterio to thing a shape is out of bounds for a raster when using mask(raster, shapes) when it is not)", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1200/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1191", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1191/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1191/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1191/events", "html_url": "https://github.com/rasterio/rasterio/issues/1191", "id": 270414211, "node_id": "MDU6SXNzdWUyNzA0MTQyMTE=", "number": 1191, "title": "Sidecar masks are lost when using WarpedVRTs", "user": {"login": "mojodna", "id": 45, "node_id": "MDQ6VXNlcjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/45?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mojodna", "html_url": "https://github.com/mojodna", "followers_url": "https://api.github.com/users/mojodna/followers", "following_url": "https://api.github.com/users/mojodna/following{/other_user}", "gists_url": "https://api.github.com/users/mojodna/gists{/gist_id}", "starred_url": "https://api.github.com/users/mojodna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mojodna/subscriptions", "organizations_url": "https://api.github.com/users/mojodna/orgs", "repos_url": "https://api.github.com/users/mojodna/repos", "events_url": "https://api.github.com/users/mojodna/events{/privacy}", "received_events_url": "https://api.github.com/users/mojodna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 8, "created_at": "2017-11-01T18:57:35Z", "updated_at": "2018-06-19T17:37:02Z", "closed_at": "2018-06-04T15:36:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Version**: `51968aee58101d6fb264dfd4e13008a6ee3f3adb` (`master` post `1.0a11`)\r\n\r\nSidecar masks (`.msk`) are ignored when the source is wrapped in a `WarpedVRT`, probably because we're not doing anything special to preserve / mark them (in the same way that an XML VRT would).\r\n\r\nFailing test:\r\n\r\n```diff\r\ndiff --git i/tests/test_band_masks.py w/tests/test_band_masks.py\r\nindex f6cf3ac..fdd248d 100644\r\n--- i/tests/test_band_masks.py\r\n+++ w/tests/test_band_masks.py\r\n@@ -6,8 +6,11 @@ import numpy as np\r\n import pytest\r\n \r\n import rasterio\r\n+from rasterio import warp\r\n+from rasterio.crs import CRS\r\n from rasterio.enums import MaskFlags\r\n from rasterio.errors import NodataShadowWarning, RasterioDeprecationWarning\r\n+from rasterio.vrt import WarpedVRT\r\n \r\n \r\n @pytest.fixture(scope='function')\r\n@@ -175,3 +176,30 @@ def test_masking_sidecar_mask(tiffs):\r\n         assert r.mask.all()\r\n         masks = src.read_masks()\r\n         assert not masks.any()\r\n+\r\n+\r\n+def test_masking_vrt_sidecar_mask(tiffs):\r\n+    # If the dataset has a .msk sidecar mask band file, all masks will\r\n+    # be derived from that file.\r\n+    with rasterio.open(str(tiffs.join('sidecar-masked.tif'))) as src:\r\n+        dst_crs = CRS.from_epsg(4326)\r\n+        transform, dst_width, dst_height = warp.calculate_default_transform(\r\n+            src.crs, dst_crs, src.width, src.height, *src.bounds)\r\n+\r\n+        with WarpedVRT(\r\n+                src,\r\n+                dst_crs=dst_crs,\r\n+                dst_width=dst_width,\r\n+                dst_height=dst_height,\r\n+                dst_transform=transform) as vrt:\r\n+\r\n+            for flags in vrt.mask_flag_enums:\r\n+                assert MaskFlags.per_dataset in flags\r\n+                assert MaskFlags.alpha not in flags\r\n+                assert MaskFlags.nodata not in flags\r\n+            rgb = vrt.read(masked=True)\r\n+            assert rgb.mask.all()\r\n+            r = vrt.read(1, masked=True)\r\n+            assert r.mask.all()\r\n+            masks = vrt.read_masks()\r\n+            assert not masks.any()\r\n```\r\n\r\nTest output:\r\n\r\n```\r\n________________________________________ test_masking_vrt_sidecar_mask _________________________________________\r\n\r\ntiffs = local('/tmp/pytest-of-root/pytest-1/test_masking_vrt_sidecar_mask0')\r\n\r\n    def test_masking_vrt_sidecar_mask(tiffs):\r\n        # If the dataset has a .msk sidecar mask band file, all masks will\r\n        # be derived from that file.\r\n        with rasterio.open(str(tiffs.join('sidecar-masked.tif'))) as src:\r\n            dst_crs = CRS.from_epsg(4326)\r\n            transform, dst_width, dst_height = warp.calculate_default_transform(\r\n                src.crs, dst_crs, src.width, src.height, *src.bounds)\r\n\r\n            with WarpedVRT(\r\n                    src,\r\n                    dst_crs=dst_crs,\r\n                    dst_width=dst_width,\r\n                    dst_height=dst_height,\r\n                    dst_transform=transform) as vrt:\r\n\r\n                for flags in vrt.mask_flag_enums:\r\n>                   assert MaskFlags.per_dataset in flags\r\nE                   assert <MaskFlags.per_dataset: 2> in [<MaskFlags.all_valid: 1>]\r\nE                    +  where <MaskFlags.per_dataset: 2> = MaskFlags.per_dataset\r\n\r\ntests/test_band_masks.py:197: AssertionError\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1191/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1188", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1188/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1188/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1188/events", "html_url": "https://github.com/rasterio/rasterio/pull/1188", "id": 270192946, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ5OTYxNzIy", "number": 1188, "title": "Override get_crs() in WarpedVRT to return dst_crs", "user": {"login": "mojodna", "id": 45, "node_id": "MDQ6VXNlcjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/45?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mojodna", "html_url": "https://github.com/mojodna", "followers_url": "https://api.github.com/users/mojodna/followers", "following_url": "https://api.github.com/users/mojodna/following{/other_user}", "gists_url": "https://api.github.com/users/mojodna/gists{/gist_id}", "starred_url": "https://api.github.com/users/mojodna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mojodna/subscriptions", "organizations_url": "https://api.github.com/users/mojodna/orgs", "repos_url": "https://api.github.com/users/mojodna/repos", "events_url": "https://api.github.com/users/mojodna/events{/privacy}", "received_events_url": "https://api.github.com/users/mojodna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-11-01T04:50:00Z", "updated_at": "2017-11-16T18:04:33Z", "closed_at": "2017-11-01T15:08:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1188", "html_url": "https://github.com/rasterio/rasterio/pull/1188", "diff_url": "https://github.com/rasterio/rasterio/pull/1188.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1188.patch", "merged_at": "2017-11-01T15:08:34Z"}, "body": "This way, `WarpedVRT` has an effective CRS of `dst_crs` rather than `None`, enabling boundless reads.\r\n\r\nFixes #1186", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1188/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1178", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1178/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1178/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1178/events", "html_url": "https://github.com/rasterio/rasterio/issues/1178", "id": 266674547, "node_id": "MDU6SXNzdWUyNjY2NzQ1NDc=", "number": 1178, "title": "'src.dataset_mask()' ignores alpha band when more than 4 bands are present", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167169, "node_id": "MDU6TGFiZWw2NDE2NzE2OQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 7, "created_at": "2017-10-18T23:29:02Z", "updated_at": "2020-10-21T17:56:07Z", "closed_at": "2018-09-21T15:29:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Given a 5 band image where the last band is a valid alpha band, `src.dataset_mask()` will entirely ignore the alpha band and produce a completely unmasked array.\r\n\r\nHere's what's happening:\r\n\r\n1. Create a 5 band image.\r\n2. Write different constant values to bands 1 through 4.\r\n3. Write an alpha band to band 5 that only has a transparent 3 x 3 square in the upper left corner.\r\n4. Force the color interpretation of the file's 5th band to be alpha.\r\n5. Generate a mask with `src.dataset_mask()` and drop that in a new file.\r\n6. Write only the alpha band to a new file.\r\n7. Compare alpha band file to `src.dataset_mask()`.  The latter should be entirely transparent.\r\n\r\n```\r\nfrom osgeo import gdal\r\n\r\nimport numpy as np\r\nimport rasterio as rio\r\n\r\n\r\ndsm_input = 'dsm-input.tif'\r\nalpha_file = 'alpha.tif'\r\nds_mask_file = 'dataset-mask.tif'\r\n\r\n# GDALPAMDataset can get weird.  Make sure none of the test files exist.\r\nfor path in [dsm_input, alpha_file, ds_mask_file]:\r\n    try:\r\n        gdal.Unlink(path)\r\n    except:\r\n        pass\r\n\r\n\r\nprofile = {\r\n    'driver': 'GTiff',\r\n    'height': 10,\r\n    'width': 10,\r\n    'count': 5,\r\n    'dtype': rio.ubyte,\r\n}\r\nwith rio.open(dsm_input, 'w', **profile) as dst:\r\n    data = np.zeros(dst.shape, dtype=profile['dtype'])\r\n    \r\n    # Write a constant value to each band.\r\n    dst.write(data + 1, 1)\r\n    dst.write(data + 2, 2)\r\n    dst.write(data + 3, 3)\r\n    dst.write(data + 4, 4)\r\n    \r\n    # Make a 3x3 square in the upper left corner transparent.\r\n    alpha = np.zeros(dst.shape, dtype=profile['dtype'])\r\n    alpha[:3, :3] = 255\r\n    dst.write(alpha, 5)\r\n\r\n\r\n# Force last band to be alpha.  This may create a '.aux.xml' to set the\r\n# new color interpreation.  That's fine.\r\nds = gdal.Open(dsm_input, gdal.GA_Update)\r\nband = ds.GetRasterBand(5)\r\nband.SetColorInterpretation(gdal.GCI_AlphaBand)\r\nband = None\r\nds = None\r\n\r\n\r\nwith rio.open(dsm_input) as src:\r\n        \r\n    profile = src.profile.copy()\r\n    profile['count'] = 1\r\n    \r\n    # Write the output of 'src.dataset_mask()' and just the alpha band\r\n    with rio.open(ds_mask_file, 'w', **profile) as dst:\r\n        dst.write(src.dataset_mask(), 1)\r\n    \r\n    # Copy just the alpha band to a new file\r\n    with rio.open(alpha_file, 'w', **profile) as dst:\r\n        dst.write(src.read(5), 1)\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1178/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1177", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1177/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1177/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1177/events", "html_url": "https://github.com/rasterio/rasterio/pull/1177", "id": 266367447, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ3MjE0NDgx", "number": 1177, "title": "Remove potential circular import path", "user": {"login": "jdmcbr", "id": 666108, "node_id": "MDQ6VXNlcjY2NjEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/666108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdmcbr", "html_url": "https://github.com/jdmcbr", "followers_url": "https://api.github.com/users/jdmcbr/followers", "following_url": "https://api.github.com/users/jdmcbr/following{/other_user}", "gists_url": "https://api.github.com/users/jdmcbr/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdmcbr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdmcbr/subscriptions", "organizations_url": "https://api.github.com/users/jdmcbr/orgs", "repos_url": "https://api.github.com/users/jdmcbr/repos", "events_url": "https://api.github.com/users/jdmcbr/events{/privacy}", "received_events_url": "https://api.github.com/users/jdmcbr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-10-18T05:53:42Z", "updated_at": "2017-10-28T20:13:07Z", "closed_at": "2017-10-23T21:24:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1177", "html_url": "https://github.com/rasterio/rasterio/pull/1177", "diff_url": "https://github.com/rasterio/rasterio/pull/1177.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1177.patch", "merged_at": "2017-10-23T21:24:20Z"}, "body": "The Mixin classes were in io, and imported within the vrt module,\r\nbut the io module also imported the vrt module (within _io). This\r\nworked when copy was being imported before io in `__init__`, but removing\r\nthat import from `__init__` produced a circular import.\r\n\r\nThis addresses #1174, and should permit the necessary import removal for #1173 (at least I can remove the copy import from `__init__` without issue on this branch). cc @geowurster ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1177/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1176", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1176/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1176/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1176/events", "html_url": "https://github.com/rasterio/rasterio/pull/1176", "id": 265541606, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ2NjMxODc1", "number": 1176, "title": "Prevent segfaults in rasterize", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 7, "created_at": "2017-10-15T03:06:03Z", "updated_at": "2017-10-23T19:36:54Z", "closed_at": "2017-10-19T13:48:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1176", "html_url": "https://github.com/rasterio/rasterio/pull/1176", "diff_url": "https://github.com/rasterio/rasterio/pull/1176.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1176.patch", "merged_at": "2017-10-19T13:48:46Z"}, "body": "Resolves #1172 \r\n\r\nThis PR helps ensure that we catch invalid geometries sooner, before we pass them to GDAL and get a segfault.\r\n\r\nDoing so involved adding a lightweight test of `GeoJSON` validity.  Note: unlike the GeoJSON spec, here an empty `GeometryCollection` is considered invalid.  (technically we don't need to consider it invalid, but then would need a later check that it is non-empty).", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1176/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1174", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1174/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1174/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1174/events", "html_url": "https://github.com/rasterio/rasterio/issues/1174", "id": 265467349, "node_id": "MDU6SXNzdWUyNjU0NjczNDk=", "number": 1174, "title": "Removing 'from rasterio._copy import copy' in 'rasterio/__init__.py' triggers an error", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351216954, "node_id": "MDU6TGFiZWwzNTEyMTY5NTQ=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/advanced", "name": "advanced", "color": "000000", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2017-10-14T05:53:26Z", "updated_at": "2017-11-27T04:24:33Z", "closed_at": "2017-11-27T04:24:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Discovered in #1173.  Deleting `from rasterio._copy import copy` in `rasterio/__init__.py` triggers this `ImportError`:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"buh.py\", line 1, in <module>\r\n    import rasterio\r\n  File \"/Users/wursterk/code/rasterio/rasterio/__init__.py\", line 25, in <module>\r\n    from rasterio.io import (\r\n  File \"/Users/wursterk/code/rasterio/rasterio/io.py\", line 13, in <module>\r\n    from rasterio._io import (\r\n  File \"rasterio/_io.pyx\", line 31, in init rasterio._io\r\n    from rasterio.vrt import WarpedVRT\r\n  File \"/Users/wursterk/code/rasterio/rasterio/vrt.py\", line 4, in <module>\r\n    from rasterio.io import WindowMethodsMixin, TransformMethodsMixin\r\nImportError: cannot import name 'WindowMethodsMixin'\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1174/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1172", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1172/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1172/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1172/events", "html_url": "https://github.com/rasterio/rasterio/issues/1172", "id": 264936076, "node_id": "MDU6SXNzdWUyNjQ5MzYwNzY=", "number": 1172, "title": "Rasterize segfaults when passing a shapely GeometryCollection", "user": {"login": "dionhaefner", "id": 11994217, "node_id": "MDQ6VXNlcjExOTk0MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/11994217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dionhaefner", "html_url": "https://github.com/dionhaefner", "followers_url": "https://api.github.com/users/dionhaefner/followers", "following_url": "https://api.github.com/users/dionhaefner/following{/other_user}", "gists_url": "https://api.github.com/users/dionhaefner/gists{/gist_id}", "starred_url": "https://api.github.com/users/dionhaefner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dionhaefner/subscriptions", "organizations_url": "https://api.github.com/users/dionhaefner/orgs", "repos_url": "https://api.github.com/users/dionhaefner/repos", "events_url": "https://api.github.com/users/dionhaefner/events{/privacy}", "received_events_url": "https://api.github.com/users/dionhaefner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-10-12T13:10:27Z", "updated_at": "2017-10-19T13:48:46Z", "closed_at": "2017-10-19T13:48:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Steps to reproduce the problem.\r\n\r\n```python\r\nimport rasterio.features\r\nimport shapely.geometry\r\n\r\ncollection = shapely.geometry.GeometryCollection([])\r\nrasterio.features.rasterize([(collection, 1)], out_shape=[1,1])\r\n```\r\n\r\n(same with non-empty / non-trivial collections)\r\n\r\n## Operating system\r\n\r\nWindows 10\r\n\r\n## Rasterio version and provenance\r\n\r\n> rasterio                  0.36.0                   py27_0    conda-forge\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1170", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1170/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1170/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1170/events", "html_url": "https://github.com/rasterio/rasterio/issues/1170", "id": 264753020, "node_id": "MDU6SXNzdWUyNjQ3NTMwMjA=", "number": 1170, "title": "transform_geom() not properly catching NULL", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}, {"id": 602660531, "node_id": "MDU6TGFiZWw2MDI2NjA1MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/env", "name": "env", "color": "7ccc8d", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-10-11T22:12:46Z", "updated_at": "2023-01-23T21:42:30Z", "closed_at": "2023-01-23T21:42:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I haven't dug into the code, but it looks like we're not catching a `NULL` somewhere in `transform_geom()` in some cases.\r\n\r\nSample code:\r\n\r\n```python\r\nimport rasterio as rio\r\nfrom rasterio.warp import transform, transform_geom\r\n\r\n\r\n# A polygon around 180, 90 with a single point falling outside the bounds\r\n# of EPSG:4326.\r\ngeom = {\r\n    'type': 'Polygon',\r\n    'coordinates': [[\r\n        [178, 83],\r\n        [178, 84],\r\n        [181, 91],  # Out of bounds\r\n        [179, 83],\r\n        [178, 83]\r\n    ]]\r\n}\r\n\r\n\r\n# Everything is fine.  Only 3 out of 4 points are reprojected as expected.\r\nprint(\"---> rasterio.Env(OGR_ENABLE_PARTIAL_REPROJECTION=True)\")\r\nwith rio.Env(OGR_ENABLE_PARTIAL_REPROJECTION=True):\r\n    reproj = transform_geom('EPSG:4326', 'EPSG:3857', geom)\r\n\r\n\r\n# A SystemError\r\nprint(\"---> rasterio.Env(OGR_ENABLE_PARTIAL_REPROJECTION=False)\")\r\ntry:\r\n    with rio.Env(OGR_ENABLE_PARTIAL_REPROJECTION=False):\r\n        reproj = transform_geom('EPSG:4326', 'EPSG:3857', geom)\r\nexcept SystemError as e:\r\n    print(str(e))\r\n\r\n\r\n# Error handler picks up the error\r\nprint(\"---> Default rasterio.Env(), which has OGR_ENABLE_PARTIAL_REPROJECTION=False\")\r\ntry:\r\n    reproj = transform_geom('EPSG:4326', 'EPSG:3857', geom)\r\nexcept Exception as e:\r\n    print(str(e))\r\n```\r\n\r\nproduces:\r\n\r\n```\r\n---> rasterio.Env(OGR_ENABLE_PARTIAL_REPROJECTION=True)\r\n---> rasterio.Env(OGR_ENABLE_PARTIAL_REPROJECTION=False)\r\n<built-in function _transform_geom> returned NULL without setting an error\r\n---> Default rasterio.Env(), which has OGR_ENABLE_PARTIAL_REPROJECTION=False\r\nFull reprojection failed, but partial is possible if you define OGR_ENABLE_PARTIAL_REPROJECTION configuration option to TRUE\r\n```\r\n\r\nThe second and third test cases both use `OGR_ENABLE_PARTIAL_REPROJECTION=False`, but an error is triggered in the second that is not in the third.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1170/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1167", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1167/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1167/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1167/events", "html_url": "https://github.com/rasterio/rasterio/pull/1167", "id": 263981107, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ1NTE1MjQw", "number": 1167, "title": "Stop open's inner Env from clobbering outer env creds", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/56", "html_url": "https://github.com/rasterio/rasterio/milestone/56", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/56/labels", "id": 2631911, "node_id": "MDk6TWlsZXN0b25lMjYzMTkxMQ==", "number": 56, "title": "1.0a10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2017-07-10T14:45:02Z", "updated_at": "2018-08-06T15:24:53Z", "due_on": null, "closed_at": "2017-10-09T21:57:13Z"}, "comments": 1, "created_at": "2017-10-09T18:10:21Z", "updated_at": "2017-10-09T18:32:47Z", "closed_at": "2017-10-09T18:32:40Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1167", "html_url": "https://github.com/rasterio/rasterio/pull/1167", "diff_url": "https://github.com/rasterio/rasterio/pull/1167.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1167.patch", "merged_at": "2017-10-09T18:32:40Z"}, "body": "Resolves #1075", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1167/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1161", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1161/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1161/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1161/events", "html_url": "https://github.com/rasterio/rasterio/pull/1161", "id": 262235303, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ0Mjg4ODA4", "number": 1161, "title": "Switch to warped vrt internally for boundless reads", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/56", "html_url": "https://github.com/rasterio/rasterio/milestone/56", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/56/labels", "id": 2631911, "node_id": "MDk6TWlsZXN0b25lMjYzMTkxMQ==", "number": 56, "title": "1.0a10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2017-07-10T14:45:02Z", "updated_at": "2018-08-06T15:24:53Z", "due_on": null, "closed_at": "2017-10-09T21:57:13Z"}, "comments": 9, "created_at": "2017-10-02T21:30:55Z", "updated_at": "2017-10-09T20:19:53Z", "closed_at": "2017-10-07T00:44:57Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1161", "html_url": "https://github.com/rasterio/rasterio/pull/1161", "diff_url": "https://github.com/rasterio/rasterio/pull/1161.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1161.patch", "merged_at": "2017-10-07T00:44:57Z"}, "body": "Rasterio has offered \"boundless reads\" as a feature \u2013 you can read an image window (in pixel space) that goes beyond the source raster's rows and columns and rasterio performs VRT-like source reading and compositing. The math has been buggy: at best it doesn't exactly match GDAL's math and, at worst, can drop a line or row of data.\r\n\r\nThis PR fixes the bug by switching from an approximation of GDAL's VRT logic to the use of a temporary VRT that represents the boundless window. It provides more accurate and reliable results and eliminates 2 chunks of brittle code in _io.pyx.\r\n\r\nI'm using a warped VRT because GDAL doesn't surface a non-warped VRT constructor in its C API. As far as I can tell, reprojection is short-circuited when the input and output crs are the same. I think this is good enough for 1.0 and we could look at a more optimal implementation after that.\r\n\r\nI'm concerned that source overviews will be skipped when we use the VRT like this. Notice that we read from the VRT at its full resolution. It seems that the test at https://github.com/OSGeo/gdal/blob/8372431040f2b17bb5f6b643c2bfdfcec8d6f630/gdal/frmts/vrt/vrtsourcedrasterband.cpp#L169 will thus fail and source overviews would be skipped. I'm going to ask GDAL developers for confirmation and guidance on this point.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1161/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1161/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1150", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1150/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1150/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1150/events", "html_url": "https://github.com/rasterio/rasterio/issues/1150", "id": 258116852, "node_id": "MDU6SXNzdWUyNTgxMTY4NTI=", "number": 1150, "title": "Segfault in read() when out_shape has the wrong dimension", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-09-15T17:54:05Z", "updated_at": "2017-09-18T20:35:59Z", "closed_at": "2017-09-18T20:35:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Version: master branch, probably affects earlier versions\r\n\r\n```\r\n$ rio insp file.jp2\r\nRasterio 1.0a10 Interactive Inspector (Python 3.6.0)\r\nType \"src.meta\", \"src.read(1)\", or \"help(src)\" for more information.\r\n>>> src.profile\r\n{'driver': 'JP2OpenJPEG', 'dtype': 'uint8', 'nodata': None, 'width': 20000, 'height': 20000, 'count': 4, 'crs': CRS({'init': 'epsg:26917'}), 'transform': Affine(0.07499999999999708, 0.0, 306000.0,\r\n       0.0, -0.07499999999995344, 4408500.0), 'blockxsize': 1024, 'blockysize': 1024, 'tiled': True, 'interleave': 'pixel'}\r\n>>> bands = src.read(out_shape=(2000, 2000))\r\nSegmentation fault: 11\r\n```\r\n\r\nRead succeeds with `out_shape=(4, 2000, 2000)`.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1150/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1149", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1149/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1149/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1149/events", "html_url": "https://github.com/rasterio/rasterio/issues/1149", "id": 257496542, "node_id": "MDU6SXNzdWUyNTc0OTY1NDI=", "number": 1149, "title": "Rasterio's GDAL config value normalization doesn't always work", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}, {"id": 602660531, "node_id": "MDU6TGFiZWw2MDI2NjA1MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/env", "name": "env", "color": "7ccc8d", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2017-09-13T19:37:16Z", "updated_at": "2018-09-24T18:11:13Z", "closed_at": "2018-09-24T18:11:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Rasterio normalizes creation options like [`str(v).upper()`](https://github.com/mapbox/rasterio/blob/b69f4c061574952dd78ba924b8b3cc64df1122e0/rasterio/_io.pyx#L1873), which works for strings and ints, but not always for `True` and `False`. \r\n GeoTIFF's `ALPHA` creation option requires [`YES` or `NO`](http://www.gdal.org/frmt_gtiff.html) (and some other strings).  Using `True` results in a 4 band image where photometric interpretation is RGB, but the 4th band's color interpretation is `undefined`.  We normalize config options to [`ON` and `OFF`](https://github.com/mapbox/rasterio/blob/master/rasterio/_env.pyx#L141), but that also won't work for this creation option.  Verified on `1.0a9` and `master`.\r\n\r\nExample:\r\n\r\n```python\r\nimport rasterio\r\n\r\n\r\nprofile = {\r\n    'height': 1,\r\n    'width': 1,\r\n    'dtype': rasterio.uint8,\r\n    'count': 4,\r\n    'driver': 'GTiff',\r\n    'photometric': 'rgb',\r\n    'alpha': True\r\n}\r\n\r\n\r\ntrue_profile = profile.copy()\r\ntrue_profile['alpha'] = True\r\nwith rasterio.open('true.tif', 'w', **true_profile) as dst:\r\n    pass\r\nprint(\"True\")\r\nwith rasterio.open('true.tif') as src:\r\n    print([src.colorinterp(i) for i in range(1, src.count + 1)])\r\n\r\n\r\nyes_profile = profile.copy()\r\nyes_profile['alpha'] = 'yes'\r\nwith rasterio.open('yes.tif', 'w', **yes_profile) as dst:\r\n    pass\r\nprint(\"Yes\")\r\nwith rasterio.open('yes.tif') as src:\r\n    print([src.colorinterp(i) for i in range(1, src.count + 1)])\r\n\r\n\r\non_profile = profile.copy()\r\non_profile['alpha'] = 'on'\r\nwith rasterio.open('on.tif', 'w', **on_profile) as dst:\r\n    pass\r\nprint(\"On\")\r\nwith rasterio.open('on.tif') as src:\r\n    print([src.colorinterp(i) for i in range(1, src.count + 1)])\r\n\r\n\r\nfalse_profile = profile.copy()\r\nfalse_profile['alpha'] = False\r\nprint(\"False\")\r\nwith rasterio.open('false.tif', 'w', **true_profile) as dst:\r\n    pass\r\nwith rasterio.open('false.tif') as src:\r\n    print([src.colorinterp(i) for i in range(1, src.count + 1)])\r\n\r\n\r\nno_profile = profile.copy()\r\nno_profile['alpha'] = 'no'\r\nprint(\"No\")\r\nwith rasterio.open('no.tif', 'w', **true_profile) as dst:\r\n    pass\r\nwith rasterio.open('no.tif') as src:\r\n    print([src.colorinterp(i) for i in range(1, src.count + 1)])\r\n\r\n\r\noff_profile = profile.copy()\r\noff_profile['alpha'] = 'off'\r\nwith rasterio.open('off.tif', 'w', **on_profile) as dst:\r\n    pass\r\nprint(\"Off\")\r\nwith rasterio.open('off.tif') as src:\r\n    print([src.colorinterp(i) for i in range(1, src.count + 1)])\r\n```\r\n\r\nproduces:\r\n\r\n```python\r\nTrue\r\n[<ColorInterp.red: 3>, <ColorInterp.green: 4>, <ColorInterp.blue: 5>, <ColorInterp.undefined: 0>]\r\nYes\r\n[<ColorInterp.red: 3>, <ColorInterp.green: 4>, <ColorInterp.blue: 5>, <ColorInterp.alpha: 6>]\r\nOn\r\n[<ColorInterp.red: 3>, <ColorInterp.green: 4>, <ColorInterp.blue: 5>, <ColorInterp.undefined: 0>]\r\nFalse\r\n[<ColorInterp.red: 3>, <ColorInterp.green: 4>, <ColorInterp.blue: 5>, <ColorInterp.undefined: 0>]\r\nNo\r\n[<ColorInterp.red: 3>, <ColorInterp.green: 4>, <ColorInterp.blue: 5>, <ColorInterp.undefined: 0>]\r\nOff\r\n[<ColorInterp.red: 3>, <ColorInterp.green: 4>, <ColorInterp.blue: 5>, <ColorInterp.undefined: 0>]\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1149/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1149/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1143", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1143/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1143/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1143/events", "html_url": "https://github.com/rasterio/rasterio/issues/1143", "id": 256240108, "node_id": "MDU6SXNzdWUyNTYyNDAxMDg=", "number": 1143, "title": "Internal rounding within windows.py::round_offsets() and round_lengths() should be optional", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/90", "html_url": "https://github.com/rasterio/rasterio/milestone/90", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/90/labels", "id": 4646414, "node_id": "MDk6TWlsZXN0b25lNDY0NjQxNA==", "number": 90, "title": "post-1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-09-09T22:51:33Z", "updated_at": "2021-04-07T13:55:06Z", "due_on": null, "closed_at": "2021-04-07T13:55:06Z"}, "comments": 3, "created_at": "2017-09-08T12:34:24Z", "updated_at": "2019-10-03T20:12:24Z", "closed_at": "2018-05-18T15:46:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Use case:\r\ngiven a floating point window, for example, derived from a polygon intersected with a raster\r\n```\r\nWindow(col_off=1.9999, row_off=1.9999, width=3.001, height=3.001)\r\n```\r\n\r\nWe want to be able to derive the outermost pixel indices that contain that polygon by default:\r\n```\r\nWindow(col_off=1, row_off=1, width=4, height=4)\r\n```\r\nWe can opt-in to rounding if that is desirable for a given use case (e.g., to snap to closest rather than outermost index).\r\n\r\nRight now, `round_offsets()` and `round_lengths()` use internal rounding prior to applying `ceil` or `floor` to a given value:\r\nhttps://github.com/mapbox/rasterio/blob/master/rasterio/windows.py#L601-L603\r\n\r\nSeems like we have 2 options:\r\n1. make the `pixel_precision` parameter optional, default `None`.  Only apply rounding if provided.\r\n2. add a pair of new functions `snap_offsets()` and `snap_lengths()` that apply only `ceil` or `floor` and not internal rounding.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1143/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1141", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1141/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1141/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1141/events", "html_url": "https://github.com/rasterio/rasterio/issues/1141", "id": 256012029, "node_id": "MDU6SXNzdWUyNTYwMTIwMjk=", "number": 1141, "title": "Error when reading a dataset with window and boundless to a buffer ", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 3, "created_at": "2017-09-07T17:23:34Z", "updated_at": "2018-06-22T00:07:49Z", "closed_at": "2018-06-22T00:07:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "**Version:** `master (1.0a10)`\r\n\r\nWhen reading window at resolution higher native resolution `src.read` return an error.\r\n\r\n```python\r\ndata = src.read(window=window, \r\n    out_shape=(512, 512), \r\n    indexes=1,  boundless=True)\r\n\r\nValueError: could not broadcast input array from shape (515,515) into shape (512,512)\r\n```\r\n\r\nThis error wasn't present in rasterio `1.0a9`. I believe the error is happening somewhere here\r\nhttps://github.com/mapbox/rasterio/blob/6fc3ab334200920819dc2ae063c7845988bcd9fc/rasterio/_io.pyx#L336-L347\r\n\r\nThe major change I'm seing between `1.0a9` to `1.0a10` is the window overlap calculation : https://github.com/mapbox/rasterio/blob/6fc3ab334200920819dc2ae063c7845988bcd9fc/rasterio/_io.pyx#L324-L325\r\n\r\nthat could have an impact on https://github.com/mapbox/rasterio/blob/6fc3ab334200920819dc2ae063c7845988bcd9fc/rasterio/_io.pyx#L342-L344\r\n\r\nThe issue is summarized in this [notebook](https://gist.github.com/vincentsarago/e7e0ec1edf4732108c7ef27deca0a5d5)\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1141/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1140", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1140/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1140/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1140/events", "html_url": "https://github.com/rasterio/rasterio/issues/1140", "id": 255958602, "node_id": "MDU6SXNzdWUyNTU5NTg2MDI=", "number": 1140, "title": "VRT doesn't overwrite nodata", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-09-07T14:34:24Z", "updated_at": "2017-09-26T18:14:58Z", "closed_at": "2017-09-26T18:14:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Rasterio `vrt` code says that we can set `dst_nodata` to be different from the `src_nodata`:\r\nhttps://github.com/mapbox/rasterio/blob/40afba58bb0a3b3d92639e4d44b50c06c394bd32/rasterio/vrt.py#L29-L33\r\n\r\nbut it don't seem to work \r\n\r\n```python\r\nimport rasterio as rio\r\nfrom rasterio.vrt import WarpedVRT\r\n\u200b\r\nfilename = 's3://landsat-pds/c1/L8/014/033/LC08_L1TP_014033_20170730_20170811_01_T1/LC08_L1TP_014033_20170730_20170811_01_T1_B4.TIF'\r\nwith rio.open(filename) as src:\r\n    print(f'Source nodata is {src.nodata}')\r\n\u200b\r\nSource nodata is None\r\n\r\nwith rio.open(filename) as src:\r\n    with WarpedVRT(src, dst_crs='EPSG:3857',\r\n        src_nodata=0, dst_nodata=0) as vrt:\r\n        print(f'Expecting nodata to be 0 but is set to {vrt.nodata}')\r\n\r\nExpecting nodata to be 0 but is set to None\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1140/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1139", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1139/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1139/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1139/events", "html_url": "https://github.com/rasterio/rasterio/issues/1139", "id": 255482551, "node_id": "MDU6SXNzdWUyNTU0ODI1NTE=", "number": 1139, "title": "Epsilon used in transform.py::rowcol() appears to be introducing errors", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/57", "html_url": "https://github.com/rasterio/rasterio/milestone/57", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/57/labels", "id": 2820680, "node_id": "MDk6TWlsZXN0b25lMjgyMDY4MA==", "number": 57, "title": "post-1.0a10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2017-10-06T18:44:00Z", "updated_at": "2019-10-03T20:12:24Z", "due_on": null, "closed_at": "2018-06-25T20:00:00Z"}, "comments": 4, "created_at": "2017-09-06T05:10:22Z", "updated_at": "2018-05-18T15:46:11Z", "closed_at": "2018-05-18T15:46:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I could be misinterpreting the intent of `epsilon` as used in this function, but combined with passing in `op=float` as used by `windows.py::from_bounds()` to get a window within a raster, it appears to be adding undesirable effects.\r\n\r\nFor example, take a 10x10 raster with `Affine.identity()` transform:\r\n`rowcol(src.transform, 0, 0, op=float)` => `(-8e-07, 8e-07)`\r\n\r\nbut it seems like it should return `(0, 0)` instead.  \r\n\r\nIt seems like we would only want to apply the epsilon in particular cases.  The docstring doesn't quite match the implementation, so I'm not quite sure what to go by here (`floor`, `ceil`, `round` are specified as options for `op` but not `float`).\r\n\r\nI can check in a failing test if that would help.  Our tests of `rowcol` do not cover this case.\r\n\r\nThis was first detected in #1136 and is confounding some of the refactoring there.\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1139/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1134", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1134/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1134/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1134/events", "html_url": "https://github.com/rasterio/rasterio/pull/1134", "id": 254227721, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM4NTkwMDUx", "number": 1134, "title": "Enable setting color interpretation", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167170, "node_id": "MDU6TGFiZWw2NDE2NzE3MA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/enhancement", "name": "enhancement", "color": "00449e", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2017-08-31T06:33:24Z", "updated_at": "2017-11-02T03:13:44Z", "closed_at": "2017-11-02T03:02:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1134", "html_url": "https://github.com/rasterio/rasterio/pull/1134", "diff_url": "https://github.com/rasterio/rasterio/pull/1134.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1134.patch", "merged_at": "2017-11-02T03:02:36Z"}, "body": "Closes #1133\r\n\r\nThis PR adds support for setting color interpretation via `ds.set_colorInterp(bids, ColorInterp.enum)` and `$ rio edit-info --colorinterp`.  I also split the `$ rio edit-info` tests into their own module and consolidated some duplicate tests with `@pytest.mark.parametrize()`.\r\n\r\nI discovered https://github.com/mapbox/rasterio/issues/100#issuecomment-47825054 as I was opening this PR, and I'm not sure if its still valid.  I seem to be able set color interpretation with the exception of `undefined`, which may be readonly?  I'm seeing some weird behavior that is currently blocked by raising an exception in this PR, but I need to dig into it.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1134/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1131", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1131/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1131/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1131/events", "html_url": "https://github.com/rasterio/rasterio/issues/1131", "id": 253499251, "node_id": "MDU6SXNzdWUyNTM0OTkyNTE=", "number": 1131, "title": "MemoryError when calculating transforms for large rasters", "user": {"login": "mojodna", "id": 45, "node_id": "MDQ6VXNlcjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/45?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mojodna", "html_url": "https://github.com/mojodna", "followers_url": "https://api.github.com/users/mojodna/followers", "following_url": "https://api.github.com/users/mojodna/following{/other_user}", "gists_url": "https://api.github.com/users/mojodna/gists{/gist_id}", "starred_url": "https://api.github.com/users/mojodna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mojodna/subscriptions", "organizations_url": "https://api.github.com/users/mojodna/orgs", "repos_url": "https://api.github.com/users/mojodna/repos", "events_url": "https://api.github.com/users/mojodna/events{/privacy}", "received_events_url": "https://api.github.com/users/mojodna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216954, "node_id": "MDU6TGFiZWwzNTEyMTY5NTQ=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/advanced", "name": "advanced", "color": "000000", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/66", "html_url": "https://github.com/rasterio/rasterio/milestone/66", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/66/labels", "id": 3675803, "node_id": "MDk6TWlsZXN0b25lMzY3NTgwMw==", "number": 66, "title": "1.0.6", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2018-09-20T19:47:56Z", "updated_at": "2018-09-24T20:44:55Z", "due_on": null, "closed_at": "2018-09-24T20:44:55Z"}, "comments": 17, "created_at": "2017-08-29T01:03:22Z", "updated_at": "2018-09-24T20:43:48Z", "closed_at": "2018-09-24T20:43:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When calculating the default transform for a large raster (45588 \ud835\uddd1 45445), rasterio throws me a `MemoryError` instead of some usable values.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nfrom rasterio.crs import CRS\r\nfrom rasterio.warp import calculate_default_transform\r\ncalculate_default_transform(CRS.from_epsg(4326), CRS.from_epsg(3857), 45588, 45445, 13.0460235139, 42.6925552354, 13.2511695428, 42.8970561511)\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu 16.04, under Docker w/ 4GB RAM allocated.\r\n\r\n## Rasterio version and provenance\r\n\r\n6fc3ab334200920819dc2ae063c7845988bcd9fc compiled against GDAL 2.2.1.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1131/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1129", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1129/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1129/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1129/events", "html_url": "https://github.com/rasterio/rasterio/pull/1129", "id": 253194668, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM3ODUxMTA1", "number": 1129, "title": "Use height/width instead of num_row/num_col in mask", "user": {"login": "jdmcbr", "id": 666108, "node_id": "MDQ6VXNlcjY2NjEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/666108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdmcbr", "html_url": "https://github.com/jdmcbr", "followers_url": "https://api.github.com/users/jdmcbr/followers", "following_url": "https://api.github.com/users/jdmcbr/following{/other_user}", "gists_url": "https://api.github.com/users/jdmcbr/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdmcbr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdmcbr/subscriptions", "organizations_url": "https://api.github.com/users/jdmcbr/orgs", "repos_url": "https://api.github.com/users/jdmcbr/repos", "events_url": "https://api.github.com/users/jdmcbr/events{/privacy}", "received_events_url": "https://api.github.com/users/jdmcbr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/56", "html_url": "https://github.com/rasterio/rasterio/milestone/56", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/56/labels", "id": 2631911, "node_id": "MDk6TWlsZXN0b25lMjYzMTkxMQ==", "number": 56, "title": "1.0a10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2017-07-10T14:45:02Z", "updated_at": "2018-08-06T15:24:53Z", "due_on": null, "closed_at": "2017-10-09T21:57:13Z"}, "comments": 0, "created_at": "2017-08-27T22:31:37Z", "updated_at": "2017-08-28T16:32:49Z", "closed_at": "2017-08-28T16:32:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1129", "html_url": "https://github.com/rasterio/rasterio/pull/1129", "diff_url": "https://github.com/rasterio/rasterio/pull/1129.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1129.patch", "merged_at": "2017-08-28T16:32:49Z"}, "body": "The window attributes `num_row`/`num_col` were deprecated in #1074.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1129/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1123", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1123/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1123/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1123/events", "html_url": "https://github.com/rasterio/rasterio/pull/1123", "id": 252128827, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM3MTA5NDk2", "number": 1123, "title": "fixing read imshow", "user": {"login": "choldgraf", "id": 1839645, "node_id": "MDQ6VXNlcjE4Mzk2NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1839645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/choldgraf", "html_url": "https://github.com/choldgraf", "followers_url": "https://api.github.com/users/choldgraf/followers", "following_url": "https://api.github.com/users/choldgraf/following{/other_user}", "gists_url": "https://api.github.com/users/choldgraf/gists{/gist_id}", "starred_url": "https://api.github.com/users/choldgraf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/choldgraf/subscriptions", "organizations_url": "https://api.github.com/users/choldgraf/orgs", "repos_url": "https://api.github.com/users/choldgraf/repos", "events_url": "https://api.github.com/users/choldgraf/events{/privacy}", "received_events_url": "https://api.github.com/users/choldgraf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/56", "html_url": "https://github.com/rasterio/rasterio/milestone/56", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/56/labels", "id": 2631911, "node_id": "MDk6TWlsZXN0b25lMjYzMTkxMQ==", "number": 56, "title": "1.0a10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2017-07-10T14:45:02Z", "updated_at": "2018-08-06T15:24:53Z", "due_on": null, "closed_at": "2017-10-09T21:57:13Z"}, "comments": 9, "created_at": "2017-08-23T00:51:13Z", "updated_at": "2017-09-14T15:27:27Z", "closed_at": "2017-09-14T14:04:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1123", "html_url": "https://github.com/rasterio/rasterio/pull/1123", "diff_url": "https://github.com/rasterio/rasterio/pull/1123.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1123.patch", "merged_at": "2017-09-14T14:04:56Z"}, "body": "I noticed that the function `reshape_as_image` wasn't being called if I explicitly passed 3 bands to my `rio.plot.show` function. This was causing `imshow` to break. This PR adds that in, as well as a test for it. It also removes the indentation on some of the other `with` statements in that block because it seemed like they were inadvertently indented one extra tab, but LMK if that was intentional and I can revert.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1123/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1123/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1121", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1121/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1121/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1121/events", "html_url": "https://github.com/rasterio/rasterio/issues/1121", "id": 251471948, "node_id": "MDU6SXNzdWUyNTE0NzE5NDg=", "number": 1121, "title": "query params in https url is not working", "user": {"login": "guydou", "id": 93029, "node_id": "MDQ6VXNlcjkzMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/93029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guydou", "html_url": "https://github.com/guydou", "followers_url": "https://api.github.com/users/guydou/followers", "following_url": "https://api.github.com/users/guydou/following{/other_user}", "gists_url": "https://api.github.com/users/guydou/gists{/gist_id}", "starred_url": "https://api.github.com/users/guydou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guydou/subscriptions", "organizations_url": "https://api.github.com/users/guydou/orgs", "repos_url": "https://api.github.com/users/guydou/repos", "events_url": "https://api.github.com/users/guydou/events{/privacy}", "received_events_url": "https://api.github.com/users/guydou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 2, "created_at": "2017-08-20T07:21:17Z", "updated_at": "2017-11-02T19:10:26Z", "closed_at": "2017-11-02T19:10:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi \r\n\r\nI wanted to use rasterio with a https url that has query-params, for example: https://.....?a=a&b=b\r\nFirst I wanted to see if gdal supports that kind of url and gdal does, so I looked for the code in rasterio that is responsible for cutting the url, \r\n\r\nIt can be found here:\r\nhttps://github.com/mapbox/rasterio/blob/master/rasterio/vfs.py#L32\r\n\r\nI added in my env the following code:\r\n```\r\n          if parts.query:  \r\n             path += \"?\" + parts.query       \r\n```\r\n\r\nand it solved the issue, \r\n\r\nIs there a reason for cutting the querystring?\r\n\r\n\r\n\r\nThanks, Guy\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1108", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1108/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1108/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1108/events", "html_url": "https://github.com/rasterio/rasterio/issues/1108", "id": 247581324, "node_id": "MDU6SXNzdWUyNDc1ODEzMjQ=", "number": 1108, "title": "rio info tests/data/float.tif aborts", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/56", "html_url": "https://github.com/rasterio/rasterio/milestone/56", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/56/labels", "id": 2631911, "node_id": "MDk6TWlsZXN0b25lMjYzMTkxMQ==", "number": 56, "title": "1.0a10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2017-07-10T14:45:02Z", "updated_at": "2018-08-06T15:24:53Z", "due_on": null, "closed_at": "2017-10-09T21:57:13Z"}, "comments": 2, "created_at": "2017-08-03T03:20:53Z", "updated_at": "2017-08-04T16:57:27Z", "closed_at": "2017-08-04T16:57:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`rio info tests/data/float.tif` \r\n\r\nreturns \r\n`Aborted!`\r\n\r\n\r\nFailing test case for this here: https://github.com/mapbox/rasterio/compare/master...brendan-ward:rio_info_abort_err\r\n\r\nAborts on both OSX and Travis (errors shown [here](https://travis-ci.org/brendan-ward/rasterio/jobs/260450827))", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1108/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1104", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1104/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1104/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1104/events", "html_url": "https://github.com/rasterio/rasterio/pull/1104", "id": 246589752, "node_id": "MDExOlB1bGxSZXF1ZXN0MTMzMTMxODY0", "number": 1104, "title": "Resolve test segfaults on OSX", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/56", "html_url": "https://github.com/rasterio/rasterio/milestone/56", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/56/labels", "id": 2631911, "node_id": "MDk6TWlsZXN0b25lMjYzMTkxMQ==", "number": 56, "title": "1.0a10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2017-07-10T14:45:02Z", "updated_at": "2018-08-06T15:24:53Z", "due_on": null, "closed_at": "2017-10-09T21:57:13Z"}, "comments": 3, "created_at": "2017-07-30T15:14:11Z", "updated_at": "2017-08-01T02:27:56Z", "closed_at": "2017-07-31T20:21:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1104", "html_url": "https://github.com/rasterio/rasterio/pull/1104", "diff_url": "https://github.com/rasterio/rasterio/pull/1104.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1104.patch", "merged_at": "2017-07-31T20:21:25Z"}, "body": "Also cleaned up an import and removed a Cython warning.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1104/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1084", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1084/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1084/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1084/events", "html_url": "https://github.com/rasterio/rasterio/pull/1084", "id": 242668524, "node_id": "MDExOlB1bGxSZXF1ZXN0MTMwMzQ2NDIz", "number": 1084, "title": "Eliminate use of deprecated boundless keyword", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/56", "html_url": "https://github.com/rasterio/rasterio/milestone/56", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/56/labels", "id": 2631911, "node_id": "MDk6TWlsZXN0b25lMjYzMTkxMQ==", "number": 56, "title": "1.0a10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2017-07-10T14:45:02Z", "updated_at": "2018-08-06T15:24:53Z", "due_on": null, "closed_at": "2017-10-09T21:57:13Z"}, "comments": 0, "created_at": "2017-07-13T11:21:53Z", "updated_at": "2017-07-31T21:40:30Z", "closed_at": "2017-07-31T21:40:26Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1084", "html_url": "https://github.com/rasterio/rasterio/pull/1084", "diff_url": "https://github.com/rasterio/rasterio/pull/1084.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1084.patch", "merged_at": "2017-07-31T21:40:26Z"}, "body": "This PR addresses one class of deprecated API usage in the project. We aren't using the deprecated `boundless` keyword argument when calling `windows.from_bounds()` after this.\r\n\r\nResolves #1082\r\n\r\nPing @perrygeo for review.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1084/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1084/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1082", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1082/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1082/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1082/events", "html_url": "https://github.com/rasterio/rasterio/issues/1082", "id": 242537671, "node_id": "MDU6SXNzdWUyNDI1Mzc2NzE=", "number": 1082, "title": "Unavoidable DeprecationWarning on boundless keyword in windows.py", "user": {"login": "grovduck", "id": 1706997, "node_id": "MDQ6VXNlcjE3MDY5OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1706997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grovduck", "html_url": "https://github.com/grovduck", "followers_url": "https://api.github.com/users/grovduck/followers", "following_url": "https://api.github.com/users/grovduck/following{/other_user}", "gists_url": "https://api.github.com/users/grovduck/gists{/gist_id}", "starred_url": "https://api.github.com/users/grovduck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grovduck/subscriptions", "organizations_url": "https://api.github.com/users/grovduck/orgs", "repos_url": "https://api.github.com/users/grovduck/repos", "events_url": "https://api.github.com/users/grovduck/events{/privacy}", "received_events_url": "https://api.github.com/users/grovduck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/56", "html_url": "https://github.com/rasterio/rasterio/milestone/56", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/56/labels", "id": 2631911, "node_id": "MDk6TWlsZXN0b25lMjYzMTkxMQ==", "number": 56, "title": "1.0a10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2017-07-10T14:45:02Z", "updated_at": "2018-08-06T15:24:53Z", "due_on": null, "closed_at": "2017-10-09T21:57:13Z"}, "comments": 2, "created_at": "2017-07-12T22:45:35Z", "updated_at": "2017-07-31T21:40:26Z", "closed_at": "2017-07-31T21:40:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm completely lost on proper usage from changes within the new PR for window specification (#1074).  Here's a small sample:\r\n```\r\n>>> with rasterio.open('./tests/data/RGB.byte.tif') as src:\r\n...   w = src.window(*src.bounds)\r\n...\r\nC:\\Users\\gregorma\\Envs\\default\\lib\\site-packages\\rasterio\\windows.py:205: RasterioDeprecationWarning: boundless keyword should not be used\r\n  RasterioDeprecationWarning)\r\n>>> w\r\nWindow(col_off=2.6663542485039216e-09, row_off=2.6648194761946797e-09, width=791.0, height=718.0)    \r\n```\r\nIt looks like there is currently no way around getting the `DeprecationWarning` since the `boundless` keyword is getting set [here](https://github.com/mapbox/rasterio/blob/522cf4d7f45b9bf3a1d9ca2f42e6b9f417cd4e8e/rasterio/io.py#L134-L137) from the calling method.  I read through the PR trying to find reference on proper usage, but may have missed it.  I'm likely doing something dumb.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1082/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1077", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1077/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1077/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1077/events", "html_url": "https://github.com/rasterio/rasterio/issues/1077", "id": 237263451, "node_id": "MDU6SXNzdWUyMzcyNjM0NTE=", "number": 1077, "title": "GDAL GetMetadataItem('BLOCK_SIZE_%d_%d' % (c, r), 'TIFF')", "user": {"login": "ruitaodong", "id": 24610562, "node_id": "MDQ6VXNlcjI0NjEwNTYy", "avatar_url": "https://avatars.githubusercontent.com/u/24610562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ruitaodong", "html_url": "https://github.com/ruitaodong", "followers_url": "https://api.github.com/users/ruitaodong/followers", "following_url": "https://api.github.com/users/ruitaodong/following{/other_user}", "gists_url": "https://api.github.com/users/ruitaodong/gists{/gist_id}", "starred_url": "https://api.github.com/users/ruitaodong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ruitaodong/subscriptions", "organizations_url": "https://api.github.com/users/ruitaodong/orgs", "repos_url": "https://api.github.com/users/ruitaodong/repos", "events_url": "https://api.github.com/users/ruitaodong/events{/privacy}", "received_events_url": "https://api.github.com/users/ruitaodong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/56", "html_url": "https://github.com/rasterio/rasterio/milestone/56", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/56/labels", "id": 2631911, "node_id": "MDk6TWlsZXN0b25lMjYzMTkxMQ==", "number": 56, "title": "1.0a10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2017-07-10T14:45:02Z", "updated_at": "2018-08-06T15:24:53Z", "due_on": null, "closed_at": "2017-10-09T21:57:13Z"}, "comments": 14, "created_at": "2017-06-20T16:02:17Z", "updated_at": "2017-07-31T21:58:20Z", "closed_at": "2017-07-31T21:58:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been using GDAL/QGIS (carry over from my remote sensing days) for deep learning in digital pathology.  We primarily deal with JPEG tiles in TIFF pyramid images.  I have since found rasterio which is so much more convenient.  However, one feature I need is to access jpeg length of each block (tiffinfo -s), which is a good indicator of empty or nearly empty space. In gdal, it is\r\n\r\nGetRasterBand(1).GetMetadataItem('BLOCK_SIZE_%d_%d' % (c, r), 'TIFF')\r\n\r\nHowever, it doesn't show up in tags(), tags(1), or tags(ns='TIFF')\r\n\r\nI'm using version 0.31.0", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1077/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1077/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1076", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1076/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1076/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1076/events", "html_url": "https://github.com/rasterio/rasterio/issues/1076", "id": 237157582, "node_id": "MDU6SXNzdWUyMzcxNTc1ODI=", "number": 1076, "title": "Array-to-array resampling fails in Python 2 - long long warning?", "user": {"login": "j08lue", "id": 3404817, "node_id": "MDQ6VXNlcjM0MDQ4MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/3404817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j08lue", "html_url": "https://github.com/j08lue", "followers_url": "https://api.github.com/users/j08lue/followers", "following_url": "https://api.github.com/users/j08lue/following{/other_user}", "gists_url": "https://api.github.com/users/j08lue/gists{/gist_id}", "starred_url": "https://api.github.com/users/j08lue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j08lue/subscriptions", "organizations_url": "https://api.github.com/users/j08lue/orgs", "repos_url": "https://api.github.com/users/j08lue/repos", "events_url": "https://api.github.com/users/j08lue/events{/privacy}", "received_events_url": "https://api.github.com/users/j08lue/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 14, "created_at": "2017-06-20T10:06:23Z", "updated_at": "2018-12-17T15:40:40Z", "closed_at": "2018-12-17T15:40:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am trying to use `rasterio.warp.reproject` to resample data from a `ndarray` to a `ndarray` like this\r\n\r\n```python\r\nimport numpy as np\r\nimport rasterio\r\nimport rasterio.warp\r\nimport affine\r\n\r\ndef test_resample():\r\n\r\n    arr = (np.random.random((20, 30)) * 100).astype('int')\r\n    fill_value = 42\r\n    newarr = np.full((200, 300), fill_value=fill_value, dtype='int')\r\n\r\n    src_crs = {'init': 'EPSG:32632'}\r\n    src_transform = affine.Affine(600.0, 0.0, 399960.0, 0.0, -600.0, 6100020.0)\r\n    dst_transform = affine.Affine(60.0, 0.0, 399960.0, 0.0, -60.0, 6100020.0)\r\n\r\n    rasterio.warp.reproject(arr, newarr,\r\n        src_transform=src_transform,\r\n        dst_transform=dst_transform,\r\n        src_crs=src_crs,\r\n        dst_crs=src_crs,\r\n        resample=rasterio.warp.Resampling.nearest)\r\n\r\n    assert not (newarr == fill_value).all(), 'target array contains interpolated data'\r\n````\r\n\r\nIt works like a charm in Python 3, but in Python 2, it seems like no data is written to the `destination` array, as shown in [this notebook](https://gist.github.com/j08lue/f577d557dfd63d4af5db562f5abcfee4).\r\n\r\nAlso only in Python 2, I get the warning\r\n```\r\nException ValueError: \"Buffer dtype mismatch, expected 'long' but got 'long long'\" in 'rasterio._io.io_auto' ignored\r\n```\r\n\r\nMy assumption is that the same issue that causes the warning also means that the reference to the `destination` array is lost and the data is written to some copy of it instead.\r\n\r\nI know Python 3 merged `long` and `int`, so that is why the warning disappears. But is that also the reason why the `reproject` function works? \r\n\r\nBy the way, I get the warning / issue for any dtype I use, so it cannot be related to the `source` / `destination` arrays.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1076/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1076/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1075", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1075/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1075/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1075/events", "html_url": "https://github.com/rasterio/rasterio/issues/1075", "id": 237051199, "node_id": "MDU6SXNzdWUyMzcwNTExOTk=", "number": 1075, "title": "Using Open() with Env() not working", "user": {"login": "rmallermartins", "id": 2859673, "node_id": "MDQ6VXNlcjI4NTk2NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2859673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmallermartins", "html_url": "https://github.com/rmallermartins", "followers_url": "https://api.github.com/users/rmallermartins/followers", "following_url": "https://api.github.com/users/rmallermartins/following{/other_user}", "gists_url": "https://api.github.com/users/rmallermartins/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmallermartins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmallermartins/subscriptions", "organizations_url": "https://api.github.com/users/rmallermartins/orgs", "repos_url": "https://api.github.com/users/rmallermartins/repos", "events_url": "https://api.github.com/users/rmallermartins/events{/privacy}", "received_events_url": "https://api.github.com/users/rmallermartins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 5, "created_at": "2017-06-19T23:25:25Z", "updated_at": "2017-10-09T20:20:11Z", "closed_at": "2017-10-09T18:32:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to open a file stored in S3 like this:\r\n```\r\nSession = rasterio.env.Env(\r\n        aws_access_key_id='my-key', \r\n        aws_secret_access_key='my-other-key', \r\n        region_name='sa-east-1')\r\n\r\n    with Session:\r\n        dataset = rasterio.open(os.path.join(\"s3://mystorage/media/\", relative_path_to_img), 'r')\r\n```\r\n\r\nBut I'm getting a:\r\n```\r\nFile \"/home/ubuntu/.virtualenvs/farmgo-web-stage/lib/python3.5/site-packages/rasterio/__init__.py\", line 258, in open\r\n    env.get_aws_credentials()\r\n  File \"/home/ubuntu/.virtualenvs/farmgo-web-stage/lib/python3.5/site-packages/rasterio/env.py\", line 155, in get_aws_credentials\r\n    if self._creds.access_key:  # pragma: no branch\r\nAttributeError: 'NoneType' object has no attribute 'access_key'\r\n```\r\n\r\nIn a shell I created a Session and tried to get it's `_creds` property and it worked fine, seems like it's not using my session, even with the `with Session:` statement.\r\n\r\nLooking at rasterio `open()`, where the error comes from, it looks like it's using another, newly created, Env() instance:\r\n```\r\nwith Env() as env:\r\n    # Get AWS credentials only if we're attempting to access a\r\n    # raster using the S3 scheme.\r\n    if scheme == 's3':\r\n    env.get_aws_credentials()\r\n    log.debug(\"AWS credentials have been obtained\")\r\n```\r\n\r\nAm I doing something wrong? 'Cause I can't find any more documentation on how to use this", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1075/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1075/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1064", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1064/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1064/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1064/events", "html_url": "https://github.com/rasterio/rasterio/pull/1064", "id": 231775882, "node_id": "MDExOlB1bGxSZXF1ZXN0MTIyNzQ3Mjk2", "number": 1064, "title": "Fixed bug in dtypes.get_minimum_dtype()", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/54", "html_url": "https://github.com/rasterio/rasterio/milestone/54", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/54/labels", "id": 2540348, "node_id": "MDk6TWlsZXN0b25lMjU0MDM0OA==", "number": 54, "title": "1.0a9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2017-05-24T10:13:31Z", "updated_at": "2017-06-05T17:23:49Z", "due_on": null, "closed_at": "2017-06-05T17:23:49Z"}, "comments": 0, "created_at": "2017-05-27T05:01:45Z", "updated_at": "2017-12-05T14:49:48Z", "closed_at": "2017-05-27T08:13:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1064", "html_url": "https://github.com/rasterio/rasterio/pull/1064", "diff_url": "https://github.com/rasterio/rasterio/pull/1064.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1064.patch", "merged_at": "2017-05-27T08:13:27Z"}, "body": "`get_minimum_dtype()` was not returning working properly when numpy arrays with `uint`* dtypes were passed in.\r\n\r\nAdded tests to prove it and prevent regressions.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1064/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1064/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1063", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1063/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1063/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1063/events", "html_url": "https://github.com/rasterio/rasterio/issues/1063", "id": 231772220, "node_id": "MDU6SXNzdWUyMzE3NzIyMjA=", "number": 1063, "title": "WarpedVRT transform and results are not as expected", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216954, "node_id": "MDU6TGFiZWwzNTEyMTY5NTQ=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/advanced", "name": "advanced", "color": "000000", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/56", "html_url": "https://github.com/rasterio/rasterio/milestone/56", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/56/labels", "id": 2631911, "node_id": "MDk6TWlsZXN0b25lMjYzMTkxMQ==", "number": 56, "title": "1.0a10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2017-07-10T14:45:02Z", "updated_at": "2018-08-06T15:24:53Z", "due_on": null, "closed_at": "2017-10-09T21:57:13Z"}, "comments": 9, "created_at": "2017-05-27T03:40:21Z", "updated_at": "2017-07-10T14:45:02Z", "closed_at": "2017-07-10T14:44:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am comparing the prior method of using `reproject` for cutting out spherical mercator tiles to the new `WarpedVRT` method, and I'm not seeing the results I expect.\r\n\r\nWhere:\r\n`tile = mercantile.Tile(70, 101, 8)`\r\n\r\nUsing the reproject method I first derive a transform for the output (using the new `mercantile.xy_bounds()` from mercantile 0.10.0):\r\n\r\n```\r\ntransform = rasterio.transform.from_bounds(*mercantile.xy_bounds(*tile), 256, 256)\r\n\r\nout = np.empty(shape=(256, 256), dtype=src.profile['dtype'])\r\nreproject(\r\n    rasterio.band(src, src.indexes),\r\n    out,\r\n    dst_crs='EPSG:3857',\r\n    dst_transform=transform,\r\n    src_nodata=src.nodata,\r\n    dst_nodata=src.nodata,\r\n    num_threads=1,\r\n    resampling=Resampling.nearest\r\n)\r\n```\r\n\r\n`transform` is \r\n```\r\n| 611.50, 0.00,-9079495.97|\r\n| 0.00,-611.50, 4226661.92|\r\n| 0.00, 0.00, 1.00|\r\n```\r\n\r\nfor bounds in Spherical Mercator:\r\n`Bbox(left=-9079495.967826376, bottom=4070118.882129065, right=-8922952.933898335, top=4226661.916057106)`\r\n\r\nWhich looks correct: the transform of the extracted  tile matches the bounds of the tile.\r\n\r\n\r\nWhereas when I use the `WarpedVRT` method derived from the method in the docs:\r\n```\r\nwith rasterio.open('/tmp/test.tif') as src:\r\n    with WarpedVRT(src, dst_crs='EPSG:3857',\r\n        src_nodata=src.nodata,\r\n        dst_nodata=src.nodata,\r\n        resampling=Resampling.nearest) as vrt:\r\n\r\n        dst_window = vrt.window(*mercantile.xy_bounds(*tile), boundless=True)\r\n        vrt_data = vrt.read(window=dst_window, out_shape=(1, 256, 256))\r\n\r\n        dst_transform = vrt.window_transform(dst_window)\r\n        scaling = Affine.scale(dst_window.num_cols / 256,\r\n                               dst_window.num_rows / 256)\r\n        dst_transform *= scaling\r\n``` \r\n\r\nmy `dst_transform` is:\r\n\r\n```\r\n| 612.50, 0.00,-9079636.67|\r\n| 0.00,-612.50, 4226764.45|\r\n| 0.00, 0.00, 1.00|\r\n```\r\n\r\nThe output arrays are also not the same between the two approaches, so it isn't just that the calculation of the `dst_transform` is wrong.\r\n\r\nPerhaps I am interpreting the docs wrong?  They imply that using the `WarpedVRT` method should get to the same point: a tile in spherical mercator based on warping and extracting data for the bounds of that tile.  But this doesn't seem to be the case?\r\n\r\nIs there something I should be doing differently?", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1063/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1063/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1062", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1062/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1062/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1062/events", "html_url": "https://github.com/rasterio/rasterio/issues/1062", "id": 231682593, "node_id": "MDU6SXNzdWUyMzE2ODI1OTM=", "number": 1062, "title": "missing API docs", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2017-05-26T17:01:57Z", "updated_at": "2017-07-27T16:07:19Z", "closed_at": "2017-07-27T16:07:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://mapbox.github.io/rasterio/api/rasterio.warp.html is empty, as well as the other submodules.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1062/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1062/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1056", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1056/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1056/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1056/events", "html_url": "https://github.com/rasterio/rasterio/issues/1056", "id": 230893287, "node_id": "MDU6SXNzdWUyMzA4OTMyODc=", "number": 1056, "title": "warp.reproject fails when src is band and dst is 2d ndarray (1.0a8)", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/54", "html_url": "https://github.com/rasterio/rasterio/milestone/54", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/54/labels", "id": 2540348, "node_id": "MDk6TWlsZXN0b25lMjU0MDM0OA==", "number": 54, "title": "1.0a9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2017-05-24T10:13:31Z", "updated_at": "2017-06-05T17:23:49Z", "due_on": null, "closed_at": "2017-06-05T17:23:49Z"}, "comments": 0, "created_at": "2017-05-24T01:17:27Z", "updated_at": "2017-05-26T10:52:06Z", "closed_at": "2017-05-26T10:52:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "warp.reproject fails when operating on a single band with index higher than 1 if destination is a 2-d ndarray.\r\n\r\nI have made a test notebook:\r\n\r\nhttps://gist.github.com/Kirill888/863f4f32483a9df46eec076bbdcdd556\r\n\r\nProblem comes from this line in `_warp.pyx`\r\n\r\nhttps://github.com/mapbox/rasterio/blob/1.0a8/rasterio/_warp.pyx#L289\r\n\r\n```python\r\n    if dtypes.is_ndarray(destination):\r\n        if len(destination.shape) == 2:\r\n            destination = destination.reshape(1, *destination.shape)\r\n        if destination.shape[0] != src_count:\r\n            raise ValueError(\"Destination's shape is invalid\")\r\n        dst_bidx = src_bidx #<<<< Error Here\r\n```\r\n\r\nProposed fix could go something like this (NOT TESTED):\r\n\r\n```python\r\n    if dtypes.is_ndarray(destination):\r\n        if len(destination.shape) == 2:\r\n            destination = destination.reshape(1, *destination.shape)\r\n            dst_bidx = 1\r\n        else:\r\n            dst_bidx = src_bidx\r\n            #TODO: add more checks that dst_bidx will fit destination\r\n\r\n        if destination.shape[0] != src_count:\r\n            raise ValueError(\"Destination's shape is invalid\")\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1056/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1056/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1050", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1050/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1050/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1050/events", "html_url": "https://github.com/rasterio/rasterio/pull/1050", "id": 230167365, "node_id": "MDExOlB1bGxSZXF1ZXN0MTIxNjMxMjY0", "number": 1050, "title": "Allow filenames to be provided by MemoryFile", "user": {"login": "mojodna", "id": 45, "node_id": "MDQ6VXNlcjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/45?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mojodna", "html_url": "https://github.com/mojodna", "followers_url": "https://api.github.com/users/mojodna/followers", "following_url": "https://api.github.com/users/mojodna/following{/other_user}", "gists_url": "https://api.github.com/users/mojodna/gists{/gist_id}", "starred_url": "https://api.github.com/users/mojodna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mojodna/subscriptions", "organizations_url": "https://api.github.com/users/mojodna/orgs", "repos_url": "https://api.github.com/users/mojodna/repos", "events_url": "https://api.github.com/users/mojodna/events{/privacy}", "received_events_url": "https://api.github.com/users/mojodna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-20T17:24:40Z", "updated_at": "2017-05-22T10:27:23Z", "closed_at": "2017-05-22T09:53:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1050", "html_url": "https://github.com/rasterio/rasterio/pull/1050", "diff_url": "https://github.com/rasterio/rasterio/pull/1050.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1050.patch", "merged_at": "2017-05-22T09:53:15Z"}, "body": "SRTMHGT driver validates filenames, so UUIDs prevent it from working properly. This adds a `filename` arg to appease it by providing filenames that match.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1050/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1050/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1049", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1049/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1049/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1049/events", "html_url": "https://github.com/rasterio/rasterio/pull/1049", "id": 230126100, "node_id": "MDExOlB1bGxSZXF1ZXN0MTIxNjA4NDEx", "number": 1049, "title": "Choose the correct DatasetWriter in MemoryFile", "user": {"login": "mojodna", "id": 45, "node_id": "MDQ6VXNlcjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/45?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mojodna", "html_url": "https://github.com/mojodna", "followers_url": "https://api.github.com/users/mojodna/followers", "following_url": "https://api.github.com/users/mojodna/following{/other_user}", "gists_url": "https://api.github.com/users/mojodna/gists{/gist_id}", "starred_url": "https://api.github.com/users/mojodna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mojodna/subscriptions", "organizations_url": "https://api.github.com/users/mojodna/orgs", "repos_url": "https://api.github.com/users/mojodna/repos", "events_url": "https://api.github.com/users/mojodna/events{/privacy}", "received_events_url": "https://api.github.com/users/mojodna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-20T03:07:34Z", "updated_at": "2017-05-22T10:28:03Z", "closed_at": "2017-05-22T09:42:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1049", "html_url": "https://github.com/rasterio/rasterio/pull/1049", "diff_url": "https://github.com/rasterio/rasterio/pull/1049.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1049.patch", "merged_at": "2017-05-22T09:42:33Z"}, "body": "Context: I was trying to create an HGT file using a `MemoryFile` and discovered that it wasn't using `BufferedDatasetWriter` (which it should have given that `Create` isn't supported by `SRTMHGT`).", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1049/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1049/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1038", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1038/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1038/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1038/events", "html_url": "https://github.com/rasterio/rasterio/pull/1038", "id": 227633359, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE5ODQ5MTkx", "number": 1038, "title": "Use np.zeros instead of np.empty in read()", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 2, "created_at": "2017-05-10T10:22:34Z", "updated_at": "2017-05-12T09:08:01Z", "closed_at": "2017-05-12T09:07:57Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1038", "html_url": "https://github.com/rasterio/rasterio/pull/1038", "diff_url": "https://github.com/rasterio/rasterio/pull/1038.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1038.patch", "merged_at": "2017-05-12T09:07:57Z"}, "body": "Resolves #1030.\r\n\r\nTests are forthcoming. As is a check that we can revert to `np.empty()` for bounded reads.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1038/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1038/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1035", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1035/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1035/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1035/events", "html_url": "https://github.com/rasterio/rasterio/issues/1035", "id": 227105813, "node_id": "MDU6SXNzdWUyMjcxMDU4MTM=", "number": 1035, "title": "ERROR 10: Pointer 'hSRS' is NULL in 'OSRRelease'", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 3, "created_at": "2017-05-08T16:45:29Z", "updated_at": "2017-07-12T07:06:52Z", "closed_at": "2017-07-12T07:06:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Seeing some GDAL errors on stderr, possibly related to #1031\r\n\r\n```\r\n\u2b46 CPL_DEBUG=ON python -c \"from rasterio.crs import CRS; CRS({}) == CRS({})\"\r\nERROR 10: Pointer 'hSRS' is NULL in 'OSRRelease'.\r\n\r\nERROR 10: Pointer 'hSRS' is NULL in 'OSRRelease'.\r\n\r\nGDAL: In GDALDestroy - unloading GDAL shared library.\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1035/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1034", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1034/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1034/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1034/events", "html_url": "https://github.com/rasterio/rasterio/issues/1034", "id": 227099814, "node_id": "MDU6SXNzdWUyMjcwOTk4MTQ=", "number": 1034, "title": "empty CRS inequality depends on Python version", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 6, "created_at": "2017-05-08T16:22:42Z", "updated_at": "2018-04-13T23:08:52Z", "closed_at": "2018-04-13T23:08:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In python 2.7, comparing two empty CRS for equality *or* inequality returns False\r\n```\u2b46 python\r\nPython 2.7.10 (default, Jul 14 2015, 19:46:27)\r\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from rasterio.crs import CRS\r\n>>> CRS({}) != CRS({})\r\nFalse\r\n>>> CRS({}) == CRS({})\r\nFalse\r\n>>> import rasterio\r\n>>> rasterio.__version__\r\n'1.0a8'\r\n```\r\n\r\nIn python 3.6,  the inequality comparison returns True\r\n```\r\n\u2b46 python\r\nPython 3.6.1 (v3.6.1:69c0db5050, Mar 21 2017, 01:21:04)\r\n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from rasterio.crs import CRS\r\n>>> CRS({}) != CRS({})\r\nTrue\r\n>>> CRS({}) == CRS({})\r\nFalse\r\n>>> import rasterio\r\n>>> rasterio.__version__\r\n'1.0a8'\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1034/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1032", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1032/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1032/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1032/events", "html_url": "https://github.com/rasterio/rasterio/pull/1032", "id": 226740767, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE5Mjg3Nzg4", "number": 1032, "title": "Fix dtype check in dataset write", "user": {"login": "jdmcbr", "id": 666108, "node_id": "MDQ6VXNlcjY2NjEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/666108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdmcbr", "html_url": "https://github.com/jdmcbr", "followers_url": "https://api.github.com/users/jdmcbr/followers", "following_url": "https://api.github.com/users/jdmcbr/following{/other_user}", "gists_url": "https://api.github.com/users/jdmcbr/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdmcbr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdmcbr/subscriptions", "organizations_url": "https://api.github.com/users/jdmcbr/orgs", "repos_url": "https://api.github.com/users/jdmcbr/repos", "events_url": "https://api.github.com/users/jdmcbr/events{/privacy}", "received_events_url": "https://api.github.com/users/jdmcbr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-05-06T05:28:15Z", "updated_at": "2017-05-08T14:24:04Z", "closed_at": "2017-05-08T14:23:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1032", "html_url": "https://github.com/rasterio/rasterio/pull/1032", "diff_url": "https://github.com/rasterio/rasterio/pull/1032.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1032.patch", "merged_at": "2017-05-08T14:23:42Z"}, "body": "It looks like the previously implemented data type check was not ever\r\nbeing entered, due to checking for a 'type' attribute on a string. Since\r\nthe _init_dtype attribute is now always a string, remove this check and\r\nrelated handling, so that now dtypes are checked for validity, providing\r\na more useful error message in case of an invalid dtype. Fixes #1008.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1032/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1032/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1031", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1031/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1031/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1031/events", "html_url": "https://github.com/rasterio/rasterio/pull/1031", "id": 226737580, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE5Mjg2NTQ5", "number": 1031, "title": "Switch OSRDestroySpatialReference to OSRRelease", "user": {"login": "jdmcbr", "id": 666108, "node_id": "MDQ6VXNlcjY2NjEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/666108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdmcbr", "html_url": "https://github.com/jdmcbr", "followers_url": "https://api.github.com/users/jdmcbr/followers", "following_url": "https://api.github.com/users/jdmcbr/following{/other_user}", "gists_url": "https://api.github.com/users/jdmcbr/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdmcbr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdmcbr/subscriptions", "organizations_url": "https://api.github.com/users/jdmcbr/orgs", "repos_url": "https://api.github.com/users/jdmcbr/repos", "events_url": "https://api.github.com/users/jdmcbr/events{/privacy}", "received_events_url": "https://api.github.com/users/jdmcbr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/54", "html_url": "https://github.com/rasterio/rasterio/milestone/54", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/54/labels", "id": 2540348, "node_id": "MDk6TWlsZXN0b25lMjU0MDM0OA==", "number": 54, "title": "1.0a9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2017-05-24T10:13:31Z", "updated_at": "2017-06-05T17:23:49Z", "due_on": null, "closed_at": "2017-06-05T17:23:49Z"}, "comments": 0, "created_at": "2017-05-06T04:25:46Z", "updated_at": "2017-05-24T10:21:26Z", "closed_at": "2017-05-08T14:18:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1031", "html_url": "https://github.com/rasterio/rasterio/pull/1031", "diff_url": "https://github.com/rasterio/rasterio/pull/1031.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1031.patch", "merged_at": "2017-05-08T14:18:01Z"}, "body": "Per issue #1021, `OSRRelease()` is safer.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1031/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1031/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1030", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1030/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1030/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1030/events", "html_url": "https://github.com/rasterio/rasterio/issues/1030", "id": 226723642, "node_id": "MDU6SXNzdWUyMjY3MjM2NDI=", "number": 1030, "title": "np.empty returning `cached value` in `read`", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-05-06T00:41:39Z", "updated_at": "2017-05-12T09:07:57Z", "closed_at": "2017-05-12T09:07:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Finally found why I was getting strange result when successively reading decimated part of files with `window` and `boundless=True`(reading window that cross image bounds)\r\n\r\nThe behavior I'm getting can be compared as `caching`, because I'm seeing value of precedent `read` in output (see image \u2b07\ufe0f ).\r\n<img width=\"237\" alt=\"capture d ecran 2017-05-05 a 20 19 21\" src=\"https://cloud.githubusercontent.com/assets/10407788/25768334/614ae57e-31d0-11e7-8060-fdbaf8e7a7ed.png\">\r\n\r\ntest script: https://gist.github.com/vincentsarago/a6bdb54db164b2fc2151e3f6cb02d655\r\nThis \u2b06\ufe0f script reads 4 time a file, try to extract an area (window) and save to a small array (decimation). \r\n\r\nWhat is happening:\r\n1. read a window and get decimated value to an array by passing shape with `out_shape`. \ud83d\udc4c \r\n2. read a different window and get decimated value to an array by passing shape with `out_shape`. \ud83d\udeab , seeing value from 1. \r\n3. read a different window and get decimated value to an array by passing shape an array created with `np.empty`. \ud83d\udeab , result should contains only nodata but has value from 1. and 2. \r\n4. not reading file, creating `np.empty` array and saving to a file. \ud83d\udeab same as 3.\r\n5. read a window and get decimated value to an array by passing shape an array created with `np.zeros`. \ud83d\udc4c\r\n\r\nFrom numpy doc:\r\n> empty, unlike zeros, does not set the array values to zero, and may therefore be marginally faster. On the other hand, it requires the user to manually set all the values in the array, and should be used with caution.\r\n\r\nProposed fix: \r\n- numpy.empty should be filled with a value (as effect on nodata values ?)\r\n- replace numpy.empty by numpy.zeros (as effect on nodata values ?)\r\n\r\nref: https://github.com/mapbox/rasterio/issues/1019\r\n\r\ncc @sgillies @perrygeo ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1030/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1025", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1025/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1025/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1025/events", "html_url": "https://github.com/rasterio/rasterio/pull/1025", "id": 225516109, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE4NDMzMTI2", "number": 1025, "title": "Avoid generating shapes w/ 0-dimension", "user": {"login": "mojodna", "id": 45, "node_id": "MDQ6VXNlcjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/45?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mojodna", "html_url": "https://github.com/mojodna", "followers_url": "https://api.github.com/users/mojodna/followers", "following_url": "https://api.github.com/users/mojodna/following{/other_user}", "gists_url": "https://api.github.com/users/mojodna/gists{/gist_id}", "starred_url": "https://api.github.com/users/mojodna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mojodna/subscriptions", "organizations_url": "https://api.github.com/users/mojodna/orgs", "repos_url": "https://api.github.com/users/mojodna/repos", "events_url": "https://api.github.com/users/mojodna/events{/privacy}", "received_events_url": "https://api.github.com/users/mojodna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-05-01T20:17:06Z", "updated_at": "2017-05-31T00:45:38Z", "closed_at": "2017-05-08T14:01:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1025", "html_url": "https://github.com/rasterio/rasterio/pull/1025", "diff_url": "https://github.com/rasterio/rasterio/pull/1025.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1025.patch", "merged_at": "2017-05-08T14:01:38Z"}, "body": "This could previously occur when one or more dimensions was smaller than the sampling factor (e.g. 4800, 1).\r\n\r\n```\r\nERROR:rasterio._gdal:CPLE_AppDefined in Attempt to create 48x0 dataset is illegal,sizes must be larger than zero.\r\nERROR:rio:Exception caught during processing\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/rasterio/rio/shapes.py\", line 229, in shapes\r\n    **dump_kwds)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rasterio/rio/helpers.py\", line 55, in write_features\r\n    features = list(collection())\r\n  File \"/usr/local/lib/python2.7/dist-packages/rasterio/rio/shapes.py\", line 205, in __call__\r\n    rasterio.features.shapes(img, **kwargs)):\r\n  File \"/usr/local/lib/python2.7/dist-packages/rasterio/features.py\", line 100, in shapes\r\n    for s, v in _shapes(image, mask, connectivity, transform.to_gdal()):\r\n  File \"rasterio/_features.pyx\", line 77, in _shapes (rasterio/_features.c:3196)\r\n  File \"rasterio/_io.pyx\", line 1586, in rasterio._io.InMemoryRaster.__cinit__ (rasterio/_io.c:27007)\r\n  File \"rasterio/_err.pyx\", line 189, in rasterio._err.exc_wrap_pointer (rasterio/_err.c:2203)\r\nCPLE_AppDefinedError: Attempt to create 48x0 dataset is illegal,sizes must be larger than zero.\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1025/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1024", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1024/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1024/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1024/events", "html_url": "https://github.com/rasterio/rasterio/issues/1024", "id": 224710129, "node_id": "MDU6SXNzdWUyMjQ3MTAxMjk=", "number": 1024, "title": "Antimeridian cutting is no longer optional in GDAL 2.2.0", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 337782406, "node_id": "MDU6TGFiZWwzMzc3ODI0MDY=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/testing", "name": "testing", "color": "fef2c0", "default": false, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/54", "html_url": "https://github.com/rasterio/rasterio/milestone/54", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/54/labels", "id": 2540348, "node_id": "MDk6TWlsZXN0b25lMjU0MDM0OA==", "number": 54, "title": "1.0a9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2017-05-24T10:13:31Z", "updated_at": "2017-06-05T17:23:49Z", "due_on": null, "closed_at": "2017-06-05T17:23:49Z"}, "comments": 1, "created_at": "2017-04-27T08:31:11Z", "updated_at": "2017-05-28T18:21:18Z", "closed_at": "2017-05-28T18:21:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`antimeridian_cutting=False` has no effect in `transform_geom()` with GDAL 2.2.0.\r\n\r\nSee: \r\n\r\n* https://github.com/OSGeo/gdal/blob/trunk/gdal/NEWS#L496\r\n* https://trac.osgeo.org/gdal/changeset/35964\r\n\r\n```\r\n_________________________ test_transform_geom_polygon __________________________\r\n\r\npolygon_3373 = {'coordinates': (((798842.3090855901, 6569056.500655151), (756688.2826828464, 6412397.888771972), (755571.0617232556, ...0.39266733), (677605.2284582683, 6425600.392667332), (670873.3791649605, 6427248.603432341), ...),), 'type': 'Polygon'}\r\n\r\n    def test_transform_geom_polygon(polygon_3373):\r\n        geom = polygon_3373\r\n        result = transform_geom('EPSG:3373', 'EPSG:4326', geom, antimeridian_cutting=False)\r\n>       assert result['type'] == 'Polygon'\r\nE       assert 'MultiPolygon' == 'Polygon'\r\nE         - MultiPolygon\r\nE         + Polygon\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1024/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1024/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1023", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1023/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1023/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1023/events", "html_url": "https://github.com/rasterio/rasterio/issues/1023", "id": 224709698, "node_id": "MDU6SXNzdWUyMjQ3MDk2OTg=", "number": 1023, "title": "Missing _buildMultiLineString implementation in GeomBuilder", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-04-27T08:29:28Z", "updated_at": "2017-05-02T10:42:27Z", "closed_at": "2017-05-02T10:42:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Compiling Rasterio with GDAL 2.2.0beta2 exposes a Rasterio bug:\r\n\r\n```\r\n___________________ test_transform_geom_linestring_precision ___________________\r\n\r\npolygon_3373 = {'coordinates': (((798842.3090855901, 6569056.500655151), (756688.2826828464, 6412397.888771972), (755571.0617232556, ...0.39266733), (677605.2284582683, 6425600.392667332), (670873.3791649605, 6427248.603432341), ...),), 'type': 'Polygon'}\r\n\r\n    def test_transform_geom_linestring_precision(polygon_3373):\r\n        ring = polygon_3373['coordinates'][0]\r\n        geom = {'type': 'LineString', 'coordinates': ring}\r\n>       result = transform_geom('EPSG:3373', 'EPSG:4326', geom, precision=1)\r\n\r\ntests/test_warp.py:788:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\nrasterio/env.py:270: in wrapper\r\n    return f(*args, **kwds)\r\nrasterio/warp.py:93: in transform_geom\r\n    precision)\r\nrasterio/_warp.pyx:77: in rasterio._warp._transform_geom (rasterio/_warp.cpp:3013)\r\n    result = GeomBuilder().build(dst_geom)\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\n>   return getattr(self, '_build' + self.geomtypename)()\r\nE   AttributeError: 'rasterio._features.GeomBuilder' object has no attribute '_buildMultiLineString'\r\n\r\nrasterio/_features.pyx:454: AttributeError\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1023/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1022", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1022/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1022/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1022/events", "html_url": "https://github.com/rasterio/rasterio/pull/1022", "id": 224659503, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE3ODUyODE3", "number": 1022, "title": "Actually keep track of whether or not the drivers are registered", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-04-27T03:34:58Z", "updated_at": "2017-06-07T15:34:16Z", "closed_at": "2017-04-27T07:44:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1022", "html_url": "https://github.com/rasterio/rasterio/pull/1022", "diff_url": "https://github.com/rasterio/rasterio/pull/1022.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1022.patch", "merged_at": "2017-04-27T07:44:11Z"}, "body": "Otherwise we pay penance to the thread lock gods every time an environment is started.  This slipped through https://github.com/mapbox/rasterio/pull/997.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1022/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1022/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1021", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1021/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1021/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1021/events", "html_url": "https://github.com/rasterio/rasterio/issues/1021", "id": 223349248, "node_id": "MDU6SXNzdWUyMjMzNDkyNDg=", "number": 1021, "title": "Switch to OSRRelease() from OSRDestroySpatialReference()", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2017-04-21T10:52:50Z", "updated_at": "2017-05-08T22:45:57Z", "closed_at": "2017-05-08T22:45:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`OSRRelease()` is safer and more future-proof. See https://github.com/Toblerity/Fiona/issues/441 for a related Geopackage crasher.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1021/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1021/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1017", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1017/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1017/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1017/events", "html_url": "https://github.com/rasterio/rasterio/issues/1017", "id": 223161949, "node_id": "MDU6SXNzdWUyMjMxNjE5NDk=", "number": 1017, "title": "Broken image URLs in docs", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 2, "created_at": "2017-04-20T18:44:34Z", "updated_at": "2017-04-21T11:29:37Z", "closed_at": "2017-04-21T11:29:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Not sure how widespread this problem is, but I noticed on the [masks](http://mapbox.github.io/rasterio/topics/masks.html?highlight=mask) page.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1017/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1017/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1015", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1015/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1015/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1015/events", "html_url": "https://github.com/rasterio/rasterio/pull/1015", "id": 222118175, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE2MTI1MzI4", "number": 1015, "title": "Don\u2019t set PROJ_LIB to a non-existing directory", "user": {"login": "JesseCrocker", "id": 2048291, "node_id": "MDQ6VXNlcjIwNDgyOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2048291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JesseCrocker", "html_url": "https://github.com/JesseCrocker", "followers_url": "https://api.github.com/users/JesseCrocker/followers", "following_url": "https://api.github.com/users/JesseCrocker/following{/other_user}", "gists_url": "https://api.github.com/users/JesseCrocker/gists{/gist_id}", "starred_url": "https://api.github.com/users/JesseCrocker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JesseCrocker/subscriptions", "organizations_url": "https://api.github.com/users/JesseCrocker/orgs", "repos_url": "https://api.github.com/users/JesseCrocker/repos", "events_url": "https://api.github.com/users/JesseCrocker/events{/privacy}", "received_events_url": "https://api.github.com/users/JesseCrocker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2017-04-17T11:44:26Z", "updated_at": "2017-04-21T12:12:54Z", "closed_at": "2017-04-21T12:12:54Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1015", "html_url": "https://github.com/rasterio/rasterio/pull/1015", "diff_url": "https://github.com/rasterio/rasterio/pull/1015.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1015.patch", "merged_at": "2017-04-21T12:12:54Z"}, "body": "Better to not have it set than set to a non-existing directory.\r\n\r\nThe bug described at https://github.com/Toblerity/Fiona/issues/439 can also happen with rasterio depending on how it is installed.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1015/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1013", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1013/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1013/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1013/events", "html_url": "https://github.com/rasterio/rasterio/pull/1013", "id": 221414184, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE1NjUzNDgx", "number": 1013, "title": "Fix setup.py exception when no gdal is available", "user": {"login": "jeremyh", "id": 25688, "node_id": "MDQ6VXNlcjI1Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/25688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeremyh", "html_url": "https://github.com/jeremyh", "followers_url": "https://api.github.com/users/jeremyh/followers", "following_url": "https://api.github.com/users/jeremyh/following{/other_user}", "gists_url": "https://api.github.com/users/jeremyh/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeremyh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeremyh/subscriptions", "organizations_url": "https://api.github.com/users/jeremyh/orgs", "repos_url": "https://api.github.com/users/jeremyh/repos", "events_url": "https://api.github.com/users/jeremyh/events{/privacy}", "received_events_url": "https://api.github.com/users/jeremyh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 158815511, "node_id": "MDU6TGFiZWwxNTg4MTU1MTE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/packaging", "name": "packaging", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2017-04-12T23:02:32Z", "updated_at": "2017-04-26T14:37:18Z", "closed_at": "2017-04-26T14:36:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/1013", "html_url": "https://github.com/rasterio/rasterio/pull/1013", "diff_url": "https://github.com/rasterio/rasterio/pull/1013.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/1013.patch", "merged_at": "2017-04-26T14:36:35Z"}, "body": "When run without a gdal environment, `setup.py` is throwing an exception due to uninitialised variable `gdalversion` instead of printing [the error message below it](https://github.com/mapbox/rasterio/blob/994def271a14126e690a080ead816626a70fdeb0/setup.py#L135).\r\n\r\nFull stack trace:\r\n\r\n> \r\n> File \"C:\\Users\\01\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\setuptools\\sandbox.py\", line 198, in setup_context\r\n> yield\r\n> File \"C:\\Users\\01\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\setuptools\\sandbox.py\", line 255, in run_setup\r\n> DirectorySandbox(setup_dir).run(runner)\r\n> File \"C:\\Users\\01\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\setuptools\\sandbox.py\", line 285, in run\r\n> return func()\r\n> File \"C:\\Users\\01\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\setuptools\\sandbox.py\", line 253, in runner\r\n> _execfile(setup_script, ns)\r\n> File \"C:\\Users\\01\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\setuptools\\sandbox.py\", line 47, in _execfile\r\n> exec(code, globals, locals)\r\n> File \"C:\\Users\\01\\AppData\\Local\\Temp\\easy_install-ry9c1r3q\\rasterio-1.0a8\\setup.py\", line 134, in\r\n> NameError: name 'gdalversion' is not defined\r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1013/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1013/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1009", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1009/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1009/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1009/events", "html_url": "https://github.com/rasterio/rasterio/issues/1009", "id": 220338485, "node_id": "MDU6SXNzdWUyMjAzMzg0ODU=", "number": 1009, "title": "Rasterio should not directly instantiate Env() outside of @ensure_env", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216954, "node_id": "MDU6TGFiZWwzNTEyMTY5NTQ=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/advanced", "name": "advanced", "color": "000000", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}, {"id": 602660531, "node_id": "MDU6TGFiZWw2MDI2NjA1MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/env", "name": "env", "color": "7ccc8d", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 5, "created_at": "2017-04-07T21:54:50Z", "updated_at": "2018-06-26T22:27:12Z", "closed_at": "2018-06-26T22:27:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Now that `rasterio.env.ensure_env()` only creates an environment if one does not already exist, we should rely on it for creating a GDAL environment only when necessary.  I think the only remaining instances are:\r\n\r\n- `rasterio.transform.transform()`\r\n- `rasterio.open()`\r\n- `rasterio.io.MemoryFile.open()`\r\n\r\nThe hardest is `rasterio.open()` because it needs `Env()` in order to authenticate with AWS.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1009/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1009/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1008", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1008/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1008/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1008/events", "html_url": "https://github.com/rasterio/rasterio/issues/1008", "id": 219806044, "node_id": "MDU6SXNzdWUyMTk4MDYwNDQ=", "number": 1008, "title": "Raise more useful errors about unsupported data types", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-04-06T07:10:26Z", "updated_at": "2017-05-08T14:23:42Z", "closed_at": "2017-05-08T14:23:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In #1007 a user reports a confusing exception when attempting to save a `np.int8` raster. They'd done everything right, but Rasterio does not map this dtype to a GDAL type and all they get is `TypeError: an integer is required` and a line number in _io.pyx.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1008/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1008/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1005", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1005/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1005/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1005/events", "html_url": "https://github.com/rasterio/rasterio/issues/1005", "id": 217983761, "node_id": "MDU6SXNzdWUyMTc5ODM3NjE=", "number": 1005, "title": "rasterio.copy() does not normalize creation options", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-03-29T19:28:21Z", "updated_at": "2017-07-01T06:16:47Z", "closed_at": "2017-07-01T06:16:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`tiled='YES'` workes, but `tiled=True` raises an exception, which is different behavior than `rasterio.open()`:\r\n\r\n```python\r\nimport rasterio as rio\r\n\r\nrio.copy('tests/data/RGB.byte.tif', 'COPY.tif', tiled='YES')\r\nrio.copy('tests/data/RGB.byte.tif', 'FAIL.tif', tiled=True)\r\n```\r\n\r\nerror:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"buh.py\", line 5, in <module>\r\n    rio.copy('tests/data/RGB.byte.tif', 'FAIL.tif', tiled=True)\r\n  File \"/Users/kevin.wurster/code/rasterio/rasterio/env.py\", line 270, in wrapper\r\n    return f(*args, **kwds)\r\n  File \"/Users/kevin.wurster/code/rasterio/rasterio/__init__.py\", line 315, in copy\r\n    return RasterCopier()(src, dst, **kw)\r\n  File \"rasterio/_copy.pyx\", line 25, in rasterio._copy.RasterCopier.__call__ (rasterio/_copy.c:1649)\r\n    kb, vb = (x.upper().encode('utf-8') for x in (key, val))\r\n  File \"rasterio/_copy.pyx\", line 25, in genexpr (rasterio/_copy.c:1329)\r\n    kb, vb = (x.upper().encode('utf-8') for x in (key, val))\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1005/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1005/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1001", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1001/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1001/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1001/events", "html_url": "https://github.com/rasterio/rasterio/issues/1001", "id": 216087692, "node_id": "MDU6SXNzdWUyMTYwODc2OTI=", "number": 1001, "title": "Env: set GDAL_SKIP and GDAL_DRIVER_PATH before driver registration", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/54", "html_url": "https://github.com/rasterio/rasterio/milestone/54", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/54/labels", "id": 2540348, "node_id": "MDk6TWlsZXN0b25lMjU0MDM0OA==", "number": 54, "title": "1.0a9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2017-05-24T10:13:31Z", "updated_at": "2017-06-05T17:23:49Z", "due_on": null, "closed_at": "2017-06-05T17:23:49Z"}, "comments": 2, "created_at": "2017-03-22T14:42:33Z", "updated_at": "2017-05-24T10:14:21Z", "closed_at": "2017-05-24T10:14:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, we're registering drivers first and then setting config options, but for GDAL_SKIP and GDAL_DRIVER_PATH this is too late. See https://trac.osgeo.org/gdal/wiki/ConfigOptions#GDAL_SKIP and comments in #1000.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1001/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1001/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1000", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/1000/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/1000/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/1000/events", "html_url": "https://github.com/rasterio/rasterio/issues/1000", "id": 215766867, "node_id": "MDU6SXNzdWUyMTU3NjY4Njc=", "number": 1000, "title": "forcing choice of GDAL driver when opening file in read mode", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 7, "created_at": "2017-03-21T14:53:12Z", "updated_at": "2017-11-20T17:15:05Z", "closed_at": "2017-11-20T17:15:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "The GDAL driver registration order prevails even when a GDAL driver name is passed when opening a file in read mode. For instance:\r\n\r\n`rasterio.open(\"V:\\\\S2\\\\S2A_OPER_MSI_L1C_TL_MTI__20160701T202434_A005356_T21WWR_B02.jp2\", driver='JP2OpenJPEG')`\r\n\r\nstill picks up the JP2ECW driver (which then crashes when reading a band, but that is neither a rasterio nor GDAL issue: https://trac.osgeo.org/gdal/ticket/4201).\r\n\r\nCan the driver choice be made less surprising?\r\n\r\nMy current workaround is to set `os.environ[\"GDAL_SKIP\"] = 'JP2ECW'` before opening the file or before entering the rasterio.Env context if using one. Importing gdal and calling `gdal.GetDriverByName(\"JP2ECW\").Deregister()` also prevents rasterio from using JP2ECW. \r\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/1000/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/1000/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/999", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/999/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/999/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/999/events", "html_url": "https://github.com/rasterio/rasterio/issues/999", "id": 215614172, "node_id": "MDU6SXNzdWUyMTU2MTQxNzI=", "number": 999, "title": "Path handling inconsistency", "user": {"login": "malramsay64", "id": 10113564, "node_id": "MDQ6VXNlcjEwMTEzNTY0", "avatar_url": "https://avatars.githubusercontent.com/u/10113564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/malramsay64", "html_url": "https://github.com/malramsay64", "followers_url": "https://api.github.com/users/malramsay64/followers", "following_url": "https://api.github.com/users/malramsay64/following{/other_user}", "gists_url": "https://api.github.com/users/malramsay64/gists{/gist_id}", "starred_url": "https://api.github.com/users/malramsay64/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/malramsay64/subscriptions", "organizations_url": "https://api.github.com/users/malramsay64/orgs", "repos_url": "https://api.github.com/users/malramsay64/repos", "events_url": "https://api.github.com/users/malramsay64/events{/privacy}", "received_events_url": "https://api.github.com/users/malramsay64/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 8, "created_at": "2017-03-21T02:52:28Z", "updated_at": "2018-09-26T16:42:26Z", "closed_at": "2018-06-26T18:51:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is inconsistency amongst the commands with regards to the handling of files using the http, https and s3 protocols. For example:\r\n`rio info s3://landsat-pds.s3.amazonaws.com/L8/139/045/LC81390452014295LGN00/LC81390452014295LGN00_B1.TIF`\r\nworks completely fine while;\r\n`rio mask s3://landsat-pds.s3.amazonaws.com/L8/139/045/LC81390452014295LGN00/LC81390452014295LGN00_B1.TIF out.tif`\r\ngives a `FileNotFoundError` with a path of '/home/ubuntu/s3:/landsat-pds.s3.amazonaws.com/L8/139/045/LC81390452014295LGN00/LC81390452014295LGN00_B1.TIF`\r\n\r\nThe difference is in the click file handling. For single input files the handling in done in the rasterio code \r\n`file_in_arg = click.argument('INPUT', callback=file_in_handler)`\r\nwhile the `file_inout_arg` is dealt with in the cligj codebase which doesn't have the file_in_handler callback. ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/999/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/999/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/996", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/996/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/996/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/996/events", "html_url": "https://github.com/rasterio/rasterio/issues/996", "id": 214700719, "node_id": "MDU6SXNzdWUyMTQ3MDA3MTk=", "number": 996, "title": "Access config options using thread-safe methods", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-03-16T13:16:29Z", "updated_at": "2017-03-28T14:20:59Z", "closed_at": "2017-03-28T14:20:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "A follow-up to #993. Also guard against registering drivers in any but the main thread. Main thread can be identified like\r\n\r\n`isinstance(threading.current_thread(), threading._MainThread)` or\r\n\r\n`assert threading.current_thread() == threading.main_thread()` for Python >= 3.4.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/996/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/996/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/992", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/992/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/992/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/992/events", "html_url": "https://github.com/rasterio/rasterio/issues/992", "id": 214187046, "node_id": "MDU6SXNzdWUyMTQxODcwNDY=", "number": 992, "title": "Add --nodata to rio-rasterize", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 2, "created_at": "2017-03-14T19:51:19Z", "updated_at": "2018-06-25T22:18:10Z", "closed_at": "2018-06-25T22:18:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "3 scenarios:\r\n\r\n1. When updating an existing image, use `--nodata` if given, otherwise use the input image.\r\n2. When creating a new image, set nodata to `--nodata` if given, not `--fill`.\r\n3. When referencing a template image with `--like`, pull nodata from `--nodata` if given.\r\n\r\nBe sure to handle `--nodata null` in all cases.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/992/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/992/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/987", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/987/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/987/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/987/events", "html_url": "https://github.com/rasterio/rasterio/issues/987", "id": 212438411, "node_id": "MDU6SXNzdWUyMTI0Mzg0MTE=", "number": 987, "title": "Optimize for \"cloud optimized GeoTIFFs\"", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 4, "created_at": "2017-03-07T13:52:26Z", "updated_at": "2019-06-24T20:59:33Z", "closed_at": "2019-06-24T20:59:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Reference: https://trac.osgeo.org/gdal/wiki/CloudOptimizedGeoTIFF\r\n\r\nBy default, GDAL will try to scan for siblings of a file, which means that if your S3 bucket `my-bucket` contains 1000 objects `rio info s3://my-bucket/wanted.tif` will make 1000 HTTP requests before opening `wanted.tif`. To disable this the `GDAL_DISABLE_READDIR_ON_OPEN` config option can be set to `True`.\r\n\r\nI'm proposing to make this option on by default when accessing objects on S3.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/987/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/987/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/986", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/986/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/986/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/986/events", "html_url": "https://github.com/rasterio/rasterio/issues/986", "id": 212284124, "node_id": "MDU6SXNzdWUyMTIyODQxMjQ=", "number": 986, "title": "Env() thread and process safety", "user": {"login": "v0lat1le", "id": 2328459, "node_id": "MDQ6VXNlcjIzMjg0NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2328459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v0lat1le", "html_url": "https://github.com/v0lat1le", "followers_url": "https://api.github.com/users/v0lat1le/followers", "following_url": "https://api.github.com/users/v0lat1le/following{/other_user}", "gists_url": "https://api.github.com/users/v0lat1le/gists{/gist_id}", "starred_url": "https://api.github.com/users/v0lat1le/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v0lat1le/subscriptions", "organizations_url": "https://api.github.com/users/v0lat1le/orgs", "repos_url": "https://api.github.com/users/v0lat1le/repos", "events_url": "https://api.github.com/users/v0lat1le/events{/privacy}", "received_events_url": "https://api.github.com/users/v0lat1le/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216954, "node_id": "MDU6TGFiZWwzNTEyMTY5NTQ=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/advanced", "name": "advanced", "color": "000000", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 14, "created_at": "2017-03-06T23:33:37Z", "updated_at": "2017-03-28T19:28:42Z", "closed_at": "2017-03-28T14:30:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using python 3.5 and rasterio 1.0a7 from conda-forge.\r\n\r\n```python\r\ndef func(i):\r\n    with rasterio.Env() as env:\r\n        print(i)\r\n        return i\r\n\r\npool = ThreadPoolExecutor(8)\r\nwhile True:\r\n   r = list(pool.map(func, range(8)))\r\n```\r\nEventually fails with: `EnvError: No GDAL environment exists`\r\n```\r\n<ipython-input-34-f30f473c00f3> in func(i)\r\n      2     with rasterio.Env() as env:\r\n      3         print(i)\r\n----> 4         return i\r\n      5 \r\n      6 pool = ThreadPoolExecutor(8)\r\n\r\n/g/data/u46/users/gxr547/conda/envs/agdc/lib/python3.5/site-packages/rasterio/env.py in __exit__(self, exc_type, exc_val, exc_tb)\r\n    203         global _discovered_options\r\n    204         log.debug(\"Exiting env context: %r\", self)\r\n--> 205         delenv()\r\n    206         if self._has_parent_env:\r\n    207             defenv()\r\n\r\n/g/data/u46/users/gxr547/conda/envs/agdc/lib/python3.5/site-packages/rasterio/env.py in delenv()\r\n    258     global _env\r\n    259     if not _env:\r\n--> 260         raise EnvError(\"No GDAL environment exists\")\r\n    261     else:\r\n    262         _env.clear_config_options()\r\n\r\nEnvError: No GDAL environment exists\r\n```\r\n\r\nI discovered that while using `rasterio.open/read` with `dask` arrays", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/986/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/986/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/985", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/985/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/985/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/985/events", "html_url": "https://github.com/rasterio/rasterio/issues/985", "id": 211084189, "node_id": "MDU6SXNzdWUyMTEwODQxODk=", "number": 985, "title": "Support RGBA to RGB warping in warp.reproject()", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-01T13:40:59Z", "updated_at": "2018-06-21T19:48:43Z", "closed_at": "2018-06-21T19:48:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We currently cannot because of this code in _warp.pyx that requires input and output to have the same number of bands:\r\n\r\n```python\r\n    for i in range(src_count):\r\n        psWOptions.panSrcBands[i] = src_bidx[i]\r\n        psWOptions.panDstBands[i] = dst_bidx[i]\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/985/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/984", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/984/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/984/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/984/events", "html_url": "https://github.com/rasterio/rasterio/issues/984", "id": 211077276, "node_id": "MDU6SXNzdWUyMTEwNzcyNzY=", "number": 984, "title": "Add support for alpha band to warp.reproject()", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216954, "node_id": "MDU6TGFiZWwzNTEyMTY5NTQ=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/advanced", "name": "advanced", "color": "000000", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-03-01T13:12:50Z", "updated_at": "2018-06-21T19:46:38Z", "closed_at": "2018-06-21T19:46:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently we only support nodata values. See in _warp.pyx.\r\n\r\n```python\r\n    if src_nodata is not None:\r\n        if not in_dtype_range(src_nodata, source.dtype):\r\n            psWOptions.papszWarpOptions = warp_extras\r\n            GDALDestroyApproxTransformer(hTransformArg)\r\n            GDALDestroyWarpOptions(psWOptions)\r\n            CPLFree(imgProjOptions)\r\n            raise ValueError(\"src_nodata must be in valid range for \"\r\n                            \"source dtype\")\r\n\r\n        psWOptions.padfSrcNoDataReal = <double*>CPLMalloc(\r\n            src_count * sizeof(double))\r\n        psWOptions.padfSrcNoDataImag = <double*>CPLMalloc(\r\n            src_count * sizeof(double))\r\n        for i in range(src_count):\r\n            psWOptions.padfSrcNoDataReal[i] = src_nodata\r\n            psWOptions.padfSrcNoDataImag[i] = 0.0\r\n        warp_extras = CSLSetNameValue(\r\n            warp_extras, \"UNIFIED_SRC_NODATA\", \"YES\")\r\n```\r\n\r\nSort of complicated and requires knowledge of [GDAL warp options](http://www.gdal.org/structGDALWarpOptions.html#a0ed77f9917bb96c7a9aabd73d4d06e08).", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/984/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/984/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/982", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/982/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/982/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/982/events", "html_url": "https://github.com/rasterio/rasterio/pull/982", "id": 207523677, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA2MTEwMjg1", "number": 982, "title": "Use stdcall convention for callback on windows", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2017-02-14T14:03:01Z", "updated_at": "2017-02-14T14:09:54Z", "closed_at": "2017-02-14T14:09:52Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/982", "html_url": "https://github.com/rasterio/rasterio/pull/982", "diff_url": "https://github.com/rasterio/rasterio/pull/982.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/982.patch", "merged_at": "2017-02-14T14:09:51Z"}, "body": "Resolves #935\r\nResolves #951", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/982/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/982/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/970", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/970/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/970/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/970/events", "html_url": "https://github.com/rasterio/rasterio/issues/970", "id": 204399952, "node_id": "MDU6SXNzdWUyMDQzOTk5NTI=", "number": 970, "title": "Can't unset crs metadata values", "user": {"login": "jqtrde", "id": 192642, "node_id": "MDQ6VXNlcjE5MjY0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/192642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jqtrde", "html_url": "https://github.com/jqtrde", "followers_url": "https://api.github.com/users/jqtrde/followers", "following_url": "https://api.github.com/users/jqtrde/following{/other_user}", "gists_url": "https://api.github.com/users/jqtrde/gists{/gist_id}", "starred_url": "https://api.github.com/users/jqtrde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jqtrde/subscriptions", "organizations_url": "https://api.github.com/users/jqtrde/orgs", "repos_url": "https://api.github.com/users/jqtrde/repos", "events_url": "https://api.github.com/users/jqtrde/events{/privacy}", "received_events_url": "https://api.github.com/users/jqtrde/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-01-31T19:28:18Z", "updated_at": "2017-02-01T16:17:23Z", "closed_at": "2017-02-01T16:17:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using the cli:\r\n```bash\r\n# crs is defined\r\n$ rio info tests/data/alpha.tif | jq '.crs'\r\n\"EPSG:3857\"\r\n\r\n# attempt to unset crs\r\n$ rio edit-info tests/data/alpha.tif --crs \"\"\r\n\r\n# but\r\n$ rio info tests/data/alpha.tif | jq '.crs'\r\n\"EPSG:3857\"\r\n```\r\n\r\nPer @perrygeo - the python version of this is simple:\r\n```python\r\nimport rasterio\r\nfrom rasterio.crs import CRS\r\n\r\nraster = 'test/prep_test/de_hamburg_custom_srs/fixtures/dop20c_32587_5922.tif'\r\n\r\nwith rasterio.open(raster, 'r+') as src:\r\n    src.crs = CRS()\r\n```\r\n\r\nReminds me of https://github.com/mapbox/rasterio/issues/328.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/970/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/970/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/968", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/968/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/968/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/968/events", "html_url": "https://github.com/rasterio/rasterio/issues/968", "id": 204171115, "node_id": "MDU6SXNzdWUyMDQxNzExMTU=", "number": 968, "title": "Rasterio does not properly tear down GDAL environment", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216954, "node_id": "MDU6TGFiZWwzNTEyMTY5NTQ=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/advanced", "name": "advanced", "color": "000000", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 3, "created_at": "2017-01-31T00:25:59Z", "updated_at": "2017-02-14T12:42:34Z", "closed_at": "2017-02-14T12:42:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If a Rasterio managed environment does not exist, using `with rasterio.Env()` creates an environment that is not fully cleaned up when the context manager exits.  I'm working on a fix.\r\n\r\nThe simplest test is:\r\n\r\n```python\r\nimport rasterio as rio\r\nfrom rasterio._env import get_gdal_config\r\n\r\nkey = 'CHECK_WITH_INVERT_PROJ'\r\n\r\nprint(get_gdal_config(key))\r\nwith rio.Env():\r\n    print(get_gdal_config(key))\r\nprint(get_gdal_config(key))\r\n```\r\n\r\nand a more complex test is:\r\n\r\n```python\r\nfrom osgeo import gdal\r\nimport rasterio as rio\r\nfrom rasterio._env import get_gdal_config\r\n\r\n\r\nkey = 'CHECK_WITH_INVERT_PROJ'\r\n\r\n\r\ndef show(position):\r\n\r\n    print(position)\r\n    for k in (key, 'opt'):\r\n        print(\"osgeo.gdal {}={}\".format(k, gdal.GetConfigOption(k)))\r\n        print(\"rasterio   {}={}\".format(k, get_gdal_config(k)))\r\n    print(\"\")\r\n\r\n\r\nshow(\"Before Env()\")\r\n\r\nwith rio.Env():\r\n    show(\"In Env() 1\")\r\n\r\n    # Another inner environment\r\n    with rio.Env(opt='val'):\r\n        show(\"Inner Env()\")\r\n\r\n    show(\"Outside inner Env()\")\r\n\r\nshow(\"Outside Env()\")\r\n\r\n\r\nrio.env.delenv()\r\nshow(\"Post-delete\")\r\n```\r\n\r\nproduces:\r\n\r\n```\r\nBefore Env()\r\nosgeo.gdal CHECK_WITH_INVERT_PROJ=None\r\nrasterio   CHECK_WITH_INVERT_PROJ=None\r\nosgeo.gdal opt=None\r\nrasterio   opt=None\r\n\r\nIn Env() 1\r\nosgeo.gdal CHECK_WITH_INVERT_PROJ=ON\r\nrasterio   CHECK_WITH_INVERT_PROJ=True\r\nosgeo.gdal opt=None\r\nrasterio   opt=None\r\n\r\nInner Env()\r\nosgeo.gdal CHECK_WITH_INVERT_PROJ=ON\r\nrasterio   CHECK_WITH_INVERT_PROJ=True\r\nosgeo.gdal opt=val\r\nrasterio   opt=val\r\n\r\nOutside inner Env()\r\nosgeo.gdal CHECK_WITH_INVERT_PROJ=ON\r\nrasterio   CHECK_WITH_INVERT_PROJ=True\r\nosgeo.gdal opt=None\r\nrasterio   opt=None\r\n\r\nOutside Env()\r\nosgeo.gdal CHECK_WITH_INVERT_PROJ=ON\r\nrasterio   CHECK_WITH_INVERT_PROJ=True\r\nosgeo.gdal opt=None\r\nrasterio   opt=None\r\n\r\nPost-delete\r\nosgeo.gdal CHECK_WITH_INVERT_PROJ=None\r\nrasterio   CHECK_WITH_INVERT_PROJ=None\r\nosgeo.gdal opt=None\r\nrasterio   opt=None\r\n```", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/968/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/968/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/967", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/967/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/967/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/967/events", "html_url": "https://github.com/rasterio/rasterio/issues/967", "id": 204056873, "node_id": "MDU6SXNzdWUyMDQwNTY4NzM=", "number": 967, "title": "Ensure .zip extension is used with streams of zipped bytes", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2017-01-30T16:21:36Z", "updated_at": "2017-02-04T09:01:02Z", "closed_at": "2017-02-04T09:01:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When passed to `MemoryFile()`.\r\n\r\nAlso: be sure to test opening of a stream of zipped bytes containing a VRT and GeoTIFF pair.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/967/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/967/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/965", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/965/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/965/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/965/events", "html_url": "https://github.com/rasterio/rasterio/pull/965", "id": 203705320, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAzNTQxNTUx", "number": 965, "title": "rio calc: pass snuggs eval kwargs as OrderedDict", "user": {"login": "ceholden", "id": 3585769, "node_id": "MDQ6VXNlcjM1ODU3Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/3585769?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ceholden", "html_url": "https://github.com/ceholden", "followers_url": "https://api.github.com/users/ceholden/followers", "following_url": "https://api.github.com/users/ceholden/following{/other_user}", "gists_url": "https://api.github.com/users/ceholden/gists{/gist_id}", "starred_url": "https://api.github.com/users/ceholden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ceholden/subscriptions", "organizations_url": "https://api.github.com/users/ceholden/orgs", "repos_url": "https://api.github.com/users/ceholden/repos", "events_url": "https://api.github.com/users/ceholden/events{/privacy}", "received_events_url": "https://api.github.com/users/ceholden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2017-01-27T18:25:09Z", "updated_at": "2017-01-28T08:21:06Z", "closed_at": "2017-01-28T08:21:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/965", "html_url": "https://github.com/rasterio/rasterio/pull/965", "diff_url": "https://github.com/rasterio/rasterio/pull/965.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/965.patch", "merged_at": "2017-01-28T08:21:04Z"}, "body": "Compliment to `snuggs=1.4.1` fix that should address #947\r\n\r\nStoring in regular dict or passing via kwargs ignores the order of user input, making (read 1) and (read 2) sometimes act out of order (important for things like subtraction). These changes substitute an `OrderedDict` which should solve the issue. I was able to trigger a failure from the test case I added prior to applying the `OrderedDict` patch, and it passed with the code change. Finally, I specified the version of `snuggs` with the relevant fix as minimum version.\r\n\r\nLet me know how it looks. Sorry for the wait!", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/965/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/965/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/963", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/963/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/963/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/963/events", "html_url": "https://github.com/rasterio/rasterio/pull/963", "id": 202357708, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAyNjA2MjUz", "number": 963, "title": "Modify behavior of null CRS, WIP (#960).", "user": {"login": "jdmcbr", "id": 666108, "node_id": "MDQ6VXNlcjY2NjEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/666108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdmcbr", "html_url": "https://github.com/jdmcbr", "followers_url": "https://api.github.com/users/jdmcbr/followers", "following_url": "https://api.github.com/users/jdmcbr/following{/other_user}", "gists_url": "https://api.github.com/users/jdmcbr/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdmcbr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdmcbr/subscriptions", "organizations_url": "https://api.github.com/users/jdmcbr/orgs", "repos_url": "https://api.github.com/users/jdmcbr/repos", "events_url": "https://api.github.com/users/jdmcbr/events{/privacy}", "received_events_url": "https://api.github.com/users/jdmcbr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 4, "created_at": "2017-01-22T03:43:46Z", "updated_at": "2017-01-24T17:54:02Z", "closed_at": "2017-01-24T17:53:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/963", "html_url": "https://github.com/rasterio/rasterio/pull/963", "diff_url": "https://github.com/rasterio/rasterio/pull/963.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/963.patch", "merged_at": "2017-01-24T17:53:39Z"}, "body": "Allow comparison of null CRS with other CRS. I've reached the point where feedback would be useful. I've removed the ValueError raised from `_osr_from_crs`, and modified the behavior in checking equality of two CRS such that they must both be valid and equal to evaluate as True. I modified one group of tests (whose name I should have changed, I just realized), `test_crs.test_can_create_osr_none_err`, since that is the behavior I explicitly modified. I added a couple of simple tests of CRS comparison. On my system, I'm seeing one test failure, when warping a dataset with no CRS. It seems that a ValueError should now be raised in `reproject` when crs is None, but before I went too far, I thought I'd check in. ", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/963/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/963/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/958", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/958/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/958/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/958/events", "html_url": "https://github.com/rasterio/rasterio/pull/958", "id": 199452023, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAwNjE4ODAz", "number": 958, "title": "delete GDALWarpOperation object", "user": {"login": "v0lat1le", "id": 2328459, "node_id": "MDQ6VXNlcjIzMjg0NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2328459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v0lat1le", "html_url": "https://github.com/v0lat1le", "followers_url": "https://api.github.com/users/v0lat1le/followers", "following_url": "https://api.github.com/users/v0lat1le/following{/other_user}", "gists_url": "https://api.github.com/users/v0lat1le/gists{/gist_id}", "starred_url": "https://api.github.com/users/v0lat1le/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v0lat1le/subscriptions", "organizations_url": "https://api.github.com/users/v0lat1le/orgs", "repos_url": "https://api.github.com/users/v0lat1le/repos", "events_url": "https://api.github.com/users/v0lat1le/events{/privacy}", "received_events_url": "https://api.github.com/users/v0lat1le/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2017-01-08T22:25:23Z", "updated_at": "2017-03-10T00:34:56Z", "closed_at": "2017-01-09T08:26:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/958", "html_url": "https://github.com/rasterio/rasterio/pull/958", "diff_url": "https://github.com/rasterio/rasterio/pull/958.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/958.patch", "merged_at": "2017-01-09T08:26:12Z"}, "body": "closes #956", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/958/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/958/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/957", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/957/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/957/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/957/events", "html_url": "https://github.com/rasterio/rasterio/pull/957", "id": 199375774, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAwNTc2ODQy", "number": 957, "title": "Release GIL when opening datasets", "user": {"login": "mojodna", "id": 45, "node_id": "MDQ6VXNlcjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/45?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mojodna", "html_url": "https://github.com/mojodna", "followers_url": "https://api.github.com/users/mojodna/followers", "following_url": "https://api.github.com/users/mojodna/following{/other_user}", "gists_url": "https://api.github.com/users/mojodna/gists{/gist_id}", "starred_url": "https://api.github.com/users/mojodna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mojodna/subscriptions", "organizations_url": "https://api.github.com/users/mojodna/orgs", "repos_url": "https://api.github.com/users/mojodna/repos", "events_url": "https://api.github.com/users/mojodna/events{/privacy}", "received_events_url": "https://api.github.com/users/mojodna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2017-01-07T18:10:47Z", "updated_at": "2017-05-31T00:45:40Z", "closed_at": "2017-01-09T08:24:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/957", "html_url": "https://github.com/rasterio/rasterio/pull/957", "diff_url": "https://github.com/rasterio/rasterio/pull/957.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/957.patch", "merged_at": "2017-01-09T08:24:00Z"}, "body": "This releases the GIL around `GDALOpen`, allowing multiple/different datasets to be opened concurrently in multiple threads (convenient for loading remote datasets). Prior to this, opening would occur sequentially even when triggered by different threads.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/957/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/957/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/952", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/952/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/952/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/952/events", "html_url": "https://github.com/rasterio/rasterio/issues/952", "id": 197196731, "node_id": "MDU6SXNzdWUxOTcxOTY3MzE=", "number": 952, "title": "User might get confused by rio CLI example with real data (including nan)", "user": {"login": "fnorf", "id": 279583, "node_id": "MDQ6VXNlcjI3OTU4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/279583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fnorf", "html_url": "https://github.com/fnorf", "followers_url": "https://api.github.com/users/fnorf/followers", "following_url": "https://api.github.com/users/fnorf/following{/other_user}", "gists_url": "https://api.github.com/users/fnorf/gists{/gist_id}", "starred_url": "https://api.github.com/users/fnorf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fnorf/subscriptions", "organizations_url": "https://api.github.com/users/fnorf/orgs", "repos_url": "https://api.github.com/users/fnorf/repos", "events_url": "https://api.github.com/users/fnorf/events{/privacy}", "received_events_url": "https://api.github.com/users/fnorf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 2, "created_at": "2016-12-22T15:18:19Z", "updated_at": "2017-01-02T13:01:35Z", "closed_at": "2017-01-02T13:01:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I had used the interpreter examples from https://github.com/mapbox/rasterio#rasterio-cli to write some code. But instead of getting valid values for the min, max and mean, I got \"nan, nan, nan\". I thought this would be a bug and spent a lot of time investigating what might be wrong with my system.\r\n\r\nThe actual solution was using numpy's nanmin, nanmax and nanmean methods.\r\n\r\nConsider changing the example to use some data that includes nan values and the appropriate methods so it will work with typical geodata as well. :)", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/952/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/952/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/949", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/949/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/949/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/949/events", "html_url": "https://github.com/rasterio/rasterio/issues/949", "id": 196093580, "node_id": "MDU6SXNzdWUxOTYwOTM1ODA=", "number": 949, "title": "Ensure sdists are compatible with GDAL < 2 and GDAL >= 2", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 158815511, "node_id": "MDU6TGFiZWwxNTg4MTU1MTE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/packaging", "name": "packaging", "color": "bfdadc", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2016-12-16T16:07:55Z", "updated_at": "2017-02-02T11:13:03Z", "closed_at": "2017-02-02T11:13:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "1.0a4 sdists are not, they require GDAL 2+.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/949/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/949/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/947", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/947/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/947/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/947/events", "html_url": "https://github.com/rasterio/rasterio/issues/947", "id": 195944259, "node_id": "MDU6SXNzdWUxOTU5NDQyNTk=", "number": 947, "title": "rio calc input order and order sensitive operations (e.g., subtraction)", "user": {"login": "ceholden", "id": 3585769, "node_id": "MDQ6VXNlcjM1ODU3Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/3585769?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ceholden", "html_url": "https://github.com/ceholden", "followers_url": "https://api.github.com/users/ceholden/followers", "following_url": "https://api.github.com/users/ceholden/following{/other_user}", "gists_url": "https://api.github.com/users/ceholden/gists{/gist_id}", "starred_url": "https://api.github.com/users/ceholden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ceholden/subscriptions", "organizations_url": "https://api.github.com/users/ceholden/orgs", "repos_url": "https://api.github.com/users/ceholden/repos", "events_url": "https://api.github.com/users/ceholden/events{/privacy}", "received_events_url": "https://api.github.com/users/ceholden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-12-15T23:30:31Z", "updated_at": "2017-02-02T17:10:24Z", "closed_at": "2017-02-02T17:10:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I think I've come across an issue when running `rio calc` using `read` command with operations that are dependent on the order of the inputs, like subtraction. I came across it while calculating the difference between various pairs of raster images (1990 - 1985, 1995 - 1985, ...). The outputs from `rio calc` sometimes would flip the order of the subtraction so for some sets it would be `A - B` and others it would be `B - A`.\r\n\r\nSome evidence, collected with `rasterio=1.0a4` and Python 3.5.2 on Linux.\r\n\r\n`a.tif` and `b.tif` are two boring raster images that I want to subtract. If I repeat the process 10 times and print the image statistics of the calculation:\r\n\r\n``` bash\r\n> for i in $(seq 1 10); do\r\n    rio calc --force-overwrite -o c.tif \"(- (read 1 1) (read 2 1))\" a.tif b.tif\r\n    rio info --stats c.tif\r\ndone\r\n-2853.000000 -2303.000000 -2561.840000\r\n-2853.000000 -2303.000000 -2561.840000\r\n...\r\n2303.000000 2853.000000 2561.840000\r\n```\r\n\r\nEverything evaluates correctly when using named inputs and referencing them using `(take a 1)`:\r\n\r\n``` bash\r\n> for i in $(seq 1 10); do\r\n    rio calc --force-overwrite \"(- (take a 1) (take b 1))\" --name a=a.tif --name b=b.tif c.tif\r\n    rio info --stats c.tif\r\ndone\r\n-2853.000000 -2303.000000 -2561.840000\r\n-2853.000000 -2303.000000 -2561.840000\r\n...\r\n-2853.000000 -2303.000000 -2561.840000\r\n```\r\n\r\nWhat seems to be happening is that calls to `read` in turn calls [`snuggs._ctx.lookup`](https://github.com/mapbox/snuggs/blob/master/snuggs/__init__.py#L37), which relies on indexing a `self._data.values()` call. Since `self._data` is not an `OrderedDict`, the `.values` call does not necessarily preserve the order I input the rasters in. I tried hacking in [`snuggs.Context._data`](https://github.com/mapbox/snuggs/blob/master/snuggs/__init__.py#L29) and [`ctxkwds` from rasterio.rio.clip](https://github.com/mapbox/rasterio/blob/master/rasterio/rio/calc.py#L103) as `OrderedDict`, but the order is obliterated when passed to [`snuggs.eval(command, **ctxkwds)` via kwargs](https://github.com/mapbox/rasterio/blob/master/rasterio/rio/calc.py#L123). I confirmed this by printing out the order each image was added to the `ctx._data` via [`ctx.add`](https://github.com/mapbox/snuggs/blob/master/snuggs/__init__.py#L58) during the `__enter__`  context manager step.\r\n\r\nTook me a while to make sure I had a good grip on reality, but I'm pretty sure this is what's going on. I implemented a fix that I'd be happy to submit as a PR to rasterio and snuggs, assuming I'm not going crazy and there is actually an issue (after the back and forth diagnosing this, I might be!). Here's the [rasterio changes](https://github.com/ceholden/rasterio/commit/bd544cc7e73d46a276895486a649144add88e490) and [snuggs changes](https://github.com/ceholden/snuggs/commit/94f872cd26298bc1c7bc43b0f892004f73f315e1) I made.\r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/947/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/947/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/943", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/943/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/943/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/943/events", "html_url": "https://github.com/rasterio/rasterio/issues/943", "id": 194382194, "node_id": "MDU6SXNzdWUxOTQzODIxOTQ=", "number": 943, "title": "Cannot use calculate_default_transform()", "user": {"login": "mhearne-usgs", "id": 303058, "node_id": "MDQ6VXNlcjMwMzA1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/303058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mhearne-usgs", "html_url": "https://github.com/mhearne-usgs", "followers_url": "https://api.github.com/users/mhearne-usgs/followers", "following_url": "https://api.github.com/users/mhearne-usgs/following{/other_user}", "gists_url": "https://api.github.com/users/mhearne-usgs/gists{/gist_id}", "starred_url": "https://api.github.com/users/mhearne-usgs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mhearne-usgs/subscriptions", "organizations_url": "https://api.github.com/users/mhearne-usgs/orgs", "repos_url": "https://api.github.com/users/mhearne-usgs/repos", "events_url": "https://api.github.com/users/mhearne-usgs/events{/privacy}", "received_events_url": "https://api.github.com/users/mhearne-usgs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-12-08T16:32:41Z", "updated_at": "2016-12-09T13:46:13Z", "closed_at": "2016-12-09T13:46:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "This may be user error, but...\r\nDoing my best to call calculate_default_transform(), using release '1.0a3' on Mac OS 10.10.5.  My builds of rasterio/gdal came to me via conda-forge.  \r\n\r\ngdalwarp --version => GDAL 2.1.2, released 2016/10/24\r\n\r\nHere's a snippet of code that fails:\r\nfrom rasterio.warp import calculate_default_transform\r\nsrc = {'datum': 'WGS84', 'ellps': 'WGS84', 'proj': 'longlat', 'no_defs': True}\r\ndst = {'datum': 'WGS84', 'ellps': 'WGS84', 'zone': 40, 'no_defs': True, 'proj': 'utm', 'units': 'm'}\r\nsrcwidth,srcheight = 100,100\r\ndst_affine, dst_width, dst_height = _calculate_default_transform(src,dst,srcwidth,srcheight)\r\n\r\nI get the following error, which I do not really understand:\r\n\r\nCPLE_AppDefinedError: The transformation is already \"north up\" or a transformation between pixel/line and georeferenced coordinates cannot be computed for cb968650-5093-45bf-befe-9743b7fc8515. There is no affine transformation and no GCPs. Specify transformation option SRC_METHOD=NO_GEOTRANSFORM to bypass this check.\r\n\r\nAlso, the method definition indicates that input width,height are required but the documentation string says that they are optional.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/943/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/935", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/935/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/935/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/935/events", "html_url": "https://github.com/rasterio/rasterio/issues/935", "id": 193192667, "node_id": "MDU6SXNzdWUxOTMxOTI2Njc=", "number": 935, "title": "Redirect of GDAL error handler to logging causes Windows segfaults", "user": {"login": "grovduck", "id": 1706997, "node_id": "MDQ6VXNlcjE3MDY5OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1706997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grovduck", "html_url": "https://github.com/grovduck", "followers_url": "https://api.github.com/users/grovduck/followers", "following_url": "https://api.github.com/users/grovduck/following{/other_user}", "gists_url": "https://api.github.com/users/grovduck/gists{/gist_id}", "starred_url": "https://api.github.com/users/grovduck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grovduck/subscriptions", "organizations_url": "https://api.github.com/users/grovduck/orgs", "repos_url": "https://api.github.com/users/grovduck/repos", "events_url": "https://api.github.com/users/grovduck/events{/privacy}", "received_events_url": "https://api.github.com/users/grovduck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 8, "created_at": "2016-12-02T19:05:43Z", "updated_at": "2017-02-14T14:09:52Z", "closed_at": "2017-02-14T14:09:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There have been a number of issues that have mentioned Windows \"segfaults\" (termination of python process) when running tests (e.g. #66, #260, #410, #469, etc.).  Based on #876, @sgillies added functionality to handle CPL errors by pushing/popping a `CPLErrorHandler` within the `start` / `stop` methods of the `GDALEnv` class.  This sent GDAL CPL errors/warnings to the logger (presumably to quiet the GDAL errors/warnings being sent to stdout).  The `CPLErrors` context manager was put into place such that its `check` method would retrieve the last emitted CPLError from GDAL and rebroadcast that as a Python error.  (I hope I'm getting this correct ...)\r\n\r\nWhen running tests on Windows, a bunch of tests don't fail, but rather terminate the Python process completely.  For sake of zeroing in on a crashing test, the test `test_warp_transform.py::test_transform_bounds` is supposed to raise a `CRSError` based on a faulty destination CRS.  At the Cython level, this eventually traces to a call to `OCTNewCoordinateTransformation` in `_base.pyx` ([here](https://github.com/mapbox/rasterio/blob/master/rasterio/_base.pyx#L901)).  When running this test with debug logging on, I can see that the CPLError from GDAL is successfully passed to the logger, however, the `cple.check()` call on the next line of `base.pyx` is never reached as the process terminates (I threw in some ugly print statement between these lines to confirm this). However, if I comment out the call to `CPLPushErrorHandler` in `_drivers.pyx` [here](https://github.com/mapbox/rasterio/blob/master/rasterio/_drivers.pyx#L132), the `check()` call runs and the test passes (and I receive the CPL error printed to stdout).\r\n\r\nHaving made this change, all tests now at least run on Windows, although some of the tests that had crashed before are failing now (although I haven't dug in on those yet).  So, I'm entirely confused why creating the custom error handler (essentially just redirecting GDAL errors/warnings to the logger instead of stdout) could be causing Python crashes.  Obviously this isn't causing issues on linux as I can see that those tests are passing.  I'm happy to provide more information and/or test any changes locally as this has been driving me nuts for months ...\r\n\r\nFor reference, my setup is:\r\n\r\n    Windows 7 64-bit, Python 2.7.10 32-bit\r\n    rasterio at f203009 (1.0a3)\r\n    GDAL binaries from Golhke's GDAL 2.1 build\r\n\r\nHere is test output with `CPLPushErrorHandler` commented out:\r\n\r\n```\r\n============================= test session starts =============================\r\nplatform win32 -- Python 2.7.10, pytest-3.0.4, py-1.4.31, pluggy-0.4.0\r\nrootdir: d:\\matt\\work\\code\\git\\rasterio, inifile: setup.cfg\r\nplugins: cov-2.4.0\r\ncollected 793 items\r\n\r\ntests\\test_band.py .\r\ntests\\test_band_masks.py ............\r\ntests\\test_blocks.py ..........F\r\ntests\\test_checksum.py ......\r\ntests\\test_cli_main.py ..\r\ntests\\test_colorinterp.py .s\r\ntests\\test_colormap.py ..\r\ntests\\test_complex_dtypes.py ...\r\ntests\\test_coords.py ...\r\ntests\\test_copy.py F\r\ntests\\test_crs.py .FF..................\r\ntests\\test_dataset_mask.py ........\r\ntests\\test_deprecated.py ....\r\ntests\\test_descriptions.py .\r\ntests\\test_driver_management.py ..F.\r\ntests\\test_driver_policy.py ..\r\ntests\\test_dtypes.py .........\r\ntests\\test_env.py ...........ssFss.\r\ntests\\test_err.py ....\r\ntests\\test_features.py .........................................................\r\ntests\\test_fillnodata.py ...\r\ntests\\test_gcps.py ........\r\ntests\\test_gdal_raster_io.py ...................................\r\ntests\\test_image_structure.py ...............\r\ntests\\test_indexing.py .....................\r\ntests\\test_io_mixins.py .....\r\ntests\\test_mask.py .....\r\ntests\\test_mask_creation.py ...x\r\ntests\\test_memoryfile.py ......\r\ntests\\test_meta.py ..\r\ntests\\test_no_georef.py ..\r\ntests\\test_nodata.py FF\r\ntests\\test_open.py ....\r\ntests\\test_options.py .\r\ntests\\test_overviews.py ......\r\ntests\\test_pad.py .\r\ntests\\test_plot.py s.sssssssssssss.\r\ntests\\test_png.py F\r\ntests\\test_profile.py .......................\r\ntests\\test_read.py ...................\r\ntests\\test_read_boundless.py ...........\r\ntests\\test_read_resample.py ...\r\ntests\\test_reshape_image.py ...\r\ntests\\test_revolvingdoor.py .\r\ntests\\test_rio_blocks.py .......\r\ntests\\test_rio_calc.py ...........\r\ntests\\test_rio_convert.py ..............\r\ntests\\test_rio_features.py .........................................\r\ntests\\test_rio_gcp.py ........\r\ntests\\test_rio_helpers.py ........\r\ntests\\test_rio_info.py .................................................................\r\ntests\\test_rio_insp.py ....\r\ntests\\test_rio_main.py ..\r\ntests\\test_rio_merge.py .................\r\ntests\\test_rio_options.py ...........\r\ntests\\test_rio_overview.py ......\r\ntests\\test_rio_sample.py .......\r\ntests\\test_rio_stack.py ......\r\ntests\\test_rio_warp.py .................................\r\ntests\\test_sampling.py .....\r\ntests\\test_tags.py ....\r\ntests\\test_transform.py .............\r\ntests\\test_units.py .\r\ntests\\test_update.py F.......\r\ntests\\test_vfs.py .............\r\ntests\\test_warnings.py .\r\ntests\\test_warp.py .............................................s.....XxxxxXXsXXXXX....\r\ntests\\test_warp_transform.py ........\r\ntests\\test_windows.py .............................................\r\ntests\\test_write.py ....FFFFFFFFFFFF.F..\r\n== 23 failed, 736 passed, 21 skipped, 5 xfailed, 8 xpassed in 25.18 seconds ===\r\n```\r\n    \r\n/cc @brendan-ward", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/935/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/935/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/930", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/930/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/930/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/930/events", "html_url": "https://github.com/rasterio/rasterio/issues/930", "id": 192667077, "node_id": "MDU6SXNzdWUxOTI2NjcwNzc=", "number": 930, "title": "tests fail with proj 4.9.3", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 337782406, "node_id": "MDU6TGFiZWwzMzc3ODI0MDY=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/testing", "name": "testing", "color": "fef2c0", "default": false, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351217999, "node_id": "MDU6TGFiZWwzNTEyMTc5OTk=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/proj", "name": "proj", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-11-30T20:13:17Z", "updated_at": "2016-12-06T20:23:11Z", "closed_at": "2016-12-06T20:23:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On OSX, did a `brew update` and got a new libproj4. Re-compiled GDAL (2.1.2) and Rasterio. Something went wrong...\r\n\r\nThese 7 tests are failing\r\n```\r\ntests/test_warp.py::test_transform_bounds_densify FAILED\r\ntests/test_warp.py::test_reproject_nodata[options0-6217] FAILED\r\ntests/test_warp.py::test_reproject_nodata[options1-4005] FAILED\r\ntests/test_warp.py::test_reproject_nodata_nan[options0-6217] FAILED\r\ntests/test_warp.py::test_reproject_nodata_nan[options1-4005] FAILED\r\ntests/test_warp.py::test_reproject_dst_nodata_default[options0-6217] FAILED\r\ntests/test_warp.py::test_reproject_dst_nodata_default[options1-4005] FAILED\r\n```\r\n\r\nThe full output: https://gist.github.com/perrygeo/62945ab32f39b2f527e8a33a30717b44\r\n\r\nEverything else seems to be working normally, including many other proj-related functions\\\r\n\r\nseems to be linked to the correct location, maybe its a problem with the new homebrew proj? Or perhaps not a problem but a breaking change in the new libproj that affects coordinates?\r\n```\r\n$ otool -L rasterio/_base.cpython-35m-darwin.so\r\nrasterio/_base.cpython-35m-darwin.so:\r\n\t/usr/local/gdal/gdal-2.1.2/lib/libgdal.20.dylib (compatibility version 22.0.0, current version 22.2.0)\r\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1213.0.0)\r\n$ otool -L /usr/local/gdal/gdal-2.1.2/lib/libgdal.20.dylib\r\n/usr/local/gdal/gdal-2.1.2/lib/libgdal.20.dylib:\r\n\t/usr/local/gdal/gdal-2.1.2/lib/libgdal.20.dylib (compatibility version 22.0.0, current version 22.2.0)\r\n\t/usr/local/opt/proj/lib/libproj.12.dylib (compatibility version 13.0.0, current version 13.0.0)\r\n...\r\n```\r\n\r\nAny ideas @sgillies? What version of libproj are you running?", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/930/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/930/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/922", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/922/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/922/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/922/events", "html_url": "https://github.com/rasterio/rasterio/issues/922", "id": 187331045, "node_id": "MDU6SXNzdWUxODczMzEwNDU=", "number": 922, "title": "transform_geom() fails on geoms with z", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/51", "html_url": "https://github.com/rasterio/rasterio/milestone/51", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/51/labels", "id": 2104078, "node_id": "MDk6TWlsZXN0b25lMjEwNDA3OA==", "number": 51, "title": "1.0a3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2016-10-31T12:49:08Z", "updated_at": "2016-11-15T13:02:55Z", "due_on": null, "closed_at": "2016-11-15T13:02:55Z"}, "comments": 1, "created_at": "2016-11-04T13:19:02Z", "updated_at": "2016-11-08T15:07:54Z", "closed_at": "2016-11-08T15:07:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Discovered this while testing GCP GeoJSON dump from rio-info.", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/922/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/922/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/919", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/919/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/919/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/919/events", "html_url": "https://github.com/rasterio/rasterio/issues/919", "id": 185830090, "node_id": "MDU6SXNzdWUxODU4MzAwOTA=", "number": 919, "title": "MemoryFile does not open unless rasterio.open called in different context", "user": {"login": "nickwg03", "id": 4528512, "node_id": "MDQ6VXNlcjQ1Mjg1MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4528512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickwg03", "html_url": "https://github.com/nickwg03", "followers_url": "https://api.github.com/users/nickwg03/followers", "following_url": "https://api.github.com/users/nickwg03/following{/other_user}", "gists_url": "https://api.github.com/users/nickwg03/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickwg03/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickwg03/subscriptions", "organizations_url": "https://api.github.com/users/nickwg03/orgs", "repos_url": "https://api.github.com/users/nickwg03/repos", "events_url": "https://api.github.com/users/nickwg03/events{/privacy}", "received_events_url": "https://api.github.com/users/nickwg03/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/51", "html_url": "https://github.com/rasterio/rasterio/milestone/51", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/51/labels", "id": 2104078, "node_id": "MDk6TWlsZXN0b25lMjEwNDA3OA==", "number": 51, "title": "1.0a3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2016-10-31T12:49:08Z", "updated_at": "2016-11-15T13:02:55Z", "due_on": null, "closed_at": "2016-11-15T13:02:55Z"}, "comments": 1, "created_at": "2016-10-28T03:22:05Z", "updated_at": "2016-10-31T15:43:57Z", "closed_at": "2016-10-31T15:43:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I hope I'm not jumping the gun on this one, but it looks like I am extremely lucky finding you have just added MemoryFile functionality right as I set out looking for this ability.\n\nWhen I try to open a memory file in a fresh python command-line interpreter, I find that opening the memory file will fail unless I had previously opened a .tif file using the typical `rasterio.open` syntax. \n\nI've pasted my workflow below which basically shows that when I initialize a MemoryFile with the bytes of a file I just opened,  calling `.open()` on the MemoryFile instance will fail. If I then simply open a geotiff file (doesn't matter which) and retry the `.open()` on the MemoryFile instance, the process works just fine:\n\n![image](https://cloud.githubusercontent.com/assets/4528512/19793641/bbbb47aa-9c8a-11e6-8234-5cb618864ee0.png)\n\nOdd behavior, but it seems like running `rasterio.open` somehow preps the environment to allow opening the MemoryFile.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/919/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/919/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/914", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/914/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/914/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/914/events", "html_url": "https://github.com/rasterio/rasterio/pull/914", "id": 183404952, "node_id": "MDExOlB1bGxSZXF1ZXN0ODk2MTUzMzY=", "number": 914, "title": "use nanmin/max for histogram range", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2016-10-17T12:39:03Z", "updated_at": "2016-10-17T13:03:35Z", "closed_at": "2016-10-17T13:03:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/914", "html_url": "https://github.com/rasterio/rasterio/pull/914", "diff_url": "https://github.com/rasterio/rasterio/pull/914.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/914.patch", "merged_at": "2016-10-17T13:03:35Z"}, "body": "Fixes #913 \n\nI couldn't demonstrate any performance difference between the methods. There shouldn't be any impacts aside from fixing the nan case.\n\nLeaves unresolved the question of how nan's should be treated in rio info stats or even more fundamentally if we should consider `nan` as a defacto nodata value when doing masked reads. Different questions for another time.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/914/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/914/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/913", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/913/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/913/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/913/events", "html_url": "https://github.com/rasterio/rasterio/issues/913", "id": 183290692, "node_id": "MDU6SXNzdWUxODMyOTA2OTI=", "number": 913, "title": "show_hist() fails with nans", "user": {"login": "danhamill", "id": 11522898, "node_id": "MDQ6VXNlcjExNTIyODk4", "avatar_url": "https://avatars.githubusercontent.com/u/11522898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danhamill", "html_url": "https://github.com/danhamill", "followers_url": "https://api.github.com/users/danhamill/followers", "following_url": "https://api.github.com/users/danhamill/following{/other_user}", "gists_url": "https://api.github.com/users/danhamill/gists{/gist_id}", "starred_url": "https://api.github.com/users/danhamill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danhamill/subscriptions", "organizations_url": "https://api.github.com/users/danhamill/orgs", "repos_url": "https://api.github.com/users/danhamill/repos", "events_url": "https://api.github.com/users/danhamill/events{/privacy}", "received_events_url": "https://api.github.com/users/danhamill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 2, "created_at": "2016-10-16T20:49:55Z", "updated_at": "2016-10-17T13:03:35Z", "closed_at": "2016-10-17T13:03:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am getting an `UnboundLocalError: local variable 'ymin' referenced before assignment` when I am trying to use the show_hist() function in the plotting module.  \n\n```\nimport rasterio\nfrom rasterio.plot import show_hist\nfrom rasterio.plot import show\nimport matplotlib.pyplot as plt\n\nfname = r\"C:\\workspace\\GLCM\\output\\glcm_rasters\\2014_05\\10\\R02028_10_asm.tif\"\nsrc = rasterio.open(fname)\n\nfig, (axrgb, axhist) = plt.subplots(1, 2, figsize=(14,7))\nshow(src, ax=axrgb)\nshow_hist(src, bins=50, histtype='bar', lw=0.0, stacked=False, alpha=0.3, ax=axhist)\n plt.show()\n```\n\n[here](https://drive.google.com/file/d/0B17WT3pXaqrYcUVQbXRVYkxqeXc/view?usp=sharing) is the offending file.\n\nconda info:\n\n```\n             platform : win-64\n        conda version : 4.1.11\n    conda-env version : 2.5.2\n  conda-build version : 1.20.0\n       python version : 2.7.11.final.0\n     requests version : 2.9.1\n     root environment : c:\\Anaconda2  (writable)\n  default environment : c:\\Anaconda2\n     envs directories : c:\\Anaconda2\\envs\n        package cache : c:\\Anaconda2\\pkgs\n         channel URLs : https://repo.continuum.io/pkgs/free/win-64/\n                        https://repo.continuum.io/pkgs/free/noarch/\n                        https://repo.continuum.io/pkgs/pro/win-64/\n                        https://repo.continuum.io/pkgs/pro/noarch/\n                        https://repo.continuum.io/pkgs/msys2/win-64/\n                        https://repo.continuum.io/pkgs/msys2/noarch/\n          config file : None\n         offline mode : False\n    is foreign system : False\n```\n\nPackage info:\n\n```\nrasterio                  0.36.0                    <pip>\nmatplotlib                1.5.1               np110py27_0\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/913/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/913/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/907", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/907/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/907/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/907/events", "html_url": "https://github.com/rasterio/rasterio/pull/907", "id": 180674783, "node_id": "MDExOlB1bGxSZXF1ZXN0ODc3NDAzNTA=", "number": 907, "title": "Push and pop error handler within Env context", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 2, "created_at": "2016-10-03T15:45:50Z", "updated_at": "2016-10-19T20:17:54Z", "closed_at": "2016-10-19T20:17:54Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/907", "html_url": "https://github.com/rasterio/rasterio/pull/907", "diff_url": "https://github.com/rasterio/rasterio/pull/907.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/907.patch", "merged_at": "2016-10-19T20:17:54Z"}, "body": "Work in progress.\n\nCloses #876\nCloses #902\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/907/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/907/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/905", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/905/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/905/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/905/events", "html_url": "https://github.com/rasterio/rasterio/pull/905", "id": 180113497, "node_id": "MDExOlB1bGxSZXF1ZXN0ODczNTgzNTE=", "number": 905, "title": "epsg logging from info to debug", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/50", "html_url": "https://github.com/rasterio/rasterio/milestone/50", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/50/labels", "id": 2031730, "node_id": "MDk6TWlsZXN0b25lMjAzMTczMA==", "number": 50, "title": "1.0a2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2016-09-27T13:01:17Z", "updated_at": "2016-10-04T14:44:35Z", "due_on": null, "closed_at": "2016-10-04T14:44:35Z"}, "comments": 1, "created_at": "2016-09-29T17:33:28Z", "updated_at": "2016-09-30T13:06:04Z", "closed_at": "2016-09-30T13:06:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/905", "html_url": "https://github.com/rasterio/rasterio/pull/905", "diff_url": "https://github.com/rasterio/rasterio/pull/905.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/905.patch", "merged_at": "2016-09-30T13:06:04Z"}, "body": "Small change to reduce the noise with `INFO` level logging. These EPSG notifications feel more like debugging logs than info.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/905/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/905/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/903", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/903/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/903/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/903/events", "html_url": "https://github.com/rasterio/rasterio/pull/903", "id": 179768566, "node_id": "MDExOlB1bGxSZXF1ZXN0ODcxMTY3NDE=", "number": 903, "title": "Declare errorHandler() with gil", "user": {"login": "rouault", "id": 1192433, "node_id": "MDQ6VXNlcjExOTI0MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/1192433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rouault", "html_url": "https://github.com/rouault", "followers_url": "https://api.github.com/users/rouault/followers", "following_url": "https://api.github.com/users/rouault/following{/other_user}", "gists_url": "https://api.github.com/users/rouault/gists{/gist_id}", "starred_url": "https://api.github.com/users/rouault/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rouault/subscriptions", "organizations_url": "https://api.github.com/users/rouault/orgs", "repos_url": "https://api.github.com/users/rouault/repos", "events_url": "https://api.github.com/users/rouault/events{/privacy}", "received_events_url": "https://api.github.com/users/rouault/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/50", "html_url": "https://github.com/rasterio/rasterio/milestone/50", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/50/labels", "id": 2031730, "node_id": "MDk6TWlsZXN0b25lMjAzMTczMA==", "number": 50, "title": "1.0a2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2016-09-27T13:01:17Z", "updated_at": "2016-10-04T14:44:35Z", "due_on": null, "closed_at": "2016-10-04T14:44:35Z"}, "comments": 1, "created_at": "2016-09-28T13:11:54Z", "updated_at": "2016-09-30T13:21:33Z", "closed_at": "2016-09-30T13:21:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/903", "html_url": "https://github.com/rasterio/rasterio/pull/903", "diff_url": "https://github.com/rasterio/rasterio/pull/903.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/903.patch", "merged_at": "2016-09-30T13:21:19Z"}, "body": "I've run recently into an incompatibility between rasterio and osgeo.gdal\n\nSince recently in GDAL master, osgeo.gdal bindings are generated with an option\nthat cause the GIL to be released before going to GDAL native code :\nhttps://trac.osgeo.org/gdal/ticket/6649\n\nI now observe crashes when running the following\n\n```\nimport rasterio\nfrom osgeo import gdal\ngdal.OpenEx('i_dont_exist', gdal.OF_RASTER | gdal.OF_VERBOSE_ERROR)\n```\n\nThe stack trace is\n\n```\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007fffe1507401 in __Pyx_PyObject_Call (kw=0x0, arg=0x7fffe177f750, func=0x7ffff67b5cf8) at rasterio/_drivers.c:4620\n4620        if (unlikely(Py_EnterRecursiveCall((char*)\" while calling a Python object\")))\n(gdb) bt\n#0  0x00007fffe1507401 in __Pyx_PyObject_Call (kw=0x0, arg=0x7fffe177f750, func=0x7ffff67b5cf8) at rasterio/_drivers.c:4620\n#1  __pyx_f_8rasterio_8_drivers_errorHandler (__pyx_v_err_class=CE_Failure, __pyx_v_err_no=<optimized out>, \n    __pyx_v_msg=0xe6ea38 \"i_dont_exist: No such file or directory\") at rasterio/_drivers.c:1100\n#2  0x00007ffff587eff3 in CPLErrorV (eErrClass=<optimized out>, err_no=<optimized out>, fmt=<optimized out>, args=<optimized out>) at cpl_error.cpp:358\n#3  0x00007ffff587ed30 in CPLError (eErrClass=4159171344, err_no=-512231600, fmt=0x0) at cpl_error.cpp:204\n#4  0x00007ffff589e570 in VSIToCPLError (eErrClass=CE_Failure, eDefaultErrorNo=4) at cpl_vsi_error.cpp:271\n#5  0x00007ffff5808729 in GDALOpenEx (pszFilename=<optimized out>, nOpenFlags=<optimized out>, papszAllowedDrivers=<optimized out>, \n    papszOpenOptions=<optimized out>, papszSiblingFiles=<optimized out>) at gdaldataset.cpp:2886\n#6  0x00007fffdf38c129 in OpenEx (utf8_path=utf8_path@entry=0x7ffff7e7b524 \"i_dont_exist\", nOpenFlags=nOpenFlags@entry=66, \n    allowed_drivers=allowed_drivers@entry=0x0, open_options=open_options@entry=0x0, sibling_files=sibling_files@entry=0x0) at extensions/gdal_wrap.cpp:5887\n#7  0x00007fffdf38c79b in _wrap_OpenEx (args=<optimized out>, kwargs=<optimized out>) at extensions/gdal_wrap.cpp:27314\n#8  0x000000000049968d in PyEval_EvalFrameEx ()\n#9  0x00000000004a1634 in ?? ()\n#10 0x000000000044e4a5 in PyRun_FileExFlags ()\n#11 0x000000000044ec9f in PyRun_SimpleFileExFlags ()\n#12 0x000000000044f904 in Py_Main ()\n#13 0x00007ffff7818f45 in __libc_start_main (main=0x44f9c2 <main>, argc=2, argv=0x7fffffffe3a8, init=<optimized out>, fini=<optimized out>, \n    rtld_fini=<optimized out>, stack_end=0x7fffffffe398) at libc-start.c:287\n#14 0x0000000000578c4e in _start ()\n\n```\n\nThe issue is that the rasterio errorHandler callback is called with the\nGIL released, but it does use Python stuff.\nSo the GIL should be re-acquired in the callback. (which is done in osgeo.gdal\ntoo with Python error and progress callbacks)\n\nhttp://docs.cython.org/en/latest/src/userguide/external_C_code.html#acquiring-and-releasing-the-gil\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/903/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/903/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/901", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/901/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/901/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/901/events", "html_url": "https://github.com/rasterio/rasterio/pull/901", "id": 179717806, "node_id": "MDExOlB1bGxSZXF1ZXN0ODcwODAyNTU=", "number": 901, "title": "Raster data IO correctness", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351216954, "node_id": "MDU6TGFiZWwzNTEyMTY5NTQ=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/advanced", "name": "advanced", "color": "000000", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/50", "html_url": "https://github.com/rasterio/rasterio/milestone/50", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/50/labels", "id": 2031730, "node_id": "MDk6TWlsZXN0b25lMjAzMTczMA==", "number": 50, "title": "1.0a2", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2016-09-27T13:01:17Z", "updated_at": "2016-10-04T14:44:35Z", "due_on": null, "closed_at": "2016-10-04T14:44:35Z"}, "comments": 1, "created_at": "2016-09-28T09:04:28Z", "updated_at": "2016-09-30T15:19:27Z", "closed_at": "2016-09-30T15:19:27Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/901", "html_url": "https://github.com/rasterio/rasterio/pull/901", "diff_url": "https://github.com/rasterio/rasterio/pull/901.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/901.patch", "merged_at": "2016-09-30T15:19:27Z"}, "body": "Towards resolving #900 \n\nIt turns out that the problem has nothing to do with warping. It is this: when a ndarray view is passed into dataset's `read()` or `write()` and thereby into the lower level `io` functions, the layout of the underlying buffer is miscommunicated to `GDALRasterIO()` and bytes were scrambled.\n\nThis is a show-stopping bug for 1.0a2. I'm doing some refactoring to make the bug easier to fix.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/901/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/895", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/895/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/895/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/895/events", "html_url": "https://github.com/rasterio/rasterio/issues/895", "id": 178861621, "node_id": "MDU6SXNzdWUxNzg4NjE2MjE=", "number": 895, "title": "Can't write internal mask with block windows", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 4, "created_at": "2016-09-23T12:15:34Z", "updated_at": "2018-01-05T16:06:08Z", "closed_at": "2018-01-05T16:06:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using GeoTIFF internal masks, it doesn't appear possible to do partial writes of the mask.\n\nConsider:\n\n``` python\nimport rasterio\n\nrgba_path = \"tests/data/alpha.tif\"\nout_path = \"/tmp/test.tif\"\n\nwith rasterio.open(rgba_path) as src:\n    profile = src.profile\n    profile['count'] = 3\n\n    # Attempt to write the alpha band as an internal mask\n    with rasterio.Env(GDAL_TIFF_INTERNAL_MASK=True):\n        with rasterio.open(out_path, 'w', **profile) as dst:\n\n            # Iterate over the blocks\n            for _, win in src.block_windows():\n                print(\"Writing window {}\".format(win))\n                dst.write(\n                    src.read((1, 2, 3), window=win),\n                    window=win)\n                dst.write_mask(\n                    src.read(4, window=win),\n                    window=win)\n```\n\nRunning this, we see that the first block window is written without a problem, but the second write fails\n\n```\n$ python _rgba.py\nWriting window ((0, 256), (0, 256))\nWriting window ((0, 256), (256, 512))\nTraceback (most recent call last):\n  File \"rasterio/_io.pyx\", line 1844, in rasterio._io.DatasetWriterBase.write_mask (rasterio/_io.c:26392)\n    with CPLErrors() as cple:\n  File \"rasterio/_io.pyx\", line 1846, in rasterio._io.DatasetWriterBase.write_mask (rasterio/_io.c:26290)\n    cple.check()\n  File \"rasterio/_err.pyx\", line 194, in rasterio._err.CPLErrors.check (rasterio/_err.c:1810)\n    raise exception_map.get(err_no, CPLE_BaseError)(\nrasterio._err.CPLE_AppDefinedError: This TIFF dataset has already an internal mask band\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"_rgba.py\", line 22, in <module>\n    window=win)\n  File \"rasterio/_io.pyx\", line 1851, in rasterio._io.DatasetWriterBase.write_mask (rasterio/_io.c:26482)\n    raise RasterioIOError(\"Failed to get mask.\")\nrasterio.errors.RasterioIOError: Failed to get mask.\n```\n\nIs this something inherent to GeoTIFF masks that is intractable? A limitation of GDAL? Or a limitation of Rasterio's usage of libgdal? \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/895/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/895/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/888", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/888/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/888/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/888/events", "html_url": "https://github.com/rasterio/rasterio/issues/888", "id": 178296724, "node_id": "MDU6SXNzdWUxNzgyOTY3MjQ=", "number": 888, "title": "Importing rasterio leads to OGR Failure in GeoDjango", "user": {"login": "lordi", "id": 232086, "node_id": "MDQ6VXNlcjIzMjA4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/232086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lordi", "html_url": "https://github.com/lordi", "followers_url": "https://api.github.com/users/lordi/followers", "following_url": "https://api.github.com/users/lordi/following{/other_user}", "gists_url": "https://api.github.com/users/lordi/gists{/gist_id}", "starred_url": "https://api.github.com/users/lordi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lordi/subscriptions", "organizations_url": "https://api.github.com/users/lordi/orgs", "repos_url": "https://api.github.com/users/lordi/repos", "events_url": "https://api.github.com/users/lordi/events{/privacy}", "received_events_url": "https://api.github.com/users/lordi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 8, "created_at": "2016-09-21T09:42:55Z", "updated_at": "2017-07-10T14:49:52Z", "closed_at": "2017-07-10T14:49:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "After importing, calling \"transform\" on a GEOS Point leads to an exception.\n- rasterio 0.36\n- GDAL 1.10.1\n- Python 3.4.2\n\n```\nPython 3.4.2 (default, Oct  8 2014, 10:45:20) \n[GCC 4.9.1] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from django.contrib.gis.geos import Point\n>>> print(Point(2500000, 8500000, 0.0, srid=25832).transform('EPSG:4326', clone=True))\nSRID=4326;POINT Z (27.4517640749582235 70.8806800968583275 0.0000000000000000)\n>>> import rasterio\n>>> print(Point(2500000, 8500000, 0.0, srid=25832).transform('EPSG:4326', clone=True))\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/var/www/visweb/maps/lib/python3.4/site-packages/django/contrib/gis/geos/geometry.py\", line 505, in transform\n    g.transform(ct)\n  File \"/var/www/visweb/maps/lib/python3.4/site-packages/django/contrib/gis/gdal/geometries.py\", line 393, in transform\n    capi.geom_transform_to(self.ptr, sr.ptr)\n  File \"/var/www/visweb/maps/lib/python3.4/site-packages/django/contrib/gis/gdal/prototypes/errcheck.py\", line 119, in check_errcode\n    check_err(result, cpl=cpl)\n  File \"/var/www/visweb/maps/lib/python3.4/site-packages/django/contrib/gis/gdal/error.py\", line 72, in check_err\n    raise e(msg)\ndjango.contrib.gis.gdal.error.GDALException: OGR failure.\n```\n\nI compared the environment after importing rasterio, and saw that it added \"PROJ_LIB\" which pointed to non-existing directory `(...)lib/python3.4/site-packages/rasterio/proj_data`. But removing this key has no effect so I figure the error is caused by something else:\n\n```\n>>> import os\n>>> del os.environ['PROJ_LIB']\n>>> print(Point(2500000, 8500000, 0.0, srid=25832).transform('EPSG:4326', clone=True))\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/var/www/visweb/maps/lib/python3.4/site-packages/django/contrib/gis/geos/geometry.py\", line 505, in transform\n    g.transform(ct)\n  File \"/var/www/visweb/maps/lib/python3.4/site-packages/django/contrib/gis/gdal/geometries.py\", line 393, in transform\n    capi.geom_transform_to(self.ptr, sr.ptr)\n  File \"/var/www/visweb/maps/lib/python3.4/site-packages/django/contrib/gis/gdal/prototypes/errcheck.py\", line 119, in check_errcode\n    check_err(result, cpl=cpl)\n  File \"/var/www/visweb/maps/lib/python3.4/site-packages/django/contrib/gis/gdal/error.py\", line 72, in check_err\n    raise e(msg)\ndjango.contrib.gis.gdal.error.GDALException: OGR failure.\n```\n\nAny hints?\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/888/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/888/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/885", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/885/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/885/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/885/events", "html_url": "https://github.com/rasterio/rasterio/issues/885", "id": 177834352, "node_id": "MDU6SXNzdWUxNzc4MzQzNTI=", "number": 885, "title": "rio overview --ls should not modify file", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2016-09-19T16:39:07Z", "updated_at": "2016-09-21T08:54:38Z", "closed_at": "2016-09-21T08:54:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently running `rio overview --ls` to inspect the overviews modifies the file. We could detect the `--ls` option and open in read-only mode. \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/885/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/885/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/884", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/884/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/884/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/884/events", "html_url": "https://github.com/rasterio/rasterio/issues/884", "id": 177824464, "node_id": "MDU6SXNzdWUxNzc4MjQ0NjQ=", "number": 884, "title": "Decimated read result differs depending on GDAL version", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 9, "created_at": "2016-09-19T15:57:59Z", "updated_at": "2016-09-23T09:45:32Z", "closed_at": "2016-09-23T09:45:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\n$ rio insp tests/data/alpha_masked_values.tif\nRasterio 1.0a1 Interactive Inspector (Python 3.5.1)\nType \"src.meta\", \"src.read(1)\", or \"help(src)\" for more information.\n>>> src.read(4, out_shape=(19, 19), masked=False)[-2:, 0:5]\narray([[  0,   0,   0, 255,   0],\n       [255, 255, 255, 255,   0]], dtype=uint8)\n>>> rasterio.__version__\n'1.0a1'\n>>> rasterio.__gdal_version__\n'1.11.5'\n```\n\nversus \n\n```\n$ rio insp tests/data/alpha_masked_values.tif\nRasterio 1.0a1 Interactive Inspector (Python 3.5.1)\nType \"src.meta\", \"src.read(1)\", or \"help(src)\" for more information.\n>>> src.read(4, out_shape=(19, 19), masked=False)[-2:, 0:5]\narray([[  0,   0,  32,  64,   0],\n       [255, 255, 255, 255,   0]], dtype=uint8)\n>>> rasterio.__version__\n'1.0a1'\n>>> rasterio.__gdal_version__\n'2.1.1'\n```\n\nI'll start a new branch with a similar test so we can put it through the travis build matrix.\n\ncc @dnomadb @sgillies \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/884/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/884/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/875", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/875/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/875/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/875/events", "html_url": "https://github.com/rasterio/rasterio/issues/875", "id": 176370402, "node_id": "MDU6SXNzdWUxNzYzNzA0MDI=", "number": 875, "title": "Env needs a special case for GDAL_CACHEMAX", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/54", "html_url": "https://github.com/rasterio/rasterio/milestone/54", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/54/labels", "id": 2540348, "node_id": "MDk6TWlsZXN0b25lMjU0MDM0OA==", "number": 54, "title": "1.0a9", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2017-05-24T10:13:31Z", "updated_at": "2017-06-05T17:23:49Z", "due_on": null, "closed_at": "2017-06-05T17:23:49Z"}, "comments": 0, "created_at": "2016-09-12T13:05:29Z", "updated_at": "2017-05-28T18:15:52Z", "closed_at": "2017-05-22T10:05:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "@rouault pointed out on gdal-dev:\n\n> Regarding the example 'with rasterio.Env(GDAL_CACHEMAX=512):', there's a\n> potential pitfall in that the GDAL_CACHEMAX config option is read _only_ the\n> first time GDALGetCacheMax()/GDALGetCacheMax64() is called, so changing it\n> afterwards will have no effect.\n> \n> So if you do things like\n> \n> with rasterio.Env(GDAL_CACHEMAX=512):\n>         rasterio.open(...)\n> \n> with rasterio.Env(GDAL_CACHEMAX=1024):\n>         rasterio.open(...)  <-- will only see the effect GDAL_CACHEMAX=512\n> \n> If you want to actively change the value you must call GDALSetCacheMax() /\n> GDALSetCacheMax64().\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/875/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/875/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/874", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/874/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/874/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/874/events", "html_url": "https://github.com/rasterio/rasterio/issues/874", "id": 176088819, "node_id": "MDU6SXNzdWUxNzYwODg4MTk=", "number": 874, "title": "missing hdf5 driver producing a segfault in testing", "user": {"login": "jdmcbr", "id": 666108, "node_id": "MDQ6VXNlcjY2NjEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/666108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdmcbr", "html_url": "https://github.com/jdmcbr", "followers_url": "https://api.github.com/users/jdmcbr/followers", "following_url": "https://api.github.com/users/jdmcbr/following{/other_user}", "gists_url": "https://api.github.com/users/jdmcbr/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdmcbr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdmcbr/subscriptions", "organizations_url": "https://api.github.com/users/jdmcbr/orgs", "repos_url": "https://api.github.com/users/jdmcbr/repos", "events_url": "https://api.github.com/users/jdmcbr/events{/privacy}", "received_events_url": "https://api.github.com/users/jdmcbr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-09-09T19:25:12Z", "updated_at": "2017-01-17T16:24:58Z", "closed_at": "2017-01-17T09:53:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In `tests/test_read.py`, during the HDF driver discovery, instead of raising an exception, `rasterio.open('tests/data/no_band.h5')` causes a segmentation fault on my system. Presumably this test plays nicely with other GDAL/HDF5 installations. This fundamentally is my fault; I do not appear to have properly linked HDF5 to my GDAL installation, both of which I installed from source in Ubuntu 16.04. But is there any way to test for HDF5 support that could avert the segmentation fault I'm seeing? In my case, HDF5 is returned as an available driver in GDAL (that is, `gdal.GetDriverByName(\"HDF5\")` returns), but I am unable to actually open HDF5 files in GDAL.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/874/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/874/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/864", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/864/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/864/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/864/events", "html_url": "https://github.com/rasterio/rasterio/pull/864", "id": 172498156, "node_id": "MDExOlB1bGxSZXF1ZXN0ODIyMjMwMTI=", "number": 864, "title": "-o no longer implicitly overwrites", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/49", "html_url": "https://github.com/rasterio/rasterio/milestone/49", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/49/labels", "id": 1860354, "node_id": "MDk6TWlsZXN0b25lMTg2MDM1NA==", "number": 49, "title": "1.0alpha1", "description": "", "creator": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2016-07-01T16:49:03Z", "updated_at": "2017-10-23T19:35:25Z", "due_on": null, "closed_at": "2016-09-27T12:22:31Z"}, "comments": 1, "created_at": "2016-08-22T16:36:30Z", "updated_at": "2016-08-27T04:23:16Z", "closed_at": "2016-08-27T04:23:16Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/864", "html_url": "https://github.com/rasterio/rasterio/pull/864", "diff_url": "https://github.com/rasterio/rasterio/pull/864.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/864.patch", "merged_at": "2016-08-27T04:23:16Z"}, "body": "Resolves #751\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/864/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/864/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/857", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/857/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/857/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/857/events", "html_url": "https://github.com/rasterio/rasterio/issues/857", "id": 171940970, "node_id": "MDU6SXNzdWUxNzE5NDA5NzA=", "number": 857, "title": "rio warp --check-invert-proj flag is reversed", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-08-18T16:14:01Z", "updated_at": "2016-08-22T11:45:11Z", "closed_at": "2016-08-22T11:45:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In rio-warp we have `@click.option('--check-invert-proj', is_flag=True, default=True, ...)` which effectively states\n- specifying `--check-invert-proj` would set it to `False`\n- no option would use the default `True`\n\nThe opposite of what we want.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/857/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/857/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/856", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/856/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/856/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/856/events", "html_url": "https://github.com/rasterio/rasterio/pull/856", "id": 171935863, "node_id": "MDExOlB1bGxSZXF1ZXN0ODE4NDA3MjU=", "number": 856, "title": "rio warp: fix check-invert-proj option", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/49", "html_url": "https://github.com/rasterio/rasterio/milestone/49", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/49/labels", "id": 1860354, "node_id": "MDk6TWlsZXN0b25lMTg2MDM1NA==", "number": 49, "title": "1.0alpha1", "description": "", "creator": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2016-07-01T16:49:03Z", "updated_at": "2017-10-23T19:35:25Z", "due_on": null, "closed_at": "2016-09-27T12:22:31Z"}, "comments": 3, "created_at": "2016-08-18T15:52:36Z", "updated_at": "2016-08-19T14:01:11Z", "closed_at": "2016-08-19T14:01:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/856", "html_url": "https://github.com/rasterio/rasterio/pull/856", "diff_url": "https://github.com/rasterio/rasterio/pull/856.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/856.patch", "merged_at": "2016-08-19T14:01:10Z"}, "body": "The previous version had the `--check-invert-proj` option set with `is_flag=True, default=True` which effectively means there's no way to supply a `False`. This PR switches to the `--opt/--no-opt` syntax to make it more explicit\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/856/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/856/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/853", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/853/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/853/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/853/events", "html_url": "https://github.com/rasterio/rasterio/issues/853", "id": 171689716, "node_id": "MDU6SXNzdWUxNzE2ODk3MTY=", "number": 853, "title": "rio warp paints a wide black band on part of the output", "user": {"login": "rasmuse", "id": 1210973, "node_id": "MDQ6VXNlcjEyMTA5NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/1210973?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasmuse", "html_url": "https://github.com/rasmuse", "followers_url": "https://api.github.com/users/rasmuse/followers", "following_url": "https://api.github.com/users/rasmuse/following{/other_user}", "gists_url": "https://api.github.com/users/rasmuse/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasmuse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasmuse/subscriptions", "organizations_url": "https://api.github.com/users/rasmuse/orgs", "repos_url": "https://api.github.com/users/rasmuse/repos", "events_url": "https://api.github.com/users/rasmuse/events{/privacy}", "received_events_url": "https://api.github.com/users/rasmuse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216954, "node_id": "MDU6TGFiZWwzNTEyMTY5NTQ=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/advanced", "name": "advanced", "color": "000000", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 15, "created_at": "2016-08-17T15:36:25Z", "updated_at": "2018-06-21T23:25:40Z", "closed_at": "2018-06-21T23:25:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, and thanks for great software.\n\nI'm running Ubuntu 16.04. rasterio is installed with `conda create -n myvirtualenv python=2` and then `conda install rasterio`. So it's the conda-packaged GDAL behind it.\n\n``` bash\n$ rio --version\n0.36.0\n$ gdalinfo --version\nGDAL 2.1.1, released 2016/07/07\n```\n\nI am trying to use `rio warp` to resample (shrink) a GeoTIFF raster, but it's producing a strange artifact.\n\nI'm using a [natural earth raster](http://www.naturalearthdata.com/downloads/50m-natural-earth-1/50m-natural-earth-i-with-shaded-relief-and-water/) (md5 sum just below).\n\n``` bash\n$ rio --version\n0.36.0\n$ rio warp --res 1 NE1_50M_SR_W.tif warped.tif\n$ md5sum NE1_50M_SR_W.tif warped.tif \n0a436f7b943aef85977017d9fff02f9d  NE1_50M_SR_W.tif\nb25a314e9fa573661edb4f71078d9f5b  warped.tif\n```\n## Screenshots:\n\nSource:\n![rio_warp_orig](https://cloud.githubusercontent.com/assets/1210973/17741147/5fb23c1a-649b-11e6-8bc3-b178a6890f44.png)\n\nResult:\n![rio_warp_result](https://cloud.githubusercontent.com/assets/1210973/17741148/5fb9b062-649b-11e6-833b-2a6a25da41c4.png)\n\nThe output file is (as expected) 360 x 180 px large. The 18 rightmost columns (= 18 rightmost degrees of longitude) are painted black.\n\n``` bash\n$ rio info NE1_50M_SR_W.tif \n{\"count\": 3, \"crs\": \"EPSG:4326\", \"colorinterp\": [\"red\", \"green\", \"blue\"], \"interleave\": \"pixel\", \"dtype\": \"uint8\", \"driver\": \"GTiff\", \"transform\": [0.03333333333333, 0.0, -179.99999999999997, 0.0, -0.03333333333333, 90.0], \"lnglat\": [-1.7962520360015333e-11, 8.995471034722868e-12], \"height\": 5400, \"width\": 10800, \"shape\": [5400, 10800], \"tiled\": false, \"res\": [0.03333333333333, 0.03333333333333], \"nodata\": null, \"bounds\": [-179.99999999999997, -89.99999999998201, 179.99999999996405, 90.0]}\n$ rio info warped.tif \n{\"count\": 3, \"crs\": \"EPSG:4326\", \"colorinterp\": [\"red\", \"green\", \"blue\"], \"interleave\": \"pixel\", \"dtype\": \"uint8\", \"driver\": \"GTiff\", \"transform\": [1.0, 0.0, -179.99999999999997, 0.0, -1.0, 90.0], \"lnglat\": [2.842170943040401e-14, 0.0], \"height\": 180, \"width\": 360, \"shape\": [180, 360], \"tiled\": false, \"res\": [1.0, 1.0], \"nodata\": null, \"bounds\": [-179.99999999999997, -90.0, 180.00000000000003, 90.0]}\n$ rio sample warped.tif\n[161, 0]\n[162, 0]\n[116, 168, 202]\n[0, 0, 0]\n```\n\nThe image looks the same (but with higher resolution) if I warp at higher destination resolution.\n\n``` bash\n$ rio warp --res .1 NE1_50M_SR_W.tif warped-fine.tif\n$ rio sample warped-fine.tif\n[161.9, 0]\n[162, 0]\n[115, 165, 201]\n[0, 0, 0]\n```\n\nSo here it's still the 18 rightmost degrees of longitude that fail.\n## Similar result with another input file\n\nAnother [Natural Earth dataset (medium size)](http://www.naturalearthdata.com/downloads/10m-cross-blend-hypso/cross-blended-hypso-with-relief-water-drains-and-ocean-bottom/) gives similar results, but here it's about the rightmost 9 degrees longitude that are black.\n\n``` bash\n$ rio info HYP_LR_SR_OB_DR.tif \n{\"count\": 3, \"crs\": \"EPSG:4326\", \"colorinterp\": [\"red\", \"green\", \"blue\"], \"interleave\": \"pixel\", \"dtype\": \"uint8\", \"driver\": \"GTiff\", \"transform\": [0.02222222222222, 0.0, -180.0, 0.0, -0.02222222222222, 90.0], \"lnglat\": [-1.801936377887614e-11, 9.00968188943807e-12], \"height\": 8100, \"width\": 16200, \"shape\": [8100, 16200], \"tiled\": false, \"res\": [0.02222222222222, 0.02222222222222], \"nodata\": null, \"bounds\": [-180.0, -89.99999999998198, 179.99999999996396, 90.0]}\n$ rio warp --res 1 HYP_LR_SR_OB_DR.tif warped2.tif\n$ rio info warped2.tif \n{\"count\": 3, \"crs\": \"EPSG:4326\", \"colorinterp\": [\"red\", \"green\", \"blue\"], \"interleave\": \"pixel\", \"dtype\": \"uint8\", \"driver\": \"GTiff\", \"transform\": [1.0, 0.0, -180.0, 0.0, -1.0, 90.0], \"lnglat\": [0.0, 0.0], \"height\": 180, \"width\": 360, \"shape\": [180, 360], \"tiled\": false, \"res\": [1.0, 1.0], \"nodata\": null, \"bounds\": [-180.0, -90.0, 180.0, 90.0]}\n$ md5sum HYP_LR_SR_OB_DR.tif warped2.tif \n6bd010d9895d134a7c23570886621289  HYP_LR_SR_OB_DR.tif\ncf1c189dd1f180e83aedad2b23462cb4  warped2.tif\n$ rio sample warped2.tif \n[170, 0]\n[171, 0]\n[109, 168, 212]\n[0, 0, 0]\n$ rio warp --res 0.1 HYP_LR_SR_OB_DR.tif warped2-fine.tif\n$ rio info warped2-fine.tif --shape\n1800 3600\n$ rio sample warped2-fine.tif \n[170.9, 0]\n[171, 0]\n[102, 166, 207]\n[0, 0, 0]\n```\n\nHope this helps!\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/853/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/853/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/849", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/849/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/849/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/849/events", "html_url": "https://github.com/rasterio/rasterio/pull/849", "id": 171276950, "node_id": "MDExOlB1bGxSZXF1ZXN0ODEzODY1MzI=", "number": 849, "title": "enforce that rasterize out_shape is 2D", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/49", "html_url": "https://github.com/rasterio/rasterio/milestone/49", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/49/labels", "id": 1860354, "node_id": "MDk6TWlsZXN0b25lMTg2MDM1NA==", "number": 49, "title": "1.0alpha1", "description": "", "creator": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2016-07-01T16:49:03Z", "updated_at": "2017-10-23T19:35:25Z", "due_on": null, "closed_at": "2016-09-27T12:22:31Z"}, "comments": 0, "created_at": "2016-08-15T22:28:31Z", "updated_at": "2016-08-16T08:31:17Z", "closed_at": "2016-08-16T08:31:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/849", "html_url": "https://github.com/rasterio/rasterio/pull/849", "diff_url": "https://github.com/rasterio/rasterio/pull/849.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/849.patch", "merged_at": "2016-08-16T08:31:17Z"}, "body": "Resolves #847 \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/849/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/849/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/847", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/847/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/847/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/847/events", "html_url": "https://github.com/rasterio/rasterio/issues/847", "id": 170882078, "node_id": "MDU6SXNzdWUxNzA4ODIwNzg=", "number": 847, "title": "rasterio.features.rasterize crashes (segfault) when out_shape has more than two dimensions", "user": {"login": "rafaelalmeida", "id": 898911, "node_id": "MDQ6VXNlcjg5ODkxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/898911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rafaelalmeida", "html_url": "https://github.com/rafaelalmeida", "followers_url": "https://api.github.com/users/rafaelalmeida/followers", "following_url": "https://api.github.com/users/rafaelalmeida/following{/other_user}", "gists_url": "https://api.github.com/users/rafaelalmeida/gists{/gist_id}", "starred_url": "https://api.github.com/users/rafaelalmeida/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rafaelalmeida/subscriptions", "organizations_url": "https://api.github.com/users/rafaelalmeida/orgs", "repos_url": "https://api.github.com/users/rafaelalmeida/repos", "events_url": "https://api.github.com/users/rafaelalmeida/events{/privacy}", "received_events_url": "https://api.github.com/users/rafaelalmeida/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2016-08-12T14:20:52Z", "updated_at": "2016-08-16T08:31:17Z", "closed_at": "2016-08-16T08:31:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just spent an embarassing amount of time trying to debug a segfault in rasterize, and the cause ended up being that I passed `out_shape` as a 3-d array (e.g. `(1, 21, 18)`), when it should be 2-d (e.g. `(21, 18)`).\n\nThe error-causing shape was the same as an array I read from rasterio itself, using dataset.read() with the `window` kwarg set. That is, I had a `band = dataset.read(window=some_window)`, and passed `band.shape` to `rasterize()`.\n\nShould `rasterize()` ever accept a shape with more than two elements? If not, maybe rasterio could fail early with a descriptive message, like it already does if you pass a wrong `dtype`, for example.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/847/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/847/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/844", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/844/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/844/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/844/events", "html_url": "https://github.com/rasterio/rasterio/pull/844", "id": 169186118, "node_id": "MDExOlB1bGxSZXF1ZXN0Nzk5NDUwMTI=", "number": 844, "title": "Fix 'tranform' typo in doc & method", "user": {"login": "ceholden", "id": 3585769, "node_id": "MDQ6VXNlcjM1ODU3Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/3585769?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ceholden", "html_url": "https://github.com/ceholden", "followers_url": "https://api.github.com/users/ceholden/followers", "following_url": "https://api.github.com/users/ceholden/following{/other_user}", "gists_url": "https://api.github.com/users/ceholden/gists{/gist_id}", "starred_url": "https://api.github.com/users/ceholden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ceholden/subscriptions", "organizations_url": "https://api.github.com/users/ceholden/orgs", "repos_url": "https://api.github.com/users/ceholden/repos", "events_url": "https://api.github.com/users/ceholden/events{/privacy}", "received_events_url": "https://api.github.com/users/ceholden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/49", "html_url": "https://github.com/rasterio/rasterio/milestone/49", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/49/labels", "id": 1860354, "node_id": "MDk6TWlsZXN0b25lMTg2MDM1NA==", "number": 49, "title": "1.0alpha1", "description": "", "creator": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2016-07-01T16:49:03Z", "updated_at": "2017-10-23T19:35:25Z", "due_on": null, "closed_at": "2016-09-27T12:22:31Z"}, "comments": 1, "created_at": "2016-08-03T17:21:25Z", "updated_at": "2016-08-08T08:38:38Z", "closed_at": "2016-08-08T08:38:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/844", "html_url": "https://github.com/rasterio/rasterio/pull/844", "diff_url": "https://github.com/rasterio/rasterio/pull/844.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/844.patch", "merged_at": "2016-08-08T08:38:29Z"}, "body": "Caught a typo in `src.xy` method and in the corresponding docstring:\n\n``` python\nAttributeError                            Traceback (most recent call last)\n<ipython-input-48-170b33479138> in <module>()\n----> 1 src.xy(ys, xs, 'ul')\n\n/home/ceholden/conda/envs/yatsm/lib/python2.7/site-packages/rasterio/io.pyc in xy(self, row, col, offset)\n     47             ``(x, y)``\n     48         \"\"\"\n---> 49         return xy(self.tranform, row, col, offset=offset)\n     50 \n     51     def ul(self, row, col):\n\nAttributeError: 'DatasetReader' object has no attribute 'tranform'\n```\n\nThanks for developing Rasterio -- it's been a joy to use in my work.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/844/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/844/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/843", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/843/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/843/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/843/events", "html_url": "https://github.com/rasterio/rasterio/issues/843", "id": 168765619, "node_id": "MDU6SXNzdWUxNjg3NjU2MTk=", "number": 843, "title": "decimated read much slower with masked=True", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 2, "created_at": "2016-08-01T23:28:54Z", "updated_at": "2018-09-21T15:41:59Z", "closed_at": "2018-09-21T15:12:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello all,\n\nI'm running into an issue with decimated reading when the masked parameter is set to True.  What I'm seeing is reading taking 20-80 times slower when masked, which is enough to make it mostly unusable.  This seems like something that probably could be improved.  I tried to identify the bottleneck in the code but didn't have time to identify it.   \n\nI did move a copy of a notebook that demonstates it here: https://gist.github.com/ColinTalbert/4c7c98bcc3ef5aa625bd5a0827a1b5ff\n\nYou will need to change the local path to point to a large local raster though.\n\nThanks,\nColin\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/843/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/843/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/840", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/840/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/840/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/840/events", "html_url": "https://github.com/rasterio/rasterio/pull/840", "id": 167671562, "node_id": "MDExOlB1bGxSZXF1ZXN0Nzg4OTY4MTE=", "number": 840, "title": "Add a test of AWS profile option", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/49", "html_url": "https://github.com/rasterio/rasterio/milestone/49", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/49/labels", "id": 1860354, "node_id": "MDk6TWlsZXN0b25lMTg2MDM1NA==", "number": 49, "title": "1.0alpha1", "description": "", "creator": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2016-07-01T16:49:03Z", "updated_at": "2017-10-23T19:35:25Z", "due_on": null, "closed_at": "2016-09-27T12:22:31Z"}, "comments": 2, "created_at": "2016-07-26T17:59:39Z", "updated_at": "2016-07-27T12:34:42Z", "closed_at": "2016-07-27T12:34:42Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/840", "html_url": "https://github.com/rasterio/rasterio/pull/840", "diff_url": "https://github.com/rasterio/rasterio/pull/840.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/840.patch", "merged_at": "2016-07-27T12:34:42Z"}, "body": "Tested using a new `--credentials` option for rio-env.\n\nResolves #838\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/840/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/840/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/838", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/838/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/838/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/838/events", "html_url": "https://github.com/rasterio/rasterio/issues/838", "id": 166198907, "node_id": "MDU6SXNzdWUxNjYxOTg5MDc=", "number": 838, "title": "aws profile not passed to Env", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2016-07-18T21:33:46Z", "updated_at": "2016-07-27T12:34:42Z", "closed_at": "2016-07-27T12:34:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We take the `--aws-profile` argument to the main `rio` function [here](https://github.com/mapbox/rasterio/blob/master/rasterio/rio/main.py#L77) and save it to the  command context as `ctx.obj['aws_profile']`.\n\nBut as far as I can tell, we never pass the parameter into the environment constructor `Env(profile_name=...)`. We could do something like this in `rio info` at https://github.com/mapbox/rasterio/blob/master/rasterio/rio/info.py#L67\n\n```\naws_profile = ctx.obj.get('aws_profile', None)\n...\nwith rasterio.Env(CPL_DEBUG=(verbosity > 2), profile_name=aws_profile):\n```\n- [ ] Not sure the best way to test this.\n- [ ] What other commands need the same treatment? Do we have an explicit list of s3/http-capable rio commands? \n\ncc @jacquestardie \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/838/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/838/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/828", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/828/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/828/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/828/events", "html_url": "https://github.com/rasterio/rasterio/issues/828", "id": 164586598, "node_id": "MDU6SXNzdWUxNjQ1ODY1OTg=", "number": 828, "title": "tastes_like_gdal is defined multiple times", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2016-07-08T18:15:55Z", "updated_at": "2016-07-12T22:17:09Z", "closed_at": "2016-07-12T22:17:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\n$ git grep \"def tastes_like_gdal(\"\nrasterio/_base.pyx:def tastes_like_gdal(t):\nrasterio/_warp.pyx:def tastes_like_gdal(t):\nrasterio/transform.py:def tastes_like_gdal(seq):\n```\n\nWe should consolidate in favor of the function in `rasterio/transform.py`\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/828/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/828/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/823", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/823/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/823/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/823/events", "html_url": "https://github.com/rasterio/rasterio/issues/823", "id": 164136458, "node_id": "MDU6SXNzdWUxNjQxMzY0NTg=", "number": 823, "title": "Profile class to deprecate affine key", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 3, "created_at": "2016-07-06T17:56:52Z", "updated_at": "2016-08-15T14:39:55Z", "closed_at": "2016-07-08T00:16:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is a common pattern in some rasterio code, ironically intended as a way to prepare for the future by ensuring `Affine` objects get passed as the `transform` kwarg. \n\n```\n    with rasterio.open(src_path) as src:\n        opts = src.profile.copy()\n\n    opts['transform'] = opts['affine']\n```\n\nWith the merger of the `drop-dep` branch in PR #763,  we get a `KeyError: 'affine'`.\n\nAdding `affine` to profile dictionary would maintain backwards compat but would lead to unavoidable warnings when kwarg unpacking with `open(..., **profile)`\n\n**Proposed solution**: Modify the `rasterio.profiles.Profile` class to behave like a dict but deprecate the usage of the `affine` key (Warning on `__getitem__`, AttributeError on `__setitem__`). Then `src.profile` could return an instance of this class instead of a dict.\n\nContinuation of the discussion started here: https://github.com/mapbox/rasterio/pull/763#issuecomment-229737519 but broken out into a separate issue.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/823/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/814", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/814/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/814/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/814/events", "html_url": "https://github.com/rasterio/rasterio/issues/814", "id": 163166297, "node_id": "MDU6SXNzdWUxNjMxNjYyOTc=", "number": 814, "title": "rio warp like silently ignores res override", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 2, "created_at": "2016-06-30T13:32:43Z", "updated_at": "2016-07-06T13:42:44Z", "closed_at": "2016-07-06T13:42:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The obvious starting place is `rio warp --like` but this doesn't allow you to override the resolution. It silently ignores the `--res` option which could be considered a bug. \n\n```\n$ rio warp --like b.tif --res 5  a.tif c.tif\n$ rio info --res c.tif\n1.0 1.0\n```\n\nIn this case, warp should either a) override the resolution of the like raster or b) raise an exception saying that it's not supported\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/814/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/814/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/807", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/807/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/807/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/807/events", "html_url": "https://github.com/rasterio/rasterio/issues/807", "id": 162690113, "node_id": "MDU6SXNzdWUxNjI2OTAxMTM=", "number": 807, "title": "Byte Flipping in Dictionary Key Value for src.crs() Method", "user": {"login": "murphy214", "id": 10904982, "node_id": "MDQ6VXNlcjEwOTA0OTgy", "avatar_url": "https://avatars.githubusercontent.com/u/10904982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/murphy214", "html_url": "https://github.com/murphy214", "followers_url": "https://api.github.com/users/murphy214/followers", "following_url": "https://api.github.com/users/murphy214/following{/other_user}", "gists_url": "https://api.github.com/users/murphy214/gists{/gist_id}", "starred_url": "https://api.github.com/users/murphy214/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/murphy214/subscriptions", "organizations_url": "https://api.github.com/users/murphy214/orgs", "repos_url": "https://api.github.com/users/murphy214/repos", "events_url": "https://api.github.com/users/murphy214/events{/privacy}", "received_events_url": "https://api.github.com/users/murphy214/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 4, "created_at": "2016-06-28T13:47:38Z", "updated_at": "2018-04-03T05:25:44Z", "closed_at": "2016-09-03T03:54:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/807/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/792", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/792/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/792/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/792/events", "html_url": "https://github.com/rasterio/rasterio/issues/792", "id": 160217696, "node_id": "MDU6SXNzdWUxNjAyMTc2OTY=", "number": 792, "title": "Reporting compression", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 1, "created_at": "2016-06-14T15:53:29Z", "updated_at": "2018-09-21T15:41:03Z", "closed_at": "2018-09-21T15:21:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "You can compress a geotiff to a valid compression scheme like `LZW` or `JPEG`\n\n```\n$ rio convert --co compress=JPEG tests/data/RGB.byte.tif  /tmp/rgb-jpeg.tif\n$ rio info /tmp/rgb-jpeg.tif  | jq .compress\n\"jpeg\"\n```\n\nAnd you can set unset compression using `none`\n\n```\n$ rio convert --co compress=none /tmp/rgb-jpeg.tif /tmp/rgb-none.tif\n$ rio info /tmp/rgb-none.tif  | jq .compress\n\"none\"\n```\n\nBut two strange things happen here:\n-  The reporting of uncompressed tiffs depends on it's lineage. IOW both the original and the final output are uncompressed GeoTiffs of the same size and block layout but\n\n```\n$ rio info tests/data/RGB.byte.tif  | jq .compress\nnull\n$ rio info /tmp/rgb-none.tif | jq .compress\n\"none\"\n```\n-  Providing unsupported compression arguments passes silently (effectively defaulting to `compress=none`) yet the invalid value gets stored in the metadata\n\n```\n$ rio convert --co compress=false /tmp/rgb-jpeg.tif /tmp/rgb-false.tif\nWARNING:rasterio._gdal:CPLE_NotSupported in b\"'FALSE' is an unexpected value for COMPRESS creation option of type string-select.\"\nWARNING:rasterio._gdal:CPLE_IllegalArg in b'COMPRESS=FALSE value not recognised, ignoring.'\n$ rio info /tmp/rgb-false.tif | jq .compress\n\"false\"\n```\n\ncc @isiyu \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/792/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/792/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/785", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/785/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/785/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/785/events", "html_url": "https://github.com/rasterio/rasterio/issues/785", "id": 159945479, "node_id": "MDU6SXNzdWUxNTk5NDU0Nzk=", "number": 785, "title": "gdalplugins can interfere with osx binary wheels", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 4, "created_at": "2016-06-13T13:05:00Z", "updated_at": "2018-09-21T15:19:52Z", "closed_at": "2018-09-21T15:19:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently, installing rasterio on OSX comes bundled with GDAL 2.1. If you have a system with gdal plugins built for GDAL 1.11, those plugins still get picked up, causing errors like:\n\n```\nERROR 1: dlopen(/usr/local/lib/gdalplugins/gdal_ECW_JP2ECW.dylib, 1): Symbol not found: __ZN14GDALRasterBand23GetRasterSampleOverviewEi\n  Referenced from: /usr/local/lib/gdalplugins/gdal_ECW_JP2ECW.dylib\n  Expected in: flat namespace\n in /usr/local/lib/gdalplugins/gdal_ECW_JP2ECW.dylib\nERROR 1: ECW driver was compiled against GDAL 1.11 but current library version is 2.1\n```\n\nSee https://trac.osgeo.org/gdal/wiki/ConfigOptions#GDAL_DRIVER_PATH\n\ncc @sgillies @virginiayung \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/785/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/785/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/781", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/781/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/781/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/781/events", "html_url": "https://github.com/rasterio/rasterio/issues/781", "id": 159941423, "node_id": "MDU6SXNzdWUxNTk5NDE0MjM=", "number": 781, "title": "internal masks cannot be written by window", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-06-13T12:43:26Z", "updated_at": "2019-07-30T19:59:04Z", "closed_at": "2019-07-30T19:58:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When using an internal masked GeoTiff, writing with window does not appear to be supported.\n\n```\n    def test_create_mask_windowed_internal(data):\n        \"\"\"Writing masks by window with internal mask\n        \"\"\"\n        with rasterio.Env(GDAL_TIFF_INTERNAL_MASK=True):\n            with rasterio.open(str(data.join('RGB.byte.tif')), 'r+') as dst:\n                for ij, window in dst.block_windows():\n                    blue = dst.read(1, window=window, masked=False)\n                    mask = 255 * (blue == 0).astype('uint8')\n>                   dst.write_mask(mask, window=window)\n\ntests/test_mask_creation.py:73:\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\n>   raise RasterioIOError(\"Failed to get mask.\")\nE   rasterio.errors.RasterioIOError: Failed to get mask.\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/781/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/781/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/771", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/771/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/771/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/771/events", "html_url": "https://github.com/rasterio/rasterio/pull/771", "id": 158528929, "node_id": "MDExOlB1bGxSZXF1ZXN0NzI2MTU3ODQ=", "number": 771, "title": "adding flag for multiple to prevent overwrite of data", "user": {"login": "dnomadb", "id": 5084513, "node_id": "MDQ6VXNlcjUwODQ1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5084513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dnomadb", "html_url": "https://github.com/dnomadb", "followers_url": "https://api.github.com/users/dnomadb/followers", "following_url": "https://api.github.com/users/dnomadb/following{/other_user}", "gists_url": "https://api.github.com/users/dnomadb/gists{/gist_id}", "starred_url": "https://api.github.com/users/dnomadb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dnomadb/subscriptions", "organizations_url": "https://api.github.com/users/dnomadb/orgs", "repos_url": "https://api.github.com/users/dnomadb/repos", "events_url": "https://api.github.com/users/dnomadb/events{/privacy}", "received_events_url": "https://api.github.com/users/dnomadb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 4, "created_at": "2016-06-04T23:20:10Z", "updated_at": "2016-07-08T21:46:29Z", "closed_at": "2016-07-08T21:46:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/771", "html_url": "https://github.com/rasterio/rasterio/pull/771", "diff_url": "https://github.com/rasterio/rasterio/pull/771.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/771.patch", "merged_at": "2016-07-08T21:46:29Z"}, "body": "Starting to work out a solution to data overwriting issue described in https://github.com/mapbox/rasterio/issues/769 (not cli implementation)\n\ncc @sgillies \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/771/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/771/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/748", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/748/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/748/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/748/events", "html_url": "https://github.com/rasterio/rasterio/pull/748", "id": 158207170, "node_id": "MDExOlB1bGxSZXF1ZXN0NzIzOTM3OTc=", "number": 748, "title": "Removes dtype and driver refs from rio warp doc", "user": {"login": "jameshiebert", "id": 3904316, "node_id": "MDQ6VXNlcjM5MDQzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/3904316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameshiebert", "html_url": "https://github.com/jameshiebert", "followers_url": "https://api.github.com/users/jameshiebert/followers", "following_url": "https://api.github.com/users/jameshiebert/following{/other_user}", "gists_url": "https://api.github.com/users/jameshiebert/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameshiebert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameshiebert/subscriptions", "organizations_url": "https://api.github.com/users/jameshiebert/orgs", "repos_url": "https://api.github.com/users/jameshiebert/repos", "events_url": "https://api.github.com/users/jameshiebert/events{/privacy}", "received_events_url": "https://api.github.com/users/jameshiebert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-06-02T18:23:10Z", "updated_at": "2016-06-02T19:11:28Z", "closed_at": "2016-06-02T19:10:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/748", "html_url": "https://github.com/rasterio/rasterio/pull/748", "diff_url": "https://github.com/rasterio/rasterio/pull/748.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/748.patch", "merged_at": "2016-06-02T19:10:43Z"}, "body": "Fixes #681\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/748/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/748/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/726", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/726/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/726/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/726/events", "html_url": "https://github.com/rasterio/rasterio/issues/726", "id": 157547594, "node_id": "MDU6SXNzdWUxNTc1NDc1OTQ=", "number": 726, "title": "read_masks segfault", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 7, "created_at": "2016-05-30T19:26:17Z", "updated_at": "2018-09-21T15:42:29Z", "closed_at": "2018-09-21T15:04:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I haven't narrowed down the cause but here's what I know so far...\n\nI've got a 3-band jpeg-in-tiff, ycbcr color, with an external mask (a sidecar .msk)\n\n```\n$ rio info /tmp/landsat/00007-LC80390362015173LGN00-rgb.tif\n{\"count\": 3, \"crs\": \"EPSG:32611\", \"photometric\": \"ycbcr\", \"res\": [30.0, 30.0], \"interleave\": \"pixel\", \"dtype\": \"uint8\", \"driver\": \"GTiff\", \"transform\": [30.0, 0.0, 550485.0, 0.0, -30.0, 3947115.0], \"lnglat\": [-115.20434232352154, 34.604945525525444], \"height\": 7761, \"width\": 7611, \"shape\": [7761, 7611], \"blockxsize\": 512, \"tiled\": true, \"blockysize\": 512, \"jpeg_quality\": \"75\", \"nodata\": null, \"bounds\": [550485.0, 3714285.0, 778815.0, 3947115.0], \"compress\": \"jpeg\"}\n```\n\nAny call to `read_masks` causes a segfault\n\n```\n$ rio insp /tmp/landsat/00007-LC80390362015173LGN00-rgb.tif\nRasterio 0.35.1 Interactive Inspector (Python 2.7.10)\nType \"src.meta\", \"src.read(1)\", or \"help(src)\" for more information.\n>>> src\n<open RasterReader name='/tmp/landsat/00007-LC80390362015173LGN00-rgb.tif' mode='r'>\n>>> arr = src.read()\n>>> masks = src.read_masks()\nSegmentation fault: 11\n```\n\nDatasets for download:\n- https://mapbox.s3.amazonaws.com/playground/perrygeo/mask_segfault/00007-LC80390362015173LGN00-rgb.tif\n- https://mapbox.s3.amazonaws.com/playground/perrygeo/mask_segfault/00007-LC80390362015173LGN00-rgb.tif.msk\n\nMy environment:\nosx, py27, rasterio via pypi wheel (`rasterio-0.35.1-cp27-cp27m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl`)\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/726/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/714", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/714/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/714/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/714/events", "html_url": "https://github.com/rasterio/rasterio/issues/714", "id": 155922860, "node_id": "MDU6SXNzdWUxNTU5MjI4NjA=", "number": 714, "title": "Writing complex data to a GeoTiff file fails silently.", "user": {"login": "alexamici", "id": 226037, "node_id": "MDQ6VXNlcjIyNjAzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/226037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexamici", "html_url": "https://github.com/alexamici", "followers_url": "https://api.github.com/users/alexamici/followers", "following_url": "https://api.github.com/users/alexamici/following{/other_user}", "gists_url": "https://api.github.com/users/alexamici/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexamici/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexamici/subscriptions", "organizations_url": "https://api.github.com/users/alexamici/orgs", "repos_url": "https://api.github.com/users/alexamici/repos", "events_url": "https://api.github.com/users/alexamici/events{/privacy}", "received_events_url": "https://api.github.com/users/alexamici/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216954, "node_id": "MDU6TGFiZWwzNTEyMTY5NTQ=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/advanced", "name": "advanced", "color": "000000", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 7, "created_at": "2016-05-20T09:31:02Z", "updated_at": "2016-09-30T13:05:21Z", "closed_at": "2016-09-30T13:05:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm on Mac OS X, but reproduced on Linux as well. I see the same result with the rasterio precompiled wheel and recompiling rasterio myself  with `pip install --no-binary :all: rasterio`.\n\nWhen saving complex data to a new file with driver 'GTiff' the resulting file is filled with garbage.\n\nRunning:\n\n```\nimport numpy as np\nimport rasterio\n\ndata_in_memory = np.ones((2, 2), dtype=rasterio.complex_)\nprint(data_in_memory)\n\nwith rasterio.open(\n        'data.tif', 'w', driver='GTiff', width=2, height=2, count=1, dtype=rasterio.complex_\n) as destination:\n    destination.write(data_in_memory, indexes=1)\n\nwith rasterio.open('data.tif') as source:\n    data_on_disk = source.read(1)\n\nprint(data_on_disk)\n```\n\nReturns:\n\n```\n[[ 1.+0.j  1.+0.j]\n [ 1.+0.j  1.+0.j]]\n[[  2.44029516e-312 +2.22809558e-312j   5.18768928e-322 +0.00000000e+000j]\n [  2.44029516e-312 +2.22809558e-312j   2.52517499e-312 +2.41907520e-312j]]\n```\n\nFloat and integer data types work as expected.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/714/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/714/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/712", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/712/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/712/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/712/events", "html_url": "https://github.com/rasterio/rasterio/issues/712", "id": 155851236, "node_id": "MDU6SXNzdWUxNTU4NTEyMzY=", "number": 712, "title": "AWS shared credentials profile name not passed to subcommands", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 2, "created_at": "2016-05-19T22:39:01Z", "updated_at": "2018-09-21T14:59:40Z", "closed_at": "2018-09-21T14:59:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Although the CLI's main function takes a `--aws-profile` option, it's not passed to the subcommands: only the default (first) profile in `.aws/credentials` is used.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/712/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/712/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/700", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/700/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/700/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/700/events", "html_url": "https://github.com/rasterio/rasterio/issues/700", "id": 153777564, "node_id": "MDU6SXNzdWUxNTM3Nzc1NjQ=", "number": 700, "title": "Fix image axis order docs", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-05-09T13:35:35Z", "updated_at": "2016-05-18T15:22:22Z", "closed_at": "2016-05-09T13:36:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The current image_processing.rst doc has the wrong axis order as well as a buggy function to transform between axis orders.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/700/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/697", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/697/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/697/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/697/events", "html_url": "https://github.com/rasterio/rasterio/pull/697", "id": 153493857, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkxNzk1MjU=", "number": 697, "title": "Oh three five fixes", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/47", "html_url": "https://github.com/rasterio/rasterio/milestone/47", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/47/labels", "id": 1751778, "node_id": "MDk6TWlsZXN0b25lMTc1MTc3OA==", "number": 47, "title": "0.35.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2016-05-06T15:21:12Z", "updated_at": "2016-05-06T22:20:46Z", "due_on": null, "closed_at": "2016-05-06T22:20:46Z"}, "comments": 6, "created_at": "2016-05-06T16:57:34Z", "updated_at": "2016-05-06T21:41:58Z", "closed_at": "2016-05-06T21:41:58Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/697", "html_url": "https://github.com/rasterio/rasterio/pull/697", "diff_url": "https://github.com/rasterio/rasterio/pull/697.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/697.patch", "merged_at": "2016-05-06T21:41:58Z"}, "body": "Closes #694 and #695.\n\n@brendan-ward @geowurster @perrygeo I came to the conclusion that a decorator is the way to go, but I'm open to second opinions.\n\nWork is done. I'd like to get a 0.35.1 release out ASAP.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/697/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/695", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/695/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/695/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/695/events", "html_url": "https://github.com/rasterio/rasterio/issues/695", "id": 153363196, "node_id": "MDU6SXNzdWUxNTMzNjMxOTY=", "number": 695, "title": "Unable to open subdatasets in netcdf", "user": {"login": "v0lat1le", "id": 2328459, "node_id": "MDQ6VXNlcjIzMjg0NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2328459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v0lat1le", "html_url": "https://github.com/v0lat1le", "followers_url": "https://api.github.com/users/v0lat1le/followers", "following_url": "https://api.github.com/users/v0lat1le/following{/other_user}", "gists_url": "https://api.github.com/users/v0lat1le/gists{/gist_id}", "starred_url": "https://api.github.com/users/v0lat1le/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v0lat1le/subscriptions", "organizations_url": "https://api.github.com/users/v0lat1le/orgs", "repos_url": "https://api.github.com/users/v0lat1le/repos", "events_url": "https://api.github.com/users/v0lat1le/events{/privacy}", "received_events_url": "https://api.github.com/users/v0lat1le/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/47", "html_url": "https://github.com/rasterio/rasterio/milestone/47", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/47/labels", "id": 1751778, "node_id": "MDk6TWlsZXN0b25lMTc1MTc3OA==", "number": 47, "title": "0.35.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2016-05-06T15:21:12Z", "updated_at": "2016-05-06T22:20:46Z", "due_on": null, "closed_at": "2016-05-06T22:20:46Z"}, "comments": 1, "created_at": "2016-05-06T01:56:10Z", "updated_at": "2016-05-06T21:41:58Z", "closed_at": "2016-05-06T21:41:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Trying to open subdatasets in netcdf file by passing `NETCDF:<filepath>:<varname>` to `rasterio.open` results in `ValueError: VFS scheme netcdf is unknown`. It has been working with versions prior to 0.35\n\nPassing  `file://NETCDF:<filepath>:<varname>` works as expected\n\nUsing python 2.7.10, rasterio 0.35.0.post1\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/695/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/695/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/694", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/694/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/694/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/694/events", "html_url": "https://github.com/rasterio/rasterio/issues/694", "id": 153362762, "node_id": "MDU6SXNzdWUxNTMzNjI3NjI=", "number": 694, "title": "warp.transform_bounds fails with no 'No environment exists'", "user": {"login": "v0lat1le", "id": 2328459, "node_id": "MDQ6VXNlcjIzMjg0NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2328459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v0lat1le", "html_url": "https://github.com/v0lat1le", "followers_url": "https://api.github.com/users/v0lat1le/followers", "following_url": "https://api.github.com/users/v0lat1le/following{/other_user}", "gists_url": "https://api.github.com/users/v0lat1le/gists{/gist_id}", "starred_url": "https://api.github.com/users/v0lat1le/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v0lat1le/subscriptions", "organizations_url": "https://api.github.com/users/v0lat1le/orgs", "repos_url": "https://api.github.com/users/v0lat1le/repos", "events_url": "https://api.github.com/users/v0lat1le/events{/privacy}", "received_events_url": "https://api.github.com/users/v0lat1le/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/47", "html_url": "https://github.com/rasterio/rasterio/milestone/47", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/47/labels", "id": 1751778, "node_id": "MDk6TWlsZXN0b25lMTc1MTc3OA==", "number": 47, "title": "0.35.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2016-05-06T15:21:12Z", "updated_at": "2016-05-06T22:20:46Z", "due_on": null, "closed_at": "2016-05-06T22:20:46Z"}, "comments": 1, "created_at": "2016-05-06T01:50:49Z", "updated_at": "2016-05-06T21:41:58Z", "closed_at": "2016-05-06T21:41:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "python 2.7.10, rasterio 0.35.0.post1\n\n``` python\nimport rasterio.warp\nrasterio.warp.transform_bounds('EPSG:4326', 'EPSG:3577', 149, -36, 150, -35)\n```\n\nfails with `EnvError: No environment exists`\n\nIt has been working with versions prior to 0.35\n\nShould it ensure default environment exists, same way rasterio.open does?\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/694/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/694/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/689", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/689/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/689/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/689/events", "html_url": "https://github.com/rasterio/rasterio/pull/689", "id": 152854934, "node_id": "MDExOlB1bGxSZXF1ZXN0Njg3NjA4MjQ=", "number": 689, "title": "Add python 3.5", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/44", "html_url": "https://github.com/rasterio/rasterio/milestone/44", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/44/labels", "id": 1678451, "node_id": "MDk6TWlsZXN0b25lMTY3ODQ1MQ==", "number": 44, "title": "Pre-PyCon", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 21, "state": "closed", "created_at": "2016-04-01T16:48:15Z", "updated_at": "2018-03-07T16:47:37Z", "due_on": null, "closed_at": "2016-06-10T12:32:55Z"}, "comments": 0, "created_at": "2016-05-03T19:26:43Z", "updated_at": "2016-05-03T21:29:45Z", "closed_at": "2016-05-03T21:29:45Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/689", "html_url": "https://github.com/rasterio/rasterio/pull/689", "diff_url": "https://github.com/rasterio/rasterio/pull/689.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/689.patch", "merged_at": "2016-05-03T21:29:45Z"}, "body": "Adds Python 3.5 to the matrix and upgrades to the final GDAL 2.1.0 release.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/689/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/683", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/683/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/683/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/683/events", "html_url": "https://github.com/rasterio/rasterio/issues/683", "id": 151952030, "node_id": "MDU6SXNzdWUxNTE5NTIwMzA=", "number": 683, "title": "Segmentation fault when reading landsat data", "user": {"login": "luciotorre", "id": 469561, "node_id": "MDQ6VXNlcjQ2OTU2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/469561?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luciotorre", "html_url": "https://github.com/luciotorre", "followers_url": "https://api.github.com/users/luciotorre/followers", "following_url": "https://api.github.com/users/luciotorre/following{/other_user}", "gists_url": "https://api.github.com/users/luciotorre/gists{/gist_id}", "starred_url": "https://api.github.com/users/luciotorre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luciotorre/subscriptions", "organizations_url": "https://api.github.com/users/luciotorre/orgs", "repos_url": "https://api.github.com/users/luciotorre/repos", "events_url": "https://api.github.com/users/luciotorre/events{/privacy}", "received_events_url": "https://api.github.com/users/luciotorre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-04-29T19:37:11Z", "updated_at": "2016-05-02T13:23:11Z", "closed_at": "2016-05-02T13:23:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nPython 3.4.3+ (default, Oct 14 2015, 16:03:50) \nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 4.2.0 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\n\nIn [1]: import rasterio\nn [2]: rasterio.__version__\nOut[2]: '0.34.0'\n\nIn [3]: !ls -lh \"data/LC82260832014296LGN00/LC82260832014296LGN00_B3.TIF\"\n-rw-rw-r-- 1 lucio lucio 28M Apr 27 22:18 data/LC82260832014296LGN00/LC82260832014296LGN00_B3.TIF\n\nIn [3]: raster = rasterio.open(\"data/LC82260832014296LGN00/LC82260832014296LGN00_B3.TIF\")\n\nIn [4]: raster.meta\nOut[4]: \n{'affine': Affine(30.0, 0.0, 116085.0,\n       0.0, -30.0, -3559485.0),\n 'count': 1,\n 'crs': {'init': 'epsg:32621'},\n 'driver': 'GTiff',\n 'dtype': 'uint16',\n 'height': 7691,\n 'nodata': None,\n 'transform': (116085.0, 30.0, 0.0, -3559485.0, 0.0, -30.0),\n 'width': 7621}\n\nIn [5]: array = raster.read()\n[1]    18192 segmentation fault (core dumped)  ipython\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/683/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/681", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/681/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/681/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/681/events", "html_url": "https://github.com/rasterio/rasterio/issues/681", "id": 151867866, "node_id": "MDU6SXNzdWUxNTE4Njc4NjY=", "number": 681, "title": "rio warp --like does not consider dtype", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, {"login": "jameshiebert", "id": 3904316, "node_id": "MDQ6VXNlcjM5MDQzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/3904316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameshiebert", "html_url": "https://github.com/jameshiebert", "followers_url": "https://api.github.com/users/jameshiebert/followers", "following_url": "https://api.github.com/users/jameshiebert/following{/other_user}", "gists_url": "https://api.github.com/users/jameshiebert/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameshiebert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameshiebert/subscriptions", "organizations_url": "https://api.github.com/users/jameshiebert/orgs", "repos_url": "https://api.github.com/users/jameshiebert/repos", "events_url": "https://api.github.com/users/jameshiebert/events{/privacy}", "received_events_url": "https://api.github.com/users/jameshiebert/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 4, "created_at": "2016-04-29T13:39:50Z", "updated_at": "2016-06-02T19:10:43Z", "closed_at": "2016-06-02T19:10:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The rio warp help text says\n\n```\n  --like PATH                     Raster dataset to use as a template for\n                                  obtaining affine transform (bounds and\n                                  resolution), crs, data type, and driver used\n                                  to create the output.\n```\n\nBut the data type does not appear to be affected. \n\n```\n$ rio info data1.l3a.vnir1.tif | jq .dtype\n\"uint8\"\n$ rio info data1.l3a.tir10.tif | jq .dtype\n\"uint16\"\n$ rio warp data1.l3a.tir10.tif /tmp/out.tif --like data1.l3a.vnir1.tif\n$ rio info /tmp/out.tif | jq .dtype  # dtype is not \"like\" vnir1, should be uint8\n\"uint16\"\n```\n\nThis might just be a simple matter of changing the help text to reflect the actual behavior. Or it could be considered a bug. Not sure.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/681/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/681/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/679", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/679/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/679/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/679/events", "html_url": "https://github.com/rasterio/rasterio/issues/679", "id": 151395313, "node_id": "MDU6SXNzdWUxNTEzOTUzMTM=", "number": 679, "title": "Segfault on decimated read of alpha band", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 5, "created_at": "2016-04-27T14:08:21Z", "updated_at": "2016-05-02T16:04:34Z", "closed_at": "2016-05-02T16:04:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using gdal 2.1 on OS X, I get a segfault when reading a single band into a smaller output array. \n- On pypi rasterio-0.32.0.post1 --> works \n- On pypi rasterio-0.33.0 --> Segmentation fault: 11\n- On pypi rasterio-0.34.0 --> Segmentation fault: 11\n- On built-from-src rasterio@master e7a6797 --> Segmentation fault: 11\n\nTo reproduce using the fixture from raster-tester\n\n```\nimport rasterio\nimport numpy as np\n\nwith rasterio.open('tests/expected/blobby.tif') as src:\n    out = np.zeros((19, 19)).astype('uint8')\n    assert src.width == 1223\n    assert src.height == 1223\n    assert src.count == 4\n\n    # attempt ~ 1/64 decimated read of alpha band\n    src.read(4, out=out, masked=False)\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/679/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/678", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/678/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/678/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/678/events", "html_url": "https://github.com/rasterio/rasterio/issues/678", "id": 151257743, "node_id": "MDU6SXNzdWUxNTEyNTc3NDM=", "number": 678, "title": "numpy deprecation warning with boundless read", "user": {"login": "grovduck", "id": 1706997, "node_id": "MDQ6VXNlcjE3MDY5OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1706997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grovduck", "html_url": "https://github.com/grovduck", "followers_url": "https://api.github.com/users/grovduck/followers", "following_url": "https://api.github.com/users/grovduck/following{/other_user}", "gists_url": "https://api.github.com/users/grovduck/gists{/gist_id}", "starred_url": "https://api.github.com/users/grovduck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grovduck/subscriptions", "organizations_url": "https://api.github.com/users/grovduck/orgs", "repos_url": "https://api.github.com/users/grovduck/repos", "events_url": "https://api.github.com/users/grovduck/events{/privacy}", "received_events_url": "https://api.github.com/users/grovduck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/46", "html_url": "https://github.com/rasterio/rasterio/milestone/46", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/46/labels", "id": 1746065, "node_id": "MDk6TWlsZXN0b25lMTc0NjA2NQ==", "number": 46, "title": "0.35", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-05-03T19:46:46Z", "updated_at": "2016-05-04T16:00:30Z", "due_on": null, "closed_at": "2016-05-04T16:00:30Z"}, "comments": 1, "created_at": "2016-04-26T22:49:31Z", "updated_at": "2016-05-03T21:55:48Z", "closed_at": "2016-05-02T17:05:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This one I think is pretty minor, but doing the below is giving a `VisibleDeprecationWarning` from numpy I think:\n\n```\nimport rasterio\nwith rasterio.open('tests/data/RGB.byte.tif') as src:\n    window = ((-10, 100), (-10, 100))\n    data = src.read(1, window=window, boundless=True)\n```\n\nOutput:\n\n```\ntest.py:4: VisibleDeprecationWarning: using a non-integer number instead of an integer will result in an error in the future\ndata = src.read(1, window=window, boundless=True)\n```\n\nIt looks like it's happening when setting row and column offsets without rounding and casting to ints (ie. https://github.com/mapbox/rasterio/blob/master/rasterio/_io.pyx#L861-871).  I didn't know when in the 'future' this was going to error rather than warn ... I'm using numpy 1.11.0.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/678/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/678/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/674", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/674/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/674/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/674/events", "html_url": "https://github.com/rasterio/rasterio/issues/674", "id": 149909875, "node_id": "MDU6SXNzdWUxNDk5MDk4NzU=", "number": 674, "title": "Problem with reproject and identity affine", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216954, "node_id": "MDU6TGFiZWwzNTEyMTY5NTQ=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/advanced", "name": "advanced", "color": "000000", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 2, "created_at": "2016-04-20T23:02:17Z", "updated_at": "2016-06-03T21:26:18Z", "closed_at": "2016-06-03T21:26:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "A follow up to #524 and the unique madness that is the identity transform.\n\n**Problem**: `reproject` fails if its `src_transform` is equal to the identity matrix.\n\nThe following test\n\n``` python\nimport numpy as np\nfrom affine import Affine\nimport rasterio\nfrom rasterio.warp import reproject\nfrom rasterio.enums import Resampling\n\n\ndef test_reproject_nonidentity():\n    # note the affines are both positive e, but NOT identity\n    src = np.random.random(2500).reshape((1, 50, 50))\n    srcaff = Affine(1.1, 0.0, 0.0, 0.0, 1.1, 0.0)  # not quite\n    srccrs = {'init': 'epsg:3857'}\n\n    dst = np.empty(shape=(1, 110, 110))\n    dstaff = Affine(0.5, 0.0, 0.0, 0.0, 0.5, 0.0)\n    dstcrs = {'init': 'epsg:3857'}\n\n    with rasterio.drivers():\n        reproject(\n            src, dst,\n            src_transform=srcaff,\n            src_crs=srccrs,\n            dst_transform=dstaff,\n            dst_crs=dstcrs,\n            resampling=Resampling.nearest)\n```\n\nWorks \ud83d\udc4c  despite the positive affine.e (more on that in a minute)\n\nBut as soon as I alter the test to use the identity matrix for an affine\n\n``` python\ndef test_reproject_identity():\n    # note the affines are both positive e, one is identity\n    src = np.random.random(2500).reshape((1, 50, 50))\n    srcaff = Affine(1.0, 0.0, 0.0, 0.0, 1.0, 0.0)  # !!! Identity\n    srccrs = {'init': 'epsg:3857'}\n\n    dst = np.empty(shape=(1, 100, 100))\n    dstaff = Affine(0.5, 0.0, 0.0, 0.0, 0.5, 0.0)\n    dstcrs = {'init': 'epsg:3857'}\n\n    with rasterio.drivers():\n        reproject(\n            src, dst,\n            src_transform=srcaff,\n            src_crs=srccrs,\n            dst_transform=dstaff,\n            dst_crs=dstcrs,\n            resampling=Resampling.nearest)\n```\n\nThis fails with the following error\n\n```\nTraceback (most recent call last):\n  File \"_test_err.py\", line 51, in <module>\n    test_reproject_identity()\n  File \"_test_err.py\", line 45, in test_reproject_identity\n    resampling=Resampling.nearest)\n  File \"/Users/mperry/work/rasterio/rasterio/warp.py\", line 257, in reproject\n    **kwargs)\n  File \"rasterio/_warp.pyx\", line 391, in rasterio._warp._reproject (rasterio/_warp.cpp:8343)\n  File \"rasterio/_warp.pyx\", line 380, in rasterio._warp._reproject (rasterio/_warp.cpp:8219)\n  File \"rasterio/_warp.pyx\", line 384, in rasterio._warp._reproject (rasterio/_warp.cpp:8133)\n  File \"rasterio/_err.pyx\", line 190, in rasterio._err.CPLErrors.check (rasterio/_err.c:1502)\nrasterio._err.CPLE_AppDefined: (3, 1, 'The transformation is already \"north up\" or a transformation \nbetween pixel/line and georeferenced coordinates cannot be computed for Temporary source dataset \nfor _reproject(). There is no affine transformation and no GCPs. Specify transformation option \nSRC_METHOD=NO_GEOTRANSFORM to bypass this check.')\n```\n\nThe reference to \"north up\" threw me for a while... thought we might be dealing with #525 . But no, it's just a simple case of the identity matrix causing problems.\n\nThis is likely to cause problems when e.g. trying to resample rasterio sources without a specified transform.\n\nthanks to @celoyd for uncovering this \ud83d\udc1b \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/674/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/674/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/669", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/669/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/669/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/669/events", "html_url": "https://github.com/rasterio/rasterio/issues/669", "id": 148871867, "node_id": "MDU6SXNzdWUxNDg4NzE4Njc=", "number": 669, "title": "rio stack output empty", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-04-16T17:12:01Z", "updated_at": "2016-04-16T21:56:28Z", "closed_at": "2016-04-16T21:56:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`rio stack`ing one or more rasters without an explicit band index results in a raster with all nulls\n\n```\n$ rio info --tell-me-more tests/data/RGB.byte.tif | jq .stats[0].max\n255\n$ rio stack tests/data/RGB.byte.tif /tmp/test.tif && \\\n  rio info --tell-me-more /tmp/test.tif | jq .stats[0].max\nnull\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/669/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/664", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/664/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/664/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/664/events", "html_url": "https://github.com/rasterio/rasterio/issues/664", "id": 147893058, "node_id": "MDU6SXNzdWUxNDc4OTMwNTg=", "number": 664, "title": "test_rio_warp:test_warp_reproject_check_invert() crasher", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 3, "created_at": "2016-04-12T22:35:00Z", "updated_at": "2016-06-10T13:33:07Z", "closed_at": "2016-06-10T13:33:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "@perrygeo the new `test_rio_warp:test_warp_reproject_check_invert` test crashes on my mac unless I change the code at https://github.com/mapbox/rasterio/blob/master/rasterio/_warp.pyx#L568 to raise (in which case it fails) instead of logging and passing. Running the test under lldb gives\n\n```\ntests/test_rio_warp.py ........................Process 68100 stopped\n* thread #1: tid = 0x113aea3, 0x00000001045ad3d2 libgdal.20.dylib`GWKCheckAndComputeSrcOffsets(_pabSuccess=0x0000000107adb520, _iDstX=0, _padfX=0x000000010aa0e7e0, _padfY=0x0000000102665c00, _poWK=0x00007fff5fbf3028, _nSrcXSize=490, _nSrcYSize=1, iSrcOffset=0x00007fff5fbf2ae4) + 290 at gdalwarpkernel.cpp:3953, queue = 'com.apple.main-thread', stop reason = EXC_BAD_INSTRUCTION (code=EXC_I386_INVOP, subcode=0x0)\n    frame #0: 0x00000001045ad3d2 libgdal.20.dylib`GWKCheckAndComputeSrcOffsets(_pabSuccess=0x0000000107adb520, _iDstX=0, _padfX=0x000000010aa0e7e0, _padfY=0x0000000102665c00, _poWK=0x00007fff5fbf3028, _nSrcXSize=490, _nSrcYSize=1, iSrcOffset=0x00007fff5fbf2ae4) + 290 at gdalwarpkernel.cpp:3953\n   3950     int iSrcX, iSrcY;\n   3951\n   3952     iSrcX = ((int) (_padfX[_iDstX] + 1e-10)) - _poWK->nSrcXOff;\n-> 3953     iSrcY = ((int) (_padfY[_iDstX] + 1e-10)) - _poWK->nSrcYOff;\n   3954\n   3955     /* If operating outside natural projection area, padfX/Y can be */\n   3956     /* a very huge positive number, that becomes -2147483648 in the */\n```\n\nNot sure what's up with this yet.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/664/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/664/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/658", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/658/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/658/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/658/events", "html_url": "https://github.com/rasterio/rasterio/pull/658", "id": 147549645, "node_id": "MDExOlB1bGxSZXF1ZXN0NjYwNTg5NDc=", "number": 658, "title": "Keep rasterio's cpl error handler in place", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/44", "html_url": "https://github.com/rasterio/rasterio/milestone/44", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/44/labels", "id": 1678451, "node_id": "MDk6TWlsZXN0b25lMTY3ODQ1MQ==", "number": 44, "title": "Pre-PyCon", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 21, "state": "closed", "created_at": "2016-04-01T16:48:15Z", "updated_at": "2018-03-07T16:47:37Z", "due_on": null, "closed_at": "2016-06-10T12:32:55Z"}, "comments": 1, "created_at": "2016-04-11T20:42:34Z", "updated_at": "2016-04-11T21:01:40Z", "closed_at": "2016-04-11T21:01:40Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/658", "html_url": "https://github.com/rasterio/rasterio/pull/658", "diff_url": "https://github.com/rasterio/rasterio/pull/658.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/658.patch", "merged_at": "2016-04-11T21:01:40Z"}, "body": "Never restore it to the GDAL default. This avoids the situation where GDAL is writing directly to stderr.\n\nAlso get in line with best practices for library and application logging: NullHandlers attached in `rasterio/__init__.py` and then overridden in rasterio/rio/main.py.\n- http://docs.python-guide.org/en/latest/writing/logging/#logging-in-a-library\n- http://docs.python-guide.org/en/latest/writing/logging/#logging-in-an-application\n\nCloses #649\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/658/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/651", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/651/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/651/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/651/events", "html_url": "https://github.com/rasterio/rasterio/issues/651", "id": 147066914, "node_id": "MDU6SXNzdWUxNDcwNjY5MTQ=", "number": 651, "title": "empty window intersection", "user": {"login": "grovduck", "id": 1706997, "node_id": "MDQ6VXNlcjE3MDY5OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1706997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grovduck", "html_url": "https://github.com/grovduck", "followers_url": "https://api.github.com/users/grovduck/followers", "following_url": "https://api.github.com/users/grovduck/following{/other_user}", "gists_url": "https://api.github.com/users/grovduck/gists{/gist_id}", "starred_url": "https://api.github.com/users/grovduck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grovduck/subscriptions", "organizations_url": "https://api.github.com/users/grovduck/orgs", "repos_url": "https://api.github.com/users/grovduck/repos", "events_url": "https://api.github.com/users/grovduck/events{/privacy}", "received_events_url": "https://api.github.com/users/grovduck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/46", "html_url": "https://github.com/rasterio/rasterio/milestone/46", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/46/labels", "id": 1746065, "node_id": "MDk6TWlsZXN0b25lMTc0NjA2NQ==", "number": 46, "title": "0.35", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-05-03T19:46:46Z", "updated_at": "2016-05-04T16:00:30Z", "due_on": null, "closed_at": "2016-05-04T16:00:30Z"}, "comments": 3, "created_at": "2016-04-08T23:59:12Z", "updated_at": "2016-05-03T21:55:48Z", "closed_at": "2016-04-16T03:44:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've been playing around with the cool windowing functions @brendan-ward put in a while back.  I'm wondering if this is the desired behavior when two windows intersect at a point or along a row/column.  Because of the ways windows work in rasterio, the upper row/column bound is open, so `windows_intersect` is returning `True` but returning an empty array, e.g.\n\n```\n>>> with rasterio.open('tests/data/RGB.byte.tif') as src:\n...     w1 = ((0, 2), (0, 2))\n...     w2 = ((2, 4), (2, 4))\n...    if windows_intersect((w1, w2)): #returns True\n...        print(src.read(1, window=window_intersection((w1, w2))))\n[]\n```\n\nTrue, the windows do intersect at a point, but I assume the way people will use `window_intersection` is to expect a window that they can use in further processing. \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/651/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/650", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/650/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/650/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/650/events", "html_url": "https://github.com/rasterio/rasterio/issues/650", "id": 146986685, "node_id": "MDU6SXNzdWUxNDY5ODY2ODU=", "number": 650, "title": "Make AWS sessions lazy", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/46", "html_url": "https://github.com/rasterio/rasterio/milestone/46", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/46/labels", "id": 1746065, "node_id": "MDk6TWlsZXN0b25lMTc0NjA2NQ==", "number": 46, "title": "0.35", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-05-03T19:46:46Z", "updated_at": "2016-05-04T16:00:30Z", "due_on": null, "closed_at": "2016-05-04T16:00:30Z"}, "comments": 2, "created_at": "2016-04-08T17:15:50Z", "updated_at": "2016-05-03T21:55:48Z", "closed_at": "2016-05-03T19:44:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently the rio command's `ctx` contains an instantiated `rasterio.aws.Session` (or a `FakeSession` if there are import errors).\n\nThere are two potential problems with this:\n- Session errors such as invalid aws credential files, missing region name, or other unknown cases (we only explicitly catch ImportError) will prevent users from running `rio` commands even on local files.\n- If a user is not an AWS customer, botocore will still cycle through all of it's possible credential methods resulting in a significant performance hit. If I remove access to all my credentials (unset env, move my ~/.aws dir), a rio info call to a local file takes approximately 1.1 seconds longer compared to if I had credentials set up.\n\nHow can we make the initialization of aws_sessions in rio commands optional? Can we be lazy about calling boto to search for credentials? Ideally, unless we had an `s3://` uri to handle, we would not even ask boto to look for creds.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/650/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/650/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/649", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/649/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/649/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/649/events", "html_url": "https://github.com/rasterio/rasterio/issues/649", "id": 146951697, "node_id": "MDU6SXNzdWUxNDY5NTE2OTc=", "number": 649, "title": "Handling GDAL Errors", "user": {"login": "mccarthyryanc", "id": 997120, "node_id": "MDQ6VXNlcjk5NzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/997120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mccarthyryanc", "html_url": "https://github.com/mccarthyryanc", "followers_url": "https://api.github.com/users/mccarthyryanc/followers", "following_url": "https://api.github.com/users/mccarthyryanc/following{/other_user}", "gists_url": "https://api.github.com/users/mccarthyryanc/gists{/gist_id}", "starred_url": "https://api.github.com/users/mccarthyryanc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mccarthyryanc/subscriptions", "organizations_url": "https://api.github.com/users/mccarthyryanc/orgs", "repos_url": "https://api.github.com/users/mccarthyryanc/repos", "events_url": "https://api.github.com/users/mccarthyryanc/events{/privacy}", "received_events_url": "https://api.github.com/users/mccarthyryanc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/46", "html_url": "https://github.com/rasterio/rasterio/milestone/46", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/46/labels", "id": 1746065, "node_id": "MDk6TWlsZXN0b25lMTc0NjA2NQ==", "number": 46, "title": "0.35", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-05-03T19:46:46Z", "updated_at": "2016-05-04T16:00:30Z", "due_on": null, "closed_at": "2016-05-04T16:00:30Z"}, "comments": 6, "created_at": "2016-04-08T14:55:54Z", "updated_at": "2016-05-03T21:55:48Z", "closed_at": "2016-04-11T21:01:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can catch a rasterio IOError:\n\n``` python\ntry:\n    rasterio.open('foo','r')\nexcept IOError:\n    pass\n```\n\nHowever, I still get the GDAL Error:\n\n```\nERROR 4: `foo' does not exist in the file system,\nand is not recognised as a supported dataset name.\n```\n\nThe osgeo module needed a call, `gdal.UseExceptions()`. Is something similar needed for Rasterio to catch GDAL errors?\n\nOS: Ubuntu 14.04, Python 3.5.1, Rasterio 0.34\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/649/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/649/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/644", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/644/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/644/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/644/events", "html_url": "https://github.com/rasterio/rasterio/issues/644", "id": 146571151, "node_id": "MDU6SXNzdWUxNDY1NzExNTE=", "number": 644, "title": "Compression not reported in raster profile?", "user": {"login": "JamesRamm", "id": 2784823, "node_id": "MDQ6VXNlcjI3ODQ4MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/2784823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JamesRamm", "html_url": "https://github.com/JamesRamm", "followers_url": "https://api.github.com/users/JamesRamm/followers", "following_url": "https://api.github.com/users/JamesRamm/following{/other_user}", "gists_url": "https://api.github.com/users/JamesRamm/gists{/gist_id}", "starred_url": "https://api.github.com/users/JamesRamm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JamesRamm/subscriptions", "organizations_url": "https://api.github.com/users/JamesRamm/orgs", "repos_url": "https://api.github.com/users/JamesRamm/repos", "events_url": "https://api.github.com/users/JamesRamm/events{/privacy}", "received_events_url": "https://api.github.com/users/JamesRamm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-07T10:12:39Z", "updated_at": "2016-04-12T17:05:32Z", "closed_at": "2016-04-12T17:05:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "with `src = rasterio.open(\"my_raster.tif\") I was expecting to see`compress`in`src.profile`., but I get a`KeyError`.\n\n`gdalinfo` reports the dataset as compressed:\n\n```\nDriver: GTiff/GeoTIFF\nFiles: River10Q1000D.tif\n       River10Q1000D.tif.aux.xml\nSize is 111162, 259376\nCoordinate System is:\nPROJCS[\"British_National_Grid\",\n    GEOGCS[\"GCS_OSGB_1936\",\n        DATUM[\"OSGB_1936\",\n            SPHEROID[\"Airy_1830\",6377563.396,299.3249646,\n                AUTHORITY[\"EPSG\",\"7001\"]],\n            AUTHORITY[\"EPSG\",\"6277\"]],\n        PRIMEM[\"Greenwich\",0],\n        UNIT[\"degree\",0.0174532925199433]],\n    PROJECTION[\"Transverse_Mercator\"],\n    PARAMETER[\"latitude_of_origin\",49],\n    PARAMETER[\"central_meridian\",-2],\n    PARAMETER[\"scale_factor\",0.9996012717],\n    PARAMETER[\"false_easting\",400000],\n    PARAMETER[\"false_northing\",-100000],\n    UNIT[\"metre\",1,\n        AUTHORITY[\"EPSG\",\"9001\"]]]\nOrigin = (100180.000000000000000,1215730.000000000000000)\nPixel Size = (5.000000000000000,-5.000000000000000)\nMetadata:\n  AREA_OR_POINT=Area\nImage Structure Metadata:\n  COMPRESSION=LZW\n  INTERLEAVE=BAND\nCorner Coordinates:\nUpper Left  (  100180.000, 1215730.000) (  7d29'55.44\"W, 60d42'44.16\"N)\nLower Left  (  100180.000,  -81150.000) (  6d 6'28.61\"W, 49d 5'47.18\"N)\nUpper Right (  655990.000, 1215730.000) (  2d41'53.97\"E, 60d44'33.99\"N)\nLower Right (  655990.000,  -81150.000) (  1d30'31.31\"E, 49d 6'58.45\"N)\nCenter      (  378085.000,  567290.000) (  2d20'33.44\"W, 54d59'58.66\"N)\nBand 1 Block=128x128 Type=Float32, ColorInterp=Gray\n  Min=0.001 Max=10.647 \n  Minimum=0.001, Maximum=10.647, Mean=0.910, StdDev=1.041\n  NoData Value=-3.4028230607370965e+038\n  Overviews: 55581x129688, 27791x64844, 13896x32422, 6948x16211\n  Metadata:\n    STATISTICS_MAXIMUM=10.646900177002\n    STATISTICS_MEAN=0.9097071828763\n    STATISTICS_MINIMUM=0.00050000002374873\n    STATISTICS_STDDEV=1.0406862991077\n```\n\nbut in `profile` I get:\n\n```\n>>> src.profile\n{'count': 1, 'crs': {u'lon_0': -2, u'k': 0.9996012717, u'datum': u'OSGB36', u'y_\n0': -100000, u'no_defs': True, u'proj': u'tmerc', u'x_0': 400000, u'units': u'm'\n, u'lat_0': 49}, 'dtype': 'float32', 'affine': Affine(5.0, 0.0, 100180.0,\n       0.0, -5.0, 1215730.0), 'driver': u'GTiff', 'transform': (100180.0, 5.0, 0\n.0, 1215730.0, 0.0, -5.0), 'height': 259376, 'width': 111162, 'blockxsize': 128,\n 'tiled': True, 'blockysize': 128, 'nodata': -3.4028230607370965e+38}\n>>> src.profile[\"compress\"]\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nKeyError: 'compress'\n```\n\nI writing a function to check a geotiff dataset to see whether it is 'well formatted' (compressed, tiled, has metadata we expect and so on).\n\nIs this an error or can compression be found via another route?\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/644/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/644/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/637", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/637/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/637/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/637/events", "html_url": "https://github.com/rasterio/rasterio/issues/637", "id": 146051151, "node_id": "MDU6SXNzdWUxNDYwNTExNTE=", "number": 637, "title": "Comprehensive default GDALEnv for functions", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}, {"id": 602660531, "node_id": "MDU6TGFiZWw2MDI2NjA1MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/env", "name": "env", "color": "7ccc8d", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/57", "html_url": "https://github.com/rasterio/rasterio/milestone/57", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/57/labels", "id": 2820680, "node_id": "MDk6TWlsZXN0b25lMjgyMDY4MA==", "number": 57, "title": "post-1.0a10", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2017-10-06T18:44:00Z", "updated_at": "2019-10-03T20:12:24Z", "due_on": null, "closed_at": "2018-06-25T20:00:00Z"}, "comments": 3, "created_at": "2016-04-05T17:09:21Z", "updated_at": "2018-06-25T19:33:43Z", "closed_at": "2018-06-25T19:33:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Rasterio (unlike GDAL's Python bindings) does not register GDAL format drivers on import. Some of our functions create a default GDAL environment with registered drivers (`fiona.open()` is one) but others do not and this is tripping up users (see #631).\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/637/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/633", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/633/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/633/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/633/events", "html_url": "https://github.com/rasterio/rasterio/issues/633", "id": 145736595, "node_id": "MDU6SXNzdWUxNDU3MzY1OTU=", "number": 633, "title": "S3 access missing from rio-bounds, rio-shapes in 0.33", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/45", "html_url": "https://github.com/rasterio/rasterio/milestone/45", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/45/labels", "id": 1682491, "node_id": "MDk6TWlsZXN0b25lMTY4MjQ5MQ==", "number": 45, "title": "0.34", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2016-04-04T16:31:10Z", "updated_at": "2016-04-05T02:36:18Z", "due_on": null, "closed_at": "2016-04-05T02:36:18Z"}, "comments": 0, "created_at": "2016-04-04T16:34:31Z", "updated_at": "2016-04-04T22:52:33Z", "closed_at": "2016-04-04T22:52:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Somewhere between the creation of new command files and inattention on my part, the AWS sessions I advertised for rio-bounds, rio-shapes, and other commands aren't in the code. I'm embarrassed and would like to get a 0.34 out immediately.\n\nOkay with you @brendan-ward @geowurster @perrygeo?\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/633/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/633/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/631", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/631/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/631/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/631/events", "html_url": "https://github.com/rasterio/rasterio/issues/631", "id": 145561205, "node_id": "MDU6SXNzdWUxNDU1NjEyMDU=", "number": 631, "title": "DriverRegistrationError: MEM driver is not registered.", "user": {"login": "Spaxe", "id": 708395, "node_id": "MDQ6VXNlcjcwODM5NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/708395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Spaxe", "html_url": "https://github.com/Spaxe", "followers_url": "https://api.github.com/users/Spaxe/followers", "following_url": "https://api.github.com/users/Spaxe/following{/other_user}", "gists_url": "https://api.github.com/users/Spaxe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Spaxe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Spaxe/subscriptions", "organizations_url": "https://api.github.com/users/Spaxe/orgs", "repos_url": "https://api.github.com/users/Spaxe/repos", "events_url": "https://api.github.com/users/Spaxe/events{/privacy}", "received_events_url": "https://api.github.com/users/Spaxe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-04-04T01:17:23Z", "updated_at": "2016-04-05T17:09:42Z", "closed_at": "2016-04-05T01:55:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "After one week this function (https://github.com/data-cube/agdc-v2/blob/60640b199d0f3e876cc38705fa1d788e401f81dc/datacube/api/geo_xarray.py#L61), depending on `rasterio` mysteriously fails with an error I've never seen before. Is this an issue from my setup? If so, how do I go about It?\n\n```\n---------------------------------------------------------------------------\nDriverRegistrationError                   Traceback (most recent call last)\n<ipython-input-5-9409b0109d8f> in <module>()\n      1 band_maths = (sb + sg) / 2\n      2 band_maths.name = 'Band Maths'\n----> 3 reprojected = datacube.api.geo_xarray.reproject(band_maths, 'EPSG:3577', 'WGS84')\n      4 reprojected.plot()\n      5 \n...\nrasterio/_warp.pyx in rasterio._warp._calculate_default_transform (rasterio/_warp.cpp:9163)()\n\nrasterio/_io.pyx in rasterio._io.InMemoryRaster.__cinit__ (rasterio/_io.c:26654)()\n\nDriverRegistrationError: MEM driver is not registered.\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/631/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/628", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/628/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/628/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/628/events", "html_url": "https://github.com/rasterio/rasterio/issues/628", "id": 145285536, "node_id": "MDU6SXNzdWUxNDUyODU1MzY=", "number": 628, "title": "Semantics of --dst-crs {} are underdefined", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}, {"id": 351217999, "node_id": "MDU6TGFiZWwzNTEyMTc5OTk=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/proj", "name": "proj", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/46", "html_url": "https://github.com/rasterio/rasterio/milestone/46", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/46/labels", "id": 1746065, "node_id": "MDk6TWlsZXN0b25lMTc0NjA2NQ==", "number": 46, "title": "0.35", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-05-03T19:46:46Z", "updated_at": "2016-05-04T16:00:30Z", "due_on": null, "closed_at": "2016-05-04T16:00:30Z"}, "comments": 0, "created_at": "2016-04-01T21:09:05Z", "updated_at": "2016-05-03T21:56:29Z", "closed_at": "2016-04-07T16:56:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From https://github.com/mapbox/rasterio/pull/621#issuecomment-204564340:\n\n> or using \"[]\" instead of {}? Currently an output raster is created without a CRS since this is valid JSON.\n\n``` bash\n$ rio warp --dst-crs {} tests/data/RGB.byte.tif OUT.tif\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/628/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/617", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/617/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/617/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/617/events", "html_url": "https://github.com/rasterio/rasterio/issues/617", "id": 144989354, "node_id": "MDU6SXNzdWUxNDQ5ODkzNTQ=", "number": 617, "title": "YCbCr JPEG-in-TIFF breaks rio-info", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/35", "html_url": "https://github.com/rasterio/rasterio/milestone/35", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/35/labels", "id": 1221914, "node_id": "MDk6TWlsZXN0b25lMTIyMTkxNA==", "number": 35, "title": "0.33", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2015-07-23T11:40:52Z", "updated_at": "2016-04-01T21:18:26Z", "due_on": null, "closed_at": "2016-04-01T21:18:26Z"}, "comments": 0, "created_at": "2016-03-31T19:03:33Z", "updated_at": "2016-04-01T01:37:43Z", "closed_at": "2016-04-01T01:37:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "One creates a YCbCr JPEG-in-TIFF with GDAL using `photometric=YCbCr` and `compress=JPEG` options. But reading the TIFFs tags to get the compression method returns \"YCbCr JPEG\", a value that's not in `rasterio.enums.Compression`.\n\nReference: http://www.gdal.org/frmt_gtiff.html\n\nSolution: normalize \"YCbCr JPEG\" to \"JPEG\" and add source color space to rio-info's output.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/617/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/614", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/614/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/614/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/614/events", "html_url": "https://github.com/rasterio/rasterio/issues/614", "id": 144869092, "node_id": "MDU6SXNzdWUxNDQ4NjkwOTI=", "number": 614, "title": "certain resampling methods fail when CHECK_WITH_INVERT_PROJ is False", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216954, "node_id": "MDU6TGFiZWwzNTEyMTY5NTQ=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/advanced", "name": "advanced", "color": "000000", "default": false, "description": null}, {"id": 351217999, "node_id": "MDU6TGFiZWwzNTEyMTc5OTk=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/proj", "name": "proj", "color": "fef2c0", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 5, "created_at": "2016-03-31T11:36:04Z", "updated_at": "2019-07-30T17:46:04Z", "closed_at": "2019-07-30T17:46:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\nwith rasterio.drivers(CHECK_WITH_INVERT_PROJ=False):\n    ...\n    # works\n    reproject(..., resampling=Resampling.nearest)\n\n    # succeeds but produces blank image\n    reproject(..., resampling=Resampling.bilinear)\n```\n\nIf `CHECK_WITH_INVERT_PROJ=True`, both nearest and bilinear work fine.\n\nRelated discussion about making invert proj checking the default #613\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/614/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/611", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/611/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/611/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/611/events", "html_url": "https://github.com/rasterio/rasterio/issues/611", "id": 144724110, "node_id": "MDU6SXNzdWUxNDQ3MjQxMTA=", "number": 611, "title": "Warping outside bounds with check-invert-proj=no causes Exception", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351217999, "node_id": "MDU6TGFiZWwzNTEyMTc5OTk=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/proj", "name": "proj", "color": "fef2c0", "default": false, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2016-03-30T21:25:53Z", "updated_at": "2016-04-12T16:20:54Z", "closed_at": "2016-04-12T16:20:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When passing `--check-invert-proj=no` to rio warp (or alternatively setting the env variable `CHECK_WITH_INVERT_PROJ=NO`), GDAL throws a series of errors that are really just warnings\n\n```\nERROR:GDAL:CPLE_AppDefined in latitude or longitude exceeded limits\n...\nERROR:GDAL:CPLE_AppDefined in Reprojection failed, err = -14, further errors will be suppressed on the transform object.\n```\n\nAnd these bubble up to the user as a \n\n```\nrasterio._err.CPLE_AppDefined\n```\n\nSince we explicitly said \"don't worry about non-invertable coords\" these shouldn't be treated as errors.\n\nA naive approach:\n\n``` diff\ndiff --git a/rasterio/_warp.pyx b/rasterio/_warp.pyx\nindex 00d2d73..11a6da8 100644\n--- a/rasterio/_warp.pyx\n+++ b/rasterio/_warp.pyx\n@@ -8,7 +8,7 @@ cimport numpy as np\n\n from rasterio cimport _base, _gdal, _ogr, _io, _features\n from rasterio import dtypes\n-from rasterio._err import CPLErrors, GDALError\n+from rasterio._err import CPLErrors, GDALError, CPLE_AppDefined\n from rasterio._io cimport InMemoryRaster\n from rasterio.errors import DriverRegistrationError\n from rasterio.transform import Affine, from_bounds\n@@ -577,6 +577,8 @@ def _calculate_default_transform(\n                     geotransform, &npixels, &nlines, extent, 0)\n                 cple.check()\n             log.debug(\"Created transformer and warp output.\")\n+        except CPLE_AppDefined as e:\n+            pass\n         finally:\n             if wkt != NULL:\n                 _gdal.CPLFree(wkt)\n```\n\nthere might be a better way. Maybe re-raise `e` if `CHECK_WITH_INVERT_PROJ=YES`?\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/611/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/611/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/599", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/599/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/599/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/599/events", "html_url": "https://github.com/rasterio/rasterio/issues/599", "id": 142789606, "node_id": "MDU6SXNzdWUxNDI3ODk2MDY=", "number": 599, "title": "GDALEnv settings not inherited by threads", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/35", "html_url": "https://github.com/rasterio/rasterio/milestone/35", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/35/labels", "id": 1221914, "node_id": "MDk6TWlsZXN0b25lMTIyMTkxNA==", "number": 35, "title": "0.33", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2015-07-23T11:40:52Z", "updated_at": "2016-04-01T21:18:26Z", "due_on": null, "closed_at": "2016-04-01T21:18:26Z"}, "comments": 1, "created_at": "2016-03-22T21:44:35Z", "updated_at": "2016-03-30T21:12:26Z", "closed_at": "2016-03-30T21:12:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When the `rasterio.drivers` context manager sets up the GDALEnv, if it calls GDAL C API to functions which spawn their own threads, strange things can happen.\n\nSee #575 \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/599/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/580", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/580/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/580/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/580/events", "html_url": "https://github.com/rasterio/rasterio/issues/580", "id": 141319306, "node_id": "MDU6SXNzdWUxNDEzMTkzMDY=", "number": 580, "title": "from_bounds incorrect transform", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/42", "html_url": "https://github.com/rasterio/rasterio/milestone/42", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/42/labels", "id": 1550069, "node_id": "MDk6TWlsZXN0b25lMTU1MDA2OQ==", "number": 42, "title": "0.32", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 26, "state": "closed", "created_at": "2016-01-28T22:09:29Z", "updated_at": "2016-03-23T02:10:18Z", "due_on": null, "closed_at": "2016-03-23T02:10:18Z"}, "comments": 1, "created_at": "2016-03-16T16:02:25Z", "updated_at": "2016-03-16T18:22:58Z", "closed_at": "2016-03-16T18:22:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This starts out valid but rounding the input coords slightly leads to an incorrect, uninvertable transform.\n\n```\ndef test_from_bounds_two():\n    width = 80\n    height = 80\n    left = -120\n    top = 70\n    right = -80.5\n    bottom = 30.5\n    tr = transform.from_bounds(left, bottom, right, top, width, height)\n    # pixelwidth, rotation, ULX, rotation, pixelheight, UL\n    expected = Affine(0.49375, 0.0, -120.0, 0.0, -0.49375, 70.0)\n    assert [round(v, 7) for v in tr] == [round(v, 7) for v in expected]\n\n    # Round right and bottom\n    right = -80\n    bottom = 30\n    tr = transform.from_bounds(left, bottom, right, top, width, height)\n    # pixelwidth, rotation, ULX, rotation, pixelheight, ULY\n    expected = Affine(0.5, 0.0, -120.0, 0.0, -0.5, 70.0)\n    assert [round(v, 7) for v in tr] == [round(v, 7) for v in expected]\n\n...\n\nipdb> tr\nAffine(0.0, 0.0, -120.0,\n       0.0, -1.0, 70.0)\nipdb> expected\nAffine(0.5, 0.0, -120.0,\n       0.0, -0.5, 70.0)\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/580/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/571", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/571/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/571/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/571/events", "html_url": "https://github.com/rasterio/rasterio/issues/571", "id": 139017288, "node_id": "MDU6SXNzdWUxMzkwMTcyODg=", "number": 571, "title": "GDAL 2.1 to travis build matrix", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 337782406, "node_id": "MDU6TGFiZWwzMzc3ODI0MDY=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/testing", "name": "testing", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 18, "created_at": "2016-03-07T16:06:46Z", "updated_at": "2016-04-04T16:05:32Z", "closed_at": "2016-04-04T16:05:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Do we try for GDAL trunk? or wait for a release?\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/571/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/571/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/561", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/561/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/561/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/561/events", "html_url": "https://github.com/rasterio/rasterio/issues/561", "id": 133436591, "node_id": "MDU6SXNzdWUxMzM0MzY1OTE=", "number": 561, "title": "Warp issue reprojecting from EPSG:4326 to EPSG:3857 on global datasets", "user": {"login": "mbertrand", "id": 187676, "node_id": "MDQ6VXNlcjE4NzY3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/187676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbertrand", "html_url": "https://github.com/mbertrand", "followers_url": "https://api.github.com/users/mbertrand/followers", "following_url": "https://api.github.com/users/mbertrand/following{/other_user}", "gists_url": "https://api.github.com/users/mbertrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbertrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbertrand/subscriptions", "organizations_url": "https://api.github.com/users/mbertrand/orgs", "repos_url": "https://api.github.com/users/mbertrand/repos", "events_url": "https://api.github.com/users/mbertrand/events{/privacy}", "received_events_url": "https://api.github.com/users/mbertrand/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/42", "html_url": "https://github.com/rasterio/rasterio/milestone/42", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/42/labels", "id": 1550069, "node_id": "MDk6TWlsZXN0b25lMTU1MDA2OQ==", "number": 42, "title": "0.32", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 26, "state": "closed", "created_at": "2016-01-28T22:09:29Z", "updated_at": "2016-03-23T02:10:18Z", "due_on": null, "closed_at": "2016-03-23T02:10:18Z"}, "comments": 1, "created_at": "2016-02-13T14:18:54Z", "updated_at": "2016-03-21T16:28:02Z", "closed_at": "2016-03-21T16:28:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I've run into an issue trying to warp global raster datasets from EPSG:4326 to EPSG:3857.\n\nExample dataset: [Natural Earth II with Shaded Relief](http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/50m/raster/NE2_50M_SR.zip)\n\n```\nrio warp --dst-crs EPSG:3857 NE2_50M_SR.tif NE2_50M_SR_3857.tif\n```\n\n```\nTraceback (most recent call last):\n  File \"/Users/mbertrand/.virtualenvs/rasterio/bin/rio\", line 9, in <module>\n    load_entry_point('rasterio==0.31.0', 'console_scripts', 'rio')()\n  File \"/Users/mbertrand/.virtualenvs/rasterio/lib/python2.7/site-packages/click/core.py\", line 716, in __call__\n    return self.main(*args, **kwargs)\n  File \"/Users/mbertrand/.virtualenvs/rasterio/lib/python2.7/site-packages/click/core.py\", line 696, in main\n    rv = self.invoke(ctx)\n  File \"/Users/mbertrand/.virtualenvs/rasterio/lib/python2.7/site-packages/click/core.py\", line 1060, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n  File \"/Users/mbertrand/.virtualenvs/rasterio/lib/python2.7/site-packages/click/core.py\", line 889, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File \"/Users/mbertrand/.virtualenvs/rasterio/lib/python2.7/site-packages/click/core.py\", line 534, in invoke\n    return callback(*args, **kwargs)\n  File \"/Users/mbertrand/.virtualenvs/rasterio/lib/python2.7/site-packages/click/decorators.py\", line 17, in new_func\n    return f(get_current_context(), *args, **kwargs)\n  File \"/Users/mbertrand/dev/rasterio/rasterio/rio/warp.py\", line 195, in warp\n    resolution=res)\n  File \"/Users/mbertrand/dev/rasterio/rasterio/warp.py\", line 311, in calculate_default_transform\n    dst_width = max(int(ceil(x_dif / resolution[0])), 1)\nValueError: cannot convert float NaN to integer\n```\n\nI get the same error when trying to reproject other global datasets from 4326 to 3857.\n\nIn [warp.transform_bounds](https://github.com/mapbox/rasterio/blob/master/rasterio/warp.py#L150), inf values are being returned.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/561/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/561/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/556", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/556/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/556/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/556/events", "html_url": "https://github.com/rasterio/rasterio/issues/556", "id": 130548557, "node_id": "MDU6SXNzdWUxMzA1NDg1NTc=", "number": 556, "title": "rio bounds results in incorrect bounds", "user": {"login": "dnomadb", "id": 5084513, "node_id": "MDQ6VXNlcjUwODQ1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5084513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dnomadb", "html_url": "https://github.com/dnomadb", "followers_url": "https://api.github.com/users/dnomadb/followers", "following_url": "https://api.github.com/users/dnomadb/following{/other_user}", "gists_url": "https://api.github.com/users/dnomadb/gists{/gist_id}", "starred_url": "https://api.github.com/users/dnomadb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dnomadb/subscriptions", "organizations_url": "https://api.github.com/users/dnomadb/orgs", "repos_url": "https://api.github.com/users/dnomadb/repos", "events_url": "https://api.github.com/users/dnomadb/events{/privacy}", "received_events_url": "https://api.github.com/users/dnomadb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/42", "html_url": "https://github.com/rasterio/rasterio/milestone/42", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/42/labels", "id": 1550069, "node_id": "MDk6TWlsZXN0b25lMTU1MDA2OQ==", "number": 42, "title": "0.32", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 26, "state": "closed", "created_at": "2016-01-28T22:09:29Z", "updated_at": "2016-03-23T02:10:18Z", "due_on": null, "closed_at": "2016-03-23T02:10:18Z"}, "comments": 8, "created_at": "2016-02-02T02:16:08Z", "updated_at": "2016-02-02T20:09:34Z", "closed_at": "2016-02-02T20:09:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`rio bounds` is giving me an incorrect extent:\n\n![image](https://cloud.githubusercontent.com/assets/5084513/12737662/559d4ef4-c90f-11e5-90d1-a8cfc35b7982.png)\n\n```\n[78.19825215393689, 27.874667692983305, 78.22262314299678, 27.897332159267222]\n```\n\nInterestingly, the min/max x bounds seem to cut off at the _min_ extent of the data in the positive and negative direction, rather than the maximum extent. The `y` dimension looks correct. Here is the `rio info`'d output from the same file:\n\n```\n{\n  \"count\": 3, \n  \"crs\": \"EPSG:32644\", \n  \"interleave\": \"band\", \n  \"dtype\": \"uint8\", \n  \"driver\": \"GTiff\", \n  \"transform\": [\n    0.3, \n    0.0, \n    224144.7, \n    0.0, \n    -0.3, \n    3088931.4\n  ], \n  \"lnglat\": [\n    78.21043638215713, \n    27.886000381669582\n  ], \n  \"height\": 8192, \n  \"width\": 8192, \n  \"shape\": [\n    8192, \n    8192\n  ], \n  \"tiled\": false, \n  \"res\": [\n    0.3, \n    0.3\n  ], \n  \"nodata\": null, \n  \"bounds\": [\n    224144.7, \n    3086473.8, \n    226602.30000000002, \n    3088931.4\n  ]\n}\n```\n\n@sgillies has this above input file.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/556/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/549", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/549/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/549/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/549/events", "html_url": "https://github.com/rasterio/rasterio/issues/549", "id": 127505848, "node_id": "MDU6SXNzdWUxMjc1MDU4NDg=", "number": 549, "title": "Switch sense of rio-warp's --bounds from src to dst", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 5, "created_at": "2016-01-19T18:14:12Z", "updated_at": "2016-06-17T01:14:08Z", "closed_at": "2016-06-17T01:14:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For 1.0, let's harmonize rio-warp's `--dimensions`, `--res`, `--bounds`, and `--like` options so they all specify the output/destination raster. This will mean a breaking change for `--bounds`. I apologize for not catching the interface discrepancy earlier, everyone.\n\nPlan: \n- raise a [FutureWarning](https://docs.python.org/2/library/exceptions.html#exceptions.FutureWarning) starting with the next release explaining the upcoming change to rio-warp's `--bounds` option.\n- add a `--x-dst-bounds` option to impl the corrected feature.\n- add a `--src-bounds` option to preserve the existing feature.\n- prevent the GDAL faults (crashes and non-returning calls) that are possible when bad destination bounds are passed.\n\nSound good, @brendan-ward @perrygeo?\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/549/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/549/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/547", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/547/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/547/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/547/events", "html_url": "https://github.com/rasterio/rasterio/issues/547", "id": 127250460, "node_id": "MDU6SXNzdWUxMjcyNTA0NjA=", "number": 547, "title": "Use epsilon with ceiling/floor operations", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 2, "created_at": "2016-01-18T15:32:49Z", "updated_at": "2018-09-21T15:41:21Z", "closed_at": "2018-09-21T15:14:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Numerous calcs in rasterio rely on ceiling/floor, mainly to round to even integer raster dimensions. Floating point imprecision can cause some unexpected behavior\n\n```\n>>> import math\n>>> minx = -106.45036\n>>> maxx = -106.44136\n>>> res = 0.001\n>>> math.ceil((maxx - minx) / res)\n10.0\n>>> math.ceil(((maxx - minx) / res) - 1e-10)  # use epsilon\n9.0\n```\n\nWe already use it in [_base.get_index](https://github.com/mapbox/rasterio/blob/fb93a6425c17f25141ad308cee7263d0c491a0a9/rasterio/_base.pyx#L763-L795) but it might be worth doing a sweep of the code and finding other cases where floating points could cause off-by-one problems.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/547/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/547/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/541", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/541/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/541/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/541/events", "html_url": "https://github.com/rasterio/rasterio/issues/541", "id": 126489405, "node_id": "MDU6SXNzdWUxMjY0ODk0MDU=", "number": 541, "title": "rio-warp drops data on right edge", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/42", "html_url": "https://github.com/rasterio/rasterio/milestone/42", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/42/labels", "id": 1550069, "node_id": "MDk6TWlsZXN0b25lMTU1MDA2OQ==", "number": 42, "title": "0.32", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 26, "state": "closed", "created_at": "2016-01-28T22:09:29Z", "updated_at": "2016-03-23T02:10:18Z", "due_on": null, "closed_at": "2016-03-23T02:10:18Z"}, "comments": 16, "created_at": "2016-01-13T19:04:04Z", "updated_at": "2016-01-28T22:22:03Z", "closed_at": "2016-01-25T17:52:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Here's the result of `rio warp input.tif output.tif --dst-crs EPSG:3857`:\n\n![image](https://cloud.githubusercontent.com/assets/33697/12304605/994098d6-b9ed-11e5-8b8c-492ab2241b04.png)\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/541/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/541/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/539", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/539/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/539/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/539/events", "html_url": "https://github.com/rasterio/rasterio/issues/539", "id": 126003913, "node_id": "MDU6SXNzdWUxMjYwMDM5MTM=", "number": 539, "title": "Check for output existing with files_inout_arg", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/42", "html_url": "https://github.com/rasterio/rasterio/milestone/42", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/42/labels", "id": 1550069, "node_id": "MDk6TWlsZXN0b25lMTU1MDA2OQ==", "number": 42, "title": "0.32", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 26, "state": "closed", "created_at": "2016-01-28T22:09:29Z", "updated_at": "2016-03-23T02:10:18Z", "due_on": null, "closed_at": "2016-03-23T02:10:18Z"}, "comments": 6, "created_at": "2016-01-11T18:14:16Z", "updated_at": "2016-01-28T22:22:02Z", "closed_at": "2016-01-12T19:07:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I just did something stupid and wonder if we should guard against it.\n\n```\nrio stack B4.tif B3.tif B2.tif  # overwrites B2.tif !!!\n```\n\nWhat about adding an assertion that the output file doesn't yet exist: [`resolve_inout`](https://github.com/mapbox/rasterio/blob/master/rasterio/rio/helpers.py#L67-L75)?\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/539/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/537", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/537/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/537/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/537/events", "html_url": "https://github.com/rasterio/rasterio/pull/537", "id": 125269807, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUyNjg3MjM=", "number": 537, "title": "s/read_band/read/ throughout docs", "user": {"login": "IamJeffG", "id": 2002703, "node_id": "MDQ6VXNlcjIwMDI3MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/2002703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IamJeffG", "html_url": "https://github.com/IamJeffG", "followers_url": "https://api.github.com/users/IamJeffG/followers", "following_url": "https://api.github.com/users/IamJeffG/following{/other_user}", "gists_url": "https://api.github.com/users/IamJeffG/gists{/gist_id}", "starred_url": "https://api.github.com/users/IamJeffG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IamJeffG/subscriptions", "organizations_url": "https://api.github.com/users/IamJeffG/orgs", "repos_url": "https://api.github.com/users/IamJeffG/repos", "events_url": "https://api.github.com/users/IamJeffG/events{/privacy}", "received_events_url": "https://api.github.com/users/IamJeffG/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/42", "html_url": "https://github.com/rasterio/rasterio/milestone/42", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/42/labels", "id": 1550069, "node_id": "MDk6TWlsZXN0b25lMTU1MDA2OQ==", "number": 42, "title": "0.32", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 26, "state": "closed", "created_at": "2016-01-28T22:09:29Z", "updated_at": "2016-03-23T02:10:18Z", "due_on": null, "closed_at": "2016-03-23T02:10:18Z"}, "comments": 1, "created_at": "2016-01-06T21:41:21Z", "updated_at": "2016-01-28T22:22:22Z", "closed_at": "2016-01-06T23:08:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/537", "html_url": "https://github.com/rasterio/rasterio/pull/537", "diff_url": "https://github.com/rasterio/rasterio/pull/537.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/537.patch", "merged_at": "2016-01-06T23:08:29Z"}, "body": "... because read_band is deprecated.  This PR does not remove the read_band function itself or its tests.\n\nSmall progress toward #516\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/537/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/535", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/535/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/535/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/535/events", "html_url": "https://github.com/rasterio/rasterio/pull/535", "id": 123554778, "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ0MTQxMzA=", "number": 535, "title": "Tiny formatting fix in rio merge help text", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/42", "html_url": "https://github.com/rasterio/rasterio/milestone/42", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/42/labels", "id": 1550069, "node_id": "MDk6TWlsZXN0b25lMTU1MDA2OQ==", "number": 42, "title": "0.32", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 26, "state": "closed", "created_at": "2016-01-28T22:09:29Z", "updated_at": "2016-03-23T02:10:18Z", "due_on": null, "closed_at": "2016-03-23T02:10:18Z"}, "comments": 1, "created_at": "2015-12-22T20:57:38Z", "updated_at": "2016-01-28T22:22:22Z", "closed_at": "2015-12-22T21:09:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/535", "html_url": "https://github.com/rasterio/rasterio/pull/535", "diff_url": "https://github.com/rasterio/rasterio/pull/535.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/535.patch", "merged_at": "2015-12-22T21:09:21Z"}, "body": "Needed a `\\b` for to disable click text wrapping.\n\n@sgillies @brendan-ward @perrygeo \n\nMalformed:\n\n```\n  Note: --res changed from 2 parameters in 0.25.   --res 0.1 0.1  => --res\n  0.1 (square)   --res 0.1 0.2  => --res 0.1 --res 0.2  (rectangular)\n```\n\nFixed:\n\n```\n  Note: --res changed from 2 parameters in 0.25.\n\n    --res 0.1 0.1  => --res 0.1 (square)\n    --res 0.1 0.2  => --res 0.1 --res 0.2  (rectangular)\n\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/535/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/535/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/533", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/533/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/533/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/533/events", "html_url": "https://github.com/rasterio/rasterio/pull/533", "id": 122727570, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM5NzE0NDI=", "number": 533, "title": "Fix boundless offsets", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/41", "html_url": "https://github.com/rasterio/rasterio/milestone/41", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/41/labels", "id": 1465707, "node_id": "MDk6TWlsZXN0b25lMTQ2NTcwNw==", "number": 41, "title": "0.31", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2015-12-17T20:34:51Z", "updated_at": "2015-12-18T21:42:23Z", "due_on": null, "closed_at": "2015-12-18T21:42:23Z"}, "comments": 1, "created_at": "2015-12-17T12:42:46Z", "updated_at": "2015-12-18T17:46:47Z", "closed_at": "2015-12-17T21:09:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/533", "html_url": "https://github.com/rasterio/rasterio/pull/533", "diff_url": "https://github.com/rasterio/rasterio/pull/533.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/533.patch", "merged_at": "2015-12-17T21:09:38Z"}, "body": "Closes #532 \n\nIn determining where to put the valid data in the output array of a boundless read, this fixes the offsets to be dependent only on the col/row start.\n\nReady to merge.\n\n/cc @sgillies @dnomadb \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/533/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/532", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/532/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/532/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/532/events", "html_url": "https://github.com/rasterio/rasterio/issues/532", "id": 122622850, "node_id": "MDU6SXNzdWUxMjI2MjI4NTA=", "number": 532, "title": "boundless read pixel shifting", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-12-16T22:58:07Z", "updated_at": "2015-12-17T21:09:38Z", "closed_at": "2015-12-17T21:09:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Given a window with `((row_start, row_stop), (col_start, col_stop))`, if  the `stop` index is greater than the width/height, the `start` index effectively shifts as well. \n\nTo reproduce, inspect our test fixture\n\n```\n$ rio insp tests/data/rgb4.tif\nRasterio 0.30.0 Interactive Inspector (Python 2.7.10)\nType \"src.meta\", \"src.read(1)\", or \"help(src)\" for more information.\n>>> src.width\n392\n>>> src.height\n319\n```\n\nRead the first ten columns of a single row, first with the full width\n\n```\n>>> src.read(boundless=True, window=((100, 101), (0, 392)))[0, 0, 0:9]\narray([ 34,  48,  31,   9,  40, 183,  33, 227,  64], dtype=uint8)\n```\n\nThen move the col start to the left, the stop index shouldn't matter\n\n```\n>>> src.read(boundless=True, window=((100, 101), (-1, 392)))[0, 0, 0:9]\narray([  0,  34,  48,  31,   9,  40, 183,  33, 227], dtype=uint8)\n>>> src.read(boundless=True, window=((100, 101), (-1, 391)))[0, 0, 0:9]\narray([  0,  34,  48,  31,   9,  40, 183,  33, 227], dtype=uint8)\n>>> src.read(boundless=True, window=((100, 101), (-1, 55)))[0, 0, 0:9]\narray([  0,  34,  48,  31,   9,  40, 183,  33, 227], dtype=uint8)\n```\n\nBut it does when it exceeds the width\n\n```\n>>> src.read(boundless=True, window=((100, 101), (-1, 393)))[0, 0, 0:9]\narray([  0,   0,  34,  48,  31,   9,  40, 183,  33], dtype=uint8)\n```\n\nThe same thing happens on the other dimension\n\n```\n>>> src.read(boundless=True, window=((0, 319), (100, 101)))[0, 0:9, 0]\narray([22, 19, 19, 19, 19, 18, 21, 18, 18], dtype=uint8)\n>>> src.read(boundless=True, window=((-1, 319), (100, 101)))[0, 0:9, 0]\narray([ 0, 22, 19, 19, 19, 19, 18, 21, 18], dtype=uint8)\n>>> src.read(boundless=True, window=((-1, 320), (100, 101)))[0, 0:9, 0]\narray([ 0,  0, 22, 19, 19, 19, 19, 18, 21], dtype=uint8)\n>>> src.read(boundless=True, window=((-1, 318), (100, 101)))[0, 0:9, 0]\narray([ 0, 22, 19, 19, 19, 19, 18, 21, 18], dtype=uint8)\n```\n\nAnd the shift gets worse the more stop exceeds the height\n\n```\n>>> src.read(boundless=True, window=((-1, 325), (100, 101)))[0, 0:9, 0]\narray([ 0,  0,  0,  0,  0,  0,  0, 22, 19], dtype=uint8)\n```\n\nThis can manifest itself in pixel misalignment if, e.g. you read block windows with a bit of padding to avoid edge effects. \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/532/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/529", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/529/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/529/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/529/events", "html_url": "https://github.com/rasterio/rasterio/issues/529", "id": 117869852, "node_id": "MDU6SXNzdWUxMTc4Njk4NTI=", "number": 529, "title": "Shush rasterio-numpy warnings", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/41", "html_url": "https://github.com/rasterio/rasterio/milestone/41", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/41/labels", "id": 1465707, "node_id": "MDk6TWlsZXN0b25lMTQ2NTcwNw==", "number": 41, "title": "0.31", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2015-12-17T20:34:51Z", "updated_at": "2015-12-18T21:42:23Z", "due_on": null, "closed_at": "2015-12-18T21:42:23Z"}, "comments": 1, "created_at": "2015-11-19T17:55:12Z", "updated_at": "2015-12-18T17:46:47Z", "closed_at": "2015-11-19T22:59:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is coming up all the time on OS X: `RuntimeWarning: numpy.dtype size changed, may indicate binary incompatibility`. I think part of the answer is to upgrade Numpy (currently 1.9.3) to the latest and greatest in my wheel building environment.\n\nIn https://github.com/sgillies/frs-wheel-builds/blob/master/Makefile#L46 you can see that I'm relying on versions specified in a rasterio `requirements-dev.txt` file. In that file,\n\nhttps://github.com/mapbox/rasterio/blob/master/requirements-dev.txt#L6\n\nI'll try `numpy>=1.10`.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/529/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/529/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/526", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/526/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/526/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/526/events", "html_url": "https://github.com/rasterio/rasterio/issues/526", "id": 117001594, "node_id": "MDU6SXNzdWUxMTcwMDE1OTQ=", "number": 526, "title": "Test coverage is mis-reported for rio modules", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 337782406, "node_id": "MDU6TGFiZWwzMzc3ODI0MDY=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/testing", "name": "testing", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 8, "created_at": "2015-11-15T16:21:21Z", "updated_at": "2018-09-21T15:42:56Z", "closed_at": "2018-09-21T14:58:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Discovered in #522. \n\nSpecific blocks of code in `rio/features.pyx` and likely others are showing different coverage results if the same `rio` function is called once or twice in a given test function.\n\nPreliminary investigations suggest this is due to interactions between `click` and `coverage` modules, and not based on anything in `pytest` or our use of test fixtures. \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/526/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/524", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/524/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/524/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/524/events", "html_url": "https://github.com/rasterio/rasterio/issues/524", "id": 116489124, "node_id": "MDU6SXNzdWUxMTY0ODkxMjQ=", "number": 524, "title": "Affine is not properly saved into new GeoTIFF", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/41", "html_url": "https://github.com/rasterio/rasterio/milestone/41", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/41/labels", "id": 1465707, "node_id": "MDk6TWlsZXN0b25lMTQ2NTcwNw==", "number": 41, "title": "0.31", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2015-12-17T20:34:51Z", "updated_at": "2015-12-18T21:42:23Z", "due_on": null, "closed_at": "2015-12-18T21:42:23Z"}, "comments": 16, "created_at": "2015-11-12T06:34:06Z", "updated_at": "2015-12-18T17:57:48Z", "closed_at": "2015-12-18T17:57:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm seeing unexpected behavior when writing a GeoTIFF.  The affine property is correct at the time of writing, but immediately reopening that file shows an affine property with an opposite direction for the Y coordinates.\n\nResults are same if we set the `transform` property in `kwargs`, or both.  \n\n```\nkwargs = {\n    'crs': {'init': 'epsg:4326'},\n    'affine': Affine(1, 0, 0, 0, -1, 0),\n    'count': 1,\n    'dtype': rasterio.uint8,\n    'driver': 'GTiff',\n    'width': image.shape[1],\n    'height': image.shape[0],\n    'nodata': 255\n}\nwith rasterio.open(outfilename, 'w', **kwargs) as out:\n    print(out.affine) # => Affine(1.0, 0.0, 0.0, 0.0, -1.0, 0.0)\n\nwith rasterio.open(outfilename) as src:\n    print(out.affine) # => Affine(1.0, 0.0, 0.0, 0.0, 1.0, 0.0)\n```\n\nOddly enough, using `kwargs` derived from another raster (e.g., `tests/data/RGB.byte.tif`) works as expected.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/524/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/521", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/521/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/521/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/521/events", "html_url": "https://github.com/rasterio/rasterio/pull/521", "id": 115406286, "node_id": "MDExOlB1bGxSZXF1ZXN0NDk5MDA2Njc=", "number": 521, "title": "Guard against block sizes larger than window sizes", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/40", "html_url": "https://github.com/rasterio/rasterio/milestone/40", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/40/labels", "id": 1407487, "node_id": "MDk6TWlsZXN0b25lMTQwNzQ4Nw==", "number": 40, "title": "0.30", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2015-11-11T22:28:50Z", "updated_at": "2015-12-18T17:42:17Z", "due_on": null, "closed_at": "2015-12-18T17:42:17Z"}, "comments": 2, "created_at": "2015-11-06T00:19:18Z", "updated_at": "2016-03-08T18:11:45Z", "closed_at": "2015-11-06T10:32:25Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/521", "html_url": "https://github.com/rasterio/rasterio/pull/521", "diff_url": "https://github.com/rasterio/rasterio/pull/521.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/521.patch", "merged_at": "2015-11-06T10:32:25Z"}, "body": "Closes #520\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/521/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/518", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/518/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/518/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/518/events", "html_url": "https://github.com/rasterio/rasterio/pull/518", "id": 114117494, "node_id": "MDExOlB1bGxSZXF1ZXN0NDkxODEyMzA=", "number": 518, "title": "rm ipython as default from rio insp docstring", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/40", "html_url": "https://github.com/rasterio/rasterio/milestone/40", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/40/labels", "id": 1407487, "node_id": "MDk6TWlsZXN0b25lMTQwNzQ4Nw==", "number": 40, "title": "0.30", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2015-11-11T22:28:50Z", "updated_at": "2015-12-18T17:42:17Z", "due_on": null, "closed_at": "2015-12-18T17:42:17Z"}, "comments": 3, "created_at": "2015-10-29T18:33:09Z", "updated_at": "2015-11-11T22:29:03Z", "closed_at": "2015-11-02T21:47:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/518", "html_url": "https://github.com/rasterio/rasterio/pull/518", "diff_url": "https://github.com/rasterio/rasterio/pull/518.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/518.patch", "merged_at": "2015-11-02T21:47:19Z"}, "body": "The `rio insp` docstring says \n\n> IPython will be used as the default interpreter, if available.\n\n~~Let's do that!~~ Let's change the docstring since that's not the case\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/518/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/518/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/503", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/503/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/503/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/503/events", "html_url": "https://github.com/rasterio/rasterio/pull/503", "id": 112863579, "node_id": "MDExOlB1bGxSZXF1ZXN0NDg0OTQ5NDg=", "number": 503, "title": "No blocksizes in untiled profiles", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/39", "html_url": "https://github.com/rasterio/rasterio/milestone/39", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/39/labels", "id": 1371199, "node_id": "MDk6TWlsZXN0b25lMTM3MTE5OQ==", "number": 39, "title": "0.29", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2015-10-22T20:13:52Z", "updated_at": "2015-10-23T15:51:30Z", "due_on": null, "closed_at": "2015-10-23T15:51:30Z"}, "comments": 5, "created_at": "2015-10-22T18:34:03Z", "updated_at": "2015-10-22T20:14:01Z", "closed_at": "2015-10-22T20:13:59Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/503", "html_url": "https://github.com/rasterio/rasterio/pull/503", "diff_url": "https://github.com/rasterio/rasterio/pull/503.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/503.patch", "merged_at": "2015-10-22T20:13:59Z"}, "body": "Making sure that block sizes never appear in `profile` for untiled rasters feels like the right way to fix this one.\n\nThis PR also adds an `is_tiled` property and converts CLI creation option keys and values to lower case. It also converts our shade.tif file to 256x256 tiled form.\n\nCloses #502\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/503/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/502", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/502/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/502/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/502/events", "html_url": "https://github.com/rasterio/rasterio/issues/502", "id": 112852905, "node_id": "MDU6SXNzdWUxMTI4NTI5MDU=", "number": 502, "title": "`rio merge --co TILED=YES` not producing tiled output", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/40", "html_url": "https://github.com/rasterio/rasterio/milestone/40", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/40/labels", "id": 1407487, "node_id": "MDk6TWlsZXN0b25lMTQwNzQ4Nw==", "number": 40, "title": "0.30", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2015-11-11T22:28:50Z", "updated_at": "2015-12-18T17:42:17Z", "due_on": null, "closed_at": "2015-12-18T17:42:17Z"}, "comments": 4, "created_at": "2015-10-22T17:35:59Z", "updated_at": "2015-11-11T22:29:03Z", "closed_at": "2015-10-22T20:13:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Specifically in the case where its inputs are stripped, not tiled, TIFFs. The signature of this bug is a GDAL error like\n\n```\nERROR:GDAL:CPLE_AppDefined in _TIFFVSetField:/private/tmp/combined2.tif: Bad value 600 for \"TileWidth\" tag\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/502/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/499", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/499/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/499/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/499/events", "html_url": "https://github.com/rasterio/rasterio/issues/499", "id": 112462229, "node_id": "MDU6SXNzdWUxMTI0NjIyMjk=", "number": 499, "title": "Abort trap error when using Rasterio with Matplotlib Basemap", "user": {"login": "greencoder", "id": 239861, "node_id": "MDQ6VXNlcjIzOTg2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/239861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/greencoder", "html_url": "https://github.com/greencoder", "followers_url": "https://api.github.com/users/greencoder/followers", "following_url": "https://api.github.com/users/greencoder/following{/other_user}", "gists_url": "https://api.github.com/users/greencoder/gists{/gist_id}", "starred_url": "https://api.github.com/users/greencoder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/greencoder/subscriptions", "organizations_url": "https://api.github.com/users/greencoder/orgs", "repos_url": "https://api.github.com/users/greencoder/repos", "events_url": "https://api.github.com/users/greencoder/events{/privacy}", "received_events_url": "https://api.github.com/users/greencoder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 5, "created_at": "2015-10-20T21:14:12Z", "updated_at": "2018-09-21T15:44:16Z", "closed_at": "2018-09-21T14:56:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I import rasterio before instantiating a matplotlib basemap, I get an abort trap:\n\n```\n$ python\nPython 2.7.10 (default, Jul 14 2015, 19:46:27) \n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> \n>>> import rasterio\n>>> from mpl_toolkits.basemap import Basemap\n>>> \n>>> basemap = Basemap(projection='merc', llcrnrlat=15, urcrnrlat=60, llcrnrlon=-135, urcrnrlon=-65, lat_ts=20)\nAssertion failed: (0), function query, file AbstractSTRtree.cpp, line 285.\nAbort trap: 6\n```\n\nIf I move the `import rasterio` call down after I instantiate a Basemap object, then I don't get the abort trap.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/494", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/494/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/494/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/494/events", "html_url": "https://github.com/rasterio/rasterio/issues/494", "id": 110680160, "node_id": "MDU6SXNzdWUxMTA2ODAxNjA=", "number": 494, "title": "memory leak in reproject()?", "user": {"login": "weatherfrog", "id": 8851056, "node_id": "MDQ6VXNlcjg4NTEwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/8851056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weatherfrog", "html_url": "https://github.com/weatherfrog", "followers_url": "https://api.github.com/users/weatherfrog/followers", "following_url": "https://api.github.com/users/weatherfrog/following{/other_user}", "gists_url": "https://api.github.com/users/weatherfrog/gists{/gist_id}", "starred_url": "https://api.github.com/users/weatherfrog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weatherfrog/subscriptions", "organizations_url": "https://api.github.com/users/weatherfrog/orgs", "repos_url": "https://api.github.com/users/weatherfrog/repos", "events_url": "https://api.github.com/users/weatherfrog/events{/privacy}", "received_events_url": "https://api.github.com/users/weatherfrog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/42", "html_url": "https://github.com/rasterio/rasterio/milestone/42", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/42/labels", "id": 1550069, "node_id": "MDk6TWlsZXN0b25lMTU1MDA2OQ==", "number": 42, "title": "0.32", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 26, "state": "closed", "created_at": "2016-01-28T22:09:29Z", "updated_at": "2016-03-23T02:10:18Z", "due_on": null, "closed_at": "2016-03-23T02:10:18Z"}, "comments": 14, "created_at": "2015-10-09T15:21:01Z", "updated_at": "2016-03-17T08:46:51Z", "closed_at": "2016-03-16T21:54:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible that rasterio is leaking memory? The following plot shows increasing memory consumption of a script that iteratively calls `rasterio.reproject()`:\n![memusage](https://cloud.githubusercontent.com/assets/8851056/10397544/8b9b6728-6ea8-11e5-8078-5ba4e04449ad.png)\n\nTested with rasterio 0.28.0, numpy 1.10.0 on Python 3.4/2.7 on 64-bit Ubuntu 14.04.\n\nHere's the code that produces the above figure:\n\n``` python\n\"\"\"\nDemonstrates a potential memory leak in rasterio\n\"\"\"\n\nimport os\nfrom itertools import product\n\nimport psutil\nimport numpy as np\nimport rasterio\nfrom rasterio import transform\nfrom rasterio.warp import reproject, RESAMPLING\nfrom matplotlib import pyplot as plt\n\n\ndef main():\n    \"\"\"\n    reproject an image to different sizes, plot memory consumption\n    \"\"\"\n    mem_usage = []\n    widths = heights = range(100, 900, 50)\n    for width, height in product(widths, heights):\n        mem = get_memory_usage()\n        mem_usage.append(mem)\n        print(\"### memory usage: {:.2f} kB\".format(mem))\n        print(\"reprojecting image to {} x {}\".format(width, height))\n        call_reproject(width, height)\n\n    x = np.arange(0, len(mem_usage))\n    plt.plot(x, mem_usage)\n    plt.xlabel(\"# reprojections\")\n    plt.ylabel(\"memory consumption in kB\")\n    image_path = \"/tmp/memusage.png\"\n    print(\"saved plot to {}\".format(image_path))\n    plt.savefig(image_path, dpi=70)\n\n\ndef get_memory_usage():\n    \"\"\"\n    Return memory usage of current process in kB\n    \"\"\"\n    process = psutil.Process(os.getpid())\n    mem = process.memory_info()[0] / float(2 ** 20)\n\n    return mem\n\n\ndef call_reproject(width, height):\n    \"\"\"\n    rasterio.reproject a random source image to size width x height\n    \"\"\"\n    # source image\n    img_shape = (4, 1000, 1200)\n    source = np.random.randint(1, 100, size=img_shape).astype(np.uint8)\n    # bounds of source\n    west, east, north, south = (-20009678, 20037508,\n                                11935768, -11935768)\n\n    # fix some arbitrary destination bounds\n    low_x, high_x, low_y, high_y = (-20009678, 20037508,\n                                    -11753184, 11753184)\n    with rasterio.drivers():\n        _, rows, cols = source.shape\n        src_transform = transform.from_bounds(west=west, south=south,\n                                              east=east, north=north,\n                                              width=cols, height=rows)\n        src_crs = dst_crs = {'init': 'epsg:3857'}\n        dst_transform = transform.from_bounds(west=low_x, south=low_y,\n                                              east=high_x, north=high_y,\n                                              width=width, height=height)\n        dst_shape = (source.shape[0], height, width)\n        destination = np.empty(dst_shape, np.uint8)\n        reproject(source, destination,\n                  src_transform=src_transform, src_crs=src_crs,\n                  dst_transform=dst_transform, dst_crs=dst_crs,\n                  resampling=RESAMPLING.nearest)\n\n\nif __name__ == \"__main__\":\n    main()\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/494/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/493", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/493/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/493/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/493/events", "html_url": "https://github.com/rasterio/rasterio/issues/493", "id": 110077632, "node_id": "MDU6SXNzdWUxMTAwNzc2MzI=", "number": 493, "title": "Test failure with Numpy 1.10.0", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/40", "html_url": "https://github.com/rasterio/rasterio/milestone/40", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/40/labels", "id": 1407487, "node_id": "MDk6TWlsZXN0b25lMTQwNzQ4Nw==", "number": 40, "title": "0.30", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2015-11-11T22:28:50Z", "updated_at": "2015-12-18T17:42:17Z", "due_on": null, "closed_at": "2015-12-18T17:42:17Z"}, "comments": 2, "created_at": "2015-10-06T19:02:10Z", "updated_at": "2015-11-11T22:29:03Z", "closed_at": "2015-10-22T04:49:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Accidentally upgraded virtualenv to Numpy 1.10.0 and we have one test failure to figure out\n\n```\n=================================== FAILURES ===================================\n_____________________________ test_multiband_calc ______________________________\n\ntmpdir = local('/private/var/folders/zq/fv6jds3j4wb_0z0zh35xky_c0000gn/T/pytest-of-sean/pytest-67/test_multiband_calc0')\n\n    def test_multiband_calc(tmpdir):\n        outfile = str(tmpdir.join('out.tif'))\n        runner = CliRunner()\n        result = runner.invoke(calc, [\n                    '(+ 125 (* 0.1 (read 1)))', 'tests/data/shade.tif', outfile],\n                    catch_exceptions=False)\n        assert result.exit_code == 0\n        with rasterio.open(outfile) as src:\n            assert src.count == 1\n            assert src.meta['dtype'] == 'uint8'\n            data = src.read(masked=True)\n            assert data.min() == 125\n>           assert data.data[0][0][0] == 255\nE           assert 125 == 255\n\ntests/test_rio_calc.py:34: AssertionError\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/493/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/491", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/491/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/491/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/491/events", "html_url": "https://github.com/rasterio/rasterio/issues/491", "id": 109926947, "node_id": "MDU6SXNzdWUxMDk5MjY5NDc=", "number": 491, "title": "0.28 release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/38", "html_url": "https://github.com/rasterio/rasterio/milestone/38", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/38/labels", "id": 1339490, "node_id": "MDk6TWlsZXN0b25lMTMzOTQ5MA==", "number": 38, "title": "0.28", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2015-10-06T03:05:36Z", "updated_at": "2015-10-06T19:15:10Z", "due_on": null, "closed_at": "2015-10-06T19:15:10Z"}, "comments": 0, "created_at": "2015-10-06T03:06:57Z", "updated_at": "2015-10-06T19:14:59Z", "closed_at": "2015-10-06T19:14:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Emergency bug fix release. I shipped 0.27.0 with no `tools` module :(\n- [x] close issues\n- [x] tag\n- [x] upload dists\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/491/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/490", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/490/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/490/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/490/events", "html_url": "https://github.com/rasterio/rasterio/pull/490", "id": 109919564, "node_id": "MDExOlB1bGxSZXF1ZXN0NDY4NTQyNjk=", "number": 490, "title": "Add rasterio.tools to install packages.", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 158815511, "node_id": "MDU6TGFiZWwxNTg4MTU1MTE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/packaging", "name": "packaging", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/38", "html_url": "https://github.com/rasterio/rasterio/milestone/38", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/38/labels", "id": 1339490, "node_id": "MDk6TWlsZXN0b25lMTMzOTQ5MA==", "number": 38, "title": "0.28", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2015-10-06T03:05:36Z", "updated_at": "2015-10-06T19:15:10Z", "due_on": null, "closed_at": "2015-10-06T19:15:10Z"}, "comments": 0, "created_at": "2015-10-06T01:35:10Z", "updated_at": "2015-10-06T03:06:06Z", "closed_at": "2015-10-06T03:06:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/490", "html_url": "https://github.com/rasterio/rasterio/pull/490", "diff_url": "https://github.com/rasterio/rasterio/pull/490.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/490.patch", "merged_at": "2015-10-06T03:06:03Z"}, "body": "Closes #489 \n\nReady @sgillies\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/490/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/489", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/489/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/489/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/489/events", "html_url": "https://github.com/rasterio/rasterio/issues/489", "id": 109903732, "node_id": "MDU6SXNzdWUxMDk5MDM3MzI=", "number": 489, "title": "rio merge error", "user": {"login": "dnomadb", "id": 5084513, "node_id": "MDQ6VXNlcjUwODQ1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5084513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dnomadb", "html_url": "https://github.com/dnomadb", "followers_url": "https://api.github.com/users/dnomadb/followers", "following_url": "https://api.github.com/users/dnomadb/following{/other_user}", "gists_url": "https://api.github.com/users/dnomadb/gists{/gist_id}", "starred_url": "https://api.github.com/users/dnomadb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dnomadb/subscriptions", "organizations_url": "https://api.github.com/users/dnomadb/orgs", "repos_url": "https://api.github.com/users/dnomadb/repos", "events_url": "https://api.github.com/users/dnomadb/events{/privacy}", "received_events_url": "https://api.github.com/users/dnomadb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-10-05T23:04:10Z", "updated_at": "2015-10-06T03:36:40Z", "closed_at": "2015-10-06T03:06:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When running `rio merge` on the latest version (`0.27`), I am receiving this error:\n\n```\nTraceback (most recent call last):\n  File \"/Users/dnomadb/venv/bin/rio\", line 11, in <module>\n    sys.exit(main_group())\n  File \"/Users/dnomadb/venv/lib/python2.7/site-packages/click/core.py\", line 700, in __call__\n    return self.main(*args, **kwargs)\n  File \"/Users/dnomadb/venv/lib/python2.7/site-packages/click/core.py\", line 680, in main\n    rv = self.invoke(ctx)\n  File \"/Users/dnomadb/venv/lib/python2.7/site-packages/click/core.py\", line 1027, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n  File \"/Users/dnomadb/venv/lib/python2.7/site-packages/click/core.py\", line 873, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File \"/Users/dnomadb/venv/lib/python2.7/site-packages/click/core.py\", line 508, in invoke\n    return callback(*args, **kwargs)\n  File \"/Users/dnomadb/venv/lib/python2.7/site-packages/click/decorators.py\", line 16, in new_func\n    return f(get_current_context(), *args, **kwargs)\n  File \"/Users/dnomadb/venv/lib/python2.7/site-packages/rasterio/rio/merge.py\", line 54, in merge\n    from rasterio.tools.merge import merge as merge_tool\nImportError: No module named tools.merge\n```\n\nWhen reverting back to `0.26`, I don't see it and the operation completes as expected.\n\ncc @sgillies \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/489/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/489/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/485", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/485/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/485/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/485/events", "html_url": "https://github.com/rasterio/rasterio/pull/485", "id": 108028767, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU4NDUwNzg=", "number": 485, "title": "Perrygeo's window full cover", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167170, "node_id": "MDU6TGFiZWw2NDE2NzE3MA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/enhancement", "name": "enhancement", "color": "00449e", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/37", "html_url": "https://github.com/rasterio/rasterio/milestone/37", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/37/labels", "id": 1320551, "node_id": "MDk6TWlsZXN0b25lMTMyMDU1MQ==", "number": 37, "title": "0.27", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2015-09-23T15:21:01Z", "updated_at": "2015-09-25T16:18:20Z", "due_on": null, "closed_at": "2015-09-25T16:18:20Z"}, "comments": 5, "created_at": "2015-09-23T23:42:25Z", "updated_at": "2015-09-25T15:26:20Z", "closed_at": "2015-09-25T15:26:18Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/485", "html_url": "https://github.com/rasterio/rasterio/pull/485", "diff_url": "https://github.com/rasterio/rasterio/pull/485.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/485.patch", "merged_at": "2015-09-25T15:26:18Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/485/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/485/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/480", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/480/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/480/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/480/events", "html_url": "https://github.com/rasterio/rasterio/pull/480", "id": 107578858, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU1ODcxNDI=", "number": 480, "title": "Ensure uniqueness of rio-shapes feature ids.", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/40", "html_url": "https://github.com/rasterio/rasterio/milestone/40", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/40/labels", "id": 1407487, "node_id": "MDk6TWlsZXN0b25lMTQwNzQ4Nw==", "number": 40, "title": "0.30", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2015-11-11T22:28:50Z", "updated_at": "2015-12-18T17:42:17Z", "due_on": null, "closed_at": "2015-12-18T17:42:17Z"}, "comments": 1, "created_at": "2015-09-21T19:10:08Z", "updated_at": "2015-11-11T22:29:03Z", "closed_at": "2015-09-22T03:19:37Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/480", "html_url": "https://github.com/rasterio/rasterio/pull/480", "diff_url": "https://github.com/rasterio/rasterio/pull/480.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/480.patch", "merged_at": "2015-09-22T03:19:37Z"}, "body": "By using `enumerate()` and the filename. \n\nCloses #479.\n\nAlso got a speedup by pulling base name calculation out of the loop.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/480/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/480/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/479", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/479/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/479/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/479/events", "html_url": "https://github.com/rasterio/rasterio/issues/479", "id": 107573717, "node_id": "MDU6SXNzdWUxMDc1NzM3MTc=", "number": 479, "title": "rio-shapes ids are not unique", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/37", "html_url": "https://github.com/rasterio/rasterio/milestone/37", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/37/labels", "id": 1320551, "node_id": "MDk6TWlsZXN0b25lMTMyMDU1MQ==", "number": 37, "title": "0.27", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2015-09-23T15:21:01Z", "updated_at": "2015-09-25T16:18:20Z", "due_on": null, "closed_at": "2015-09-25T16:18:20Z"}, "comments": 0, "created_at": "2015-09-21T18:45:24Z", "updated_at": "2015-09-23T15:47:47Z", "closed_at": "2015-09-22T03:19:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This leads to problems downstream.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/479/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/477", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/477/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/477/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/477/events", "html_url": "https://github.com/rasterio/rasterio/pull/477", "id": 105889754, "node_id": "MDExOlB1bGxSZXF1ZXN0NDQ3MTQxMjM=", "number": 477, "title": "fix overlap stop equal to zero bug, add tests", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-10T20:18:13Z", "updated_at": "2015-09-13T23:11:51Z", "closed_at": "2015-09-13T23:11:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/477", "html_url": "https://github.com/rasterio/rasterio/pull/477", "diff_url": "https://github.com/rasterio/rasterio/pull/477.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/477.patch", "merged_at": "2015-09-13T23:11:51Z"}, "body": "The overlap calculation logic had a bug when the `window[0][1]` or  `widow[1][1]` was equal to zero. The problem stems from the superfluous `or` statement which, in most cases, did absolutely nothing but in this particular edge case caused an error.\n\nResolves #476\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/477/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/477/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/476", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/476/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/476/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/476/events", "html_url": "https://github.com/rasterio/rasterio/issues/476", "id": 105869682, "node_id": "MDU6SXNzdWUxMDU4Njk2ODI=", "number": 476, "title": "ValueError with boundless read and zero indexes", "user": {"login": "perrygeo", "id": 1151287, "node_id": "MDQ6VXNlcjExNTEyODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1151287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perrygeo", "html_url": "https://github.com/perrygeo", "followers_url": "https://api.github.com/users/perrygeo/followers", "following_url": "https://api.github.com/users/perrygeo/following{/other_user}", "gists_url": "https://api.github.com/users/perrygeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/perrygeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perrygeo/subscriptions", "organizations_url": "https://api.github.com/users/perrygeo/orgs", "repos_url": "https://api.github.com/users/perrygeo/repos", "events_url": "https://api.github.com/users/perrygeo/events{/privacy}", "received_events_url": "https://api.github.com/users/perrygeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/40", "html_url": "https://github.com/rasterio/rasterio/milestone/40", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/40/labels", "id": 1407487, "node_id": "MDk6TWlsZXN0b25lMTQwNzQ4Nw==", "number": 40, "title": "0.30", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2015-11-11T22:28:50Z", "updated_at": "2015-12-18T17:42:17Z", "due_on": null, "closed_at": "2015-12-18T17:42:17Z"}, "comments": 0, "created_at": "2015-09-10T18:29:44Z", "updated_at": "2015-11-11T22:29:03Z", "closed_at": "2015-09-13T23:11:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using a `read(..., boundless=True)` seems to work everywhere _except_ when the `row_stop` and `col_stop` are zero:\n\n``` python\n>>> src.shape\n(78, 84)\n>>> src.read(band, window=((-1, 1),(-1, 1)), boundless=True).shape\n(2, 2)\n>>> src.read(band, window=((-1, 1),(0, 2)), boundless=True).shape\n(2, 2)\n>>> src.read(band, window=((0, 1),(-1, 2)), boundless=True).shape\n(1, 3)\n>>> src.read(band, window=((-1, 0),(-1, 1)), boundless=True).shape\n*** ValueError: could not broadcast input array from shape (78,1) into shape (1,1)\n>>> src.read(band, window=((-1, 1),(-1, 0)), boundless=True).shape\n*** ValueError: could not broadcast input array from shape (1,84) into shape (1,1)\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/476/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/475", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/475/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/475/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/475/events", "html_url": "https://github.com/rasterio/rasterio/pull/475", "id": 104975223, "node_id": "MDExOlB1bGxSZXF1ZXN0NDQyNjQ1NDc=", "number": 475, "title": "Fixed bug with EPSG contained in a proj4 string", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/40", "html_url": "https://github.com/rasterio/rasterio/milestone/40", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/40/labels", "id": 1407487, "node_id": "MDk6TWlsZXN0b25lMTQwNzQ4Nw==", "number": 40, "title": "0.30", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2015-11-11T22:28:50Z", "updated_at": "2015-12-18T17:42:17Z", "due_on": null, "closed_at": "2015-12-18T17:42:17Z"}, "comments": 0, "created_at": "2015-09-04T21:45:28Z", "updated_at": "2015-11-11T22:29:03Z", "closed_at": "2015-09-09T01:23:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/475", "html_url": "https://github.com/rasterio/rasterio/pull/475", "diff_url": "https://github.com/rasterio/rasterio/pull/475.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/475.patch", "merged_at": "2015-09-09T01:23:43Z"}, "body": "Also added regression test.\n\nReady to go, pending Travis.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/475/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/458", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/458/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/458/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/458/events", "html_url": "https://github.com/rasterio/rasterio/pull/458", "id": 101488966, "node_id": "MDExOlB1bGxSZXF1ZXN0NDI2MjIwNjE=", "number": 458, "title": "Adjust tests to no longer fail on i386", "user": {"login": "johanvdw", "id": 868434, "node_id": "MDQ6VXNlcjg2ODQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/868434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johanvdw", "html_url": "https://github.com/johanvdw", "followers_url": "https://api.github.com/users/johanvdw/followers", "following_url": "https://api.github.com/users/johanvdw/following{/other_user}", "gists_url": "https://api.github.com/users/johanvdw/gists{/gist_id}", "starred_url": "https://api.github.com/users/johanvdw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johanvdw/subscriptions", "organizations_url": "https://api.github.com/users/johanvdw/orgs", "repos_url": "https://api.github.com/users/johanvdw/repos", "events_url": "https://api.github.com/users/johanvdw/events{/privacy}", "received_events_url": "https://api.github.com/users/johanvdw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/40", "html_url": "https://github.com/rasterio/rasterio/milestone/40", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/40/labels", "id": 1407487, "node_id": "MDk6TWlsZXN0b25lMTQwNzQ4Nw==", "number": 40, "title": "0.30", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2015-11-11T22:28:50Z", "updated_at": "2015-12-18T17:42:17Z", "due_on": null, "closed_at": "2015-12-18T17:42:17Z"}, "comments": 1, "created_at": "2015-08-17T19:02:21Z", "updated_at": "2015-11-11T22:29:03Z", "closed_at": "2015-08-17T19:13:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/458", "html_url": "https://github.com/rasterio/rasterio/pull/458", "diff_url": "https://github.com/rasterio/rasterio/pull/458.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/458.patch", "merged_at": "2015-08-17T19:13:12Z"}, "body": "See discussion on gdal-dev mailinglist:\nhttps://lists.osgeo.org/pipermail/gdal-dev/2015-August/042380.html\n\n\"Changing very slightly the test case should hopefully hide that annoyance.\"\n\nThis closes Bug #229 \n\nI tested on i386 and amd64.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/458/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/444", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/444/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/444/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/444/events", "html_url": "https://github.com/rasterio/rasterio/pull/444", "id": 98408509, "node_id": "MDExOlB1bGxSZXF1ZXN0NDEzNDc2ODQ=", "number": 444, "title": "Warn that alpha may be ignored instead of raising", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/36", "html_url": "https://github.com/rasterio/rasterio/milestone/36", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/36/labels", "id": 1227722, "node_id": "MDk6TWlsZXN0b25lMTIyNzcyMg==", "number": 36, "title": "0.26", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2015-07-27T15:57:41Z", "updated_at": "2015-08-12T05:15:27Z", "due_on": null, "closed_at": "2015-08-12T05:15:27Z"}, "comments": 1, "created_at": "2015-07-31T14:57:40Z", "updated_at": "2016-03-08T18:11:47Z", "closed_at": "2015-08-03T01:13:46Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/444", "html_url": "https://github.com/rasterio/rasterio/pull/444", "diff_url": "https://github.com/rasterio/rasterio/pull/444.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/444.patch", "merged_at": "2015-08-03T01:13:46Z"}, "body": "I think I may have made the situation worse in my previous commit to this method.\n\nCloses #395.\n\n@geowurster this is all the way ready. can you review?\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/444/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/441", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/441/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/441/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/441/events", "html_url": "https://github.com/rasterio/rasterio/pull/441", "id": 98210239, "node_id": "MDExOlB1bGxSZXF1ZXN0NDEyNTM3OTA=", "number": 441, "title": "removed errant comma in enums.py", "user": {"login": "youngpm", "id": 1379667, "node_id": "MDQ6VXNlcjEzNzk2Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/1379667?v=4", "gravatar_id": "", "url": "https://api.github.com/users/youngpm", "html_url": "https://github.com/youngpm", "followers_url": "https://api.github.com/users/youngpm/followers", "following_url": "https://api.github.com/users/youngpm/following{/other_user}", "gists_url": "https://api.github.com/users/youngpm/gists{/gist_id}", "starred_url": "https://api.github.com/users/youngpm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/youngpm/subscriptions", "organizations_url": "https://api.github.com/users/youngpm/orgs", "repos_url": "https://api.github.com/users/youngpm/repos", "events_url": "https://api.github.com/users/youngpm/events{/privacy}", "received_events_url": "https://api.github.com/users/youngpm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/36", "html_url": "https://github.com/rasterio/rasterio/milestone/36", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/36/labels", "id": 1227722, "node_id": "MDk6TWlsZXN0b25lMTIyNzcyMg==", "number": 36, "title": "0.26", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2015-07-27T15:57:41Z", "updated_at": "2015-08-12T05:15:27Z", "due_on": null, "closed_at": "2015-08-12T05:15:27Z"}, "comments": 1, "created_at": "2015-07-30T16:25:36Z", "updated_at": "2015-07-30T16:43:42Z", "closed_at": "2015-07-30T16:43:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/441", "html_url": "https://github.com/rasterio/rasterio/pull/441", "diff_url": "https://github.com/rasterio/rasterio/pull/441.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/441.patch", "merged_at": "2015-07-30T16:43:22Z"}, "body": "The Resampling.average enum value had a comma after it, which caused\nthat particular enum to map to a tuple instead of a string.  This broke\nthe use of the average kernel when making overviews.\n\nThis fixes issue #440, I added a test as well.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/441/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/439", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/439/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/439/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/439/events", "html_url": "https://github.com/rasterio/rasterio/pull/439", "id": 97832308, "node_id": "MDExOlB1bGxSZXF1ZXN0NDEwNzc2MDM=", "number": 439, "title": "use creation options when setting rgb", "user": {"login": "kapadia", "id": 581337, "node_id": "MDQ6VXNlcjU4MTMzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/581337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kapadia", "html_url": "https://github.com/kapadia", "followers_url": "https://api.github.com/users/kapadia/followers", "following_url": "https://api.github.com/users/kapadia/following{/other_user}", "gists_url": "https://api.github.com/users/kapadia/gists{/gist_id}", "starred_url": "https://api.github.com/users/kapadia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kapadia/subscriptions", "organizations_url": "https://api.github.com/users/kapadia/orgs", "repos_url": "https://api.github.com/users/kapadia/repos", "events_url": "https://api.github.com/users/kapadia/events{/privacy}", "received_events_url": "https://api.github.com/users/kapadia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/36", "html_url": "https://github.com/rasterio/rasterio/milestone/36", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/36/labels", "id": 1227722, "node_id": "MDk6TWlsZXN0b25lMTIyNzcyMg==", "number": 36, "title": "0.26", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2015-07-27T15:57:41Z", "updated_at": "2015-08-12T05:15:27Z", "due_on": null, "closed_at": "2015-08-12T05:15:27Z"}, "comments": 1, "created_at": "2015-07-29T00:57:51Z", "updated_at": "2015-08-03T00:52:54Z", "closed_at": "2015-08-03T00:42:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/439", "html_url": "https://github.com/rasterio/rasterio/pull/439", "diff_url": "https://github.com/rasterio/rasterio/pull/439.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/439.patch", "merged_at": "2015-08-03T00:42:57Z"}, "body": "@sgillies - I was receiving an error when using the new `--rgb` flag. This creation option wasn't being passed to the new file during an invocation of `rio convert`.\n\nIf you're inclined to reproduce the problem:\n\n``` shell\n# Create a uint16 file without an RGB color profile\nrio convert RGB.byte.tif --dtype uint16 --scale-ratio 257 RGB.uint16.tif\nrio convert RGB.uint16.tif out.tif --rgb\nTraceback (most recent call last):\n  File \"/Users/amitkapadia/anaconda/envs/pl/bin/rio\", line 9, in <module>\n    load_entry_point('rasterio==0.25.0', 'console_scripts', 'rio')()\n  File \"/Users/amitkapadia/anaconda/envs/pl/lib/python2.7/site-packages/click/core.py\", line 664, in __call__\n    return self.main(*args, **kwargs)\n  File \"/Users/amitkapadia/anaconda/envs/pl/lib/python2.7/site-packages/click/core.py\", line 644, in main\n    rv = self.invoke(ctx)\n  File \"/Users/amitkapadia/anaconda/envs/pl/lib/python2.7/site-packages/click/core.py\", line 991, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n  File \"/Users/amitkapadia/anaconda/envs/pl/lib/python2.7/site-packages/click/core.py\", line 837, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File \"/Users/amitkapadia/anaconda/envs/pl/lib/python2.7/site-packages/click/core.py\", line 464, in invoke\n    return callback(*args, **kwargs)\n  File \"/Users/amitkapadia/anaconda/envs/pl/lib/python2.7/site-packages/rasterio/rio/convert.py\", line 88, in convert\n    kwargs['photometric'] = photometric\nNameError: global name 'kwargs' is not defined\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/439/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/432", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/432/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/432/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/432/events", "html_url": "https://github.com/rasterio/rasterio/issues/432", "id": 97360207, "node_id": "MDU6SXNzdWU5NzM2MDIwNw==", "number": 432, "title": "MrSID appears to be registered but throws an IOError", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/43", "html_url": "https://github.com/rasterio/rasterio/milestone/43", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/43/labels", "id": 1627182, "node_id": "MDk6TWlsZXN0b25lMTYyNzE4Mg==", "number": 43, "title": "post 1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2016-03-07T20:30:56Z", "updated_at": "2022-11-18T17:26:00Z", "due_on": null, "closed_at": "2022-11-18T17:26:00Z"}, "comments": 1, "created_at": "2015-07-26T23:59:52Z", "updated_at": "2018-09-21T15:43:36Z", "closed_at": "2018-09-21T14:55:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Attempt to call `rio info`:\n\n``` console\nBelafonte:ortho_imagery_NAIPM14_wv003_2931124_01 wursterk$ rio info ortho_imagery-ortho_1-1_1n_s_wv003_2014_1.sid\nERROR:GDAL:CPLE_OpenFailed in `/Users/wursterk/Desktop/ortho_imagery_NAIPM14_wv003_2931124_01/ortho_imagery-ortho_1-1_1n_s_wv003_2014_1.sid' not recognised as a supported file format.\n\nERROR:rio:Exception caught during processing\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/site-packages/rasterio/rio/info.py\", line 277, in info\n    with rasterio.open(input, mode) as src:\n  File \"/usr/local/lib/python2.7/site-packages/rasterio/__init__.py\", line 118, in open\n    s.start()\n  File \"rasterio/_base.pyx\", line 67, in rasterio._base.DatasetReader.start (rasterio/_base.c:2307)\n  File \"rasterio/_err.pyx\", line 67, in rasterio._err.GDALErrCtxManager.__exit__ (rasterio/_err.c:944)\nIOError: `/Users/wursterk/Desktop/ortho_imagery_NAIPM14_wv003_2931124_01/ortho_imagery-ortho_1-1_1n_s_wv003_2014_1.sid' not recognised as a supported file format.\n\nAborted!\n```\n\nProof of registration:\n\n``` console\nBelafonte:ortho_imagery_NAIPM14_wv003_2931124_01 wursterk$ rio env | grep SID\nJP2MrSID: MrSID JPEG2000\nMG4Lidar: MrSID Generation 4 / Lidar (.sid)\nMrSID: Multi-resolution Seamless Image Database (MrSID)\n\nBelafonte:ortho_imagery_NAIPM14_wv003_2931124_01 wursterk$ gdalinfo --formats | grep SID\n  MG4Lidar (ro): MrSID Generation 4 / Lidar (.sid)\n  MrSID (rov): Multi-resolution Seamless Image Database (MrSID)\n  JP2MrSID (rov): MrSID JPEG2000\n```\n\nWith `gdalinfo`:\n\n``` console\nBelafonte:ortho_imagery_NAIPM14_wv003_2931124_01 wursterk$ gdalinfo ortho_imagery-ortho_1-1_1n_s_wv003_2014_1.sid | head -4\nDriver: MrSID/Multi-resolution Seamless Image Database (MrSID)\nFiles: ortho_imagery-ortho_1-1_1n_s_wv003_2014_1.sid\n       ortho_imagery-ortho_1-1_1n_s_wv003_2014_1.sdw\nSize is 38718, 43134\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/432/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/430", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/430/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/430/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/430/events", "html_url": "https://github.com/rasterio/rasterio/issues/430", "id": 97072647, "node_id": "MDU6SXNzdWU5NzA3MjY0Nw==", "number": 430, "title": "Adjust affine.EPSILON to allow matrix inversion when working with a numerically small cell size", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351216760, "node_id": "MDU6TGFiZWwzNTEyMTY3NjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/intermediate", "name": "intermediate", "color": "1d76db", "default": false, "description": null}, {"id": 351217999, "node_id": "MDU6TGFiZWwzNTEyMTc5OTk=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/proj", "name": "proj", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 3, "created_at": "2015-07-24T15:04:42Z", "updated_at": "2016-04-08T20:01:16Z", "closed_at": "2016-04-08T20:01:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The affine transformation for a mid to high resolution image in a geographic CRS creates an affine transformation that cannot be inverted.  The default affine settings think the matrix will collapse to an effective area of zero, even though in reality it represents a large area.\n\nTwo proposed solutions so far by @sgillies: incorporate an `affine.EPSILON` value into the CRS, or adjust the value when affine is import in `rasterio.transform`.\n\nFor reference:\n- Default `affine.EPSILON` is `1e-5`.\n- Landsat 8 scene with center point at `(-78.44728303391639, 38.892281158941344)` is `-9.990276844954696e-08`.\n- NAIP dataset with a center point at `(-78.25038895262065, 39.56306925990321)` is `-1.0719267342552452e-10`.\n\nSee https://github.com/sgillies/affine/issues/16 for some more background.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/430/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/430/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/423", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/423/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/423/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/423/events", "html_url": "https://github.com/rasterio/rasterio/pull/423", "id": 96736583, "node_id": "MDExOlB1bGxSZXF1ZXN0NDA2MzkwMTY=", "number": 423, "title": "Minor documentation updates", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/40", "html_url": "https://github.com/rasterio/rasterio/milestone/40", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/40/labels", "id": 1407487, "node_id": "MDk6TWlsZXN0b25lMTQwNzQ4Nw==", "number": 40, "title": "0.30", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2015-11-11T22:28:50Z", "updated_at": "2015-12-18T17:42:17Z", "due_on": null, "closed_at": "2015-12-18T17:42:17Z"}, "comments": 0, "created_at": "2015-07-23T05:48:12Z", "updated_at": "2015-11-11T22:29:03Z", "closed_at": "2015-07-23T11:41:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/423", "html_url": "https://github.com/rasterio/rasterio/pull/423", "diff_url": "https://github.com/rasterio/rasterio/pull/423.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/423.patch", "merged_at": "2015-07-23T11:41:06Z"}, "body": "No functional changes in this one, only documentation.\n- standardized references to rio commands in cli.rst\n- added new example to reproject.rst\n- fixed pyramid->overview in rio-overview docstring and cli.rst.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/423/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/420", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/420/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/420/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/420/events", "html_url": "https://github.com/rasterio/rasterio/issues/420", "id": 95768819, "node_id": "MDU6SXNzdWU5NTc2ODgxOQ==", "number": 420, "title": "No difference between \"chief\" GDALEnv and \"not-responsible\" GDALEnv", "user": {"login": "kjordahl", "id": 499079, "node_id": "MDQ6VXNlcjQ5OTA3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/499079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kjordahl", "html_url": "https://github.com/kjordahl", "followers_url": "https://api.github.com/users/kjordahl/followers", "following_url": "https://api.github.com/users/kjordahl/following{/other_user}", "gists_url": "https://api.github.com/users/kjordahl/gists{/gist_id}", "starred_url": "https://api.github.com/users/kjordahl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kjordahl/subscriptions", "organizations_url": "https://api.github.com/users/kjordahl/orgs", "repos_url": "https://api.github.com/users/kjordahl/repos", "events_url": "https://api.github.com/users/kjordahl/events{/privacy}", "received_events_url": "https://api.github.com/users/kjordahl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/35", "html_url": "https://github.com/rasterio/rasterio/milestone/35", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/35/labels", "id": 1221914, "node_id": "MDk6TWlsZXN0b25lMTIyMTkxNA==", "number": 35, "title": "0.33", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2015-07-23T11:40:52Z", "updated_at": "2016-04-01T21:18:26Z", "due_on": null, "closed_at": "2016-04-01T21:18:26Z"}, "comments": 1, "created_at": "2015-07-18T00:12:23Z", "updated_at": "2016-03-31T22:13:54Z", "closed_at": "2016-03-31T22:13:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It looks like there is no effect of the [check](06e6e79485f) for existing drivers when opening a new driver context. It does [set the `is_chef` attribute](https://github.com/mapbox/rasterio/blob/6b02fd304d10995cff818729abe47f28bd7a33b5/rasterio/_drivers.pyx#L78) on the env, but that attribute appears to never be used for anything.\n\nThere was some logic that used this for cleanup, but it was removed in 06e6e79 (see #91).\n\nIs this just zombie logic now, or might this be used again in the future?\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/420/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/420/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/419", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/419/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/419/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/419/events", "html_url": "https://github.com/rasterio/rasterio/issues/419", "id": 95739843, "node_id": "MDU6SXNzdWU5NTczOTg0Mw==", "number": 419, "title": "window() and window_bounds() roundtrip failure", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/34", "html_url": "https://github.com/rasterio/rasterio/milestone/34", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/34/labels", "id": 1186045, "node_id": "MDk6TWlsZXN0b25lMTE4NjA0NQ==", "number": 34, "title": "0.25", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2015-06-29T20:52:04Z", "updated_at": "2015-07-17T22:35:37Z", "due_on": null, "closed_at": "2015-07-17T22:35:37Z"}, "comments": 0, "created_at": "2015-07-17T20:40:05Z", "updated_at": "2015-07-17T21:36:48Z", "closed_at": "2015-07-17T21:36:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is a bug in 0.25.\n\n``` python\n>>> with rasterio.drivers():\n...     with rasterio.open('tests/data/RGB.byte.tif') as src:\n...         print src.window(*src.window_bounds(((100, 200), (100, 200))))\n...\n((99, 200), (100, 199))\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/419/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/418", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/418/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/418/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/418/events", "html_url": "https://github.com/rasterio/rasterio/pull/418", "id": 95518440, "node_id": "MDExOlB1bGxSZXF1ZXN0NDAxNzEwMDc=", "number": 418, "title": "update rio insp help", "user": {"login": "kapadia", "id": 581337, "node_id": "MDQ6VXNlcjU4MTMzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/581337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kapadia", "html_url": "https://github.com/kapadia", "followers_url": "https://api.github.com/users/kapadia/followers", "following_url": "https://api.github.com/users/kapadia/following{/other_user}", "gists_url": "https://api.github.com/users/kapadia/gists{/gist_id}", "starred_url": "https://api.github.com/users/kapadia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kapadia/subscriptions", "organizations_url": "https://api.github.com/users/kapadia/orgs", "repos_url": "https://api.github.com/users/kapadia/repos", "events_url": "https://api.github.com/users/kapadia/events{/privacy}", "received_events_url": "https://api.github.com/users/kapadia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/34", "html_url": "https://github.com/rasterio/rasterio/milestone/34", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/34/labels", "id": 1186045, "node_id": "MDk6TWlsZXN0b25lMTE4NjA0NQ==", "number": 34, "title": "0.25", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2015-06-29T20:52:04Z", "updated_at": "2015-07-17T22:35:37Z", "due_on": null, "closed_at": "2015-07-17T22:35:37Z"}, "comments": 1, "created_at": "2015-07-16T20:17:47Z", "updated_at": "2015-07-16T21:53:33Z", "closed_at": "2015-07-16T21:51:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/418", "html_url": "https://github.com/rasterio/rasterio/pull/418", "diff_url": "https://github.com/rasterio/rasterio/pull/418.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/418.patch", "merged_at": "2015-07-16T21:51:31Z"}, "body": "updates info printed when using `rio insp`.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/418/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/415", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/415/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/415/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/415/events", "html_url": "https://github.com/rasterio/rasterio/issues/415", "id": 95300332, "node_id": "MDU6SXNzdWU5NTMwMDMzMg==", "number": 415, "title": "Improve error messages when methods needing drivers are called out of context", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/34", "html_url": "https://github.com/rasterio/rasterio/milestone/34", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/34/labels", "id": 1186045, "node_id": "MDk6TWlsZXN0b25lMTE4NjA0NQ==", "number": 34, "title": "0.25", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2015-06-29T20:52:04Z", "updated_at": "2015-07-17T22:35:37Z", "due_on": null, "closed_at": "2015-07-17T22:35:37Z"}, "comments": 0, "created_at": "2015-07-15T22:03:17Z", "updated_at": "2015-07-16T04:06:26Z", "closed_at": "2015-07-16T04:06:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For example, if you call `reproject()` without a driver context like\n\n``` python\nfrom rasterio.warp import reproject\n\nreproject(...)\n```\n\nYou will get the exception at https://github.com/mapbox/rasterio/blob/6b02fd304d10995cff818729abe47f28bd7a33b5/rasterio/_warp.pyx/#L260-262.\n\nThe exception should but doesn't tell you that you need to do this:\n\n``` python\nimport rasterio\nfrom rasterio.warp import reproject\n\nwith rasterio.drivers():\n    reproject(...)\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/415/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/411", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/411/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/411/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/411/events", "html_url": "https://github.com/rasterio/rasterio/issues/411", "id": 94370038, "node_id": "MDU6SXNzdWU5NDM3MDAzOA==", "number": 411, "title": "Confusing API between 'affine' vs 'transform' in write mode.", "user": {"login": "IamJeffG", "id": 2002703, "node_id": "MDQ6VXNlcjIwMDI3MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/2002703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IamJeffG", "html_url": "https://github.com/IamJeffG", "followers_url": "https://api.github.com/users/IamJeffG/followers", "following_url": "https://api.github.com/users/IamJeffG/following{/other_user}", "gists_url": "https://api.github.com/users/IamJeffG/gists{/gist_id}", "starred_url": "https://api.github.com/users/IamJeffG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IamJeffG/subscriptions", "organizations_url": "https://api.github.com/users/IamJeffG/orgs", "repos_url": "https://api.github.com/users/IamJeffG/repos", "events_url": "https://api.github.com/users/IamJeffG/events{/privacy}", "received_events_url": "https://api.github.com/users/IamJeffG/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/34", "html_url": "https://github.com/rasterio/rasterio/milestone/34", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/34/labels", "id": 1186045, "node_id": "MDk6TWlsZXN0b25lMTE4NjA0NQ==", "number": 34, "title": "0.25", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2015-06-29T20:52:04Z", "updated_at": "2015-07-17T22:35:37Z", "due_on": null, "closed_at": "2015-07-17T22:35:37Z"}, "comments": 1, "created_at": "2015-07-10T18:58:29Z", "updated_at": "2015-07-11T04:53:32Z", "closed_at": "2015-07-11T04:53:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As documented on `docs/georeferencing.rst`,\n\n> In Rasterio 1.0, the value of a transform attribute will be an instance of Affine\n> and the affine attribute will remain as an alias.\n\nThis is true when opening a file in read mode. However in write mode, `affine` is not an alias for `transform`.\n\n```\nimport rasterio, numpy as np\nfrom affine import Affine\narr = np.eye(10, dtype=np.uint8)\n\ntransform = Affine.translation(200, 200) * Affine.scale(5, -5)\nkwargs = dict(height=10, width=10, driver='GTiff', dtype='uint8', count=1, affine=transform)\n\nwith rasterio.drivers():\n    with rasterio.open('/tmp/test.tif', 'w', **kwargs) as dst:\n        dst.write_band(1, arr)\n#$ gdalinfo /tmp/test.tif\n# missing geotransform!!\n\nkwargs.update(transform=kwargs['affine'])\nwith rasterio.drivers():\n    with rasterio.open('/tmp/test2.tif', 'w', **kwargs) as dst:\n        dst.write_band(1, arr)\n#$ gdalinfo /tmp/test2.tif\n# Origin = (200.000000000000000,200.000000000000000)\n# Pixel Size = (5.000000000000000,-5.000000000000000)\n```\n\nI would expect the first write (to `/tmp/test.tif`) to successfully write the geotransform metadata, or at least issue a warning that I really need to use the `transform` kwarg instead.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/411/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/411/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/395", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/395/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/395/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/395/events", "html_url": "https://github.com/rasterio/rasterio/issues/395", "id": 92214820, "node_id": "MDU6SXNzdWU5MjIxNDgyMA==", "number": 395, "title": "Raise error when writing an RGBA colormap to a paletted TIFF", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/33", "html_url": "https://github.com/rasterio/rasterio/milestone/33", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/33/labels", "id": 1161341, "node_id": "MDk6TWlsZXN0b25lMTE2MTM0MQ==", "number": 33, "title": "0.24.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-06-12T05:13:19Z", "updated_at": "2015-08-03T01:13:46Z", "due_on": null, "closed_at": "2015-07-01T02:34:01Z"}, "comments": 3, "created_at": "2015-06-30T22:24:33Z", "updated_at": "2015-08-03T01:13:46Z", "closed_at": "2015-08-03T01:13:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Instead of failing silently. See #394.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/395/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/394", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/394/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/394/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/394/events", "html_url": "https://github.com/rasterio/rasterio/issues/394", "id": 92177938, "node_id": "MDU6SXNzdWU5MjE3NzkzOA==", "number": 394, "title": "Colormaps always have 255 alpha channel", "user": {"login": "drewbo", "id": 7108211, "node_id": "MDQ6VXNlcjcxMDgyMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/7108211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drewbo", "html_url": "https://github.com/drewbo", "followers_url": "https://api.github.com/users/drewbo/followers", "following_url": "https://api.github.com/users/drewbo/following{/other_user}", "gists_url": "https://api.github.com/users/drewbo/gists{/gist_id}", "starred_url": "https://api.github.com/users/drewbo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drewbo/subscriptions", "organizations_url": "https://api.github.com/users/drewbo/orgs", "repos_url": "https://api.github.com/users/drewbo/repos", "events_url": "https://api.github.com/users/drewbo/events{/privacy}", "received_events_url": "https://api.github.com/users/drewbo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/33", "html_url": "https://github.com/rasterio/rasterio/milestone/33", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/33/labels", "id": 1161341, "node_id": "MDk6TWlsZXN0b25lMTE2MTM0MQ==", "number": 33, "title": "0.24.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-06-12T05:13:19Z", "updated_at": "2015-08-03T01:13:46Z", "due_on": null, "closed_at": "2015-07-01T02:34:01Z"}, "comments": 3, "created_at": "2015-06-30T19:21:33Z", "updated_at": "2015-07-01T17:32:51Z", "closed_at": "2015-06-30T22:23:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently adding [NDVI to landsat-util](https://github.com/developmentseed/landsat-util/blob/feature/ndvi-calc/landsat/ndvi.py); we want no-data values to appear as transparent and have tried two variations (not assigning 0 value, assigning 0 value to `(x,x,x,0)`) in the colormap. When running:\n\n```\ngdal_translate -of VRT ~/test_NDVI.TIF outColorTable.vrt\n```\n\nthe header of the VRT appears as:\n\n```\n<Metadata />\n<NoDataValue>0.00000000000000E+00</NoDataValue>\n<ColorInterp>Palette</ColorInterp>\n<ColorTable>\n  <Entry c1=\"0\" c2=\"0\" c3=\"0\" c4=\"255\" />\n```\n\nNote: It appears correctly in QGIS (which retains no-data values as a separate distinction) but for other purposes, like tiling/rendering on mapbox, it will shows as either white/black depending on the RGB values assigned to the 0 value of the colormap.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/394/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/391", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/391/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/391/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/391/events", "html_url": "https://github.com/rasterio/rasterio/issues/391", "id": 92109312, "node_id": "MDU6SXNzdWU5MjEwOTMxMg==", "number": 391, "title": "rio shapes --sampling results are shifted", "user": {"login": "johanvdw", "id": 868434, "node_id": "MDQ6VXNlcjg2ODQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/868434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johanvdw", "html_url": "https://github.com/johanvdw", "followers_url": "https://api.github.com/users/johanvdw/followers", "following_url": "https://api.github.com/users/johanvdw/following{/other_user}", "gists_url": "https://api.github.com/users/johanvdw/gists{/gist_id}", "starred_url": "https://api.github.com/users/johanvdw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johanvdw/subscriptions", "organizations_url": "https://api.github.com/users/johanvdw/orgs", "repos_url": "https://api.github.com/users/johanvdw/repos", "events_url": "https://api.github.com/users/johanvdw/events{/privacy}", "received_events_url": "https://api.github.com/users/johanvdw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/34", "html_url": "https://github.com/rasterio/rasterio/milestone/34", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/34/labels", "id": 1186045, "node_id": "MDk6TWlsZXN0b25lMTE4NjA0NQ==", "number": 34, "title": "0.25", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2015-06-29T20:52:04Z", "updated_at": "2015-07-17T22:35:37Z", "due_on": null, "closed_at": "2015-07-17T22:35:37Z"}, "comments": 3, "created_at": "2015-06-30T14:28:22Z", "updated_at": "2015-07-11T06:03:34Z", "closed_at": "2015-07-11T06:03:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When making an overlay between results with different sampling densities it is clear that there is a shift especially for larger values, especially check the lower right corner:\n![shiftedimage](https://cloud.githubusercontent.com/assets/868434/8432907/22a25786-1f43-11e5-9da4-d62d976febdc.jpg)\n\nrio shapes tests/data/shade.tif --sampling 1 >amd64-1.geojson\nrio shapes tests/data/shade.tif --sampling 10 >amd64-10.geojson\nrio shapes tests/data/shade.tif --sampling 50 >amd64-50.geojson\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/391/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/389", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/389/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/389/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/389/events", "html_url": "https://github.com/rasterio/rasterio/pull/389", "id": 91920440, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg4MjI4MDQ=", "number": 389, "title": "Fix calculation with Numpy <1.9", "user": {"login": "johanvdw", "id": 868434, "node_id": "MDQ6VXNlcjg2ODQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/868434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johanvdw", "html_url": "https://github.com/johanvdw", "followers_url": "https://api.github.com/users/johanvdw/followers", "following_url": "https://api.github.com/users/johanvdw/following{/other_user}", "gists_url": "https://api.github.com/users/johanvdw/gists{/gist_id}", "starred_url": "https://api.github.com/users/johanvdw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johanvdw/subscriptions", "organizations_url": "https://api.github.com/users/johanvdw/orgs", "repos_url": "https://api.github.com/users/johanvdw/repos", "events_url": "https://api.github.com/users/johanvdw/events{/privacy}", "received_events_url": "https://api.github.com/users/johanvdw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/33", "html_url": "https://github.com/rasterio/rasterio/milestone/33", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/33/labels", "id": 1161341, "node_id": "MDk6TWlsZXN0b25lMTE2MTM0MQ==", "number": 33, "title": "0.24.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-06-12T05:13:19Z", "updated_at": "2015-08-03T01:13:46Z", "due_on": null, "closed_at": "2015-07-01T02:34:01Z"}, "comments": 0, "created_at": "2015-06-29T22:03:04Z", "updated_at": "2015-06-30T21:04:17Z", "closed_at": "2015-06-30T21:04:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/389", "html_url": "https://github.com/rasterio/rasterio/pull/389", "diff_url": "https://github.com/rasterio/rasterio/pull/389.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/389.patch", "merged_at": "2015-06-30T21:04:17Z"}, "body": "This is a possible solution for #380 : Some failing tests when building using Numpy 1.8. After the calculation in snuggs, also the masked values are changed. \n\nWhen writing the data set, the changed values were written rather than the nodata values. \nOne can argue that this fix should go into snuggs instead, and a check for the numpy version could be added (to avoid large copies when using 1.9), but with this change in place at least all tests return the right result using Numpy 1.8.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/389/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/389/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/381", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/381/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/381/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/381/events", "html_url": "https://github.com/rasterio/rasterio/pull/381", "id": 88810238, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzc4MjkxNzE=", "number": 381, "title": "add missing input to rio edit-info example", "user": {"login": "jqtrde", "id": 192642, "node_id": "MDQ6VXNlcjE5MjY0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/192642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jqtrde", "html_url": "https://github.com/jqtrde", "followers_url": "https://api.github.com/users/jqtrde/followers", "following_url": "https://api.github.com/users/jqtrde/following{/other_user}", "gists_url": "https://api.github.com/users/jqtrde/gists{/gist_id}", "starred_url": "https://api.github.com/users/jqtrde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jqtrde/subscriptions", "organizations_url": "https://api.github.com/users/jqtrde/orgs", "repos_url": "https://api.github.com/users/jqtrde/repos", "events_url": "https://api.github.com/users/jqtrde/events{/privacy}", "received_events_url": "https://api.github.com/users/jqtrde/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/33", "html_url": "https://github.com/rasterio/rasterio/milestone/33", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/33/labels", "id": 1161341, "node_id": "MDk6TWlsZXN0b25lMTE2MTM0MQ==", "number": 33, "title": "0.24.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-06-12T05:13:19Z", "updated_at": "2015-08-03T01:13:46Z", "due_on": null, "closed_at": "2015-07-01T02:34:01Z"}, "comments": 0, "created_at": "2015-06-16T18:58:52Z", "updated_at": "2015-06-18T05:10:52Z", "closed_at": "2015-06-18T05:10:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/381", "html_url": "https://github.com/rasterio/rasterio/pull/381", "diff_url": "https://github.com/rasterio/rasterio/pull/381.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/381.patch", "merged_at": "2015-06-18T05:10:42Z"}, "body": "`rio edit-info --transform` was missing an `input.tif` to operate on. Added `example.tif`.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/381/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/381/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/380", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/380/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/380/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/380/events", "html_url": "https://github.com/rasterio/rasterio/issues/380", "id": 87837709, "node_id": "MDU6SXNzdWU4NzgzNzcwOQ==", "number": 380, "title": "Failing test when building on ubuntu/debian", "user": {"login": "johanvdw", "id": 868434, "node_id": "MDQ6VXNlcjg2ODQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/868434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johanvdw", "html_url": "https://github.com/johanvdw", "followers_url": "https://api.github.com/users/johanvdw/followers", "following_url": "https://api.github.com/users/johanvdw/following{/other_user}", "gists_url": "https://api.github.com/users/johanvdw/gists{/gist_id}", "starred_url": "https://api.github.com/users/johanvdw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johanvdw/subscriptions", "organizations_url": "https://api.github.com/users/johanvdw/orgs", "repos_url": "https://api.github.com/users/johanvdw/repos", "events_url": "https://api.github.com/users/johanvdw/events{/privacy}", "received_events_url": "https://api.github.com/users/johanvdw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/33", "html_url": "https://github.com/rasterio/rasterio/milestone/33", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/33/labels", "id": 1161341, "node_id": "MDk6TWlsZXN0b25lMTE2MTM0MQ==", "number": 33, "title": "0.24.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-06-12T05:13:19Z", "updated_at": "2015-08-03T01:13:46Z", "due_on": null, "closed_at": "2015-07-01T02:34:01Z"}, "comments": 8, "created_at": "2015-06-12T20:14:21Z", "updated_at": "2015-06-30T21:07:04Z", "closed_at": "2015-06-30T21:06:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\nWhen building on debian and ubuntu I get some failing tests. Anyone an idea where I should look? Full buildlog here: https://launchpadlibrarian.net/208113013/buildlog_ubuntu-trusty-amd64.rasterio_0.24.0-1~trusty_BUILDING.txt.gz\n\nNote that I get this error with different versions of gdal.\n\n```\n============================= test session starts ==============================\nplatform linux2 -- Python 2.7.6 -- pytest-2.5.1\ncollected 277 items\n\ntests/test_band.py .\ntests/test_band_masks.py .....\ntests/test_blocks.py ...........\ntests/test_colorinterp.py .\ntests/test_colormap.py .\ntests/test_coords.py ...\ntests/test_copy.py .\ntests/test_crs.py ........\ntests/test_driver_management.py ..\ntests/test_dtypes.py ...\ntests/test_features_bounds.py ......\ntests/test_features_rasterize.py ....\ntests/test_features_shapes.py .....\ntests/test_features_sieve.py ......\ntests/test_fillnodata.py ...\ntests/test_indexing.py ....\ntests/test_mask_creation.py ..\ntests/test_meta.py ...\ntests/test_no_georef.py ..\ntests/test_nodata.py ..\ntests/test_pad.py .\ntests/test_png.py .\ntests/test_profile.py ...............\ntests/test_read.py ..............\ntests/test_read_boundless.py .......\ntests/test_read_resample.py ..\ntests/test_revolvingdoor.py .\ntests/test_rio_bands.py .......\ntests/test_rio_calc.py .FFF.......\ntests/test_rio_cli.py ....\ntests/test_rio_features.py ....................\ntests/test_rio_info.py ........................\ntests/test_rio_merge.py ...........\ntests/test_rio_rio.py ...................\ntests/test_rio_sample.py .......\ntests/test_sampling.py ...\ntests/test_tags.py ....\ntests/test_tool.py ..\ntests/test_transform.py ....\ntests/test_update.py ........\ntests/test_warp.py .....................\ntests/test_write.py ..................\n\n=================================== FAILURES ===================================\n_____________________________ test_multiband_calc ______________________________\n\ntmpdir = local('/tmp/pytest-0/test_multiband_calc0')\n\n    def test_multiband_calc(tmpdir):\n        outfile = str(tmpdir.join('out.tif'))\n        runner = CliRunner()\n        result = runner.invoke(calc, [\n                    '(+ 125 (* 0.1 (read 1)))', 'tests/data/shade.tif', outfile],\n                    catch_exceptions=False)\n        assert result.exit_code == 0\n        with rasterio.open(outfile) as src:\n            assert src.count == 1\n            assert src.meta['dtype'] == 'uint8'\n            data = src.read(masked=True)\n>           assert data.min() == 125\nE           assert 0 == 125\nE            +  where 0 = <bound method MaskedArray.min of masked_array(data =\\n [[[0 0 0 ..., 125 125 12...lse]\\n  [False False False ..., False False False]]],\\n       fill_value = 255)\\n>()\nE            +    where <bound method MaskedArray.min of masked_array(data =\\n [[[0 0 0 ..., 125 125 12...lse]\\n  [False False False ..., False False False]]],\\n       fill_value = 255)\\n> = masked_array(data =\\n [[[0 0 0 ..., 125 125 125]\\n  [0 0 0 ..., 125 125 125]\\n  [...alse]\\n  [False False False ..., False False False]]],\\n       fill_value = 255)\\n.min\n\ntests/test_rio_calc.py:33: AssertionError\n------------------------------- Captured stderr --------------------------------\nDEBUG:rasterio:Creating a not-responsible GDALEnv in drivers()\nDEBUG:GDAL:Option CPL_DEBUG=OFF\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:all_valid: False\nDEBUG:rasterio:mask_flags: [8]\nDEBUG:rasterio:Option: ('BLOCKYSIZE', '8')\n\nDEBUG:rasterio:Option: ('BLOCKXSIZE', '1024')\n\nDEBUG:rasterio:Option: ('TILED', 'FALSE')\n\nDEBUG:rasterio:Input CRS: {'init': u'epsg:3857'}\nDEBUG:rasterio:Exported WKT: PROJCS[\"WGS 84 / Pseudo-Mercator\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Mercator_1SP\"],PARAMETER[\"central_meridian\",0],PARAMETER[\"scale_factor\",1],PARAMETER[\"false_easting\",0],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"X\",EAST],AXIS[\"Y\",NORTH],EXTENSION[\"PROJ4\",\"+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs\"],AUTHORITY[\"EPSG\",\"3857\"]]\nDEBUG:rasterio:Self CRS: {'init': u'epsg:3857'}\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:all_valid: False\nDEBUG:rasterio:mask_flags: [8]\n_________________________ test_singleband_calc_byindex _________________________\n\ntmpdir = local('/tmp/pytest-0/test_singleband_calc_byindex0')\n\n    def test_singleband_calc_byindex(tmpdir):\n        outfile = str(tmpdir.join('out.tif'))\n        runner = CliRunner()\n        result = runner.invoke(calc, [\n                        '(+ 125 (* 0.1 (read 1 1)))',\n                        'tests/data/shade.tif',\n                        outfile],\n                    catch_exceptions=False)\n        assert result.exit_code == 0\n        with rasterio.open(outfile) as src:\n            assert src.count == 1\n            assert src.meta['dtype'] == 'uint8'\n            data = src.read(masked=True)\n>           assert data.min() == 125\nE           assert 0 == 125\nE            +  where 0 = <bound method MaskedArray.min of masked_array(data =\\n [[[0 0 0 ..., 125 125 12...lse]\\n  [False False False ..., False False False]]],\\n       fill_value = 255)\\n>()\nE            +    where <bound method MaskedArray.min of masked_array(data =\\n [[[0 0 0 ..., 125 125 12...lse]\\n  [False False False ..., False False False]]],\\n       fill_value = 255)\\n> = masked_array(data =\\n [[[0 0 0 ..., 125 125 125]\\n  [0 0 0 ..., 125 125 125]\\n  [...alse]\\n  [False False False ..., False False False]]],\\n       fill_value = 255)\\n.min\n\ntests/test_rio_calc.py:51: AssertionError\n------------------------------- Captured stderr --------------------------------\nDEBUG:rasterio:Creating a not-responsible GDALEnv in drivers()\nDEBUG:GDAL:Option CPL_DEBUG=OFF\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:all_valid: False\nDEBUG:rasterio:mask_flags: [8]\nDEBUG:rasterio:Option: ('BLOCKYSIZE', '8')\n\nDEBUG:rasterio:Option: ('BLOCKXSIZE', '1024')\n\nDEBUG:rasterio:Option: ('TILED', 'FALSE')\n\nDEBUG:rasterio:Input CRS: {'init': u'epsg:3857'}\nDEBUG:rasterio:Exported WKT: PROJCS[\"WGS 84 / Pseudo-Mercator\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Mercator_1SP\"],PARAMETER[\"central_meridian\",0],PARAMETER[\"scale_factor\",1],PARAMETER[\"false_easting\",0],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"X\",EAST],AXIS[\"Y\",NORTH],EXTENSION[\"PROJ4\",\"+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs\"],AUTHORITY[\"EPSG\",\"3857\"]]\nDEBUG:rasterio:Self CRS: {'init': u'epsg:3857'}\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:all_valid: False\nDEBUG:rasterio:mask_flags: [8]\n_________________________ test_singleband_calc_byname __________________________\n\ntmpdir = local('/tmp/pytest-0/test_singleband_calc_byname0')\n\n    def test_singleband_calc_byname(tmpdir):\n        outfile = str(tmpdir.join('out.tif'))\n        runner = CliRunner()\n        result = runner.invoke(calc, [\n                        '(+ 125 (* 0.1 (take shade 1)))',\n                        '--name', 'shade=tests/data/shade.tif',\n                        outfile],\n                    catch_exceptions=False)\n        assert result.exit_code == 0\n        with rasterio.open(outfile) as src:\n            assert src.count == 1\n            assert src.meta['dtype'] == 'uint8'\n            data = src.read(masked=True)\n>           assert data.min() == 125\nE           assert 0 == 125\nE            +  where 0 = <bound method MaskedArray.min of masked_array(data =\\n [[[0 0 0 ..., 125 125 12...lse]\\n  [False False False ..., False False False]]],\\n       fill_value = 255)\\n>()\nE            +    where <bound method MaskedArray.min of masked_array(data =\\n [[[0 0 0 ..., 125 125 12...lse]\\n  [False False False ..., False False False]]],\\n       fill_value = 255)\\n> = masked_array(data =\\n [[[0 0 0 ..., 125 125 125]\\n  [0 0 0 ..., 125 125 125]\\n  [...alse]\\n  [False False False ..., False False False]]],\\n       fill_value = 255)\\n.min\n\ntests/test_rio_calc.py:67: AssertionError\n------------------------------- Captured stderr --------------------------------\nDEBUG:rasterio:Creating a not-responsible GDALEnv in drivers()\nDEBUG:GDAL:Option CPL_DEBUG=OFF\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:all_valid: False\nDEBUG:rasterio:mask_flags: [8]\nDEBUG:rasterio:Option: ('BLOCKYSIZE', '8')\n\nDEBUG:rasterio:Option: ('BLOCKXSIZE', '1024')\n\nDEBUG:rasterio:Option: ('TILED', 'FALSE')\n\nDEBUG:rasterio:Input CRS: {'init': u'epsg:3857'}\nDEBUG:rasterio:Exported WKT: PROJCS[\"WGS 84 / Pseudo-Mercator\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Mercator_1SP\"],PARAMETER[\"central_meridian\",0],PARAMETER[\"scale_factor\",1],PARAMETER[\"false_easting\",0],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"X\",EAST],AXIS[\"Y\",NORTH],EXTENSION[\"PROJ4\",\"+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs\"],AUTHORITY[\"EPSG\",\"3857\"]]\nDEBUG:rasterio:Self CRS: {'init': u'epsg:3857'}\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:Got coordinate system\nDEBUG:rasterio:all_valid: False\nDEBUG:rasterio:mask_flags: [8]\n==================== 3 failed, 274 passed in 25.95 seconds =====================\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/380/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/380/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/378", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/378/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/378/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/378/events", "html_url": "https://github.com/rasterio/rasterio/issues/378", "id": 87078128, "node_id": "MDU6SXNzdWU4NzA3ODEyOA==", "number": 378, "title": "type(src.sample(x, y)) can crash the interpreter", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/33", "html_url": "https://github.com/rasterio/rasterio/milestone/33", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/33/labels", "id": 1161341, "node_id": "MDk6TWlsZXN0b25lMTE2MTM0MQ==", "number": 33, "title": "0.24.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-06-12T05:13:19Z", "updated_at": "2015-08-03T01:13:46Z", "due_on": null, "closed_at": "2015-07-01T02:34:01Z"}, "comments": 4, "created_at": "2015-06-10T19:25:56Z", "updated_at": "2015-07-01T00:18:36Z", "closed_at": "2015-07-01T00:18:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "With 0.24, this crashes the python interpreter (2.7.10 on win7 64):\n\n```\nwith rasterio.open('tests/data/RGB.byte.tif') as src:\n    gen = src.sample([(220650.0, 2719200.0)])\n    t = type(gen)\n```\n\nWhile this does not:\n\n```\nwith rasterio.open('tests/data/RGB.byte.tif') as src:\n    gen = src.sample([(220650.0, 2719200.0)])\n    dir(gen)\n    t = type(gen)\n```\n\nFor what it is worth, this is what Win7 has to say: \n\n```\nProblem Event Name: APPCRASH\nApplication Name:   python.exe\nApplication Version:    0.0.0.0\nApplication Timestamp:  53b1ee02\nFault Module Name:  python27.dll\nFault Module Version:   2.7.10150.1013\nFault Module Timestamp: 5560ae51\nException Code: c0000005\nException Offset:   000000000003c03d\nOS Version: 6.1.7601.2.1.0.256.48\nLocale ID:  2057\nAdditional Information 1:   71f9\nAdditional Information 2:   71f90e5b5ae875552905dace5166bf3f\nAdditional Information 3:   f528\nAdditional Information 4:   f5289994fe35d1ec64093383b88ffe17\n```\n\nThanks to John of WingIDE support who pointed me to type()\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/378/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/367", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/367/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/367/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/367/events", "html_url": "https://github.com/rasterio/rasterio/pull/367", "id": 81259810, "node_id": "MDExOlB1bGxSZXF1ZXN0MzYyNjczMzI=", "number": 367, "title": "Remove sys.exit() calls.", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/32", "html_url": "https://github.com/rasterio/rasterio/milestone/32", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/32/labels", "id": 1112414, "node_id": "MDk6TWlsZXN0b25lMTExMjQxNA==", "number": 32, "title": "0.24", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2015-05-15T16:26:52Z", "updated_at": "2015-05-27T17:51:05Z", "due_on": null, "closed_at": "2015-05-27T17:51:05Z"}, "comments": 3, "created_at": "2015-05-27T03:58:00Z", "updated_at": "2015-05-27T16:16:21Z", "closed_at": "2015-05-27T16:16:18Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/367", "html_url": "https://github.com/rasterio/rasterio/pull/367", "diff_url": "https://github.com/rasterio/rasterio/pull/367.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/367.patch", "merged_at": "2015-05-27T16:16:18Z"}, "body": "Click will do this for us. If we raise click.Abort(), we get the proper return value of 1.\n\nCloses #350.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/367/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/353", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/353/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/353/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/353/events", "html_url": "https://github.com/rasterio/rasterio/issues/353", "id": 75833032, "node_id": "MDU6SXNzdWU3NTgzMzAzMg==", "number": 353, "title": "Need to override Command.invoke()", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 5, "created_at": "2015-05-13T03:47:24Z", "updated_at": "2015-06-04T03:45:20Z", "closed_at": "2015-06-04T03:45:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "in `BrokenCommand`, as in https://github.com/Toblerity/Fiona/pull/226.\n\nMaybe consider moving `BrokenCommand` and the custom group class to cligj?\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/353/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/353/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/350", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/350/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/350/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/350/events", "html_url": "https://github.com/rasterio/rasterio/issues/350", "id": 75651801, "node_id": "MDU6SXNzdWU3NTY1MTgwMQ==", "number": 350, "title": "Remove sys.exit() calls from rio commands", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/32", "html_url": "https://github.com/rasterio/rasterio/milestone/32", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/32/labels", "id": 1112414, "node_id": "MDk6TWlsZXN0b25lMTExMjQxNA==", "number": 32, "title": "0.24", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2015-05-15T16:26:52Z", "updated_at": "2015-05-27T17:51:05Z", "due_on": null, "closed_at": "2015-05-27T17:51:05Z"}, "comments": 8, "created_at": "2015-05-12T16:06:03Z", "updated_at": "2015-05-27T16:16:18Z", "closed_at": "2015-05-27T16:16:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Discussion with @geowurster in #349 concludes that `sys.exit()` calls in subcommands are not needed and are potential harmful.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/350/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/344", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/344/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/344/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/344/events", "html_url": "https://github.com/rasterio/rasterio/issues/344", "id": 72485049, "node_id": "MDU6SXNzdWU3MjQ4NTA0OQ==", "number": 344, "title": "0.22 release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 158815511, "node_id": "MDU6TGFiZWwxNTg4MTU1MTE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/packaging", "name": "packaging", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/29", "html_url": "https://github.com/rasterio/rasterio/milestone/29", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/29/labels", "id": 1091598, "node_id": "MDk6TWlsZXN0b25lMTA5MTU5OA==", "number": 29, "title": "0.22", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2015-04-30T19:32:13Z", "updated_at": "2015-05-07T20:18:34Z", "due_on": null, "closed_at": "2015-05-07T20:18:34Z"}, "comments": 0, "created_at": "2015-05-01T18:01:12Z", "updated_at": "2015-05-01T21:29:38Z", "closed_at": "2015-05-01T21:29:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Bug fix: #338. Release date, today.\n- [x] Update change log, version\n- [x] Tag\n- [x] Build dists\n- [x] Upload to PyPI\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/344/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/342", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/342/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/342/events", "html_url": "https://github.com/rasterio/rasterio/issues/342", "id": 70837007, "node_id": "MDU6SXNzdWU3MDgzNzAwNw==", "number": 342, "title": "Rio reproject introduces 0 values", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2015-04-25T01:36:20Z", "updated_at": "2015-05-20T16:18:04Z", "closed_at": "2015-05-20T16:18:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have a dataset with floating point values between 1.04 and 38.32\n\nWhen I reproject it from WGS 84 \n![rcp85_ensemble__0](https://cloud.githubusercontent.com/assets/3375604/7330888/e53d1f94-eaad-11e4-8ea5-9655814d620a.png)\n\nto something that involves some warping outside the original extent (e.g., UTM Zone 10N)\n![rcp85_ensemble__0](https://cloud.githubusercontent.com/assets/3375604/7330902/94d9fb84-eaae-11e4-899c-350c310d78e2.png)\n\nAreas outside the original extent are filled with 0 (black above), regardless of what I pass in as additional `kwargs` to `reproject`  (e.g., `INIT_DEST=100`).\n\nObviously, if 0 is not in my original value range, this is easy, but often 0 is a meaningful data value.\n\nMy instinct is that we are not setting [destination nodata values](http://www.gdal.org/structGDALWarpOptions.html#af39f33665c4eb2b22b89372c6bae009a) properly.  I'll investigate a fix.\n\nWe'll definitely want to sort this out for #264 \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/342/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/338", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/338/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/338/events", "html_url": "https://github.com/rasterio/rasterio/issues/338", "id": 70236868, "node_id": "MDU6SXNzdWU3MDIzNjg2OA==", "number": 338, "title": "Combining masked=True with boundless=True does not return a masked array.", "user": {"login": "geowurster", "id": 2676083, "node_id": "MDQ6VXNlcjI2NzYwODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2676083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geowurster", "html_url": "https://github.com/geowurster", "followers_url": "https://api.github.com/users/geowurster/followers", "following_url": "https://api.github.com/users/geowurster/following{/other_user}", "gists_url": "https://api.github.com/users/geowurster/gists{/gist_id}", "starred_url": "https://api.github.com/users/geowurster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geowurster/subscriptions", "organizations_url": "https://api.github.com/users/geowurster/orgs", "repos_url": "https://api.github.com/users/geowurster/repos", "events_url": "https://api.github.com/users/geowurster/events{/privacy}", "received_events_url": "https://api.github.com/users/geowurster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/29", "html_url": "https://github.com/rasterio/rasterio/milestone/29", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/29/labels", "id": 1091598, "node_id": "MDk6TWlsZXN0b25lMTA5MTU5OA==", "number": 29, "title": "0.22", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2015-04-30T19:32:13Z", "updated_at": "2015-05-07T20:18:34Z", "due_on": null, "closed_at": "2015-05-07T20:18:34Z"}, "comments": 2, "created_at": "2015-04-22T21:16:46Z", "updated_at": "2015-05-04T21:00:42Z", "closed_at": "2015-04-30T21:35:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "To recreate the condition generate a 10 x 10 pixel sample dataset with the 4 pixels in the upper left corner marked as nodata:\n\n``` python\nimport rasterio as rio\nimport numpy as np\n\nmeta = {\n    'width': 10,\n    'height': 10,\n    'dtype': rio.int16,\n    'driver': 'GTiff',\n    'count': 1,\n    'nodata': -9999\n}\n\ndata = np.random.randint(0, 100, size=(10, 10)).astype(meta['dtype'])\ndata[:2, :2] = meta['nodata']\n\nwith rio.open('masked-boundless-example.tif', 'w', **meta) as dst:\n    dst.write(data, indexes=1)\n```\n\nRead data with and without boundless:\n\n``` python\nwith rio.open('masked-boundless-example.tif') as src:\n\n    # Read entire image with masked=True and boundless=False\n    data = src.read(1, window=((0, 5), (0, 5)), boundless=False, masked=True)\n    print(data)\n    print(type(data))\n    print('')\n\n    # Read entire image with masked=True and boundless=True\n    data = src.read(1, window=((0, 5), (0, 5)), boundless=True, masked=True)\n    print(data)\n    print(type(data))\n    print('')\n\n    # Read entire image with an additional row and column of out of bounds data\n    # on left and top.\n    data = src.read(1, window=((-1, 5), (-1, 5)), boundless=True, masked=True)\n    print(data)\n    print(type(data))\n    print('')\n\n```\n\nOutput:\n\n``` python\n[[-- -- 23 68 6]\n [-- -- 99 73 27]\n [8 42 33 97 23]\n [38 58 62 13 47]\n [26 52 77 1 99]]\n<class 'numpy.ma.core.MaskedArray'>\n\n[[-9999 -9999    23    68     6]\n [-9999 -9999    99    73    27]\n [    8    42    33    97    23]\n [   38    58    62    13    47]\n [   26    52    77     1    99]]\n<class 'numpy.ndarray'>\n\n[[-9999 -9999 -9999 -9999 -9999 -9999]\n [-9999 -9999 -9999    23    68     6]\n [-9999 -9999 -9999    99    73    27]\n [-9999     8    42    33    97    23]\n [-9999    38    58    62    13    47]\n [-9999    26    52    77     1    99]]\n<class 'numpy.ndarray'>\n```\n\nAssuming this isn't intentional it looks like [mask creation](https://github.com/mapbox/rasterio/blob/master/rasterio/_io.pyx#L760) [doesn't happen](https://github.com/mapbox/rasterio/blob/master/rasterio/_io.pyx#L791) when `boundless=True`.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/338/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/335", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/335/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/335/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/335/events", "html_url": "https://github.com/rasterio/rasterio/issues/335", "id": 69929468, "node_id": "MDU6SXNzdWU2OTkyOTQ2OA==", "number": 335, "title": "--without-nodata option has no effect in combination with --band", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/28", "html_url": "https://github.com/rasterio/rasterio/milestone/28", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/28/labels", "id": 1079032, "node_id": "MDk6TWlsZXN0b25lMTA3OTAzMg==", "number": 28, "title": "0.21", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2015-04-22T14:52:03Z", "updated_at": "2015-04-30T19:31:51Z", "due_on": null, "closed_at": "2015-04-30T19:31:51Z"}, "comments": 0, "created_at": "2015-04-21T19:21:13Z", "updated_at": "2015-04-22T14:52:24Z", "closed_at": "2015-04-22T03:45:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "With the Rasterio test file `$ rio shapes --bidx 3 --as-mask tests/data/RGB.byte.tif` properly excludes the invalid data shapes when treating the 3rd band as a boolean mask. But I have another file where the invalid data shapes come through. It may have something to do with nodata values: RGB.byte.tif has `0` and the other file has `None`.\n\n/cc @dnomadb\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/335/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/331", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/331/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/331/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/331/events", "html_url": "https://github.com/rasterio/rasterio/issues/331", "id": 69435248, "node_id": "MDU6SXNzdWU2OTQzNTI0OA==", "number": 331, "title": "0.20.1 Release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-04-19T15:25:38Z", "updated_at": "2015-04-20T19:23:44Z", "closed_at": "2015-04-20T19:23:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Bug fix release. Allow nodata values to be covered (if not unset) by passing a single value to `write_mask()` #328.\n- [ ] Update docs\n- [ ] Bump version and changelog\n- [ ] Tag\n- [ ] Build and upload dists\n\nAlso email gdal-dev to discuss.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/331/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/329", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/329/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/329/events", "html_url": "https://github.com/rasterio/rasterio/issues/329", "id": 69199846, "node_id": "MDU6SXNzdWU2OTE5OTg0Ng==", "number": 329, "title": "Drop support for per-band nodatavals", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/28", "html_url": "https://github.com/rasterio/rasterio/milestone/28", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/28/labels", "id": 1079032, "node_id": "MDk6TWlsZXN0b25lMTA3OTAzMg==", "number": 28, "title": "0.21", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2015-04-22T14:52:03Z", "updated_at": "2015-04-30T19:31:51Z", "due_on": null, "closed_at": "2015-04-30T19:31:51Z"}, "comments": 3, "created_at": "2015-04-17T19:17:11Z", "updated_at": "2015-04-22T15:45:21Z", "closed_at": "2015-04-22T15:45:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "There's a GDAL issue that I've been ducking for a bit. Although the GDAL data model supports nodata values specific to invidual dataset bands, formats like GeoTIFF only support a single nodata value per dataset: http://trac.osgeo.org/gdal/ticket/2083. A consequence for code like the example in #328 is that the single metadata item would be reset three times (twice needlessly). We might consider dropping multiple nodatavals support from Rasterio since it's not widely implemented and has confused some users.\n\n/cc @brendan-ward @dnomadb @camillacaros \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/329/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/328", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/328/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/328/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/328/events", "html_url": "https://github.com/rasterio/rasterio/issues/328", "id": 69199469, "node_id": "MDU6SXNzdWU2OTE5OTQ2OQ==", "number": 328, "title": "Can't unset nodata metadata values", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 4, "created_at": "2015-04-17T19:14:54Z", "updated_at": "2015-10-27T19:51:31Z", "closed_at": "2015-04-19T04:07:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Code like:\n\n``` python\nwith rasterio.open(tiffname, 'r+') as f:\n    f.nodatavals = [None, None, None]\n```\n\nwhich ought to unset nodata values, raises `TypeError: a float is required`.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/328/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/325", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/325/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/325/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/325/events", "html_url": "https://github.com/rasterio/rasterio/issues/325", "id": 68746538, "node_id": "MDU6SXNzdWU2ODc0NjUzOA==", "number": 325, "title": "Convert --two_words options to --two-words", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167169, "node_id": "MDU6TGFiZWw2NDE2NzE2OQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 2, "created_at": "2015-04-15T17:56:20Z", "updated_at": "2015-04-15T18:17:32Z", "closed_at": "2015-04-15T18:17:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is about better classic [GNU](http://www.gnu.org/software/libc/manual/html_node/Argument-Syntax.html) style and fewer keystroke errors. See rio-transform, rio-rasterize, and other commands. This may mean leaving the old ones in there, which click will let us do.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/325/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/322", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/322/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/322/events", "html_url": "https://github.com/rasterio/rasterio/issues/322", "id": 67943268, "node_id": "MDU6SXNzdWU2Nzk0MzI2OA==", "number": 322, "title": "Dataset `shape` should be a 3-tuple", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 1, "created_at": "2015-04-12T18:47:46Z", "updated_at": "2016-05-04T17:55:40Z", "closed_at": "2016-05-04T17:55:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The shape of dataset and the shape of data _read_ from the dataset should have the same length and same elements. In other words, `src.shape != src.read().shape` is a bug.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/322/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/321", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/321/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/321/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/321/events", "html_url": "https://github.com/rasterio/rasterio/issues/321", "id": 67943136, "node_id": "MDU6SXNzdWU2Nzk0MzEzNg==", "number": 321, "title": "Make list type dataset properties immutable", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 351216675, "node_id": "MDU6TGFiZWwzNTEyMTY2NzU=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/good%20first%20issue", "name": "good first issue", "color": "0e8a16", "default": true, "description": null}, {"id": 351223620, "node_id": "MDU6TGFiZWwzNTEyMjM2MjA=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cython", "name": "cython", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 0, "created_at": "2015-04-12T18:45:48Z", "updated_at": "2016-04-11T16:52:45Z", "closed_at": "2016-04-11T16:52:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In other words, make them tuples. There's no good reason why `src.dtypes` should be mutable. Mutating it (changing one of the elements) has no impact on the dataset and can only cause trouble.\n\nI'd be surprised to find that we're mutating this in Rasterio, but it's a tripping hazard for those new to Rasterio and Python.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/321/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/317", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/317/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/317/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/317/events", "html_url": "https://github.com/rasterio/rasterio/pull/317", "id": 66668225, "node_id": "MDExOlB1bGxSZXF1ZXN0MzI2OTY5MzE=", "number": 317, "title": "Change read's default to masked=False", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/26", "html_url": "https://github.com/rasterio/rasterio/milestone/26", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/26/labels", "id": 1052118, "node_id": "MDk6TWlsZXN0b25lMTA1MjExOA==", "number": 26, "title": "0.20", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2015-04-03T18:39:01Z", "updated_at": "2015-04-20T19:23:59Z", "due_on": null, "closed_at": "2015-04-20T19:23:59Z"}, "comments": 6, "created_at": "2015-04-06T18:08:18Z", "updated_at": "2015-05-28T04:38:11Z", "closed_at": "2015-04-08T03:55:21Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/317", "html_url": "https://github.com/rasterio/rasterio/pull/317", "diff_url": "https://github.com/rasterio/rasterio/pull/317.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/317.patch", "merged_at": "2015-04-08T03:55:21Z"}, "body": "Closes #300 and also #285 (Mask Quest).\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/317/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/311", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/311/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/311/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/311/events", "html_url": "https://github.com/rasterio/rasterio/issues/311", "id": 66184229, "node_id": "MDU6SXNzdWU2NjE4NDIyOQ==", "number": 311, "title": "Missing masking option(s) for rio-calc", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/26", "html_url": "https://github.com/rasterio/rasterio/milestone/26", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/26/labels", "id": 1052118, "node_id": "MDk6TWlsZXN0b25lMTA1MjExOA==", "number": 26, "title": "0.20", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2015-04-03T18:39:01Z", "updated_at": "2015-04-20T19:23:59Z", "due_on": null, "closed_at": "2015-04-20T19:23:59Z"}, "comments": 0, "created_at": "2015-04-03T16:50:53Z", "updated_at": "2015-04-03T20:20:55Z", "closed_at": "2015-04-03T20:20:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, calc expressions are evaluated on arrays read with default masking. The default is going to change from `True` to `False` in 1.0, changing the results of calc expressions. Users need an option to specify whether they want expressions evaluated in masked array mode or not.\n\nAnd what do we call the non-masked array mode? \"Raw\" mode?\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/311/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/309", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/309/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/309/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/309/events", "html_url": "https://github.com/rasterio/rasterio/issues/309", "id": 65969716, "node_id": "MDU6SXNzdWU2NTk2OTcxNg==", "number": 309, "title": "Remove option of in place nodata filling", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/26", "html_url": "https://github.com/rasterio/rasterio/milestone/26", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/26/labels", "id": 1052118, "node_id": "MDk6TWlsZXN0b25lMTA1MjExOA==", "number": 26, "title": "0.20", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2015-04-03T18:39:01Z", "updated_at": "2015-04-20T19:23:59Z", "due_on": null, "closed_at": "2015-04-20T19:23:59Z"}, "comments": 0, "created_at": "2015-04-02T17:08:16Z", "updated_at": "2015-04-03T20:20:55Z", "closed_at": "2015-04-03T20:20:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Hey all,\n\nIn `rasterio.fill.fillnodata()` it is possible to modify a dataset band in place. I made this possible and am now rethinking it.\n## copy copy copy\n\nFirst, a little background: Rasterio is mainly about getting raster data out of files to operate on it using Python, Numpy, Scipy, and friends. But there are key GDAL algorithms that we also want to use: warping between cartographic projections, geographic feature extraction, and nodata filling. These algorithms are designed around GDAL raster bands, not Numpy arrays, and so calling them involves this kind of pipeline:\n\n```\n(1) Bytes on disk -> (2) GeoTIFF Driver -> (3) Numpy array -> (4) MEM Driver -> (5) Numpy array (result)\n```\n\nA dataset's `read()` method copies a raster band from the GDAL band cache to a Numpy array. `fillnodata()` copies that data again to an in-memory GDAL raster band (as well as creating other temporary in-memory raster bands), executes the filling algorithm, and copies that in-memory raster band one last time to a Numpy array for output.\n\nThis is not so efficient but has advantages. It's quite easy to reason about, for one.\n## shortcuts\n\nWe also have a shortcut: you can pass a `rasterio.Band` object (created by `rasterio.band()`) to `rasterio.features.sieve()`, `rasterio.features.shapes()`, and `rasterio.fill.fillnodata()` and eliminate 2 of those copies (3 and 4) above.\n## danger\n\nThe shortcut is as safe as it is fast _unless_ the GDAL algorithm edits the input raster in place as `GDALFillNodata()` does. There's no undo, so it's quite possible to screw up your data doing this. By design, Rasterio keeps all its I/O contained to a dataset's `read` and `write` methods and I violated this design principle in adding the shortcut to `fillnodata()`.\n\nI'm going to remove that shortcut unless you can convince me otherwise :)\n## the future\n\nThere are memory optimizations to be had without doing I/O in the middle of our programs. Let's find the good ones and implement them.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/309/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/309/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/307", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/307/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/307/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/307/events", "html_url": "https://github.com/rasterio/rasterio/issues/307", "id": 65524220, "node_id": "MDU6SXNzdWU2NTUyNDIyMA==", "number": 307, "title": "Dirty block error in fillnodata()", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-03-31T19:10:39Z", "updated_at": "2015-04-02T16:24:36Z", "closed_at": "2015-04-02T16:24:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Seeing some errors when calling `GDALFillNodata()` on large images.\n\n```\nERROR:GDAL:CPLE_AppDefined in TIFFWriteEncodedTile:File not open for writing\nERROR:GDAL:CPLE_AppDefined in WriteEncodedTile/Strip() failed.\nERROR:GDAL:CPLE_AppDefined in /Users/dnomadb/pxm/good-comp/out1.tif, band 1: An error occured while writing a dirty block\nRuntimeError: /Users/dnomadb/pxm/good-comp/out1.tif, band 1: An error occured while writing a dirty block\nERROR 1: TIFFWriteEncodedTile:File not open for writing\nERROR 1: WriteEncodedTile/Strip() failed.\nERROR 1: TIFFWriteEncodedTile:File not open for writing\nERROR 1: WriteEncodedTile/Strip() failed.\n```\n\nThere's a related, closed, issue in the GDAL tracker: https://trac.osgeo.org/gdal/ticket/4088. Rasterio has a fork of rasterfill.cpp that preferentially uses in-memory datasets, not TIFFs as in that issue, so not sure why we're getting those errors. Needs a closer look.\n\n/cc @dnomadb\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/307/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/305", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/305/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/305/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/305/events", "html_url": "https://github.com/rasterio/rasterio/issues/305", "id": 65361821, "node_id": "MDU6SXNzdWU2NTM2MTgyMQ==", "number": 305, "title": "Shapes() and sieve() describe their mask args incorrectly", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/26", "html_url": "https://github.com/rasterio/rasterio/milestone/26", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/26/labels", "id": 1052118, "node_id": "MDk6TWlsZXN0b25lMTA1MjExOA==", "number": 26, "title": "0.20", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2015-04-03T18:39:01Z", "updated_at": "2015-04-20T19:23:59Z", "due_on": null, "closed_at": "2015-04-20T19:23:59Z"}, "comments": 2, "created_at": "2015-03-31T04:19:43Z", "updated_at": "2015-04-04T13:51:27Z", "closed_at": "2015-04-04T13:51:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "These masks don't need to be numpy bools, they only need to evaluate to bool. GDAL style uint8 arrays where 0 means missing data and 255 means valid data are perfectly fine.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/305/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/304", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/304/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/304/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/304/events", "html_url": "https://github.com/rasterio/rasterio/issues/304", "id": 65361500, "node_id": "MDU6SXNzdWU2NTM2MTUwMA==", "number": 304, "title": "Add missing mask and read_mask functions to rio-calc", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/26", "html_url": "https://github.com/rasterio/rasterio/milestone/26", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/26/labels", "id": 1052118, "node_id": "MDk6TWlsZXN0b25lMTA1MjExOA==", "number": 26, "title": "0.20", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2015-04-03T18:39:01Z", "updated_at": "2015-04-20T19:23:59Z", "due_on": null, "closed_at": "2015-04-20T19:23:59Z"}, "comments": 1, "created_at": "2015-03-31T04:17:41Z", "updated_at": "2015-04-06T16:58:00Z", "closed_at": "2015-04-06T16:58:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Like the existing `band` and `read` functions. For use with `sieve` and `fillnodata`.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/304/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/303", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/303/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/303/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/303/events", "html_url": "https://github.com/rasterio/rasterio/issues/303", "id": 65268539, "node_id": "MDU6SXNzdWU2NTI2ODUzOQ==", "number": 303, "title": "0.19.1 release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/24", "html_url": "https://github.com/rasterio/rasterio/milestone/24", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/24/labels", "id": 1042546, "node_id": "MDk6TWlsZXN0b25lMTA0MjU0Ng==", "number": 24, "title": "0.19.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2015-03-27T23:56:50Z", "updated_at": "2015-04-03T18:42:53Z", "due_on": null, "closed_at": "2015-04-03T18:42:53Z"}, "comments": 0, "created_at": "2015-03-30T18:07:00Z", "updated_at": "2015-03-30T20:12:26Z", "closed_at": "2015-03-30T20:12:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Bug fixes: #301\n- [x] close issues\n- [x] tag\n- [x] build wheels, sdist\n- [x] upload to PyPI\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/303/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/302", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/302/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/302/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/302/events", "html_url": "https://github.com/rasterio/rasterio/pull/302", "id": 65264185, "node_id": "MDExOlB1bGxSZXF1ZXN0MzIyNDk3MTc=", "number": 302, "title": "Add missing keywords: blockxsize, blockysize, tiled", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/24", "html_url": "https://github.com/rasterio/rasterio/milestone/24", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/24/labels", "id": 1042546, "node_id": "MDk6TWlsZXN0b25lMTA0MjU0Ng==", "number": 24, "title": "0.19.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2015-03-27T23:56:50Z", "updated_at": "2015-04-03T18:42:53Z", "due_on": null, "closed_at": "2015-04-03T18:42:53Z"}, "comments": 3, "created_at": "2015-03-30T17:45:34Z", "updated_at": "2015-05-28T04:38:38Z", "closed_at": "2015-03-30T18:08:02Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/302", "html_url": "https://github.com/rasterio/rasterio/pull/302", "diff_url": "https://github.com/rasterio/rasterio/pull/302.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/302.patch", "merged_at": "2015-03-30T18:08:02Z"}, "body": "Closes #301.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/302/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/301", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/301/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/301/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/301/events", "html_url": "https://github.com/rasterio/rasterio/issues/301", "id": 64874722, "node_id": "MDU6SXNzdWU2NDg3NDcyMg==", "number": 301, "title": "Dataset .meta property missing blockxsize, blockysize, tiled items", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/24", "html_url": "https://github.com/rasterio/rasterio/milestone/24", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/24/labels", "id": 1042546, "node_id": "MDk6TWlsZXN0b25lMTA0MjU0Ng==", "number": 24, "title": "0.19.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2015-03-27T23:56:50Z", "updated_at": "2015-04-03T18:42:53Z", "due_on": null, "closed_at": "2015-04-03T18:42:53Z"}, "comments": 0, "created_at": "2015-03-27T23:56:58Z", "updated_at": "2015-03-30T18:08:02Z", "closed_at": "2015-03-30T18:08:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Hinders the creation of alike datasets.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/301/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/290", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/290/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/290/events", "html_url": "https://github.com/rasterio/rasterio/pull/290", "id": 60737966, "node_id": "MDExOlB1bGxSZXF1ZXN0MzA5OTAyMjk=", "number": 290, "title": "Correct indexing and merging", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/23", "html_url": "https://github.com/rasterio/rasterio/milestone/23", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/23/labels", "id": 986926, "node_id": "MDk6TWlsZXN0b25lOTg2OTI2", "number": 23, "title": "0.19", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2015-02-19T16:13:13Z", "updated_at": "2015-03-26T01:39:25Z", "due_on": null, "closed_at": "2015-03-26T01:39:25Z"}, "comments": 1, "created_at": "2015-03-11T22:06:20Z", "updated_at": "2015-03-20T04:08:08Z", "closed_at": "2015-03-20T04:05:16Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/290", "html_url": "https://github.com/rasterio/rasterio/pull/290", "diff_url": "https://github.com/rasterio/rasterio/pull/290.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/290.patch", "merged_at": "2015-03-20T04:05:16Z"}, "body": "Closes #282.\n\nAt the heart of this was a subtle indexing error due to calling\nround() instead of math.floor(). Fixing that needed a cascade of\nfixes to expectated values in various tests.\n\nFinally, core logic in the merge command was rewritten for\ncorrectness and clarity.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/290/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/288", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/288/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/288/events", "html_url": "https://github.com/rasterio/rasterio/issues/288", "id": 59873272, "node_id": "MDU6SXNzdWU1OTg3MzI3Mg==", "number": 288, "title": "rio merge on non-coincident datasets", "user": {"login": "visr", "id": 4471859, "node_id": "MDQ6VXNlcjQ0NzE4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4471859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/visr", "html_url": "https://github.com/visr", "followers_url": "https://api.github.com/users/visr/followers", "following_url": "https://api.github.com/users/visr/following{/other_user}", "gists_url": "https://api.github.com/users/visr/gists{/gist_id}", "starred_url": "https://api.github.com/users/visr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/visr/subscriptions", "organizations_url": "https://api.github.com/users/visr/orgs", "repos_url": "https://api.github.com/users/visr/repos", "events_url": "https://api.github.com/users/visr/events{/privacy}", "received_events_url": "https://api.github.com/users/visr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/23", "html_url": "https://github.com/rasterio/rasterio/milestone/23", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/23/labels", "id": 986926, "node_id": "MDk6TWlsZXN0b25lOTg2OTI2", "number": 23, "title": "0.19", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2015-02-19T16:13:13Z", "updated_at": "2015-03-26T01:39:25Z", "due_on": null, "closed_at": "2015-03-26T01:39:25Z"}, "comments": 2, "created_at": "2015-03-04T22:30:48Z", "updated_at": "2015-03-20T04:06:35Z", "closed_at": "2015-03-20T04:06:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The code below creates 3 one-pixel tifs placed like this:\n\n```\n. . c\n. b .\na . .\n```\n\nto demonstrate that (for me) rio merges them like this:\n\n```\n. . c\n. . .\na . b\n```\n\n``` python\nimport rasterio\nfrom affine import Affine\n\ndata = ones((1, 1, 1))\n\nkwargs = {'count': '1',\n          'driver': 'GTiff',\n          'dtype': 'float64',\n          'height': 1,\n          'width': 1}\n\nkwargs['transform'] = Affine( 1, 0, 1,\n                              0,-1, 1)\nwith rasterio.open('southwest.tif', 'w', **kwargs) as r:\n    r.write(data * 0.4)\n\nkwargs['transform'] = Affine( 1, 0, 2,\n                              0,-1, 2)\nwith rasterio.open('center.tif', 'w', **kwargs) as r:\n    r.write(data * 0.6)\n\nkwargs['transform'] = Affine( 1, 0, 3,\n                              0,-1, 3)\nwith rasterio.open('northeast.tif', 'w', **kwargs) as r:\n    r.write(data * 0.8)\n```\n\nThen I try to merge the rasters using:\n`rio merge southwest.tif center.tif northeast.tif rio-merged.tif`\nGDAL's `gdal_merge.py` works as expected here:\n`gdal_merge.py -o gdal-merged.tif southwest.tif center.tif northeast.tif`\n\nThis is probably related to #242. The problem seems to be with reading a raster with a boundless window. Adding window space outside the dataset seems to work fine if it is on either side, but not on both sides. Perhaps this example clarifies the problem:\n\n``` python\nwith rasterio.open('center.tif') as src:\n    data = src.read(window=((-1, 2), (-1, 2)), boundless=True)\n```\n\nWhere `data` becomes:\n\n```\n[[[ 0.   0.   0. ]\n  [ 0.   0.   0. ]\n  [ 0.   0.   0.6]]]\n```\n\nI'm using rasterio 0.17.1\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/288/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/282", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/282/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/282/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/282/events", "html_url": "https://github.com/rasterio/rasterio/issues/282", "id": 59303885, "node_id": "MDU6SXNzdWU1OTMwMzg4NQ==", "number": 282, "title": "Read default of masked=None breaks for some nodatavals", "user": {"login": "IamJeffG", "id": 2002703, "node_id": "MDQ6VXNlcjIwMDI3MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/2002703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IamJeffG", "html_url": "https://github.com/IamJeffG", "followers_url": "https://api.github.com/users/IamJeffG/followers", "following_url": "https://api.github.com/users/IamJeffG/following{/other_user}", "gists_url": "https://api.github.com/users/IamJeffG/gists{/gist_id}", "starred_url": "https://api.github.com/users/IamJeffG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IamJeffG/subscriptions", "organizations_url": "https://api.github.com/users/IamJeffG/orgs", "repos_url": "https://api.github.com/users/IamJeffG/repos", "events_url": "https://api.github.com/users/IamJeffG/events{/privacy}", "received_events_url": "https://api.github.com/users/IamJeffG/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/23", "html_url": "https://github.com/rasterio/rasterio/milestone/23", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/23/labels", "id": 986926, "node_id": "MDk6TWlsZXN0b25lOTg2OTI2", "number": 23, "title": "0.19", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2015-02-19T16:13:13Z", "updated_at": "2015-03-26T01:39:25Z", "due_on": null, "closed_at": "2015-03-26T01:39:25Z"}, "comments": 1, "created_at": "2015-02-27T22:27:30Z", "updated_at": "2015-03-20T04:05:16Z", "closed_at": "2015-03-20T04:05:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Back in #71, there was some controversy over the decision to have RasterReader.read's default operation as `masked=None`, which is both the slowest and most complicated behavior, and also is _different_ from `masked=False`.\n\nHere's one case that took a colleage and I hours to debug:  It's allowed have an image whose NoDataValue is outside the range of the dtype.  If I want to read one of these, the default `read` behavior throws an error.\n\n```\nimport numpy as np\ndata = np.array([[0, 0, 1], [1, 2, 0]])\nkwargs = {\n    'driver': u'GTiff',\n    'dtype': 'uint8',\n    'nodata': -1.7e+308,\n    'height': 3,\n    'width': 3,\n    'count': 1\n}\nwith rasterio.drivers():\n    with rasterio.open('foo.tif', 'w', **kwargs) as dst:\n        dst.write_band(1, data.astype(rasterio.uint8))\n\n    with rasterio.open('foo.tif') as src:\n        mask = src.read_band(1)\n# TypeError: Fill value -1.7e+308 overflows dtype uint8\n```\n\nObviously it's impossible for any raster values to have been flagged as NoDataValues, so the workaround is to ignore the NoDataValue entirely by setting `masked=False` (the distinction was a bit lost at first).\n\nWe probably don't want to change the default now, but here's what we can do:\n- at the very least, print a warning suggesting that you may want `masked=False`\n- I prefer tweaking behavior so that `masked=None` returns a masked array if at least one of the bands has a NoDataValue that is within the `dtype` bounds. (currently it only checks `nodataval is not None`)\n\nFinally we should clarify the docstring: \"masked if any of the nodatavals are not `None`\", but \"nodatavals\" is not defined or referenced elsewhere in the documentation.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/282/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/282/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/276", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/276/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/276/events", "html_url": "https://github.com/rasterio/rasterio/issues/276", "id": 57702184, "node_id": "MDU6SXNzdWU1NzcwMjE4NA==", "number": 276, "title": "Rasterio doesn't build with Cython 0.22", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2015-02-14T18:38:58Z", "updated_at": "2015-05-28T16:32:08Z", "closed_at": "2015-02-14T18:43:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://travis-ci.org/mapbox/rasterio/jobs/50722943#L469-L479:\n\n```\n    Error compiling Cython file:\n    ------------------------------------------------------------\n    ...\n        \"\"\"\n        Builds an OGR geometry from GeoJSON geometry.\n        From Fiona: https://github.com/Toblerity/Fiona/blob/master/src/fiona/ogrext.pyx\n        \"\"\"\n        cdef void * _createOgrGeometry(self, int geom_type) except NULL:\n            ^\n    ------------------------------------------------------------\n    rasterio/_features.pyx:463:9: Signature not compatible with previous declaration\n```\n\nTemporary fix is to pin Cython at 0.21.2.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/276/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/267", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/267/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/267/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/267/events", "html_url": "https://github.com/rasterio/rasterio/issues/267", "id": 56835098, "node_id": "MDU6SXNzdWU1NjgzNTA5OA==", "number": 267, "title": "Change rio-shape's default to --projected", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 114854931, "node_id": "MDU6TGFiZWwxMTQ4NTQ5MzE=", "url": "https://api.github.com/repos/rasterio/rasterio/labels/cli", "name": "cli", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-02-06T16:40:40Z", "updated_at": "2015-02-10T20:22:49Z", "closed_at": "2015-02-06T23:35:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Round-tripping with rio-rasterize currently requires use of `--projected`\n\n```\n$ rio shapes --projected tests/data/shade.tif \\\n| rio rasterize --like tests/data/shade.tif --property val /tmp/foo.tif\n```\n\nThis complicates what seems to me to be the most common pipeline. If we made `--projected` the default for rio-shapes, we'd remove a major potential stumbling block.\n\nI know of scripts that would need to be changed, but they're easy enough to track down and update.\n\n/cc @brendan-ward @kapadia \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/267/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/261", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/261/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/261/events", "html_url": "https://github.com/rasterio/rasterio/issues/261", "id": 55677077, "node_id": "MDU6SXNzdWU1NTY3NzA3Nw==", "number": 261, "title": "masked `out` parameter in `read`", "user": {"login": "AsgerPetersen", "id": 1392735, "node_id": "MDQ6VXNlcjEzOTI3MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1392735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AsgerPetersen", "html_url": "https://github.com/AsgerPetersen", "followers_url": "https://api.github.com/users/AsgerPetersen/followers", "following_url": "https://api.github.com/users/AsgerPetersen/following{/other_user}", "gists_url": "https://api.github.com/users/AsgerPetersen/gists{/gist_id}", "starred_url": "https://api.github.com/users/AsgerPetersen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AsgerPetersen/subscriptions", "organizations_url": "https://api.github.com/users/AsgerPetersen/orgs", "repos_url": "https://api.github.com/users/AsgerPetersen/repos", "events_url": "https://api.github.com/users/AsgerPetersen/events{/privacy}", "received_events_url": "https://api.github.com/users/AsgerPetersen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/22", "html_url": "https://github.com/rasterio/rasterio/milestone/22", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/22/labels", "id": 949881, "node_id": "MDk6TWlsZXN0b25lOTQ5ODgx", "number": 22, "title": "0.18", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2015-01-24T20:12:38Z", "updated_at": "2015-02-19T16:23:46Z", "due_on": null, "closed_at": "2015-02-19T16:23:46Z"}, "comments": 3, "created_at": "2015-01-27T21:29:01Z", "updated_at": "2015-02-10T20:23:15Z", "closed_at": "2015-01-28T22:15:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I would expect the `out` parameter of the `read`-methods to work like it does for [numpy ufuncs](http://docs.scipy.org/doc/numpy/reference/ufuncs.html), but it doesn't seem to do so.\n\nWith this code\n\n``` python\nimport rasterio\nimport numpy as np\nds = rasterio.open(filepath)\nout = np.ma.zeros((5,4), dtype=ds.dtypes[0])\nreturned = ds.read_band(1, out=out, masked=True)\n```\n\nI would expect `returned` and `out` to be referencing the same data. But `out` is\n\n```\nmasked_array(data =\n [[[-9999 -9999     5     2]\n  [-9999    20   100    36]\n  [    3     8    35    10]\n  [   32    42    50     6]\n  [   88    75    27     9]]],\n             mask =\n False,\n       fill_value = 999999)\n```\n\nand `returned` is\n\n```\nmasked_array(data =\n [[-- -- 5 2]\n [-- 20 100 36]\n [3 8 35 10]\n [32 42 50 6]\n [88 75 27 9]],\n             mask =\n [[ True  True False False]\n [ True False False False]\n [False False False False]\n [False False False False]\n [False False False False]],\n       fill_value = -9999)\n```\n\nI have managed to make a dirty fix here: https://github.com/AsgerPetersen/rasterio/commit/04d307156771a1321dbeb0941bacbf86218293ed\n\nIt passes all tests but it probably isn't very well thought through.\n\nBTW. I have been using this ESRI ascii file for testing.\n\n```\nncols         4\nnrows         5\nxllcorner     0.0\nyllcorner     0.0\ncellsize      1.0\nNODATA_value  -9999\n-9999 -9999   5  2\n-9999    20 100 36\n    3     8  35 10\n   32    42  50  6\n   88    75  27  9\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/261/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/255", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/255/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/255/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/255/events", "html_url": "https://github.com/rasterio/rasterio/pull/255", "id": 54946678, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjc3MTY1NzU=", "number": 255, "title": "Tag equality", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/21", "html_url": "https://github.com/rasterio/rasterio/milestone/21", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/21/labels", "id": 944323, "node_id": "MDk6TWlsZXN0b25lOTQ0MzIz", "number": 21, "title": "0.17.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2015-01-20T21:54:47Z", "updated_at": "2015-01-21T00:07:55Z", "due_on": null, "closed_at": "2015-01-21T00:07:55Z"}, "comments": 1, "created_at": "2015-01-20T22:01:50Z", "updated_at": "2015-01-20T23:18:14Z", "closed_at": "2015-01-20T23:18:11Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/255", "html_url": "https://github.com/rasterio/rasterio/pull/255", "diff_url": "https://github.com/rasterio/rasterio/pull/255.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/255.patch", "merged_at": "2015-01-20T23:18:11Z"}, "body": "GDALs metadata items are encoded like `\"KEY=VALUE\"`. Making sure that when there's an equal sign in `VALUE` (like `FOO=BAR`), we get tags like `\"KEY\": \"FOO=BAR\"`.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/255/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/254", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/254/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/254/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/254/events", "html_url": "https://github.com/rasterio/rasterio/issues/254", "id": 54944401, "node_id": "MDU6SXNzdWU1NDk0NDQwMQ==", "number": 254, "title": "Potential for unpacking error when metadata values include \"=\"", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/21", "html_url": "https://github.com/rasterio/rasterio/milestone/21", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/21/labels", "id": 944323, "node_id": "MDk6TWlsZXN0b25lOTQ0MzIz", "number": 21, "title": "0.17.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2015-01-20T21:54:47Z", "updated_at": "2015-01-21T00:07:55Z", "due_on": null, "closed_at": "2015-01-21T00:07:55Z"}, "comments": 0, "created_at": "2015-01-20T21:44:01Z", "updated_at": "2015-01-20T23:18:13Z", "closed_at": "2015-01-20T23:18:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://github.com/mapbox/make-surface/issues/69#issuecomment-70724340.\n- [x] Add test to reproduce or not\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/240", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/240/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/240/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/240/events", "html_url": "https://github.com/rasterio/rasterio/issues/240", "id": 53684347, "node_id": "MDU6SXNzdWU1MzY4NDM0Nw==", "number": 240, "title": "rio merge assumes nodata", "user": {"login": "kapadia", "id": 581337, "node_id": "MDQ6VXNlcjU4MTMzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/581337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kapadia", "html_url": "https://github.com/kapadia", "followers_url": "https://api.github.com/users/kapadia/followers", "following_url": "https://api.github.com/users/kapadia/following{/other_user}", "gists_url": "https://api.github.com/users/kapadia/gists{/gist_id}", "starred_url": "https://api.github.com/users/kapadia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kapadia/subscriptions", "organizations_url": "https://api.github.com/users/kapadia/orgs", "repos_url": "https://api.github.com/users/kapadia/repos", "events_url": "https://api.github.com/users/kapadia/events{/privacy}", "received_events_url": "https://api.github.com/users/kapadia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/20", "html_url": "https://github.com/rasterio/rasterio/milestone/20", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/20/labels", "id": 924710, "node_id": "MDk6TWlsZXN0b25lOTI0NzEw", "number": 20, "title": "0.17", "description": "Binary wheel for OS X 10.7+", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2015-01-07T00:00:59Z", "updated_at": "2015-01-20T21:54:38Z", "due_on": null, "closed_at": "2015-01-20T21:54:38Z"}, "comments": 2, "created_at": "2015-01-07T21:27:39Z", "updated_at": "2015-01-13T21:00:05Z", "closed_at": "2015-01-13T21:00:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Running `rio merge` over a set of images without a nodata value results in an error:\n\n```\n(rio-test)$ rio merge warped.tif merged.tif\nERROR:rio:Failed. Exception caught\nTraceback (most recent call last):\n  File \"/Users/amit/Mapbox/rasterio/rasterio/rio/merge.py\", line 50, in merge\n    dest.fill(nodataval)\nTypeError: long() argument must be a string or a number, not 'NoneType'\n```\n\nChecking for nodata in `rasterio/rio/merge.py` still results in a lower level error (https://github.com/mapbox/rasterio/commit/6b251f8261fd1b3e785dc73462212741b6bd62b7):\n\n```\n(rio-test)$ rio merge warped.tif merged.tif\nERROR:rio:Failed. Exception caught\nTraceback (most recent call last):\n  File \"/Users/amit/Mapbox/rasterio/rasterio/rio/merge.py\", line 55, in merge\n    data = src.read()\n  File \"rasterio/_io.pyx\", line 654, in rasterio._io.RasterReader.read (rasterio/_io.c:8075)\n    arr.fill(ndv)\nTypeError: long() argument must be a string or a number, not 'NoneType'\n```\n\nPatching this case throws the error down further until a regular numpy array is confused for a masked array (https://github.com/mapbox/rasterio/commit/c271c4ee23531db7c24208c85f56d04d79acc851):\n\n```\n(rio-test)$ rio merge warped.tif merged.tif\n/Users/amit/Mapbox/rasterio/rasterio/rio/merge.py:58: FutureWarning: comparison to `None` will result in an elementwise object comparison in the future.\n  dest==nodataval, data.mask==False))\nERROR:rio:Failed. Exception caught\nTraceback (most recent call last):\n  File \"/Users/amit/Mapbox/rasterio/rasterio/rio/merge.py\", line 58, in merge\n    dest==nodataval, data.mask==False))\nAttributeError: 'numpy.ndarray' object has no attribute 'mask'\n```\n\n/cc @sgillies \n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/240/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/237", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/237/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/237/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/237/events", "html_url": "https://github.com/rasterio/rasterio/issues/237", "id": 53580209, "node_id": "MDU6SXNzdWU1MzU4MDIwOQ==", "number": 237, "title": "error reading band in 0.16 (worked with 0.15.1)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/20", "html_url": "https://github.com/rasterio/rasterio/milestone/20", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/20/labels", "id": 924710, "node_id": "MDk6TWlsZXN0b25lOTI0NzEw", "number": 20, "title": "0.17", "description": "Binary wheel for OS X 10.7+", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2015-01-07T00:00:59Z", "updated_at": "2015-01-20T21:54:38Z", "due_on": null, "closed_at": "2015-01-20T21:54:38Z"}, "comments": 2, "created_at": "2015-01-07T00:03:05Z", "updated_at": "2015-01-08T01:00:13Z", "closed_at": "2015-01-08T01:00:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "After upgrading from 0.15.1 to 0.16 I get this error:\n\n```\nPython 2.7.8 (default, Jun 30 2014, 16:08:48) [MSC v.1500 64 bit (AMD64)] on win\n32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import rasterio\n>>> rasterio.__version__\n'0.16'\n>>> r = rasterio.open('LE72300072013169EDC00_B1.TIF')\n>>> a = r.read_band(1)\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"rasterio\\_io.pyx\", line 548, in rasterio._io.RasterReader.read_band (ras\nterio/_io.c:6639)\n  File \"rasterio\\_io.pyx\", line 654, in rasterio._io.RasterReader.read (rasterio\n/_io.c:8080)\nTypeError: long() argument must be a string or a number, not 'NoneType'\n>>>\n```\n\nThis and all Landsat files I tried used to work with previous versions. If needed, the file is here: https://www.dropbox.com/s/7cr2u0osofzx55a/LE72300072013169EDC00_B1.TIF?dl=0\n\nshade.tif and RGB.byte.tif from rasterio's test data do not produce this error.\n\nThe binaries I'm using are Christoph Gohlke's rasterio-0.15.1.win-amd64-py2.7.exe and rasterio-0.16-cp27-none-win_amd64.whl but Travis fails on linux too (https://travis-ci.org/citterio/rasterio/builds/46138951) when I add a test using the above file. The same error message is slightly different on py3: \n\n```\nTypeError: int() argument must be a string or a number, not 'NoneType'\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/237/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/229", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/229/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/229/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/229/events", "html_url": "https://github.com/rasterio/rasterio/issues/229", "id": 52778364, "node_id": "MDU6SXNzdWU1Mjc3ODM2NA==", "number": 229, "title": "test fails on i386", "user": {"login": "johanvdw", "id": 868434, "node_id": "MDQ6VXNlcjg2ODQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/868434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johanvdw", "html_url": "https://github.com/johanvdw", "followers_url": "https://api.github.com/users/johanvdw/followers", "following_url": "https://api.github.com/users/johanvdw/following{/other_user}", "gists_url": "https://api.github.com/users/johanvdw/gists{/gist_id}", "starred_url": "https://api.github.com/users/johanvdw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johanvdw/subscriptions", "organizations_url": "https://api.github.com/users/johanvdw/orgs", "repos_url": "https://api.github.com/users/johanvdw/repos", "events_url": "https://api.github.com/users/johanvdw/events{/privacy}", "received_events_url": "https://api.github.com/users/johanvdw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2014-12-23T21:59:34Z", "updated_at": "2015-08-18T13:11:38Z", "closed_at": "2015-08-18T13:11:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When building on ubuntu trusty (14.04), everything works fine on the amd64 architecture. However, if I run the same tests on i386 I get this error:\n=================================== FAILURES ===================================\n________________ ReaderContextTest.test_read_out_shape_resample ________________\n\nself = <tests.test_read.ReaderContextTest testMethod=test_read_out_shape_resample>\n\n```\ndef test_read_out_shape_resample(self):\n    with rasterio.open('tests/data/RGB.byte.tif') as s:\n        a = numpy.zeros((7, 8), dtype=rasterio.ubyte)\n        s.read_band(1, a)\n        self.assert_(\n            repr(a) == \"\"\"array([[  0,   8,   5,   7,   0,   0,   0,   0],\n       [  0,   6,  61,  15,  27,  15,  24, 128],\n       [  0,  20, 152,  23,  15,  19,  28,   0],\n       [  0,  17, 255,  25, 255,  22,  32,   0],\n       [  9,   7,  14,  16,  19,  18,  36,   0],\n       [  6,  27,  43, 207,  38,  31,  73,   0],\n```\n\n> ```\n>      [  0,   0,   0,   0,  74,  23,   0,   0]], dtype=uint8)\"\"\", a)\n> ```\n> \n> E           ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\n\ntests/test_read.py:104: ValueError\n\nFull buildlog here: \nhttps://launchpadlibrarian.net/193257737/buildlog_ubuntu-trusty-i386.rasterio_0.16-0~trusty_FAILEDTOBUILD.txt.gz\ncompare with a succesful build (from same source) on amd64: \nhttps://launchpadlibrarian.net/193257699/buildlog_ubuntu-trusty-amd64.rasterio_0.16-0~trusty_UPLOADING.txt.gz\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/229/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/229/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/224", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/224/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/224/events", "html_url": "https://github.com/rasterio/rasterio/pull/224", "id": 52199901, "node_id": "MDExOlB1bGxSZXF1ZXN0MjYyMDAyMjM=", "number": 224, "title": "Output file as arg, not option.", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/19", "html_url": "https://github.com/rasterio/rasterio/milestone/19", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/19/labels", "id": 905858, "node_id": "MDk6TWlsZXN0b25lOTA1ODU4", "number": 19, "title": "Commandapalooza", "description": "Lots of CLI commands", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2014-12-16T17:03:19Z", "updated_at": "2016-03-07T20:31:12Z", "due_on": null, "closed_at": "2016-03-07T20:31:12Z"}, "comments": 4, "created_at": "2014-12-17T04:17:42Z", "updated_at": "2014-12-18T23:49:36Z", "closed_at": "2014-12-18T23:49:26Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/224", "html_url": "https://github.com/rasterio/rasterio/pull/224", "diff_url": "https://github.com/rasterio/rasterio/pull/224.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/224.patch", "merged_at": "2014-12-18T23:49:26Z"}, "body": "Closes #221.\n\nBonus: CLI decorator refactoring in the interest of similar interface across commands.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/224/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/222", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/222/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/222/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/222/events", "html_url": "https://github.com/rasterio/rasterio/pull/222", "id": 52137544, "node_id": "MDExOlB1bGxSZXF1ZXN0MjYxNjEwODY=", "number": 222, "title": "Remove setuptools from install_requires.", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/17", "html_url": "https://github.com/rasterio/rasterio/milestone/17", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/17/labels", "id": 831759, "node_id": "MDk6TWlsZXN0b25lODMxNzU5", "number": 17, "title": "0.16", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-10-19T15:01:57Z", "updated_at": "2015-01-07T00:00:23Z", "due_on": null, "closed_at": "2015-01-07T00:00:23Z"}, "comments": 2, "created_at": "2014-12-16T16:52:17Z", "updated_at": "2014-12-16T19:22:30Z", "closed_at": "2014-12-16T19:22:25Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/222", "html_url": "https://github.com/rasterio/rasterio/pull/222", "diff_url": "https://github.com/rasterio/rasterio/pull/222.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/222.patch", "merged_at": "2014-12-16T19:22:25Z"}, "body": "We're installing with pip, so setuptools is already installed.\n\nAlso require click>3 since we're using click 3 features.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/222/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/221", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/221/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/221/events", "html_url": "https://github.com/rasterio/rasterio/issues/221", "id": 52048865, "node_id": "MDU6SXNzdWU1MjA0ODg2NQ==", "number": 221, "title": "Make output filename an arg, not opt, in rio-merge and rio-bands", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/19", "html_url": "https://github.com/rasterio/rasterio/milestone/19", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/19/labels", "id": 905858, "node_id": "MDk6TWlsZXN0b25lOTA1ODU4", "number": 19, "title": "Commandapalooza", "description": "Lots of CLI commands", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2014-12-16T17:03:19Z", "updated_at": "2016-03-07T20:31:12Z", "due_on": null, "closed_at": "2016-03-07T20:31:12Z"}, "comments": 0, "created_at": "2014-12-15T22:37:36Z", "updated_at": "2014-12-18T23:49:26Z", "closed_at": "2014-12-18T23:49:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "These commands can't write to stdout and need a filename. Intent is to make them used more like cp and mv: `rio merge here/*.tif there.tif`\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/221/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/210", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/210/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/210/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/210/events", "html_url": "https://github.com/rasterio/rasterio/issues/210", "id": 50723383, "node_id": "MDU6SXNzdWU1MDcyMzM4Mw==", "number": 210, "title": "guard_transform prevents translation of unprojected files", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/17", "html_url": "https://github.com/rasterio/rasterio/milestone/17", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/17/labels", "id": 831759, "node_id": "MDk6TWlsZXN0b25lODMxNzU5", "number": 17, "title": "0.16", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-10-19T15:01:57Z", "updated_at": "2015-01-07T00:00:23Z", "due_on": null, "closed_at": "2015-01-07T00:00:23Z"}, "comments": 0, "created_at": "2014-12-02T21:20:54Z", "updated_at": "2014-12-16T19:26:33Z", "closed_at": "2014-12-16T19:26:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Where by translation I mean the pattern\n\n``` python\nwith rasterio.open(file1.tif) as src:\n    with rasterio.open(file2.tif, 'w', **src.meta) as dst:\n        ...\n```\n\nTraceback snippet:\n\n```\nTraceback (most recent call last):\n  ...\n  File \"copier.py\", line 15, in to_png\n    with rio.open(dst_path, \"w\", **meta) as dst:\n  File \"xxx/anaconda/lib/python2.7/site-packages/rasterio/__init__.py\", line 91, in open\n    transform = guard_transform(transform)\n  File \"xxx/anaconda/lib/python2.7/site-packages/rasterio/transform.py\", line 27, in guard_transform\n    transform.a, transform.e))\nValueError: Transform has invalid coefficients a, e: (0.000000, 0.000000)\n```\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/210/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/198", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/198/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/198/events", "html_url": "https://github.com/rasterio/rasterio/issues/198", "id": 47889494, "node_id": "MDU6SXNzdWU0Nzg4OTQ5NA==", "number": 198, "title": "Wrong description in function docs for rasterize function transform argument?", "user": {"login": "jfloyd99", "id": 1134889, "node_id": "MDQ6VXNlcjExMzQ4ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/1134889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfloyd99", "html_url": "https://github.com/jfloyd99", "followers_url": "https://api.github.com/users/jfloyd99/followers", "following_url": "https://api.github.com/users/jfloyd99/following{/other_user}", "gists_url": "https://api.github.com/users/jfloyd99/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfloyd99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfloyd99/subscriptions", "organizations_url": "https://api.github.com/users/jfloyd99/orgs", "repos_url": "https://api.github.com/users/jfloyd99/repos", "events_url": "https://api.github.com/users/jfloyd99/events{/privacy}", "received_events_url": "https://api.github.com/users/jfloyd99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/17", "html_url": "https://github.com/rasterio/rasterio/milestone/17", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/17/labels", "id": 831759, "node_id": "MDk6TWlsZXN0b25lODMxNzU5", "number": 17, "title": "0.16", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-10-19T15:01:57Z", "updated_at": "2015-01-07T00:00:23Z", "due_on": null, "closed_at": "2015-01-07T00:00:23Z"}, "comments": 1, "created_at": "2014-11-05T21:20:48Z", "updated_at": "2014-11-05T21:59:33Z", "closed_at": "2014-11-05T21:59:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "The current description states\n\ntransform : Affine transformation object, optional\n            transformation applied to shape geometries into pixel coordinates\n\nThis suggests that we need the inverse of the transform that rasterio obtains from reading a geo raster.\nMy use showed that you must use the raster transform not its inverse, as it is applied to the raster not the vector coordinates.\n\nSo this transform must describe the affine that maps from pixel to coord.\n\nI hope I am clear.  I accept that it may be my interpretation of the words that is at fault.\n\nthanks\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/198/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/196", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/196/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/196/events", "html_url": "https://github.com/rasterio/rasterio/pull/196", "id": 47664569, "node_id": "MDExOlB1bGxSZXF1ZXN0MjM4MDM1MTU=", "number": 196, "title": "Fix incorrect use of output.dtype", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/18", "html_url": "https://github.com/rasterio/rasterio/milestone/18", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/18/labels", "id": 852309, "node_id": "MDk6TWlsZXN0b25lODUyMzA5", "number": 18, "title": "0.15.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2014-11-04T05:41:08Z", "updated_at": "2014-11-04T06:06:02Z", "due_on": null, "closed_at": "2014-11-04T06:06:02Z"}, "comments": 1, "created_at": "2014-11-04T00:40:24Z", "updated_at": "2014-12-10T04:19:29Z", "closed_at": "2014-11-04T05:40:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/196", "html_url": "https://github.com/rasterio/rasterio/pull/196", "diff_url": "https://github.com/rasterio/rasterio/pull/196.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/196.patch", "merged_at": "2014-11-04T05:40:05Z"}, "body": "Resolves #195 \n\nAdded a test to make sure that we handle rasterize with `out` parameter.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/196/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/186", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/186/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/186/events", "html_url": "https://github.com/rasterio/rasterio/issues/186", "id": 45706765, "node_id": "MDU6SXNzdWU0NTcwNjc2NQ==", "number": 186, "title": "setup.py cannot locate gdal (or gdal-config)", "user": {"login": "jfloyd99", "id": 1134889, "node_id": "MDQ6VXNlcjExMzQ4ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/1134889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfloyd99", "html_url": "https://github.com/jfloyd99", "followers_url": "https://api.github.com/users/jfloyd99/followers", "following_url": "https://api.github.com/users/jfloyd99/following{/other_user}", "gists_url": "https://api.github.com/users/jfloyd99/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfloyd99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfloyd99/subscriptions", "organizations_url": "https://api.github.com/users/jfloyd99/orgs", "repos_url": "https://api.github.com/users/jfloyd99/repos", "events_url": "https://api.github.com/users/jfloyd99/events{/privacy}", "received_events_url": "https://api.github.com/users/jfloyd99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/8", "html_url": "https://github.com/rasterio/rasterio/milestone/8", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/8/labels", "id": 686337, "node_id": "MDk6TWlsZXN0b25lNjg2MzM3", "number": 8, "title": "1.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 236, "state": "closed", "created_at": "2014-06-10T00:10:13Z", "updated_at": "2018-12-03T22:31:09Z", "due_on": null, "closed_at": "2018-12-03T22:31:09Z"}, "comments": 4, "created_at": "2014-10-14T02:44:26Z", "updated_at": "2014-10-15T08:03:33Z", "closed_at": "2014-10-14T03:24:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Setup will run without finding gdal resulting in an installed system that has missing library references.  There is no failure at install.  This non failure really is the main issue.\n\nBut\n\nMy problem was\nThe setup script looks for gdal-config that does take into account hat relies on the $PATH which varies depending on the user - mine is in /usr/local/bin which is in my $path.\n\nAs local/bin is not in roots path (seems to be a useful security setting) sudo cannot find it.  Default paces to look would sole this.  \n\nMy solution was to build as user and do a sudo install  - this works!  Does not work with a sudo build/install.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/186/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/179", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/179/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/179/events", "html_url": "https://github.com/rasterio/rasterio/issues/179", "id": 45250241, "node_id": "MDU6SXNzdWU0NTI1MDI0MQ==", "number": 179, "title": "Features: Change 'output' parameter to 'out'", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/14", "html_url": "https://github.com/rasterio/rasterio/milestone/14", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/14/labels", "id": 810652, "node_id": "MDk6TWlsZXN0b25lODEwNjUy", "number": 14, "title": "0.15", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2014-10-01T22:30:21Z", "updated_at": "2014-10-11T18:13:04Z", "due_on": null, "closed_at": "2014-10-11T18:13:04Z"}, "comments": 3, "created_at": "2014-10-08T14:27:34Z", "updated_at": "2014-10-12T15:11:58Z", "closed_at": "2014-10-11T15:33:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "@sgillies can we change the 'output' parameter to 'out' to better parallel how this is handled in `numpy`? \n\nSee [this numpy function call](http://docs.scipy.org/doc/numpy/reference/generated/numpy.bitwise_and.html#numpy.bitwise_and)\n\nThis would be a change to the API level keyword parameters for features functions.  If you approve, we may want to standardize around this everywhere that `output` indicates an output numpy array passed into a function and is used in the same way as for numpy.\n\nContext: I'm going through `features.py` and updating doctrings to match numpy standard.  Lots of cross-comparison to how they are doing things in numpy.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/179/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/167", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/167/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/167/events", "html_url": "https://github.com/rasterio/rasterio/issues/167", "id": 44706705, "node_id": "MDU6SXNzdWU0NDcwNjcwNQ==", "number": 167, "title": "Allow update of nodatavals", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/14", "html_url": "https://github.com/rasterio/rasterio/milestone/14", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/14/labels", "id": 810652, "node_id": "MDk6TWlsZXN0b25lODEwNjUy", "number": 14, "title": "0.15", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2014-10-01T22:30:21Z", "updated_at": "2014-10-11T18:13:04Z", "due_on": null, "closed_at": "2014-10-11T18:13:04Z"}, "comments": 2, "created_at": "2014-10-02T16:19:33Z", "updated_at": "2014-10-02T20:04:50Z", "closed_at": "2014-10-02T18:52:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Nodatavals should be updatable in 'r+' mode.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/167/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/151", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/151/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/151/events", "html_url": "https://github.com/rasterio/rasterio/issues/151", "id": 43686791, "node_id": "MDU6SXNzdWU0MzY4Njc5MQ==", "number": 151, "title": "Rasterio sdists don't build with Python 3.4 on Ubuntu 14.04", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/13", "html_url": "https://github.com/rasterio/rasterio/milestone/13", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/13/labels", "id": 782871, "node_id": "MDk6TWlsZXN0b25lNzgyODcx", "number": 13, "title": "0.14", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2014-09-08T23:25:46Z", "updated_at": "2014-10-07T15:08:21Z", "due_on": null, "closed_at": "2014-10-07T15:08:21Z"}, "comments": 0, "created_at": "2014-09-23T21:30:26Z", "updated_at": "2014-09-23T22:06:23Z", "closed_at": "2014-09-23T22:01:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Some details and a workaround here: https://gist.github.com/sgillies/434c957448ffeca6f551. The gist of it is that I've been making sdists with Cython 0.19.2 and need to pin Cython to 0.20+.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/151/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/149", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/149/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/149/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/149/events", "html_url": "https://github.com/rasterio/rasterio/issues/149", "id": 42856542, "node_id": "MDU6SXNzdWU0Mjg1NjU0Mg==", "number": 149, "title": "enum34 dependency", "user": {"login": "clembou", "id": 4275603, "node_id": "MDQ6VXNlcjQyNzU2MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4275603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clembou", "html_url": "https://github.com/clembou", "followers_url": "https://api.github.com/users/clembou/followers", "following_url": "https://api.github.com/users/clembou/following{/other_user}", "gists_url": "https://api.github.com/users/clembou/gists{/gist_id}", "starred_url": "https://api.github.com/users/clembou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clembou/subscriptions", "organizations_url": "https://api.github.com/users/clembou/orgs", "repos_url": "https://api.github.com/users/clembou/repos", "events_url": "https://api.github.com/users/clembou/events{/privacy}", "received_events_url": "https://api.github.com/users/clembou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/13", "html_url": "https://github.com/rasterio/rasterio/milestone/13", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/13/labels", "id": 782871, "node_id": "MDk6TWlsZXN0b25lNzgyODcx", "number": 13, "title": "0.14", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2014-09-08T23:25:46Z", "updated_at": "2014-10-07T15:08:21Z", "due_on": null, "closed_at": "2014-10-07T15:08:21Z"}, "comments": 1, "created_at": "2014-09-16T08:34:32Z", "updated_at": "2014-09-16T17:56:12Z", "closed_at": "2014-09-16T17:56:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've had to install [enum34](https://pypi.python.org/pypi/enum34) to get rasterio to import on python 2.7 (Anaconda, windows 64 bits).\n\nDoes this need to be added to the requirements list?\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/149/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/146", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/146/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/146/events", "html_url": "https://github.com/rasterio/rasterio/issues/146", "id": 42568978, "node_id": "MDU6SXNzdWU0MjU2ODk3OA==", "number": 146, "title": "rasterize segfault(?) with shapely polygons", "user": {"login": "jesserobertson", "id": 796836, "node_id": "MDQ6VXNlcjc5NjgzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/796836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jesserobertson", "html_url": "https://github.com/jesserobertson", "followers_url": "https://api.github.com/users/jesserobertson/followers", "following_url": "https://api.github.com/users/jesserobertson/following{/other_user}", "gists_url": "https://api.github.com/users/jesserobertson/gists{/gist_id}", "starred_url": "https://api.github.com/users/jesserobertson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jesserobertson/subscriptions", "organizations_url": "https://api.github.com/users/jesserobertson/orgs", "repos_url": "https://api.github.com/users/jesserobertson/repos", "events_url": "https://api.github.com/users/jesserobertson/events{/privacy}", "received_events_url": "https://api.github.com/users/jesserobertson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/13", "html_url": "https://github.com/rasterio/rasterio/milestone/13", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/13/labels", "id": 782871, "node_id": "MDk6TWlsZXN0b25lNzgyODcx", "number": 13, "title": "0.14", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2014-09-08T23:25:46Z", "updated_at": "2014-10-07T15:08:21Z", "due_on": null, "closed_at": "2014-10-07T15:08:21Z"}, "comments": 6, "created_at": "2014-09-11T20:45:09Z", "updated_at": "2014-09-17T00:24:54Z", "closed_at": "2014-09-16T17:36:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi all, I'm getting what looks like a segfault when trying to use rasterio.features.rasterize with shapely \npolygons:\n\n``` python\nimport rasterio\nfrom rasterio.features import rasterize\nfrom shapely.ops import cascaded_union\n\n# Some shapely polygons to burn...\npolygons = cascaded_union([u.shape for u in units])\nbounds = (119.52, -21.6, 120.90, -20.5)\n\n# Load my ASTER data, make a raster\nwith rasterio.drivers():\n    with rasterio.open('AlOH_group_composition.geotiff') as src:\n        rasterize(polygons, out_shape=src.shape, transform=src.affine)\n        # Python chokes and dies right here.\n```\n\nOne possibility is that the the polygons I'm trying to rasterize do not lie completely within the bounds of the raster arrays I'm trying to create. I'm not sure whether this is the problem. I'm running Linux with Python 2.7 and the latest version of rasterio from github.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/146/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/145", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/145/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/145/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/145/events", "html_url": "https://github.com/rasterio/rasterio/issues/145", "id": 42486588, "node_id": "MDU6SXNzdWU0MjQ4NjU4OA==", "number": 145, "title": "Crash on second update to tags", "user": {"login": "mwtoews", "id": 895458, "node_id": "MDQ6VXNlcjg5NTQ1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/895458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mwtoews", "html_url": "https://github.com/mwtoews", "followers_url": "https://api.github.com/users/mwtoews/followers", "following_url": "https://api.github.com/users/mwtoews/following{/other_user}", "gists_url": "https://api.github.com/users/mwtoews/gists{/gist_id}", "starred_url": "https://api.github.com/users/mwtoews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mwtoews/subscriptions", "organizations_url": "https://api.github.com/users/mwtoews/orgs", "repos_url": "https://api.github.com/users/mwtoews/repos", "events_url": "https://api.github.com/users/mwtoews/events{/privacy}", "received_events_url": "https://api.github.com/users/mwtoews/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/13", "html_url": "https://github.com/rasterio/rasterio/milestone/13", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/13/labels", "id": 782871, "node_id": "MDk6TWlsZXN0b25lNzgyODcx", "number": 13, "title": "0.14", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2014-09-08T23:25:46Z", "updated_at": "2014-10-07T15:08:21Z", "due_on": null, "closed_at": "2014-10-07T15:08:21Z"}, "comments": 7, "created_at": "2014-09-11T03:55:28Z", "updated_at": "2014-09-29T03:55:08Z", "closed_at": "2014-09-29T03:55:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm not sure how reproducible this is for other platforms, but I'm getting a crash on the second tag update.\n\n```\nimport rasterio\nwith rasterio.open('test.tif', 'w', 'GTiff', 3, 4, 1, dtype=rasterio.ubyte) as f:\n    f.update_tags(a=1, b=2)\n    print(f.tags())\n    f.update_tags(c=3)\n    print('it would have crashed by now')\n```\n\nWhen running the above script from `cmd.exe`, there is no stack trace or any useful info, just a silly dialog \"python.exe has stopped working\" / \"Close the program\"\n\nUsing rasterio 0.11 ([rasterio-0.11.win-amd64-py2.7.exe](http://www.lfd.uci.edu/~gohlke/pythonlibs/#rasterio)) with Python 2.7.8 (default, Jun 30 2014, 16:08:48) [MSC v.1500 64 bit (AMD64)] on win32\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/145/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/135", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/135/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/135/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/135/events", "html_url": "https://github.com/rasterio/rasterio/issues/135", "id": 41750328, "node_id": "MDU6SXNzdWU0MTc1MDMyOA==", "number": 135, "title": "0.12.1 Release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-09-02T20:21:00Z", "updated_at": "2014-09-02T20:23:12Z", "closed_at": "2014-09-02T20:23:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The rasterio.rio was missing from setup.py :(\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/135/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/135/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/130", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/130/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/130/events", "html_url": "https://github.com/rasterio/rasterio/pull/130", "id": 41471009, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA0ODE4MTc=", "number": 130, "title": "Testing requires the 'six' package for StringIO", "user": {"login": "mwtoews", "id": 895458, "node_id": "MDQ6VXNlcjg5NTQ1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/895458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mwtoews", "html_url": "https://github.com/mwtoews", "followers_url": "https://api.github.com/users/mwtoews/followers", "following_url": "https://api.github.com/users/mwtoews/following{/other_user}", "gists_url": "https://api.github.com/users/mwtoews/gists{/gist_id}", "starred_url": "https://api.github.com/users/mwtoews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mwtoews/subscriptions", "organizations_url": "https://api.github.com/users/mwtoews/orgs", "repos_url": "https://api.github.com/users/mwtoews/repos", "events_url": "https://api.github.com/users/mwtoews/events{/privacy}", "received_events_url": "https://api.github.com/users/mwtoews/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/11", "html_url": "https://github.com/rasterio/rasterio/milestone/11", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/11/labels", "id": 759379, "node_id": "MDk6TWlsZXN0b25lNzU5Mzc5", "number": 11, "title": "0.12", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2014-08-19T23:02:00Z", "updated_at": "2014-09-02T19:01:48Z", "due_on": null, "closed_at": "2014-09-02T19:01:48Z"}, "comments": 0, "created_at": "2014-08-29T05:05:59Z", "updated_at": "2014-08-29T06:04:28Z", "closed_at": "2014-08-29T06:04:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/rasterio/rasterio/pulls/130", "html_url": "https://github.com/rasterio/rasterio/pull/130", "diff_url": "https://github.com/rasterio/rasterio/pull/130.diff", "patch_url": "https://github.com/rasterio/rasterio/pull/130.patch", "merged_at": "2014-08-29T06:04:16Z"}, "body": "I know I've grumbled in the past about using `six`, but it's fine here for testing with `requirements-dev.txt`.\n\nThis should fix the Travis CI tests.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/130/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/109", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/109/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/109/events", "html_url": "https://github.com/rasterio/rasterio/issues/109", "id": 37902430, "node_id": "MDU6SXNzdWUzNzkwMjQzMA==", "number": 109, "title": "Nodata values are not passed correctly from meta to kwargs", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-07-15T16:42:00Z", "updated_at": "2014-07-16T19:15:17Z", "closed_at": "2014-07-16T19:15:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://github.com/mapbox/rasterio/issues/102#issuecomment-48548438.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/109/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/109/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/108", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/108/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/108/events", "html_url": "https://github.com/rasterio/rasterio/issues/108", "id": 37901983, "node_id": "MDU6SXNzdWUzNzkwMTk4Mw==", "number": 108, "title": "RasterUpdater.write_band need to have numpy C-contiguous array?", "user": {"login": "grovduck", "id": 1706997, "node_id": "MDQ6VXNlcjE3MDY5OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1706997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grovduck", "html_url": "https://github.com/grovduck", "followers_url": "https://api.github.com/users/grovduck/followers", "following_url": "https://api.github.com/users/grovduck/following{/other_user}", "gists_url": "https://api.github.com/users/grovduck/gists{/gist_id}", "starred_url": "https://api.github.com/users/grovduck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grovduck/subscriptions", "organizations_url": "https://api.github.com/users/grovduck/orgs", "repos_url": "https://api.github.com/users/grovduck/repos", "events_url": "https://api.github.com/users/grovduck/events{/privacy}", "received_events_url": "https://api.github.com/users/grovduck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/7", "html_url": "https://github.com/rasterio/rasterio/milestone/7", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/7/labels", "id": 647465, "node_id": "MDk6TWlsZXN0b25lNjQ3NDY1", "number": 7, "title": "0.9", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2014-05-02T21:14:52Z", "updated_at": "2014-09-02T15:28:06Z", "due_on": null, "closed_at": "2014-09-02T15:28:06Z"}, "comments": 2, "created_at": "2014-07-15T16:37:32Z", "updated_at": "2014-07-21T21:40:56Z", "closed_at": "2014-07-21T21:40:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This one might be obvious, but it tripped me up and I couldn't find documentation on it.  Do numpy arrays passed to `write_band` need to be C-contiguous?  Given this test code:\n\n```\nimport numpy as np\nimport rasterio\n\nROWS = 4\nCOLS = 10\nBANDS = 6\n\nwith rasterio.drivers():\n\n    # Create a 3-D random int array (rows, columns, bands)\n    total = ROWS * COLS * BANDS\n    a = np.random.randint(0, 10, size=total).reshape(ROWS, COLS, BANDS)\n\n    kwargs = {\n        'driver': 'GTiff',\n        'width': COLS,\n        'height': ROWS,\n        'count': BANDS,\n        'dtype': rasterio.int32\n    }\n    with rasterio.open('example.tif', 'w', **kwargs) as dst:\n        for i in xrange(BANDS):\n            dst.write_band(i+1, a[:,:,i])\n```\n\nthe program throws warning messages (one for each band):\n\n```\nException ValueError: 'ndarray is not C-contiguous' in 'rasterio._io.io_int32' ignored\n```\n\nand the resulting image is all zeros for each band.  If the last loop is written:\n\n```\nfor i in xrange(BANDS):\n    data = a[:,:,i].copy()\n    dst.write_band(i+1, data)\n```\n\nall goes as expected.  Does it make sense to have a check for C-contiguous data within `write_band`?  It's very likely I'm not fully understanding the code, though.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/108/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/102", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/102/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/102/events", "html_url": "https://github.com/rasterio/rasterio/issues/102", "id": 37130270, "node_id": "MDU6SXNzdWUzNzEzMDI3MA==", "number": 102, "title": "Projection metadata stripped", "user": {"login": "kapadia", "id": 581337, "node_id": "MDQ6VXNlcjU4MTMzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/581337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kapadia", "html_url": "https://github.com/kapadia", "followers_url": "https://api.github.com/users/kapadia/followers", "following_url": "https://api.github.com/users/kapadia/following{/other_user}", "gists_url": "https://api.github.com/users/kapadia/gists{/gist_id}", "starred_url": "https://api.github.com/users/kapadia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kapadia/subscriptions", "organizations_url": "https://api.github.com/users/kapadia/orgs", "repos_url": "https://api.github.com/users/kapadia/repos", "events_url": "https://api.github.com/users/kapadia/events{/privacy}", "received_events_url": "https://api.github.com/users/kapadia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-07-03T22:45:39Z", "updated_at": "2014-09-21T15:39:47Z", "closed_at": "2014-07-16T03:59:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Some projection metadata is stripped when creating a new file based on metadata from an input file.\n\nHere's a minimal example where an image is copied. The expected behavior is that these files are identical in both pixel values and metadata.\n\nhttps://gist.github.com/kapadia/0f81ea84bc176aef4516\n\n`gdalinfo` on the input file shows:\n\n```\nPROJCS[\"WGS 84 / Pseudo-Mercator\",\n    GEOGCS[\"WGS 84\",\n        DATUM[\"WGS_1984\",\n            SPHEROID[\"WGS 84\",6378137,298.257223563,\n                AUTHORITY[\"EPSG\",\"7030\"]],\n            AUTHORITY[\"EPSG\",\"6326\"]],\n        PRIMEM[\"Greenwich\",0],\n        UNIT[\"degree\",0.0174532925199433],\n        AUTHORITY[\"EPSG\",\"4326\"]]\n```\n\n`gdalinfo` on the output file:\n\n```\nPROJCS[\"unnamed\",\n    GEOGCS[\"unnamed ellipse\",\n        DATUM[\"unknown\",\n            SPHEROID[\"unnamed\",6378137,0]],\n        PRIMEM[\"Greenwich\",0],\n        UNIT[\"degree\",0.0174532925199433]]\n```\n\nLooks like a few methods from [`ogr_srs_api.h`](http://www.gdal.org/ogr__srs__api_8h.html) need to be wrapped.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/102/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/93", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/93/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/93/events", "html_url": "https://github.com/rasterio/rasterio/issues/93", "id": 35434929, "node_id": "MDU6SXNzdWUzNTQzNDkyOQ==", "number": 93, "title": "window() slice need a reality check", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/rasterio/rasterio/milestones/7", "html_url": "https://github.com/rasterio/rasterio/milestone/7", "labels_url": "https://api.github.com/repos/rasterio/rasterio/milestones/7/labels", "id": 647465, "node_id": "MDk6TWlsZXN0b25lNjQ3NDY1", "number": 7, "title": "0.9", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2014-05-02T21:14:52Z", "updated_at": "2014-09-02T15:28:06Z", "due_on": null, "closed_at": "2014-09-02T15:28:06Z"}, "comments": 0, "created_at": "2014-06-10T23:03:05Z", "updated_at": "2014-06-11T16:03:09Z", "closed_at": "2014-06-11T16:03:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Given a bounding box with world coordinates, the `window()` method returns a slice. If the bounding box overflows the dataset's bounds, the slice may have erroneously negative values and wrap unexpectedly. See\n\n```\n>>> left, bottom, right, top = src.bounds\n>>> left -= 1000\n>>> src.read_band(1, window=src.window(left, bottom, right, top))\narray([[0, 0, 0],\n       [0, 0, 0],\n       [0, 0, 0],\n       ...,\n       [0, 0, 0],\n       [0, 0, 0],\n       [0, 0, 0]], dtype=uint8)\n>>> src.window(left, bottom, right, top)\n((-0.0, 718.0), (-3.0, 791.0))\n```\n\nLet's check that the slice has the expected height/width and raise a ValueError if it does not.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/93/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/93/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/90", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/90/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/90/events", "html_url": "https://github.com/rasterio/rasterio/issues/90", "id": 34873706, "node_id": "MDU6SXNzdWUzNDg3MzcwNg==", "number": 90, "title": "Abort in destruction of transform options in reproject() on Ubuntu 14.04", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-06-03T15:19:46Z", "updated_at": "2014-06-03T15:21:59Z", "closed_at": "2014-06-03T15:21:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Not a problem with OS X.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/90/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/90/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/76", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/76/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/76/events", "html_url": "https://github.com/rasterio/rasterio/issues/76", "id": 32085012, "node_id": "MDU6SXNzdWUzMjA4NTAxMg==", "number": 76, "title": "Allow int and float values for creation options", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2014-04-23T18:10:55Z", "updated_at": "2014-04-23T20:56:29Z", "closed_at": "2014-04-23T20:56:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Explicitly converting with str() should fix this up.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/76/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/76/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/74", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/74/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/74/events", "html_url": "https://github.com/rasterio/rasterio/issues/74", "id": 32012477, "node_id": "MDU6SXNzdWUzMjAxMjQ3Nw==", "number": 74, "title": "Catch GDAL errors like CPLE_NotSupported", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2014-04-22T21:27:45Z", "updated_at": "2014-04-23T04:30:02Z", "closed_at": "2014-04-23T04:29:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For example, when trying to open a PNG in r+ mode, GDAL will report `ERROR:GDAL:CPLE_NotSupported in The PNG driver does not support update access to existing datasets.` but does not raise a Python exception. It should raise a Python exception. ValueError seems to be the right one.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/74/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/74/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/70", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/70/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/70/events", "html_url": "https://github.com/rasterio/rasterio/issues/70", "id": 31358594, "node_id": "MDU6SXNzdWUzMTM1ODU5NA==", "number": 70, "title": "Weird compression snag in 'w' mode", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2014-04-11T20:17:22Z", "updated_at": "2014-04-29T16:51:35Z", "closed_at": "2014-04-29T16:49:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In a dataset opened in 'w' mode with a compress='lzw' option, I've seen compression errors come up from GDAL. Work around is to compress with gdal_translate after the fact, but I'd like to get this fixed up in Rasterio.\n\nSee https://github.com/mapbox/satellite/issues/584 for background.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/70/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/70/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/54", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/54/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/54/events", "html_url": "https://github.com/rasterio/rasterio/issues/54", "id": 29865290, "node_id": "MDU6SXNzdWUyOTg2NTI5MA==", "number": 54, "title": "shapes(): transform arg has no effect", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2014-03-20T22:51:38Z", "updated_at": "2014-03-20T22:58:01Z", "closed_at": "2014-03-20T22:58:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Sharp-eyed people noticed this in my tech talk this morning.\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/54/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/54/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/rasterio/rasterio/issues/49", "repository_url": "https://api.github.com/repos/rasterio/rasterio", "labels_url": "https://api.github.com/repos/rasterio/rasterio/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/rasterio/rasterio/issues/49/comments", "events_url": "https://api.github.com/repos/rasterio/rasterio/issues/49/events", "html_url": "https://github.com/rasterio/rasterio/issues/49", "id": 29493574, "node_id": "MDU6SXNzdWUyOTQ5MzU3NA==", "number": 49, "title": "0.7.1 release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/rasterio/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2014-03-15T14:26:37Z", "updated_at": "2014-03-15T14:53:03Z", "closed_at": "2014-03-15T14:53:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "- [x] merge #48 \n- [x] update change log, version, readme\n- [x] tag\n- [x] upload to pypi\n", "reactions": {"url": "https://api.github.com/repos/rasterio/rasterio/issues/49/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/rasterio/rasterio/issues/49/timeline", "performed_via_github_app": null, "state_reason": "completed"}]